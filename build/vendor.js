/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;
}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),
void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});

/*! jQuery UI - v1.11.4 - 2015-03-11
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,s){var n,a,o,r=t.nodeName.toLowerCase();return"area"===r?(n=t.parentNode,a=n.name,t.href&&a&&"map"===n.nodeName.toLowerCase()?(o=e("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!t.disabled:"a"===r?t.href||s:s)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function s(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",o)}function o(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function r(t,i){e.extend(t,i);for(var s in i)null==i[s]&&(t[s]=i[s]);return t}function h(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),s="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return s&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var s=e.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function s(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){e(this).css(a,s(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){e(this).css(a,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,s,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,s){var n,a=e.ui[t].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(e,t,i,s){var n,a=e.plugins[t];if(a&&(s||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)e.options[a[n][0]]&&a[n][1].apply(e.element,i)}};var l=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}(),void 0):(h[t]=s,void 0)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,s,n=u.call(arguments,1),a=0,o=n.length;o>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,o=u.call(arguments,1),r=this;return a?this.each(function(){var i,a=e.data(this,s);return"instance"===n?(r=a,!1):a?e.isFunction(a[n])&&"_"!==n.charAt(0)?(i=a[n].apply(a,o),i!==a&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(o.length&&(n=e.widget.extend.apply(null,[n].concat(o))),this.each(function(){var t=e.data(this,s);t?(t.option(n||{}),t._init&&t._init()):e.data(this,s,new i(n,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function s(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,a,o=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return e("body").append(s),t=a.offsetWidth,s.css("overflow","scroll"),i=a.offsetWidth,t===i&&(i=s[0].clientWidth),s.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),s=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,a="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),s=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||n?i.width():i.outerWidth(),height:s||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return f.apply(this,arguments);n=e.extend({},n);var p,m,g,v,y,b,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),k=(n.collision||"flip").split(" "),T={};return b=s(_),_[0].preventDefault&&(n.at="left top"),m=b.width,g=b.height,v=b.offset,y=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=l.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=l.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),T[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===n.at[0]?y.left+=m:"center"===n.at[0]&&(y.left+=m/2),"bottom"===n.at[1]?y.top+=g:"center"===n.at[1]&&(y.top+=g/2),p=t(T.at,m,g),y.left+=p[0],y.top+=p[1],this.each(function(){var s,l,u=e(this),d=u.outerWidth(),c=u.outerHeight(),f=i(this,"marginLeft"),b=i(this,"marginTop"),D=d+f+i(this,"marginRight")+w.width,S=c+b+i(this,"marginBottom")+w.height,M=e.extend({},y),C=t(T.my,u.outerWidth(),u.outerHeight());"right"===n.my[0]?M.left-=d:"center"===n.my[0]&&(M.left-=d/2),"bottom"===n.my[1]?M.top-=c:"center"===n.my[1]&&(M.top-=c/2),M.left+=C[0],M.top+=C[1],a||(M.left=h(M.left),M.top=h(M.top)),s={marginLeft:f,marginTop:b},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](M,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:c,collisionPosition:s,collisionWidth:D,collisionHeight:S,offset:[p[0]+C[0],p[1]+C[1]],my:n.my,at:n.at,within:x,elem:u})}),n.using&&(l=function(e){var t=v.left-M.left,i=t+m-d,s=v.top-M.top,a=s+g-c,h={target:{element:_,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:M.left,top:M.top,width:d,height:c},horizontal:0>i?"left":t>0?"right":"center",vertical:0>a?"top":s>0?"bottom":"middle"};d>m&&m>r(t+i)&&(h.horizontal="center"),c>g&&g>r(s+a)&&(h.vertical="middle"),h.important=o(r(t),r(i))>o(r(s),r(a))?"horizontal":"vertical",n.using.call(this,e,h)}),u.offset(e.extend(M,{using:l}))})},e.ui.position={fit:{left:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=e.left-t.collisionPosition.marginLeft,h=n-r,l=r+t.collisionWidth-a-n;t.collisionWidth>a?h>0&&0>=l?(i=e.left+h+t.collisionWidth-a-n,e.left+=h-i):e.left=l>0&&0>=h?n:h>l?n+a-t.collisionWidth:n:h>0?e.left+=h:l>0?e.left-=l:e.left=o(e.left-r,e.left)},top:function(e,t){var i,s=t.within,n=s.isWindow?s.scrollTop:s.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,h=n-r,l=r+t.collisionHeight-a-n;t.collisionHeight>a?h>0&&0>=l?(i=e.top+h+t.collisionHeight-a-n,e.top+=h-i):e.top=l>0&&0>=h?n:h>l?n+a-t.collisionHeight:n:h>0?e.top+=h:l>0?e.top-=l:e.top=o(e.top-r,e.top)}},flip:{left:function(e,t){var i,s,n=t.within,a=n.offset.left+n.scrollLeft,o=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=e.left-t.collisionPosition.marginLeft,u=l-h,d=l+t.collisionWidth-o-h,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+c+p+f+t.collisionWidth-o-a,(0>i||r(u)>i)&&(e.left+=c+p+f)):d>0&&(s=e.left-t.collisionPosition.marginLeft+c+p+f-h,(s>0||d>r(s))&&(e.left+=c+p+f))},top:function(e,t){var i,s,n=t.within,a=n.offset.top+n.scrollTop,o=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-h,d=l+t.collisionHeight-o-h,c="top"===t.my[1],p=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-o-a,(0>s||r(u)>s)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-h,(i>0||d>r(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,n,o,r=document.getElementsByTagName("body")[0],h=document.createElement("div");t=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)t.style[o]=s[o];t.appendChild(h),i=r||document.documentElement,i.insertBefore(t,i.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",n=e(h).offset().left,a=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)),void 0)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,s=this.headers.length,n=this.headers.index(t.target),a=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:a=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:a=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:a=this.headers[0];break;case i.END:a=this.headers[s-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),s=t.next(),n=s.uniqueId().attr("id");t.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(t=n.height(),this.element.siblings(":visible").each(function(){var i=e(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n[0]===s[0],o=a&&i.collapsible,r=o?e():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:o?e():n,newPanel:r};t.preventDefault(),a&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=o?!1:this.headers.index(n),this.active=a?e():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,s=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,t):(s.hide(),i.show(),this._toggleComplete(t)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var s,n,a,o=this,r=0,h=e.css("box-sizing"),l=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=l&&u.down||u,c=function(){o._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(n=d),n=n||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(s=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:n,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(this.showProps,{duration:a,easing:n,complete:c,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(s-t.outerHeight()-r),r=0)}}),void 0):t.animate(this.hideProps,a,n,c):e.animate(this.showProps,a,n,c)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);
i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,s,n,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,s=this.previousFilter||"",n=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,s=this,n=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),s=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),t=a.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);s._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-s-n}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,void 0;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!s)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var c,p="ui-button ui-widget ui-state-default ui-corner-all",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,s=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?e(s).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,s="checkbox"===this.type||"radio"===this.type,n=s?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),s&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var s=t.element[0];g(s).not(s).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),c=this,t.document.one("mouseup",function(){c=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" ui-state-active "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(f),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),s=i.filter(":ui-button");i.not(":ui-button").button(),s.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return r(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var s,n,a;s=t.nodeName.toLowerCase(),n="div"===s||"span"===s,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),n),a.settings=e.extend({},i||{}),"input"===s?this._connectDatepicker(t,a):n&&this._inlineDatepicker(t,a)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var s=e(t);i.append=e([]),i.trigger=e([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var s,n,a,o=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[r?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&t.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),a=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:n,title:n}):n)),t[r?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,s,n,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(i=0,s=0,n=0;e.length>n;n++)e[n].length>i&&(i=e[n].length,s=n);return s},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,i){var s=e(t);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,s,n,a){var o,h,l,u,d,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),c=this._dialogInst=this._newInst(this._dialogInput,!1),c.settings={},e.data(this._dialogInput[0],"datepicker",c)),r(c.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(c,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,l/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var i,s=e(t),n=e.data(t,"datepicker");s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),v===n&&(v=null))},_enableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,s,n=e(t),a=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,s){var n,a,o,h,l=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):l?"all"===i?e.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),r(l.settings,n),null!==o&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,s,n,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),n[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,n[0]),i=e.datepicker._get(a,"onSelect"),i?(s=e.datepicker._formatDate(a),i.apply(a.input?a.input[0]:null,[s,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,s,n=e.datepicker._getInst(t.target);
return e.datepicker._get(n,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(t){var i,s=e.datepicker._getInst(t.target);if(s.input.val()!==s.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,e.datepicker._getFormatConfig(s)),i&&(e.datepicker._setDateFromField(s),e.datepicker._updateAlternate(s),e.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,n,a,o,h,l,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),n=e.datepicker._get(i,"beforeShow"),a=n?n.apply(t,[t,i]):{},a!==!1&&(r(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),o=!1,e(t).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),h={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),h=e.datepicker._checkOffset(i,h,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),i.inline||(l=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[l]?i.dpDiv.show(l,e.datepicker._get(i,"showOptions"),u):i.dpDiv[l||"show"](l?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,s=this._getNumberOfMonths(t),n=s[1],a=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),t.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,s){var n=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:e(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?n-o:0,i.left-=s&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=s&&i.top===t.input.offset().top+r?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+a>l&&l>a?Math.abs(a+r):0),i},_findPos:function(t){for(var i,s=this._getInst(t),n=this._get(s,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,s,n,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),s=this._get(o,"duration"),n=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),s,n):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),s=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==s)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,s){var n=e(t),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,i+("M"===s?this._get(a,"showCurrentAtPos"):0),s),this._updateDatepicker(a))},_gotoToday:function(t){var i,s=e(t),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(t,i,s){var n=e(t),a=this._getInst(n[0]);a["selected"+("M"===s?"Month":"Year")]=a["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(t,i,s,n){var a,o=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",n).html(),a.selectedMonth=a.currentMonth=i,a.selectedYear=a.currentYear=s,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var s,n=e(t),a=this._getInst(n[0]);i=null!=i?i:this._formatDate(a),a.input&&a.input.val(i),this._updateAlternate(a),s=this._get(a,"onSelect"),s?s.apply(a.input?a.input[0]:null,[i,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,s,n,a=this._get(t,"altField");a&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t)),e(a).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,s){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,a,o,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,c=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,_=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},x=function(e){var t=_(e),s="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n="y"===e?s:1,a=RegExp("^\\d{"+n+","+s+"}"),o=i.substring(h).match(a);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},w=function(t,s,n){var a=-1,o=e.map(_(t)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var s=t[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(a=t[0],h+=s.length,!1):void 0}),-1!==a)return a+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==t.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;t.length>n;n++)if(b)"'"!==t.charAt(n)||_("'")?k():b=!1;else switch(t.charAt(n)){case"d":v=x("d");break;case"D":w("D",d,c);break;case"o":y=x("o");break;case"m":g=x("m");break;case"M":g=w("M",p,f);break;case"y":m=x("y");break;case"@":r=new Date(x("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((x("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(i.length>h&&(o=i.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),y>-1)for(g=1,v=y;;){if(a=this._getDaysInMonth(m,g-1),a>=v)break;g++,v-=a}if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,a=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},l=function(e,t,i){var s=""+t;if(h(e))for(;i>s.length;)s="0"+s;return s},u=function(e,t,i,s){return h(e)?s[t]:i[t]},d="",c=!1;if(t)for(s=0;e.length>s;s++)if(c)"'"!==e.charAt(s)||h("'")?d+=e.charAt(s):c=!1;else switch(e.charAt(s)){case"d":d+=l("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),n,a);break;case"o":d+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=l("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,r);break;case"y":d+=h("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?d+="'":c=!0;break;default:d+=e.charAt(s)}return d},_possibleChars:function(e){var t,i="",s=!1,n=function(i){var s=e.length>t+1&&e.charAt(t+1)===i;return s&&t++,s};for(t=0;e.length>t;t++)if(s)"'"!==e.charAt(t)||n("'")?i+=e.charAt(t):s=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),s=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),a=n,o=this._getFormatConfig(e);try{a=this.parseDate(i,s,o)||n}catch(r){s=t?"":s}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=s?a.getDate():0,e.currentMonth=s?a.getMonth():0,e.currentYear=s?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,s){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=n.getFullYear(),o=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10),r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=h.exec(i)}return new Date(a,o,r)},o=null==i||""===i?s:"string"==typeof i?a(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return o=o&&"Invalid Date"==""+o?s:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var s=!t,n=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),n===e.selectedMonth&&a===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),s="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(s,-i,"M")},next:function(){e.datepicker._adjustDate(s,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(s)},selectDay:function(){return e.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(s,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,s,n,a,o,r,h,l,u,d,c,p,f,m,g,v,y,b,_,x,w,k,T,D,S,M,C,N,A,P,I,H,z,F,E,O,j,W,L=new Date,R=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),J=this._get(e,"hideIfNoPrevNext"),q=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),Q=1!==K[0]||1!==K[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),$=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,et=e.drawYear;if(0>Z&&(Z+=12,et--),$)for(t=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-K[0]*K[1]+1,$.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-U,1)),this._getFormatConfig(e)):i,s=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":J?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(e,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z+U,1)),this._getFormatConfig(e)):n,a=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":J?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",o=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:R,o=q?this.formatDate(o,r,this._getFormatConfig(e)):o,h=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":h)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),c=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),_="",w=0;K[0]>w;w++){for(k="",this.maxRows=4,T=0;K[1]>T;T++){if(D=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),S=" ui-corner-all",M="",Q){if(M+="<div class='ui-datepicker-group",K[1]>1)switch(T){case 0:M+=" ui-datepicker-group-first",S=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:M+=" ui-datepicker-group-last",S=" ui-corner-"+(Y?"left":"right");break;default:M+=" ui-datepicker-group-middle",S=""}M+="'>"}for(M+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?Y?a:s:"")+(/all|right/.test(S)&&0===w?Y?s:a:"")+this._generateMonthYearHeader(e,Z,et,X,$,w>0||T>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",C=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)N=(x+u)%7,C+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+c[N]+"'>"+p[N]+"</span></th>";for(M+=C+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),P=(this._getFirstDayOfMonth(et,Z)-u+7)%7,I=Math.ceil((P+A)/7),H=Q?this.maxRows>I?this.maxRows:I:I,this.maxRows=H,z=this._daylightSavingAdjust(new Date(et,Z,1-P)),F=0;H>F;F++){for(M+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(z)+"</td>":"",x=0;7>x;x++)O=g?g.apply(e.input?e.input[0]:null,[z]):[!0,""],j=z.getMonth()!==Z,W=j&&!y||!O[0]||X&&X>z||$&&z>$,E+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(j?" ui-datepicker-other-month":"")+(z.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===z.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(j&&!v?"":" "+O[1]+(z.getTime()===G.getTime()?" "+this._currentClass:"")+(z.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(j&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+z.getMonth()+"' data-year='"+z.getFullYear()+"'")+">"+(j&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+z.getDate()+"</span>":"<a class='ui-state-default"+(z.getTime()===R.getTime()?" ui-state-highlight":"")+(z.getTime()===G.getTime()?" ui-state-active":"")+(j?" ui-priority-secondary":"")+"' href='#'>"+z.getDate()+"</a>")+"</td>",z.setDate(z.getDate()+1),z=this._daylightSavingAdjust(z);M+=E+"</tr>"}Z++,Z>11&&(Z=0,et++),M+="</tbody></table>"+(Q?"</div>"+(K[0]>0&&T===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=M}_+=k}return _+=l,e._keyEvent=!1,_},_generateMonthYearHeader:function(e,t,i,s,n,a,o,r){var h,l,u,d,c,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(a||!g)_+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!h||u>=s.getMonth())&&(!l||n.getMonth()>=u)&&(_+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");_+="</select>"}if(y||(b+=_+(!a&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(e,"yearRange").split(":"),c=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?c+parseInt(e,10):parseInt(e,10);return isNaN(t)?c:t},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!a&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(e,t,i){var s=e.drawYear+("Y"===i?t:0),n=e.drawMonth+("M"===i?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,n))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,n,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),n=i&&i>t?i:t;return s&&n>s?s:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,s){var n=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(i,s+(0>t?t:n[0]*n[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var i,s,n=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,r=null,h=this._get(e,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),o=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||t.getTime()>=n.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(s){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper),n=s?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),s=i[0],s&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)
},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=e.pageX,l=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,s){var n=e.extend({},i,{item:s.element});s.sortables=[],e(s.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,s){var n=e.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,e.each(s.sortables,function(){var e=this;e.isOver?(e.isOver=0,s.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,s){e.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(n=!1),n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",t),s.dropped=a.element,e.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(t),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(t),i.position=s._generatePosition(t,!0),s._trigger("fromSortable",t),s.dropped=!1,e.each(s.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,s){var n=e("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(t,i,s){var n=s.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(t,i,s){var n=s.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:t.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:t.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,s){var n=s.options;s.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,s){var n,a,o,r,h,l,u,d,c,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,y=i.offset.top,b=y+s.helperProportions.height;for(c=s.snapElements.length-1;c>=0;c--)h=s.snapElements[c].left-s.margins.left,l=h+s.snapElements[c].width,u=s.snapElements[c].top-s.margins.top,d=u+s.snapElements[c].height,h-m>v||g>l+m||u-m>b||y>d+m||!e.contains(s.snapElements[c].item.ownerDocument,s.snapElements[c].item)?(s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(d-y),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-y),a=m>=Math.abs(d-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[c].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=n||a||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,s){var n,a=s.options,o=e.makeArray(e(a.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,s){var n=e(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(t,i,s){var n=s.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[s]>0?!0:(t[s]=1,n=t[s]>0,t[s]=0,n)},_create:function(){var t,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),a="ui-resizable-"+s,n=e("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(t){var i,s,n,a;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=e(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,s,n=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,s,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),a.containment&&(i+=e(a.containment).scrollLeft()||0,s+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,s,n=this.originalMousePosition,a=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,h=this._change[a];return this._updatePrevProperties(),h?(i=h.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,a=s?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-n},r=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(o,{top:h,left:r})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,s,n,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,n=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),s>a.minHeight&&(a.minHeight=s),a.maxWidth>i&&(a.maxWidth=i),a.maxHeight>n&&(a.maxHeight=n)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,s=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===s&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===s&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,s=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,l=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),s&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),a&&l&&(e.left=r-t.minWidth),s&&l&&(e.left=r-t.maxWidth),o&&u&&(e.top=h-t.minHeight),n&&u&&(e.top=h-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],s=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(s[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},sw:function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},ne:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},nw:function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{top:u,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,s,n,a,o,r,h=e(this).resizable("instance"),l=h.options,u=h.element,d=l.containment,c=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;c&&(h.containerElement=e(c),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(c),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,s){i[e]=h._num(t.css("padding"+s))}),h.containerOffset=t.offset(),h.containerPosition=t.position(),h.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,a=h.containerSize.width,o=h._hasScroll(c,"left")?c.scrollWidth:a,r=h._hasScroll(c)?c.scrollHeight:n,h.parentData={element:c,left:s.left,top:s.top,width:o,height:r}))},resize:function(t){var i,s,n,a,o=e(this).resizable("instance"),r=o.options,h=o.containerOffset,l=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},c=o.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(d=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?h.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-h.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-h.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,s=t.containerOffset,n=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),h=o.outerWidth()-t.sizeDiff.width,l=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l}),t._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var s=e(this).resizable("instance"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),s=e(this).data("ui-resizable-alsoresize"),n={},a=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var i=(s[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),s=i.options,n=i.size,a=i.originalSize,o=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,u=h[1]||1,d=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/u)*u,p=a.width+d,f=a.height+c,m=s.maxWidth&&p>s.maxWidth,g=s.maxHeight&&f>s.maxHeight,v=s.minWidth&&s.minWidth>p,y=s.minHeight&&s.minHeight>f;s.grid=h,v&&(p+=l),y&&(f+=u),m&&(p-=l),g&&(f-=u),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=o.top-c):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=o.left-d):((0>=f-u||0>=p-l)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=o.top-c):(f=u-t.height,i.size.height=f,i.position.top=o.top+a.height-f),p-l>0?(i.size.width=p,i.position.left=o.left-d):(p=l-t.width,i.size.width=p,i.position.left=o.left+a.width-p))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),s=!0),s&&!i&&this._trigger("focus",t),s},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;
if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==s[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){s.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(i,function(i,s){var n,a;s=e.isFunction(s)?{click:s,text:i}:s,s=e.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(t.element[0],arguments)},a={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,e("<button></button>",s).button(a).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,t(n))},drag:function(e,s){i._trigger("drag",e,t(s))},stop:function(n,a){var o=a.offset.left-i.document.scrollLeft(),r=a.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" "+"top"+(r>=0?"+":"")+r,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,s=this.options,n=s.resizable,a=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(s,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,t(n))},resize:function(e,s){i._trigger("resize",e,t(s))},stop:function(n,a){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),h=o.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(s=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,s,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(s=n.is(":data(ui-resizable)"),s&&!t&&n.resizable("destroy"),s&&"string"==typeof t&&n.resizable("option","handles",t),s||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),e=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),t=Math.max(0,s.minHeight-e),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-e):"none","auto"===s.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(s)?s:function(e){return e.is(s)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var s=e.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var s=i||e.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,s,n){if(!i.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,h=o+t.helperProportions.height,l=i.offset.left,u=i.offset.top,d=l+i.proportions().width,c=u+i.proportions().height;switch(s){case"fit":return a>=l&&d>=r&&o>=u&&c>=h;case"intersect":return a+t.helperProportions.width/2>l&&d>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>u&&c>h-t.helperProportions.height/2;case"pointer":return e(n.pageY,u,i.proportions().height)&&e(n.pageX,l,i.proportions().width);case"touch":return(o>=u&&c>=o||h>=u&&c>=h||u>o&&h>c)&&(a>=l&&d>=a||r>=l&&d>=r||l>a&&r>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var s,n,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||t&&!a[s].accept.call(a[s].element[0],t.currentItem||t.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue e}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=e.ui.intersect(t,this,this.options.tolerance,i),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===n}),a.length&&(s=e(a[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable;var y="ui-effects-",b=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var s=d[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(e,a){var o,r=a.re.exec(i),h=r&&a.parse(r),l=a.space||"rgba";return h?(o=s[l](h),s[u[l].cache]=o[u[l].cache],n=s._rgba=o._rgba,!1):t}),n.length?("0,0,0,0"===n.join()&&e.extend(n,a.transparent),s):a[i]}function n(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(n,o,r,h){if(n===t)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=e(n).css(o),o=t);var d=this,c=e.type(n),p=this._rgba=[];return o!==t&&(n=[n,o,r,h],c="array"),"string"===c?this.parse(s(n)||a._default):"array"===c?(f(u.rgba.props,function(e,t){p[t.idx]=i(n[t.idx],t)}),this):"object"===c?(n instanceof l?f(u,function(e,t){n[t.cache]&&(d[t.cache]=n[t.cache].slice())}):f(u,function(t,s){var a=s.cache;f(s.props,function(e,t){if(!d[a]&&s.to){if("alpha"===e||null==n[e])return;d[a]=s.to(d._rgba)}d[a][t.idx]=i(n[e],t,!0)}),d[a]&&0>e.inArray(null,d[a].slice(0,3))&&(d[a][3]=1,s.from&&(d._rgba=s.from(d[a])))}),this):t},is:function(e){var i=l(e),s=!0,n=this;return f(u,function(e,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(e,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:t})),s}),s},_space:function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var s=l(e),n=s._space(),a=u[n],o=0===this.alpha()?l("transparent"):this,r=o[a.cache]||a.to(o._rgba),h=r.slice();return s=s[a.cache],f(a.props,function(e,n){var a=n.idx,o=r[a],l=s[a],u=d[n.type]||{};null!==l&&(null===o?h[a]=l:(u.mod&&(l-o>u.mod/2?o+=u.mod:o-l>u.mod/2&&(o-=u.mod)),h[a]=i((l-o)*t+o,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(t)._rgba;return l(e.map(i,function(e,t){return(1-s)*n[t]+s*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,n=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(s,n,a),h=Math.min(s,n,a),l=r-h,u=r+h,d=.5*u;return t=h===r?0:s===r?60*(n-a)/l+360:n===r?60*(a-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=d?l/u:l/(2-u),[Math.round(t)%360,i,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],a=e[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,t+1/3)),Math.round(255*n(r,o,t)),Math.round(255*n(r,o,t-1/3)),a]},f(u,function(s,n){var a=n.props,o=n.cache,h=n.to,u=n.from;l.fn[s]=function(s){if(h&&!this[o]&&(this[o]=h(this._rgba)),s===t)return this[o].slice();var n,r=e.type(s),d="array"===r||"object"===r?s:arguments,c=this[o].slice();return f(a,function(e,t){var s=d["object"===r?e:t.idx];null==s&&(s=c[t.idx]),c[t.idx]=i(s,t)}),u?(n=l(u(c)),n[o]=c,n):l(c)},f(a,function(t,i){l.fn[t]||(l.fn[t]=function(n){var a,o=e.type(n),h="alpha"===t?this._hsla?"hsla":"rgba":s,l=this[h](),u=l[i.idx];return"undefined"===o?u:("function"===o&&(n=n.call(this,u),o=e.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=u+parseFloat(a[2])*("+"===a[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,n){var a,o,r="";if("transparent"!==n&&("string"!==e.type(n)||(a=s(n)))){if(n=l(a||n),!c.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=e.css(o,"backgroundColor"),o=o.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[i]=n}catch(h){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=l(t.elem,i),t.end=l(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(b),function(){function t(t){var i,s,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[e.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function i(t,i){var s,a,o={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(o[s]=a));return o}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(b.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,a,o,r){var h=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr("class")||"",l=h.children?o.find("*").addBack():o;l=l.map(function(){var i=e(this);return{el:i,start:t(this)}}),a=function(){e.each(s,function(e,t){n[t]&&o[t+"Class"](n[t])})},a(),l=l.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),o.attr("class",r),l=l.map(function(){var t=this,i=e.Deferred(),s=e.extend({},h,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,l.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),h.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,s,n,a){return s?e.effects.animateClass.call(this,{add:i},s,n,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,s,n,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},s,n,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,s,n,a,o){return"boolean"==typeof s||void 0===s?n?e.effects.animateClass.call(this,s?{add:i}:{remove:i},n,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},s,n,a)}}(e.fn.toggleClass),switchClass:function(t,i,s,n,a){return e.effects.animateClass.call(this,{add:i,remove:t},s,n,a)}})}(),function(){function t(t,i,s,n){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(n=s,s=i,i={}),e.isFunction(s)&&(n=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=n||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(y+t[i],e[0].style[t[i]])},restore:function(e,t){var i,s;for(s=0;t.length>s;s++)null!==t[s]&&(i=e.data(y+t[s]),void 0===i&&(i=""),e.css(t[s],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return t.wrap(s),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),s=t.parent(),"static"===t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(n),s.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,s,n){return n=n||{},e.each(i,function(e,i){var a=t.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(a)&&a.call(n[0]),e.isFunction(t)&&t()}var n=e(this),a=s.complete,r=s.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),i()):o.call(n[0],s,i)}var s=t.apply(this,arguments),n=s.mode,a=s.queue,o=e.effects.effect[s.effect];return e.fx.off||!o?n?this[n](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):a===!1?this.each(i):this.queue(a||"fx",i)},show:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(e.fn.show),hide:function(e){return function(s){if(i(s))return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(e.fn.hide),toggle:function(e){return function(s){if(i(s)||"boolean"==typeof s)return e.apply(this,arguments);var n=t.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var s,n,a,o=e(this),r=/up|down|vertical/,h=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(o,t.mode||"hide"),d=t.direction||"up",c=r.test(d),p=c?"height":"width",f=c?"top":"left",m=h.test(d),g={},v="show"===u;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),l):e.effects.save(o,l),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?n:0,m||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:n+a),v&&(s.css(p,0),m||s.css(f,a+n)),s.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&o.hide(),e.effects.restore(o,l),e.effects.removeWrapper(o),i()}})},e.effects.effect.bounce=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"effect"),l="hide"===h,u="show"===h,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||l?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=o.queue(),_=b.length;for((u||l)&&r.push("opacity"),e.effects.save(o,r),o.show(),e.effects.createWrapper(o),c||(c=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,y?2*-c:2*c).animate(a,m,g)),l&&(c/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g).animate(a,m,g),c=l?2*c:c/2;l&&(n={opacity:0},n[v]=(y?"-=":"+=")+c,o.animate(n,m,g)),o.queue(function(){l&&o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),o.dequeue()},e.effects.effect.clip=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","height","width"],h=e.effects.setMode(o,t.mode||"hide"),l="show"===h,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(o,r),o.show(),s=e.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[c](),l&&(n.css(c,0),n.css(p,a/2)),f[c]=l?a:0,f[p]=l?0:a/2,n.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){l||o.hide(),e.effects.restore(o,r),e.effects.removeWrapper(o),i()}})},e.effects.effect.drop=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(n,t.mode||"hide"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h?"pos":"neg",d={opacity:r?1:0};e.effects.save(n,a),n.show(),e.effects.createWrapper(n),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===u?-s:s),d[l]=(r?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&n()}function n(){p.css({visibility:"visible"}),e(b).remove(),m||p.hide(),i()}var a,o,r,h,l,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(a=0;d>a;a++)for(h=g.top+a*y,u=a-(d-1)/2,o=0;c>o;o++)r=g.left+o*v,l=o-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?l*v:0),top:h+(m?u*y:0),opacity:m?0:1}).animate({left:r+(m?0:l*v),top:h+(m?0:u*y),opacity:m?1:0},t.duration||500,t.easing,s)},e.effects.effect.fade=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var s,n,a=e(this),o=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"hide"),h="show"===r,l="hide"===r,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=h!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(a,o),a.show(),s=e.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*n[l?0:1]),h&&s.css(c?{height:0,width:u}:{height:u,width:0}),g[f[0]]=h?n[0]:u,v[f[1]]=h?n[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){l&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()})},e.effects.effect.highlight=function(t,i){var s=e(this),n=["backgroundImage","backgroundColor","opacity"],a=e.effects.setMode(s,t.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),e.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,n),i()}})},e.effects.effect.size=function(t,i){var s,n,a,o=e(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),y=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===p?(o.from=t.to||b,o.to=t.from||s):(o.from=t.from||("show"===p?b:s),o.to=t.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===m||"both"===m)&&(a.from.y!==a.to.y&&(y=y.concat(d),o.from=e.effects.setTransition(o,d,a.from.y,o.from),o.to=e.effects.setTransition(o,d,a.to.y,o.to)),a.from.x!==a.to.x&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,a.from.x,o.from),o.to=e.effects.setTransition(o,c,a.to.x,o.to))),("content"===m||"both"===m)&&a.from.y!==a.to.y&&(y=y.concat(u).concat(l),o.from=e.effects.setTransition(o,u,a.from.y,o.from),o.to=e.effects.setTransition(o,u,a.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(n=e.effects.getBaseline(g,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=r.concat(d).concat(c),o.find("*[width]").each(function(){var i=e(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};
f&&e.effects.save(i,l),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=e.effects.setTransition(i,d,a.from.y,i.from),i.to=e.effects.setTransition(i,d,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=e.effects.setTransition(i,c,a.from.x,i.from),i.to=e.effects.setTransition(i,c,a.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),e.effects.restore(o,y),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var s=parseInt(i,10),n=e?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),e.effects.removeWrapper(o),i()}})},e.effects.effect.scale=function(t,i){var s=e(this),n=e.extend(!0,{},t),a=e.effects.setMode(s,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===a?0:100),r=t.direction||"both",h=t.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},u={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=h||["middle","center"],n.restore=!0),n.from=t.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*u.y,width:l.width*u.x,outerHeight:l.outerHeight*u.y,outerWidth:l.outerWidth*u.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},e.effects.effect.puff=function(t,i){var s=e(this),n=e.effects.setMode(s,t.mode||"hide"),a="hide"===n,o=parseInt(t.percent,10)||150,r=o/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(t)},e.effects.effect.pulsate=function(t,i){var s,n=e(this),a=e.effects.setMode(n,t.mode||"show"),o="show"===a,r="hide"===a,h=o||"hide"===a,l=2*(t.times||5)+(h?1:0),u=t.duration/l,d=0,c=n.queue(),p=c.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),d=1),s=1;l>s;s++)n.animate({opacity:d},u,t.easing),d=1-d;n.animate({opacity:d},u,t.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,l+1))),n.dequeue()},e.effects.effect.shake=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"effect"),r=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=n.queue(),y=v.length;for(e.effects.save(n,a),n.show(),e.effects.createWrapper(n),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,n.animate(f,d,t.easing),s=1;l>s;s++)n.animate(m,d,t.easing).animate(g,d,t.easing);n.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),n.dequeue()},e.effects.effect.slide=function(t,i){var s,n=e(this),a=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(n,t.mode||"show"),r="show"===o,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(n,a),n.show(),s=t.distance||n["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(r?u?"+=":"-=":u?"-=":"+=")+s,n.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),i()}})},e.effects.effect.transfer=function(t,i){var s=e(this),n=e(t.to),a="fixed"===n.css("position"),o=e("body"),r=a?o.scrollTop():0,h=a?o.scrollLeft():0,l=n.offset(),u={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-r,left:d.left-h,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,s=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,t.metaKey||t.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().addBack().each(function(){var s,n=e.data(this,"selectable-item");return n?(s=!t.metaKey&&!t.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",t,{selecting:n.element}):i._trigger("unselecting",t,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,h=t.pageY;return a>r&&(i=r,r=a,a=i),o>h&&(i=h,h=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:h-o}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||a>i.right||i.top>h||o>i.bottom):"fit"===n.tolerance&&(l=i.left>a&&r>i.right&&i.top>o&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var s=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&s.index!==t.focusIndex&&(t._trigger("focus",e,{item:s}),t.isOpen||t._select(s,e)),t.focusIndex=s.index,t.button.attr("aria-activedescendant",t.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var s=this,n="";e.each(i,function(i,a){a.optgroup!==n&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),n=a.optgroup),s._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var s=e("<li>");return i.disabled&&s.addClass("ui-state-disabled"),this._setText(s,i.label),s.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),n+=":not(.ui-state-disabled)"),s="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](n).eq(-1):i[e+"All"](n).eq(0),s.length&&this.menuInstance.focus(t,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,s){var n=e(s),a=n.parent("optgroup");i.push({element:n,index:t,value:n.val(),label:n.text(),optgroup:a.attr("label")||"",disabled:a.prop("disabled")||n.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),t=n.length;i>t;t++)o.push(a);this.handles=n.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,a,o,r,h,l,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(s-u.values(t));(n>i||n===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(n=i,a=e(this),o=t)}),r=this._start(t,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-h.left-a.width()/2,top:t.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,s,n,a;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>s||1===t&&s>i)&&(i=s),i!==this.values(t)&&(n=this.values(),n[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:n}),s=this.values(t?0:1),a!==!1&&this.values(t,i))):i!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:i}),a!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var s,n,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,i){var s,n=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,s=e-i;return 2*Math.abs(i)>=t&&(s+=i>0?t:-t),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,s=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=s+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(t){var i,s,n,a,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,o),i===!1))return}switch(a=this.options.step,s=n=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-a)}this._slide(t,o,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,n=!1,a=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+"-item")===a?(s=e(this),!1):void 0}),e.data(t.target,a.widgetName+"-item")===a&&(s=e(t.target)),s?!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,s){var n,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));
return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,n,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],a=this._intersectsWithPointer(s),a&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==n&&!e.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],n):!0)){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,h=r+e.height,l=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s+l>r&&h>s+l,c="y"===this.options.axis||t+u>a&&o>t+u,p=d&&c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>a&&o>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),s=t&&i,n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===n?2:1:n&&("down"===n?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&t||"up"===s&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){r.push(this)}var s,n,a,o,r=[],h=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(a=e(l[s],this.document[0]),n=a.length-1;n>=0;n--)o=e.data(a[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&h.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(h.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,n,a,o,r,h,l,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(i=c.length-1;i>=0;i--)for(n=e(c[i],this.document[0]),s=n.length-1;s>=0;s--)a=e.data(n[s],this.widgetFullName),a&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(i=d.length-1;i>=0;i--)for(o=d[i][1],r=d[i][0],s=0,l=r.length;l>s;s++)h=e(r[s]),h.data(this.widgetName+"-item",o),u.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,a;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=n.outerWidth(),s.height=n.outerHeight()),a=n.offset(),s.left=a.left,s.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)a=this.containers[i].element.offset(),this.containers[i].containerCache.left=a.left,this.containers[i].containerCache.top=a.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),n=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===s?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(n)):"tr"===s?t._createTrPlaceholder(t.currentItem,n):"img"===s&&n.attr("src",t.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(e,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var s=this;t.children().each(function(){e("<td>&#160;</td>",s.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,s,n,a,o,r,h,l,u,d,c=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(c&&e.contains(this.containers[i].element[0],c.element[0]))continue;c=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,a=null,u=c.floating||this._isFloating(this.currentItem),o=u?"left":"top",r=u?"width":"height",d=u?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[o],l=!1,t[d]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(t[d]-h)&&(n=Math.abs(t[d]-h),a=this.items[s],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=e(n.containment)[0],i=e(n.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n=this.options,a=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(e,t){function i(e,t,i){return function(s){i._trigger(e,s,t._uiHash(t))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)t||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(s=0;n.length>s;s++)n[s].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,s){var n=i.attr(s);void 0!==n&&n.length&&(t[s]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e),void 0)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:(this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,s=e.ui.keyCode;switch(t.keyCode){case s.UP:return this._repeat(null,1,t),!0;case s.DOWN:return this._repeat(null,-1,t),!0;case s.PAGE_UP:return this._repeat(null,i.page,t),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,s=this.options;return t=null!==s.min?s.min:0,i=e-t,i=Math.round(i/s.step)*s.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==s.max&&e>s.max?s.max:null!==s.min&&s.min>e?s.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,this.element.val(this._format(i)),void 0}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:h(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:h(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:h(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:h(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:h(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?(h(this._value).call(this,e),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,s;t=t.cloneNode(!1),i=t.href.replace(e,""),s=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return t.hash.length>1&&i===s}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===t&&(s&&this.tabs.each(function(i,n){return e(n).attr("aria-controls")===s?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:s++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:n=!1,s--;break;case e.ui.keyCode.END:s=this.anchors.length-1;break;case e.ui.keyCode.HOME:s=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}t.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function s(){return t>n&&(t=0),0>t&&(t=n),t}for(var n=this.tabs.length-1;-1!==e.inArray(s(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?(this._activate(t),void 0):"disabled"===e?(this._setupDisabled(t),void 0):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,s=this.anchors,n=this.panels;
this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,s){var n,a,o,r=e(s).uniqueId().attr("id"),h=e(s).closest("li"),l=h.attr("aria-controls");t._isLocal(s)?(n=s.hash,o=n.substring(1),a=t.element.find(t._sanitizeSelector(n))):(o=h.attr("aria-controls")||e({}).uniqueId()[0].id,n="#"+o,a=t.element.find(n),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[i-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":o,"aria-labelledby":r}),a.attr("aria-labelledby",r)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,s=0;i=this.tabs[s];s++)t===!0||-1!==e.inArray(s,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,s=this.element.parent();"fill"===t?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),s=t.css("position");"absolute"!==s&&"fixed"!==s&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,s=this.active,n=e(t.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?e():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):e(),u={oldTab:s,oldPanel:l,newTab:r?e():a,newPanel:h};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),l.length||h.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,i){function s(){a.running=!1,a._trigger("activate",t,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,s=this._findActive(t);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),a=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o},h=function(e,t){"abort"===t&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===s.xhr&&delete s.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),s._trigger("load",i,r),h(n,t)},1)}).fail(function(e,t){setTimeout(function(){h(e,t)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href"),beforeSend:function(t,a){return n._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:a},s))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var s=(t.attr("aria-describedby")||"").split(/\s+/);s.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(s.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),s=(t.attr("aria-describedby")||"").split(/\s+/),n=e.inArray(i,s);-1!==n&&s.splice(n,1),t.removeData("ui-tooltip-id"),s=e.trim(s.join(" ")),s?t.attr("aria-describedby",s):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var s=this;return"disabled"===t?(this[i?"_disable":"_enable"](),this.options[t]=i,void 0):(this._super(t,i),"content"===t&&e.each(this.tooltips,function(e,t){s._updateContent(t.element)}),void 0)},_disable:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur");n.target=n.currentTarget=s.element[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,s=e(t?t.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&s.parents().each(function(){var t,s=e(this);s.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(t,s),this._updateContent(s,t))},_updateContent:function(e,t){var i,s=this.options.content,n=this,a=t?t.type:null;return"string"==typeof s?this._open(t,e,s):(i=s.call(e[0],function(i){n._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,i))})}),i&&this._open(t,e,i),void 0)},_open:function(t,i,s){function n(e){l.of=e,o.is(":hidden")||o.position(l)}var a,o,r,h,l=e.extend({},this.options.position);if(s){if(a=this._find(i))return a.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),a=this._tooltip(i),o=a.tooltip,this._addDescribedBy(i,o.attr("id")),o.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),s.clone?(h=s.clone(),h.removeAttr("id").find("[id]").removeAttr("id")):h=s,e("<div>").html(h).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:n}),n(t)):o.position(e.extend({of:i},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(r))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,i){var s={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var s=e.Event(t);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(s.mouseleave="close"),t&&"focusin"!==t.type||(s.focusout="close"),this._on(!0,i,s)},close:function(t){var i,s=this,n=e(t?t.currentTarget:this.element),a=this._find(n);return a?(i=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(e(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete s.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:i}),a.hiding||(a.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),s=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[s]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,s){var n=e.Event("blur"),a=s.element;n.target=n.currentTarget=a[0],t.close(n,!0),e("#"+i).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});
/**
 * @license
 * lodash 3.10.0 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 * Build: `lodash modern -o ./lodash.js`
 */
;(function(){function n(n,t){if(n!==t){var r=null===n,e=n===w,u=n===n,o=null===t,i=t===w,f=t===t;if(n>t&&!o||!u||r&&!i&&f||e&&f)return 1;if(n<t&&!r||!f||o&&!e&&u||i&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return p(n,r);r-=1;for(var e=n.length;++r<e;)if(n[r]===t)return r;return-1}function e(n){return typeof n=="function"||false}function u(n){return null==n?"":n+""}function o(n,t){for(var r=-1,e=n.length;++r<e&&-1<t.indexOf(n.charAt(r)););
return r}function i(n,t){for(var r=n.length;r--&&-1<t.indexOf(n.charAt(r)););return r}function f(t,r){return n(t.a,r.a)||t.b-r.b}function a(n){return Nn[n]}function c(n){return Tn[n]}function l(n,t,r){return t?n=Bn[n]:r&&(n=Dn[n]),"\\"+n}function s(n){return"\\"+Dn[n]}function p(n,t,r){var e=n.length;for(t+=r?0:-1;r?t--:++t<e;){var u=n[t];if(u!==u)return t}return-1}function h(n){return!!n&&typeof n=="object"}function _(n){return 160>=n&&9<=n&&13>=n||32==n||160==n||5760==n||6158==n||8192<=n&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n);
}function v(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;)n[r]===t&&(n[r]=z,o[++u]=r);return o}function g(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function y(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function d(n){return Ln[n]}function m(_){function Nn(n){if(h(n)&&!(Oo(n)||n instanceof zn)){if(n instanceof Ln)return n;if(nu.call(n,"__chain__")&&nu.call(n,"__wrapped__"))return Mr(n)}return new Ln(n)}function Tn(){}function Ln(n,t,r){this.__wrapped__=n,this.__actions__=r||[],
this.__chain__=!!t}function zn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=false,this.__iteratees__=[],this.__takeCount__=Ru,this.__views__=[]}function Bn(){this.__data__={}}function Dn(n){var t=n?n.length:0;for(this.data={hash:gu(null),set:new lu};t--;)this.push(n[t])}function Mn(n,t){var r=n.data;return(typeof t=="string"||ge(t)?r.set.has(t):r.hash[t])?0:-1}function qn(n,t){var r=-1,e=n.length;for(t||(t=Be(e));++r<e;)t[r]=n[r];return t}function Pn(n,t){for(var r=-1,e=n.length;++r<e&&false!==t(n[r],r,n););
return n}function Kn(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return false;return true}function Vn(n,t){for(var r=-1,e=n.length,u=-1,o=[];++r<e;){var i=n[r];t(i,r,n)&&(o[++u]=i)}return o}function Gn(n,t){for(var r=-1,e=n.length,u=Be(e);++r<e;)u[r]=t(n[r],r,n);return u}function Jn(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function Xn(n,t,r,e){var u=-1,o=n.length;for(e&&o&&(r=n[++u]);++u<o;)r=t(r,n[u],u,n);return r}function Hn(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return true;
return false}function Qn(n,t,r,e){return n!==w&&nu.call(e,r)?n:t}function nt(n,t,r){for(var e=-1,u=zo(t),o=u.length;++e<o;){var i=u[e],f=n[i],a=r(f,t[i],i,n,t);(a===a?a===f:f!==f)&&(f!==w||i in n)||(n[i]=a)}return n}function tt(n,t){return null==t?n:et(t,zo(t),n)}function rt(n,t){for(var r=-1,e=null==n,u=!e&&Er(n),o=u?n.length:0,i=t.length,f=Be(i);++r<i;){var a=t[r];f[r]=u?Cr(a,o)?n[a]:w:e?w:n[a]}return f}function et(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var o=t[e];r[o]=n[o]}return r}function ut(n,t,r){
var e=typeof n;return"function"==e?t===w?n:Bt(n,t,r):null==n?Fe:"object"==e?bt(n):t===w?ze(n):xt(n,t)}function ot(n,t,r,e,u,o,i){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==w)return f;if(!ge(n))return n;if(e=Oo(n)){if(f=kr(n),!t)return qn(n,f)}else{var a=ru.call(n),c=a==K;if(a!=Z&&a!=B&&(!c||u))return Fn[a]?Rr(n,a,t):u?n:{};if(f=Ir(c?{}:n),!t)return tt(f,n)}for(o||(o=[]),i||(i=[]),u=o.length;u--;)if(o[u]==n)return i[u];return o.push(n),i.push(f),(e?Pn:_t)(n,function(e,u){f[u]=ot(e,t,r,u,n,o,i)}),f}function it(n,t,r){
if(typeof n!="function")throw new Ge(L);return su(function(){n.apply(w,r)},t)}function ft(n,t){var e=n?n.length:0,u=[];if(!e)return u;var o=-1,i=xr(),f=i==r,a=f&&t.length>=F&&gu&&lu?new Dn(t):null,c=t.length;a&&(i=Mn,f=false,t=a);n:for(;++o<e;)if(a=n[o],f&&a===a){for(var l=c;l--;)if(t[l]===a)continue n;u.push(a)}else 0>i(t,a,0)&&u.push(a);return u}function at(n,t){var r=true;return Su(n,function(n,e,u){return r=!!t(n,e,u)}),r}function ct(n,t,r,e){var u=e,o=u;return Su(n,function(n,i,f){i=+t(n,i,f),(r(i,u)||i===e&&i===o)&&(u=i,
o=n)}),o}function lt(n,t){var r=[];return Su(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function st(n,t,r,e){var u;return r(n,function(n,r,o){return t(n,r,o)?(u=e?r:n,false):void 0}),u}function pt(n,t,r,e){e||(e=[]);for(var u=-1,o=n.length;++u<o;){var i=n[u];h(i)&&Er(i)&&(r||Oo(i)||pe(i))?t?pt(i,t,r,e):Jn(e,i):r||(e[e.length]=i)}return e}function ht(n,t){Nu(n,t,Re)}function _t(n,t){return Nu(n,t,zo)}function vt(n,t){return Tu(n,t,zo)}function gt(n,t){for(var r=-1,e=t.length,u=-1,o=[];++r<e;){var i=t[r];
ve(n[i])&&(o[++u]=i)}return o}function yt(n,t,r){if(null!=n){r!==w&&r in Br(n)&&(t=[r]),r=0;for(var e=t.length;null!=n&&r<e;)n=n[t[r++]];return r&&r==e?n:w}}function dt(n,t,r,e,u,o){if(n===t)n=true;else if(null==n||null==t||!ge(n)&&!h(t))n=n!==n&&t!==t;else n:{var i=dt,f=Oo(n),a=Oo(t),c=D,l=D;f||(c=ru.call(n),c==B?c=Z:c!=Z&&(f=xe(n))),a||(l=ru.call(t),l==B?l=Z:l!=Z&&xe(t));var s=c==Z,a=l==Z,l=c==l;if(!l||f||s){if(!e&&(c=s&&nu.call(n,"__wrapped__"),a=a&&nu.call(t,"__wrapped__"),c||a)){n=i(c?n.value():n,a?t.value():t,r,e,u,o);
break n}if(l){for(u||(u=[]),o||(o=[]),c=u.length;c--;)if(u[c]==n){n=o[c]==t;break n}u.push(n),o.push(t),n=(f?yr:mr)(n,t,i,r,e,u,o),u.pop(),o.pop()}else n=false}else n=dr(n,t,c)}return n}function mt(n,t,r){var e=t.length,u=e,o=!r;if(null==n)return!u;for(n=Br(n);e--;){var i=t[e];if(o&&i[2]?i[1]!==n[i[0]]:!(i[0]in n))return false}for(;++e<u;){var i=t[e],f=i[0],a=n[f],c=i[1];if(o&&i[2]){if(a===w&&!(f in n))return false}else if(i=r?r(a,c,f):w,i===w?!dt(c,a,r,true):!i)return false}return true}function wt(n,t){var r=-1,e=Er(n)?Be(n.length):[];
return Su(n,function(n,u,o){e[++r]=t(n,u,o)}),e}function bt(n){var t=Ar(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null==n?false:n[r]===e&&(e!==w||r in Br(n))}}return function(n){return mt(n,t)}}function xt(n,t){var r=Oo(n),e=Wr(n)&&t===t&&!ge(t),u=n+"";return n=Dr(n),function(o){if(null==o)return false;var i=u;if(o=Br(o),!(!r&&e||i in o)){if(o=1==n.length?o:yt(o,Et(n,0,-1)),null==o)return false;i=Zr(n),o=Br(o)}return o[i]===t?t!==w||i in o:dt(t,o[i],w,true)}}function At(n,t,r,e,u){
if(!ge(n))return n;var o=Er(t)&&(Oo(t)||xe(t)),i=o?w:zo(t);return Pn(i||t,function(f,a){if(i&&(a=f,f=t[a]),h(f)){e||(e=[]),u||(u=[]);n:{for(var c=a,l=e,s=u,p=l.length,_=t[c];p--;)if(l[p]==_){n[c]=s[p];break n}var p=n[c],v=r?r(p,_,c,n,t):w,g=v===w;g&&(v=_,Er(_)&&(Oo(_)||xe(_))?v=Oo(p)?p:Er(p)?qn(p):[]:me(_)||pe(_)?v=pe(p)?ke(p):me(p)?p:{}:g=false),l.push(_),s.push(v),g?n[c]=At(v,_,r,l,s):(v===v?v!==p:p===p)&&(n[c]=v)}}else c=n[a],l=r?r(c,f,a,n,t):w,(s=l===w)&&(l=f),l===w&&(!o||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l);
}),n}function jt(n){return function(t){return null==t?w:t[n]}}function kt(n){var t=n+"";return n=Dr(n),function(r){return yt(r,n,t)}}function It(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Cr(e)){var u=e;pu.call(n,e,1)}}}function Rt(n,t){return n+yu(ku()*(t-n+1))}function Ot(n,t,r,e,u){return u(n,function(n,u,o){r=e?(e=false,n):t(r,n,u,o)}),r}function Et(n,t,r){var e=-1,u=n.length;for(t=null==t?0:+t||0,0>t&&(t=-t>u?0:u+t),r=r===w||r>u?u:+r||0,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,r=Be(u);++e<u;)r[e]=n[e+t];
return r}function Ct(n,t){var r;return Su(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Ut(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}function Wt(t,r,e){var u=wr(),o=-1;return r=Gn(r,function(n){return u(n)}),t=wt(t,function(n){return{a:Gn(r,function(t){return t(n)}),b:++o,c:n}}),Ut(t,function(t,r){var u;n:{for(var o=-1,i=t.a,f=r.a,a=i.length,c=e.length;++o<a;)if(u=n(i[o],f[o])){if(o>=c)break n;o=e[o],u*="asc"===o||true===o?1:-1;break n}u=t.b-r.b}return u})}function $t(n,t){
var r=0;return Su(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function St(n,t){var e=-1,u=xr(),o=n.length,i=u==r,f=i&&o>=F,a=f&&gu&&lu?new Dn(void 0):null,c=[];a?(u=Mn,i=false):(f=false,a=t?[]:c);n:for(;++e<o;){var l=n[e],s=t?t(l,e,n):l;if(i&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else 0>u(a,s,0)&&((t||f)&&a.push(s),c.push(l))}return c}function Ft(n,t){for(var r=-1,e=t.length,u=Be(e);++r<e;)u[r]=n[t[r]];return u}function Nt(n,t,r,e){for(var u=n.length,o=e?u:-1;(e?o--:++o<u)&&t(n[o],o,n););
return r?Et(n,e?0:o,e?o+1:u):Et(n,e?o+1:0,e?u:o)}function Tt(n,t){var r=n;r instanceof zn&&(r=r.value());for(var e=-1,u=t.length;++e<u;)var o=t[e],r=o.func.apply(o.thisArg,Jn([r],o.args));return r}function Lt(n,t,r){var e=0,u=n?n.length:e;if(typeof t=="number"&&t===t&&u<=Eu){for(;e<u;){var o=e+u>>>1,i=n[o];(r?i<=t:i<t)&&null!==i?e=o+1:u=o}return u}return zt(n,t,Fe,r)}function zt(n,t,r,e){t=r(t);for(var u=0,o=n?n.length:0,i=t!==t,f=null===t,a=t===w;u<o;){var c=yu((u+o)/2),l=r(n[c]),s=l!==w,p=l===l;
(i?p||e:f?p&&s&&(e||null!=l):a?p&&(e||s):null==l?0:e?l<=t:l<t)?u=c+1:o=c}return xu(o,Ou)}function Bt(n,t,r){if(typeof n!="function")return Fe;if(t===w)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,o){return n.call(t,r,e,u,o)};case 5:return function(r,e,u,o,i){return n.call(t,r,e,u,o,i)}}return function(){return n.apply(t,arguments)}}function Dt(n){var t=new ou(n.byteLength);return new hu(t).set(new hu(n)),
t}function Mt(n,t,r){for(var e=r.length,u=-1,o=bu(n.length-e,0),i=-1,f=t.length,a=Be(f+o);++i<f;)a[i]=t[i];for(;++u<e;)a[r[u]]=n[u];for(;o--;)a[i++]=n[u++];return a}function qt(n,t,r){for(var e=-1,u=r.length,o=-1,i=bu(n.length-u,0),f=-1,a=t.length,c=Be(i+a);++o<i;)c[o]=n[o];for(i=o;++f<a;)c[i+f]=t[f];for(;++e<u;)c[i+r[e]]=n[o++];return c}function Pt(n,t){return function(r,e,u){var o=t?t():{};if(e=wr(e,u,3),Oo(r)){u=-1;for(var i=r.length;++u<i;){var f=r[u];n(o,f,e(f,u,r),r)}}else Su(r,function(t,r,u){
n(o,t,e(t,r,u),u)});return o}}function Kt(n){return le(function(t,r){var e=-1,u=null==t?0:r.length,o=2<u?r[u-2]:w,i=2<u?r[2]:w,f=1<u?r[u-1]:w;for(typeof o=="function"?(o=Bt(o,f,5),u-=2):(o=typeof f=="function"?f:w,u-=o?1:0),i&&Ur(r[0],r[1],i)&&(o=3>u?w:o,u=1);++e<u;)(i=r[e])&&n(t,i,o);return t})}function Vt(n,t){return function(r,e){var u=r?Bu(r):0;if(!Sr(u))return n(r,e);for(var o=t?u:-1,i=Br(r);(t?o--:++o<u)&&false!==e(i[o],o,i););return r}}function Zt(n){return function(t,r,e){var u=Br(t);e=e(t);for(var o=e.length,i=n?o:-1;n?i--:++i<o;){
var f=e[i];if(false===r(u[f],f,u))break}return t}}function Yt(n,t){function r(){return(this&&this!==Zn&&this instanceof r?e:n).apply(t,arguments)}var e=Jt(n);return r}function Gt(n){return function(t){var r=-1;t=$e(Ce(t));for(var e=t.length,u="";++r<e;)u=n(u,t[r],r);return u}}function Jt(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:
return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=$u(n.prototype),t=n.apply(r,t);return ge(t)?t:r}}function Xt(n){function t(r,e,u){return u&&Ur(r,e,u)&&(e=w),r=gr(r,n,w,w,w,w,w,e),r.placeholder=t.placeholder,r}return t}function Ht(n,t){return le(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(w,r))})}function Qt(n,t){return function(r,e,u){if(u&&Ur(r,e,u)&&(e=w),e=wr(e,u,3),1==e.length){
u=r=Oo(r)?r:zr(r);for(var o=e,i=-1,f=u.length,a=t,c=a;++i<f;){var l=u[i],s=+o(l);n(s,a)&&(a=s,c=l)}if(u=c,!r.length||u!==t)return u}return ct(r,e,n,t)}}function nr(n,r){return function(e,u,o){return u=wr(u,o,3),Oo(e)?(u=t(e,u,r),-1<u?e[u]:w):st(e,u,n)}}function tr(n){return function(r,e,u){return r&&r.length?(e=wr(e,u,3),t(r,e,n)):-1}}function rr(n){return function(t,r,e){return r=wr(r,e,3),st(t,r,n,true)}}function er(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,o=Be(r);n?e--:++e<r;){
var i=o[u++]=arguments[e];if(typeof i!="function")throw new Ge(L);!t&&Ln.prototype.thru&&"wrapper"==br(i)&&(t=new Ln([],true))}for(e=t?-1:r;++e<r;){var i=o[e],u=br(i),f="wrapper"==u?zu(i):w;t=f&&$r(f[0])&&f[1]==(E|k|R|C)&&!f[4].length&&1==f[9]?t[br(f[0])].apply(t,f[3]):1==i.length&&$r(i)?t[u]():t.thru(i)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Oo(e)&&e.length>=F)return t.plant(e).value();for(var u=0,n=r?o[u].apply(this,n):e;++u<r;)n=o[u].call(this,n);return n}}}function ur(n,t){
return function(r,e,u){return typeof e=="function"&&u===w&&Oo(r)?n(r,e):t(r,Bt(e,u,3))}}function or(n){return function(t,r,e){return(typeof r!="function"||e!==w)&&(r=Bt(r,e,3)),n(t,r,Re)}}function ir(n){return function(t,r,e){return(typeof r!="function"||e!==w)&&(r=Bt(r,e,3)),n(t,r)}}function fr(n){return function(t,r,e){var u={};return r=wr(r,e,3),_t(t,function(t,e,o){o=r(t,e,o),e=n?o:e,t=n?t:o,u[e]=t}),u}}function ar(n){return function(t,r,e){return t=u(t),(n?t:"")+pr(t,r,e)+(n?"":t)}}function cr(n){
var t=le(function(r,e){var u=v(e,t.placeholder);return gr(r,n,w,e,u)});return t}function lr(n,t){return function(r,e,u,o){var i=3>arguments.length;return typeof e=="function"&&o===w&&Oo(r)?n(r,e,u,i):Ot(r,wr(e,o,4),u,i,t)}}function sr(n,t,r,e,u,o,i,f,a,c){function l(){for(var m=arguments.length,b=m,j=Be(m);b--;)j[b]=arguments[b];if(e&&(j=Mt(j,e,u)),o&&(j=qt(j,o,i)),_||y){var b=l.placeholder,k=v(j,b),m=m-k.length;if(m<c){var I=f?qn(f):w,m=bu(c-m,0),E=_?k:w,k=_?w:k,C=_?j:w,j=_?w:j;return t|=_?R:O,t&=~(_?O:R),
g||(t&=~(x|A)),j=[n,t,r,C,E,j,k,I,a,m],I=sr.apply(w,j),$r(n)&&Du(I,j),I.placeholder=b,I}}if(b=p?r:this,I=h?b[n]:n,f)for(m=j.length,E=xu(f.length,m),k=qn(j);E--;)C=f[E],j[E]=Cr(C,m)?k[C]:w;return s&&a<j.length&&(j.length=a),this&&this!==Zn&&this instanceof l&&(I=d||Jt(n)),I.apply(b,j)}var s=t&E,p=t&x,h=t&A,_=t&k,g=t&j,y=t&I,d=h?w:Jt(n);return l}function pr(n,t,r){return n=n.length,t=+t,n<t&&mu(t)?(t-=n,r=null==r?" ":r+"",Ue(r,vu(t/r.length)).slice(0,t)):""}function hr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=Be(c+f);++a<c;)l[a]=e[a];
for(;f--;)l[a++]=arguments[++t];return(this&&this!==Zn&&this instanceof u?i:n).apply(o?r:this,l)}var o=t&x,i=Jt(n);return u}function _r(n){var t=Pe[n];return function(n,r){return(r=r===w?0:+r||0)?(r=au(10,r),t(n*r)/r):t(n)}}function vr(n){return function(t,r,e,u){var o=wr(e);return null==e&&o===ut?Lt(t,r,n):zt(t,r,o(e,u,1),n)}}function gr(n,t,r,e,u,o,i,f){var a=t&A;if(!a&&typeof n!="function")throw new Ge(L);var c=e?e.length:0;if(c||(t&=~(R|O),e=u=w),c-=u?u.length:0,t&O){var l=e,s=u;e=u=w}var p=a?w:zu(n);
return r=[n,t,r,e,u,l,s,o,i,f],p&&(e=r[1],t=p[1],f=e|t,u=t==E&&e==k||t==E&&e==C&&r[7].length<=p[8]||t==(E|C)&&e==k,(f<E||u)&&(t&x&&(r[2]=p[2],f|=e&x?0:j),(e=p[3])&&(u=r[3],r[3]=u?Mt(u,e,p[4]):qn(e),r[4]=u?v(r[3],z):qn(p[4])),(e=p[5])&&(u=r[5],r[5]=u?qt(u,e,p[6]):qn(e),r[6]=u?v(r[5],z):qn(p[6])),(e=p[7])&&(r[7]=qn(e)),t&E&&(r[8]=null==r[8]?p[8]:xu(r[8],p[8])),null==r[9]&&(r[9]=p[9]),r[0]=p[0],r[1]=f),t=r[1],f=r[9]),r[9]=null==f?a?0:n.length:bu(f-c,0)||0,(p?Lu:Du)(t==x?Yt(r[0],r[2]):t!=R&&t!=(x|R)||r[4].length?sr.apply(w,r):hr.apply(w,r),r);
}function yr(n,t,r,e,u,o,i){var f=-1,a=n.length,c=t.length;if(a!=c&&(!u||c<=a))return false;for(;++f<a;){var l=n[f],c=t[f],s=e?e(u?c:l,u?l:c,f):w;if(s!==w){if(s)continue;return false}if(u){if(!Hn(t,function(n){return l===n||r(l,n,e,u,o,i)}))return false}else if(l!==c&&!r(l,c,e,u,o,i))return false}return true}function dr(n,t,r){switch(r){case M:case q:return+n==+t;case P:return n.name==t.name&&n.message==t.message;case V:return n!=+n?t!=+t:n==+t;case Y:case G:return n==t+""}return false}function mr(n,t,r,e,u,o,i){var f=zo(n),a=f.length,c=zo(t).length;
if(a!=c&&!u)return false;for(c=a;c--;){var l=f[c];if(!(u?l in t:nu.call(t,l)))return false}for(var s=u;++c<a;){var l=f[c],p=n[l],h=t[l],_=e?e(u?h:p,u?p:h,l):w;if(_===w?!r(p,h,e,u,o,i):!_)return false;s||(s="constructor"==l)}return s||(r=n.constructor,e=t.constructor,!(r!=e&&"constructor"in n&&"constructor"in t)||typeof r=="function"&&r instanceof r&&typeof e=="function"&&e instanceof e)?true:false}function wr(n,t,r){var e=Nn.callback||Se,e=e===Se?ut:e;return r?e(n,t,r):e}function br(n){for(var t=n.name,r=Wu[t],e=r?r.length:0;e--;){
var u=r[e],o=u.func;if(null==o||o==n)return u.name}return t}function xr(n,t,e){var u=Nn.indexOf||Vr,u=u===Vr?r:u;return n?u(n,t,e):u}function Ar(n){n=Oe(n);for(var t=n.length;t--;){var r=n[t][1];n[t][2]=r===r&&!ge(r)}return n}function jr(n,t){var r=null==n?w:n[t];return ye(r)?r:w}function kr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&nu.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Ir(n){return n=n.constructor,typeof n=="function"&&n instanceof n||(n=Ve),
new n}function Rr(n,t,r){var e=n.constructor;switch(t){case J:return Dt(n);case M:case q:return new e(+n);case X:case H:case Q:case nn:case tn:case rn:case en:case un:case on:return t=n.buffer,new e(r?Dt(t):t,n.byteOffset,n.length);case V:case G:return new e(n);case Y:var u=new e(n.source,kn.exec(n));u.lastIndex=n.lastIndex}return u}function Or(n,t,r){return null==n||Wr(t,n)||(t=Dr(t),n=1==t.length?n:yt(n,Et(t,0,-1)),t=Zr(t)),t=null==n?n:n[t],null==t?w:t.apply(n,r)}function Er(n){return null!=n&&Sr(Bu(n));
}function Cr(n,t){return n=typeof n=="number"||On.test(n)?+n:-1,t=null==t?Cu:t,-1<n&&0==n%1&&n<t}function Ur(n,t,r){if(!ge(r))return false;var e=typeof t;return("number"==e?Er(r)&&Cr(t,r.length):"string"==e&&t in r)?(t=r[t],n===n?n===t:t!==t):false}function Wr(n,t){var r=typeof n;return"string"==r&&dn.test(n)||"number"==r?true:Oo(n)?false:!yn.test(n)||null!=t&&n in Br(t)}function $r(n){var t=br(n);return t in zn.prototype?(t=Nn[t],n===t?true:(t=zu(t),!!t&&n===t[0])):false}function Sr(n){return typeof n=="number"&&-1<n&&0==n%1&&n<=Cu;
}function Fr(n,t){return n===w?t:Eo(n,t,Fr)}function Nr(n,t){n=Br(n);for(var r=-1,e=t.length,u={};++r<e;){var o=t[r];o in n&&(u[o]=n[o])}return u}function Tr(n,t){var r={};return ht(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function Lr(n){for(var t=Re(n),r=t.length,e=r&&n.length,u=!!e&&Sr(e)&&(Oo(n)||pe(n)),o=-1,i=[];++o<r;){var f=t[o];(u&&Cr(f,e)||nu.call(n,f))&&i.push(f)}return i}function zr(n){return null==n?[]:Er(n)?ge(n)?n:Ve(n):Ee(n)}function Br(n){return ge(n)?n:Ve(n)}function Dr(n){if(Oo(n))return n;
var t=[];return u(n).replace(mn,function(n,r,e,u){t.push(e?u.replace(An,"$1"):r||n)}),t}function Mr(n){return n instanceof zn?n.clone():new Ln(n.__wrapped__,n.__chain__,qn(n.__actions__))}function qr(n,t,r){return n&&n.length?((r?Ur(n,t,r):null==t)&&(t=1),Et(n,0>t?0:t)):[]}function Pr(n,t,r){var e=n?n.length:0;return e?((r?Ur(n,t,r):null==t)&&(t=1),t=e-(+t||0),Et(n,0,0>t?0:t)):[]}function Kr(n){return n?n[0]:w}function Vr(n,t,e){var u=n?n.length:0;if(!u)return-1;if(typeof e=="number")e=0>e?bu(u+e,0):e;else if(e)return e=Lt(n,t),
e<u&&(t===t?t===n[e]:n[e]!==n[e])?e:-1;return r(n,t,e||0)}function Zr(n){var t=n?n.length:0;return t?n[t-1]:w}function Yr(n){return qr(n,1)}function Gr(n,t,e,u){if(!n||!n.length)return[];null!=t&&typeof t!="boolean"&&(u=e,e=Ur(n,t,u)?w:t,t=false);var o=wr();if((null!=e||o!==ut)&&(e=o(e,u,3)),t&&xr()==r){t=e;var i;e=-1,u=n.length;for(var o=-1,f=[];++e<u;){var a=n[e],c=t?t(a,e,n):a;e&&i===c||(i=c,f[++o]=a)}n=f}else n=St(n,e);return n}function Jr(n){if(!n||!n.length)return[];var t=-1,r=0;n=Vn(n,function(n){
return Er(n)?(r=bu(n.length,r),true):void 0});for(var e=Be(r);++t<r;)e[t]=Gn(n,jt(t));return e}function Xr(n,t,r){return n&&n.length?(n=Jr(n),null==t?n:(t=Bt(t,r,4),Gn(n,function(n){return Xn(n,t,w,true)}))):[]}function Hr(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Oo(n[0])||(t=[]);++r<e;){var o=n[r];t?u[o]=t[r]:o&&(u[o[0]]=o[1])}return u}function Qr(n){return n=Nn(n),n.__chain__=true,n}function ne(n,t,r){return t.call(r,n)}function te(n,t,r){var e=Oo(n)?Kn:at;return r&&Ur(n,t,r)&&(t=w),(typeof t!="function"||r!==w)&&(t=wr(t,r,3)),
e(n,t)}function re(n,t,r){var e=Oo(n)?Vn:lt;return t=wr(t,r,3),e(n,t)}function ee(n,t,r,e){var u=n?Bu(n):0;return Sr(u)||(n=Ee(n),u=n.length),r=typeof r!="number"||e&&Ur(t,r,e)?0:0>r?bu(u+r,0):r||0,typeof n=="string"||!Oo(n)&&be(n)?r<=u&&-1<n.indexOf(t,r):!!u&&-1<xr(n,t,r)}function ue(n,t,r){var e=Oo(n)?Gn:wt;return t=wr(t,r,3),e(n,t)}function oe(n,t,r){if(r?Ur(n,t,r):null==t){n=zr(n);var e=n.length;return 0<e?n[Rt(0,e-1)]:w}r=-1,n=je(n);var e=n.length,u=e-1;for(t=xu(0>t?0:+t||0,e);++r<t;){var e=Rt(r,u),o=n[e];
n[e]=n[r],n[r]=o}return n.length=t,n}function ie(n,t,r){var e=Oo(n)?Hn:Ct;return r&&Ur(n,t,r)&&(t=w),(typeof t!="function"||r!==w)&&(t=wr(t,r,3)),e(n,t)}function fe(n,t){var r;if(typeof t!="function"){if(typeof n!="function")throw new Ge(L);var e=n;n=t,t=e}return function(){return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=w),r}}function ae(n,t,r){function e(t,r){r&&iu(r),a=p=h=w,t&&(_=ho(),c=n.apply(s,f),p||a||(f=s=w))}function u(){var n=t-(ho()-l);0>=n||n>t?e(h,a):p=su(u,n)}function o(){e(g,p);
}function i(){if(f=arguments,l=ho(),s=this,h=g&&(p||!y),false===v)var r=y&&!p;else{a||y||(_=l);var e=v-(l-_),i=0>=e||e>v;i?(a&&(a=iu(a)),_=l,c=n.apply(s,f)):a||(a=su(o,e))}return i&&p?p=iu(p):p||t===v||(p=su(u,t)),r&&(i=true,c=n.apply(s,f)),!i||p||a||(f=s=w),c}var f,a,c,l,s,p,h,_=0,v=false,g=true;if(typeof n!="function")throw new Ge(L);if(t=0>t?0:+t||0,true===r)var y=true,g=false;else ge(r)&&(y=!!r.leading,v="maxWait"in r&&bu(+r.maxWait||0,t),g="trailing"in r?!!r.trailing:g);return i.cancel=function(){p&&iu(p),a&&iu(a),
_=0,a=p=h=w},i}function ce(n,t){function r(){var e=arguments,u=t?t.apply(this,e):e[0],o=r.cache;return o.has(u)?o.get(u):(e=n.apply(this,e),r.cache=o.set(u,e),e)}if(typeof n!="function"||t&&typeof t!="function")throw new Ge(L);return r.cache=new ce.Cache,r}function le(n,t){if(typeof n!="function")throw new Ge(L);return t=bu(t===w?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bu(r.length-t,0),o=Be(u);++e<u;)o[e]=r[t+e];switch(t){case 0:return n.call(this,o);case 1:return n.call(this,r[0],o);
case 2:return n.call(this,r[0],r[1],o)}for(u=Be(t+1),e=-1;++e<t;)u[e]=r[e];return u[t]=o,n.apply(this,u)}}function se(n,t){return n>t}function pe(n){return h(n)&&Er(n)&&nu.call(n,"callee")&&!cu.call(n,"callee")}function he(n,t,r,e){return e=(r=typeof r=="function"?Bt(r,e,3):w)?r(n,t):w,e===w?dt(n,t,r):!!e}function _e(n){return h(n)&&typeof n.message=="string"&&ru.call(n)==P}function ve(n){return ge(n)&&ru.call(n)==K}function ge(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function ye(n){
return null==n?false:ve(n)?uu.test(Qe.call(n)):h(n)&&Rn.test(n)}function de(n){return typeof n=="number"||h(n)&&ru.call(n)==V}function me(n){var t;if(!h(n)||ru.call(n)!=Z||pe(n)||!(nu.call(n,"constructor")||(t=n.constructor,typeof t!="function"||t instanceof t)))return false;var r;return ht(n,function(n,t){r=t}),r===w||nu.call(n,r)}function we(n){return ge(n)&&ru.call(n)==Y}function be(n){return typeof n=="string"||h(n)&&ru.call(n)==G}function xe(n){return h(n)&&Sr(n.length)&&!!Sn[ru.call(n)]}function Ae(n,t){
return n<t}function je(n){var t=n?Bu(n):0;return Sr(t)?t?qn(n):[]:Ee(n)}function ke(n){return et(n,Re(n))}function Ie(n){return gt(n,Re(n))}function Re(n){if(null==n)return[];ge(n)||(n=Ve(n));for(var t=n.length,t=t&&Sr(t)&&(Oo(n)||pe(n))&&t||0,r=n.constructor,e=-1,r=typeof r=="function"&&r.prototype===n,u=Be(t),o=0<t;++e<t;)u[e]=e+"";for(var i in n)o&&Cr(i,t)||"constructor"==i&&(r||!nu.call(n,i))||u.push(i);return u}function Oe(n){n=Br(n);for(var t=-1,r=zo(n),e=r.length,u=Be(e);++t<e;){var o=r[t];
u[t]=[o,n[o]]}return u}function Ee(n){return Ft(n,zo(n))}function Ce(n){return(n=u(n))&&n.replace(En,a).replace(xn,"")}function Ue(n,t){var r="";if(n=u(n),t=+t,1>t||!n||!mu(t))return r;do t%2&&(r+=n),t=yu(t/2),n+=n;while(t);return r}function We(n,t,r){var e=n;return(n=u(n))?(r?Ur(e,t,r):null==t)?n.slice(g(n),y(n)+1):(t+="",n.slice(o(n,t),i(n,t)+1)):n}function $e(n,t,r){return r&&Ur(n,t,r)&&(t=w),n=u(n),n.match(t||Wn)||[]}function Se(n,t,r){return r&&Ur(n,t,r)&&(t=w),h(n)?Ne(n):ut(n,t)}function Fe(n){
return n}function Ne(n){return bt(ot(n,true))}function Te(n,t,r){if(null==r){var e=ge(t),u=e?zo(t):w;((u=u&&u.length?gt(t,u):w)?u.length:e)||(u=false,r=t,t=n,n=this)}u||(u=gt(t,zo(t)));var o=true,e=-1,i=ve(n),f=u.length;false===r?o=false:ge(r)&&"chain"in r&&(o=r.chain);for(;++e<f;){r=u[e];var a=t[r];n[r]=a,i&&(n.prototype[r]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__);return(e.__actions__=qn(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,Jn([this.value()],arguments));
}}(a))}return n}function Le(){}function ze(n){return Wr(n)?jt(n):kt(n)}_=_?Yn.defaults(Zn.Object(),_,Yn.pick(Zn,$n)):Zn;var Be=_.Array,De=_.Date,Me=_.Error,qe=_.Function,Pe=_.Math,Ke=_.Number,Ve=_.Object,Ze=_.RegExp,Ye=_.String,Ge=_.TypeError,Je=Be.prototype,Xe=Ve.prototype,He=Ye.prototype,Qe=qe.prototype.toString,nu=Xe.hasOwnProperty,tu=0,ru=Xe.toString,eu=Zn._,uu=Ze("^"+Qe.call(nu).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ou=_.ArrayBuffer,iu=_.clearTimeout,fu=_.parseFloat,au=Pe.pow,cu=Xe.propertyIsEnumerable,lu=jr(_,"Set"),su=_.setTimeout,pu=Je.splice,hu=_.Uint8Array,_u=jr(_,"WeakMap"),vu=Pe.ceil,gu=jr(Ve,"create"),yu=Pe.floor,du=jr(Be,"isArray"),mu=_.isFinite,wu=jr(Ve,"keys"),bu=Pe.max,xu=Pe.min,Au=jr(De,"now"),ju=_.parseInt,ku=Pe.random,Iu=Ke.NEGATIVE_INFINITY,Ru=Ke.POSITIVE_INFINITY,Ou=4294967294,Eu=2147483647,Cu=9007199254740991,Uu=_u&&new _u,Wu={};
Nn.support={},Nn.templateSettings={escape:_n,evaluate:vn,interpolate:gn,variable:"",imports:{_:Nn}};var $u=function(){function n(){}return function(t){if(ge(t)){n.prototype=t;var r=new n;n.prototype=w}return r||{}}}(),Su=Vt(_t),Fu=Vt(vt,true),Nu=Zt(),Tu=Zt(true),Lu=Uu?function(n,t){return Uu.set(n,t),n}:Fe,zu=Uu?function(n){return Uu.get(n)}:Le,Bu=jt("length"),Du=function(){var n=0,t=0;return function(r,e){var u=ho(),o=S-(u-t);if(t=u,0<o){if(++n>=$)return r}else n=0;return Lu(r,e)}}(),Mu=le(function(n,t){
return h(n)&&Er(n)?ft(n,pt(t,false,true)):[]}),qu=tr(),Pu=tr(true),Ku=le(function(n){for(var t=n.length,e=t,u=Be(l),o=xr(),i=o==r,f=[];e--;){var a=n[e]=Er(a=n[e])?a:[];u[e]=i&&120<=a.length&&gu&&lu?new Dn(e&&a):null}var i=n[0],c=-1,l=i?i.length:0,s=u[0];n:for(;++c<l;)if(a=i[c],0>(s?Mn(s,a):o(f,a,0))){for(e=t;--e;){var p=u[e];if(0>(p?Mn(p,a):o(n[e],a,0)))continue n}s&&s.push(a),f.push(a)}return f}),Vu=le(function(t,r){r=pt(r);var e=rt(t,r);return It(t,r.sort(n)),e}),Zu=vr(),Yu=vr(true),Gu=le(function(n){return St(pt(n,false,true));
}),Ju=le(function(n,t){return Er(n)?ft(n,t):[]}),Xu=le(Jr),Hu=le(function(n){var t=n.length,r=2<t?n[t-2]:w,e=1<t?n[t-1]:w;return 2<t&&typeof r=="function"?t-=2:(r=1<t&&typeof e=="function"?(--t,e):w,e=w),n.length=t,Xr(n,r,e)}),Qu=le(function(n){return n=pt(n),this.thru(function(t){t=Oo(t)?t:[Br(t)];for(var r=n,e=-1,u=t.length,o=-1,i=r.length,f=Be(u+i);++e<u;)f[e]=t[e];for(;++o<i;)f[e++]=r[o];return f})}),no=le(function(n,t){return rt(n,pt(t))}),to=Pt(function(n,t,r){nu.call(n,r)?++n[r]:n[r]=1}),ro=nr(Su),eo=nr(Fu,true),uo=ur(Pn,Su),oo=ur(function(n,t){
for(var r=n.length;r--&&false!==t(n[r],r,n););return n},Fu),io=Pt(function(n,t,r){nu.call(n,r)?n[r].push(t):n[r]=[t]}),fo=Pt(function(n,t,r){n[r]=t}),ao=le(function(n,t,r){var e=-1,u=typeof t=="function",o=Wr(t),i=Er(n)?Be(n.length):[];return Su(n,function(n){var f=u?t:o&&null!=n?n[t]:w;i[++e]=f?f.apply(n,r):Or(n,t,r)}),i}),co=Pt(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),lo=lr(Xn,Su),so=lr(function(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r},Fu),po=le(function(n,t){
if(null==n)return[];var r=t[2];return r&&Ur(t[0],t[1],r)&&(t.length=1),Wt(n,pt(t),[])}),ho=Au||function(){return(new De).getTime()},_o=le(function(n,t,r){var e=x;if(r.length)var u=v(r,_o.placeholder),e=e|R;return gr(n,e,t,r,u)}),vo=le(function(n,t){t=t.length?pt(t):Ie(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=gr(n[u],x,n)}return n}),go=le(function(n,t,r){var e=x|A;if(r.length)var u=v(r,go.placeholder),e=e|R;return gr(t,e,n,r,u)}),yo=Xt(k),mo=Xt(I),wo=le(function(n,t){return it(n,1,t)}),bo=le(function(n,t,r){
return it(n,t,r)}),xo=er(),Ao=er(true),jo=le(function(n,t){if(t=pt(t),typeof n!="function"||!Kn(t,e))throw new Ge(L);var r=t.length;return le(function(e){for(var u=xu(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),ko=cr(R),Io=cr(O),Ro=le(function(n,t){return gr(n,C,w,w,w,pt(t))}),Oo=du||function(n){return h(n)&&Sr(n.length)&&ru.call(n)==D},Eo=Kt(At),Co=Kt(function(n,t,r){return r?nt(n,t,r):tt(n,t)}),Uo=Ht(Co,function(n,t){return n===w?t:n}),Wo=Ht(Eo,Fr),$o=rr(_t),So=rr(vt),Fo=or(Nu),No=or(Tu),To=ir(_t),Lo=ir(vt),zo=wu?function(n){
var t=null==n?w:n.constructor;return typeof t=="function"&&t.prototype===n||typeof n!="function"&&Er(n)?Lr(n):ge(n)?wu(n):[]}:Lr,Bo=fr(true),Do=fr(),Mo=le(function(n,t){if(null==n)return{};if("function"!=typeof t[0])return t=Gn(pt(t),Ye),Nr(n,ft(Re(n),t));var r=Bt(t[0],t[1],3);return Tr(n,function(n,t,e){return!r(n,t,e)})}),qo=le(function(n,t){return null==n?{}:"function"==typeof t[0]?Tr(n,Bt(t[0],t[1],3)):Nr(n,pt(t))}),Po=Gt(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t);
}),Ko=Gt(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Vo=ar(),Zo=ar(true),Yo=Gt(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Go=Gt(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Jo=le(function(n,t){try{return n.apply(w,t)}catch(r){return _e(r)?r:new Me(r)}}),Xo=le(function(n,t){return function(r){return Or(r,n,t)}}),Ho=le(function(n,t){return function(r){return Or(n,r,t)}}),Qo=_r("ceil"),ni=_r("floor"),ti=Qt(se,Iu),ri=Qt(Ae,Ru),ei=_r("round");return Nn.prototype=Tn.prototype,
Ln.prototype=$u(Tn.prototype),Ln.prototype.constructor=Ln,zn.prototype=$u(Tn.prototype),zn.prototype.constructor=zn,Bn.prototype["delete"]=function(n){return this.has(n)&&delete this.__data__[n]},Bn.prototype.get=function(n){return"__proto__"==n?w:this.__data__[n]},Bn.prototype.has=function(n){return"__proto__"!=n&&nu.call(this.__data__,n)},Bn.prototype.set=function(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this},Dn.prototype.push=function(n){var t=this.data;typeof n=="string"||ge(n)?t.set.add(n):t.hash[n]=true;
},ce.Cache=Bn,Nn.after=function(n,t){if(typeof t!="function"){if(typeof n!="function")throw new Ge(L);var r=n;n=t,t=r}return n=mu(n=+n)?n:0,function(){return 1>--n?t.apply(this,arguments):void 0}},Nn.ary=function(n,t,r){return r&&Ur(n,t,r)&&(t=w),t=n&&null==t?n.length:bu(+t||0,0),gr(n,E,w,w,w,w,t)},Nn.assign=Co,Nn.at=no,Nn.before=fe,Nn.bind=_o,Nn.bindAll=vo,Nn.bindKey=go,Nn.callback=Se,Nn.chain=Qr,Nn.chunk=function(n,t,r){t=(r?Ur(n,t,r):null==t)?1:bu(yu(t)||1,1),r=0;for(var e=n?n.length:0,u=-1,o=Be(vu(e/t));r<e;)o[++u]=Et(n,r,r+=t);
return o},Nn.compact=function(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var o=n[t];o&&(u[++e]=o)}return u},Nn.constant=function(n){return function(){return n}},Nn.countBy=to,Nn.create=function(n,t,r){var e=$u(n);return r&&Ur(n,t,r)&&(t=w),t?tt(e,t):e},Nn.curry=yo,Nn.curryRight=mo,Nn.debounce=ae,Nn.defaults=Uo,Nn.defaultsDeep=Wo,Nn.defer=wo,Nn.delay=bo,Nn.difference=Mu,Nn.drop=qr,Nn.dropRight=Pr,Nn.dropRightWhile=function(n,t,r){return n&&n.length?Nt(n,wr(t,r,3),true,true):[]},Nn.dropWhile=function(n,t,r){
return n&&n.length?Nt(n,wr(t,r,3),true):[]},Nn.fill=function(n,t,r,e){var u=n?n.length:0;if(!u)return[];for(r&&typeof r!="number"&&Ur(n,t,r)&&(r=0,e=u),u=n.length,r=null==r?0:+r||0,0>r&&(r=-r>u?0:u+r),e=e===w||e>u?u:+e||0,0>e&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n},Nn.filter=re,Nn.flatten=function(n,t,r){var e=n?n.length:0;return r&&Ur(n,t,r)&&(t=false),e?pt(n,t):[]},Nn.flattenDeep=function(n){return n&&n.length?pt(n,true):[]},Nn.flow=xo,Nn.flowRight=Ao,Nn.forEach=uo,Nn.forEachRight=oo,Nn.forIn=Fo,
Nn.forInRight=No,Nn.forOwn=To,Nn.forOwnRight=Lo,Nn.functions=Ie,Nn.groupBy=io,Nn.indexBy=fo,Nn.initial=function(n){return Pr(n,1)},Nn.intersection=Ku,Nn.invert=function(n,t,r){r&&Ur(n,t,r)&&(t=w),r=-1;for(var e=zo(n),u=e.length,o={};++r<u;){var i=e[r],f=n[i];t?nu.call(o,f)?o[f].push(i):o[f]=[i]:o[f]=i}return o},Nn.invoke=ao,Nn.keys=zo,Nn.keysIn=Re,Nn.map=ue,Nn.mapKeys=Bo,Nn.mapValues=Do,Nn.matches=Ne,Nn.matchesProperty=function(n,t){return xt(n,ot(t,true))},Nn.memoize=ce,Nn.merge=Eo,Nn.method=Xo,Nn.methodOf=Ho,
Nn.mixin=Te,Nn.modArgs=jo,Nn.negate=function(n){if(typeof n!="function")throw new Ge(L);return function(){return!n.apply(this,arguments)}},Nn.omit=Mo,Nn.once=function(n){return fe(2,n)},Nn.pairs=Oe,Nn.partial=ko,Nn.partialRight=Io,Nn.partition=co,Nn.pick=qo,Nn.pluck=function(n,t){return ue(n,ze(t))},Nn.property=ze,Nn.propertyOf=function(n){return function(t){return yt(n,Dr(t),t+"")}},Nn.pull=function(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=xr(),u=n.length;++r<u;)for(var o=0,i=n[r];-1<(o=e(t,i,o));)pu.call(t,o,1);
return t},Nn.pullAt=Vu,Nn.range=function(n,t,r){r&&Ur(n,t,r)&&(t=r=w),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;var e=-1;t=bu(vu((t-n)/(r||1)),0);for(var u=Be(t);++e<t;)u[e]=n,n+=r;return u},Nn.rearg=Ro,Nn.reject=function(n,t,r){var e=Oo(n)?Vn:lt;return t=wr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})},Nn.remove=function(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,o=[],i=n.length;for(t=wr(t,r,3);++u<i;)r=n[u],t(r,u,n)&&(e.push(r),o.push(u));return It(n,o),e},Nn.rest=Yr,Nn.restParam=le,
Nn.set=function(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||Wr(t,n)?[e]:Dr(t);for(var e=-1,u=t.length,o=u-1,i=n;null!=i&&++e<u;){var f=t[e];ge(i)&&(e==o?i[f]=r:null==i[f]&&(i[f]=Cr(t[e+1])?[]:{})),i=i[f]}return n},Nn.shuffle=function(n){return oe(n,Ru)},Nn.slice=function(n,t,r){var e=n?n.length:0;return e?(r&&typeof r!="number"&&Ur(n,t,r)&&(t=0,r=e),Et(n,t,r)):[]},Nn.sortBy=function(n,t,r){if(null==n)return[];r&&Ur(n,t,r)&&(t=w);var e=-1;return t=wr(t,r,3),n=wt(n,function(n,r,u){return{a:t(n,r,u),
b:++e,c:n}}),Ut(n,f)},Nn.sortByAll=po,Nn.sortByOrder=function(n,t,r,e){return null==n?[]:(e&&Ur(t,r,e)&&(r=w),Oo(t)||(t=null==t?[]:[t]),Oo(r)||(r=null==r?[]:[r]),Wt(n,t,r))},Nn.spread=function(n){if(typeof n!="function")throw new Ge(L);return function(t){return n.apply(this,t)}},Nn.take=function(n,t,r){return n&&n.length?((r?Ur(n,t,r):null==t)&&(t=1),Et(n,0,0>t?0:t)):[]},Nn.takeRight=function(n,t,r){var e=n?n.length:0;return e?((r?Ur(n,t,r):null==t)&&(t=1),t=e-(+t||0),Et(n,0>t?0:t)):[]},Nn.takeRightWhile=function(n,t,r){
return n&&n.length?Nt(n,wr(t,r,3),false,true):[]},Nn.takeWhile=function(n,t,r){return n&&n.length?Nt(n,wr(t,r,3)):[]},Nn.tap=function(n,t,r){return t.call(r,n),n},Nn.throttle=function(n,t,r){var e=true,u=true;if(typeof n!="function")throw new Ge(L);return false===r?e=false:ge(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),ae(n,t,{leading:e,maxWait:+t,trailing:u})},Nn.thru=ne,Nn.times=function(n,t,r){if(n=yu(n),1>n||!mu(n))return[];var e=-1,u=Be(xu(n,4294967295));for(t=Bt(t,r,1);++e<n;)4294967295>e?u[e]=t(e):t(e);
return u},Nn.toArray=je,Nn.toPlainObject=ke,Nn.transform=function(n,t,r,e){var u=Oo(n)||xe(n);return t=wr(t,e,4),null==r&&(u||ge(n)?(e=n.constructor,r=u?Oo(n)?new e:[]:$u(ve(e)?e.prototype:w)):r={}),(u?Pn:_t)(n,function(n,e,u){return t(r,n,e,u)}),r},Nn.union=Gu,Nn.uniq=Gr,Nn.unzip=Jr,Nn.unzipWith=Xr,Nn.values=Ee,Nn.valuesIn=function(n){return Ft(n,Re(n))},Nn.where=function(n,t){return re(n,bt(t))},Nn.without=Ju,Nn.wrap=function(n,t){return t=null==t?Fe:t,gr(t,R,w,[n],[])},Nn.xor=function(){for(var n=-1,t=arguments.length;++n<t;){
var r=arguments[n];if(Er(r))var e=e?Jn(ft(e,r),ft(r,e)):r}return e?St(e):[]},Nn.zip=Xu,Nn.zipObject=Hr,Nn.zipWith=Hu,Nn.backflow=Ao,Nn.collect=ue,Nn.compose=Ao,Nn.each=uo,Nn.eachRight=oo,Nn.extend=Co,Nn.iteratee=Se,Nn.methods=Ie,Nn.object=Hr,Nn.select=re,Nn.tail=Yr,Nn.unique=Gr,Te(Nn,Nn),Nn.add=function(n,t){return(+n||0)+(+t||0)},Nn.attempt=Jo,Nn.camelCase=Po,Nn.capitalize=function(n){return(n=u(n))&&n.charAt(0).toUpperCase()+n.slice(1)},Nn.ceil=Qo,Nn.clone=function(n,t,r,e){return t&&typeof t!="boolean"&&Ur(n,t,r)?t=false:typeof t=="function"&&(e=r,
r=t,t=false),typeof r=="function"?ot(n,t,Bt(r,e,1)):ot(n,t)},Nn.cloneDeep=function(n,t,r){return typeof t=="function"?ot(n,true,Bt(t,r,1)):ot(n,true)},Nn.deburr=Ce,Nn.endsWith=function(n,t,r){n=u(n),t+="";var e=n.length;return r=r===w?e:xu(0>r?0:+r||0,e),r-=t.length,0<=r&&n.indexOf(t,r)==r},Nn.escape=function(n){return(n=u(n))&&hn.test(n)?n.replace(sn,c):n},Nn.escapeRegExp=function(n){return(n=u(n))&&bn.test(n)?n.replace(wn,l):n||"(?:)"},Nn.every=te,Nn.find=ro,Nn.findIndex=qu,Nn.findKey=$o,Nn.findLast=eo,
Nn.findLastIndex=Pu,Nn.findLastKey=So,Nn.findWhere=function(n,t){return ro(n,bt(t))},Nn.first=Kr,Nn.floor=ni,Nn.get=function(n,t,r){return n=null==n?w:yt(n,Dr(t),t+""),n===w?r:n},Nn.gt=se,Nn.gte=function(n,t){return n>=t},Nn.has=function(n,t){if(null==n)return false;var r=nu.call(n,t);if(!r&&!Wr(t)){if(t=Dr(t),n=1==t.length?n:yt(n,Et(t,0,-1)),null==n)return false;t=Zr(t),r=nu.call(n,t)}return r||Sr(n.length)&&Cr(t,n.length)&&(Oo(n)||pe(n))},Nn.identity=Fe,Nn.includes=ee,Nn.indexOf=Vr,Nn.inRange=function(n,t,r){
return t=+t||0,r===w?(r=t,t=0):r=+r||0,n>=xu(t,r)&&n<bu(t,r)},Nn.isArguments=pe,Nn.isArray=Oo,Nn.isBoolean=function(n){return true===n||false===n||h(n)&&ru.call(n)==M},Nn.isDate=function(n){return h(n)&&ru.call(n)==q},Nn.isElement=function(n){return!!n&&1===n.nodeType&&h(n)&&!me(n)},Nn.isEmpty=function(n){return null==n?true:Er(n)&&(Oo(n)||be(n)||pe(n)||h(n)&&ve(n.splice))?!n.length:!zo(n).length},Nn.isEqual=he,Nn.isError=_e,Nn.isFinite=function(n){return typeof n=="number"&&mu(n)},Nn.isFunction=ve,Nn.isMatch=function(n,t,r,e){
return r=typeof r=="function"?Bt(r,e,3):w,mt(n,Ar(t),r)},Nn.isNaN=function(n){return de(n)&&n!=+n},Nn.isNative=ye,Nn.isNull=function(n){return null===n},Nn.isNumber=de,Nn.isObject=ge,Nn.isPlainObject=me,Nn.isRegExp=we,Nn.isString=be,Nn.isTypedArray=xe,Nn.isUndefined=function(n){return n===w},Nn.kebabCase=Ko,Nn.last=Zr,Nn.lastIndexOf=function(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if(typeof r=="number")u=(0>r?bu(e+r,0):xu(r||0,e-1))+1;else if(r)return u=Lt(n,t,true)-1,n=n[u],(t===t?t===n:n!==n)?u:-1;
if(t!==t)return p(n,u,true);for(;u--;)if(n[u]===t)return u;return-1},Nn.lt=Ae,Nn.lte=function(n,t){return n<=t},Nn.max=ti,Nn.min=ri,Nn.noConflict=function(){return Zn._=eu,this},Nn.noop=Le,Nn.now=ho,Nn.pad=function(n,t,r){n=u(n),t=+t;var e=n.length;return e<t&&mu(t)?(e=(t-e)/2,t=yu(e),e=vu(e),r=pr("",e,r),r.slice(0,t)+n+r):n},Nn.padLeft=Vo,Nn.padRight=Zo,Nn.parseInt=function(n,t,r){return(r?Ur(n,t,r):null==t)?t=0:t&&(t=+t),n=We(n),ju(n,t||(In.test(n)?16:10))},Nn.random=function(n,t,r){r&&Ur(n,t,r)&&(t=r=w);
var e=null==n,u=null==t;return null==r&&(u&&typeof n=="boolean"?(r=n,n=1):typeof t=="boolean"&&(r=t,u=true)),e&&u&&(t=1,u=false),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1?(r=ku(),xu(n+r*(t-n+fu("1e-"+((r+"").length-1))),t)):Rt(n,t)},Nn.reduce=lo,Nn.reduceRight=so,Nn.repeat=Ue,Nn.result=function(n,t,r){var e=null==n?w:n[t];return e===w&&(null==n||Wr(t,n)||(t=Dr(t),n=1==t.length?n:yt(n,Et(t,0,-1)),e=null==n?w:n[Zr(t)]),e=e===w?r:e),ve(e)?e.call(n):e},Nn.round=ei,Nn.runInContext=m,Nn.size=function(n){var t=n?Bu(n):0;
return Sr(t)?t:zo(n).length},Nn.snakeCase=Yo,Nn.some=ie,Nn.sortedIndex=Zu,Nn.sortedLastIndex=Yu,Nn.startCase=Go,Nn.startsWith=function(n,t,r){return n=u(n),r=null==r?0:xu(0>r?0:+r||0,n.length),n.lastIndexOf(t,r)==r},Nn.sum=function(n,t,r){if(r&&Ur(n,t,r)&&(t=w),t=wr(t,r,3),1==t.length){n=Oo(n)?n:zr(n),r=n.length;for(var e=0;r--;)e+=+t(n[r])||0;n=e}else n=$t(n,t);return n},Nn.template=function(n,t,r){var e=Nn.templateSettings;r&&Ur(n,t,r)&&(t=r=w),n=u(n),t=nt(tt({},r||t),e,Qn),r=nt(tt({},t.imports),e.imports,Qn);
var o,i,f=zo(r),a=Ft(r,f),c=0;r=t.interpolate||Cn;var l="__p+='";r=Ze((t.escape||Cn).source+"|"+r.source+"|"+(r===gn?jn:Cn).source+"|"+(t.evaluate||Cn).source+"|$","g");var p="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(n.replace(r,function(t,r,e,u,f,a){return e||(e=u),l+=n.slice(c,a).replace(Un,s),r&&(o=true,l+="'+__e("+r+")+'"),f&&(i=true,l+="';"+f+";\n__p+='"),e&&(l+="'+((__t=("+e+"))==null?'':__t)+'"),c=a+t.length,t}),l+="';",(t=t.variable)||(l="with(obj){"+l+"}"),l=(i?l.replace(fn,""):l).replace(an,"$1").replace(cn,"$1;"),
l="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(i?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",t=Jo(function(){return qe(f,p+"return "+l).apply(w,a)}),t.source=l,_e(t))throw t;return t},Nn.trim=We,Nn.trimLeft=function(n,t,r){var e=n;return(n=u(n))?n.slice((r?Ur(e,t,r):null==t)?g(n):o(n,t+"")):n},Nn.trimRight=function(n,t,r){var e=n;return(n=u(n))?(r?Ur(e,t,r):null==t)?n.slice(0,y(n)+1):n.slice(0,i(n,t+"")+1):n;
},Nn.trunc=function(n,t,r){r&&Ur(n,t,r)&&(t=w);var e=U;if(r=W,null!=t)if(ge(t)){var o="separator"in t?t.separator:o,e="length"in t?+t.length||0:e;r="omission"in t?u(t.omission):r}else e=+t||0;if(n=u(n),e>=n.length)return n;if(e-=r.length,1>e)return r;if(t=n.slice(0,e),null==o)return t+r;if(we(o)){if(n.slice(e).search(o)){var i,f=n.slice(0,e);for(o.global||(o=Ze(o.source,(kn.exec(o)||"")+"g")),o.lastIndex=0;n=o.exec(f);)i=n.index;t=t.slice(0,null==i?e:i)}}else n.indexOf(o,e)!=e&&(o=t.lastIndexOf(o),
-1<o&&(t=t.slice(0,o)));return t+r},Nn.unescape=function(n){return(n=u(n))&&pn.test(n)?n.replace(ln,d):n},Nn.uniqueId=function(n){var t=++tu;return u(n)+t},Nn.words=$e,Nn.all=te,Nn.any=ie,Nn.contains=ee,Nn.eq=he,Nn.detect=ro,Nn.foldl=lo,Nn.foldr=so,Nn.head=Kr,Nn.include=ee,Nn.inject=lo,Te(Nn,function(){var n={};return _t(Nn,function(t,r){Nn.prototype[r]||(n[r]=t)}),n}(),false),Nn.sample=oe,Nn.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return oe(t,n)}):oe(this.value());
},Nn.VERSION=b,Pn("bind bindKey curry curryRight partial partialRight".split(" "),function(n){Nn[n].placeholder=Nn}),Pn(["drop","take"],function(n,t){zn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new zn(this);r=null==r?1:bu(yu(r)||0,0);var u=this.clone();return e?u.__takeCount__=xu(u.__takeCount__,r):u.__views__.push({size:r,type:n+(0>u.__dir__?"Right":"")}),u},zn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Pn(["filter","map","takeWhile"],function(n,t){
var r=t+1,e=r!=T;zn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:wr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),Pn(["first","last"],function(n,t){var r="take"+(t?"Right":"");zn.prototype[n]=function(){return this[r](1).value()[0]}}),Pn(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");zn.prototype[n]=function(){return this.__filtered__?new zn(this):this[r](1)}}),Pn(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?bt:ze;zn.prototype[n]=function(n){
return this[r](e(n))}}),zn.prototype.compact=function(){return this.filter(Fe)},zn.prototype.reject=function(n,t){return n=wr(n,t,1),this.filter(function(t){return!n(t)})},zn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(0<n||0>t)?new zn(r):(0>n?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==w&&(t=+t||0,r=0>t?r.dropRight(-t):r.take(t-n)),r)},zn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},zn.prototype.toArray=function(){return this.take(Ru);
},_t(zn.prototype,function(n,t){var r=/^(?:filter|map|reject)|While$/.test(t),e=/^(?:first|last)$/.test(t),u=Nn[e?"take"+("last"==t?"Right":""):t];u&&(Nn.prototype[t]=function(){function t(n){return e&&i?u(n,1)[0]:u.apply(w,Jn([n],o))}var o=e?[1]:arguments,i=this.__chain__,f=this.__wrapped__,a=!!this.__actions__.length,c=f instanceof zn,l=o[0],s=c||Oo(f);return s&&r&&typeof l=="function"&&1!=l.length&&(c=s=false),l={func:ne,args:[t],thisArg:w},a=c&&!a,e&&!i?a?(f=f.clone(),f.__actions__.push(l),n.call(f)):u.call(w,this.value())[0]:!e&&s?(f=a?f:new zn(this),
f=n.apply(f,o),f.__actions__.push(l),new Ln(f,i)):this.thru(t)})}),Pn("join pop push replace shift sort splice split unshift".split(" "),function(n){var t=(/^(?:replace|split)$/.test(n)?He:Je)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);Nn.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),_t(zn.prototype,function(n,t){var r=Nn[t];if(r){var e=r.name;(Wu[e]||(Wu[e]=[])).push({
name:t,func:r})}}),Wu[sr(w,A).name]=[{name:"wrapper",func:w}],zn.prototype.clone=function(){var n=new zn(this.__wrapped__);return n.__actions__=qn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=qn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=qn(this.__views__),n},zn.prototype.reverse=function(){if(this.__filtered__){var n=new zn(this);n.__dir__=-1,n.__filtered__=true}else n=this.clone(),n.__dir__*=-1;return n},zn.prototype.value=function(){
var n,t=this.__wrapped__.value(),r=this.__dir__,e=Oo(t),u=0>r,o=e?t.length:0;n=o;for(var i=this.__views__,f=0,a=-1,c=i.length;++a<c;){var l=i[a],s=l.size;switch(l.type){case"drop":f+=s;break;case"dropRight":n-=s;break;case"take":n=xu(n,f+s);break;case"takeRight":f=bu(f,n-s)}}if(n={start:f,end:n},i=n.start,f=n.end,n=f-i,i=u?f:i-1,f=this.__iteratees__,a=f.length,c=0,l=xu(n,this.__takeCount__),!e||o<F||o==n&&l==n)return Tt(u&&e?t.reverse():t,this.__actions__);e=[];n:for(;n--&&c<l;){for(i+=r,u=-1,o=t[i];++u<a;){
var p=f[u],s=p.type,p=p.iteratee(o);if(s==T)o=p;else if(!p){if(s==N)continue n;break n}}e[c++]=o}return e},Nn.prototype.chain=function(){return Qr(this)},Nn.prototype.commit=function(){return new Ln(this.value(),this.__chain__)},Nn.prototype.concat=Qu,Nn.prototype.plant=function(n){for(var t,r=this;r instanceof Tn;){var e=Mr(r);t?u.__wrapped__=e:t=e;var u=e,r=r.__wrapped__}return u.__wrapped__=n,t},Nn.prototype.reverse=function(){function n(n){return r&&0>r.__dir__?n:n.reverse()}var t=this.__wrapped__;
if(t instanceof zn){var r=t;return this.__actions__.length&&(r=new zn(this)),r=r.reverse(),r.__actions__.push({func:ne,args:[n],thisArg:w}),new Ln(r,this.__chain__)}return this.thru(n)},Nn.prototype.toString=function(){return this.value()+""},Nn.prototype.run=Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){return Tt(this.__wrapped__,this.__actions__)},Nn.prototype.collect=Nn.prototype.map,Nn.prototype.head=Nn.prototype.first,Nn.prototype.select=Nn.prototype.filter,Nn.prototype.tail=Nn.prototype.rest,
Nn}var w,b="3.10.0",x=1,A=2,j=4,k=8,I=16,R=32,O=64,E=128,C=256,U=30,W="...",$=150,S=16,F=200,N=1,T=2,L="Expected a function",z="__lodash_placeholder__",B="[object Arguments]",D="[object Array]",M="[object Boolean]",q="[object Date]",P="[object Error]",K="[object Function]",V="[object Number]",Z="[object Object]",Y="[object RegExp]",G="[object String]",J="[object ArrayBuffer]",X="[object Float32Array]",H="[object Float64Array]",Q="[object Int8Array]",nn="[object Int16Array]",tn="[object Int32Array]",rn="[object Uint8Array]",en="[object Uint8ClampedArray]",un="[object Uint16Array]",on="[object Uint32Array]",fn=/\b__p\+='';/g,an=/\b(__p\+=)''\+/g,cn=/(__e\(.*?\)|\b__t\))\+'';/g,ln=/&(?:amp|lt|gt|quot|#39|#96);/g,sn=/[&<>"'`]/g,pn=RegExp(ln.source),hn=RegExp(sn.source),_n=/<%-([\s\S]+?)%>/g,vn=/<%([\s\S]+?)%>/g,gn=/<%=([\s\S]+?)%>/g,yn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,dn=/^\w*$/,mn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,wn=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,bn=RegExp(wn.source),xn=/[\u0300-\u036f\ufe20-\ufe23]/g,An=/\\(\\)?/g,jn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/\w*$/,In=/^0[xX]/,Rn=/^\[object .+?Constructor\]$/,On=/^\d+$/,En=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Cn=/($^)/,Un=/['\n\r\u2028\u2029\\]/g,Wn=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),$n="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Sn={};
Sn[X]=Sn[H]=Sn[Q]=Sn[nn]=Sn[tn]=Sn[rn]=Sn[en]=Sn[un]=Sn[on]=true,Sn[B]=Sn[D]=Sn[J]=Sn[M]=Sn[q]=Sn[P]=Sn[K]=Sn["[object Map]"]=Sn[V]=Sn[Z]=Sn[Y]=Sn["[object Set]"]=Sn[G]=Sn["[object WeakMap]"]=false;var Fn={};Fn[B]=Fn[D]=Fn[J]=Fn[M]=Fn[q]=Fn[X]=Fn[H]=Fn[Q]=Fn[nn]=Fn[tn]=Fn[V]=Fn[Z]=Fn[Y]=Fn[G]=Fn[rn]=Fn[en]=Fn[un]=Fn[on]=true,Fn[P]=Fn[K]=Fn["[object Map]"]=Fn["[object Set]"]=Fn["[object WeakMap]"]=false;var Nn={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a",
"\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y",
"\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ln={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},zn={"function":true,object:true},Bn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Dn={"\\":"\\",
"'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mn=zn[typeof exports]&&exports&&!exports.nodeType&&exports,qn=zn[typeof module]&&module&&!module.nodeType&&module,Pn=zn[typeof self]&&self&&self.Object&&self,Kn=zn[typeof window]&&window&&window.Object&&window,Vn=qn&&qn.exports===Mn&&Mn,Zn=Mn&&qn&&typeof global=="object"&&global&&global.Object&&global||Kn!==(this&&this.window)&&Kn||Pn||this,Yn=m();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Zn._=Yn, define(function(){
return Yn})):Mn&&qn?Vn?(qn.exports=Yn)._=Yn:Mn._=Yn:Zn._=Yn}).call(this);
/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.6",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.6",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.6",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.6",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");
d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.6",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);
(function(C,p){"object"===typeof exports?p(exports):"function"===typeof define&&define.amd?define(["exports"],p):p(C)})(this,function(C){function p(a){this._targetElement=a;this._introItems=[];this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,overlayOpacity:0.8,
positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,hintPosition:"top-middle",hintButtonLabel:"Got it"}}function P(a){var b=[],c=this;if(this._options.steps)for(var d=0,f=this._options.steps.length;d<f;d++){var e=y(this._options.steps[d]);e.step=b.length+1;"string"===typeof e.element&&(e.element=document.querySelector(e.element));if("undefined"===typeof e.element||null==e.element){var g=document.querySelector(".introjsFloatingElement");null==g&&(g=document.createElement("div"),
g.className="introjsFloatingElement",document.body.appendChild(g));e.element=g;e.position="floating"}null!=e.element&&b.push(e)}else{f=a.querySelectorAll("*[data-intro]");if(1>f.length)return!1;d=0;for(e=f.length;d<e;d++){var g=f[d],k=parseInt(g.getAttribute("data-step"),10);0<k&&(b[k-1]={element:g,intro:g.getAttribute("data-intro"),step:parseInt(g.getAttribute("data-step"),10),tooltipClass:g.getAttribute("data-tooltipClass"),highlightClass:g.getAttribute("data-highlightClass"),position:g.getAttribute("data-position")||
this._options.tooltipPosition})}d=k=0;for(e=f.length;d<e;d++)if(g=f[d],null==g.getAttribute("data-step")){for(;"undefined"!=typeof b[k];)k++;b[k]={element:g,intro:g.getAttribute("data-intro"),step:k+1,tooltipClass:g.getAttribute("data-tooltipClass"),highlightClass:g.getAttribute("data-highlightClass"),position:g.getAttribute("data-position")||this._options.tooltipPosition}}}d=[];for(f=0;f<b.length;f++)b[f]&&d.push(b[f]);b=d;b.sort(function(a,c){return a.step-c.step});c._introItems=b;Q.call(c,a)&&
(z.call(c),a.querySelector(".introjs-skipbutton"),a.querySelector(".introjs-nextbutton"),c._onKeyDown=function(b){if(27===b.keyCode&&!0==c._options.exitOnEsc)void 0!=c._introExitCallback&&c._introExitCallback.call(c),A.call(c,a);else if(37===b.keyCode)D.call(c);else if(39===b.keyCode)z.call(c);else if(13===b.keyCode){var d=b.target||b.srcElement;d&&0<d.className.indexOf("introjs-prevbutton")?D.call(c):d&&0<d.className.indexOf("introjs-skipbutton")?(c._introItems.length-1==c._currentStep&&"function"===
typeof c._introCompleteCallback&&c._introCompleteCallback.call(c),void 0!=c._introExitCallback&&c._introExitCallback.call(c),A.call(c,a)):z.call(c);b.preventDefault?b.preventDefault():b.returnValue=!1}},c._onResize=function(a){r.call(c,document.querySelector(".introjs-helperLayer"));r.call(c,document.querySelector(".introjs-tooltipReferenceLayer"))},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",c._onKeyDown,!0),window.addEventListener("resize",c._onResize,
!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",c._onKeyDown),document.attachEvent("onresize",c._onResize)));return!1}function y(a){if(null==a||"object"!=typeof a||"undefined"!=typeof a.nodeType)return a;var b={},c;for(c in a)b[c]="undefined"!=typeof jQuery&&a[c]instanceof jQuery?a[c]:y(a[c]);return b}function z(){this._direction="forward";"undefined"===typeof this._currentStep?this._currentStep=0:++this._currentStep;if(this._introItems.length<=this._currentStep)"function"===
typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),A.call(this,this._targetElement);else{var a=this._introItems[this._currentStep];"undefined"!==typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,a.element);K.call(this,a)}}function D(){this._direction="backward";if(0===this._currentStep)return!1;var a=this._introItems[--this._currentStep];"undefined"!==typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,a.element);
K.call(this,a)}function A(a){var b=a.querySelector(".introjs-overlay");if(null!=b){b.style.opacity=0;setTimeout(function(){b.parentNode&&b.parentNode.removeChild(b)},500);var c=a.querySelector(".introjs-helperLayer");c&&c.parentNode.removeChild(c);(c=a.querySelector(".introjs-tooltipReferenceLayer"))&&c.parentNode.removeChild(c);(a=a.querySelector(".introjs-disableInteraction"))&&a.parentNode.removeChild(a);(a=document.querySelector(".introjsFloatingElement"))&&a.parentNode.removeChild(a);if(a=document.querySelector(".introjs-showElement"))a.className=
a.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"");if((a=document.querySelectorAll(".introjs-fixParent"))&&0<a.length)for(c=a.length-1;0<=c;c--)a[c].className=a[c].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown);this._currentStep=void 0}}function F(a,b,c,d,f){var e="",g,k;f=f||!1;b.style.top=null;b.style.right=
null;b.style.bottom=null;b.style.left=null;b.style.marginLeft=null;b.style.marginTop=null;c.style.display="inherit";"undefined"!=typeof d&&null!=d&&(d.style.top=null,d.style.left=null);if(this._introItems[this._currentStep]){e=this._introItems[this._currentStep];e="string"===typeof e.tooltipClass?e.tooltipClass:this._options.tooltipClass;b.className=("introjs-tooltip "+e).replace(/^\s+|\s+$/g,"");k=this._introItems[this._currentStep].position;if(("auto"==k||"auto"==this._options.tooltipPosition)&&
"floating"!=k){e=k;g=this._options.positionPrecedence.slice();k=G();var x=t(b).height+10,q=t(b).width+20,l=t(a),m="floating";l.left+q>k.width||0>l.left+l.width/2-q?(s(g,"bottom"),s(g,"top")):(l.height+l.top+x>k.height&&s(g,"bottom"),0>l.top-x&&s(g,"top"));l.width+l.left+q>k.width&&s(g,"right");0>l.left-q&&s(g,"left");0<g.length&&(m=g[0]);e&&"auto"!=e&&-1<g.indexOf(e)&&(m=e);k=m}e=t(a);a=t(b);g=G();switch(k){case "top":c.className="introjs-arrow bottom";H(e,f?0:15,a,g,b);b.style.bottom=e.height+20+
"px";break;case "right":b.style.left=e.width+20+"px";e.top+a.height>g.height?(c.className="introjs-arrow left-bottom",b.style.top="-"+(a.height-e.height-20)+"px"):c.className="introjs-arrow left";break;case "left":f||!0!=this._options.showStepNumbers||(b.style.top="15px");e.top+a.height>g.height?(b.style.top="-"+(a.height-e.height-20)+"px",c.className="introjs-arrow right-bottom"):c.className="introjs-arrow right";b.style.right=e.width+20+"px";break;case "floating":c.style.display="none";b.style.left=
"50%";b.style.top="50%";b.style.marginLeft="-"+a.width/2+"px";b.style.marginTop="-"+a.height/2+"px";"undefined"!=typeof d&&null!=d&&(d.style.left="-"+(a.width/2+18)+"px",d.style.top="-"+(a.height/2+18)+"px");break;case "bottom-right-aligned":c.className="introjs-arrow top-right";L(e,0,a,b);b.style.top=e.height+20+"px";break;case "bottom-middle-aligned":c.className="introjs-arrow top-middle";c=e.width/2-a.width/2;f&&(c+=5);L(e,c,a,b)&&(b.style.right=null,H(e,c,a,g,b));b.style.top=e.height+20+"px";
break;default:c.className="introjs-arrow top",H(e,0,a,g,b),b.style.top=e.height+20+"px"}}}function H(a,b,c,d,f){if(a.left+b+c.width>d.width)return f.style.left=d.width-c.width-a.left+"px",!1;f.style.left=b+"px";return!0}function L(a,b,c,d){if(0>a.left+a.width-b-c.width)return d.style.left=-a.left+"px",!1;d.style.right=b+"px";return!0}function s(a,b){-1<a.indexOf(b)&&a.splice(a.indexOf(b),1)}function r(a){if(a&&this._introItems[this._currentStep]){var b=this._introItems[this._currentStep],c=t(b.element),
d=10;I(b.element)&&(a.className+=" introjs-fixedTooltip");"floating"==b.position&&(d=0);a.setAttribute("style","width: "+(c.width+d)+"px; height:"+(c.height+d)+"px; top:"+(c.top-5)+"px;left: "+(c.left-5)+"px;")}}function R(){var a=document.querySelector(".introjs-disableInteraction");null===a&&(a=document.createElement("div"),a.className="introjs-disableInteraction",this._targetElement.appendChild(a));r.call(this,a)}function K(a){"undefined"!==typeof this._introChangeCallback&&this._introChangeCallback.call(this,
a.element);var b=this,c=document.querySelector(".introjs-helperLayer"),d=document.querySelector(".introjs-tooltipReferenceLayer"),f="introjs-helperLayer";t(a.element);"string"===typeof a.highlightClass&&(f+=" "+a.highlightClass);"string"===typeof this._options.highlightClass&&(f+=" "+this._options.highlightClass);if(null!=c){var e=d.querySelector(".introjs-helperNumberLayer"),g=d.querySelector(".introjs-tooltiptext"),k=d.querySelector(".introjs-arrow"),x=d.querySelector(".introjs-tooltip"),q=d.querySelector(".introjs-skipbutton"),
l=d.querySelector(".introjs-prevbutton"),m=d.querySelector(".introjs-nextbutton");c.className=f;x.style.opacity=0;x.style.display="none";if(null!=e){var h=this._introItems[0<=a.step-2?a.step-2:0];if(null!=h&&"forward"==this._direction&&"floating"==h.position||"backward"==this._direction&&"floating"==a.position)e.style.opacity=0}r.call(b,c);r.call(b,d);if((h=document.querySelectorAll(".introjs-fixParent"))&&0<h.length)for(f=h.length-1;0<=f;f--)h[f].className=h[f].className.replace(/introjs-fixParent/g,
"").replace(/^\s+|\s+$/g,"");h=document.querySelector(".introjs-showElement");h.className=h.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"");b._lastShowElementTimer&&clearTimeout(b._lastShowElementTimer);b._lastShowElementTimer=setTimeout(function(){null!=e&&(e.innerHTML=a.step);g.innerHTML=a.intro;x.style.display="block";F.call(b,a.element,x,k,e);d.querySelector(".introjs-bullets li > a.active").className="";d.querySelector('.introjs-bullets li > a[data-stepnumber="'+a.step+'"]').className=
"active";d.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+M.call(b)+"%;");x.style.opacity=1;e&&(e.style.opacity=1);-1===m.tabIndex?q.focus():m.focus()},350)}else{var p=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),w=document.createElement("div"),E=document.createElement("div"),u=document.createElement("div");p.className=f;l.className="introjs-tooltipReferenceLayer";
r.call(b,p);r.call(b,l);this._targetElement.appendChild(p);this._targetElement.appendChild(l);c.className="introjs-arrow";s.className="introjs-tooltiptext";s.innerHTML=a.intro;w.className="introjs-bullets";!1===this._options.showBullets&&(w.style.display="none");for(var p=document.createElement("ul"),f=0,C=this._introItems.length;f<C;f++){var y=document.createElement("li"),B=document.createElement("a");B.onclick=function(){b.goToStep(this.getAttribute("data-stepnumber"))};f===a.step-1&&(B.className=
"active");B.href="javascript:void(0);";B.innerHTML="&nbsp;";B.setAttribute("data-stepnumber",this._introItems[f].step);y.appendChild(B);p.appendChild(y)}w.appendChild(p);E.className="introjs-progress";!1===this._options.showProgress&&(E.style.display="none");f=document.createElement("div");f.className="introjs-progressbar";f.setAttribute("style","width:"+M.call(this)+"%;");E.appendChild(f);u.className="introjs-tooltipbuttons";!1===this._options.showButtons&&(u.style.display="none");n.className="introjs-tooltip";
n.appendChild(s);n.appendChild(w);n.appendChild(E);!0==this._options.showStepNumbers&&(h=document.createElement("span"),h.className="introjs-helperNumberLayer",h.innerHTML=a.step,l.appendChild(h));n.appendChild(c);l.appendChild(n);m=document.createElement("a");m.onclick=function(){b._introItems.length-1!=b._currentStep&&z.call(b)};m.href="javascript:void(0);";m.innerHTML=this._options.nextLabel;l=document.createElement("a");l.onclick=function(){0!=b._currentStep&&D.call(b)};l.href="javascript:void(0);";
l.innerHTML=this._options.prevLabel;q=document.createElement("a");q.className="introjs-button introjs-skipbutton";q.href="javascript:void(0);";q.innerHTML=this._options.skipLabel;q.onclick=function(){b._introItems.length-1==b._currentStep&&"function"===typeof b._introCompleteCallback&&b._introCompleteCallback.call(b);b._introItems.length-1!=b._currentStep&&"function"===typeof b._introExitCallback&&b._introExitCallback.call(b);A.call(b,b._targetElement)};u.appendChild(q);1<this._introItems.length&&
(u.appendChild(l),u.appendChild(m));n.appendChild(u);F.call(b,a.element,n,c,h)}!0===this._options.disableInteraction&&R.call(b);l.removeAttribute("tabIndex");m.removeAttribute("tabIndex");0==this._currentStep&&1<this._introItems.length?(l.className="introjs-button introjs-prevbutton introjs-disabled",l.tabIndex="-1",m.className="introjs-button introjs-nextbutton",q.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep||1==this._introItems.length?(q.innerHTML=this._options.doneLabel,
l.className="introjs-button introjs-prevbutton",m.className="introjs-button introjs-nextbutton introjs-disabled",m.tabIndex="-1"):(l.className="introjs-button introjs-prevbutton",m.className="introjs-button introjs-nextbutton",q.innerHTML=this._options.skipLabel);m.focus();a.element.className+=" introjs-showElement";h=v(a.element,"position");"absolute"!==h&&"relative"!==h&&(a.element.className+=" introjs-relativePosition");for(h=a.element.parentNode;null!=h&&"body"!==h.tagName.toLowerCase();){c=v(h,
"z-index");n=parseFloat(v(h,"opacity"));u=v(h,"transform")||v(h,"-webkit-transform")||v(h,"-moz-transform")||v(h,"-ms-transform")||v(h,"-o-transform");if(/[0-9]+/.test(c)||1>n||"none"!==u&&void 0!==u)h.className+=" introjs-fixParent";h=h.parentNode}S(a.element)||!0!==this._options.scrollToElement||(n=a.element.getBoundingClientRect(),h=G().height,c=n.bottom-(n.bottom-n.top),n=n.bottom-h,0>c||a.element.clientHeight>h?window.scrollBy(0,c-30):window.scrollBy(0,n+100));"undefined"!==typeof this._introAfterChangeCallback&&
this._introAfterChangeCallback.call(this,a.element)}function v(a,b){var c="";a.currentStyle?c=a.currentStyle[b]:document.defaultView&&document.defaultView.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));return c&&c.toLowerCase?c.toLowerCase():c}function I(a){var b=a.parentNode;return"HTML"===b.nodeName?!1:"fixed"==v(a,"position")?!0:I(b)}function G(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var a=document.documentElement;
return{width:a.clientWidth,height:a.clientHeight}}function S(a){a=a.getBoundingClientRect();return 0<=a.top&&0<=a.left&&a.bottom+80<=window.innerHeight&&a.right<=window.innerWidth}function Q(a){var b=document.createElement("div"),c="",d=this;b.className="introjs-overlay";if("body"===a.tagName.toLowerCase())c+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",b.setAttribute("style",c);else{var f=t(a);f&&(c+="width: "+f.width+"px; height:"+f.height+"px; top:"+f.top+"px;left: "+f.left+"px;",b.setAttribute("style",
c))}a.appendChild(b);b.onclick=function(){!0==d._options.exitOnOverlayClick&&(void 0!=d._introExitCallback&&d._introExitCallback.call(d),A.call(d,a))};setTimeout(function(){c+="opacity: "+d._options.overlayOpacity.toString()+";";b.setAttribute("style",c)},10);return!0}function w(){var a=this._targetElement.querySelector(".introjs-hintReference");if(a){var b=a.getAttribute("data-step");a.parentNode.removeChild(a);return b}}function N(){for(var a=0,b=this._introItems.length;a<b;a++){var c=this._introItems[a];
O.call(this,c.hintPosition,c.element,c.targetElement)}}function T(a){w.call(this);var b=this._targetElement.querySelector('.introjs-hint[data-step="'+a+'"]');b&&(b.className+=" introjs-hidehint");"undefined"!==typeof this._hintCloseCallback&&this._hintCloseCallback.call(this,a)}function U(){var a=this,b=document.querySelector(".introjs-hints");null==b&&(b=document.createElement("div"),b.className="introjs-hints");for(var c=0,d=this._introItems.length;c<d;c++){var f=this._introItems[c];if(!document.querySelector('.introjs-hint[data-step="'+
c+'"]')){var e=document.createElement("a");e.href="javascript:void(0);";(function(b,c,d){b.onclick=function(e){e=e?e:window.event;e.stopPropagation&&e.stopPropagation();null!=e.cancelBubble&&(e.cancelBubble=!0);V.call(a,b,c,d)}})(e,f,c);e.className="introjs-hint";I(f.element)&&(e.className+=" introjs-fixedhint");var g=document.createElement("div");g.className="introjs-hint-dot";var k=document.createElement("div");k.className="introjs-hint-pulse";e.appendChild(g);e.appendChild(k);e.setAttribute("data-step",
c);f.targetElement=f.element;f.element=e;O.call(this,f.hintPosition,e,f.targetElement);b.appendChild(e)}}document.body.appendChild(b);"undefined"!==typeof this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function O(a,b,c){c=t.call(this,c);switch(a){default:case "top-left":b.style.left=c.left+"px";b.style.top=c.top+"px";break;case "top-right":b.style.left=c.left+c.width+"px";b.style.top=c.top+"px";break;case "bottom-left":b.style.left=c.left+"px";b.style.top=c.top+c.height+"px";break;
case "bottom-right":b.style.left=c.left+c.width+"px";b.style.top=c.top+c.height+"px";break;case "bottom-middle":b.style.left=c.left+c.width/2+"px";b.style.top=c.top+c.height+"px";break;case "top-middle":b.style.left=c.left+c.width/2+"px",b.style.top=c.top+"px"}}function V(a,b,c){"undefined"!==typeof this._hintClickCallback&&this._hintClickCallback.call(this,a,b,c);var d=w.call(this);if(parseInt(d,10)!=c){var d=document.createElement("div"),f=document.createElement("div"),e=document.createElement("div"),
g=document.createElement("div");d.className="introjs-tooltip";d.onclick=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};f.className="introjs-tooltiptext";var k=document.createElement("p");k.innerHTML=b.hint;b=document.createElement("a");b.className="introjs-button";b.innerHTML=this._options.hintButtonLabel;b.onclick=T.bind(this,c);f.appendChild(k);f.appendChild(b);e.className="introjs-arrow";d.appendChild(e);d.appendChild(f);this._currentStep=a.getAttribute("data-step");g.className=
"introjs-tooltipReferenceLayer introjs-hintReference";g.setAttribute("data-step",a.getAttribute("data-step"));r.call(this,g);g.appendChild(d);document.body.appendChild(g);F.call(this,a,d,e,null,!0)}}function t(a){var b={};b.width=a.offsetWidth;b.height=a.offsetHeight;for(var c=0,d=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)c+=a.offsetLeft,d+=a.offsetTop,a=a.offsetParent;b.top=d;b.left=c;return b}function M(){return 100*(parseInt(this._currentStep+1,10)/this._introItems.length)}var J=function(a){if("object"===
typeof a)return new p(a);if("string"===typeof a){if(a=document.querySelector(a))return new p(a);throw Error("There is no element with given selector.");}return new p(document.body)};J.version="2.0";J.fn=p.prototype={clone:function(){return new p(this)},setOption:function(a,b){this._options[a]=b;return this},setOptions:function(a){var b=this._options,c={},d;for(d in b)c[d]=b[d];for(d in a)c[d]=a[d];this._options=c;return this},start:function(){P.call(this,this._targetElement);return this},goToStep:function(a){this._currentStep=
a-2;"undefined"!==typeof this._introItems&&z.call(this);return this},nextStep:function(){z.call(this);return this},previousStep:function(){D.call(this);return this},exit:function(){A.call(this,this._targetElement);return this},refresh:function(){r.call(this,document.querySelector(".introjs-helperLayer"));r.call(this,document.querySelector(".introjs-tooltipReferenceLayer"));return this},onbeforechange:function(a){if("function"===typeof a)this._introBeforeChangeCallback=a;else throw Error("Provided callback for onbeforechange was not a function");
return this},onchange:function(a){if("function"===typeof a)this._introChangeCallback=a;else throw Error("Provided callback for onchange was not a function.");return this},onafterchange:function(a){if("function"===typeof a)this._introAfterChangeCallback=a;else throw Error("Provided callback for onafterchange was not a function");return this},oncomplete:function(a){if("function"===typeof a)this._introCompleteCallback=a;else throw Error("Provided callback for oncomplete was not a function.");return this},
onhintsadded:function(a){if("function"===typeof a)this._hintsAddedCallback=a;else throw Error("Provided callback for onhintsadded was not a function.");return this},onhintclick:function(a){if("function"===typeof a)this._hintClickCallback=a;else throw Error("Provided callback for onhintclick was not a function.");return this},onhintclose:function(a){if("function"===typeof a)this._hintCloseCallback=a;else throw Error("Provided callback for onhintclose was not a function.");return this},onexit:function(a){if("function"===
typeof a)this._introExitCallback=a;else throw Error("Provided callback for onexit was not a function.");return this},addHints:function(){a:{var a=this._targetElement;this._introItems=[];if(this._options.hints)for(var a=0,b=this._options.hints.length;a<b;a++){var c=y(this._options.hints[a]);"string"===typeof c.element&&(c.element=document.querySelector(c.element));c.hintPosition=c.hintPosition||"top-middle";null!=c.element&&this._introItems.push(c)}else{c=a.querySelectorAll("*[data-hint]");if(1>c.length)break a;
a=0;for(b=c.length;a<b;a++){var d=c[a];this._introItems.push({element:d,hint:d.getAttribute("data-hint"),hintPosition:d.getAttribute("data-hintPosition")||this._options.hintPosition,tooltipClass:d.getAttribute("data-tooltipClass"),position:d.getAttribute("data-position")||this._options.tooltipPosition})}}U.call(this);document.addEventListener?(document.addEventListener("click",w.bind(this),!1),window.addEventListener("resize",N.bind(this),!0)):document.attachEvent&&(document.attachEvent("onclick",
w.bind(this)),document.attachEvent("onresize",N.bind(this)))}return this}};return C.introJs=J});

/*
 AngularJS v1.5.0
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(O,W,v){'use strict';function H(a){return function(){var b=arguments[0],d;d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.5.0/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent,e;e=arguments[b];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function Ca(a){if(null==a||Za(a))return!1;if(L(a)||F(a)||C&&a instanceof C)return!0;
var b="length"in Object(a)&&a.length;return N(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function n(a,b,d){var c,e;if(a)if(D(a))for(c in a)"prototype"==c||"length"==c||"name"==c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(L(a)||Ca(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==n)a.forEach(b,d,a);else if(qc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&
b.call(d,a[c],c,a);else for(c in a)sa.call(a,c)&&b.call(d,a[c],c,a);return a}function rc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function sc(a){return function(b,d){a(d,b)}}function Yd(){return++pb}function Qb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(E(g)||D(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],r=g[m];d&&E(r)?V(r)?a[m]=new Date(r.valueOf()):$a(r)?a[m]=new RegExp(r):r.nodeName?a[m]=r.cloneNode(!0):
Rb(r)?a[m]=r.clone():(E(a[m])||(a[m]=L(r)?[]:{}),Qb(a[m],[r],!0)):a[m]=r}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function T(a){return Qb(a,wa.call(arguments,1),!1)}function Zd(a){return Qb(a,wa.call(arguments,1),!0)}function ca(a){return parseInt(a,10)}function Sb(a,b){return T(Object.create(a),b)}function B(){}function ab(a){return a}function ba(a){return function(){return a}}function tc(a){return D(a.toString)&&a.toString!==ga}function x(a){return"undefined"===typeof a}function y(a){return"undefined"!==
typeof a}function E(a){return null!==a&&"object"===typeof a}function qc(a){return null!==a&&"object"===typeof a&&!uc(a)}function F(a){return"string"===typeof a}function N(a){return"number"===typeof a}function V(a){return"[object Date]"===ga.call(a)}function D(a){return"function"===typeof a}function $a(a){return"[object RegExp]"===ga.call(a)}function Za(a){return a&&a.window===a}function bb(a){return a&&a.$evalAsync&&a.$watch}function Na(a){return"boolean"===typeof a}function $d(a){return a&&N(a.length)&&
ae.test(ga.call(a))}function Rb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function be(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function ra(a){return G(a.nodeName||a[0]&&a[0].nodeName)}function cb(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function Oa(a,b){function d(a,b){var d=b.$$hashKey,e;if(L(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(qc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"===typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&
(b[e]=c(a[e]));else for(e in a)sa.call(a,e)&&(b[e]=c(a[e]));d?b.$$hashKey=d:delete b.$$hashKey;return b}function c(a){if(!E(a))return a;var b=f.indexOf(a);if(-1!==b)return g[b];if(Za(a)||bb(a))throw Da("cpws");var b=!1,c=e(a);c===v&&(c=L(a)?[]:Object.create(uc(a)),b=!0);f.push(a);g.push(c);return b?d(a,c):c}function e(a){switch(ga.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(c(a.buffer));
case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex,b}if(D(a.cloneNode))return a.cloneNode(!0)}var f=[],g=[];if(b){if($d(b)||"[object ArrayBuffer]"===ga.call(b))throw Da("cpta");
if(a===b)throw Da("cpi");L(b)?b.length=0:n(b,function(a,c){"$$hashKey"!==c&&delete b[c]});f.push(a);g.push(b);return d(a,b)}return c(a)}function na(a,b){if(L(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(E(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function oa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d==typeof b&&"object"==d)if(L(a)){if(!L(b))return!1;if((d=a.length)==b.length){for(c=
0;c<d;c++)if(!oa(a[c],b[c]))return!1;return!0}}else{if(V(a))return V(b)?oa(a.getTime(),b.getTime()):!1;if($a(a))return $a(b)?a.toString()==b.toString():!1;if(bb(a)||bb(b)||Za(a)||Za(b)||L(b)||V(b)||$a(b))return!1;d=Z();for(c in a)if("$"!==c.charAt(0)&&!D(a[c])){if(!oa(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&y(b[c])&&!D(b[c]))return!1;return!0}return!1}function db(a,b,d){return a.concat(wa.call(b,d))}function vc(a,b){var d=2<arguments.length?wa.call(arguments,2):[];
return!D(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,db(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function ce(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=v:Za(b)?d="$WINDOW":b&&W===b?d="$DOCUMENT":bb(b)&&(d="$SCOPE");return d}function eb(a,b){if(x(a))return v;N(b)||(b=b?2:null);return JSON.stringify(a,ce,b)}function wc(a){return F(a)?JSON.parse(a):a}function xc(a,b){a=a.replace(de,
"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return isNaN(d)?b:d}function Tb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=xc(b,c);d*=b-c;a=new Date(a.getTime());a.setMinutes(a.getMinutes()+d);return a}function ta(a){a=C(a).clone();try{a.empty()}catch(b){}var d=C("<div>").append(a).html();try{return a[0].nodeType===Pa?G(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+G(b)})}catch(c){return G(d)}}function yc(a){try{return decodeURIComponent(a)}catch(b){}}function zc(a){var b=
{};n((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=yc(e),y(e)&&(f=y(f)?yc(f):!0,sa.call(b,e)?L(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Ub(a){var b=[];n(a,function(a,c){L(a)?n(a,function(a){b.push(ha(c,!0)+(!0===a?"":"="+ha(a,!0)))}):b.push(ha(c,!0)+(!0===a?"":"="+ha(a,!0)))});return b.length?b.join("&"):""}function qb(a){return ha(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,
"+")}function ha(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ee(a,b){var d,c,e=Qa.length;for(c=0;c<e;++c)if(d=Qa[c]+b,F(d=a.getAttribute(d)))return d;return null}function fe(a,b){var d,c,e={};n(Qa,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});n(Qa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&
(d=e,c=e.getAttribute(b))});d&&(e.strictDi=null!==ee(d,"strict-di"),b(d,c?[c]:[],e))}function Ac(a,b,d){E(d)||(d={});d=T({strictDi:!1},d);var c=function(){a=C(a);if(a.injector()){var c=a[0]===W?"document":ta(a);throw Da("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=fb(b,d.strictDi);c.invoke(["$rootScope","$rootElement",
"$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;O&&e.test(O.name)&&(d.debugInfoEnabled=!0,O.name=O.name.replace(e,""));if(O&&!f.test(O.name))return c();O.name=O.name.replace(f,"");ia.resumeBootstrap=function(a){n(a,function(a){b.push(a)});return c()};D(ia.resumeDeferredBootstrap)&&ia.resumeDeferredBootstrap()}function ge(){O.name="NG_ENABLE_DEBUG_INFO!"+O.name;O.location.reload()}function he(a){a=
ia.element(a).injector();if(!a)throw Da("test");return a.get("$$testability")}function Bc(a,b){b=b||"_";return a.replace(ie,function(a,c){return(c?b:"")+a.toLowerCase()})}function je(){var a;if(!Cc){var b=rb();(ua=x(b)?O.jQuery:b?O[b]:v)&&ua.fn.on?(C=ua,T(ua.fn,{scope:Ra.scope,isolateScope:Ra.isolateScope,controller:Ra.controller,injector:Ra.injector,inheritedData:Ra.inheritedData}),a=ua.cleanData,ua.cleanData=function(b){for(var c,e=0,f;null!=(f=b[e]);e++)(c=ua._data(f,"events"))&&c.$destroy&&ua(f).triggerHandler("$destroy");
a(b)}):C=U;ia.element=C;Cc=!0}}function sb(a,b,d){if(!a)throw Da("areq",b||"?",d||"required");return a}function Sa(a,b,d){d&&L(a)&&(a=a[a.length-1]);sb(D(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Ta(a,b){if("hasOwnProperty"===a)throw Da("badname",b);}function Dc(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&D(a)?vc(e,a):a}function tb(a){for(var b=a[0],d=a[a.length-1],c,
e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=C(wa.call(a,0,e))),c.push(b);return c||a}function Z(){return Object.create(null)}function ke(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=H("$injector"),c=H("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||H;return b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,d,e,f){f||(f=c);return function(){f[e||"push"]([b,
d,arguments]);return K}}function b(a,d){return function(b,e){e&&D(e)&&(e.$$moduleName=f);c.push([a,d,arguments]);return K}}if(!g)throw d("nomod",f);var c=[],e=[],s=[],I=a("$injector","invoke","push",e),K={_invokeQueue:c,_configBlocks:e,_runBlocks:s,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider",
"register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:I,run:function(a){s.push(a);return this}};h&&I(h);return K})}})}function le(a){T(a,{bootstrap:Ac,copy:Oa,extend:T,merge:Zd,equals:oa,element:C,forEach:n,injector:fb,noop:B,bind:vc,toJson:eb,fromJson:wc,identity:ab,isUndefined:x,isDefined:y,isString:F,isFunction:D,isObject:E,isNumber:N,isElement:Rb,isArray:L,
version:me,isDate:V,lowercase:G,uppercase:ub,callbacks:{counter:0},getTestability:he,$$minErr:H,$$csp:Ea,reloadWithDebugInfo:ge});Vb=ke(O);Vb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:ne});a.provider("$compile",Ec).directive({a:oe,input:Fc,textarea:Fc,form:pe,script:qe,select:re,style:se,option:te,ngBind:ue,ngBindHtml:ve,ngBindTemplate:we,ngClass:xe,ngClassEven:ye,ngClassOdd:ze,ngCloak:Ae,ngController:Be,ngForm:Ce,ngHide:De,ngIf:Ee,ngInclude:Fe,ngInit:Ge,ngNonBindable:He,
ngPluralize:Ie,ngRepeat:Je,ngShow:Ke,ngStyle:Le,ngSwitch:Me,ngSwitchWhen:Ne,ngSwitchDefault:Oe,ngOptions:Pe,ngTransclude:Qe,ngModel:Re,ngList:Se,ngChange:Te,pattern:Gc,ngPattern:Gc,required:Hc,ngRequired:Hc,minlength:Ic,ngMinlength:Ic,maxlength:Jc,ngMaxlength:Jc,ngValue:Ue,ngModelOptions:Ve}).directive({ngInclude:We}).directive(vb).directive(Kc);a.provider({$anchorScroll:Xe,$animate:Ye,$animateCss:Ze,$$animateJs:$e,$$animateQueue:af,$$AnimateRunner:bf,$$animateAsyncRun:cf,$browser:df,$cacheFactory:ef,
$controller:ff,$document:gf,$exceptionHandler:hf,$filter:Lc,$$forceReflow:jf,$interpolate:kf,$interval:lf,$http:mf,$httpParamSerializer:nf,$httpParamSerializerJQLike:of,$httpBackend:pf,$xhrFactory:qf,$location:rf,$log:sf,$parse:tf,$rootScope:uf,$q:vf,$$q:wf,$sce:xf,$sceDelegate:yf,$sniffer:zf,$templateCache:Af,$templateRequest:Bf,$$testability:Cf,$timeout:Df,$window:Ef,$$rAF:Ff,$$jqLite:Gf,$$HashMap:Hf,$$cookieReader:If})}])}function gb(a){return a.replace(Jf,function(a,d,c,e){return e?c.toUpperCase():
c}).replace(Kf,"Moz$1")}function Mc(a){a=a.nodeType;return 1===a||!a||9===a}function Nc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Wb.test(a)){d=d||e.appendChild(b.createElement("div"));c=(Lf.exec(a)||["",""])[1].toLowerCase();c=da[c]||da._default;d.innerHTML=c[1]+a.replace(Mf,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=db(f,d.childNodes);d=e.firstChild;d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";n(f,function(a){e.appendChild(a)});return e}function Oc(a,
b){var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)}function U(a){if(a instanceof U)return a;var b;F(a)&&(a=X(a),b=!0);if(!(this instanceof U)){if(b&&"<"!=a.charAt(0))throw Xb("nosel");return new U(a)}if(b){b=W;var d;a=(d=Nf.exec(a))?[b.createElement(d[1])]:(d=Nc(a,b))?d.childNodes:[]}Pc(this,a)}function Yb(a){return a.cloneNode(!0)}function wb(a,b){b||hb(a);if(a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)hb(d[c])}function Qc(a,b,d,c){if(y(c))throw Xb("offargs");
var e=(c=xb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];y(d)&&cb(c||[],d);y(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};n(b.split(" "),function(a){g(a);yb[a]&&g(yb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function hb(a,b){var d=a.ng339,c=d&&ib[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Qc(a)),delete ib[d],a.ng339=v))}function xb(a,b){var d=a.ng339,d=d&&ib[d];b&&!d&&(a.ng339=d=++Of,
d=ib[d]={events:{},data:{},handle:v});return d}function Zb(a,b,d){if(Mc(a)){var c=y(d),e=!c&&b&&!E(b),f=!b;a=(a=xb(a,!e))&&a.data;if(c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];T(a,b)}}}function zb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Ab(a,b){b&&a.setAttribute&&n(b.split(" "),function(b){a.setAttribute("class",X((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+X(b)+" "," ")))})}function Bb(a,
b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");n(b.split(" "),function(a){a=X(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",X(d))}}function Pc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function Rc(a,b){return Cb(a,"$"+(b||"ngController")+"Controller")}function Cb(a,b,d){9==a.nodeType&&(a=a.documentElement);for(b=
L(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(y(d=C.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function Sc(a){for(wb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function $b(a,b){b||wb(a);var d=a.parentNode;d&&d.removeChild(a)}function Pf(a,b){b=b||O;if("complete"===b.document.readyState)b.setTimeout(a);else C(b).on("load",a)}function Tc(a,b){var d=Db[b.toLowerCase()];return d&&Uc[ra(a)]&&d}function Qf(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};
var f=b[d||c.type],g=f?f.length:0;if(g){if(x(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||Rf;1<g&&(f=na(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};d.elem=a;return d}function Rf(a,b,d){d.call(a,b)}function Sf(a,b,
d){var c=b.relatedTarget;c&&(c===a||Tf.call(a,c))||d.call(a,b)}function Gf(){this.$get=function(){return T(U,{hasClass:function(a,b){a.attr&&(a=a[0]);return zb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Bb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Ab(a,b)}})}}function Fa(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||Yd)():d+":"+a}function Ua(a,b){if(b){var d=0;this.nextUid=
function(){return++d}}n(a,this.put,this)}function Vc(a){a=a.toString().replace(Uf,"");return a.match(Vf)||a.match(Wf)}function Xf(a){return(a=Vc(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function fb(a,b){function d(a){return function(b,c){if(E(b))n(b,sc(a));else return a(b,c)}}function c(a,b){Ta(a,"service");if(D(b)||L(b))b=s.instantiate(b);if(!b.$get)throw Ga("pget",a);return r[a+"Provider"]=b}function e(a,b){return function(){var c=t.invoke(b,this);if(x(c))throw Ga("undef",a);
return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){sb(x(a)||L(a),"modulesToLoad","not an array");var b=[],c;n(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=s.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{F(a)?(c=Vb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):D(a)?b.push(s.invoke(a)):L(a)?b.push(s.invoke(a)):Sa(a,"module")}catch(e){throw L(a)&&(a=a[a.length-1]),e.message&&e.stack&&
-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ga("modulerr",a,e.stack||e.message||e);}}});return b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Ga("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e)}catch(f){throw a[b]===k&&delete a[b],f;}finally{l.shift()}}function e(a,c,f){var g=[];a=fb.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!==typeof l)throw Ga("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:
d(l,f))}return g}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);L(a)&&(a=a[a.length-1]);d=11>=xa?!1:"function"===typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a));return d?(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=L(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:fb.$$annotate,has:function(b){return r.hasOwnProperty(b+
"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Ua([],!0),r={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ba(b),!1)}),constant:d(function(a,b){Ta(a,"constant");r[a]=b;I[a]=b}),decorator:function(a,b){var c=s.get(a+"Provider"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},s=r.$injector=h(r,function(a,b){ia.isString(b)&&l.push(b);
throw Ga("unpr",l.join(" <- "));}),I={},K=h(I,function(a,b){var c=s.get(a+"Provider",b);return t.invoke(c.$get,c,v,a)}),t=K;r.$injectorProvider={$get:ba(K)};var p=g(a),t=K.get("$injector");t.strictDi=b;n(p,function(a){a&&t.invoke(a)});return t}function Xe(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===ra(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();
var c;c=g.yOffset;D(c)?c=c():Rb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):N(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=F(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Pf(function(){c.$evalAsync(g)})});return g}]}function jb(a,b){if(!a&&!b)return"";
if(!a)return b;if(!b)return a;L(a)&&(a=a.join(" "));L(b)&&(b=b.join(" "));return a+" "+b}function Yf(a){F(a)&&(a=a.split(" "));var b=Z();n(a,function(a){a.length&&(b[a]=!0)});return b}function Ha(a){return E(a)?a:{}}function Zf(a,b,d,c){function e(a){try{a.apply(null,wa.call(arguments,1))}finally{if(K--,0===K)for(;t.length;)try{t.pop()()}catch(b){d.error(b)}}}function f(){z=null;g();h()}function g(){a:{try{p=m.state;break a}catch(a){}p=void 0}p=x(p)?null:p;oa(p,$)&&(p=$);$=p}function h(){if(u!==k.url()||
w!==p)u=k.url(),w=p,n(A,function(a){a(k.url(),p)})}var k=this,l=a.location,m=a.history,r=a.setTimeout,s=a.clearTimeout,I={};k.isMock=!1;var K=0,t=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){K++};k.notifyWhenNoOutstandingRequests=function(a){0===K?a():t.push(a)};var p,w,u=l.href,la=b.find("base"),z=null;g();w=p;k.url=function(b,d,e){x(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=w===e;if(u===b&&(!c.history||f))return k;var h=
u&&Ia(u)===Ia(b);u=b;w=e;if(!c.history||h&&f){if(!h||z)z=b;d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b;l.href!==b&&(z=b)}else m[d?"replaceState":"pushState"](e,"",b),g(),w=p;return k}return z||l.href.replace(/%27/g,"'")};k.state=function(){return p};var A=[],Q=!1,$=null;k.onUrlChange=function(b){if(!Q){if(c.history)C(a).on("popstate",f);C(a).on("hashchange",f);Q=!0}A.push(b);return b};k.$$applicationDestroyed=function(){C(a).off("hashchange popstate",f)};k.$$checkUrlChange=
h;k.baseHref=function(){var a=la.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};k.defer=function(a,b){var c;K++;c=r(function(){delete I[c];e(a)},b||0);I[c]=!0;return c};k.defer.cancel=function(a){return I[a]?(delete I[a],s(a),e(B),!0):!1}}function df(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new Zf(a,c,b,d)}]}function ef(){this.$get=function(){function a(a,c){function e(a){a!=r&&(s?s==a&&(s=a.n):s=a,f(a.n,a.p),f(a,r),r=a,r.n=null)}function f(a,
b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw H("$cacheFactory")("iid",a);var g=0,h=T({},c,{id:a}),k=Z(),l=c&&c.capacity||Number.MAX_VALUE,m=Z(),r=null,s=null;return b[a]={put:function(a,b){if(!x(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in k||g++;k[a]=b;g>l&&this.remove(s.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b==r&&(r=b.p);b==s&&(s=b.n);f(b.n,b.p);delete m[a]}a in
k&&(delete k[a],g--)},removeAll:function(){k=Z();g=0;m=Z();r=s=null},destroy:function(){m=h=k=null;delete b[a]},info:function(){return T({},h,{size:g})}}}var b={};a.info=function(){var a={};n(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function Af(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Ec(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e={};n(a,function(a,f){var g=a.match(d);if(!g)throw ja("iscp",b,f,a,c?
"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f}});return e}function c(a){var b=a.charAt(0);if(!b||b!==G(b))throw ja("baddir",a);if(a!==a.trim())throw ja("baddir",a);}var e={},f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=be("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/;this.directive=function s(b,f){Ta(b,"directive");F(b)?(c(b),sb(f,"directiveFactory"),
e.hasOwnProperty(b)||(e[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var f=[];n(e[b],function(e,g){try{var h=a.invoke(e);D(h)?h={compile:ba(h)}:!h.compile&&h.link&&(h.compile=ba(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||b;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||"EA";var k=h,l=h,m=h.name,s={isolateScope:null,bindToController:null};E(l.scope)&&(!0===l.bindToController?(s.bindToController=d(l.scope,m,!0),s.isolateScope={}):s.isolateScope=
d(l.scope,m,!1));E(l.bindToController)&&(s.bindToController=d(l.bindToController,m,!0));if(E(s.bindToController)){var P=l.controller,S=l.controllerAs;if(!P)throw ja("noctrl",m);if(!Wc(P,S))throw ja("noident",m);}var ma=k.$$bindings=s;E(ma.isolateScope)&&(h.$$isolateBindings=ma.isolateScope);h.$$moduleName=e.$$moduleName;f.push(h)}catch(K){c(K)}});return f}])),e[b].push(f)):n(b,sc(s));return this};this.component=function(a,b){function c(a){function e(b){return D(b)||L(b)?function(c,d){return a.invoke(b,
this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"";return{controller:d,controllerAs:Wc(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require}}var d=b.controller||function(){};n(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a)});c.$inject=["$injector"];return this.directive(a,c)};this.aHrefSanitizationWhitelist=function(a){return y(a)?(b.aHrefSanitizationWhitelist(a),
this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return y(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var m=!0;this.debugInfoEnabled=function(a){return y(a)?(m=a,this):m};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,d,p,w,u,la,z,A){function Q(a,b,c){ba.innerHTML="<span "+b+">";b=ba.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);
d.value=c;a.attributes.setNamedItem(d)}function $(a,b){try{a.addClass(b)}catch(c){}}function M(a,b,c,d,e){a instanceof C||(a=C(a));for(var f=/\S+/,g=0,h=a.length;g<h;g++){var k=a[g];k.nodeType===Pa&&k.nodeValue.match(f)&&Oc(k,a[g]=W.createElement("span"))}var l=P(a,b,a,c,d,e);M.$$addScopeClass(a);var m=null;return function(b,c,d){sb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;d=d.futureParentElement;f&&f.$$boundTransclude&&
(f=f.$$boundTransclude);m||(m=(d=d&&d[0])?"foreignobject"!==ra(d)&&ga.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==m?C(U(m,C("<div>").append(a).html())):c?Ra.clone.call(a):a;if(g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);M.$$addScopeInfo(d,b);c&&c(d,b);l&&l(b,d,d,f);return d}}function P(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,p,s,u;if(A)for(u=Array(c.length),m=0;m<h.length;m+=3)f=h[m],u[f]=c[f];else u=c;m=0;for(p=h.length;m<p;)k=u[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=
a.$new(),M.$$addScopeInfo(C(k),l)):l=a,s=c.transcludeOnThisElement?S(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?S(a,b):null,c(f,l,k,d,s)):f&&f(a,k.childNodes,v,e)}for(var h=[],k,l,m,p,A,s=0;s<a.length;s++){k=new na;l=ma(a[s],[],k,0===s?d:v,e);(f=l.length?y(l,a[s],k,b,c,null,[],[],f):null)&&f.scope&&M.$$addScopeClass(k.$$element);k=f&&f.terminal||!(m=a[s].childNodes)||!m.length?null:P(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(s,f,k),p=!0,A=
A||f;f=null}return p?g:null}function S(a,b,c){var d=function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})},e=d.$$slots=Z(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?S(a,b.$$slots[f],c):null;return d}function ma(a,b,c,d,e){var h=c.$attr,k;switch(a.nodeType){case 1:H(b,va(ra(a)),"E",d,e);for(var l,m,p,s=a.attributes,A=0,u=s&&s.length;A<u;A++){var t=!1,w=!1;l=s[A];k=l.name;m=X(l.value);l=va(k);if(p=pa.test(l))k=
k.replace(Xc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});(l=l.match(ua))&&O(l[1])&&(t=k,w=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6));l=va(k.toLowerCase());h[l]=k;if(p||!c.hasOwnProperty(l))c[l]=m,Tc(a,l)&&(c[l]=!0);Y(a,b,m,l,p);H(b,l,"A",d,e,t,w)}a=a.className;E(a)&&(a=a.animVal);if(F(a)&&""!==a)for(;k=g.exec(a);)l=va(k[2]),H(b,l,"C",d,e)&&(c[l]=X(k[3])),a=a.substr(k.index+k[0].length);break;case Pa:if(11===xa)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===
Pa;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);N(b,a.nodeValue);break;case 8:try{if(k=f.exec(a.nodeValue))l=va(k[1]),H(b,l,"M",d,e)&&(c[l]=X(k[2]))}catch(M){}}b.sort(ya);return b}function q(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ja("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return C(d)}function Yc(a,b,c){return function(d,e,f,g,h){e=q(e[0],b,
c);return a(d,e,f,g,h)}}function ac(a,b,c,d,e,f){if(a)return M(b,c,d,e,f);var g;return function(){g||(g=M(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function y(a,b,d,e,f,g,h,l,m){function p(a,b,c,d){if(a){c&&(a=Yc(a,c,d));a.require=J.require;a.directiveName=H;if(P===J||J.$$isolateScope)a=ca(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=Yc(b,c,d));b.require=J.require;b.directiveName=H;if(P===J||J.$$isolateScope)b=ca(b,{isolateScope:!0});l.push(b)}}function s(a,b,c,d){var e;if(F(b)){var f=
b.match(k);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;if(!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw ja("ctreq",b,a);}else if(L(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=s(a,b[g],c,d);else E(b)&&(e={},n(b,function(b,f){e[f]=s(a,b,c,d)}));return e||null}function A(a,b,c,d,e,f){var g=Z(),h;for(h in d){var k=d[h],l={$scope:k===P||k.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},m=k.controller;"@"==m&&
(m=b[k.name]);l=w(m,l,!0,k.controllerAs);g[k.name]=l;B||a.data("$"+k.name+"Controller",l.instance)}return g}function u(a,c,e,f,g){function k(a,b,c,d){var e;bb(a)||(d=c,c=b,b=a,a=v);B&&(e=ma);c||(c=B?z.parent():z);if(d){var f=g.$$slots[d];if(f)return f(a,b,e,c,Eb);if(x(f))throw ja("noslot",d,ta(z));}else return g(a,b,e,c,Eb)}var m,p,t,w,ma,S,z,Ja;b===e?(f=d,z=d.$$element):(z=C(e),f=new na(z,d));t=c;P?w=c.$new(!0):Q&&(t=c.$parent);g&&(S=k,S.$$boundTransclude=g,S.isSlotFilled=function(a){return!!g.$$slots[a]});
I&&(ma=A(z,f,S,I,w,c));P&&(M.$$addScopeInfo(z,w,!0,!($&&($===P||$===P.$$originalDirective))),M.$$addScopeClass(z,!0),w.$$isolateBindings=P.$$isolateBindings,(Ja=ia(c,f,w,w.$$isolateBindings,P))&&w.$on("$destroy",Ja));for(p in ma){Ja=I[p];var K=ma[p],la=Ja.$$bindings.bindToController;K.identifier&&la&&(m=ia(t,f,K.instance,la,Ja));var q=K();q!==K.instance&&(K.instance=q,z.data("$"+Ja.name+"Controller",q),m&&m(),m=ia(t,f,K.instance,la,Ja))}n(I,function(a,b){var c=a.require;a.bindToController&&!L(c)&&
E(c)&&T(ma[b].instance,s(b,c,z,ma))});n(ma,function(a){D(a.instance.$onInit)&&a.instance.$onInit()});m=0;for(p=h.length;m<p;m++)t=h[m],ka(t,t.isolateScope?w:c,z,f,t.require&&s(t.directiveName,t.require,z,ma),S);var Eb=c;P&&(P.template||null===P.templateUrl)&&(Eb=w);a&&a(Eb,e.childNodes,v,g);for(m=l.length-1;0<=m;m--)t=l[m],ka(t,t.isolateScope?w:c,z,f,t.require&&s(t.directiveName,t.require,z,ma),S)}m=m||{};for(var t=-Number.MAX_VALUE,Q=m.newScopeDirective,I=m.controllerDirectives,P=m.newIsolateScopeDirective,
$=m.templateDirective,S=m.nonTlbTranscludeDirective,z=!1,la=!1,B=m.hasElementTranscludeDirective,ea=d.$$element=C(b),J,H,G,ya=e,O,N=!1,Fb=!1,fa,R=0,Va=a.length;R<Va;R++){J=a[R];var Y=J.$$start,ba=J.$$end;Y&&(ea=q(b,Y,ba));G=v;if(t>J.priority)break;if(fa=J.scope)J.templateUrl||(E(fa)?(Wa("new/isolated scope",P||Q,J,ea),P=J):Wa("new/isolated scope",P,J,ea)),Q=Q||J;H=J.name;if(!N&&(J.replace&&(J.templateUrl||J.template)||J.transclude&&!J.$$tlb)){for(fa=R+1;N=a[fa++];)if(N.transclude&&!N.$$tlb||N.replace&&
(N.templateUrl||N.template)){Fb=!0;break}N=!0}!J.templateUrl&&J.controller&&(fa=J.controller,I=I||Z(),Wa("'"+H+"' controller",I[H],J,ea),I[H]=J);if(fa=J.transclude)if(z=!0,J.$$tlb||(Wa("transclusion",S,J,ea),S=J),"element"==fa)B=!0,t=J.priority,G=ea,ea=d.$$element=C(W.createComment(" "+H+": "+d[H]+" ")),b=ea[0],aa(f,wa.call(G,0),b),ya=ac(Fb,G,e,t,g&&g.name,{nonTlbTranscludeDirective:S});else{var V=Z();G=C(Yb(b)).contents();if(E(fa)){G=[];var ha=Z(),da=Z();n(fa,function(a,b){var c="?"===a.charAt(0);
a=c?a.substring(1):a;ha[a]=b;V[b]=null;da[b]=c});n(ea.contents(),function(a){var b=ha[va(ra(a))];b?(da[b]=!0,V[b]=V[b]||[],V[b].push(a)):G.push(a)});n(da,function(a,b){if(!a)throw ja("reqslot",b);});for(var ga in V)V[ga]&&(V[ga]=ac(Fb,V[ga],e))}ea.empty();ya=ac(Fb,G,e,v,v,{needsNewScope:J.$$isolateScope||J.$$newScope});ya.$$slots=V}if(J.template)if(la=!0,Wa("template",$,J,ea),$=J,fa=D(J.template)?J.template(ea,d):J.template,fa=qa(fa),J.replace){g=J;G=Wb.test(fa)?Zc(U(J.templateNamespace,X(fa))):[];
b=G[0];if(1!=G.length||1!==b.nodeType)throw ja("tplrt",H,"");aa(f,ea,b);Va={$attr:{}};fa=ma(b,[],Va);var oa=a.splice(R+1,a.length-(R+1));(P||Q)&&$c(fa,P,Q);a=a.concat(fa).concat(oa);ad(d,Va);Va=a.length}else ea.html(fa);if(J.templateUrl)la=!0,Wa("template",$,J,ea),$=J,J.replace&&(g=J),u=$f(a.splice(R,a.length-R),ea,d,f,z&&ya,h,l,{controllerDirectives:I,newScopeDirective:Q!==J&&Q,newIsolateScopeDirective:P,templateDirective:$,nonTlbTranscludeDirective:S}),Va=a.length;else if(J.compile)try{O=J.compile(ea,
d,ya),D(O)?p(null,O,Y,ba):O&&p(O.pre,O.post,Y,ba)}catch(pa){c(pa,ta(ea))}J.terminal&&(u.terminal=!0,t=Math.max(t,J.priority))}u.scope=Q&&!0===Q.scope;u.transcludeOnThisElement=z;u.templateOnThisElement=la;u.transclude=ya;m.hasElementTranscludeDirective=B;return u}function $c(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Sb(a[d],{$$isolateScope:b,$$newScope:c})}function H(b,d,f,g,h,k,l){if(d===h)return null;h=null;if(e.hasOwnProperty(d)){var m;d=a.get(d+"Directive");for(var p=0,A=d.length;p<A;p++)try{m=
d[p],(x(g)||g>m.priority)&&-1!=m.restrict.indexOf(f)&&(k&&(m=Sb(m,{$$start:k,$$end:l})),b.push(m),h=m)}catch(t){c(t)}}return h}function O(b){if(e.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,f=c.length;d<f;d++)if(b=c[d],b.multiElement)return!0;return!1}function ad(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;n(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});n(b,function(b,f){"class"==f?($(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+
b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function $f(a,b,c,e,f,g,h,k){var l=[],m,p,s=b[0],A=a.shift(),u=Sb(A,{templateUrl:null,transclude:null,replace:null,$$originalDirective:A}),w=D(A.templateUrl)?A.templateUrl(b,c):A.templateUrl,Q=A.templateNamespace;b.empty();d(w).then(function(d){var t,I;d=qa(d);if(A.replace){d=Wb.test(d)?Zc(U(Q,X(d))):[];t=d[0];if(1!=d.length||1!==t.nodeType)throw ja("tplrt",
A.name,w);d={$attr:{}};aa(e,b,t);var M=ma(t,[],d);E(A.scope)&&$c(M,!0);a=M.concat(a);ad(c,d)}else t=s,b.html(d);a.unshift(u);m=y(a,t,c,f,b,A,g,h,k);n(e,function(a,c){a==t&&(e[c]=b[0])});for(p=P(b[0].childNodes,f);l.length;){d=l.shift();I=l.shift();var z=l.shift(),K=l.shift(),M=b[0];if(!d.$$destroyed){if(I!==s){var la=I.className;k.hasElementTranscludeDirective&&A.replace||(M=Yb(t));aa(z,C(I),M);$(C(M),la)}I=m.transcludeOnThisElement?S(d,m.transclude,K):K;m(p,d,M,e,I)}}l=null});return function(a,b,
c,d,e){a=e;b.$$destroyed||(l?l.push(b,c,d,a):(m.transcludeOnThisElement&&(a=S(b,m.transclude,e)),m(p,b,c,d,a)))}}function ya(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Wa(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ja("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ta(d));}function N(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&M.$$addBindingClass(a);
return function(a,c){var e=c.parent();b||M.$$addBindingClass(e);M.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function U(a,b){a=G(a||"html");switch(a){case "svg":case "math":var c=W.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function R(a,b){if("srcdoc"==b)return la.HTML;var c=ra(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return la.RESOURCE_URL}function Y(a,c,d,e,
f){var g=R(a,e);f=h[e]||f;var k=b(d,!0,g,f);if(k){if("multiple"===e&&"select"===ra(a))throw ja("selmulti",ta(a));c.push({priority:100,compile:function(){return{pre:function(a,c,h){c=h.$$observers||(h.$$observers=Z());if(l.test(e))throw ja("nodomevents");var m=h[e];m!==d&&(k=m&&b(m,!0,g,f),d=m);k&&(h[e]=k(a),(c[e]||(c[e]=[])).$$inter=!0,(h.$$observers&&h.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!=b?h.$updateClass(a,b):h.$set(e,a)}))}}}})}}function aa(a,b,c){var d=b[0],e=b.length,
f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=W.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);C.hasData(d)&&(C.data(c,C.data(d)),C(d).off("$destroy"));C.cleanData(a.querySelectorAll("*"));for(g=1;g<e;g++)delete b[g];b[0]=c;b.length=1}function ca(a,b){return T(function(){return a.apply(null,arguments)},a,b)}function ka(a,
b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ta(d))}}function ia(a,c,d,e,f){var g=[];n(e,function(e,h){var k=e.attrName,l=e.optional,m,A,s,t;switch(e.mode){case "@":l||sa.call(c,k)||(d[h]=c[k]=void 0);c.$observe(k,function(a){F(a)&&(d[h]=a)});c.$$observers[k].$$scope=a;m=c[k];F(m)?d[h]=b(m)(a):Na(m)&&(d[h]=m);break;case "=":if(!sa.call(c,k)){if(l)break;c[k]=void 0}if(l&&!c[k])break;A=p(c[k]);t=A.literal?oa:function(a,b){return a===b||a!==a&&b!==b};s=A.assign||function(){m=d[h]=A(a);throw ja("nonassign",
c[k],k,f.name);};m=d[h]=A(a);l=function(b){t(b,d[h])||(t(b,m)?s(a,b=d[h]):d[h]=b);return m=b};l.$stateful=!0;l=e.collection?a.$watchCollection(c[k],l):a.$watch(p(c[k],l),null,A.literal);g.push(l);break;case "<":if(!sa.call(c,k)){if(l)break;c[k]=void 0}if(l&&!c[k])break;A=p(c[k]);d[h]=A(a);l=a.$watch(A,function(a){d[h]=a},A.literal);g.push(l);break;case "&":A=c.hasOwnProperty(k)?p(c[k]):B;if(A===B&&l)break;d[h]=function(b){return A(a,b)}}});return g.length&&function(){for(var a=0,b=g.length;a<b;++a)g[a]()}}
var V=/^\w/,ba=W.createElement("div"),na=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};na.prototype={$normalize:va,$addClass:function(a){a&&0<a.length&&z.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&z.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=bd(a,b);c&&c.length&&z.addClass(this.$$element,c);(c=bd(b,a))&&c.length&&z.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=
Tc(this.$$element[0],a),g=cd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Bc(a,"-"));f=ra(this.$$element);if("a"===f&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=b=A(b,"src"===a);else if("img"===f&&"srcset"===a){for(var f="",g=X(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+A(X(g[m]),!0),f=f+(" "+X(g[m+1]));g=X(g[2*l]).split(/\s/);
f+=A(X(g[0]),!0);2===g.length&&(f+=" "+X(g[1]));this[a]=b=f}!1!==d&&(null===b||x(b)?this.$$element.removeAttr(e):V.test(e)?this.$$element.attr(e,b):Q(this.$$element[0],e,b));(a=this.$$observers)&&n(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=Z()),e=d[a]||(d[a]=[]);e.push(b);u.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||x(c[a])||b(c[a])});return function(){cb(e,b)}}};var ha=b.startSymbol(),da=b.endSymbol(),qa="{{"==ha&&"}}"==
da?ab:function(a){return a.replace(/\{\{/g,ha).replace(/}}/g,da)},pa=/^ngAttr[A-Z]/,ua=/^(.+)Start$/;M.$$addBindingInfo=m?function(a,b){var c=a.data("$binding")||[];L(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:B;M.$$addBindingClass=m?function(a){$(a,"ng-binding")}:B;M.$$addScopeInfo=m?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:B;M.$$addScopeClass=m?function(a,b){$(a,b?"ng-isolate-scope":"ng-scope")}:B;return M}]}function va(a){return gb(a.replace(Xc,
""))}function bd(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g==e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function Zc(a){a=C(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&ag.call(a,b,1);return a}function Wc(a,b){if(b&&F(b))return b;if(F(a)){var d=dd.exec(a);if(d)return d[3]}}function ff(){var a={},b=!1;this.register=function(b,c){Ta(b,"controller");E(b)?T(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=
["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!E(a.$scope))throw H("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,r;h=!0===h;k&&F(k)&&(r=k);if(F(f)){k=f.match(dd);if(!k)throw bg("ctrlfmt",f);m=k[1];r=r||k[3];f=a.hasOwnProperty(m)?a[m]:Dc(g.$scope,m,!0)||(b?Dc(c,m,!0):v);Sa(f,m,!0)}if(h)return h=(L(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),r&&e(g,r,l,m||f.name),T(function(){var a=d.invoke(f,l,g,m);a!==l&&(E(a)||D(a))&&(l=a,r&&e(g,r,l,m||f.name));
return l},{instance:l,identifier:r});l=d.instantiate(f,g,m);r&&e(g,r,l,m||f.name);return l}}]}function gf(){this.$get=["$window",function(a){return C(a.document)}]}function hf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function bc(a){return E(a)?V(a)?a.toISOString():eb(a):a}function nf(){this.$get=function(){return function(a){if(!a)return"";var b=[];rc(a,function(a,c){null===a||x(a)||(L(a)?n(a,function(a,d){b.push(ha(c)+"="+ha(bc(a)))}):b.push(ha(c)+"="+ha(bc(a))))});
return b.join("&")}}}function of(){this.$get=function(){return function(a){function b(a,e,f){null===a||x(a)||(L(a)?n(a,function(a,c){b(a,e+"["+(E(a)?c:"")+"]")}):E(a)&&!V(a)?rc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ha(e)+"="+ha(bc(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function cc(a,b){if(F(a)){var d=a.replace(cg,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(ed))||(c=(c=d.match(dg))&&eg[c[0]].test(d));c&&(a=wc(d))}}return a}function fd(a){var b=
Z(),d;F(a)?n(a.split("\n"),function(a){d=a.indexOf(":");var e=G(X(a.substr(0,d)));a=X(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):E(a)&&n(a,function(a,d){var f=G(d),g=X(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function gd(a){var b;return function(d){b||(b=fd(a));return d?(d=b[G(d)],void 0===d&&(d=null),d):b}}function hd(a,b,d,c){if(D(c))return c(a,b,d);n(c,function(c){a=c(a,b,d)});return a}function mf(){var a=this.defaults={transformResponse:[cc],transformRequest:[function(a){return E(a)&&"[object File]"!==
ga.call(a)&&"[object Blob]"!==ga.call(a)&&"[object FormData]"!==ga.call(a)?eb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:na(dc),put:na(dc),patch:na(dc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return y(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return y(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory",
"$rootScope","$q","$injector",function(e,f,g,h,k,l){function m(b){function c(a){var b=T({},a);b.data=hd(a.data,a.headers,a.status,f.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}function e(a,b){var c,d={};n(a,function(a,e){D(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}if(!E(b))throw H("$http")("badreq",b);if(!F(b.url))throw H("$http")("badreq",b.url);var f=T({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},
b);f.headers=function(b){var c=a.headers,d=T({},b.headers),f,g,h,c=T({},c.common,c[G(b.method)]);a:for(f in c){g=G(f);for(h in d)if(G(h)===g)continue a;d[f]=c[f]}return e(d,na(b))}(b);f.method=ub(f.method);f.paramSerializer=F(f.paramSerializer)?l.get(f.paramSerializer):f.paramSerializer;var g=[function(b){var d=b.headers,e=hd(b.data,gd(d),v,b.transformRequest);x(e)&&n(d,function(a,b){"content-type"===G(b)&&delete d[b]});x(b.withCredentials)&&!x(a.withCredentials)&&(b.withCredentials=a.withCredentials);
return r(b,e).then(c,c)},v],h=k.when(f);for(n(K,function(a){(a.request||a.requestError)&&g.unshift(a.request,a.requestError);(a.response||a.responseError)&&g.push(a.response,a.responseError)});g.length;){b=g.shift();var m=g.shift(),h=h.then(b,m)}d?(h.success=function(a){Sa(a,"fn");h.then(function(b){a(b.data,b.status,b.headers,f)});return h},h.error=function(a){Sa(a,"fn");h.then(null,function(b){a(b.data,b.status,b.headers,f)});return h}):(h.success=id("success"),h.error=id("error"));return h}function r(c,
d){function g(a,c,d,e){function f(){l(c,a,d,e)}K&&(200<=a&&300>a?K.put(S,[a,c,fd(d),e]):K.remove(S));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function l(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?A.resolve:A.reject)({data:a,status:b,headers:gd(d),config:c,statusText:e})}function r(a){l(a.data,a.status,na(a.headers()),a.statusText)}function z(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var A=k.defer(),Q=A.promise,K,M,P=c.headers,S=s(c.url,c.paramSerializer(c.params));
m.pendingRequests.push(c);Q.then(z,z);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(K=E(c.cache)?c.cache:E(a.cache)?a.cache:I);K&&(M=K.get(S),y(M)?M&&D(M.then)?M.then(r,r):L(M)?l(M[1],M[0],na(M[2]),M[3]):l(M,200,{},"OK"):K.put(S,Q));x(M)&&((M=jd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:v)&&(P[c.xsrfHeaderName||a.xsrfHeaderName]=M),e(c.method,S,d,g,P,c.timeout,c.withCredentials,c.responseType));return Q}function s(a,b){0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b);
return a}var I=g("$http");a.paramSerializer=F(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var K=[];n(c,function(a){K.unshift(F(a)?l.get(a):l.invoke(a))});m.pendingRequests=[];(function(a){n(arguments,function(a){m[a]=function(b,c){return m(T({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){n(arguments,function(a){m[a]=function(b,c,d){return m(T({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");m.defaults=a;return m}]}function qf(){this.$get=
function(){return function(){return new O.XMLHttpRequest}}}function pf(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,d,c){return fg(a,c,a.defer,b.angular.callbacks,d[0])}]}function fg(a,b,d,c,e){function f(a,b,d){var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m,!1);f.removeEventListener("error",m,!1);e.body.removeChild(f);f=null;var g=-1,I="unknown";a&&("load"!==a.type||c[b].called||(a={type:"error"}),
I=a.type,g="error"===a.type?404:200);d&&d(g,I)};f.addEventListener("load",m,!1);f.addEventListener("error",m,!1);e.body.appendChild(f);return m}return function(e,h,k,l,m,r,s,I){function K(){w&&w();u&&u.abort()}function t(b,c,e,f,g){y(z)&&d.cancel(z);w=u=null;b(c,e,f,g);a.$$completeOutstandingRequest(B)}a.$$incOutstandingRequestCount();h=h||a.url();if("jsonp"==G(e)){var p="_"+(c.counter++).toString(36);c[p]=function(a){c[p].data=a;c[p].called=!0};var w=f(h.replace("JSON_CALLBACK","angular.callbacks."+
p),p,function(a,b){t(l,a,c[p].data,"",b);c[p]=B})}else{var u=b(e,h);u.open(e,h,!0);n(m,function(a,b){y(a)&&u.setRequestHeader(b,a)});u.onload=function(){var a=u.statusText||"",b="response"in u?u.response:u.responseText,c=1223===u.status?204:u.status;0===c&&(c=b?200:"file"==za(h).protocol?404:0);t(l,c,b,u.getAllResponseHeaders(),a)};e=function(){t(l,-1,null,null,"")};u.onerror=e;u.onabort=e;s&&(u.withCredentials=!0);if(I)try{u.responseType=I}catch(la){if("json"!==I)throw la;}u.send(x(k)?null:k)}if(0<
r)var z=d(K,r);else r&&D(r.then)&&r.then(K)}}function kf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(r,a).replace(s,b)}function h(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function k(f,k,r,p){function s(a){try{var b=a;a=r?e.getTrusted(r,b):e.valueOf(b);var d;if(p&&!y(a))d=
a;else if(null==a)d="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=eb(a)}d=a}return d}catch(g){c(Ka.interr(f,g))}}if(!f.length||-1===f.indexOf(a)){var u;k||(k=g(f),u=ba(k),u.exp=f,u.expressions=[],u.$$watchDelegate=h);return u}p=!!p;var n,z,A=0,Q=[],$=[];u=f.length;for(var M=[],P=[];A<u;)if(-1!=(n=f.indexOf(a,A))&&-1!=(z=f.indexOf(b,n+l)))A!==n&&M.push(g(f.substring(A,n))),A=f.substring(n+l,z),Q.push(A),$.push(d(A,s)),A=z+m,P.push(M.length),M.push("");else{A!==u&&
M.push(g(f.substring(A)));break}r&&1<M.length&&Ka.throwNoconcat(f);if(!k||Q.length){var S=function(a){for(var b=0,c=Q.length;b<c;b++){if(p&&x(a[b]))return;M[P[b]]=a[b]}return M.join("")};return T(function(a){var b=0,d=Q.length,e=Array(d);try{for(;b<d;b++)e[b]=$[b](a);return S(e)}catch(g){c(Ka.interr(f,g))}},{exp:f,expressions:Q,$$watchDelegate:function(a,b){var c;return a.$watchGroup($,function(d,e){var f=S(d);D(b)&&b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,r=new RegExp(a.replace(/./g,
f),"g"),s=new RegExp(b.replace(/./g,f),"g");k.startSymbol=function(){return a};k.endSymbol=function(){return b};return k}]}function lf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,m){function r(){s?f.apply(null,I):f(p)}var s=4<arguments.length,I=s?wa.call(arguments,4):[],K=b.setInterval,t=b.clearInterval,p=0,w=y(m)&&!m,u=(w?c:d).defer(),n=u.promise;l=y(l)?l:0;n.$$intervalId=K(function(){w?e.defer(r):a.$evalAsync(r);u.notify(p++);0<l&&p>=l&&(u.resolve(p),
t(n.$$intervalId),delete g[n.$$intervalId]);w||a.$apply()},k);g[n.$$intervalId]=u;return n}var g={};f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1};return f}]}function ec(a){a=a.split("/");for(var b=a.length;b--;)a[b]=qb(a[b]);return a.join("/")}function kd(a,b){var d=za(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=ca(d.port)||gg[d.protocol]||null}function ld(a,b){var d="/"!==a.charAt(0);
d&&(a="/"+a);var c=za(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname);b.$$search=zc(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function pa(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function Ia(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function kb(a){return a.replace(/(#.+)|#$/,"$1")}function fc(a,b,d){this.$$html5=!0;d=d||"";kd(a,this);this.$$parse=function(a){var d=pa(b,
a);if(!F(d))throw Gb("ipthprfx",a,b);ld(d,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Ub(this.$$search),d=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=ec(this.$$path)+(a?"?"+a:"")+d;this.$$absUrl=b+this.$$url.substr(1)};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;y(f=pa(a,c))?(g=f,g=y(f=pa(d,f))?b+(pa("/",f)||f):a+g):y(f=pa(b,c))?g=b+f:b==c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function gc(a,b,d){kd(a,this);
this.$$parse=function(c){var e=pa(a,c)||pa(b,c),f;x(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",x(e)&&(a=c,this.replace())):(f=pa(d,e),x(f)&&(f=e));ld(f,this);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=Ub(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=ec(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"")};this.$$parseLinkUrl=
function(b,d){return Ia(a)==Ia(b)?(this.$$parse(b),!0):!1}}function md(a,b,d){this.$$html5=!0;gc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a==Ia(c)?f=c:(g=pa(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=Ub(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=ec(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+d+this.$$url}}function Hb(a){return function(){return this[a]}}function nd(a,
b){return function(d){if(x(d))return this[a];this[a]=b(d);this.$$compose();return this}}function rf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return y(b)?(a=b,this):a};this.html5Mode=function(a){return Na(a)?(b.enabled=a,this):E(a)?(Na(a.enabled)&&(b.enabled=a.enabled),Na(a.requireBase)&&(b.requireBase=a.requireBase),Na(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,
c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g;}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var r=c.url(),s;if(b.enabled){if(!m&&b.requireBase)throw Gb("nobase");s=r.substring(0,r.indexOf("/",r.indexOf("//")+2))+(m||"/");m=e.history?fc:md}else s=Ia(r),m=gc;var I=s.substr(0,Ia(s).lastIndexOf("/")+1);l=new m(s,I,"#"+a);l.$$parseLinkUrl(r,r);l.$$state=c.state();
var n=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=C(a.target);"a"!==ra(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");E(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=za(h.animVal).href);n.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),l.absUrl()!=c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=
!0))}});kb(l.absUrl())!=kb(r)&&c.url(l.absUrl(),!0);var t=!0;c.onUrlChange(function(a,b){x(pa(I,a))?g.location.href=a:(d.$evalAsync(function(){var c=l.absUrl(),e=l.$$state,f;a=kb(a);l.$$parse(a);l.$$state=b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(t=!1,k(c,e)))}),d.$$phase||d.$digest())});d.$watch(function(){var a=kb(c.url()),b=kb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;if(t||
m)t=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))});l.$$replace=!1});return l}]}function sf(){var a=!0,b=this;this.debugEnabled=function(b){return y(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&
(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||B;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];n(arguments,function(b){a.push(c(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Xa(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===
a||"__proto__"===a)throw ka("isecfld",b);return a}function hg(a){return a+""}function Aa(a,b){if(a){if(a.constructor===a)throw ka("isecfn",b);if(a.window===a)throw ka("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ka("isecdom",b);if(a===Object)throw ka("isecobj",b);}return a}function od(a,b){if(a){if(a.constructor===a)throw ka("isecfn",b);if(a===ig||a===jg||a===kg)throw ka("isecff",b);}}function Ib(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||
a==={}.constructor||a===[].constructor||a===Function.constructor))throw ka("isecaf",b);}function lg(a,b){return"undefined"!==typeof a?a:b}function pd(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function R(a,b){var d,c;switch(a.type){case q.Program:d=!0;n(a.body,function(a){R(a.expression,b);d=d&&a.expression.constant});a.constant=d;break;case q.Literal:a.constant=!0;a.toWatch=[];break;case q.UnaryExpression:R(a.argument,b);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;
break;case q.BinaryExpression:R(a.left,b);R(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case q.LogicalExpression:R(a.left,b);R(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case q.ConditionalExpression:R(a.test,b);R(a.alternate,b);R(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case q.Identifier:a.constant=!1;a.toWatch=
[a];break;case q.MemberExpression:R(a.object,b);a.computed&&R(a.property,b);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=[a];break;case q.CallExpression:d=a.filter?!b(a.callee.name).$stateful:!1;c=[];n(a.arguments,function(a){R(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=a.filter&&!b(a.callee.name).$stateful?c:[a];break;case q.AssignmentExpression:R(a.left,b);R(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];
break;case q.ArrayExpression:d=!0;c=[];n(a.elements,function(a){R(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=c;break;case q.ObjectExpression:d=!0;c=[];n(a.properties,function(a){R(a.value,b);d=d&&a.value.constant;a.value.constant||c.push.apply(c,a.value.toWatch)});a.constant=d;a.toWatch=c;break;case q.ThisExpression:a.constant=!1;a.toWatch=[];break;case q.LocalsExpression:a.constant=!1,a.toWatch=[]}}function qd(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;
return 1!==b.length?b:b[0]!==a?b:v}}function rd(a){return a.type===q.Identifier||a.type===q.MemberExpression}function sd(a){if(1===a.body.length&&rd(a.body[0].expression))return{type:q.AssignmentExpression,left:a.body[0].expression,right:{type:q.NGValueParameter},operator:"="}}function td(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===q.Literal||a.body[0].expression.type===q.ArrayExpression||a.body[0].expression.type===q.ObjectExpression)}function ud(a,b){this.astBuilder=
a;this.$filter=b}function vd(a,b){this.astBuilder=a;this.$filter=b}function Jb(a){return"constructor"==a}function hc(a){return D(a.valueOf)?a.valueOf():mg.call(a)}function tf(){var a=Z(),b=Z();this.$get=["$filter",function(d){function c(c,f,r){var u,n,z;r=r||K;switch(typeof c){case "string":z=c=c.trim();var A=r?b:a;u=A[z];if(!u){":"===c.charAt(0)&&":"===c.charAt(1)&&(n=!0,c=c.substring(2));u=r?I:s;var Q=new ic(u);u=(new jc(Q,d,u)).parse(c);u.constant?u.$$watchDelegate=l:n?u.$$watchDelegate=u.literal?
k:h:u.inputs&&(u.$$watchDelegate=g);r&&(u=e(u));A[z]=u}return m(u,f);case "function":return m(c,f);default:return m(B,f)}}function e(a){function b(c,d,e,f){var g=K;K=!0;try{return a(c,d,e,f)}finally{K=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate;b.assign=e(a.assign);b.constant=a.constant;b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=e(a.inputs[c]);b.inputs=a.inputs;return b}function f(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=hc(a),"object"===
typeof a)?!1:a===b||a!==a&&b!==b}function g(a,b,c,d,e){var g=d.inputs,h;if(1===g.length){var k=f,g=g[0];return a.$watch(function(a){var b=g(a);f(b,k)||(h=d(a,v,v,[b]),k=b&&hc(b));return h},b,c,e)}for(var l=[],m=[],r=0,s=g.length;r<s;r++)l[r]=f,m[r]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var k=g[c](a);if(b||(b=!f(k,l[c])))m[c]=k,l[c]=k&&hc(k)}b&&(h=d(a,v,v,m));return h},b,c,e)}function h(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;
D(b)&&b.apply(this,arguments);y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;n(a,function(a){y(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;D(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function m(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==k&&c!==h?function(c,e,f,g){f=d&&g?g[0]:a(c,e,f,g);return b(f,
c,e)}:function(c,d,e,f){e=a(c,d,e,f);c=b(e,c,d);return y(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==g?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=g,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]);return c}var r=Ea().noUnsafeEval,s={csp:r,expensiveChecks:!1},I={csp:r,expensiveChecks:!0},K=!1;c.$$runningExpensiveChecks=function(){return K};return c}]}function vf(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return wd(function(b){a.$evalAsync(b)},b)}]}function wf(){this.$get=
["$browser","$exceptionHandler",function(a,b){return wd(function(b){a.defer(b)},b)}]}function wd(a,b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending;c.processScheduled=!1;c.pending=v;for(var f=0,g=e.length;f<g;++f){d=e[f][0];a=e[f][c.status];try{D(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=
new d}var g=H("$q",TypeError);T(d.prototype,{then:function(a,b,c){if(x(a)&&x(b)&&x(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&e(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}});T(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g("qcycle",
a)):this.$$resolve(a))},$$resolve:function(a){function d(a){k||(k=!0,h.$$resolve(a))}function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{if(E(a)||D(a))g=a&&a.then;D(g)?(this.promise.$$state.status=-1,g.call(a,d,f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,e(this.promise.$$state))}catch(l){f(l),b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;e(this.promise.$$state)},
notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0];a=d[f][3];try{e.notify(D(a)?a(c):c)}catch(h){b(h)}}})}});var h=function(a,b){var c=new f;b?c.resolve(a):c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{D(c)&&(d=c())}catch(e){return h(e,!1)}return d&&D(d.then)?d.then(function(){return h(a,b)},function(a){return h(a,!1)}):h(a,b)},l=function(a,b,c,d){var e=new f;e.resolve(a);return e.promise.then(b,
c,d)},m=function(a){if(!D(a))throw g("norslvr",a);var b=new f;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};m.prototype=d.prototype;m.defer=function(){var a=new f;a.resolve=c(a,a.resolve);a.reject=c(a,a.reject);a.notify=c(a,a.notify);return a};m.reject=function(a){var b=new f;b.reject(a);return b.promise};m.when=l;m.resolve=l;m.all=function(a){var b=new f,c=0,d=L(a)?[]:{};n(a,function(a,e){c++;l(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||
b.reject(a)})});0===c&&b.resolve(d);return b.promise};return m}function Ff(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function uf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=
this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++pb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=H("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===xa&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=
a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++pb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function r(a){if(w.$$phase)throw d("inprog",w.$$phase);w.$$phase=a}function s(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function I(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&
delete a.$$listenerCount[c];while(a=a.$parent)}function q(){}function t(){for(;z.length;)try{z.shift()()}catch(a){f(a)}e=null}function p(){null===e&&(e=h.defer(function(){w.$apply(t)}))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!=this)&&d.$on("$destroy",
k);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:q,get:f,exp:e||a,eq:!!d};c=null;D(b)||(l.fn=B);k||(k=h.$$watchers=[]);k.unshift(l);s(this,1);return function(){0<=cb(k,l)&&s(h,-1);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=
!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});n(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!x(e)){if(E(e))if(Ca(e))for(f!==r&&(f=r,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==s&&(f=s={},u=0,l++);a=0;for(b in e)sa.call(e,
b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)sa.call(e,b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,m=g(a,c),r=[],s={},p=!0,u=0;return this.$watch(m,function(){p?(p=!1,b(e,e,d)):b(e,h,d);if(k)if(E(e))if(Ca(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)sa.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,s,p,n,I=b,z,y=[],x,C;
r("$digest");h.$$checkUrlChange();this===w&&null!==e&&(h.defer.cancel(e),t());c=null;do{n=!1;for(z=this;u.length;){try{C=u.shift(),C.scope.$eval(C.expression,C.locals)}catch(B){f(B)}c=null}a:do{if(s=z.$$watchers)for(p=s.length;p--;)try{if(a=s[p])if(m=a.get,(g=m(z))!==(k=a.last)&&!(a.eq?oa(g,k):"number"===typeof g&&"number"===typeof k&&isNaN(g)&&isNaN(k)))n=!0,c=a,a.last=a.eq?Oa(g,null):g,l=a.fn,l(g,k===q?g:k,z),5>I&&(x=4-I,y[x]||(y[x]=[]),y[x].push({msg:D(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):
a.exp,newVal:g,oldVal:k}));else if(a===c){n=!1;break a}}catch(E){f(E)}if(!(s=z.$$watchersCount&&z.$$childHead||z!==this&&z.$$nextSibling))for(;z!==this&&!(s=z.$$nextSibling);)z=z.$parent}while(z=s);if((n||u.length)&&!I--)throw w.$$phase=null,d("infdig",b,y);}while(n||u.length);for(w.$$phase=null;v.length;)try{v.shift()()}catch(H){f(H)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===w&&h.$$applicationDestroyed();s(this,-this.$$watchersCount);
for(var b in this.$$listenerCount)I(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=B;this.$on=this.$watch=this.$watchGroup=function(){return B};this.$$listeners={};this.$$nextSibling=
null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){w.$$phase||u.length||h.defer(function(){u.length&&w.$digest()});u.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){v.push(a)},$apply:function(a){try{r("$apply");try{return this.$eval(a)}finally{w.$$phase=null}}catch(b){f(b)}finally{try{w.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&z.push(b);a=g(a);p()},$on:function(a,b){var c=this.$$listeners[a];
c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,I(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=db([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,
k)}catch(r){f(r)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=db([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&
c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var w=new m,u=w.$$asyncQueue=[],v=w.$$postDigestQueue=[],z=w.$$applyAsyncQueue=[];return w}]}function ne(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return y(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return y(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=
c?b:a,f;f=za(d).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function ng(a){if("self"===a)return a;if(F(a)){if(-1<a.indexOf("***"))throw Ba("iwcard",a);a=xd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+a+"$")}if($a(a))return new RegExp("^"+a.source+"$");throw Ba("imatcher");}function yd(a){var b=[];y(a)&&n(a,function(a){b.push(ng(a))});return b}function yf(){this.SCE_CONTEXTS=qa;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=yd(b));return a};
this.resourceUrlBlacklist=function(a){arguments.length&&(b=yd(a));return b};this.$get=["$injector",function(d){function c(a,b){return"self"===a?jd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Ba("unsafe");};d.has("$sanitize")&&(f=d.get("$sanitize"));
var g=e(),h={};h[qa.HTML]=e(g);h[qa.CSS]=e(g);h[qa.URL]=e(g);h[qa.JS]=e(g);h[qa.RESOURCE_URL]=e(h[qa.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ba("icontext",a,b);if(null===b||x(b)||""===b)return b;if("string"!==typeof b)throw Ba("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||x(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===qa.RESOURCE_URL){var g=za(e.toString()),r,s,n=!1;
r=0;for(s=a.length;r<s;r++)if(c(a[r],g)){n=!0;break}if(n)for(r=0,s=b.length;r<s;r++)if(c(b[r],g)){n=!1;break}if(n)return e;throw Ba("insecurl",e.toString());}if(d===qa.HTML)return f(e);throw Ba("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function xf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>xa)throw Ba("iequirks");var c=na(qa);c.isEnabled=function(){return a};c.trustAs=d.trustAs;
c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=ab);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;n(qa,function(a,b){var d=G(b);c[gb("parse_as_"+d)]=function(b){return e(a,b)};c[gb("get_trusted_"+d)]=function(b){return f(a,b)};c[gb("trust_as_"+d)]=function(b){return g(a,b)}});return c}]}function zf(){this.$get=["$window","$document",
function(a,b){var d={},c=ca((/android (\d+)/.exec(G((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),f=b[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,k=f.body&&f.body.style,l=!1,m=!1;if(k){for(var r in k)if(l=h.exec(r)){g=l[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in k&&"webkit");l=!!("transition"in k||g+"Transition"in k);m=!!("animation"in k||g+"Animation"in k);!c||l&&m||(l=F(k.webkitTransition),m=F(k.webkitAnimation))}return{history:!(!a.history||
!a.history.pushState||4>c||e),hasEvent:function(a){if("input"===a&&11>=xa)return!1;if(x(d[a])){var b=f.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ea(),vendorPrefix:g,transitions:l,animations:m,android:c}}]}function Bf(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$templateCache","$http","$q","$sce",function(b,d,c,e){function f(g,h){f.totalPendingRequests++;F(g)&&b.get(g)||(g=e.getTrustedResourceUrl(g));var k=d.defaults&&d.defaults.transformResponse;L(k)?k=k.filter(function(a){return a!==
cc}):k===cc&&(k=null);return d.get(g,T({cache:b,transformResponse:k},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){b.put(g,a.data);return a.data},function(a){if(!h)throw ja("tpload",g,a.status,a.statusText);return c.reject(a)})}f.totalPendingRequests=0;return f}]}function Cf(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];n(a,function(a){var c=ia.element(a).data("$binding");
c&&n(c,function(c){d?(new RegExp("(^|\\s)"+xd(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!=c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Df(){this.$get=["$rootScope",
"$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){D(f)||(l=k,k=f,f=B);var m=wa.call(arguments,3),r=y(l)&&!l,s=(r?c:d).defer(),n=s.promise,q;q=b.defer(function(){try{s.resolve(f.apply(null,m))}catch(b){s.reject(b),e(b)}finally{delete g[n.$$timeoutId]}r||a.$apply()},k);n.$$timeoutId=q;g[q]=s;return n}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}function za(a){xa&&
(Y.setAttribute("href",a),a=Y.href);Y.setAttribute("href",a);return{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,""):"",host:Y.host,search:Y.search?Y.search.replace(/^\?/,""):"",hash:Y.hash?Y.hash.replace(/^#/,""):"",hostname:Y.hostname,port:Y.port,pathname:"/"===Y.pathname.charAt(0)?Y.pathname:"/"+Y.pathname}}function jd(a){a=F(a)?za(a):a;return a.protocol===zd.protocol&&a.host===zd.host}function Ef(){this.$get=ba(O)}function Ad(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}
var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;a=d.cookie||"";if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(l=b(g.substring(0,k)),x(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function If(){this.$get=Ad}function Lc(a){function b(d,c){if(E(d)){var e={};n(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",Bd);b("date",Cd);
b("filter",og);b("json",pg);b("limitTo",qg);b("lowercase",rg);b("number",Dd);b("orderBy",Ed);b("uppercase",sg)}function og(){return function(a,b,d){if(!Ca(a)){if(null==a)return a;throw H("filter")("notarray",a);}var c;switch(kc(b)){case "function":break;case "boolean":case "null":case "number":case "string":c=!0;case "object":b=tg(b,d,c);break;default:return a}return Array.prototype.filter.call(a,b)}}function tg(a,b,d){var c=E(a)&&"$"in a;!0===b?b=oa:D(b)||(b=function(a,b){if(x(a))return!1;if(null===
a||null===b)return a===b;if(E(b)||E(a)&&!tc(a))return!1;a=G(""+a);b=G(""+b);return-1!==a.indexOf(b)});return function(e){return c&&!E(e)?La(e,a.$,b,!1):La(e,a,b,d)}}function La(a,b,d,c,e){var f=kc(a),g=kc(b);if("string"===g&&"!"===b.charAt(0))return!La(a,b.substring(1),d,c);if(L(a))return a.some(function(a){return La(a,b,d,c)});switch(f){case "object":var h;if(c){for(h in a)if("$"!==h.charAt(0)&&La(a[h],b,d,!0))return!0;return e?!1:La(a,b,d,!1)}if("object"===g){for(h in b)if(e=b[h],!D(e)&&!x(e)&&
(f="$"===h,!La(f?a:a[h],e,d,f,f)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function kc(a){return null===a?"null":typeof a}function Bd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){x(c)&&(c=b.CURRENCY_SYM);x(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Fd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Dd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Fd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function ug(a){var b=
0,d,c,e,f,g;-1<(c=a.indexOf(Gd))&&(a=a.replace(Gd,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)==lc;e++);if(e==(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)==lc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Hd&&(d=d.splice(0,Hd-1),b=c-1,c=1);return{d:d,e:b,i:c}}function vg(a,b,d,c){var e=a.d,f=e.length-a.i;b=x(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d)e.splice(d);else{a.i=1;e.length=d=b+1;for(var g=0;g<d;g++)e[g]=
0}for(5<=c&&e[d-1]++;f<b;f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Fd(a,b,d,c,e){if(!F(a)&&!N(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="\u221e";else{g=ug(h);vg(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h):(f=k,k=[0]);h=[];for(k.length>b.lgSize&&h.unshift(k.splice(-b.lgSize).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize).join(""));
k.length&&h.unshift(k.join(""));k=h.join(d);f.length&&(k+=c+f.join(""));e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Kb(a,b,d){var c="";0>a&&(c="-",a=-a);for(a=""+a;a.length<b;)a=lc+a;d&&(a=a.substr(a.length-b));return c+a}function aa(a,b,d,c){d=d||0;return function(e){e=e["get"+a]();if(0<d||e>-d)e+=d;0===e&&-12==d&&(e=12);return Kb(e,b,c)}}function Lb(a,b){return function(d,c){var e=d["get"+a](),f=ub(b?"SHORT"+a:a);return c[f][e]}}function Id(a){var b=(new Date(a,
0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Jd(a){return function(b){var d=Id(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Kb(b,a)}}function mc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Cd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=ca(b[9]+b[10]),g=ca(b[9]+b[11]));h.call(a,ca(b[1]),ca(b[2])-
1,ca(b[3]));f=ca(b[4]||0)-f;g=ca(b[5]||0)-g;h=ca(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",h=[],k,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;F(c)&&(c=wg.test(c)?ca(c):b(c));N(c)&&(c=new Date(c));if(!V(c)||!isFinite(c.getTime()))return c;for(;d;)(l=xg.exec(d))?(h=db(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();
f&&(m=xc(f,m),c=Tb(c,f,!0));n(h,function(b){k=yg[b];g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function pg(){return function(a,b){x(b)&&(b=2);return eb(a,b)}}function qg(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):ca(b);if(isNaN(b))return a;N(a)&&(a=a.toString());if(!L(a)&&!F(a))return a;d=!d||isNaN(d)?0:ca(d);d=0>d?Math.max(0,a.length+d):d;return 0<=b?a.slice(d,d+b):0===d?a.slice(b,a.length):a.slice(Math.max(0,d+b),
d)}}function Ed(a){function b(b,d){d=d?-1:1;return b.map(function(b){var c=1,h=ab;if(D(b))h=b;else if(F(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(h=a(b),h.constant))var k=h(),h=function(a){return a[k]}}return{get:h,descending:c*d}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}return function(a,e,f){if(null==a)return a;if(!Ca(a))throw H("orderBy")("notarray",a);L(e)||(e=[e]);0===e.length&&
(e=["+"]);var g=b(e,f);g.push({get:function(){return{}},descending:f?-1:1});a=Array.prototype.map.call(a,function(a,b){return{value:a,predicateValues:g.map(function(c){var e=c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("string"===c)e=e.toLowerCase();else if("object"===c)a:{if("function"===typeof e.valueOf&&(e=e.valueOf(),d(e)))break a;if(tc(e)&&(e=e.toString(),d(e)))break a;e=b}return{value:e,type:c}})}});a.sort(function(a,b){for(var c=0,d=0,e=g.length;d<e;++d){var c=a.predicateValues[d],
f=b.predicateValues[d],n=0;c.type===f.type?c.value!==f.value&&(n=c.value<f.value?-1:1):n=c.type<f.type?-1:1;if(c=n*g[d].descending)break}return c});return a=a.map(function(a){return a.value})}}function Ma(a){D(a)&&(a={link:a});a.restrict=a.restrict||"AC";return ba(a)}function Kd(a,b,d,c,e){var f=this,g=[];f.$error={};f.$$success={};f.$pending=v;f.$name=e(b.name||b.ngForm||"")(d);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;f.$$parentForm=Mb;f.$rollbackViewValue=function(){n(g,
function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){n(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){Ta(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a);a.$$parentForm=f};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];n(f.$pending,function(b,c){f.$setValidity(c,null,a)});n(f.$error,function(b,c){f.$setValidity(c,null,a)});n(f.$$success,function(b,c){f.$setValidity(c,
null,a)});cb(g,a);a.$$parentForm=Mb};Ld({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(cb(d,c),0===d.length&&delete a[b])},$animate:c});f.$setDirty=function(){c.removeClass(a,Ya);c.addClass(a,Nb);f.$dirty=!0;f.$pristine=!1;f.$$parentForm.$setDirty()};f.$setPristine=function(){c.setClass(a,Ya,Nb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;n(g,function(a){a.$setPristine()})};f.$setUntouched=function(){n(g,
function(a){a.$setUntouched()})};f.$setSubmitted=function(){c.addClass(a,"ng-submitted");f.$submitted=!0;f.$$parentForm.$setSubmitted()}}function nc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function lb(a,b,d,c,e,f){var g=G(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0});b.on("compositionend",function(){h=!1;k()})}var k=function(a){l&&(f.defer.cancel(l),l=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||
(e=X(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",k);else{var l,m=function(a,b,c){l||(l=f.defer(function(){l=null;b&&b.value===c||k(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",m)}b.on("change",k);c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Ob(a,b){return function(d,c){var e,
f;if(V(d))return d;if(F(d)){'"'==d.charAt(0)&&'"'==d.charAt(d.length-1)&&(d=d.substring(1,d.length-1));if(zg.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},n(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function mb(a,b,d,c){return function(e,
f,g,h,k,l,m){function r(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function s(a){return y(a)&&!V(a)?d(a)||v:a}Md(e,f,g,h);lb(e,f,g,h,k,l);var n=h&&h.$options&&h.$options.timezone,q;h.$$parserName=a;h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?(a=d(a,q),n&&(a=Tb(a,n)),a):v});h.$formatters.push(function(a){if(a&&!V(a))throw nb("datefmt",a);if(r(a))return(q=a)&&n&&(q=Tb(q,n,!0)),m("date")(a,c,n);q=null;return""});if(y(g.min)||g.ngMin){var t;h.$validators.min=function(a){return!r(a)||
x(t)||d(a)>=t};g.$observe("min",function(a){t=s(a);h.$validate()})}if(y(g.max)||g.ngMax){var p;h.$validators.max=function(a){return!r(a)||x(p)||d(a)<=p};g.$observe("max",function(a){p=s(a);h.$validate()})}}}function Md(a,b,d,c){(c.$$hasNativeValidators=E(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?v:a})}function Nd(a,b,d,c,e){if(y(c)){a=a(c);if(!a.constant)throw nb("constexpr",d,c);return a(b)}return e}function oc(a,b){a="ngClass"+a;
return["$animate",function(d){function c(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){var b=[];return L(a)?(n(a,function(a){b=b.concat(e(a))}),b):F(a)?a.split(" "):E(a)?(n(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a,b){var c=g.data("$classCounts")||Z(),d=[];n(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",
c);return d.join(" ")}function l(a){if(!0===b||f.$index%2===b){var l=e(a||[]);if(!m){var n=k(l,1);h.$addClass(n)}else if(!oa(a,m)){var q=e(m),n=c(l,q),l=c(q,l),n=k(n,1),l=k(l,-1);n&&n.length&&d.addClass(g,n);l&&l.length&&d.removeClass(g,l)}}m=na(a)}var m;f.$watch(h[a],l,!0);h.$observe("class",function(b){l(f.$eval(h[a]))});"ngClass"!==a&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var l=e(f.$eval(h[a]));g===b?(g=k(l,1),h.$addClass(g)):(g=k(l,-1),h.$removeClass(g))}})}}}]}function Ld(a){function b(a,
b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+Bc(a,"-"):"";b(ob+a,!0===c);b(Od+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[Od]=!(f[ob]=e.hasClass(ob));c.$setValidity=function(a,e,f){x(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),Pd(c.$pending)&&(c.$pending=v));Na(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,a,f));
c.$pending?(b(Qd,!0),c.$valid=c.$invalid=v,d("",null)):(b(Qd,!1),c.$valid=Pd(c.$error),c.$invalid=!c.$valid,d("",c.$valid));e=c.$pending&&c.$pending[a]?v:c.$error[a]?!1:c.$$success[a]?!0:null;d(a,e);c.$$parentForm.$setValidity(a,e,c)}}function Pd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Ag=/^\/(.+)\/([a-z]*)$/,sa=Object.prototype.hasOwnProperty,G=function(a){return F(a)?a.toLowerCase():a},ub=function(a){return F(a)?a.toUpperCase():a},xa,C,ua,wa=[].slice,ag=[].splice,Bg=
[].push,ga=Object.prototype.toString,uc=Object.getPrototypeOf,Da=H("ng"),ia=O.angular||(O.angular={}),Vb,pb=0;xa=W.documentMode;B.$inject=[];ab.$inject=[];var L=Array.isArray,ae=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,X=function(a){return F(a)?a.trim():a},xd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ea=function(){if(!y(Ea.rules)){var a=W.querySelector("[ng-csp]")||W.querySelector("[data-ng-csp]");
if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ea.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ea;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ea.rules},rb=function(){if(y(rb.name_))return rb.name_;var a,b,d=Qa.length,c,e;for(b=0;b<d;++b)if(c=Qa[b],a=W.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return rb.name_=e},de=/:/g,Qa=["ng-",
"data-ng-","ng:","x-ng-"],ie=/[A-Z]/g,Cc=!1,Pa=3,me={full:"1.5.0",major:1,minor:5,dot:0,codeName:"ennoblement-facilitation"};U.expando="ng339";var ib=U.cache={},Of=1;U._data=function(a){return this.cache[a[this.expando]]||{}};var Jf=/([\:\-\_]+(.))/g,Kf=/^moz([A-Z])/,yb={mouseleave:"mouseout",mouseenter:"mouseover"},Xb=H("jqLite"),Nf=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Wb=/<|&#?\w+;/,Lf=/<([\w:-]+)/,Mf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,da={option:[1,'<select multiple="multiple">',
"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};da.optgroup=da.option;da.tbody=da.tfoot=da.colgroup=da.caption=da.thead;da.th=da.td;var Tf=Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Ra=U.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===W.readyState?setTimeout(b):(this.on("DOMContentLoaded",
b),U(O).on("load",b))},toString:function(){var a=[];n(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?C(this[a]):C(this[this.length+a])},length:0,push:Bg,sort:[].sort,splice:[].splice},Db={};n("multiple selected checked disabled readOnly required open".split(" "),function(a){Db[G(a)]=a});var Uc={};n("input select option textarea button form details".split(" "),function(a){Uc[a]=!0});var cd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",
ngPattern:"pattern"};n({data:Zb,removeData:hb,hasData:function(a){for(var b in ib[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)hb(a[b])}},function(a,b){U[b]=a});n({data:Zb,inheritedData:Cb,scope:function(a){return C.data(a,"$scope")||Cb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return C.data(a,"$isolateScope")||C.data(a,"$isolateScopeNoTemplate")},controller:Rc,injector:function(a){return Cb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},
hasClass:zb,css:function(a,b,d){b=gb(b);if(y(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Pa&&2!==c&&8!==c)if(c=G(b),Db[c])if(y(d))d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c));else return a[b]||(a.attributes.getNamedItem(b)||B).specified?c:v;else if(y(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?v:a},prop:function(a,b,d){if(y(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(x(d)){var c=a.nodeType;
return 1===c||c===Pa?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(x(b)){if(a.multiple&&"select"===ra(a)){var d=[];n(a.options,function(a){a.selected&&d.push(a.value||a.text)});return 0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(x(b))return a.innerHTML;wb(a,!0);a.innerHTML=b},empty:Sc},function(a,b){U.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==Sc&&x(2==a.length&&a!==zb&&a!==Rc?b:c)){if(E(b)){for(e=0;e<g;e++)if(a===Zb)a(this[e],b);else for(f in b)a(this[e],
f,b[f]);return this}e=a.$dv;g=x(e)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});n({removeData:hb,on:function(a,b,d,c){if(y(c))throw Xb("onargs");if(Mc(a)){c=xb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Qf(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f,!1));h.push(d)};g--;)b=c[g],yb[b]?(h(yb[b],Sf),
h(b,v,!0)):h(b)}},off:Qc,one:function(a,b,d){a=C(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;wb(a);n(new U(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];n(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new U(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},
prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;n(new U(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Oc(a,C(b).eq(0).clone()[0])},remove:$b,detach:function(a){$b(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new U(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}},addClass:Bb,removeClass:Ab,toggleClass:function(a,b,d){b&&n(b.split(" "),function(b){var e=d;x(e)&&(e=!zb(a,b));(e?Bb:Ab)(a,b)})},parent:function(a){return(a=a.parentNode)&&
11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Yb,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=xb(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},
stopPropagation:B,type:f,target:a},b.type&&(c=T(c,b)),b=na(g),e=d?[c].concat(d):[c],n(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){U.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)x(f)?(f=a(this[g],b,c,e),y(f)&&(f=C(f))):Pc(f,a(this[g],b,c,e));return y(f)?f:this};U.prototype.bind=U.prototype.on;U.prototype.unbind=U.prototype.off});Ua.prototype={put:function(a,b){this[Fa(a,this.nextUid)]=b},get:function(a){return this[Fa(a,this.nextUid)]},remove:function(a){var b=
this[a=Fa(a,this.nextUid)];delete this[a];return b}};var Hf=[function(){this.$get=[function(){return Ua}]}],Vf=/^([^\(]+?)=>/,Wf=/^[^\(]*\(\s*([^\)]*)\)/m,Cg=/,/,Dg=/^\s*(_?)(\S+?)\1\s*$/,Uf=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ga=H("$injector");fb.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw F(d)&&d||(d=a.name||Xf(a)),Ga("strictdi",d);b=Vc(a);n(b[1].split(Cg),function(a){a.replace(Dg,function(a,b,d){c.push(d)})})}a.$inject=c}}else L(a)?
(b=a.length-1,Sa(a[b],"fn"),c=a.slice(0,b)):Sa(a,"fn",!0);return c};var Rd=H("$animate"),$e=function(){this.$get=function(){}},af=function(){var a=new Ua,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=F(b)?b.split(" "):L(b)?b:[],n(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){n(b,function(b){var c=a.get(b);if(c){var d=Yf(b.attr("class")),e="",f="";n(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});n(b,function(a){e&&
Bb(a,e);f&&Ab(a,f)});a.remove(b)}});b.length=0}return{enabled:B,on:B,off:B,pin:B,push:function(g,h,k,l){l&&l();k=k||{};k.from&&g.css(k.from);k.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),h||l)a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},Ye=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null);this.register=function(d,c){if(d&&"."!==d.charAt(0))throw Rd("notcsel",
d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e;a.factory(e,c)};this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Rd("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||
(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){f=f&&C(f);g=g&&C(g);f=f||g.parent();b(e,f,g);return a.push(e,"enter",Ha(h))},move:function(e,f,g,h){f=f&&C(f);g=g&&C(g);f=f||g.parent();b(e,f,g);return a.push(e,"move",Ha(h))},leave:function(b,c){return a.push(b,"leave",Ha(c),function(){b.remove()})},addClass:function(b,c,g){g=Ha(g);g.addClass=jb(g.addclass,c);return a.push(b,"addClass",g)},removeClass:function(b,
c,g){g=Ha(g);g.removeClass=jb(g.removeClass,c);return a.push(b,"removeClass",g)},setClass:function(b,c,g,h){h=Ha(h);h.addClass=jb(h.addClass,c);h.removeClass=jb(h.removeClass,g);return a.push(b,"setClass",h)},animate:function(b,c,g,h,k){k=Ha(k);k.from=k.from?T(k.from,c):c;k.to=k.to?T(k.to,g):g;k.tempClasses=jb(k.tempClasses,h||"ng-inline-animate");return a.push(b,"animate",k)}}}]}],cf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();
d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},bf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===
a.length&&b(e)}var d=0,e=!0;n(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:B,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&
this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(n(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},Ze=function(){this.$get=["$$rAF","$q","$$AnimateRunner",
function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=Oa(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},ja=H("$compile");Ec.$inject=["$provide","$$sanitizeUriProvider"];var Xc=/^((?:x|data)[\:\-_])/i,bg=H("$controller"),
dd=/^(\S+)(\s+as\s+([\w$]+))?$/,jf=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof C&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},ed="application/json",dc={"Content-Type":ed+";charset=utf-8"},dg=/^\[|^\{(?!\{)/,eg={"[":/]$/,"{":/}$/},cg=/^\)\]\}',?\n/,Eg=H("$http"),id=function(a){return function(){throw Eg("legacy",a);}},Ka=ia.$interpolateMinErr=H("$interpolate");Ka.throwNoconcat=function(a){throw Ka("noconcat",a);};Ka.interr=function(a,b){return Ka("interr",
a,b.toString())};var Fg=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,gg={http:80,https:443,ftp:21},Gb=H("$location"),Gg={$$html5:!1,$$replace:!1,absUrl:Hb("$$absUrl"),url:function(a){if(x(a))return this.$$url;var b=Fg.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Hb("$$protocol"),host:Hb("$$host"),port:Hb("$$port"),path:nd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,
b){switch(arguments.length){case 0:return this.$$search;case 1:if(F(a)||N(a))a=a.toString(),this.$$search=zc(a);else if(E(a))a=Oa(a,{}),n(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw Gb("isrcharg");break;default:x(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:nd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};n([md,gc,fc],function(a){a.prototype=Object.create(Gg);a.prototype.state=
function(b){if(!arguments.length)return this.$$state;if(a!==fc||!this.$$html5)throw Gb("nostate");this.$$state=x(b)?null:b;return this}});var ka=H("$parse"),ig=Function.prototype.call,jg=Function.prototype.apply,kg=Function.prototype.bind,Pb=Z();n("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Pb[a]=!0});var Hg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ic=function(a){this.options=a};ic.prototype={constructor:ic,lex:function(a){this.text=a;this.index=0;for(this.tokens=
[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Pb[b],e=Pb[d];Pb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=
a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===
a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=y(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw ka("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=G(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"==d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||
c&&this.isNumber(c)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=
this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=Hg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var q=function(a,b){this.lexer=a;this.options=b};q.Program="Program";q.ExpressionStatement=
"ExpressionStatement";q.AssignmentExpression="AssignmentExpression";q.ConditionalExpression="ConditionalExpression";q.LogicalExpression="LogicalExpression";q.BinaryExpression="BinaryExpression";q.UnaryExpression="UnaryExpression";q.CallExpression="CallExpression";q.MemberExpression="MemberExpression";q.Identifier="Identifier";q.Literal="Literal";q.ArrayExpression="ArrayExpression";q.Property="Property";q.ObjectExpression="ObjectExpression";q.ThisExpression="ThisExpression";q.LocalsExpression="LocalsExpression";
q.NGValueParameter="NGValueParameter";q.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:q.Program,body:a}},expressionStatement:function(){return{type:q.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=
this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();this.expect("=")&&(a={type:q.AssignmentExpression,left:a,right:this.assignment(),operator:"="});return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:q.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a=
{type:q.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:q.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:q.BinaryExpression,
operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:q.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:q.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:
this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=Oa(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:q.CallExpression,callee:a,arguments:this.parseArguments()},
this.consume(")")):"["===b.text?(a={type:q.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:q.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:q.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.expression());
while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:q.Identifier,name:a.text}},constant:function(){return{type:q.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:q.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;
b={type:q.Property,kind:"init"};this.peek().constant?b.key=this.constant():this.peek().identifier?b.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");b.value=this.expression();a.push(b)}while(this.expect(","))}this.consume("}");return{type:q.ObjectExpression,properties:a}},throwError:function(a,b){throw ka("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw ka("ueoe",this.text);var b=this.expect(a);
b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw ka("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},constants:{"true":{type:q.Literal,value:!0},
"false":{type:q.Literal,value:!1},"null":{type:q.Literal,value:null},undefined:{type:q.Literal,value:v},"this":{type:q.ThisExpression},$locals:{type:q.LocalsExpression}}};ud.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};R(c,d.$filter);var e="",f;this.stage="assign";if(f=sd(c))this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),
e="fn.assign="+this.generateFunction("assign","s,v,l");f=qd(c.body);d.stage="inputs";n(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}};d.state.computing=c;var e=d.nextId();d.recurse(a,e);d.return_(e);d.state.inputs.push(c);a.watchId=b});this.state.computing="fn";this.stage="main";this.recurse(c);e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+e+this.watchFns()+"return fn;";e=(new Function("$filter","ensureSafeMemberName","ensureSafeObject",
"ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e))(this.$filter,Xa,Aa,od,hg,Ib,lg,pd,a);this.state=this.stage=v;e.literal=td(c);e.constant=c.constant;return e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;n(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))});b.length&&a.push("fn.inputs=["+b.join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+
"};"},filterPrefix:function(){var a=[],b=this;n(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,k=this,l,m;c=c||B;if(!f&&y(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,
c,e,!0));else switch(a.type){case q.Program:n(a.body,function(b,c){k.recurse(b.expression,v,v,function(a){h=a});c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case q.Literal:m=this.escape(a.value);this.assign(b,m);c(m);break;case q.UnaryExpression:this.recurse(a.argument,v,v,function(a){h=a});m=a.operator+"("+this.ifDefined(h,0)+")";this.assign(b,m);c(m);break;case q.BinaryExpression:this.recurse(a.left,v,v,function(a){g=a});this.recurse(a.right,v,v,function(a){h=a});m="+"===
a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")";this.assign(b,m);c(m);break;case q.LogicalExpression:b=b||this.nextId();k.recurse(a.left,b);k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b));c(b);break;case q.ConditionalExpression:b=b||this.nextId();k.recurse(a.test,b);k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b));c(b);break;case q.Identifier:b=b||this.nextId();d&&(d.context="inputs"===k.stage?
"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);Xa(a.name);k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}"));k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name)));(k.state.expensiveChecks||Jb(a.name))&&k.addEnsureSafeObject(b);c(b);
break;case q.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();k.recurse(a.object,g,v,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g);if(a.computed)h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h);else{Xa(a.property.name);e&&
1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}"));m=k.nonComputedMember(g,a.property.name);if(k.state.expensiveChecks||Jb(a.property.name))m=k.ensureSafeObject(m);k.assign(b,m);d&&(d.computed=!1,d.name=a.property.name)}},function(){k.assign(b,"undefined")});c(b)},!!e);break;case q.CallExpression:b=b||this.nextId();a.filter?(h=k.filter(a.callee.name),l=[],n(a.arguments,function(a){var b=k.nextId();k.recurse(a,b);l.push(b)}),m=h+"("+
l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h);n(a.arguments,function(a){k.recurse(a,k.nextId(),v,function(a){l.push(k.ensureSafeObject(a))})});g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),m=k.member(g.context,g.name,g.computed)+"("+l.join(",")+")"):m=h+"("+l.join(",")+")";m=k.ensureSafeObject(m);k.assign(b,m)},function(){k.assign(b,"undefined")});c(b)}));break;case q.AssignmentExpression:h=
this.nextId();g={};if(!rd(a.left))throw ka("lval");this.recurse(a.left,v,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h);k.addEnsureSafeObject(k.member(g.context,g.name,g.computed));k.addEnsureSafeAssignContext(g.context);m=k.member(g.context,g.name,g.computed)+a.operator+h;k.assign(b,m);c(b||m)})},1);break;case q.ArrayExpression:l=[];n(a.elements,function(a){k.recurse(a,k.nextId(),v,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(m);break;case q.ObjectExpression:l=
[];n(a.properties,function(a){k.recurse(a.value,k.nextId(),v,function(b){l.push(k.escape(a.key.type===q.Identifier?a.key.name:""+a.key.value)+":"+b)})});m="{"+l.join(",")+"}";this.assign(b,m);c(m);break;case q.ThisExpression:this.assign(b,"s");c("s");break;case q.LocalsExpression:this.assign(b,"l");c("l");break;case q.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+
a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");
d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),
";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=
this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(F(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(N(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===typeof a)return"undefined";throw ka("esc");},nextId:function(a,
b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};vd.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=b;R(c,d.$filter);var e,f;if(e=sd(c))f=this.recurse(e);e=qd(c.body);var g;e&&(g=[],n(e,function(a,b){var c=d.recurse(a);a.input=c;g.push(c);a.watchId=b}));var h=[];n(c.body,function(a){h.push(d.recurse(a.expression))});e=0===c.body.length?function(){}:
1===c.body.length?h[0]:function(a,b){var c;n(h,function(d){c=d(a,b)});return c};f&&(e.assign=function(a,b,c){return f(a,c,b)});g&&(e.inputs=g);e.literal=td(c);e.constant=c.constant;return e},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case q.Literal:return this.value(a.value,b);case q.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case q.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),
this["binary"+a.operator](c,e,b);case q.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case q.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case q.Identifier:return Xa(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Jb(a.name),b,d,f.expression);case q.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Xa(a.property.name,f.expression),
e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case q.CallExpression:return g=[],n(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var r=[],n=0;n<g.length;++n)r.push(g[n](a,c,d,f));a=e.apply(v,r,f);return b?{context:v,name:v,value:a}:a}:function(a,c,d,m){var r=
e(a,c,d,m),n;if(null!=r.value){Aa(r.context,f.expression);od(r.value,f.expression);n=[];for(var q=0;q<g.length;++q)n.push(Aa(g[q](a,c,d,m),f.expression));n=Aa(r.value.apply(r.context,n),f.expression)}return b?{value:n}:n};case q.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var r=c(a,d,g,m);a=e(a,d,g,m);Aa(r.value,f.expression);Ib(r.context);r.context[r.name]=a;return b?{value:a}:a};case q.ArrayExpression:return g=[],n(a.elements,function(a){g.push(f.recurse(a))}),
function(a,c,d,e){for(var f=[],n=0;n<g.length;++n)f.push(g[n](a,c,d,e));return b?{value:f}:f};case q.ObjectExpression:return g=[],n(a.properties,function(a){g.push({key:a.key.type===q.Identifier?a.key.name:""+a.key.value,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},n=0;n<g.length;++n)f[g[n].key]=g[n].value(a,c,d,e);return b?{value:f}:f};case q.ThisExpression:return function(a){return b?{value:a}:a};case q.LocalsExpression:return function(a,c){return b?{value:c}:c};case q.NGValueParameter:return function(a,
c,d,e){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=y(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=y(d)?-d:0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=pd(h,c);return d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);
h=(y(h)?h:0)-(y(c)?c:0);return d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,
e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,
g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:v,
name:v,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){f=g&&a in g?g:f;c&&1!==c&&f&&!f[a]&&(f[a]={});g=f?f[a]:v;b&&Aa(g,e);return d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var l=a(f,g,h,k),m,n;null!=l&&(m=b(f,g,h,k),m+="",Xa(m,e),c&&1!==c&&(Ib(l),l&&!l[m]&&(l[m]={})),n=l[m],Aa(n,e));return d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){g=a(g,h,k,l);e&&1!==e&&(Ib(g),g&&!g[b]&&
(g[b]={}));h=null!=g?g[b]:v;(d||Jb(b))&&Aa(h,f);return c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var jc=function(a,b,d){this.lexer=a;this.$filter=b;this.options=d;this.ast=new q(this.lexer);this.astCompiler=d.csp?new vd(this.ast,b):new ud(this.ast,b)};jc.prototype={constructor:jc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var mg=Object.prototype.valueOf,Ba=H("$sce"),qa={HTML:"html",CSS:"css",URL:"url",
RESOURCE_URL:"resourceUrl",JS:"js"},ja=H("$compile"),Y=W.createElement("a"),zd=za(O.location.href);Ad.$inject=["$document"];Lc.$inject=["$provide"];var Hd=22,Gd=".",lc="0";Bd.$inject=["$locale"];Dd.$inject=["$locale"];var yg={yyyy:aa("FullYear",4),yy:aa("FullYear",2,0,!0),y:aa("FullYear",1),MMMM:Lb("Month"),MMM:Lb("Month",!0),MM:aa("Month",2,1),M:aa("Month",1,1),dd:aa("Date",2),d:aa("Date",1),HH:aa("Hours",2),H:aa("Hours",1),hh:aa("Hours",2,-12),h:aa("Hours",1,-12),mm:aa("Minutes",2),m:aa("Minutes",
1),ss:aa("Seconds",2),s:aa("Seconds",1),sss:aa("Milliseconds",3),EEEE:Lb("Day"),EEE:Lb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Kb(Math[0<a?"floor":"ceil"](a/60),2)+Kb(Math.abs(a%60),2))},ww:Jd(2),w:Jd(1),G:mc,GG:mc,GGG:mc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},xg=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,wg=/^\-?\d+$/;Cd.$inject=["$locale"];
var rg=ba(G),sg=ba(ub);Ed.$inject=["$parse"];var oe=ba({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ga.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};n(Db,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!=a){var c=va("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,
e)});vb[c]=function(){return{restrict:"A",priority:100,link:e}}}});n(cd,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"==e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Ag))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});n(["src","srcset","href"],function(a){var b=va("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ga.call(c.prop("href"))&&
(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),xa&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Mb={$addControl:B,$$renameControl:function(a,b){a.$name=b},$removeControl:B,$setValidity:B,$setDirty:B,$setPristine:B,$setSubmitted:B};Kd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Sd=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||B}return{name:"form",restrict:a?
"EAC":"E",require:["form","^^?form"],controller:Kd,compile:function(d,f){d.addClass(Ya).addClass(ob);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var s=function(b){a.$apply(function(){n.$commitViewValue();n.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",s,!1);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",s,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var q=g?c(n.$name):B;g&&(q(a,n),e.$observe(g,
function(b){n.$name!==b&&(q(a,v),n.$$parentForm.$$renameControl(n,b),q=c(n.$name),q(a,n))}));d.on("$destroy",function(){n.$$parentForm.$removeControl(n);q(a,v);T(n,Mb)})}}}}}]},pe=Sd(),Ce=Sd(!0),zg=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Ig=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Jg=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Kg=
/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Td=/^(\d{4})-(\d{2})-(\d{2})$/,Ud=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,pc=/^(\d{4})-W(\d\d)$/,Vd=/^(\d{4})-(\d\d)$/,Wd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Xd={text:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);nc(c)},date:mb("date",Td,Ob(Td,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mb("datetimelocal",Ud,Ob(Ud,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:mb("time",Wd,Ob(Wd,["HH","mm","ss",
"sss"]),"HH:mm:ss.sss"),week:mb("week",pc,function(a,b){if(V(a))return a;if(F(a)){pc.lastIndex=0;var d=pc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Id(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());return new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:mb("month",Vd,Ob(Vd,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Md(a,b,d,c);lb(a,b,d,c,e,f);c.$$parserName="number";c.$parsers.push(function(a){return c.$isEmpty(a)?null:
Kg.test(a)?parseFloat(a):v});c.$formatters.push(function(a){if(!c.$isEmpty(a)){if(!N(a))throw nb("numfmt",a);a=a.toString()}return a});if(y(d.min)||d.ngMin){var g;c.$validators.min=function(a){return c.$isEmpty(a)||x(g)||a>=g};d.$observe("min",function(a){y(a)&&!N(a)&&(a=parseFloat(a,10));g=N(a)&&!isNaN(a)?a:v;c.$validate()})}if(y(d.max)||d.ngMax){var h;c.$validators.max=function(a){return c.$isEmpty(a)||x(h)||a<=h};d.$observe("max",function(a){y(a)&&!N(a)&&(a=parseFloat(a,10));h=N(a)&&!isNaN(a)?
a:v;c.$validate()})}},url:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);nc(c);c.$$parserName="url";c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||Ig.test(d)}},email:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);nc(c);c.$$parserName="email";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||Jg.test(d)}},radio:function(a,b,d,c){x(d.name)&&b.attr("name",++pb);b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)});c.$render=function(){b[0].checked=d.value==c.$viewValue};
d.$observe("value",c.$render)},checkbox:function(a,b,d,c,e,f,g,h){var k=Nd(h,a,"ngTrueValue",d.ngTrueValue,!0),l=Nd(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return oa(a,k)});c.$parsers.push(function(a){return a?k:l})},hidden:B,button:B,submit:B,reset:B,file:B},Fc=["$browser","$sniffer","$filter","$parse",function(a,b,d,
c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Xd[G(g.type)]||Xd.text)(e,f,g,h[0],b,a,d,c)}}}}],Lg=/^(true|false|\d+)$/,Ue=function(){return{restrict:"A",priority:100,compile:function(a,b){return Lg.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},ue=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,
e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=x(a)?"":a})}}}}],we=["$interpolate","$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=x(a)?"":a})}}}}],ve=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});
d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){c.html(a.getTrustedHtml(f(b))||"")})}}}}],Te=ba({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),xe=oc("",!0),ze=oc("Odd",0),ye=oc("Even",1),Ae=Ma({compile:function(a,b){b.$set("ngCloak",v);a.removeClass("ng-cloak")}}),Be=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Kc={},Mg={blur:!0,focus:!0};n("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var b=va("ng-"+a);Kc[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Mg[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ee=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(b,d,c,e,f){var g,h,k;b.$watch(c.ngIf,function(b){b?h||f(function(b,e){h=e;b[b.length++]=W.createComment(" end ngIf: "+
c.ngIf+" ");g={clone:b};a.enter(b,d.parent(),d)}):(k&&(k.remove(),k=null),h&&(h.$destroy(),h=null),g&&(k=tb(g.clone),a.leave(k).then(function(){k=null}),g=null))})}}}],Fe=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ia.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,s){var q=0,v,t,p,w=function(){t&&(t.remove(),t=null);v&&(v.$destroy(),v=null);p&&
(d.leave(p).then(function(){t=null}),t=p,p=null)};c.$watch(f,function(f){var m=function(){!y(h)||h&&!c.$eval(h)||b()},z=++q;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&z===q){var b=c.$new();n.template=a;a=s(b,function(a){w();d.enter(a,null,e).then(m)});v=b;p=a;v.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||z!==q||(w(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(w(),n.template=null)})}}}}],We=["$compile",function(a){return{restrict:"ECA",
priority:-400,require:"ngInclude",link:function(b,d,c,e){ga.call(d[0]).match(/SVG/)?(d.empty(),a(Nc(e.template,W).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ge=Ma({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Se=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?X(e):e;c.$parsers.push(function(a){if(!x(a)){var b=
[];a&&n(a.split(g),function(a){a&&b.push(f?X(a):a)});return b}});c.$formatters.push(function(a){return L(a)?a.join(e):v});c.$isEmpty=function(a){return!a||!a.length}}}},ob="ng-valid",Od="ng-invalid",Ya="ng-pristine",Nb="ng-dirty",Qd="ng-pending",nb=H("ngModel"),Ng=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=v;this.$validators={};this.$asyncValidators=
{};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=v;this.$name=l(d.name||"",!1)(a);this.$$parentForm=Mb;var m=e(d.ngModel),r=m.assign,q=m,I=r,K=null,t,p=this;this.$$setOptions=function(a){if((p.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");q=function(a){var c=m(a);D(c)&&(c=b(a));return c};I=function(a,
b){D(m(a))?f(a,{$$$p:p.$modelValue}):r(a,p.$modelValue)}}else if(!m.assign)throw nb("nonassign",d.ngModel,ta(c));};this.$render=B;this.$isEmpty=function(a){return x(a)||""===a||null===a||a!==a};this.$$updateEmptyClasses=function(a){p.$isEmpty(a)?(f.removeClass(c,"ng-not-empty"),f.addClass(c,"ng-empty")):(f.removeClass(c,"ng-empty"),f.addClass(c,"ng-not-empty"))};var w=0;Ld({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f});this.$setPristine=function(){p.$dirty=
!1;p.$pristine=!0;f.removeClass(c,Nb);f.addClass(c,Ya)};this.$setDirty=function(){p.$dirty=!0;p.$pristine=!1;f.removeClass(c,Ya);f.addClass(c,Nb);p.$$parentForm.$setDirty()};this.$setUntouched=function(){p.$touched=!1;p.$untouched=!0;f.setClass(c,"ng-untouched","ng-touched")};this.$setTouched=function(){p.$touched=!0;p.$untouched=!1;f.setClass(c,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){g.cancel(K);p.$viewValue=p.$$lastCommittedViewValue;p.$render()};this.$validate=function(){if(!N(p.$modelValue)||
!isNaN(p.$modelValue)){var a=p.$$rawModelValue,b=p.$valid,c=p.$modelValue,d=p.$options&&p.$options.allowInvalid;p.$$runValidators(a,p.$$lastCommittedViewValue,function(e){d||b===e||(p.$modelValue=e?a:v,p.$modelValue!==c&&p.$$writeModelToScope())})}};this.$$runValidators=function(a,b,c){function d(){var c=!0;n(p.$validators,function(d,e){var g=d(a,b);c=c&&g;f(e,g)});return c?!0:(n(p.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;n(p.$asyncValidators,function(e,g){var h=e(a,
b);if(!h||!D(h.then))throw nb("nopromise",h);f(g,v);c.push(h.then(function(){f(g,!0)},function(a){d=!1;f(g,!1)}))});c.length?k.all(c).then(function(){g(d)},B):g(!0)}function f(a,b){h===w&&p.$setValidity(a,b)}function g(a){h===w&&c(a)}w++;var h=w;(function(){var a=p.$$parserName||"parse";if(x(t))f(a,null);else return t||(n(p.$validators,function(a,b){f(b,null)}),n(p.$asyncValidators,function(a,b){f(b,null)})),f(a,t),t;return!0})()?d()?e():g(!1):g(!1)};this.$commitViewValue=function(){var a=p.$viewValue;
g.cancel(K);if(p.$$lastCommittedViewValue!==a||""===a&&p.$$hasNativeValidators)p.$$updateEmptyClasses(a),p.$$lastCommittedViewValue=a,p.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var b=p.$$lastCommittedViewValue;if(t=x(b)?v:!0)for(var c=0;c<p.$parsers.length;c++)if(b=p.$parsers[c](b),x(b)){t=!1;break}N(p.$modelValue)&&isNaN(p.$modelValue)&&(p.$modelValue=q(a));var d=p.$modelValue,e=p.$options&&p.$options.allowInvalid;p.$$rawModelValue=b;e&&(p.$modelValue=
b,p.$modelValue!==d&&p.$$writeModelToScope());p.$$runValidators(b,p.$$lastCommittedViewValue,function(a){e||(p.$modelValue=a?b:v,p.$modelValue!==d&&p.$$writeModelToScope())})};this.$$writeModelToScope=function(){I(a,p.$modelValue);n(p.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})};this.$setViewValue=function(a,b){p.$viewValue=a;p.$options&&!p.$options.updateOnDefault||p.$$debounceViewValueCommit(b)};this.$$debounceViewValueCommit=function(b){var c=0,d=p.$options;d&&y(d.debounce)&&(d=d.debounce,
N(d)?c=d:N(d[b])?c=d[b]:N(d["default"])&&(c=d["default"]));g.cancel(K);c?K=g(function(){p.$commitViewValue()},c):h.$$phase?p.$commitViewValue():a.$apply(function(){p.$commitViewValue()})};a.$watch(function(){var b=q(a);if(b!==p.$modelValue&&(p.$modelValue===p.$modelValue||b===b)){p.$modelValue=p.$$rawModelValue=b;t=v;for(var c=p.$formatters,d=c.length,e=b;d--;)e=c[d](e);p.$viewValue!==e&&(p.$$updateEmptyClasses(e),p.$viewValue=p.$$lastCommittedViewValue=e,p.$render(),p.$$runValidators(b,e,B))}return b})}],
Re=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ng,priority:1,compile:function(b){b.addClass(Ya).addClass("ng-untouched").addClass(ob);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;g.$$setOptions(f[2]&&f[2].$options);b.$addControl(g);e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){var g=f[0];if(g.$options&&
g.$options.updateOn)c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(c){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],Og=/(\s+|^)default(\s+|$)/,Ve=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=Oa(a.$eval(b.ngModelOptions));y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=X(this.$options.updateOn.replace(Og,function(){d.$options.updateOnDefault=
!0;return" "}))):this.$options.updateOnDefault=!0}]}},He=Ma({terminal:!0,priority:1E3}),Pg=H("ngOptions"),Qg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pe=["$compile","$parse",function(a,b){function d(a,c,d){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}
function l(a){var b;if(!q&&Ca(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var m=a.match(Qg);if(!m)throw Pg("iexp",a,ta(c));var n=m[5]||m[7],q=m[6];a=/ as /.test(m[0])&&m[1];var v=m[9];c=b(m[2]?m[1]:n);var y=a&&b(a)||c,t=v&&b(v),p=v?function(a,b){return t(d,b)}:function(a){return Fa(a)},w=function(a,b){return p(a,B(a,b))},u=b(m[2]||m[1]),x=b(m[3]||""),z=b(m[4]||""),A=b(m[8]),C={},B=q?function(a,b){C[q]=b;C[n]=a;return C}:function(a){C[n]=a;return C};return{trackBy:v,
getTrackByValue:w,getWatchables:b(A,function(a){var b=[];a=a||[];for(var c=l(a),e=c.length,f=0;f<e;f++){var g=a===c?f:c[f],k=B(a[g],g),g=p(a[g],k);b.push(g);if(m[2]||m[1])g=u(d,k),b.push(g);m[4]&&(k=z(d,k),b.push(k))}return b}),getOptions:function(){for(var a=[],b={},c=A(d)||[],f=l(c),g=f.length,m=0;m<g;m++){var n=c===f?m:f[m],r=B(c[n],n),q=y(d,r),n=p(q,r),s=u(d,r),t=x(d,r),r=z(d,r),q=new e(n,q,s,t,r);a.push(q);b[n]=q}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[w(a)]},
getViewValueFromOption:function(a){return v?ia.copy(a.viewValue):a.viewValue}}}}}var c=W.createElement("option"),e=W.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=B},post:function(b,g,h,k){function l(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);a.value!==b.value&&(b.value=a.selectValue)}function m(a,b,c,d){b&&G(b.nodeName)===c?c=b:(c=d.cloneNode(!1),b?a.insertBefore(c,
b):a.appendChild(c));return c}function r(a){for(var b;a;)b=a.nextSibling,$b(a),a=b}function q(a){var b=w&&w[0],c=A&&A[0];if(b||c)for(;a&&(a===b||a===c||8===a.nodeType||"option"===ra(a)&&""===a.value);)a=a.nextSibling;return a}function v(){var a=D&&x.readValue();D=E.getOptions();var b={},d=g[0].firstChild;z&&g.prepend(w);d=q(d);D.items.forEach(function(a){var f,h;y(a.group)?(f=b[a.group],f||(f=m(g[0],d,"optgroup",e),d=f.nextSibling,f.label=a.group,f=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),
h=m(f.groupElement,f.currentOptionElement,"option",c),l(a,h),f.currentOptionElement=h.nextSibling):(h=m(g[0],d,"option",c),l(a,h),d=h.nextSibling)});Object.keys(b).forEach(function(a){r(b[a].currentOptionElement)});r(d);t.$render();if(!t.$isEmpty(a)){var f=x.readValue();(E.trackBy||p?oa(a,f):a===f)||(t.$setViewValue(f),t.$render())}}var x=k[0],t=k[1],p=h.multiple,w;k=0;for(var u=g.children(),B=u.length;k<B;k++)if(""===u[k].value){w=u.eq(k);break}var z=!!w,A=C(c.cloneNode(!1));A.val("?");var D,E=d(h.ngOptions,
g,b);p?(t.$isEmpty=function(a){return!a||0===a.length},x.writeValue=function(a){D.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){(a=D.getOptionFromViewValue(a))&&!a.disabled&&(a.element.selected=!0)})},x.readValue=function(){var a=g.val()||[],b=[];n(a,function(a){(a=D.selectValueMap[a])&&!a.disabled&&b.push(D.getViewValueFromOption(a))});return b},E.trackBy&&b.$watchCollection(function(){if(L(t.$viewValue))return t.$viewValue.map(function(a){return E.getTrackByValue(a)})},
function(){t.$render()})):(x.writeValue=function(a){var b=D.getOptionFromViewValue(a);b&&!b.disabled?g[0].value!==b.selectValue&&(A.remove(),z||w.remove(),g[0].value=b.selectValue,b.element.selected=!0,b.element.setAttribute("selected","selected")):null===a||z?(A.remove(),z||g.prepend(w),g.val(""),w.prop("selected",!0),w.attr("selected",!0)):(z||w.remove(),g.prepend(A),g.val("?"),A.prop("selected",!0),A.attr("selected",!0))},x.readValue=function(){var a=D.selectValueMap[g.val()];return a&&!a.disabled?
(z||w.remove(),A.remove(),D.getViewValueFromOption(a)):null},E.trackBy&&b.$watch(function(){return E.getTrackByValue(t.$viewValue)},function(){t.$render()}));z?(w.remove(),a(w)(b),w.removeClass("ng-scope")):w=C(c.cloneNode(!1));v();b.$watchCollection(E.getWatchables,v)}}}}],Ie=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),r=h.offset||0,q=f.$eval(m)||{},v=
{},y=b.startSymbol(),t=b.endSymbol(),p=y+l+"-"+r+t,w=ia.noop,u;n(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+G(c[2]),q[c]=g.attr(h.$attr[b]))});n(q,function(a,d){v[d]=b(a.replace(c,p))});f.$watch(l,function(b){var c=parseFloat(b),e=isNaN(c);e||c in q||(c=a.pluralCat(c-r));c===u||e&&N(u)&&isNaN(u)||(w(),e=v[c],x(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),w=B,k()):w=f.$watch(e,k),u=c)})}}}],Je=["$parse","$animate",function(a,b){var d=H("ngRepeat"),c=function(a,b,
c,d,k,l,m){a[c]=d;k&&(a[k]=l);a.$index=b;a.$first=0===b;a.$last=b===m-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(e,f){var g=f.ngRepeat,h=W.createComment(" end ngRepeat: "+g+" "),k=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw d("iexp",g);var l=k[1],m=k[2],r=k[3],q=k[4],k=l.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);
if(!k)throw d("iidexp",l);var x=k[3]||k[1],y=k[2];if(r&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw d("badident",r);var t,p,w,u,B={$id:Fa};q?t=a(q):(w=function(a,b){return Fa(b)},u=function(a){return a});return function(a,e,f,k,l){t&&(p=function(b,c,d){y&&(B[y]=b);B[x]=c;B.$index=d;return t(a,B)});var q=Z();a.$watchCollection(m,function(f){var k,m,s=e[0],t,B=Z(),D,E,H,F,L,G,N;r&&(a[r]=f);if(Ca(f))L=
f,m=p||w;else for(N in m=p||u,L=[],f)sa.call(f,N)&&"$"!==N.charAt(0)&&L.push(N);D=L.length;N=Array(D);for(k=0;k<D;k++)if(E=f===L?k:L[k],H=f[E],F=m(E,H,k),q[F])G=q[F],delete q[F],B[F]=G,N[k]=G;else{if(B[F])throw n(N,function(a){a&&a.scope&&(q[a.id]=a)}),d("dupes",g,F,H);N[k]={id:F,scope:v,clone:v};B[F]=!0}for(t in q){G=q[t];F=tb(G.clone);b.leave(F);if(F[0].parentNode)for(k=0,m=F.length;k<m;k++)F[k].$$NG_REMOVED=!0;G.scope.$destroy()}for(k=0;k<D;k++)if(E=f===L?k:L[k],H=f[E],G=N[k],G.scope){t=s;do t=
t.nextSibling;while(t&&t.$$NG_REMOVED);G.clone[0]!=t&&b.move(tb(G.clone),null,C(s));s=G.clone[G.clone.length-1];c(G.scope,k,x,H,y,E,D)}else l(function(a,d){G.scope=d;var e=h.cloneNode(!1);a[a.length++]=e;b.enter(a,null,C(s));s=e;G.clone=a;B[G.id]=G;c(G.scope,k,x,H,y,E,D)});q=B})}}}}],Ke=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],De=["$animate",function(a){return{restrict:"A",
multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Le=Ma(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&n(d,function(a,c){b.css(c,"")});a&&b.css(a)},!0)}),Me=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,d,c,e){var f=[],g=[],h=[],k=[],l=function(a,b){return function(){a.splice(b,1)}};b.$watch(c.ngSwitch||c.on,function(b){var c,
d;c=0;for(d=h.length;c<d;++c)a.cancel(h[c]);c=h.length=0;for(d=k.length;c<d;++c){var q=tb(g[c].clone);k[c].$destroy();(h[c]=a.leave(q)).then(l(h,c))}g.length=0;k.length=0;(f=e.cases["!"+b]||e.cases["?"])&&n(f,function(b){b.transclude(function(c,d){k.push(d);var e=b.element;c[c.length++]=W.createComment(" end ngSwitchWhen: ");g.push({clone:c});a.enter(c,e.parent(),e)})})})}}}],Ne=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=
c.cases["!"+d.ngSwitchWhen]||[];c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),Oe=Ma({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),Rg=H("ngTransclude"),Qe=Ma({restrict:"EAC",link:function(a,b,d,c,e){d.ngTransclude===d.$attr.ngTransclude&&(d.ngTransclude="");if(!e)throw Rg("orphan",ta(b));e(function(a){a.length&&(b.empty(),b.append(a))},null,d.ngTransclude||
d.ngTranscludeSlot)}}),qe=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"==d.type&&a.put(d.id,b[0].text)}}}],Sg={$setViewValue:B,$render:B},Tg=["$element","$scope","$attrs",function(a,b,d){var c=this,e=new Ua;c.ngModelCtrl=Sg;c.unknownOption=C(W.createElement("option"));c.renderUnknownOption=function(b){b="? "+Fa(b)+" ?";c.unknownOption.val(b);a.prepend(c.unknownOption);a.val(b)};b.$on("$destroy",function(){c.renderUnknownOption=B});c.removeUnknownOption=
function(){c.unknownOption.parent()&&c.unknownOption.remove()};c.readValue=function(){c.removeUnknownOption();return a.val()};c.writeValue=function(b){c.hasOption(b)?(c.removeUnknownOption(),a.val(b),""===b&&c.emptyOption.prop("selected",!0)):null==b&&c.emptyOption?(c.removeUnknownOption(),a.val("")):c.renderUnknownOption(b)};c.addOption=function(a,b){if(8!==b[0].nodeType){Ta(a,'"option value"');""===a&&(c.emptyOption=b);var d=e.get(a)||0;e.put(a,d+1);c.ngModelCtrl.$render();b[0].hasAttribute("selected")&&
(b[0].selected=!0)}};c.removeOption=function(a){var b=e.get(a);b&&(1===b?(e.remove(a),""===a&&(c.emptyOption=v)):e.put(a,b-1))};c.hasOption=function(a){return!!e.get(a)};c.registerOption=function(a,b,d,e,l){if(e){var m;d.$observe("value",function(a){y(m)&&c.removeOption(m);m=a;c.addOption(a,b)})}else l?a.$watch(l,function(a,e){d.$set("value",a);e!==a&&c.removeOption(e);c.addOption(a,b)}):c.addOption(d.value,b);b.on("$destroy",function(){c.removeOption(d.value);c.ngModelCtrl.$render()})}}],re=function(){return{restrict:"E",
require:["select","?ngModel"],controller:Tg,priority:1,link:{pre:function(a,b,d,c){var e=c[1];if(e){var f=c[0];f.ngModelCtrl=e;b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})});if(d.multiple){f.readValue=function(){var a=[];n(b.find("option"),function(b){b.selected&&a.push(b.value)});return a};f.writeValue=function(a){var c=new Ua(a);n(b.find("option"),function(a){a.selected=y(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||oa(g,e.$viewValue)||(g=
na(e.$viewValue),e.$render());h=e.$viewValue});e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},te=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(y(d.value))var c=a(d.value,!0);else{var e=a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,
b,d,c,e)}}}}],se=ba({restrict:"E",terminal:!1}),Hc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Gc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){F(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw H("ngPattern")("noregexp",
f,a,ta(b));e=a||v;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||x(e)||e.test(b)}}}}},Jc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=ca(a);e=isNaN(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},Ic=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=ca(a)||0;c.$validate()});
c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};O.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(je(),le(ia),ia.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),
SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",
PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=a|0,f=c;v===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),C(W).ready(function(){fe(W,Ac)}))})(window,document);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
//# sourceMappingURL=angular.min.js.map

/*
 AngularJS v1.5.0
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(A,e,B){'use strict';function C(a){var c=[];v(c,e.noop).chars(a);return c.join("")}function h(a,c){var b={},d=a.split(","),l;for(l=0;l<d.length;l++)b[c?e.lowercase(d[l]):d[l]]=!0;return b}function D(a,c){null===a||a===B?a="":"string"!==typeof a&&(a=""+a);g.innerHTML=a;var b=5;do{if(0===b)throw w("uinput");b--;11>=document.documentMode&&n(g);a=g.innerHTML;g.innerHTML=a}while(a!==g.innerHTML);for(b=g.firstChild;b;){switch(b.nodeType){case 1:c.start(b.nodeName.toLowerCase(),E(b.attributes));
break;case 3:c.chars(b.textContent)}var d;if(!(d=b.firstChild)&&(1==b.nodeType&&c.end(b.nodeName.toLowerCase()),d=b.nextSibling,!d))for(;null==d;){b=b.parentNode;if(b===g)break;d=b.nextSibling;1==b.nodeType&&c.end(b.nodeName.toLowerCase())}b=d}for(;b=g.firstChild;)g.removeChild(b)}function E(a){for(var c={},b=0,d=a.length;b<d;b++){var l=a[b];c[l.name]=l.value}return c}function x(a){return a.replace(/&/g,"&amp;").replace(F,function(a){var b=a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(b-55296)+
(a-56320)+65536)+";"}).replace(G,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(a,c){var b=!1,d=e.bind(a,a.push);return{start:function(a,f){a=e.lowercase(a);!b&&H[a]&&(b=a);b||!0!==t[a]||(d("<"),d(a),e.forEach(f,function(b,f){var g=e.lowercase(f),h="img"===a&&"src"===g||"background"===g;!0!==I[g]||!0===y[g]&&!c(b,h)||(d(" "),d(f),d('="'),d(x(b)),d('"'))}),d(">"))},end:function(a){a=e.lowercase(a);b||!0!==t[a]||!0===z[a]||(d("</"),d(a),d(">"));a==
b&&(b=!1)},chars:function(a){b||d(x(a))}}}function n(a){if(a.nodeType===Node.ELEMENT_NODE)for(var c=a.attributes,b=0,d=c.length;b<d;b++){var e=c[b],f=e.name.toLowerCase();if("xmlns:ns1"===f||0===f.indexOf("ns1:"))a.removeAttributeNode(e),b--,d--}(c=a.firstChild)&&n(c);(c=a.nextSibling)&&n(c)}var w=e.$$minErr("$sanitize"),F=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,G=/([^\#-~ |!])/g,z=h("area,br,col,hr,img,wbr"),q=h("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=h("rp,rt"),u=e.extend({},k,q),q=e.extend({},
q,h("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),k=e.extend({},k,h("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),J=h("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),
H=h("script,style"),t=e.extend({},z,q,k,u),y=h("background,cite,href,longdesc,src,xlink:href"),u=h("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),k=h("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0),I=e.extend({},y,k,u),g;(function(a){if(a.document&&a.document.implementation)a=a.document.implementation.createHTMLDocument("inert");else throw w("noinert");var c=(a.documentElement||a.getDocumentElement()).getElementsByTagName("body");1===c.length?g=c[0]:(c=a.createElement("html"),g=a.createElement("body"),c.appendChild(g),a.appendChild(c))})(A);e.module("ngSanitize",[]).provider("$sanitize",function(){var a=!1;this.$get=["$$sanitizeUri",function(c){a&&e.extend(t,J);return function(a){var d=
[];D(a,v(d,function(a,b){return!/^unsafe:/.test(c(a,b))}));return d.join("")}}];this.enableSvg=function(c){return e.isDefined(c)?(a=c,this):a}});e.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,b=/^mailto:/i,d=e.$$minErr("linky"),g=e.isString;return function(f,h,m){function k(a){a&&p.push(C(a))}function q(a,b){var c;p.push("<a ");e.isFunction(m)&&(m=m(a));if(e.isObject(m))for(c in m)p.push(c+
'="'+m[c]+'" ');else m={};!e.isDefined(h)||"target"in m||p.push('target="',h,'" ');p.push('href="',a.replace(/"/g,"&quot;"),'">');k(b);p.push("</a>")}if(null==f||""===f)return f;if(!g(f))throw d("notstring",f);for(var r=f,p=[],s,n;f=r.match(c);)s=f[0],f[2]||f[4]||(s=(f[3]?"http://":"mailto:")+s),n=f.index,k(r.substr(0,n)),q(s,f[0].replace(b,"")),r=r.substring(n+f[0].length);k(r);return a(p.join(""))}}])})(window,window.angular);
//# sourceMappingURL=angular-sanitize.min.js.map

/**
 * @license AngularJS v1.5.0
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window, angular, undefined) {'use strict';

/* jshint ignore:start */
var noop        = angular.noop;
var copy        = angular.copy;
var extend      = angular.extend;
var jqLite      = angular.element;
var forEach     = angular.forEach;
var isArray     = angular.isArray;
var isString    = angular.isString;
var isObject    = angular.isObject;
var isUndefined = angular.isUndefined;
var isDefined   = angular.isDefined;
var isFunction  = angular.isFunction;
var isElement   = angular.isElement;

var ELEMENT_NODE = 1;
var COMMENT_NODE = 8;

var ADD_CLASS_SUFFIX = '-add';
var REMOVE_CLASS_SUFFIX = '-remove';
var EVENT_CLASS_PREFIX = 'ng-';
var ACTIVE_CLASS_SUFFIX = '-active';
var PREPARE_CLASS_SUFFIX = '-prepare';

var NG_ANIMATE_CLASSNAME = 'ng-animate';
var NG_ANIMATE_CHILDREN_DATA = '$$ngAnimateChildren';

// Detect proper transitionend/animationend event names.
var CSS_PREFIX = '', TRANSITION_PROP, TRANSITIONEND_EVENT, ANIMATION_PROP, ANIMATIONEND_EVENT;

// If unprefixed events are not supported but webkit-prefixed are, use the latter.
// Otherwise, just use W3C names, browsers not supporting them at all will just ignore them.
// Note: Chrome implements `window.onwebkitanimationend` and doesn't implement `window.onanimationend`
// but at the same time dispatches the `animationend` event and not `webkitAnimationEnd`.
// Register both events in case `window.onanimationend` is not supported because of that,
// do the same for `transitionend` as Safari is likely to exhibit similar behavior.
// Also, the only modern browser that uses vendor prefixes for transitions/keyframes is webkit
// therefore there is no reason to test anymore for other vendor prefixes:
// http://caniuse.com/#search=transition
if (isUndefined(window.ontransitionend) && isDefined(window.onwebkittransitionend)) {
  CSS_PREFIX = '-webkit-';
  TRANSITION_PROP = 'WebkitTransition';
  TRANSITIONEND_EVENT = 'webkitTransitionEnd transitionend';
} else {
  TRANSITION_PROP = 'transition';
  TRANSITIONEND_EVENT = 'transitionend';
}

if (isUndefined(window.onanimationend) && isDefined(window.onwebkitanimationend)) {
  CSS_PREFIX = '-webkit-';
  ANIMATION_PROP = 'WebkitAnimation';
  ANIMATIONEND_EVENT = 'webkitAnimationEnd animationend';
} else {
  ANIMATION_PROP = 'animation';
  ANIMATIONEND_EVENT = 'animationend';
}

var DURATION_KEY = 'Duration';
var PROPERTY_KEY = 'Property';
var DELAY_KEY = 'Delay';
var TIMING_KEY = 'TimingFunction';
var ANIMATION_ITERATION_COUNT_KEY = 'IterationCount';
var ANIMATION_PLAYSTATE_KEY = 'PlayState';
var SAFE_FAST_FORWARD_DURATION_VALUE = 9999;

var ANIMATION_DELAY_PROP = ANIMATION_PROP + DELAY_KEY;
var ANIMATION_DURATION_PROP = ANIMATION_PROP + DURATION_KEY;
var TRANSITION_DELAY_PROP = TRANSITION_PROP + DELAY_KEY;
var TRANSITION_DURATION_PROP = TRANSITION_PROP + DURATION_KEY;

var isPromiseLike = function(p) {
  return p && p.then ? true : false;
};

var ngMinErr = angular.$$minErr('ng');
function assertArg(arg, name, reason) {
  if (!arg) {
    throw ngMinErr('areq', "Argument '{0}' is {1}", (name || '?'), (reason || "required"));
  }
  return arg;
}

function mergeClasses(a,b) {
  if (!a && !b) return '';
  if (!a) return b;
  if (!b) return a;
  if (isArray(a)) a = a.join(' ');
  if (isArray(b)) b = b.join(' ');
  return a + ' ' + b;
}

function packageStyles(options) {
  var styles = {};
  if (options && (options.to || options.from)) {
    styles.to = options.to;
    styles.from = options.from;
  }
  return styles;
}

function pendClasses(classes, fix, isPrefix) {
  var className = '';
  classes = isArray(classes)
      ? classes
      : classes && isString(classes) && classes.length
          ? classes.split(/\s+/)
          : [];
  forEach(classes, function(klass, i) {
    if (klass && klass.length > 0) {
      className += (i > 0) ? ' ' : '';
      className += isPrefix ? fix + klass
                            : klass + fix;
    }
  });
  return className;
}

function removeFromArray(arr, val) {
  var index = arr.indexOf(val);
  if (val >= 0) {
    arr.splice(index, 1);
  }
}

function stripCommentsFromElement(element) {
  if (element instanceof jqLite) {
    switch (element.length) {
      case 0:
        return [];
        break;

      case 1:
        // there is no point of stripping anything if the element
        // is the only element within the jqLite wrapper.
        // (it's important that we retain the element instance.)
        if (element[0].nodeType === ELEMENT_NODE) {
          return element;
        }
        break;

      default:
        return jqLite(extractElementNode(element));
        break;
    }
  }

  if (element.nodeType === ELEMENT_NODE) {
    return jqLite(element);
  }
}

function extractElementNode(element) {
  if (!element[0]) return element;
  for (var i = 0; i < element.length; i++) {
    var elm = element[i];
    if (elm.nodeType == ELEMENT_NODE) {
      return elm;
    }
  }
}

function $$addClass($$jqLite, element, className) {
  forEach(element, function(elm) {
    $$jqLite.addClass(elm, className);
  });
}

function $$removeClass($$jqLite, element, className) {
  forEach(element, function(elm) {
    $$jqLite.removeClass(elm, className);
  });
}

function applyAnimationClassesFactory($$jqLite) {
  return function(element, options) {
    if (options.addClass) {
      $$addClass($$jqLite, element, options.addClass);
      options.addClass = null;
    }
    if (options.removeClass) {
      $$removeClass($$jqLite, element, options.removeClass);
      options.removeClass = null;
    }
  }
}

function prepareAnimationOptions(options) {
  options = options || {};
  if (!options.$$prepared) {
    var domOperation = options.domOperation || noop;
    options.domOperation = function() {
      options.$$domOperationFired = true;
      domOperation();
      domOperation = noop;
    };
    options.$$prepared = true;
  }
  return options;
}

function applyAnimationStyles(element, options) {
  applyAnimationFromStyles(element, options);
  applyAnimationToStyles(element, options);
}

function applyAnimationFromStyles(element, options) {
  if (options.from) {
    element.css(options.from);
    options.from = null;
  }
}

function applyAnimationToStyles(element, options) {
  if (options.to) {
    element.css(options.to);
    options.to = null;
  }
}

function mergeAnimationDetails(element, oldAnimation, newAnimation) {
  var target = oldAnimation.options || {};
  var newOptions = newAnimation.options || {};

  var toAdd = (target.addClass || '') + ' ' + (newOptions.addClass || '');
  var toRemove = (target.removeClass || '') + ' ' + (newOptions.removeClass || '');
  var classes = resolveElementClasses(element.attr('class'), toAdd, toRemove);

  if (newOptions.preparationClasses) {
    target.preparationClasses = concatWithSpace(newOptions.preparationClasses, target.preparationClasses);
    delete newOptions.preparationClasses;
  }

  // noop is basically when there is no callback; otherwise something has been set
  var realDomOperation = target.domOperation !== noop ? target.domOperation : null;

  extend(target, newOptions);

  // TODO(matsko or sreeramu): proper fix is to maintain all animation callback in array and call at last,but now only leave has the callback so no issue with this.
  if (realDomOperation) {
    target.domOperation = realDomOperation;
  }

  if (classes.addClass) {
    target.addClass = classes.addClass;
  } else {
    target.addClass = null;
  }

  if (classes.removeClass) {
    target.removeClass = classes.removeClass;
  } else {
    target.removeClass = null;
  }

  oldAnimation.addClass = target.addClass;
  oldAnimation.removeClass = target.removeClass;

  return target;
}

function resolveElementClasses(existing, toAdd, toRemove) {
  var ADD_CLASS = 1;
  var REMOVE_CLASS = -1;

  var flags = {};
  existing = splitClassesToLookup(existing);

  toAdd = splitClassesToLookup(toAdd);
  forEach(toAdd, function(value, key) {
    flags[key] = ADD_CLASS;
  });

  toRemove = splitClassesToLookup(toRemove);
  forEach(toRemove, function(value, key) {
    flags[key] = flags[key] === ADD_CLASS ? null : REMOVE_CLASS;
  });

  var classes = {
    addClass: '',
    removeClass: ''
  };

  forEach(flags, function(val, klass) {
    var prop, allow;
    if (val === ADD_CLASS) {
      prop = 'addClass';
      allow = !existing[klass];
    } else if (val === REMOVE_CLASS) {
      prop = 'removeClass';
      allow = existing[klass];
    }
    if (allow) {
      if (classes[prop].length) {
        classes[prop] += ' ';
      }
      classes[prop] += klass;
    }
  });

  function splitClassesToLookup(classes) {
    if (isString(classes)) {
      classes = classes.split(' ');
    }

    var obj = {};
    forEach(classes, function(klass) {
      // sometimes the split leaves empty string values
      // incase extra spaces were applied to the options
      if (klass.length) {
        obj[klass] = true;
      }
    });
    return obj;
  }

  return classes;
}

function getDomNode(element) {
  return (element instanceof angular.element) ? element[0] : element;
}

function applyGeneratedPreparationClasses(element, event, options) {
  var classes = '';
  if (event) {
    classes = pendClasses(event, EVENT_CLASS_PREFIX, true);
  }
  if (options.addClass) {
    classes = concatWithSpace(classes, pendClasses(options.addClass, ADD_CLASS_SUFFIX));
  }
  if (options.removeClass) {
    classes = concatWithSpace(classes, pendClasses(options.removeClass, REMOVE_CLASS_SUFFIX));
  }
  if (classes.length) {
    options.preparationClasses = classes;
    element.addClass(classes);
  }
}

function clearGeneratedClasses(element, options) {
  if (options.preparationClasses) {
    element.removeClass(options.preparationClasses);
    options.preparationClasses = null;
  }
  if (options.activeClasses) {
    element.removeClass(options.activeClasses);
    options.activeClasses = null;
  }
}

function blockTransitions(node, duration) {
  // we use a negative delay value since it performs blocking
  // yet it doesn't kill any existing transitions running on the
  // same element which makes this safe for class-based animations
  var value = duration ? '-' + duration + 's' : '';
  applyInlineStyle(node, [TRANSITION_DELAY_PROP, value]);
  return [TRANSITION_DELAY_PROP, value];
}

function blockKeyframeAnimations(node, applyBlock) {
  var value = applyBlock ? 'paused' : '';
  var key = ANIMATION_PROP + ANIMATION_PLAYSTATE_KEY;
  applyInlineStyle(node, [key, value]);
  return [key, value];
}

function applyInlineStyle(node, styleTuple) {
  var prop = styleTuple[0];
  var value = styleTuple[1];
  node.style[prop] = value;
}

function concatWithSpace(a,b) {
  if (!a) return b;
  if (!b) return a;
  return a + ' ' + b;
}

var $$rAFSchedulerFactory = ['$$rAF', function($$rAF) {
  var queue, cancelFn;

  function scheduler(tasks) {
    // we make a copy since RAFScheduler mutates the state
    // of the passed in array variable and this would be difficult
    // to track down on the outside code
    queue = queue.concat(tasks);
    nextTick();
  }

  queue = scheduler.queue = [];

  /* waitUntilQuiet does two things:
   * 1. It will run the FINAL `fn` value only when an uncanceled RAF has passed through
   * 2. It will delay the next wave of tasks from running until the quiet `fn` has run.
   *
   * The motivation here is that animation code can request more time from the scheduler
   * before the next wave runs. This allows for certain DOM properties such as classes to
   * be resolved in time for the next animation to run.
   */
  scheduler.waitUntilQuiet = function(fn) {
    if (cancelFn) cancelFn();

    cancelFn = $$rAF(function() {
      cancelFn = null;
      fn();
      nextTick();
    });
  };

  return scheduler;

  function nextTick() {
    if (!queue.length) return;

    var items = queue.shift();
    for (var i = 0; i < items.length; i++) {
      items[i]();
    }

    if (!cancelFn) {
      $$rAF(function() {
        if (!cancelFn) nextTick();
      });
    }
  }
}];

/**
 * @ngdoc directive
 * @name ngAnimateChildren
 * @restrict AE
 * @element ANY
 *
 * @description
 *
 * ngAnimateChildren allows you to specify that children of this element should animate even if any
 * of the children's parents are currently animating. By default, when an element has an active `enter`, `leave`, or `move`
 * (structural) animation, child elements that also have an active structural animation are not animated.
 *
 * Note that even if `ngAnimteChildren` is set, no child animations will run when the parent element is removed from the DOM (`leave` animation).
 *
 *
 * @param {string} ngAnimateChildren If the value is empty, `true` or `on`,
 *     then child animations are allowed. If the value is `false`, child animations are not allowed.
 *
 * @example
 * <example module="ngAnimateChildren" name="ngAnimateChildren" deps="angular-animate.js" animations="true">
     <file name="index.html">
       <div ng-controller="mainController as main">
         <label>Show container? <input type="checkbox" ng-model="main.enterElement" /></label>
         <label>Animate children? <input type="checkbox" ng-model="main.animateChildren" /></label>
         <hr>
         <div ng-animate-children="{{main.animateChildren}}">
           <div ng-if="main.enterElement" class="container">
             List of items:
             <div ng-repeat="item in [0, 1, 2, 3]" class="item">Item {{item}}</div>
           </div>
         </div>
       </div>
     </file>
     <file name="animations.css">

      .container.ng-enter,
      .container.ng-leave {
        transition: all ease 1.5s;
      }

      .container.ng-enter,
      .container.ng-leave-active {
        opacity: 0;
      }

      .container.ng-leave,
      .container.ng-enter-active {
        opacity: 1;
      }

      .item {
        background: firebrick;
        color: #FFF;
        margin-bottom: 10px;
      }

      .item.ng-enter,
      .item.ng-leave {
        transition: transform 1.5s ease;
      }

      .item.ng-enter {
        transform: translateX(50px);
      }

      .item.ng-enter-active {
        transform: translateX(0);
      }
    </file>
    <file name="script.js">
      angular.module('ngAnimateChildren', ['ngAnimate'])
        .controller('mainController', function() {
          this.animateChildren = false;
          this.enterElement = false;
        });
    </file>
  </example>
 */
var $$AnimateChildrenDirective = ['$interpolate', function($interpolate) {
  return {
    link: function(scope, element, attrs) {
      var val = attrs.ngAnimateChildren;
      if (angular.isString(val) && val.length === 0) { //empty attribute
        element.data(NG_ANIMATE_CHILDREN_DATA, true);
      } else {
        // Interpolate and set the value, so that it is available to
        // animations that run right after compilation
        setData($interpolate(val)(scope));
        attrs.$observe('ngAnimateChildren', setData);
      }

      function setData(value) {
        value = value === 'on' || value === 'true';
        element.data(NG_ANIMATE_CHILDREN_DATA, value);
      }
    }
  };
}];

var ANIMATE_TIMER_KEY = '$$animateCss';

/**
 * @ngdoc service
 * @name $animateCss
 * @kind object
 *
 * @description
 * The `$animateCss` service is a useful utility to trigger customized CSS-based transitions/keyframes
 * from a JavaScript-based animation or directly from a directive. The purpose of `$animateCss` is NOT
 * to side-step how `$animate` and ngAnimate work, but the goal is to allow pre-existing animations or
 * directives to create more complex animations that can be purely driven using CSS code.
 *
 * Note that only browsers that support CSS transitions and/or keyframe animations are capable of
 * rendering animations triggered via `$animateCss` (bad news for IE9 and lower).
 *
 * ## Usage
 * Once again, `$animateCss` is designed to be used inside of a registered JavaScript animation that
 * is powered by ngAnimate. It is possible to use `$animateCss` directly inside of a directive, however,
 * any automatic control over cancelling animations and/or preventing animations from being run on
 * child elements will not be handled by Angular. For this to work as expected, please use `$animate` to
 * trigger the animation and then setup a JavaScript animation that injects `$animateCss` to trigger
 * the CSS animation.
 *
 * The example below shows how we can create a folding animation on an element using `ng-if`:
 *
 * ```html
 * <!-- notice the `fold-animation` CSS class -->
 * <div ng-if="onOff" class="fold-animation">
 *   This element will go BOOM
 * </div>
 * <button ng-click="onOff=true">Fold In</button>
 * ```
 *
 * Now we create the **JavaScript animation** that will trigger the CSS transition:
 *
 * ```js
 * ngModule.animation('.fold-animation', ['$animateCss', function($animateCss) {
 *   return {
 *     enter: function(element, doneFn) {
 *       var height = element[0].offsetHeight;
 *       return $animateCss(element, {
 *         from: { height:'0px' },
 *         to: { height:height + 'px' },
 *         duration: 1 // one second
 *       });
 *     }
 *   }
 * }]);
 * ```
 *
 * ## More Advanced Uses
 *
 * `$animateCss` is the underlying code that ngAnimate uses to power **CSS-based animations** behind the scenes. Therefore CSS hooks
 * like `.ng-EVENT`, `.ng-EVENT-active`, `.ng-EVENT-stagger` are all features that can be triggered using `$animateCss` via JavaScript code.
 *
 * This also means that just about any combination of adding classes, removing classes, setting styles, dynamically setting a keyframe animation,
 * applying a hardcoded duration or delay value, changing the animation easing or applying a stagger animation are all options that work with
 * `$animateCss`. The service itself is smart enough to figure out the combination of options and examine the element styling properties in order
 * to provide a working animation that will run in CSS.
 *
 * The example below showcases a more advanced version of the `.fold-animation` from the example above:
 *
 * ```js
 * ngModule.animation('.fold-animation', ['$animateCss', function($animateCss) {
 *   return {
 *     enter: function(element, doneFn) {
 *       var height = element[0].offsetHeight;
 *       return $animateCss(element, {
 *         addClass: 'red large-text pulse-twice',
 *         easing: 'ease-out',
 *         from: { height:'0px' },
 *         to: { height:height + 'px' },
 *         duration: 1 // one second
 *       });
 *     }
 *   }
 * }]);
 * ```
 *
 * Since we're adding/removing CSS classes then the CSS transition will also pick those up:
 *
 * ```css
 * /&#42; since a hardcoded duration value of 1 was provided in the JavaScript animation code,
 * the CSS classes below will be transitioned despite them being defined as regular CSS classes &#42;/
 * .red { background:red; }
 * .large-text { font-size:20px; }
 *
 * /&#42; we can also use a keyframe animation and $animateCss will make it work alongside the transition &#42;/
 * .pulse-twice {
 *   animation: 0.5s pulse linear 2;
 *   -webkit-animation: 0.5s pulse linear 2;
 * }
 *
 * @keyframes pulse {
 *   from { transform: scale(0.5); }
 *   to { transform: scale(1.5); }
 * }
 *
 * @-webkit-keyframes pulse {
 *   from { -webkit-transform: scale(0.5); }
 *   to { -webkit-transform: scale(1.5); }
 * }
 * ```
 *
 * Given this complex combination of CSS classes, styles and options, `$animateCss` will figure everything out and make the animation happen.
 *
 * ## How the Options are handled
 *
 * `$animateCss` is very versatile and intelligent when it comes to figuring out what configurations to apply to the element to ensure the animation
 * works with the options provided. Say for example we were adding a class that contained a keyframe value and we wanted to also animate some inline
 * styles using the `from` and `to` properties.
 *
 * ```js
 * var animator = $animateCss(element, {
 *   from: { background:'red' },
 *   to: { background:'blue' }
 * });
 * animator.start();
 * ```
 *
 * ```css
 * .rotating-animation {
 *   animation:0.5s rotate linear;
 *   -webkit-animation:0.5s rotate linear;
 * }
 *
 * @keyframes rotate {
 *   from { transform: rotate(0deg); }
 *   to { transform: rotate(360deg); }
 * }
 *
 * @-webkit-keyframes rotate {
 *   from { -webkit-transform: rotate(0deg); }
 *   to { -webkit-transform: rotate(360deg); }
 * }
 * ```
 *
 * The missing pieces here are that we do not have a transition set (within the CSS code nor within the `$animateCss` options) and the duration of the animation is
 * going to be detected from what the keyframe styles on the CSS class are. In this event, `$animateCss` will automatically create an inline transition
 * style matching the duration detected from the keyframe style (which is present in the CSS class that is being added) and then prepare both the transition
 * and keyframe animations to run in parallel on the element. Then when the animation is underway the provided `from` and `to` CSS styles will be applied
 * and spread across the transition and keyframe animation.
 *
 * ## What is returned
 *
 * `$animateCss` works in two stages: a preparation phase and an animation phase. Therefore when `$animateCss` is first called it will NOT actually
 * start the animation. All that is going on here is that the element is being prepared for the animation (which means that the generated CSS classes are
 * added and removed on the element). Once `$animateCss` is called it will return an object with the following properties:
 *
 * ```js
 * var animator = $animateCss(element, { ... });
 * ```
 *
 * Now what do the contents of our `animator` variable look like:
 *
 * ```js
 * {
 *   // starts the animation
 *   start: Function,
 *
 *   // ends (aborts) the animation
 *   end: Function
 * }
 * ```
 *
 * To actually start the animation we need to run `animation.start()` which will then return a promise that we can hook into to detect when the animation ends.
 * If we choose not to run the animation then we MUST run `animation.end()` to perform a cleanup on the element (since some CSS classes and styles may have been
 * applied to the element during the preparation phase). Note that all other properties such as duration, delay, transitions and keyframes are just properties
 * and that changing them will not reconfigure the parameters of the animation.
 *
 * ### runner.done() vs runner.then()
 * It is documented that `animation.start()` will return a promise object and this is true, however, there is also an additional method available on the
 * runner called `.done(callbackFn)`. The done method works the same as `.finally(callbackFn)`, however, it does **not trigger a digest to occur**.
 * Therefore, for performance reasons, it's always best to use `runner.done(callback)` instead of `runner.then()`, `runner.catch()` or `runner.finally()`
 * unless you really need a digest to kick off afterwards.
 *
 * Keep in mind that, to make this easier, ngAnimate has tweaked the JS animations API to recognize when a runner instance is returned from $animateCss
 * (so there is no need to call `runner.done(doneFn)` inside of your JavaScript animation code).
 * Check the {@link ngAnimate.$animateCss#usage animation code above} to see how this works.
 *
 * @param {DOMElement} element the element that will be animated
 * @param {object} options the animation-related options that will be applied during the animation
 *
 * * `event` - The DOM event (e.g. enter, leave, move). When used, a generated CSS class of `ng-EVENT` and `ng-EVENT-active` will be applied
 * to the element during the animation. Multiple events can be provided when spaces are used as a separator. (Note that this will not perform any DOM operation.)
 * * `structural` - Indicates that the `ng-` prefix will be added to the event class. Setting to `false` or omitting will turn `ng-EVENT` and
 * `ng-EVENT-active` in `EVENT` and `EVENT-active`. Unused if `event` is omitted.
 * * `easing` - The CSS easing value that will be applied to the transition or keyframe animation (or both).
 * * `transitionStyle` - The raw CSS transition style that will be used (e.g. `1s linear all`).
 * * `keyframeStyle` - The raw CSS keyframe animation style that will be used (e.g. `1s my_animation linear`).
 * * `from` - The starting CSS styles (a key/value object) that will be applied at the start of the animation.
 * * `to` - The ending CSS styles (a key/value object) that will be applied across the animation via a CSS transition.
 * * `addClass` - A space separated list of CSS classes that will be added to the element and spread across the animation.
 * * `removeClass` - A space separated list of CSS classes that will be removed from the element and spread across the animation.
 * * `duration` - A number value representing the total duration of the transition and/or keyframe (note that a value of 1 is 1000ms). If a value of `0`
 * is provided then the animation will be skipped entirely.
 * * `delay` - A number value representing the total delay of the transition and/or keyframe (note that a value of 1 is 1000ms). If a value of `true` is
 * used then whatever delay value is detected from the CSS classes will be mirrored on the elements styles (e.g. by setting delay true then the style value
 * of the element will be `transition-delay: DETECTED_VALUE`). Using `true` is useful when you want the CSS classes and inline styles to all share the same
 * CSS delay value.
 * * `stagger` - A numeric time value representing the delay between successively animated elements
 * ({@link ngAnimate#css-staggering-animations Click here to learn how CSS-based staggering works in ngAnimate.})
 * * `staggerIndex` - The numeric index representing the stagger item (e.g. a value of 5 is equal to the sixth item in the stagger; therefore when a
 *   `stagger` option value of `0.1` is used then there will be a stagger delay of `600ms`)
 * * `applyClassesEarly` - Whether or not the classes being added or removed will be used when detecting the animation. This is set by `$animate` when enter/leave/move animations are fired to ensure that the CSS classes are resolved in time. (Note that this will prevent any transitions from occurring on the classes being added and removed.)
 * * `cleanupStyles` - Whether or not the provided `from` and `to` styles will be removed once
 *    the animation is closed. This is useful for when the styles are used purely for the sake of
 *    the animation and do not have a lasting visual effect on the element (e.g. a collapse and open animation).
 *    By default this value is set to `false`.
 *
 * @return {object} an object with start and end methods and details about the animation.
 *
 * * `start` - The method to start the animation. This will return a `Promise` when called.
 * * `end` - This method will cancel the animation and remove all applied CSS classes and styles.
 */
var ONE_SECOND = 1000;
var BASE_TEN = 10;

var ELAPSED_TIME_MAX_DECIMAL_PLACES = 3;
var CLOSING_TIME_BUFFER = 1.5;

var DETECT_CSS_PROPERTIES = {
  transitionDuration:      TRANSITION_DURATION_PROP,
  transitionDelay:         TRANSITION_DELAY_PROP,
  transitionProperty:      TRANSITION_PROP + PROPERTY_KEY,
  animationDuration:       ANIMATION_DURATION_PROP,
  animationDelay:          ANIMATION_DELAY_PROP,
  animationIterationCount: ANIMATION_PROP + ANIMATION_ITERATION_COUNT_KEY
};

var DETECT_STAGGER_CSS_PROPERTIES = {
  transitionDuration:      TRANSITION_DURATION_PROP,
  transitionDelay:         TRANSITION_DELAY_PROP,
  animationDuration:       ANIMATION_DURATION_PROP,
  animationDelay:          ANIMATION_DELAY_PROP
};

function getCssKeyframeDurationStyle(duration) {
  return [ANIMATION_DURATION_PROP, duration + 's'];
}

function getCssDelayStyle(delay, isKeyframeAnimation) {
  var prop = isKeyframeAnimation ? ANIMATION_DELAY_PROP : TRANSITION_DELAY_PROP;
  return [prop, delay + 's'];
}

function computeCssStyles($window, element, properties) {
  var styles = Object.create(null);
  var detectedStyles = $window.getComputedStyle(element) || {};
  forEach(properties, function(formalStyleName, actualStyleName) {
    var val = detectedStyles[formalStyleName];
    if (val) {
      var c = val.charAt(0);

      // only numerical-based values have a negative sign or digit as the first value
      if (c === '-' || c === '+' || c >= 0) {
        val = parseMaxTime(val);
      }

      // by setting this to null in the event that the delay is not set or is set directly as 0
      // then we can still allow for negative values to be used later on and not mistake this
      // value for being greater than any other negative value.
      if (val === 0) {
        val = null;
      }
      styles[actualStyleName] = val;
    }
  });

  return styles;
}

function parseMaxTime(str) {
  var maxValue = 0;
  var values = str.split(/\s*,\s*/);
  forEach(values, function(value) {
    // it's always safe to consider only second values and omit `ms` values since
    // getComputedStyle will always handle the conversion for us
    if (value.charAt(value.length - 1) == 's') {
      value = value.substring(0, value.length - 1);
    }
    value = parseFloat(value) || 0;
    maxValue = maxValue ? Math.max(value, maxValue) : value;
  });
  return maxValue;
}

function truthyTimingValue(val) {
  return val === 0 || val != null;
}

function getCssTransitionDurationStyle(duration, applyOnlyDuration) {
  var style = TRANSITION_PROP;
  var value = duration + 's';
  if (applyOnlyDuration) {
    style += DURATION_KEY;
  } else {
    value += ' linear all';
  }
  return [style, value];
}

function createLocalCacheLookup() {
  var cache = Object.create(null);
  return {
    flush: function() {
      cache = Object.create(null);
    },

    count: function(key) {
      var entry = cache[key];
      return entry ? entry.total : 0;
    },

    get: function(key) {
      var entry = cache[key];
      return entry && entry.value;
    },

    put: function(key, value) {
      if (!cache[key]) {
        cache[key] = { total: 1, value: value };
      } else {
        cache[key].total++;
      }
    }
  };
}

// we do not reassign an already present style value since
// if we detect the style property value again we may be
// detecting styles that were added via the `from` styles.
// We make use of `isDefined` here since an empty string
// or null value (which is what getPropertyValue will return
// for a non-existing style) will still be marked as a valid
// value for the style (a falsy value implies that the style
// is to be removed at the end of the animation). If we had a simple
// "OR" statement then it would not be enough to catch that.
function registerRestorableStyles(backup, node, properties) {
  forEach(properties, function(prop) {
    backup[prop] = isDefined(backup[prop])
        ? backup[prop]
        : node.style.getPropertyValue(prop);
  });
}

var $AnimateCssProvider = ['$animateProvider', function($animateProvider) {
  var gcsLookup = createLocalCacheLookup();
  var gcsStaggerLookup = createLocalCacheLookup();

  this.$get = ['$window', '$$jqLite', '$$AnimateRunner', '$timeout',
               '$$forceReflow', '$sniffer', '$$rAFScheduler', '$$animateQueue',
       function($window,   $$jqLite,   $$AnimateRunner,   $timeout,
                $$forceReflow,   $sniffer,   $$rAFScheduler, $$animateQueue) {

    var applyAnimationClasses = applyAnimationClassesFactory($$jqLite);

    var parentCounter = 0;
    function gcsHashFn(node, extraClasses) {
      var KEY = "$$ngAnimateParentKey";
      var parentNode = node.parentNode;
      var parentID = parentNode[KEY] || (parentNode[KEY] = ++parentCounter);
      return parentID + '-' + node.getAttribute('class') + '-' + extraClasses;
    }

    function computeCachedCssStyles(node, className, cacheKey, properties) {
      var timings = gcsLookup.get(cacheKey);

      if (!timings) {
        timings = computeCssStyles($window, node, properties);
        if (timings.animationIterationCount === 'infinite') {
          timings.animationIterationCount = 1;
        }
      }

      // we keep putting this in multiple times even though the value and the cacheKey are the same
      // because we're keeping an internal tally of how many duplicate animations are detected.
      gcsLookup.put(cacheKey, timings);
      return timings;
    }

    function computeCachedCssStaggerStyles(node, className, cacheKey, properties) {
      var stagger;

      // if we have one or more existing matches of matching elements
      // containing the same parent + CSS styles (which is how cacheKey works)
      // then staggering is possible
      if (gcsLookup.count(cacheKey) > 0) {
        stagger = gcsStaggerLookup.get(cacheKey);

        if (!stagger) {
          var staggerClassName = pendClasses(className, '-stagger');

          $$jqLite.addClass(node, staggerClassName);

          stagger = computeCssStyles($window, node, properties);

          // force the conversion of a null value to zero incase not set
          stagger.animationDuration = Math.max(stagger.animationDuration, 0);
          stagger.transitionDuration = Math.max(stagger.transitionDuration, 0);

          $$jqLite.removeClass(node, staggerClassName);

          gcsStaggerLookup.put(cacheKey, stagger);
        }
      }

      return stagger || {};
    }

    var cancelLastRAFRequest;
    var rafWaitQueue = [];
    function waitUntilQuiet(callback) {
      rafWaitQueue.push(callback);
      $$rAFScheduler.waitUntilQuiet(function() {
        gcsLookup.flush();
        gcsStaggerLookup.flush();

        // DO NOT REMOVE THIS LINE OR REFACTOR OUT THE `pageWidth` variable.
        // PLEASE EXAMINE THE `$$forceReflow` service to understand why.
        var pageWidth = $$forceReflow();

        // we use a for loop to ensure that if the queue is changed
        // during this looping then it will consider new requests
        for (var i = 0; i < rafWaitQueue.length; i++) {
          rafWaitQueue[i](pageWidth);
        }
        rafWaitQueue.length = 0;
      });
    }

    function computeTimings(node, className, cacheKey) {
      var timings = computeCachedCssStyles(node, className, cacheKey, DETECT_CSS_PROPERTIES);
      var aD = timings.animationDelay;
      var tD = timings.transitionDelay;
      timings.maxDelay = aD && tD
          ? Math.max(aD, tD)
          : (aD || tD);
      timings.maxDuration = Math.max(
          timings.animationDuration * timings.animationIterationCount,
          timings.transitionDuration);

      return timings;
    }

    return function init(element, initialOptions) {
      // all of the animation functions should create
      // a copy of the options data, however, if a
      // parent service has already created a copy then
      // we should stick to using that
      var options = initialOptions || {};
      if (!options.$$prepared) {
        options = prepareAnimationOptions(copy(options));
      }

      var restoreStyles = {};
      var node = getDomNode(element);
      if (!node
          || !node.parentNode
          || !$$animateQueue.enabled()) {
        return closeAndReturnNoopAnimator();
      }

      var temporaryStyles = [];
      var classes = element.attr('class');
      var styles = packageStyles(options);
      var animationClosed;
      var animationPaused;
      var animationCompleted;
      var runner;
      var runnerHost;
      var maxDelay;
      var maxDelayTime;
      var maxDuration;
      var maxDurationTime;
      var startTime;
      var events = [];

      if (options.duration === 0 || (!$sniffer.animations && !$sniffer.transitions)) {
        return closeAndReturnNoopAnimator();
      }

      var method = options.event && isArray(options.event)
            ? options.event.join(' ')
            : options.event;

      var isStructural = method && options.structural;
      var structuralClassName = '';
      var addRemoveClassName = '';

      if (isStructural) {
        structuralClassName = pendClasses(method, EVENT_CLASS_PREFIX, true);
      } else if (method) {
        structuralClassName = method;
      }

      if (options.addClass) {
        addRemoveClassName += pendClasses(options.addClass, ADD_CLASS_SUFFIX);
      }

      if (options.removeClass) {
        if (addRemoveClassName.length) {
          addRemoveClassName += ' ';
        }
        addRemoveClassName += pendClasses(options.removeClass, REMOVE_CLASS_SUFFIX);
      }

      // there may be a situation where a structural animation is combined together
      // with CSS classes that need to resolve before the animation is computed.
      // However this means that there is no explicit CSS code to block the animation
      // from happening (by setting 0s none in the class name). If this is the case
      // we need to apply the classes before the first rAF so we know to continue if
      // there actually is a detected transition or keyframe animation
      if (options.applyClassesEarly && addRemoveClassName.length) {
        applyAnimationClasses(element, options);
      }

      var preparationClasses = [structuralClassName, addRemoveClassName].join(' ').trim();
      var fullClassName = classes + ' ' + preparationClasses;
      var activeClasses = pendClasses(preparationClasses, ACTIVE_CLASS_SUFFIX);
      var hasToStyles = styles.to && Object.keys(styles.to).length > 0;
      var containsKeyframeAnimation = (options.keyframeStyle || '').length > 0;

      // there is no way we can trigger an animation if no styles and
      // no classes are being applied which would then trigger a transition,
      // unless there a is raw keyframe value that is applied to the element.
      if (!containsKeyframeAnimation
           && !hasToStyles
           && !preparationClasses) {
        return closeAndReturnNoopAnimator();
      }

      var cacheKey, stagger;
      if (options.stagger > 0) {
        var staggerVal = parseFloat(options.stagger);
        stagger = {
          transitionDelay: staggerVal,
          animationDelay: staggerVal,
          transitionDuration: 0,
          animationDuration: 0
        };
      } else {
        cacheKey = gcsHashFn(node, fullClassName);
        stagger = computeCachedCssStaggerStyles(node, preparationClasses, cacheKey, DETECT_STAGGER_CSS_PROPERTIES);
      }

      if (!options.$$skipPreparationClasses) {
        $$jqLite.addClass(element, preparationClasses);
      }

      var applyOnlyDuration;

      if (options.transitionStyle) {
        var transitionStyle = [TRANSITION_PROP, options.transitionStyle];
        applyInlineStyle(node, transitionStyle);
        temporaryStyles.push(transitionStyle);
      }

      if (options.duration >= 0) {
        applyOnlyDuration = node.style[TRANSITION_PROP].length > 0;
        var durationStyle = getCssTransitionDurationStyle(options.duration, applyOnlyDuration);

        // we set the duration so that it will be picked up by getComputedStyle later
        applyInlineStyle(node, durationStyle);
        temporaryStyles.push(durationStyle);
      }

      if (options.keyframeStyle) {
        var keyframeStyle = [ANIMATION_PROP, options.keyframeStyle];
        applyInlineStyle(node, keyframeStyle);
        temporaryStyles.push(keyframeStyle);
      }

      var itemIndex = stagger
          ? options.staggerIndex >= 0
              ? options.staggerIndex
              : gcsLookup.count(cacheKey)
          : 0;

      var isFirst = itemIndex === 0;

      // this is a pre-emptive way of forcing the setup classes to be added and applied INSTANTLY
      // without causing any combination of transitions to kick in. By adding a negative delay value
      // it forces the setup class' transition to end immediately. We later then remove the negative
      // transition delay to allow for the transition to naturally do it's thing. The beauty here is
      // that if there is no transition defined then nothing will happen and this will also allow
      // other transitions to be stacked on top of each other without any chopping them out.
      if (isFirst && !options.skipBlocking) {
        blockTransitions(node, SAFE_FAST_FORWARD_DURATION_VALUE);
      }

      var timings = computeTimings(node, fullClassName, cacheKey);
      var relativeDelay = timings.maxDelay;
      maxDelay = Math.max(relativeDelay, 0);
      maxDuration = timings.maxDuration;

      var flags = {};
      flags.hasTransitions          = timings.transitionDuration > 0;
      flags.hasAnimations           = timings.animationDuration > 0;
      flags.hasTransitionAll        = flags.hasTransitions && timings.transitionProperty == 'all';
      flags.applyTransitionDuration = hasToStyles && (
                                        (flags.hasTransitions && !flags.hasTransitionAll)
                                         || (flags.hasAnimations && !flags.hasTransitions));
      flags.applyAnimationDuration  = options.duration && flags.hasAnimations;
      flags.applyTransitionDelay    = truthyTimingValue(options.delay) && (flags.applyTransitionDuration || flags.hasTransitions);
      flags.applyAnimationDelay     = truthyTimingValue(options.delay) && flags.hasAnimations;
      flags.recalculateTimingStyles = addRemoveClassName.length > 0;

      if (flags.applyTransitionDuration || flags.applyAnimationDuration) {
        maxDuration = options.duration ? parseFloat(options.duration) : maxDuration;

        if (flags.applyTransitionDuration) {
          flags.hasTransitions = true;
          timings.transitionDuration = maxDuration;
          applyOnlyDuration = node.style[TRANSITION_PROP + PROPERTY_KEY].length > 0;
          temporaryStyles.push(getCssTransitionDurationStyle(maxDuration, applyOnlyDuration));
        }

        if (flags.applyAnimationDuration) {
          flags.hasAnimations = true;
          timings.animationDuration = maxDuration;
          temporaryStyles.push(getCssKeyframeDurationStyle(maxDuration));
        }
      }

      if (maxDuration === 0 && !flags.recalculateTimingStyles) {
        return closeAndReturnNoopAnimator();
      }

      if (options.delay != null) {
        var delayStyle;
        if (typeof options.delay !== "boolean") {
          delayStyle = parseFloat(options.delay);
          // number in options.delay means we have to recalculate the delay for the closing timeout
          maxDelay = Math.max(delayStyle, 0);
        }

        if (flags.applyTransitionDelay) {
          temporaryStyles.push(getCssDelayStyle(delayStyle));
        }

        if (flags.applyAnimationDelay) {
          temporaryStyles.push(getCssDelayStyle(delayStyle, true));
        }
      }

      // we need to recalculate the delay value since we used a pre-emptive negative
      // delay value and the delay value is required for the final event checking. This
      // property will ensure that this will happen after the RAF phase has passed.
      if (options.duration == null && timings.transitionDuration > 0) {
        flags.recalculateTimingStyles = flags.recalculateTimingStyles || isFirst;
      }

      maxDelayTime = maxDelay * ONE_SECOND;
      maxDurationTime = maxDuration * ONE_SECOND;
      if (!options.skipBlocking) {
        flags.blockTransition = timings.transitionDuration > 0;
        flags.blockKeyframeAnimation = timings.animationDuration > 0 &&
                                       stagger.animationDelay > 0 &&
                                       stagger.animationDuration === 0;
      }

      if (options.from) {
        if (options.cleanupStyles) {
          registerRestorableStyles(restoreStyles, node, Object.keys(options.from));
        }
        applyAnimationFromStyles(element, options);
      }

      if (flags.blockTransition || flags.blockKeyframeAnimation) {
        applyBlocking(maxDuration);
      } else if (!options.skipBlocking) {
        blockTransitions(node, false);
      }

      // TODO(matsko): for 1.5 change this code to have an animator object for better debugging
      return {
        $$willAnimate: true,
        end: endFn,
        start: function() {
          if (animationClosed) return;

          runnerHost = {
            end: endFn,
            cancel: cancelFn,
            resume: null, //this will be set during the start() phase
            pause: null
          };

          runner = new $$AnimateRunner(runnerHost);

          waitUntilQuiet(start);

          // we don't have access to pause/resume the animation
          // since it hasn't run yet. AnimateRunner will therefore
          // set noop functions for resume and pause and they will
          // later be overridden once the animation is triggered
          return runner;
        }
      };

      function endFn() {
        close();
      }

      function cancelFn() {
        close(true);
      }

      function close(rejected) { // jshint ignore:line
        // if the promise has been called already then we shouldn't close
        // the animation again
        if (animationClosed || (animationCompleted && animationPaused)) return;
        animationClosed = true;
        animationPaused = false;

        if (!options.$$skipPreparationClasses) {
          $$jqLite.removeClass(element, preparationClasses);
        }
        $$jqLite.removeClass(element, activeClasses);

        blockKeyframeAnimations(node, false);
        blockTransitions(node, false);

        forEach(temporaryStyles, function(entry) {
          // There is only one way to remove inline style properties entirely from elements.
          // By using `removeProperty` this works, but we need to convert camel-cased CSS
          // styles down to hyphenated values.
          node.style[entry[0]] = '';
        });

        applyAnimationClasses(element, options);
        applyAnimationStyles(element, options);

        if (Object.keys(restoreStyles).length) {
          forEach(restoreStyles, function(value, prop) {
            value ? node.style.setProperty(prop, value)
                  : node.style.removeProperty(prop);
          });
        }

        // the reason why we have this option is to allow a synchronous closing callback
        // that is fired as SOON as the animation ends (when the CSS is removed) or if
        // the animation never takes off at all. A good example is a leave animation since
        // the element must be removed just after the animation is over or else the element
        // will appear on screen for one animation frame causing an overbearing flicker.
        if (options.onDone) {
          options.onDone();
        }

        if (events && events.length) {
          // Remove the transitionend / animationend listener(s)
          element.off(events.join(' '), onAnimationProgress);
        }

        //Cancel the fallback closing timeout and remove the timer data
        var animationTimerData = element.data(ANIMATE_TIMER_KEY);
        if (animationTimerData) {
          $timeout.cancel(animationTimerData[0].timer);
          element.removeData(ANIMATE_TIMER_KEY);
        }

        // if the preparation function fails then the promise is not setup
        if (runner) {
          runner.complete(!rejected);
        }
      }

      function applyBlocking(duration) {
        if (flags.blockTransition) {
          blockTransitions(node, duration);
        }

        if (flags.blockKeyframeAnimation) {
          blockKeyframeAnimations(node, !!duration);
        }
      }

      function closeAndReturnNoopAnimator() {
        runner = new $$AnimateRunner({
          end: endFn,
          cancel: cancelFn
        });

        // should flush the cache animation
        waitUntilQuiet(noop);
        close();

        return {
          $$willAnimate: false,
          start: function() {
            return runner;
          },
          end: endFn
        };
      }

      function onAnimationProgress(event) {
        event.stopPropagation();
        var ev = event.originalEvent || event;

        // we now always use `Date.now()` due to the recent changes with
        // event.timeStamp in Firefox, Webkit and Chrome (see #13494 for more info)
        var timeStamp = ev.$manualTimeStamp || Date.now();

        /* Firefox (or possibly just Gecko) likes to not round values up
         * when a ms measurement is used for the animation */
        var elapsedTime = parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));

        /* $manualTimeStamp is a mocked timeStamp value which is set
         * within browserTrigger(). This is only here so that tests can
         * mock animations properly. Real events fallback to event.timeStamp,
         * or, if they don't, then a timeStamp is automatically created for them.
         * We're checking to see if the timeStamp surpasses the expected delay,
         * but we're using elapsedTime instead of the timeStamp on the 2nd
         * pre-condition since animationPauseds sometimes close off early */
        if (Math.max(timeStamp - startTime, 0) >= maxDelayTime && elapsedTime >= maxDuration) {
          // we set this flag to ensure that if the transition is paused then, when resumed,
          // the animation will automatically close itself since transitions cannot be paused.
          animationCompleted = true;
          close();
        }
      }

      function start() {
        if (animationClosed) return;
        if (!node.parentNode) {
          close();
          return;
        }

        // even though we only pause keyframe animations here the pause flag
        // will still happen when transitions are used. Only the transition will
        // not be paused since that is not possible. If the animation ends when
        // paused then it will not complete until unpaused or cancelled.
        var playPause = function(playAnimation) {
          if (!animationCompleted) {
            animationPaused = !playAnimation;
            if (timings.animationDuration) {
              var value = blockKeyframeAnimations(node, animationPaused);
              animationPaused
                  ? temporaryStyles.push(value)
                  : removeFromArray(temporaryStyles, value);
            }
          } else if (animationPaused && playAnimation) {
            animationPaused = false;
            close();
          }
        };

        // checking the stagger duration prevents an accidentally cascade of the CSS delay style
        // being inherited from the parent. If the transition duration is zero then we can safely
        // rely that the delay value is an intentional stagger delay style.
        var maxStagger = itemIndex > 0
                         && ((timings.transitionDuration && stagger.transitionDuration === 0) ||
                            (timings.animationDuration && stagger.animationDuration === 0))
                         && Math.max(stagger.animationDelay, stagger.transitionDelay);
        if (maxStagger) {
          $timeout(triggerAnimationStart,
                   Math.floor(maxStagger * itemIndex * ONE_SECOND),
                   false);
        } else {
          triggerAnimationStart();
        }

        // this will decorate the existing promise runner with pause/resume methods
        runnerHost.resume = function() {
          playPause(true);
        };

        runnerHost.pause = function() {
          playPause(false);
        };

        function triggerAnimationStart() {
          // just incase a stagger animation kicks in when the animation
          // itself was cancelled entirely
          if (animationClosed) return;

          applyBlocking(false);

          forEach(temporaryStyles, function(entry) {
            var key = entry[0];
            var value = entry[1];
            node.style[key] = value;
          });

          applyAnimationClasses(element, options);
          $$jqLite.addClass(element, activeClasses);

          if (flags.recalculateTimingStyles) {
            fullClassName = node.className + ' ' + preparationClasses;
            cacheKey = gcsHashFn(node, fullClassName);

            timings = computeTimings(node, fullClassName, cacheKey);
            relativeDelay = timings.maxDelay;
            maxDelay = Math.max(relativeDelay, 0);
            maxDuration = timings.maxDuration;

            if (maxDuration === 0) {
              close();
              return;
            }

            flags.hasTransitions = timings.transitionDuration > 0;
            flags.hasAnimations = timings.animationDuration > 0;
          }

          if (flags.applyAnimationDelay) {
            relativeDelay = typeof options.delay !== "boolean" && truthyTimingValue(options.delay)
                  ? parseFloat(options.delay)
                  : relativeDelay;

            maxDelay = Math.max(relativeDelay, 0);
            timings.animationDelay = relativeDelay;
            delayStyle = getCssDelayStyle(relativeDelay, true);
            temporaryStyles.push(delayStyle);
            node.style[delayStyle[0]] = delayStyle[1];
          }

          maxDelayTime = maxDelay * ONE_SECOND;
          maxDurationTime = maxDuration * ONE_SECOND;

          if (options.easing) {
            var easeProp, easeVal = options.easing;
            if (flags.hasTransitions) {
              easeProp = TRANSITION_PROP + TIMING_KEY;
              temporaryStyles.push([easeProp, easeVal]);
              node.style[easeProp] = easeVal;
            }
            if (flags.hasAnimations) {
              easeProp = ANIMATION_PROP + TIMING_KEY;
              temporaryStyles.push([easeProp, easeVal]);
              node.style[easeProp] = easeVal;
            }
          }

          if (timings.transitionDuration) {
            events.push(TRANSITIONEND_EVENT);
          }

          if (timings.animationDuration) {
            events.push(ANIMATIONEND_EVENT);
          }

          startTime = Date.now();
          var timerTime = maxDelayTime + CLOSING_TIME_BUFFER * maxDurationTime;
          var endTime = startTime + timerTime;

          var animationsData = element.data(ANIMATE_TIMER_KEY) || [];
          var setupFallbackTimer = true;
          if (animationsData.length) {
            var currentTimerData = animationsData[0];
            setupFallbackTimer = endTime > currentTimerData.expectedEndTime;
            if (setupFallbackTimer) {
              $timeout.cancel(currentTimerData.timer);
            } else {
              animationsData.push(close);
            }
          }

          if (setupFallbackTimer) {
            var timer = $timeout(onAnimationExpired, timerTime, false);
            animationsData[0] = {
              timer: timer,
              expectedEndTime: endTime
            };
            animationsData.push(close);
            element.data(ANIMATE_TIMER_KEY, animationsData);
          }

          if (events.length) {
            element.on(events.join(' '), onAnimationProgress);
          }

          if (options.to) {
            if (options.cleanupStyles) {
              registerRestorableStyles(restoreStyles, node, Object.keys(options.to));
            }
            applyAnimationToStyles(element, options);
          }
        }

        function onAnimationExpired() {
          var animationsData = element.data(ANIMATE_TIMER_KEY);

          // this will be false in the event that the element was
          // removed from the DOM (via a leave animation or something
          // similar)
          if (animationsData) {
            for (var i = 1; i < animationsData.length; i++) {
              animationsData[i]();
            }
            element.removeData(ANIMATE_TIMER_KEY);
          }
        }
      }
    };
  }];
}];

var $$AnimateCssDriverProvider = ['$$animationProvider', function($$animationProvider) {
  $$animationProvider.drivers.push('$$animateCssDriver');

  var NG_ANIMATE_SHIM_CLASS_NAME = 'ng-animate-shim';
  var NG_ANIMATE_ANCHOR_CLASS_NAME = 'ng-anchor';

  var NG_OUT_ANCHOR_CLASS_NAME = 'ng-anchor-out';
  var NG_IN_ANCHOR_CLASS_NAME = 'ng-anchor-in';

  function isDocumentFragment(node) {
    return node.parentNode && node.parentNode.nodeType === 11;
  }

  this.$get = ['$animateCss', '$rootScope', '$$AnimateRunner', '$rootElement', '$sniffer', '$$jqLite', '$document',
       function($animateCss,   $rootScope,   $$AnimateRunner,   $rootElement,   $sniffer,   $$jqLite,   $document) {

    // only browsers that support these properties can render animations
    if (!$sniffer.animations && !$sniffer.transitions) return noop;

    var bodyNode = $document[0].body;
    var rootNode = getDomNode($rootElement);

    var rootBodyElement = jqLite(
      // this is to avoid using something that exists outside of the body
      // we also special case the doc fragment case because our unit test code
      // appends the $rootElement to the body after the app has been bootstrapped
      isDocumentFragment(rootNode) || bodyNode.contains(rootNode) ? rootNode : bodyNode
    );

    var applyAnimationClasses = applyAnimationClassesFactory($$jqLite);

    return function initDriverFn(animationDetails) {
      return animationDetails.from && animationDetails.to
          ? prepareFromToAnchorAnimation(animationDetails.from,
                                         animationDetails.to,
                                         animationDetails.classes,
                                         animationDetails.anchors)
          : prepareRegularAnimation(animationDetails);
    };

    function filterCssClasses(classes) {
      //remove all the `ng-` stuff
      return classes.replace(/\bng-\S+\b/g, '');
    }

    function getUniqueValues(a, b) {
      if (isString(a)) a = a.split(' ');
      if (isString(b)) b = b.split(' ');
      return a.filter(function(val) {
        return b.indexOf(val) === -1;
      }).join(' ');
    }

    function prepareAnchoredAnimation(classes, outAnchor, inAnchor) {
      var clone = jqLite(getDomNode(outAnchor).cloneNode(true));
      var startingClasses = filterCssClasses(getClassVal(clone));

      outAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME);
      inAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME);

      clone.addClass(NG_ANIMATE_ANCHOR_CLASS_NAME);

      rootBodyElement.append(clone);

      var animatorIn, animatorOut = prepareOutAnimation();

      // the user may not end up using the `out` animation and
      // only making use of the `in` animation or vice-versa.
      // In either case we should allow this and not assume the
      // animation is over unless both animations are not used.
      if (!animatorOut) {
        animatorIn = prepareInAnimation();
        if (!animatorIn) {
          return end();
        }
      }

      var startingAnimator = animatorOut || animatorIn;

      return {
        start: function() {
          var runner;

          var currentAnimation = startingAnimator.start();
          currentAnimation.done(function() {
            currentAnimation = null;
            if (!animatorIn) {
              animatorIn = prepareInAnimation();
              if (animatorIn) {
                currentAnimation = animatorIn.start();
                currentAnimation.done(function() {
                  currentAnimation = null;
                  end();
                  runner.complete();
                });
                return currentAnimation;
              }
            }
            // in the event that there is no `in` animation
            end();
            runner.complete();
          });

          runner = new $$AnimateRunner({
            end: endFn,
            cancel: endFn
          });

          return runner;

          function endFn() {
            if (currentAnimation) {
              currentAnimation.end();
            }
          }
        }
      };

      function calculateAnchorStyles(anchor) {
        var styles = {};

        var coords = getDomNode(anchor).getBoundingClientRect();

        // we iterate directly since safari messes up and doesn't return
        // all the keys for the coords object when iterated
        forEach(['width','height','top','left'], function(key) {
          var value = coords[key];
          switch (key) {
            case 'top':
              value += bodyNode.scrollTop;
              break;
            case 'left':
              value += bodyNode.scrollLeft;
              break;
          }
          styles[key] = Math.floor(value) + 'px';
        });
        return styles;
      }

      function prepareOutAnimation() {
        var animator = $animateCss(clone, {
          addClass: NG_OUT_ANCHOR_CLASS_NAME,
          delay: true,
          from: calculateAnchorStyles(outAnchor)
        });

        // read the comment within `prepareRegularAnimation` to understand
        // why this check is necessary
        return animator.$$willAnimate ? animator : null;
      }

      function getClassVal(element) {
        return element.attr('class') || '';
      }

      function prepareInAnimation() {
        var endingClasses = filterCssClasses(getClassVal(inAnchor));
        var toAdd = getUniqueValues(endingClasses, startingClasses);
        var toRemove = getUniqueValues(startingClasses, endingClasses);

        var animator = $animateCss(clone, {
          to: calculateAnchorStyles(inAnchor),
          addClass: NG_IN_ANCHOR_CLASS_NAME + ' ' + toAdd,
          removeClass: NG_OUT_ANCHOR_CLASS_NAME + ' ' + toRemove,
          delay: true
        });

        // read the comment within `prepareRegularAnimation` to understand
        // why this check is necessary
        return animator.$$willAnimate ? animator : null;
      }

      function end() {
        clone.remove();
        outAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME);
        inAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME);
      }
    }

    function prepareFromToAnchorAnimation(from, to, classes, anchors) {
      var fromAnimation = prepareRegularAnimation(from, noop);
      var toAnimation = prepareRegularAnimation(to, noop);

      var anchorAnimations = [];
      forEach(anchors, function(anchor) {
        var outElement = anchor['out'];
        var inElement = anchor['in'];
        var animator = prepareAnchoredAnimation(classes, outElement, inElement);
        if (animator) {
          anchorAnimations.push(animator);
        }
      });

      // no point in doing anything when there are no elements to animate
      if (!fromAnimation && !toAnimation && anchorAnimations.length === 0) return;

      return {
        start: function() {
          var animationRunners = [];

          if (fromAnimation) {
            animationRunners.push(fromAnimation.start());
          }

          if (toAnimation) {
            animationRunners.push(toAnimation.start());
          }

          forEach(anchorAnimations, function(animation) {
            animationRunners.push(animation.start());
          });

          var runner = new $$AnimateRunner({
            end: endFn,
            cancel: endFn // CSS-driven animations cannot be cancelled, only ended
          });

          $$AnimateRunner.all(animationRunners, function(status) {
            runner.complete(status);
          });

          return runner;

          function endFn() {
            forEach(animationRunners, function(runner) {
              runner.end();
            });
          }
        }
      };
    }

    function prepareRegularAnimation(animationDetails) {
      var element = animationDetails.element;
      var options = animationDetails.options || {};

      if (animationDetails.structural) {
        options.event = animationDetails.event;
        options.structural = true;
        options.applyClassesEarly = true;

        // we special case the leave animation since we want to ensure that
        // the element is removed as soon as the animation is over. Otherwise
        // a flicker might appear or the element may not be removed at all
        if (animationDetails.event === 'leave') {
          options.onDone = options.domOperation;
        }
      }

      // We assign the preparationClasses as the actual animation event since
      // the internals of $animateCss will just suffix the event token values
      // with `-active` to trigger the animation.
      if (options.preparationClasses) {
        options.event = concatWithSpace(options.event, options.preparationClasses);
      }

      var animator = $animateCss(element, options);

      // the driver lookup code inside of $$animation attempts to spawn a
      // driver one by one until a driver returns a.$$willAnimate animator object.
      // $animateCss will always return an object, however, it will pass in
      // a flag as a hint as to whether an animation was detected or not
      return animator.$$willAnimate ? animator : null;
    }
  }];
}];

// TODO(matsko): use caching here to speed things up for detection
// TODO(matsko): add documentation
//  by the time...

var $$AnimateJsProvider = ['$animateProvider', function($animateProvider) {
  this.$get = ['$injector', '$$AnimateRunner', '$$jqLite',
       function($injector,   $$AnimateRunner,   $$jqLite) {

    var applyAnimationClasses = applyAnimationClassesFactory($$jqLite);
         // $animateJs(element, 'enter');
    return function(element, event, classes, options) {
      var animationClosed = false;

      // the `classes` argument is optional and if it is not used
      // then the classes will be resolved from the element's className
      // property as well as options.addClass/options.removeClass.
      if (arguments.length === 3 && isObject(classes)) {
        options = classes;
        classes = null;
      }

      options = prepareAnimationOptions(options);
      if (!classes) {
        classes = element.attr('class') || '';
        if (options.addClass) {
          classes += ' ' + options.addClass;
        }
        if (options.removeClass) {
          classes += ' ' + options.removeClass;
        }
      }

      var classesToAdd = options.addClass;
      var classesToRemove = options.removeClass;

      // the lookupAnimations function returns a series of animation objects that are
      // matched up with one or more of the CSS classes. These animation objects are
      // defined via the module.animation factory function. If nothing is detected then
      // we don't return anything which then makes $animation query the next driver.
      var animations = lookupAnimations(classes);
      var before, after;
      if (animations.length) {
        var afterFn, beforeFn;
        if (event == 'leave') {
          beforeFn = 'leave';
          afterFn = 'afterLeave'; // TODO(matsko): get rid of this
        } else {
          beforeFn = 'before' + event.charAt(0).toUpperCase() + event.substr(1);
          afterFn = event;
        }

        if (event !== 'enter' && event !== 'move') {
          before = packageAnimations(element, event, options, animations, beforeFn);
        }
        after  = packageAnimations(element, event, options, animations, afterFn);
      }

      // no matching animations
      if (!before && !after) return;

      function applyOptions() {
        options.domOperation();
        applyAnimationClasses(element, options);
      }

      function close() {
        animationClosed = true;
        applyOptions();
        applyAnimationStyles(element, options);
      }

      var runner;

      return {
        $$willAnimate: true,
        end: function() {
          if (runner) {
            runner.end();
          } else {
            close();
            runner = new $$AnimateRunner();
            runner.complete(true);
          }
          return runner;
        },
        start: function() {
          if (runner) {
            return runner;
          }

          runner = new $$AnimateRunner();
          var closeActiveAnimations;
          var chain = [];

          if (before) {
            chain.push(function(fn) {
              closeActiveAnimations = before(fn);
            });
          }

          if (chain.length) {
            chain.push(function(fn) {
              applyOptions();
              fn(true);
            });
          } else {
            applyOptions();
          }

          if (after) {
            chain.push(function(fn) {
              closeActiveAnimations = after(fn);
            });
          }

          runner.setHost({
            end: function() {
              endAnimations();
            },
            cancel: function() {
              endAnimations(true);
            }
          });

          $$AnimateRunner.chain(chain, onComplete);
          return runner;

          function onComplete(success) {
            close(success);
            runner.complete(success);
          }

          function endAnimations(cancelled) {
            if (!animationClosed) {
              (closeActiveAnimations || noop)(cancelled);
              onComplete(cancelled);
            }
          }
        }
      };

      function executeAnimationFn(fn, element, event, options, onDone) {
        var args;
        switch (event) {
          case 'animate':
            args = [element, options.from, options.to, onDone];
            break;

          case 'setClass':
            args = [element, classesToAdd, classesToRemove, onDone];
            break;

          case 'addClass':
            args = [element, classesToAdd, onDone];
            break;

          case 'removeClass':
            args = [element, classesToRemove, onDone];
            break;

          default:
            args = [element, onDone];
            break;
        }

        args.push(options);

        var value = fn.apply(fn, args);
        if (value) {
          if (isFunction(value.start)) {
            value = value.start();
          }

          if (value instanceof $$AnimateRunner) {
            value.done(onDone);
          } else if (isFunction(value)) {
            // optional onEnd / onCancel callback
            return value;
          }
        }

        return noop;
      }

      function groupEventedAnimations(element, event, options, animations, fnName) {
        var operations = [];
        forEach(animations, function(ani) {
          var animation = ani[fnName];
          if (!animation) return;

          // note that all of these animations will run in parallel
          operations.push(function() {
            var runner;
            var endProgressCb;

            var resolved = false;
            var onAnimationComplete = function(rejected) {
              if (!resolved) {
                resolved = true;
                (endProgressCb || noop)(rejected);
                runner.complete(!rejected);
              }
            };

            runner = new $$AnimateRunner({
              end: function() {
                onAnimationComplete();
              },
              cancel: function() {
                onAnimationComplete(true);
              }
            });

            endProgressCb = executeAnimationFn(animation, element, event, options, function(result) {
              var cancelled = result === false;
              onAnimationComplete(cancelled);
            });

            return runner;
          });
        });

        return operations;
      }

      function packageAnimations(element, event, options, animations, fnName) {
        var operations = groupEventedAnimations(element, event, options, animations, fnName);
        if (operations.length === 0) {
          var a,b;
          if (fnName === 'beforeSetClass') {
            a = groupEventedAnimations(element, 'removeClass', options, animations, 'beforeRemoveClass');
            b = groupEventedAnimations(element, 'addClass', options, animations, 'beforeAddClass');
          } else if (fnName === 'setClass') {
            a = groupEventedAnimations(element, 'removeClass', options, animations, 'removeClass');
            b = groupEventedAnimations(element, 'addClass', options, animations, 'addClass');
          }

          if (a) {
            operations = operations.concat(a);
          }
          if (b) {
            operations = operations.concat(b);
          }
        }

        if (operations.length === 0) return;

        // TODO(matsko): add documentation
        return function startAnimation(callback) {
          var runners = [];
          if (operations.length) {
            forEach(operations, function(animateFn) {
              runners.push(animateFn());
            });
          }

          runners.length ? $$AnimateRunner.all(runners, callback) : callback();

          return function endFn(reject) {
            forEach(runners, function(runner) {
              reject ? runner.cancel() : runner.end();
            });
          };
        };
      }
    };

    function lookupAnimations(classes) {
      classes = isArray(classes) ? classes : classes.split(' ');
      var matches = [], flagMap = {};
      for (var i=0; i < classes.length; i++) {
        var klass = classes[i],
            animationFactory = $animateProvider.$$registeredAnimations[klass];
        if (animationFactory && !flagMap[klass]) {
          matches.push($injector.get(animationFactory));
          flagMap[klass] = true;
        }
      }
      return matches;
    }
  }];
}];

var $$AnimateJsDriverProvider = ['$$animationProvider', function($$animationProvider) {
  $$animationProvider.drivers.push('$$animateJsDriver');
  this.$get = ['$$animateJs', '$$AnimateRunner', function($$animateJs, $$AnimateRunner) {
    return function initDriverFn(animationDetails) {
      if (animationDetails.from && animationDetails.to) {
        var fromAnimation = prepareAnimation(animationDetails.from);
        var toAnimation = prepareAnimation(animationDetails.to);
        if (!fromAnimation && !toAnimation) return;

        return {
          start: function() {
            var animationRunners = [];

            if (fromAnimation) {
              animationRunners.push(fromAnimation.start());
            }

            if (toAnimation) {
              animationRunners.push(toAnimation.start());
            }

            $$AnimateRunner.all(animationRunners, done);

            var runner = new $$AnimateRunner({
              end: endFnFactory(),
              cancel: endFnFactory()
            });

            return runner;

            function endFnFactory() {
              return function() {
                forEach(animationRunners, function(runner) {
                  // at this point we cannot cancel animations for groups just yet. 1.5+
                  runner.end();
                });
              };
            }

            function done(status) {
              runner.complete(status);
            }
          }
        };
      } else {
        return prepareAnimation(animationDetails);
      }
    };

    function prepareAnimation(animationDetails) {
      // TODO(matsko): make sure to check for grouped animations and delegate down to normal animations
      var element = animationDetails.element;
      var event = animationDetails.event;
      var options = animationDetails.options;
      var classes = animationDetails.classes;
      return $$animateJs(element, event, classes, options);
    }
  }];
}];

var NG_ANIMATE_ATTR_NAME = 'data-ng-animate';
var NG_ANIMATE_PIN_DATA = '$ngAnimatePin';
var $$AnimateQueueProvider = ['$animateProvider', function($animateProvider) {
  var PRE_DIGEST_STATE = 1;
  var RUNNING_STATE = 2;
  var ONE_SPACE = ' ';

  var rules = this.rules = {
    skip: [],
    cancel: [],
    join: []
  };

  function makeTruthyCssClassMap(classString) {
    if (!classString) {
      return null;
    }

    var keys = classString.split(ONE_SPACE);
    var map = Object.create(null);

    forEach(keys, function(key) {
      map[key] = true;
    });
    return map;
  }

  function hasMatchingClasses(newClassString, currentClassString) {
    if (newClassString && currentClassString) {
      var currentClassMap = makeTruthyCssClassMap(currentClassString);
      return newClassString.split(ONE_SPACE).some(function(className) {
        return currentClassMap[className];
      });
    }
  }

  function isAllowed(ruleType, element, currentAnimation, previousAnimation) {
    return rules[ruleType].some(function(fn) {
      return fn(element, currentAnimation, previousAnimation);
    });
  }

  function hasAnimationClasses(animation, and) {
    var a = (animation.addClass || '').length > 0;
    var b = (animation.removeClass || '').length > 0;
    return and ? a && b : a || b;
  }

  rules.join.push(function(element, newAnimation, currentAnimation) {
    // if the new animation is class-based then we can just tack that on
    return !newAnimation.structural && hasAnimationClasses(newAnimation);
  });

  rules.skip.push(function(element, newAnimation, currentAnimation) {
    // there is no need to animate anything if no classes are being added and
    // there is no structural animation that will be triggered
    return !newAnimation.structural && !hasAnimationClasses(newAnimation);
  });

  rules.skip.push(function(element, newAnimation, currentAnimation) {
    // why should we trigger a new structural animation if the element will
    // be removed from the DOM anyway?
    return currentAnimation.event == 'leave' && newAnimation.structural;
  });

  rules.skip.push(function(element, newAnimation, currentAnimation) {
    // if there is an ongoing current animation then don't even bother running the class-based animation
    return currentAnimation.structural && currentAnimation.state === RUNNING_STATE && !newAnimation.structural;
  });

  rules.cancel.push(function(element, newAnimation, currentAnimation) {
    // there can never be two structural animations running at the same time
    return currentAnimation.structural && newAnimation.structural;
  });

  rules.cancel.push(function(element, newAnimation, currentAnimation) {
    // if the previous animation is already running, but the new animation will
    // be triggered, but the new animation is structural
    return currentAnimation.state === RUNNING_STATE && newAnimation.structural;
  });

  rules.cancel.push(function(element, newAnimation, currentAnimation) {
    var nA = newAnimation.addClass;
    var nR = newAnimation.removeClass;
    var cA = currentAnimation.addClass;
    var cR = currentAnimation.removeClass;

    // early detection to save the global CPU shortage :)
    if ((isUndefined(nA) && isUndefined(nR)) || (isUndefined(cA) && isUndefined(cR))) {
      return false;
    }

    return hasMatchingClasses(nA, cR) || hasMatchingClasses(nR, cA);
  });

  this.$get = ['$$rAF', '$rootScope', '$rootElement', '$document', '$$HashMap',
               '$$animation', '$$AnimateRunner', '$templateRequest', '$$jqLite', '$$forceReflow',
       function($$rAF,   $rootScope,   $rootElement,   $document,   $$HashMap,
                $$animation,   $$AnimateRunner,   $templateRequest,   $$jqLite,   $$forceReflow) {

    var activeAnimationsLookup = new $$HashMap();
    var disabledElementsLookup = new $$HashMap();
    var animationsEnabled = null;

    function postDigestTaskFactory() {
      var postDigestCalled = false;
      return function(fn) {
        // we only issue a call to postDigest before
        // it has first passed. This prevents any callbacks
        // from not firing once the animation has completed
        // since it will be out of the digest cycle.
        if (postDigestCalled) {
          fn();
        } else {
          $rootScope.$$postDigest(function() {
            postDigestCalled = true;
            fn();
          });
        }
      };
    }

    // Wait until all directive and route-related templates are downloaded and
    // compiled. The $templateRequest.totalPendingRequests variable keeps track of
    // all of the remote templates being currently downloaded. If there are no
    // templates currently downloading then the watcher will still fire anyway.
    var deregisterWatch = $rootScope.$watch(
      function() { return $templateRequest.totalPendingRequests === 0; },
      function(isEmpty) {
        if (!isEmpty) return;
        deregisterWatch();

        // Now that all templates have been downloaded, $animate will wait until
        // the post digest queue is empty before enabling animations. By having two
        // calls to $postDigest calls we can ensure that the flag is enabled at the
        // very end of the post digest queue. Since all of the animations in $animate
        // use $postDigest, it's important that the code below executes at the end.
        // This basically means that the page is fully downloaded and compiled before
        // any animations are triggered.
        $rootScope.$$postDigest(function() {
          $rootScope.$$postDigest(function() {
            // we check for null directly in the event that the application already called
            // .enabled() with whatever arguments that it provided it with
            if (animationsEnabled === null) {
              animationsEnabled = true;
            }
          });
        });
      }
    );

    var callbackRegistry = {};

    // remember that the classNameFilter is set during the provider/config
    // stage therefore we can optimize here and setup a helper function
    var classNameFilter = $animateProvider.classNameFilter();
    var isAnimatableClassName = !classNameFilter
              ? function() { return true; }
              : function(className) {
                return classNameFilter.test(className);
              };

    var applyAnimationClasses = applyAnimationClassesFactory($$jqLite);

    function normalizeAnimationDetails(element, animation) {
      return mergeAnimationDetails(element, animation, {});
    }

    // IE9-11 has no method "contains" in SVG element and in Node.prototype. Bug #10259.
    var contains = Node.prototype.contains || function(arg) {
      // jshint bitwise: false
      return this === arg || !!(this.compareDocumentPosition(arg) & 16);
      // jshint bitwise: true
    };

    function findCallbacks(parent, element, event) {
      var targetNode = getDomNode(element);
      var targetParentNode = getDomNode(parent);

      var matches = [];
      var entries = callbackRegistry[event];
      if (entries) {
        forEach(entries, function(entry) {
          if (contains.call(entry.node, targetNode)) {
            matches.push(entry.callback);
          } else if (event === 'leave' && contains.call(entry.node, targetParentNode)) {
            matches.push(entry.callback);
          }
        });
      }

      return matches;
    }

    return {
      on: function(event, container, callback) {
        var node = extractElementNode(container);
        callbackRegistry[event] = callbackRegistry[event] || [];
        callbackRegistry[event].push({
          node: node,
          callback: callback
        });
      },

      off: function(event, container, callback) {
        var entries = callbackRegistry[event];
        if (!entries) return;

        callbackRegistry[event] = arguments.length === 1
            ? null
            : filterFromRegistry(entries, container, callback);

        function filterFromRegistry(list, matchContainer, matchCallback) {
          var containerNode = extractElementNode(matchContainer);
          return list.filter(function(entry) {
            var isMatch = entry.node === containerNode &&
                            (!matchCallback || entry.callback === matchCallback);
            return !isMatch;
          });
        }
      },

      pin: function(element, parentElement) {
        assertArg(isElement(element), 'element', 'not an element');
        assertArg(isElement(parentElement), 'parentElement', 'not an element');
        element.data(NG_ANIMATE_PIN_DATA, parentElement);
      },

      push: function(element, event, options, domOperation) {
        options = options || {};
        options.domOperation = domOperation;
        return queueAnimation(element, event, options);
      },

      // this method has four signatures:
      //  () - global getter
      //  (bool) - global setter
      //  (element) - element getter
      //  (element, bool) - element setter<F37>
      enabled: function(element, bool) {
        var argCount = arguments.length;

        if (argCount === 0) {
          // () - Global getter
          bool = !!animationsEnabled;
        } else {
          var hasElement = isElement(element);

          if (!hasElement) {
            // (bool) - Global setter
            bool = animationsEnabled = !!element;
          } else {
            var node = getDomNode(element);
            var recordExists = disabledElementsLookup.get(node);

            if (argCount === 1) {
              // (element) - Element getter
              bool = !recordExists;
            } else {
              // (element, bool) - Element setter
              disabledElementsLookup.put(node, !bool);
            }
          }
        }

        return bool;
      }
    };

    function queueAnimation(element, event, initialOptions) {
      // we always make a copy of the options since
      // there should never be any side effects on
      // the input data when running `$animateCss`.
      var options = copy(initialOptions);

      var node, parent;
      element = stripCommentsFromElement(element);
      if (element) {
        node = getDomNode(element);
        parent = element.parent();
      }

      options = prepareAnimationOptions(options);

      // we create a fake runner with a working promise.
      // These methods will become available after the digest has passed
      var runner = new $$AnimateRunner();

      // this is used to trigger callbacks in postDigest mode
      var runInNextPostDigestOrNow = postDigestTaskFactory();

      if (isArray(options.addClass)) {
        options.addClass = options.addClass.join(' ');
      }

      if (options.addClass && !isString(options.addClass)) {
        options.addClass = null;
      }

      if (isArray(options.removeClass)) {
        options.removeClass = options.removeClass.join(' ');
      }

      if (options.removeClass && !isString(options.removeClass)) {
        options.removeClass = null;
      }

      if (options.from && !isObject(options.from)) {
        options.from = null;
      }

      if (options.to && !isObject(options.to)) {
        options.to = null;
      }

      // there are situations where a directive issues an animation for
      // a jqLite wrapper that contains only comment nodes... If this
      // happens then there is no way we can perform an animation
      if (!node) {
        close();
        return runner;
      }

      var className = [node.className, options.addClass, options.removeClass].join(' ');
      if (!isAnimatableClassName(className)) {
        close();
        return runner;
      }

      var isStructural = ['enter', 'move', 'leave'].indexOf(event) >= 0;

      // this is a hard disable of all animations for the application or on
      // the element itself, therefore  there is no need to continue further
      // past this point if not enabled
      // Animations are also disabled if the document is currently hidden (page is not visible
      // to the user), because browsers slow down or do not flush calls to requestAnimationFrame
      var skipAnimations = !animationsEnabled || $document[0].hidden || disabledElementsLookup.get(node);
      var existingAnimation = (!skipAnimations && activeAnimationsLookup.get(node)) || {};
      var hasExistingAnimation = !!existingAnimation.state;

      // there is no point in traversing the same collection of parent ancestors if a followup
      // animation will be run on the same element that already did all that checking work
      if (!skipAnimations && (!hasExistingAnimation || existingAnimation.state != PRE_DIGEST_STATE)) {
        skipAnimations = !areAnimationsAllowed(element, parent, event);
      }

      if (skipAnimations) {
        close();
        return runner;
      }

      if (isStructural) {
        closeChildAnimations(element);
      }

      var newAnimation = {
        structural: isStructural,
        element: element,
        event: event,
        addClass: options.addClass,
        removeClass: options.removeClass,
        close: close,
        options: options,
        runner: runner
      };

      if (hasExistingAnimation) {
        var skipAnimationFlag = isAllowed('skip', element, newAnimation, existingAnimation);
        if (skipAnimationFlag) {
          if (existingAnimation.state === RUNNING_STATE) {
            close();
            return runner;
          } else {
            mergeAnimationDetails(element, existingAnimation, newAnimation);
            return existingAnimation.runner;
          }
        }
        var cancelAnimationFlag = isAllowed('cancel', element, newAnimation, existingAnimation);
        if (cancelAnimationFlag) {
          if (existingAnimation.state === RUNNING_STATE) {
            // this will end the animation right away and it is safe
            // to do so since the animation is already running and the
            // runner callback code will run in async
            existingAnimation.runner.end();
          } else if (existingAnimation.structural) {
            // this means that the animation is queued into a digest, but
            // hasn't started yet. Therefore it is safe to run the close
            // method which will call the runner methods in async.
            existingAnimation.close();
          } else {
            // this will merge the new animation options into existing animation options
            mergeAnimationDetails(element, existingAnimation, newAnimation);

            return existingAnimation.runner;
          }
        } else {
          // a joined animation means that this animation will take over the existing one
          // so an example would involve a leave animation taking over an enter. Then when
          // the postDigest kicks in the enter will be ignored.
          var joinAnimationFlag = isAllowed('join', element, newAnimation, existingAnimation);
          if (joinAnimationFlag) {
            if (existingAnimation.state === RUNNING_STATE) {
              normalizeAnimationDetails(element, newAnimation);
            } else {
              applyGeneratedPreparationClasses(element, isStructural ? event : null, options);

              event = newAnimation.event = existingAnimation.event;
              options = mergeAnimationDetails(element, existingAnimation, newAnimation);

              //we return the same runner since only the option values of this animation will
              //be fed into the `existingAnimation`.
              return existingAnimation.runner;
            }
          }
        }
      } else {
        // normalization in this case means that it removes redundant CSS classes that
        // already exist (addClass) or do not exist (removeClass) on the element
        normalizeAnimationDetails(element, newAnimation);
      }

      // when the options are merged and cleaned up we may end up not having to do
      // an animation at all, therefore we should check this before issuing a post
      // digest callback. Structural animations will always run no matter what.
      var isValidAnimation = newAnimation.structural;
      if (!isValidAnimation) {
        // animate (from/to) can be quickly checked first, otherwise we check if any classes are present
        isValidAnimation = (newAnimation.event === 'animate' && Object.keys(newAnimation.options.to || {}).length > 0)
                            || hasAnimationClasses(newAnimation);
      }

      if (!isValidAnimation) {
        close();
        clearElementAnimationState(element);
        return runner;
      }

      // the counter keeps track of cancelled animations
      var counter = (existingAnimation.counter || 0) + 1;
      newAnimation.counter = counter;

      markElementAnimationState(element, PRE_DIGEST_STATE, newAnimation);

      $rootScope.$$postDigest(function() {
        var animationDetails = activeAnimationsLookup.get(node);
        var animationCancelled = !animationDetails;
        animationDetails = animationDetails || {};

        // if addClass/removeClass is called before something like enter then the
        // registered parent element may not be present. The code below will ensure
        // that a final value for parent element is obtained
        var parentElement = element.parent() || [];

        // animate/structural/class-based animations all have requirements. Otherwise there
        // is no point in performing an animation. The parent node must also be set.
        var isValidAnimation = parentElement.length > 0
                                && (animationDetails.event === 'animate'
                                    || animationDetails.structural
                                    || hasAnimationClasses(animationDetails));

        // this means that the previous animation was cancelled
        // even if the follow-up animation is the same event
        if (animationCancelled || animationDetails.counter !== counter || !isValidAnimation) {
          // if another animation did not take over then we need
          // to make sure that the domOperation and options are
          // handled accordingly
          if (animationCancelled) {
            applyAnimationClasses(element, options);
            applyAnimationStyles(element, options);
          }

          // if the event changed from something like enter to leave then we do
          // it, otherwise if it's the same then the end result will be the same too
          if (animationCancelled || (isStructural && animationDetails.event !== event)) {
            options.domOperation();
            runner.end();
          }

          // in the event that the element animation was not cancelled or a follow-up animation
          // isn't allowed to animate from here then we need to clear the state of the element
          // so that any future animations won't read the expired animation data.
          if (!isValidAnimation) {
            clearElementAnimationState(element);
          }

          return;
        }

        // this combined multiple class to addClass / removeClass into a setClass event
        // so long as a structural event did not take over the animation
        event = !animationDetails.structural && hasAnimationClasses(animationDetails, true)
            ? 'setClass'
            : animationDetails.event;

        markElementAnimationState(element, RUNNING_STATE);
        var realRunner = $$animation(element, event, animationDetails.options);

        realRunner.done(function(status) {
          close(!status);
          var animationDetails = activeAnimationsLookup.get(node);
          if (animationDetails && animationDetails.counter === counter) {
            clearElementAnimationState(getDomNode(element));
          }
          notifyProgress(runner, event, 'close', {});
        });

        // this will update the runner's flow-control events based on
        // the `realRunner` object.
        runner.setHost(realRunner);
        notifyProgress(runner, event, 'start', {});
      });

      return runner;

      function notifyProgress(runner, event, phase, data) {
        runInNextPostDigestOrNow(function() {
          var callbacks = findCallbacks(parent, element, event);
          if (callbacks.length) {
            // do not optimize this call here to RAF because
            // we don't know how heavy the callback code here will
            // be and if this code is buffered then this can
            // lead to a performance regression.
            $$rAF(function() {
              forEach(callbacks, function(callback) {
                callback(element, phase, data);
              });
            });
          }
        });
        runner.progress(event, phase, data);
      }

      function close(reject) { // jshint ignore:line
        clearGeneratedClasses(element, options);
        applyAnimationClasses(element, options);
        applyAnimationStyles(element, options);
        options.domOperation();
        runner.complete(!reject);
      }
    }

    function closeChildAnimations(element) {
      var node = getDomNode(element);
      var children = node.querySelectorAll('[' + NG_ANIMATE_ATTR_NAME + ']');
      forEach(children, function(child) {
        var state = parseInt(child.getAttribute(NG_ANIMATE_ATTR_NAME));
        var animationDetails = activeAnimationsLookup.get(child);
        if (animationDetails) {
          switch (state) {
              case RUNNING_STATE:
                  if (animationDetails !== undefined) {
                      animationDetails.runner.end();
                  }
              /* falls through */
            case PRE_DIGEST_STATE:
              activeAnimationsLookup.remove(child);
              break;
          }
        }
      });
    }

    function clearElementAnimationState(element) {
      var node = getDomNode(element);
      node.removeAttribute(NG_ANIMATE_ATTR_NAME);
      activeAnimationsLookup.remove(node);
    }

    function isMatchingElement(nodeOrElmA, nodeOrElmB) {
      return getDomNode(nodeOrElmA) === getDomNode(nodeOrElmB);
    }

    /**
     * This fn returns false if any of the following is true:
     * a) animations on any parent element are disabled, and animations on the element aren't explicitly allowed
     * b) a parent element has an ongoing structural animation, and animateChildren is false
     * c) the element is not a child of the body
     * d) the element is not a child of the $rootElement
     */
    function areAnimationsAllowed(element, parentElement, event) {
      var bodyElement = jqLite($document[0].body);
      var bodyElementDetected = isMatchingElement(element, bodyElement) || element[0].nodeName === 'HTML';
      var rootElementDetected = isMatchingElement(element, $rootElement);
      var parentAnimationDetected = false;
      var animateChildren;
      var elementDisabled = disabledElementsLookup.get(getDomNode(element));

      var parentHost = element.data(NG_ANIMATE_PIN_DATA);
      if (parentHost) {
        parentElement = parentHost;
      }

      while (parentElement && parentElement.length) {
        if (!rootElementDetected) {
          // angular doesn't want to attempt to animate elements outside of the application
          // therefore we need to ensure that the rootElement is an ancestor of the current element
          rootElementDetected = isMatchingElement(parentElement, $rootElement);
        }

        var parentNode = parentElement[0];
        if (parentNode.nodeType !== ELEMENT_NODE) {
          // no point in inspecting the #document element
          break;
        }

        var details = activeAnimationsLookup.get(parentNode) || {};
        // either an enter, leave or move animation will commence
        // therefore we can't allow any animations to take place
        // but if a parent animation is class-based then that's ok
        if (!parentAnimationDetected) {
          var parentElementDisabled = disabledElementsLookup.get(parentNode);

          if (parentElementDisabled === true && elementDisabled !== false) {
            // disable animations if the user hasn't explicitly enabled animations on the
            // current element
            elementDisabled = true;
            // element is disabled via parent element, no need to check anything else
            break;
          } else if (parentElementDisabled === false) {
            elementDisabled = false;
          }
          parentAnimationDetected = details.structural;
        }

        if (isUndefined(animateChildren) || animateChildren === true) {
          var value = parentElement.data(NG_ANIMATE_CHILDREN_DATA);
          if (isDefined(value)) {
            animateChildren = value;
          }
        }

        // there is no need to continue traversing at this point
        if (parentAnimationDetected && animateChildren === false) break;

        if (!bodyElementDetected) {
          // we also need to ensure that the element is or will be a part of the body element
          // otherwise it is pointless to even issue an animation to be rendered
          bodyElementDetected = isMatchingElement(parentElement, bodyElement);
        }

        if (bodyElementDetected && rootElementDetected) {
          // If both body and root have been found, any other checks are pointless,
          // as no animation data should live outside the application
          break;
        }

        if (!rootElementDetected) {
          // If no rootElement is detected, check if the parentElement is pinned to another element
          parentHost = parentElement.data(NG_ANIMATE_PIN_DATA);
          if (parentHost) {
            // The pin target element becomes the next parent element
            parentElement = parentHost;
            continue;
          }
        }

        parentElement = parentElement.parent();
      }

      var allowAnimation = (!parentAnimationDetected || animateChildren) && elementDisabled !== true;
      return allowAnimation && rootElementDetected && bodyElementDetected;
    }

    function markElementAnimationState(element, state, details) {
      details = details || {};
      details.state = state;

      var node = getDomNode(element);
      node.setAttribute(NG_ANIMATE_ATTR_NAME, state);

      var oldValue = activeAnimationsLookup.get(node);
      var newValue = oldValue
          ? extend(oldValue, details)
          : details;
      activeAnimationsLookup.put(node, newValue);
    }
  }];
}];

var $$AnimationProvider = ['$animateProvider', function($animateProvider) {
  var NG_ANIMATE_REF_ATTR = 'ng-animate-ref';

  var drivers = this.drivers = [];

  var RUNNER_STORAGE_KEY = '$$animationRunner';

  function setRunner(element, runner) {
    element.data(RUNNER_STORAGE_KEY, runner);
  }

  function removeRunner(element) {
    element.removeData(RUNNER_STORAGE_KEY);
  }

  function getRunner(element) {
    return element.data(RUNNER_STORAGE_KEY);
  }

  this.$get = ['$$jqLite', '$rootScope', '$injector', '$$AnimateRunner', '$$HashMap', '$$rAFScheduler',
       function($$jqLite,   $rootScope,   $injector,   $$AnimateRunner,   $$HashMap,   $$rAFScheduler) {

    var animationQueue = [];
    var applyAnimationClasses = applyAnimationClassesFactory($$jqLite);

    function sortAnimations(animations) {
      var tree = { children: [] };
      var i, lookup = new $$HashMap();

      // this is done first beforehand so that the hashmap
      // is filled with a list of the elements that will be animated
      for (i = 0; i < animations.length; i++) {
        var animation = animations[i];
        lookup.put(animation.domNode, animations[i] = {
          domNode: animation.domNode,
          fn: animation.fn,
          children: []
        });
      }

      for (i = 0; i < animations.length; i++) {
        processNode(animations[i]);
      }

      return flatten(tree);

      function processNode(entry) {
        if (entry.processed) return entry;
        entry.processed = true;

        var elementNode = entry.domNode;
        var parentNode = elementNode.parentNode;
        lookup.put(elementNode, entry);

        var parentEntry;
        while (parentNode) {
          parentEntry = lookup.get(parentNode);
          if (parentEntry) {
            if (!parentEntry.processed) {
              parentEntry = processNode(parentEntry);
            }
            break;
          }
          parentNode = parentNode.parentNode;
        }

        (parentEntry || tree).children.push(entry);
        return entry;
      }

      function flatten(tree) {
        var result = [];
        var queue = [];
        var i;

        for (i = 0; i < tree.children.length; i++) {
          queue.push(tree.children[i]);
        }

        var remainingLevelEntries = queue.length;
        var nextLevelEntries = 0;
        var row = [];

        for (i = 0; i < queue.length; i++) {
          var entry = queue[i];
          if (remainingLevelEntries <= 0) {
            remainingLevelEntries = nextLevelEntries;
            nextLevelEntries = 0;
            result.push(row);
            row = [];
          }
          row.push(entry.fn);
          entry.children.forEach(function(childEntry) {
            nextLevelEntries++;
            queue.push(childEntry);
          });
          remainingLevelEntries--;
        }

        if (row.length) {
          result.push(row);
        }

        return result;
      }
    }

    // TODO(matsko): document the signature in a better way
    return function(element, event, options) {
      options = prepareAnimationOptions(options);
      var isStructural = ['enter', 'move', 'leave'].indexOf(event) >= 0;

      // there is no animation at the current moment, however
      // these runner methods will get later updated with the
      // methods leading into the driver's end/cancel methods
      // for now they just stop the animation from starting
      var runner = new $$AnimateRunner({
        end: function() { close(); },
        cancel: function() { close(true); }
      });

      if (!drivers.length) {
        close();
        return runner;
      }

      setRunner(element, runner);

      var classes = mergeClasses(element.attr('class'), mergeClasses(options.addClass, options.removeClass));
      var tempClasses = options.tempClasses;
      if (tempClasses) {
        classes += ' ' + tempClasses;
        options.tempClasses = null;
      }

      var prepareClassName;
      if (isStructural) {
        prepareClassName = 'ng-' + event + PREPARE_CLASS_SUFFIX;
        $$jqLite.addClass(element, prepareClassName);
      }

      animationQueue.push({
        // this data is used by the postDigest code and passed into
        // the driver step function
        element: element,
        classes: classes,
        event: event,
        structural: isStructural,
        options: options,
        beforeStart: beforeStart,
        close: close
      });

      element.on('$destroy', handleDestroyedElement);

      // we only want there to be one function called within the post digest
      // block. This way we can group animations for all the animations that
      // were apart of the same postDigest flush call.
      if (animationQueue.length > 1) return runner;

      $rootScope.$$postDigest(function() {
        var animations = [];
        forEach(animationQueue, function(entry) {
          // the element was destroyed early on which removed the runner
          // form its storage. This means we can't animate this element
          // at all and it already has been closed due to destruction.
          if (getRunner(entry.element)) {
            animations.push(entry);
          } else {
            entry.close();
          }
        });

        // now any future animations will be in another postDigest
        animationQueue.length = 0;

        var groupedAnimations = groupAnimations(animations);
        var toBeSortedAnimations = [];

        forEach(groupedAnimations, function(animationEntry) {
          toBeSortedAnimations.push({
            domNode: getDomNode(animationEntry.from ? animationEntry.from.element : animationEntry.element),
            fn: function triggerAnimationStart() {
              // it's important that we apply the `ng-animate` CSS class and the
              // temporary classes before we do any driver invoking since these
              // CSS classes may be required for proper CSS detection.
              animationEntry.beforeStart();

              var startAnimationFn, closeFn = animationEntry.close;

              // in the event that the element was removed before the digest runs or
              // during the RAF sequencing then we should not trigger the animation.
              var targetElement = animationEntry.anchors
                  ? (animationEntry.from.element || animationEntry.to.element)
                  : animationEntry.element;

              if (getRunner(targetElement)) {
                var operation = invokeFirstDriver(animationEntry);
                if (operation) {
                  startAnimationFn = operation.start;
                }
              }

              if (!startAnimationFn) {
                closeFn();
              } else {
                var animationRunner = startAnimationFn();
                animationRunner.done(function(status) {
                  closeFn(!status);
                });
                updateAnimationRunners(animationEntry, animationRunner);
              }
            }
          });
        });

        // we need to sort each of the animations in order of parent to child
        // relationships. This ensures that the child classes are applied at the
        // right time.
        $$rAFScheduler(sortAnimations(toBeSortedAnimations));
      });

      return runner;

      // TODO(matsko): change to reference nodes
      function getAnchorNodes(node) {
        var SELECTOR = '[' + NG_ANIMATE_REF_ATTR + ']';
        var items = node.hasAttribute(NG_ANIMATE_REF_ATTR)
              ? [node]
              : node.querySelectorAll(SELECTOR);
        var anchors = [];
        forEach(items, function(node) {
          var attr = node.getAttribute(NG_ANIMATE_REF_ATTR);
          if (attr && attr.length) {
            anchors.push(node);
          }
        });
        return anchors;
      }

      function groupAnimations(animations) {
        var preparedAnimations = [];
        var refLookup = {};
        forEach(animations, function(animation, index) {
          var element = animation.element;
          var node = getDomNode(element);
          var event = animation.event;
          var enterOrMove = ['enter', 'move'].indexOf(event) >= 0;
          var anchorNodes = animation.structural ? getAnchorNodes(node) : [];

          if (anchorNodes.length) {
            var direction = enterOrMove ? 'to' : 'from';

            forEach(anchorNodes, function(anchor) {
              var key = anchor.getAttribute(NG_ANIMATE_REF_ATTR);
              refLookup[key] = refLookup[key] || {};
              refLookup[key][direction] = {
                animationID: index,
                element: jqLite(anchor)
              };
            });
          } else {
            preparedAnimations.push(animation);
          }
        });

        var usedIndicesLookup = {};
        var anchorGroups = {};
        forEach(refLookup, function(operations, key) {
          var from = operations.from;
          var to = operations.to;

          if (!from || !to) {
            // only one of these is set therefore we can't have an
            // anchor animation since all three pieces are required
            var index = from ? from.animationID : to.animationID;
            var indexKey = index.toString();
            if (!usedIndicesLookup[indexKey]) {
              usedIndicesLookup[indexKey] = true;
              preparedAnimations.push(animations[index]);
            }
            return;
          }

          var fromAnimation = animations[from.animationID];
          var toAnimation = animations[to.animationID];
          var lookupKey = from.animationID.toString();
          if (!anchorGroups[lookupKey]) {
            var group = anchorGroups[lookupKey] = {
              structural: true,
              beforeStart: function() {
                fromAnimation.beforeStart();
                toAnimation.beforeStart();
              },
              close: function() {
                fromAnimation.close();
                toAnimation.close();
              },
              classes: cssClassesIntersection(fromAnimation.classes, toAnimation.classes),
              from: fromAnimation,
              to: toAnimation,
              anchors: [] // TODO(matsko): change to reference nodes
            };

            // the anchor animations require that the from and to elements both have at least
            // one shared CSS class which effectively marries the two elements together to use
            // the same animation driver and to properly sequence the anchor animation.
            if (group.classes.length) {
              preparedAnimations.push(group);
            } else {
              preparedAnimations.push(fromAnimation);
              preparedAnimations.push(toAnimation);
            }
          }

          anchorGroups[lookupKey].anchors.push({
            'out': from.element, 'in': to.element
          });
        });

        return preparedAnimations;
      }

      function cssClassesIntersection(a,b) {
        a = a.split(' ');
        b = b.split(' ');
        var matches = [];

        for (var i = 0; i < a.length; i++) {
          var aa = a[i];
          if (aa.substring(0,3) === 'ng-') continue;

          for (var j = 0; j < b.length; j++) {
            if (aa === b[j]) {
              matches.push(aa);
              break;
            }
          }
        }

        return matches.join(' ');
      }

      function invokeFirstDriver(animationDetails) {
        // we loop in reverse order since the more general drivers (like CSS and JS)
        // may attempt more elements, but custom drivers are more particular
        for (var i = drivers.length - 1; i >= 0; i--) {
          var driverName = drivers[i];
          if (!$injector.has(driverName)) continue; // TODO(matsko): remove this check

          var factory = $injector.get(driverName);
          var driver = factory(animationDetails);
          if (driver) {
            return driver;
          }
        }
      }

      function beforeStart() {
        element.addClass(NG_ANIMATE_CLASSNAME);
        if (tempClasses) {
          $$jqLite.addClass(element, tempClasses);
        }
        if (prepareClassName) {
          $$jqLite.removeClass(element, prepareClassName);
          prepareClassName = null;
        }
      }

      function updateAnimationRunners(animation, newRunner) {
        if (animation.from && animation.to) {
          update(animation.from.element);
          update(animation.to.element);
        } else {
          update(animation.element);
        }

        function update(element) {
          getRunner(element).setHost(newRunner);
        }
      }

      function handleDestroyedElement() {
        var runner = getRunner(element);
        if (runner && (event !== 'leave' || !options.$$domOperationFired)) {
          runner.end();
        }
      }

      function close(rejected) { // jshint ignore:line
        element.off('$destroy', handleDestroyedElement);
        removeRunner(element);

        applyAnimationClasses(element, options);
        applyAnimationStyles(element, options);
        options.domOperation();

        if (tempClasses) {
          $$jqLite.removeClass(element, tempClasses);
        }

        element.removeClass(NG_ANIMATE_CLASSNAME);
        runner.complete(!rejected);
      }
    };
  }];
}];

/**
 * @ngdoc directive
 * @name ngAnimateSwap
 * @restrict A
 * @scope
 *
 * @description
 *
 * ngAnimateSwap is a animation-oriented directive that allows for the container to
 * be removed and entered in whenever the associated expression changes. A
 * common usecase for this directive is a rotating banner component which
 * contains one image being present at a time. When the active image changes
 * then the old image will perform a `leave` animation and the new element
 * will be inserted via an `enter` animation.
 *
 * @example
 * <example name="ngAnimateSwap-directive" module="ngAnimateSwapExample"
 *          deps="angular-animate.js"
 *          animations="true" fixBase="true">
 *   <file name="index.html">
 *     <div class="container" ng-controller="AppCtrl">
 *       <div ng-animate-swap="number" class="cell swap-animation" ng-class="colorClass(number)">
 *         {{ number }}
 *       </div>
 *     </div>
 *   </file>
 *   <file name="script.js">
 *     angular.module('ngAnimateSwapExample', ['ngAnimate'])
 *       .controller('AppCtrl', ['$scope', '$interval', function($scope, $interval) {
 *         $scope.number = 0;
 *         $interval(function() {
 *           $scope.number++;
 *         }, 1000);
 *
 *         var colors = ['red','blue','green','yellow','orange'];
 *         $scope.colorClass = function(number) {
 *           return colors[number % colors.length];
 *         };
 *       }]);
 *   </file>
 *  <file name="animations.css">
 *  .container {
 *    height:250px;
 *    width:250px;
 *    position:relative;
 *    overflow:hidden;
 *    border:2px solid black;
 *  }
 *  .container .cell {
 *    font-size:150px;
 *    text-align:center;
 *    line-height:250px;
 *    position:absolute;
 *    top:0;
 *    left:0;
 *    right:0;
 *    border-bottom:2px solid black;
 *  }
 *  .swap-animation.ng-enter, .swap-animation.ng-leave {
 *    transition:0.5s linear all;
 *  }
 *  .swap-animation.ng-enter {
 *    top:-250px;
 *  }
 *  .swap-animation.ng-enter-active {
 *    top:0px;
 *  }
 *  .swap-animation.ng-leave {
 *    top:0px;
 *  }
 *  .swap-animation.ng-leave-active {
 *    top:250px;
 *  }
 *  .red { background:red; }
 *  .green { background:green; }
 *  .blue { background:blue; }
 *  .yellow { background:yellow; }
 *  .orange { background:orange; }
 *  </file>
 * </example>
 */
var ngAnimateSwapDirective = ['$animate', '$rootScope', function($animate, $rootScope) {
  return {
    restrict: 'A',
    transclude: 'element',
    terminal: true,
    priority: 600, // we use 600 here to ensure that the directive is caught before others
    link: function(scope, $element, attrs, ctrl, $transclude) {
      var previousElement, previousScope;
      scope.$watchCollection(attrs.ngAnimateSwap || attrs['for'], function(value) {
        if (previousElement) {
          $animate.leave(previousElement);
        }
        if (previousScope) {
          previousScope.$destroy();
          previousScope = null;
        }
        if (value || value === 0) {
          previousScope = scope.$new();
          $transclude(previousScope, function(element) {
            previousElement = element;
            $animate.enter(element, null, $element);
          });
        }
      });
    }
  };
}];

/* global angularAnimateModule: true,

   ngAnimateSwapDirective,
   $$AnimateAsyncRunFactory,
   $$rAFSchedulerFactory,
   $$AnimateChildrenDirective,
   $$AnimateQueueProvider,
   $$AnimationProvider,
   $AnimateCssProvider,
   $$AnimateCssDriverProvider,
   $$AnimateJsProvider,
   $$AnimateJsDriverProvider,
*/

/**
 * @ngdoc module
 * @name ngAnimate
 * @description
 *
 * The `ngAnimate` module provides support for CSS-based animations (keyframes and transitions) as well as JavaScript-based animations via
 * callback hooks. Animations are not enabled by default, however, by including `ngAnimate` the animation hooks are enabled for an Angular app.
 *
 * <div doc-module-components="ngAnimate"></div>
 *
 * # Usage
 * Simply put, there are two ways to make use of animations when ngAnimate is used: by using **CSS** and **JavaScript**. The former works purely based
 * using CSS (by using matching CSS selectors/styles) and the latter triggers animations that are registered via `module.animation()`. For
 * both CSS and JS animations the sole requirement is to have a matching `CSS class` that exists both in the registered animation and within
 * the HTML element that the animation will be triggered on.
 *
 * ## Directive Support
 * The following directives are "animation aware":
 *
 * | Directive                                                                                                | Supported Animations                                                     |
 * |----------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------|
 * | {@link ng.directive:ngRepeat#animations ngRepeat}                                                        | enter, leave and move                                                    |
 * | {@link ngRoute.directive:ngView#animations ngView}                                                       | enter and leave                                                          |
 * | {@link ng.directive:ngInclude#animations ngInclude}                                                      | enter and leave                                                          |
 * | {@link ng.directive:ngSwitch#animations ngSwitch}                                                        | enter and leave                                                          |
 * | {@link ng.directive:ngIf#animations ngIf}                                                                | enter and leave                                                          |
 * | {@link ng.directive:ngClass#animations ngClass}                                                          | add and remove (the CSS class(es) present)                               |
 * | {@link ng.directive:ngShow#animations ngShow} & {@link ng.directive:ngHide#animations ngHide}            | add and remove (the ng-hide class value)                                 |
 * | {@link ng.directive:form#animation-hooks form} & {@link ng.directive:ngModel#animation-hooks ngModel}    | add and remove (dirty, pristine, valid, invalid & all other validations) |
 * | {@link module:ngMessages#animations ngMessages}                                                          | add and remove (ng-active & ng-inactive)                                 |
 * | {@link module:ngMessages#animations ngMessage}                                                           | enter and leave                                                          |
 *
 * (More information can be found by visiting each the documentation associated with each directive.)
 *
 * ## CSS-based Animations
 *
 * CSS-based animations with ngAnimate are unique since they require no JavaScript code at all. By using a CSS class that we reference between our HTML
 * and CSS code we can create an animation that will be picked up by Angular when an the underlying directive performs an operation.
 *
 * The example below shows how an `enter` animation can be made possible on an element using `ng-if`:
 *
 * ```html
 * <div ng-if="bool" class="fade">
 *    Fade me in out
 * </div>
 * <button ng-click="bool=true">Fade In!</button>
 * <button ng-click="bool=false">Fade Out!</button>
 * ```
 *
 * Notice the CSS class **fade**? We can now create the CSS transition code that references this class:
 *
 * ```css
 * /&#42; The starting CSS styles for the enter animation &#42;/
 * .fade.ng-enter {
 *   transition:0.5s linear all;
 *   opacity:0;
 * }
 *
 * /&#42; The finishing CSS styles for the enter animation &#42;/
 * .fade.ng-enter.ng-enter-active {
 *   opacity:1;
 * }
 * ```
 *
 * The key thing to remember here is that, depending on the animation event (which each of the directives above trigger depending on what's going on) two
 * generated CSS classes will be applied to the element; in the example above we have `.ng-enter` and `.ng-enter-active`. For CSS transitions, the transition
 * code **must** be defined within the starting CSS class (in this case `.ng-enter`). The destination class is what the transition will animate towards.
 *
 * If for example we wanted to create animations for `leave` and `move` (ngRepeat triggers move) then we can do so using the same CSS naming conventions:
 *
 * ```css
 * /&#42; now the element will fade out before it is removed from the DOM &#42;/
 * .fade.ng-leave {
 *   transition:0.5s linear all;
 *   opacity:1;
 * }
 * .fade.ng-leave.ng-leave-active {
 *   opacity:0;
 * }
 * ```
 *
 * We can also make use of **CSS Keyframes** by referencing the keyframe animation within the starting CSS class:
 *
 * ```css
 * /&#42; there is no need to define anything inside of the destination
 * CSS class since the keyframe will take charge of the animation &#42;/
 * .fade.ng-leave {
 *   animation: my_fade_animation 0.5s linear;
 *   -webkit-animation: my_fade_animation 0.5s linear;
 * }
 *
 * @keyframes my_fade_animation {
 *   from { opacity:1; }
 *   to { opacity:0; }
 * }
 *
 * @-webkit-keyframes my_fade_animation {
 *   from { opacity:1; }
 *   to { opacity:0; }
 * }
 * ```
 *
 * Feel free also mix transitions and keyframes together as well as any other CSS classes on the same element.
 *
 * ### CSS Class-based Animations
 *
 * Class-based animations (animations that are triggered via `ngClass`, `ngShow`, `ngHide` and some other directives) have a slightly different
 * naming convention. Class-based animations are basic enough that a standard transition or keyframe can be referenced on the class being added
 * and removed.
 *
 * For example if we wanted to do a CSS animation for `ngHide` then we place an animation on the `.ng-hide` CSS class:
 *
 * ```html
 * <div ng-show="bool" class="fade">
 *   Show and hide me
 * </div>
 * <button ng-click="bool=true">Toggle</button>
 *
 * <style>
 * .fade.ng-hide {
 *   transition:0.5s linear all;
 *   opacity:0;
 * }
 * </style>
 * ```
 *
 * All that is going on here with ngShow/ngHide behind the scenes is the `.ng-hide` class is added/removed (when the hidden state is valid). Since
 * ngShow and ngHide are animation aware then we can match up a transition and ngAnimate handles the rest.
 *
 * In addition the addition and removal of the CSS class, ngAnimate also provides two helper methods that we can use to further decorate the animation
 * with CSS styles.
 *
 * ```html
 * <div ng-class="{on:onOff}" class="highlight">
 *   Highlight this box
 * </div>
 * <button ng-click="onOff=!onOff">Toggle</button>
 *
 * <style>
 * .highlight {
 *   transition:0.5s linear all;
 * }
 * .highlight.on-add {
 *   background:white;
 * }
 * .highlight.on {
 *   background:yellow;
 * }
 * .highlight.on-remove {
 *   background:black;
 * }
 * </style>
 * ```
 *
 * We can also make use of CSS keyframes by placing them within the CSS classes.
 *
 *
 * ### CSS Staggering Animations
 * A Staggering animation is a collection of animations that are issued with a slight delay in between each successive operation resulting in a
 * curtain-like effect. The ngAnimate module (versions >=1.2) supports staggering animations and the stagger effect can be
 * performed by creating a **ng-EVENT-stagger** CSS class and attaching that class to the base CSS class used for
 * the animation. The style property expected within the stagger class can either be a **transition-delay** or an
 * **animation-delay** property (or both if your animation contains both transitions and keyframe animations).
 *
 * ```css
 * .my-animation.ng-enter {
 *   /&#42; standard transition code &#42;/
 *   transition: 1s linear all;
 *   opacity:0;
 * }
 * .my-animation.ng-enter-stagger {
 *   /&#42; this will have a 100ms delay between each successive leave animation &#42;/
 *   transition-delay: 0.1s;
 *
 *   /&#42; As of 1.4.4, this must always be set: it signals ngAnimate
 *     to not accidentally inherit a delay property from another CSS class &#42;/
 *   transition-duration: 0s;
 * }
 * .my-animation.ng-enter.ng-enter-active {
 *   /&#42; standard transition styles &#42;/
 *   opacity:1;
 * }
 * ```
 *
 * Staggering animations work by default in ngRepeat (so long as the CSS class is defined). Outside of ngRepeat, to use staggering animations
 * on your own, they can be triggered by firing multiple calls to the same event on $animate. However, the restrictions surrounding this
 * are that each of the elements must have the same CSS className value as well as the same parent element. A stagger operation
 * will also be reset if one or more animation frames have passed since the multiple calls to `$animate` were fired.
 *
 * The following code will issue the **ng-leave-stagger** event on the element provided:
 *
 * ```js
 * var kids = parent.children();
 *
 * $animate.leave(kids[0]); //stagger index=0
 * $animate.leave(kids[1]); //stagger index=1
 * $animate.leave(kids[2]); //stagger index=2
 * $animate.leave(kids[3]); //stagger index=3
 * $animate.leave(kids[4]); //stagger index=4
 *
 * window.requestAnimationFrame(function() {
 *   //stagger has reset itself
 *   $animate.leave(kids[5]); //stagger index=0
 *   $animate.leave(kids[6]); //stagger index=1
 *
 *   $scope.$digest();
 * });
 * ```
 *
 * Stagger animations are currently only supported within CSS-defined animations.
 *
 * ### The `ng-animate` CSS class
 *
 * When ngAnimate is animating an element it will apply the `ng-animate` CSS class to the element for the duration of the animation.
 * This is a temporary CSS class and it will be removed once the animation is over (for both JavaScript and CSS-based animations).
 *
 * Therefore, animations can be applied to an element using this temporary class directly via CSS.
 *
 * ```css
 * .zipper.ng-animate {
 *   transition:0.5s linear all;
 * }
 * .zipper.ng-enter {
 *   opacity:0;
 * }
 * .zipper.ng-enter.ng-enter-active {
 *   opacity:1;
 * }
 * .zipper.ng-leave {
 *   opacity:1;
 * }
 * .zipper.ng-leave.ng-leave-active {
 *   opacity:0;
 * }
 * ```
 *
 * (Note that the `ng-animate` CSS class is reserved and it cannot be applied on an element directly since ngAnimate will always remove
 * the CSS class once an animation has completed.)
 *
 *
 * ### The `ng-[event]-prepare` class
 *
 * This is a special class that can be used to prevent unwanted flickering / flash of content before
 * the actual animation starts. The class is added as soon as an animation is initialized, but removed
 * before the actual animation starts (after waiting for a $digest).
 * It is also only added for *structural* animations (`enter`, `move`, and `leave`).
 *
 * In practice, flickering can appear when nesting elements with structural animations such as `ngIf`
 * into elements that have class-based animations such as `ngClass`.
 *
 * ```html
 * <div ng-class="{red: myProp}">
 *   <div ng-class="{blue: myProp}">
 *     <div class="message" ng-if="myProp"></div>
 *   </div>
 * </div>
 * ```
 *
 * It is possible that during the `enter` animation, the `.message` div will be briefly visible before it starts animating.
 * In that case, you can add styles to the CSS that make sure the element stays hidden before the animation starts:
 *
 * ```css
 * .message.ng-enter-prepare {
 *   opacity: 0;
 * }
 *
 * ```
 *
 * ## JavaScript-based Animations
 *
 * ngAnimate also allows for animations to be consumed by JavaScript code. The approach is similar to CSS-based animations (where there is a shared
 * CSS class that is referenced in our HTML code) but in addition we need to register the JavaScript animation on the module. By making use of the
 * `module.animation()` module function we can register the animation.
 *
 * Let's see an example of a enter/leave animation using `ngRepeat`:
 *
 * ```html
 * <div ng-repeat="item in items" class="slide">
 *   {{ item }}
 * </div>
 * ```
 *
 * See the **slide** CSS class? Let's use that class to define an animation that we'll structure in our module code by using `module.animation`:
 *
 * ```js
 * myModule.animation('.slide', [function() {
 *   return {
 *     // make note that other events (like addClass/removeClass)
 *     // have different function input parameters
 *     enter: function(element, doneFn) {
 *       jQuery(element).fadeIn(1000, doneFn);
 *
 *       // remember to call doneFn so that angular
 *       // knows that the animation has concluded
 *     },
 *
 *     move: function(element, doneFn) {
 *       jQuery(element).fadeIn(1000, doneFn);
 *     },
 *
 *     leave: function(element, doneFn) {
 *       jQuery(element).fadeOut(1000, doneFn);
 *     }
 *   }
 * }]);
 * ```
 *
 * The nice thing about JS-based animations is that we can inject other services and make use of advanced animation libraries such as
 * greensock.js and velocity.js.
 *
 * If our animation code class-based (meaning that something like `ngClass`, `ngHide` and `ngShow` triggers it) then we can still define
 * our animations inside of the same registered animation, however, the function input arguments are a bit different:
 *
 * ```html
 * <div ng-class="color" class="colorful">
 *   this box is moody
 * </div>
 * <button ng-click="color='red'">Change to red</button>
 * <button ng-click="color='blue'">Change to blue</button>
 * <button ng-click="color='green'">Change to green</button>
 * ```
 *
 * ```js
 * myModule.animation('.colorful', [function() {
 *   return {
 *     addClass: function(element, className, doneFn) {
 *       // do some cool animation and call the doneFn
 *     },
 *     removeClass: function(element, className, doneFn) {
 *       // do some cool animation and call the doneFn
 *     },
 *     setClass: function(element, addedClass, removedClass, doneFn) {
 *       // do some cool animation and call the doneFn
 *     }
 *   }
 * }]);
 * ```
 *
 * ## CSS + JS Animations Together
 *
 * AngularJS 1.4 and higher has taken steps to make the amalgamation of CSS and JS animations more flexible. However, unlike earlier versions of Angular,
 * defining CSS and JS animations to work off of the same CSS class will not work anymore. Therefore the example below will only result in **JS animations taking
 * charge of the animation**:
 *
 * ```html
 * <div ng-if="bool" class="slide">
 *   Slide in and out
 * </div>
 * ```
 *
 * ```js
 * myModule.animation('.slide', [function() {
 *   return {
 *     enter: function(element, doneFn) {
 *       jQuery(element).slideIn(1000, doneFn);
 *     }
 *   }
 * }]);
 * ```
 *
 * ```css
 * .slide.ng-enter {
 *   transition:0.5s linear all;
 *   transform:translateY(-100px);
 * }
 * .slide.ng-enter.ng-enter-active {
 *   transform:translateY(0);
 * }
 * ```
 *
 * Does this mean that CSS and JS animations cannot be used together? Do JS-based animations always have higher priority? We can make up for the
 * lack of CSS animations by using the `$animateCss` service to trigger our own tweaked-out, CSS-based animations directly from
 * our own JS-based animation code:
 *
 * ```js
 * myModule.animation('.slide', ['$animateCss', function($animateCss) {
 *   return {
 *     enter: function(element) {
*        // this will trigger `.slide.ng-enter` and `.slide.ng-enter-active`.
 *       return $animateCss(element, {
 *         event: 'enter',
 *         structural: true
 *       });
 *     }
 *   }
 * }]);
 * ```
 *
 * The nice thing here is that we can save bandwidth by sticking to our CSS-based animation code and we don't need to rely on a 3rd-party animation framework.
 *
 * The `$animateCss` service is very powerful since we can feed in all kinds of extra properties that will be evaluated and fed into a CSS transition or
 * keyframe animation. For example if we wanted to animate the height of an element while adding and removing classes then we can do so by providing that
 * data into `$animateCss` directly:
 *
 * ```js
 * myModule.animation('.slide', ['$animateCss', function($animateCss) {
 *   return {
 *     enter: function(element) {
 *       return $animateCss(element, {
 *         event: 'enter',
 *         structural: true,
 *         addClass: 'maroon-setting',
 *         from: { height:0 },
 *         to: { height: 200 }
 *       });
 *     }
 *   }
 * }]);
 * ```
 *
 * Now we can fill in the rest via our transition CSS code:
 *
 * ```css
 * /&#42; the transition tells ngAnimate to make the animation happen &#42;/
 * .slide.ng-enter { transition:0.5s linear all; }
 *
 * /&#42; this extra CSS class will be absorbed into the transition
 * since the $animateCss code is adding the class &#42;/
 * .maroon-setting { background:red; }
 * ```
 *
 * And `$animateCss` will figure out the rest. Just make sure to have the `done()` callback fire the `doneFn` function to signal when the animation is over.
 *
 * To learn more about what's possible be sure to visit the {@link ngAnimate.$animateCss $animateCss service}.
 *
 * ## Animation Anchoring (via `ng-animate-ref`)
 *
 * ngAnimate in AngularJS 1.4 comes packed with the ability to cross-animate elements between
 * structural areas of an application (like views) by pairing up elements using an attribute
 * called `ng-animate-ref`.
 *
 * Let's say for example we have two views that are managed by `ng-view` and we want to show
 * that there is a relationship between two components situated in within these views. By using the
 * `ng-animate-ref` attribute we can identify that the two components are paired together and we
 * can then attach an animation, which is triggered when the view changes.
 *
 * Say for example we have the following template code:
 *
 * ```html
 * <!-- index.html -->
 * <div ng-view class="view-animation">
 * </div>
 *
 * <!-- home.html -->
 * <a href="#/banner-page">
 *   <img src="./banner.jpg" class="banner" ng-animate-ref="banner">
 * </a>
 *
 * <!-- banner-page.html -->
 * <img src="./banner.jpg" class="banner" ng-animate-ref="banner">
 * ```
 *
 * Now, when the view changes (once the link is clicked), ngAnimate will examine the
 * HTML contents to see if there is a match reference between any components in the view
 * that is leaving and the view that is entering. It will scan both the view which is being
 * removed (leave) and inserted (enter) to see if there are any paired DOM elements that
 * contain a matching ref value.
 *
 * The two images match since they share the same ref value. ngAnimate will now create a
 * transport element (which is a clone of the first image element) and it will then attempt
 * to animate to the position of the second image element in the next view. For the animation to
 * work a special CSS class called `ng-anchor` will be added to the transported element.
 *
 * We can now attach a transition onto the `.banner.ng-anchor` CSS class and then
 * ngAnimate will handle the entire transition for us as well as the addition and removal of
 * any changes of CSS classes between the elements:
 *
 * ```css
 * .banner.ng-anchor {
 *   /&#42; this animation will last for 1 second since there are
 *          two phases to the animation (an `in` and an `out` phase) &#42;/
 *   transition:0.5s linear all;
 * }
 * ```
 *
 * We also **must** include animations for the views that are being entered and removed
 * (otherwise anchoring wouldn't be possible since the new view would be inserted right away).
 *
 * ```css
 * .view-animation.ng-enter, .view-animation.ng-leave {
 *   transition:0.5s linear all;
 *   position:fixed;
 *   left:0;
 *   top:0;
 *   width:100%;
 * }
 * .view-animation.ng-enter {
 *   transform:translateX(100%);
 * }
 * .view-animation.ng-leave,
 * .view-animation.ng-enter.ng-enter-active {
 *   transform:translateX(0%);
 * }
 * .view-animation.ng-leave.ng-leave-active {
 *   transform:translateX(-100%);
 * }
 * ```
 *
 * Now we can jump back to the anchor animation. When the animation happens, there are two stages that occur:
 * an `out` and an `in` stage. The `out` stage happens first and that is when the element is animated away
 * from its origin. Once that animation is over then the `in` stage occurs which animates the
 * element to its destination. The reason why there are two animations is to give enough time
 * for the enter animation on the new element to be ready.
 *
 * The example above sets up a transition for both the in and out phases, but we can also target the out or
 * in phases directly via `ng-anchor-out` and `ng-anchor-in`.
 *
 * ```css
 * .banner.ng-anchor-out {
 *   transition: 0.5s linear all;
 *
 *   /&#42; the scale will be applied during the out animation,
 *          but will be animated away when the in animation runs &#42;/
 *   transform: scale(1.2);
 * }
 *
 * .banner.ng-anchor-in {
 *   transition: 1s linear all;
 * }
 * ```
 *
 *
 *
 *
 * ### Anchoring Demo
 *
  <example module="anchoringExample"
           name="anchoringExample"
           id="anchoringExample"
           deps="angular-animate.js;angular-route.js"
           animations="true">
    <file name="index.html">
      <a href="#/">Home</a>
      <hr />
      <div class="view-container">
        <div ng-view class="view"></div>
      </div>
    </file>
    <file name="script.js">
      angular.module('anchoringExample', ['ngAnimate', 'ngRoute'])
        .config(['$routeProvider', function($routeProvider) {
          $routeProvider.when('/', {
            templateUrl: 'home.html',
            controller: 'HomeController as home'
          });
          $routeProvider.when('/profile/:id', {
            templateUrl: 'profile.html',
            controller: 'ProfileController as profile'
          });
        }])
        .run(['$rootScope', function($rootScope) {
          $rootScope.records = [
            { id:1, title: "Miss Beulah Roob" },
            { id:2, title: "Trent Morissette" },
            { id:3, title: "Miss Ava Pouros" },
            { id:4, title: "Rod Pouros" },
            { id:5, title: "Abdul Rice" },
            { id:6, title: "Laurie Rutherford Sr." },
            { id:7, title: "Nakia McLaughlin" },
            { id:8, title: "Jordon Blanda DVM" },
            { id:9, title: "Rhoda Hand" },
            { id:10, title: "Alexandrea Sauer" }
          ];
        }])
        .controller('HomeController', [function() {
          //empty
        }])
        .controller('ProfileController', ['$rootScope', '$routeParams', function($rootScope, $routeParams) {
          var index = parseInt($routeParams.id, 10);
          var record = $rootScope.records[index - 1];

          this.title = record.title;
          this.id = record.id;
        }]);
    </file>
    <file name="home.html">
      <h2>Welcome to the home page</h1>
      <p>Please click on an element</p>
      <a class="record"
         ng-href="#/profile/{{ record.id }}"
         ng-animate-ref="{{ record.id }}"
         ng-repeat="record in records">
        {{ record.title }}
      </a>
    </file>
    <file name="profile.html">
      <div class="profile record" ng-animate-ref="{{ profile.id }}">
        {{ profile.title }}
      </div>
    </file>
    <file name="animations.css">
      .record {
        display:block;
        font-size:20px;
      }
      .profile {
        background:black;
        color:white;
        font-size:100px;
      }
      .view-container {
        position:relative;
      }
      .view-container > .view.ng-animate {
        position:absolute;
        top:0;
        left:0;
        width:100%;
        min-height:500px;
      }
      .view.ng-enter, .view.ng-leave,
      .record.ng-anchor {
        transition:0.5s linear all;
      }
      .view.ng-enter {
        transform:translateX(100%);
      }
      .view.ng-enter.ng-enter-active, .view.ng-leave {
        transform:translateX(0%);
      }
      .view.ng-leave.ng-leave-active {
        transform:translateX(-100%);
      }
      .record.ng-anchor-out {
        background:red;
      }
    </file>
  </example>
 *
 * ### How is the element transported?
 *
 * When an anchor animation occurs, ngAnimate will clone the starting element and position it exactly where the starting
 * element is located on screen via absolute positioning. The cloned element will be placed inside of the root element
 * of the application (where ng-app was defined) and all of the CSS classes of the starting element will be applied. The
 * element will then animate into the `out` and `in` animations and will eventually reach the coordinates and match
 * the dimensions of the destination element. During the entire animation a CSS class of `.ng-animate-shim` will be applied
 * to both the starting and destination elements in order to hide them from being visible (the CSS styling for the class
 * is: `visibility:hidden`). Once the anchor reaches its destination then it will be removed and the destination element
 * will become visible since the shim class will be removed.
 *
 * ### How is the morphing handled?
 *
 * CSS Anchoring relies on transitions and keyframes and the internal code is intelligent enough to figure out
 * what CSS classes differ between the starting element and the destination element. These different CSS classes
 * will be added/removed on the anchor element and a transition will be applied (the transition that is provided
 * in the anchor class). Long story short, ngAnimate will figure out what classes to add and remove which will
 * make the transition of the element as smooth and automatic as possible. Be sure to use simple CSS classes that
 * do not rely on DOM nesting structure so that the anchor element appears the same as the starting element (since
 * the cloned element is placed inside of root element which is likely close to the body element).
 *
 * Note that if the root element is on the `<html>` element then the cloned node will be placed inside of body.
 *
 *
 * ## Using $animate in your directive code
 *
 * So far we've explored how to feed in animations into an Angular application, but how do we trigger animations within our own directives in our application?
 * By injecting the `$animate` service into our directive code, we can trigger structural and class-based hooks which can then be consumed by animations. Let's
 * imagine we have a greeting box that shows and hides itself when the data changes
 *
 * ```html
 * <greeting-box active="onOrOff">Hi there</greeting-box>
 * ```
 *
 * ```js
 * ngModule.directive('greetingBox', ['$animate', function($animate) {
 *   return function(scope, element, attrs) {
 *     attrs.$observe('active', function(value) {
 *       value ? $animate.addClass(element, 'on') : $animate.removeClass(element, 'on');
 *     });
 *   });
 * }]);
 * ```
 *
 * Now the `on` CSS class is added and removed on the greeting box component. Now if we add a CSS class on top of the greeting box element
 * in our HTML code then we can trigger a CSS or JS animation to happen.
 *
 * ```css
 * /&#42; normally we would create a CSS class to reference on the element &#42;/
 * greeting-box.on { transition:0.5s linear all; background:green; color:white; }
 * ```
 *
 * The `$animate` service contains a variety of other methods like `enter`, `leave`, `animate` and `setClass`. To learn more about what's
 * possible be sure to visit the {@link ng.$animate $animate service API page}.
 *
 *
 * ### Preventing Collisions With Third Party Libraries
 *
 * Some third-party frameworks place animation duration defaults across many element or className
 * selectors in order to make their code small and reuseable. This can lead to issues with ngAnimate, which
 * is expecting actual animations on these elements and has to wait for their completion.
 *
 * You can prevent this unwanted behavior by using a prefix on all your animation classes:
 *
 * ```css
 * /&#42; prefixed with animate- &#42;/
 * .animate-fade-add.animate-fade-add-active {
 *   transition:1s linear all;
 *   opacity:0;
 * }
 * ```
 *
 * You then configure `$animate` to enforce this prefix:
 *
 * ```js
 * $animateProvider.classNameFilter(/animate-/);
 * ```
 *
 * This also may provide your application with a speed boost since only specific elements containing CSS class prefix
 * will be evaluated for animation when any DOM changes occur in the application.
 *
 * ## Callbacks and Promises
 *
 * When `$animate` is called it returns a promise that can be used to capture when the animation has ended. Therefore if we were to trigger
 * an animation (within our directive code) then we can continue performing directive and scope related activities after the animation has
 * ended by chaining onto the returned promise that animation method returns.
 *
 * ```js
 * // somewhere within the depths of the directive
 * $animate.enter(element, parent).then(function() {
 *   //the animation has completed
 * });
 * ```
 *
 * (Note that earlier versions of Angular prior to v1.4 required the promise code to be wrapped using `$scope.$apply(...)`. This is not the case
 * anymore.)
 *
 * In addition to the animation promise, we can also make use of animation-related callbacks within our directives and controller code by registering
 * an event listener using the `$animate` service. Let's say for example that an animation was triggered on our view
 * routing controller to hook into that:
 *
 * ```js
 * ngModule.controller('HomePageController', ['$animate', function($animate) {
 *   $animate.on('enter', ngViewElement, function(element) {
 *     // the animation for this route has completed
 *   }]);
 * }])
 * ```
 *
 * (Note that you will need to trigger a digest within the callback to get angular to notice any scope-related changes.)
 */

/**
 * @ngdoc service
 * @name $animate
 * @kind object
 *
 * @description
 * The ngAnimate `$animate` service documentation is the same for the core `$animate` service.
 *
 * Click here {@link ng.$animate to learn more about animations with `$animate`}.
 */
angular.module('ngAnimate', [])
  .directive('ngAnimateSwap', ngAnimateSwapDirective)

  .directive('ngAnimateChildren', $$AnimateChildrenDirective)
  .factory('$$rAFScheduler', $$rAFSchedulerFactory)

  .provider('$$animateQueue', $$AnimateQueueProvider)
  .provider('$$animation', $$AnimationProvider)

  .provider('$animateCss', $AnimateCssProvider)
  .provider('$$animateCssDriver', $$AnimateCssDriverProvider)

  .provider('$$animateJs', $$AnimateJsProvider)
  .provider('$$animateJsDriver', $$AnimateJsDriverProvider);


})(window, window.angular);

/**
 * State-based routing for AngularJS
 * @version v0.2.15
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return N(new(N(function(){},{prototype:a})),b)}function e(a){return M(arguments,function(b){b!==a&&M(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return M(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return N({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return M(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return M(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=L(a),d=c?[]:{};return M(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=L(a)?[]:{};return M(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=N(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,J(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);M(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return K(a)&&a.then&&a.$$promises}if(!K(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return M(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!H(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;M(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!K(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var n=a.defer(),r=n.promise,s=r.$$promises={},t=N({},d),u=1+q.length/3,v=!1;if(H(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,m(f.$$inheritedValues,p)),N(s,f.$$promises),f.$$values?(v=e(t,m(f.$$values,p)),r.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return H(a.template)?this.fromString(a.template,b):H(a.templateUrl)?this.fromUrl(a.templateUrl,b):H(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return I(a)?a(b):a},this.fromUrl=function(c,d){return I(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new P.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:e=["?(",")?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),j=P.type(h||"string")||d(P.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)}),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=N({params:{}},K(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new P.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){N(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return I(a)||L(a)&&I(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){N(this,a||{})}P=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!H(a)||"string"==typeof a},pattern:/[^/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return H(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return H(a)&&(m=a),m},this.strictMode=function(a){return H(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!H(a))return q;if(a!==!0&&a!==!1&&!J(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,N(f(),b))},this.isMatcher=function(a){if(!K(a))return!1;var b=!0;return M(r.prototype,function(c,d){I(c)&&(b=b&&H(a[d])&&I(a[d]))}),b},this.type=function(a,b,c){if(!H(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(N({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},M(x,function(a,b){u[b]=new s(N({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),M(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=K(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function j(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof s?b.type:new s(b.type):"config"===d?u.any:u.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return N(b,c,d).array}function m(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!H(c)||null==c)return q;if(c===!0||J(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=L(a.replace)?a.replace:[],J(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}function r(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(d.$$fn);if(null!==a&&a!==c&&!w.type.is(a))throw new Error("Default value ("+a+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return a}function t(a){function b(a){return function(b){return b.from===a}}function c(a){var c=o(n(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),H(a)?w.type.$normalize(a):r()}function v(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=j(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=m(d,y),A=p(d,x,y,z);N(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:t,dynamic:c,config:d,toString:v})},k.prototype={$$new:function(){return d(this,N(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),M(b,function(b){M(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return M(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return M(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return H(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(J(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){o&&d.url()===o;o=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!I(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(J(a)){var b=a;a=function(){return b}}else if(!I(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=J(b);if(J(a)&&(a=d.compile(a)),!h&&!I(b)&&!L(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),N(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:J(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),N(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=J(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=z[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!J(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):J(b.parent)?b.parent:K(b.parent)&&J(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)I(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function t(a,b){return J(a)&&!H(b)?C[a]:I(b)&&J(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return K(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return M(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(I(d.controllerProvider)||L(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,N({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=N({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!H(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!H(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,I=[];if(f.reload){if(J(f.reload)||K(f.reload)){if(K(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var L=f.reload===!0?o[0]:m(f.reload);if(f.reload&&!L)throw new Error("No such reload state '"+(J(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==L;)G=I[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=I[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,O(y.params,n),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),p.update(),C;for(var M=e.when(G),P=D;P<z.length;P++,F=z[P])G=I[P]=d(G),M=v(F,c,F===b,M,G,f);var Q=y.transition=M.then(function(){var d,e,g;if(y.transition!==Q)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=I[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return r&&(c["#"]=r),y.transition!==Q?A:(y.$current=b,y.current=b.self,y.params=c,O(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==Q?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return Q},y.is=function(a,b,d){d=N({relative:y.$current},d||{});var e=m(a,d.relative);return H(e)?y.$current!==e?!1:b?j(e.params.$$values(b),n):!0:c},y.includes=function(a,b,d){if(d=N({relative:y.$current},d||{}),J(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return H(e)?H(y.$current.includes[e.name])?b?j(e.params.$$values(b),n,g(b)):!0:!1:c},y.href=function(a,b,d){d=N({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!H(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){function g(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e)),g=new P.ParamSet(f);return g.$$equals(b,c)}return!f.reload&&a===c&&(e===c.locals||a.self.reloadOnSearch===!1&&g(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(H(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=N({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(J(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new P.ParamSet;return M(a.params||{},function(a,c){b[c]||(b[c]=new P.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?N(a.parent.params.$$new(),a.ownParams):new P.ParamSet},views:function(a){var b={};return M(H(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?N({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=N(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=A(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a,c){var d=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=B(g.uiSref,a.current.name),j=null,k=C(f)||a.$current,l="[object SVGAnimatedString]"===Object.prototype.toString.call(f.prop("href"))?"xlink:href":"href",m=null,n="A"===f.prop("tagName").toUpperCase(),o="FORM"===f[0].nodeName,p=o?"action":l,q=!0,r={relative:k,inherit:!0},s=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in s&&(r[a]=s[a])});var t=function(c){if(c&&(j=b.copy(c)),q){m=a.href(i.state,j,r);var d=h[1]||h[0];return d&&d.$$addStateInfo(i.state,j),null===m?(q=!1,!1):void g.$set(p,m)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a,b){a!==j&&t(a)},!0),j=b.copy(e.$eval(i.paramExpr))),t(),o||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,r)});b.preventDefault();var g=n&&!m?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function E(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(i):d.removeClass(i)}function g(){for(var a=0;a<j.length;a++)if(h(j[a].state,j[a].params))return!0;return!1}function h(b,c){return"undefined"!=typeof e.uiSrefActiveEq?a.is(b.name,c):a.includes(b.name,c)}var i,j=[];i=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$addStateInfo=function(b,c){var e=a.get(b,C(d));j.push({state:e||{name:b},params:c}),f()},b.$on("$stateChangeSuccess",f)}]}}function F(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function G(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var H=b.isDefined,I=b.isFunction,J=b.isString,K=b.isObject,L=b.isArray,M=b.forEach,N=b.extend,O=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var P;r.prototype.concat=function(a,b){var c={caseInsensitive:P.caseInsensitive(),strict:P.strictMode(),squash:P.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,N(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=o(d,b);return o(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},r.prototype.parameters=function(a){return H(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=p?m.squash:!1,r=m.type.encode(n);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=L(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else J(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;L(r)||(r=[r]),r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return L(a)?a:H(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=o(c,a);return b===!0?0===n(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x),y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),D.$inject=["$state","$timeout"],E.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",D).directive("uiSrefActive",E).directive("uiSrefActiveEq",E),F.$inject=["$state"],G.$inject=["$state"],b.module("ui.router.state").filter("isState",F).filter("includedByState",G)}(window,window.angular);
/*
 AngularJS v1.4.1
 (c) 2010-2015 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(I,d,B){'use strict';function D(f,q){q=q||{};d.forEach(q,function(d,h){delete q[h]});for(var h in f)!f.hasOwnProperty(h)||"$"===h.charAt(0)&&"$"===h.charAt(1)||(q[h]=f[h]);return q}var x=d.$$minErr("$resource"),C=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;d.module("ngResource",["ng"]).provider("$resource",function(){var f=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};
this.$get=["$http","$q",function(q,h){function u(d,g){this.template=d;this.defaults=s({},f.defaults,g);this.urlParams={}}function w(y,g,l,m){function c(b,k){var c={};k=s({},g,k);r(k,function(a,k){v(a)&&(a=a());var d;if(a&&a.charAt&&"@"==a.charAt(0)){d=b;var e=a.substr(1);if(null==e||""===e||"hasOwnProperty"===e||!C.test("."+e))throw x("badmember",e);for(var e=e.split("."),n=0,g=e.length;n<g&&d!==B;n++){var h=e[n];d=null!==d?d[h]:B}}else d=a;c[k]=d});return c}function F(b){return b.resource}function e(b){D(b||
{},this)}var G=new u(y,m);l=s({},f.defaults.actions,l);e.prototype.toJSON=function(){var b=s({},this);delete b.$promise;delete b.$resolved;return b};r(l,function(b,k){var g=/^(POST|PUT|PATCH)$/i.test(b.method);e[k]=function(a,z,m,y){var n={},f,l,A;switch(arguments.length){case 4:A=y,l=m;case 3:case 2:if(v(z)){if(v(a)){l=a;A=z;break}l=z;A=m}else{n=a;f=z;l=m;break}case 1:v(a)?l=a:g?f=a:n=a;break;case 0:break;default:throw x("badargs",arguments.length);}var u=this instanceof e,p=u?f:b.isArray?[]:new e(f),
t={},w=b.interceptor&&b.interceptor.response||F,C=b.interceptor&&b.interceptor.responseError||B;r(b,function(b,a){"params"!=a&&"isArray"!=a&&"interceptor"!=a&&(t[a]=H(b))});g&&(t.data=f);G.setUrlParams(t,s({},c(f,b.params||{}),n),b.url);n=q(t).then(function(a){var c=a.data,g=p.$promise;if(c){if(d.isArray(c)!==!!b.isArray)throw x("badcfg",k,b.isArray?"array":"object",d.isArray(c)?"array":"object",t.method,t.url);b.isArray?(p.length=0,r(c,function(a){"object"===typeof a?p.push(new e(a)):p.push(a)})):
(D(c,p),p.$promise=g)}p.$resolved=!0;a.resource=p;return a},function(a){p.$resolved=!0;(A||E)(a);return h.reject(a)});n=n.then(function(a){var b=w(a);(l||E)(b,a.headers);return b},C);return u?n:(p.$promise=n,p.$resolved=!1,p)};e.prototype["$"+k]=function(a,b,c){v(a)&&(c=b,b=a,a={});a=e[k].call(this,a,this,b,c);return a.$promise||a}});e.bind=function(b){return w(y,s({},g,b),l)};return e}var E=d.noop,r=d.forEach,s=d.extend,H=d.copy,v=d.isFunction;u.prototype={setUrlParams:function(f,g,l){var m=this,
c=l||m.template,h,e,q=m.urlParams={};r(c.split(/\W/),function(b){if("hasOwnProperty"===b)throw x("badname");!/^\d+$/.test(b)&&b&&(new RegExp("(^|[^\\\\]):"+b+"(\\W|$)")).test(c)&&(q[b]=!0)});c=c.replace(/\\:/g,":");g=g||{};r(m.urlParams,function(b,k){h=g.hasOwnProperty(k)?g[k]:m.defaults[k];d.isDefined(h)&&null!==h?(e=encodeURIComponent(h).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,
"+"),c=c.replace(new RegExp(":"+k+"(\\W|$)","g"),function(b,a){return e+a})):c=c.replace(new RegExp("(/?):"+k+"(\\W|$)","g"),function(b,a,c){return"/"==c.charAt(0)?c:a+c})});m.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/");c=c.replace(/\/\.(?=\w+($|\?))/,".");f.url=c.replace(/\/\\\./,"/.");r(g,function(b,c){m.urlParams[c]||(f.params=f.params||{},f.params[c]=b)})}};return w}]})})(window,window.angular);
//# sourceMappingURL=angular-resource.min.js.map

/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.13.0 - 2015-05-02
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(a){return{link:function(b,c,d){function e(){c.removeClass("collapse").addClass("collapsing"),a.addClass(c,"in",{to:{height:c[0].scrollHeight+"px"}}).then(f)}function f(){c.removeClass("collapsing"),c.css({height:"auto"})}function g(){c.css({height:c[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),a.removeClass(c,"in",{to:{height:"0"}}).then(h)}function h(){c.css({height:"0"}),c.removeClass("collapsing"),c.addClass("collapse")}b.$watch(d.collapse,function(a){a?g():e()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b,this.close=a.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(a,b,c){function d(a){if(angular.isUndefined(k[a].index))return k[a];{var b;k.length}for(b=0;b<k.length;++b)if(k[b].index==a)return k[b]}function e(){f();var c=+a.interval;!isNaN(c)&&c>0&&(h=b(g,c))}function f(){h&&(b.cancel(h),h=null)}function g(){var b=+a.interval;i&&!isNaN(b)&&b>0?a.next():a.pause()}var h,i,j=this,k=j.slides=a.slides=[],l=-1;j.currentSlide=null;var m=!1;j.select=a.select=function(b,d){function f(){m||(angular.extend(b,{direction:d,active:!0}),angular.extend(j.currentSlide||{},{direction:d,active:!1}),c.enabled()&&!a.noTransition&&b.$element&&(a.$currentTransition=!0,b.$element.one("$animate:close",function(){a.$currentTransition=null})),j.currentSlide=b,l=g,e())}var g=j.indexOfSlide(b);void 0===d&&(d=g>j.getCurrentIndex()?"next":"prev"),b&&b!==j.currentSlide&&f()},a.$on("$destroy",function(){m=!0}),j.getCurrentIndex=function(){return j.currentSlide&&angular.isDefined(j.currentSlide.index)?+j.currentSlide.index:l},j.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:k.indexOf(a)},a.next=function(){var b=(j.getCurrentIndex()+1)%k.length;return a.$currentTransition?void 0:j.select(d(b),"next")},a.prev=function(){var b=j.getCurrentIndex()-1<0?k.length-1:j.getCurrentIndex()-1;return a.$currentTransition?void 0:j.select(d(b),"prev")},a.isActive=function(a){return j.currentSlide===a},a.$watch("interval",e),a.$on("$destroy",f),a.play=function(){i||(i=!0,e())},a.pause=function(){a.noPause||(i=!1,f())},j.addSlide=function(b,c){b.$element=c,k.push(b),1===k.length||b.active?(j.select(k[k.length-1]),1==k.length&&a.play()):b.active=!1},j.removeSlide=function(a){angular.isDefined(a.index)&&k.sort(function(a,b){return+a.index>+b.index});var b=k.indexOf(a);k.splice(b,1),k.length>0&&a.active?j.select(b>=k.length?k[b-1]:k[b]):l>b&&l--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$animate",function(a){return{beforeAddClass:function(b,c,d){if("active"==c&&b.parent()&&!b.parent().scope().noTransition){var e=!1,f=b.isolateScope().direction,g="next"==f?"left":"right";return b.addClass(f),a.addClass(b,g).then(function(){e||b.removeClass(g+" "+f),d()}),function(){e=!0}}d()},beforeRemoveClass:function(b,c,d){if("active"==c&&b.parent()&&!b.parent().scope().noTransition){var e=!1,f=b.isolateScope().direction,g="next"==f?"left":"right";return a.addClass(b,g).then(function(){e||b.removeClass(g),d()}),function(){e=!0}}d()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(f,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}var e=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var f={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}}};this.parse=function(b,f,g){if(!angular.isString(b)||!f)return b;f=a.DATETIME_FORMATS[f]||f,f=f.replace(e,"\\$&"),this.parsers[f]||(this.parsers[f]=c(f));var h=this.parsers[f],i=h.regex,j=h.map,k=b.match(i);if(k&&k.length){var l,m;l=g?{year:g.getFullYear(),month:g.getMonth(),date:g.getDate(),hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),milliseconds:g.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var n=1,o=k.length;o>n;n++){var p=j[n-1];p.apply&&p.apply.call(l,k[n])}return d(l.year,l.month,l.date)&&(m=new Date(l.year,l.month,l.date,l.hours,l.minutes,l.seconds,l.milliseconds||0)),m}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.maxMode=i.maxMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=(11-e.startingDay)%7,p=b.rows.length,q=0;p>q;q++)b.weekNumbers.push(h(b.rows[q][o].date))}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if("left"===a)b-=1;else if("up"===a)b-=7;else if("right"===a)b+=1;else if("down"===a)b+=7;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else"home"===a?b=1:"end"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if("left"===a)b-=1;else if("up"===a)b-=3;else if("right"===a)b+=1;else if("down"===a)b+=3;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(c)}else"home"===a?b=0:"end"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();"left"===a?b-=1:"up"===a?b-=5:"right"===a?b+=1:"down"===a?b+=5:"pageup"===a||"pagedown"===a?b+=("pageup"===a?-1:1)*d.step.years:"home"===a?b=e(d.activeDate.getFullYear()):"end"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(angular.isNumber(a)&&(a=new Date(a)),a){if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=f.parse(a,o,h.date)||new Date(a);return isNaN(b)?void 0:b}return void 0}return null}function n(a,b){var c=a||b;if(angular.isNumber(c)&&(c=new Date(c)),c){if(angular.isDate(c)&&!isNaN(c))return!0;if(angular.isString(c)){var d=f.parse(c,o)||new Date(c);return!isNaN(d)}return!1}return!0}var o,p=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,q=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]};var r=!1;if(g.html5Types[j.type]?(o=g.html5Types[j.type],r=!0):(o=j.datepickerPopup||g.datepickerPopup,j.$observe("datepickerPopup",function(a){var b=a||g.datepickerPopup;if(b!==o&&(o=b,k.$modelValue=null,!o))throw new Error("datepickerPopup must have a date format specified.")})),!o)throw new Error("datepickerPopup must have a date format specified.");if(r&&j.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var s=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");s.attr({"ng-model":"date","ng-change":"dateSelection()"});var t=angular.element(s.children()[0]);if(r&&"month"==j.type&&(t.attr("datepicker-mode",'"month"'),t.attr("min-mode","month")),j.datepickerOptions){var u=h.$parent.$eval(j.datepickerOptions);u.initDate&&(h.initDate=u.initDate,t.attr("init-date","initDate"),delete u.initDate),angular.forEach(u,function(a,b){t.attr(l(b),a)})}h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),t.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&t.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),j.showWeeks&&t.attr("show-weeks",j.showWeeks),j.customClass&&t.attr("custom-class","customClass({ date: date, mode: mode })"),r?k.$formatters.push(function(a){return h.date=a,a}):(k.$$parserName="date",k.$validators.date=n,k.$parsers.unshift(m),k.$formatters.push(function(a){return h.date=a,k.$isEmpty(a)?a:e(a,o)})),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a);var b=h.date?e(h.date,o):"";i.val(b),k.$setViewValue(b),p&&(h.isOpen=!1,i[0].focus())},k.$viewChangeListeners.push(function(){h.date=f.parse(k.$viewValue,o,h.date)||new Date(k.$viewValue)});var v=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},w=function(a){h.keydown(a)};i.bind("keydown",w),h.keydown=function(a){27===a.which?(a.preventDefault(),h.isOpen&&a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=q?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",v)):c.unbind("click",v)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(h.date)?(a=new Date(h.date),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var x=a(s)(h);s.remove(),q?c.find("body").append(x):i.after(x),h.$on("$destroy",function(){x.remove(),i.unbind("keydown",w),c.unbind("click",v)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which&&(c.focusToggleElement(),d())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(a,b,c,d,e,f,g,h){var i,j=this,k=a.$new(),l=d.openClass,m=angular.noop,n=b.onToggle?c(b.onToggle):angular.noop,o=!1;this.init=function(d){j.$element=d,b.isOpen&&(i=c(b.isOpen),m=i.assign,a.$watch(i,function(a){k.isOpen=!!a})),o=angular.isDefined(b.dropdownAppendToBody),o&&j.dropdownMenu&&(h.find("body").append(j.dropdownMenu),d.on("$destroy",function(){j.dropdownMenu.remove()}))},this.toggle=function(a){return k.isOpen=arguments.length?!!a:!k.isOpen},this.isOpen=function(){return k.isOpen},k.getToggleElement=function(){return j.toggleElement},k.getAutoClose=function(){return b.autoClose||"always"},k.getElement=function(){return j.$element},k.focusToggleElement=function(){j.toggleElement&&j.toggleElement[0].focus()},k.$watch("isOpen",function(b,c){if(o&&j.dropdownMenu){var d=g.positionElements(j.$element,j.dropdownMenu,"bottom-left",!0);j.dropdownMenu.css({top:d.top+"px",left:d.left+"px",display:b?"block":"none"})}f[b?"addClass":"removeClass"](j.$element,l),b?(k.focusToggleElement(),e.open(k)):e.close(k),m(a,b),angular.isDefined(b)&&b!==c&&n(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){k.isOpen=!1}),a.$on("$destroy",function(){k.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(a,b,c,d){d&&(d.dropdownMenu=b)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){function b(b){b.animate=!1,a(function(){b.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,c){return a.addClass(c.backdropClass),b}}}]).directive("modalWindow",["$modalStack","$q",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},c.$isRendered=!0;var f=b.defer();e.$observe("modalRender",function(a){"true"==a&&f.resolve()}),f.promise.then(function(){c.animate=!0;var b=d[0].querySelectorAll("[autofocus]");b.length?b[0].focus():d[0].focus();var e=a.getTop();e&&a.modalRendered(e.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=o.keys(),c=0;c<b.length;c++)o.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=o.get(a).value;o.remove(a),j(d.modalDomEl,d.modalScope,function(){b.toggleClass(n,o.length()>0),i()})}function i(){if(l&&-1==g()){var a=m;j(l,m,function(){a=null}),l=void 0,m=void 0}}function j(c,d,f){function g(){g.done||(g.done=!0,c.remove(),d.$destroy(),f&&f())}d.animate=!1,c.attr("modal-animation")&&a.enabled()?c.one("$animate:close",function(){e.$evalAsync(g)}):b(g)}function k(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var l,m,n="modal-open",o=f.createNew(),p={};return e.$watch(g,function(a){m&&(m.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=o.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){p.dismiss(b.key,"escape key press")})))}),p.open=function(a,b){var f=c[0].activeElement;o.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var h=c.find("body").eq(0),i=g();if(i>=0&&!l){m=e.$new(!0),m.index=i;var j=angular.element('<div modal-backdrop="modal-backdrop"></div>');j.attr("backdrop-class",b.backdropClass),b.animation&&j.attr("modal-animation","true"),l=d(j)(m),h.append(l)}var k=angular.element('<div modal-window="modal-window"></div>');k.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:o.length()-1,animate:"animate"}).html(b.content),b.animation&&k.attr("modal-animation","true");var p=d(k)(b.scope);o.top().value.modalDomEl=p,o.top().value.modalOpener=f,h.append(p),h.addClass(n)},p.close=function(a,b){var c=o.get(a);return c&&k(c,b,!0)?(c.value.deferred.resolve(b),h(a),c.value.modalOpener.focus(),!0):!c},p.dismiss=function(a,b){var c=o.get(a);return c&&k(c,b,!1)?(c.value.deferred.reject(b),h(a),c.value.modalOpener.focus(),!0):!c},p.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},p.getTop=function(){return o.top()},p.modalRendered=function(a){var b=o.get(a);b&&b.value.renderDeferred.resolve()},p}]).provider("$modal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(b,c,d,e,f,g){function h(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function i(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))
}),c}var j={};return j.open=function(b){var e=d.defer(),j=d.defer(),k=d.defer(),l={result:e.promise,opened:j.promise,rendered:k.promise,close:function(a){return g.close(l,a)},dismiss:function(a){return g.dismiss(l,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var m=d.all([h(b)].concat(i(b.resolve)));return m.then(function(a){var d=(b.scope||c).$new();d.$close=l.close,d.$dismiss=l.dismiss;var h,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=l,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),h=f(b.controller,i),b.controllerAs&&(d[b.controllerAs]=h)),g.open(l,{scope:d,deferred:e,renderDeferred:k,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),m.then(function(){j.resolve(!0)},function(a){j.reject(a)}),l},j}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,f,g,h,i,j){return function(e,k,l,m){function n(a){var b=a||m.trigger||l,d=c[b]||b;return{show:b,hide:d}}m=angular.extend({},b,d,m);var o=a(e),p=j.startSymbol(),q=j.endSymbol(),r="<div "+o+'-popup title="'+p+"title"+q+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+p+"content"+q+'" ')+'placement="'+p+"placement"+q+'" popup-class="'+p+"popupClass"+q+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var a=f(r);return function(b,c,d){function f(){E.isOpen?l():j()}function j(){(!D||b.$eval(d[k+"Enable"]))&&(s(),E.popupDelay?A||(A=g(o,E.popupDelay,!1),A.then(function(a){a()})):o()())}function l(){b.$apply(function(){p()})}function o(){return A=null,z&&(g.cancel(z),z=null),(m.useContentExp?E.contentExp():E.content)?(q(),x.css({top:0,left:0,display:"block"}),E.$digest(),F(),E.isOpen=!0,E.$apply(),F):angular.noop}function p(){E.isOpen=!1,g.cancel(A),A=null,E.animation?z||(z=g(r,500)):r()}function q(){x&&r(),y=E.$new(),x=a(y,function(a){B?h.find("body").append(a):c.after(a)}),y.$watch(function(){g(F,0,!1)}),m.useContentExp&&y.$watch("contentExp()",function(a){!a&&E.isOpen&&p()})}function r(){z=null,x&&(x.remove(),x=null),y&&(y.$destroy(),y=null)}function s(){t(),u(),v()}function t(){E.popupClass=d[k+"Class"]}function u(){var a=d[k+"Placement"];E.placement=angular.isDefined(a)?a:m.placement}function v(){var a=d[k+"PopupDelay"],b=parseInt(a,10);E.popupDelay=isNaN(b)?m.popupDelay:b}function w(){var a=d[k+"Trigger"];G(),C=n(a),C.show===C.hide?c.bind(C.show,f):(c.bind(C.show,j),c.bind(C.hide,l))}var x,y,z,A,B=angular.isDefined(m.appendToBody)?m.appendToBody:!1,C=n(void 0),D=angular.isDefined(d[k+"Enable"]),E=b.$new(!0),F=function(){if(x){var a=i.positionElements(c,x,E.placement,B);a.top+="px",a.left+="px",x.css(a)}};E.origScope=b,E.isOpen=!1,E.contentExp=function(){return b.$eval(d[e])},m.useContentExp||d.$observe(e,function(a){E.content=a,!a&&E.isOpen&&p()}),d.$observe("disabled",function(a){a&&E.isOpen&&p()}),d.$observe(k+"Title",function(a){E.title=a});var G=function(){c.unbind(C.show,j),c.unbind(C.hide,l)};w();var H=b.$eval(d[k+"Animation"]);E.animation=angular.isDefined(H)?!!H:m.animation;var I=b.$eval(d[k+"AppendToBody"]);B=angular.isDefined(I)?I:B,B&&b.$on("$locationChangeSuccess",function(){E.isOpen&&p()}),b.$on("$destroy",function(){g.cancel(z),g.cancel(A),G(),r(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.tooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(a,b,c){return b||c.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse","$log",function(a,b){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(c,d,e){return function(c,d,f,g){c.$watch("active",function(a){a&&g.select(c)}),c.disabled=!1,f.disable&&c.$parent.$watch(a(f.disable),function(a){c.disabled=!!a}),f.disabled&&(b.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),c.$parent.$watch(a(f.disabled),function(a){c.disabled=!!a})),c.select=function(){c.disabled||(c.active=!0)},g.addTab(c),c.$on("$destroy",function(){g.removeTab(c)}),c.$transcludeFn=e}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),"m"!==b&&(a.minutes=i(d)),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render,o.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g);var i=angular.isDefined(b.arrowkeys)?a.$parent.$eval(b.arrowkeys):f.arrowkeys;i&&this.setupArrowkeyEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$viewValue;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(a,b,c,d,e){function f(a){for(var b in a)if(void 0!==h.style[b])return a[b]}e||d.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var g=function(d,e,f){f=f||{};var h=a.defer(),i=g[f.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(e)?d.addClass(e):angular.isFunction(e)?e(d):angular.isObject(e)&&d.css(e),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},h=document.createElement("trans"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},j={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return g.transitionEndEventName=f(i),g.animationEndEventName=f(j),g}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=i.$eval(k.typeaheadFocusFirst)!==!1,v=b(k.ngModel).assign,w=g.parse(k.typeahead),x=i.$new();i.$on("$destroy",function(){x.$destroy()});var y="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":y});var z=angular.element("<div typeahead-popup></div>");z.attr({id:y,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&z.attr("template-url",k.typeaheadTemplateUrl);var A=function(){x.matches=[],x.activeIdx=-1,j.attr("aria-expanded",!1)},B=function(a){return y+"-option-"+a};x.$watch("activeIdx",function(a){0>a?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",B(a))});var C=function(a){var b={$viewValue:a};q(i,!0),c.when(w.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c&&c.length>0){x.activeIdx=u?0:-1,x.matches.length=0;for(var e=0;e<c.length;e++)b[w.itemName]=c[e],x.matches.push({id:B(e),label:w.viewMapper(x,b),model:c[e]});x.query=a,x.position=t?f.offset(j):f.position(j),x.position.top=x.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else A();d&&q(i,!1)},function(){A(),q(i,!1)})};A(),x.query=void 0;var D,E=function(a){D=d(function(){C(a)},o)},F=function(){D&&d.cancel(D)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(F(),E(a)):C(a):(q(i,!1),F(),A()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return p||l.$setValidity("editable",!0),s?(d.$model=a,s(i,d)):(d[w.itemName]=a,b=w.viewMapper(i,d),d[w.itemName]=void 0,c=w.viewMapper(i,d),b!==c?b:a)}),x.select=function(a){var b,c,e={};e[w.itemName]=c=x.matches[a].model,b=w.modelMapper(i,e),v(i,b),l.$setValidity("editable",!0),l.$setValidity("parse",!0),r(i,{$item:c,$model:b,$label:w.viewMapper(i,e)}),A(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==x.matches.length&&-1!==h.indexOf(a.which)&&(-1!=x.activeIdx||13!==a.which&&9!==a.which)&&(a.preventDefault(),40===a.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===a.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===a.which||9===a.which?x.$apply(function(){x.select(x.activeIdx)}):27===a.which&&(a.stopPropagation(),A(),x.$digest()))}),j.bind("blur",function(){m=!1});var G=function(a){j[0]!==a.target&&(A(),x.$digest())};e.bind("click",G),i.$on("$destroy",function(){e.unbind("click",G),t&&H.remove(),z.remove()});var H=a(z)(x);t?e.find("body").append(H):j.after(H)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"template/typeahead/typeahead-match.html";a(g).then(function(a){b(a.trim())(d,function(a){e.replaceWith(a)})})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="javascript:void(0)" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')
}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n	ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1, $event)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages, $event)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-window.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover-window.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen, fade: animation }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" tooltip-template-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');
/*! angular-intro.js - v2.0.2 - 2016-05-31 */
!function(a,b){"function"==typeof define&&define.amd?define(["angular","intro.js"],b):"object"==typeof exports?module.exports=b(require("angular"),require("intro.js")):a.angularIntroJs=b(a.angular,a.introJs)}(this,function(a,b){"object"==typeof b&&(b=b.introJs);var c=a.module("angular-intro",[]);return c.directive("ngIntroOptions",["$timeout",function(a){return{restrict:"A",scope:{ngIntroMethod:"=",ngIntroExitMethod:"=?",ngIntroNextMethod:"=?",ngIntroPreviousMethod:"=?",ngIntroRefreshMethod:"=?",ngIntroOptions:"=",ngIntroOncomplete:"=",ngIntroOnexit:"=",ngIntroOnchange:"=",ngIntroOnbeforechange:"=",ngIntroOnafterchange:"=",ngIntroAutostart:"=",ngIntroAutorefresh:"="},link:function(c,d,e){var f,g,h;c.ngIntroMethod=function(d){h=c.$on("$locationChangeStart",function(){f.exit()}),f="string"==typeof d?b(d):b(),f.setOptions(c.ngIntroOptions),c.ngIntroAutorefresh&&(g=c.$watch(function(){f.refresh()})),c.ngIntroOncomplete&&f.oncomplete(function(){c.ngIntroOncomplete.call(this,c),a(function(){c.$digest()}),j()}),c.ngIntroOnexit&&f.onexit(function(){c.ngIntroOnexit.call(this,c),a(function(){c.$digest()}),j()}),c.ngIntroOnchange&&f.onchange(function(b){c.ngIntroOnchange.call(this,b,c),a(function(){c.$digest()})}),c.ngIntroOnbeforechange&&f.onbeforechange(function(b){c.ngIntroOnbeforechange.call(this,b,c),a(function(){c.$digest()})}),c.ngIntroOnafterchange&&f.onafterchange(function(b){c.ngIntroOnafterchange.call(this,b,c),a(function(){c.$digest()})}),"number"==typeof d?f.goToStep(d).start():f.start()},c.ngIntroNextMethod=function(){f.nextStep()},c.ngIntroPreviousMethod=function(){f.previousStep()},c.ngIntroExitMethod=function(a){f.exit(),"function"==typeof a&&a()},c.ngIntroRefreshMethod=function(){f.refresh()};var i=c.$watch("ngIntroAutostart",function(){c.ngIntroAutostart&&a(function(){c.ngIntroMethod()}),i()});c.$on("$locationChangeSuccess",function(){"undefined"!=typeof f&&f.exit()});var j=function(){h&&h(),g&&g()};c.$on("$destroy",function(){j()})}}}]),c});
(function () {
  'use strict';

  var module = angular.module('superbox', []).run(['$anchorScroll', function ($anchorScroll) {
    $anchorScroll.yOffset = 30;   // always scroll some extra pixels
  }]);

  module.directive('superbox', ['$location', '$anchorScroll', function ($location, $anchorScroll) {

    return {
      templateUrl: 'templates/superbox/superbox.html',
      restrict: 'E',
      scope: {
        superboxModel: '=',
        superboxActions: '=',
        superboxOptions: '=?'
      },
      link: function (scope) {

        // Mapping model fields if necessary...
        if (scope.superboxOptions && scope.superboxOptions.fieldMapping) {
          Object.getOwnPropertyNames(scope.superboxOptions.fieldMapping).forEach(function (val) {
            angular.forEach(scope.superboxModel, function (entry) {
              entry[val] = entry[scope.superboxOptions.fieldMapping[val]];
            });
          });
        }

        for (var i = 0; i < scope.superboxModel.length; i++) {
          if (!scope.superboxModel[i].id) {
            scope.superboxModel[i].id = i;
          }
        }

		var indexByObj = function(array, obj) {
			for (var i = 0; i < array.length; i++){
				if (array[i].id === obj.id)
					return i;
			}
		}
		
        scope._currentEntry = null;

        scope.currentEntry = function (entry) {
          if (arguments.length === 1) {
			  
			if (entry !== "undefined") {
        		
        		var idxSuperBoxModel = indexByObj(scope.superboxModel, entry);

        		if (scope.superboxModel[idxSuperBoxModel].img_full_real === undefined) {
        			var img = new Image();
        			img.src = entry.img_full;
        			img.onload = function() {
        				$anchorScroll();			
        			};
        			scope.superboxModel[idxSuperBoxModel].img_full_real = entry.img_full;
        		}
        	}
			
            scope._currentEntry = entry;
            $location.hash('superbox-show-' + entry.id);
            $anchorScroll();
          }
          return scope._currentEntry;
        };

      }
    };

  }
  ]);

  module.directive('superboxList', [function () {

    return {
      templateUrl: 'templates/superbox/superbox-list.html',
      restrict: 'E',
      scope: {
        entry: '=',
        actions: '=',
        currentEntry: '='
      },
      link: function (scope) {

        scope.isSelected = function () {
          return scope.currentEntry() === scope.entry;
        };

        scope.close = function () {
          scope.currentEntry("undefined");
        };


      }
    };
  }]);

}());

angular.module('superbox').run(['$templateCache', function($templateCache) {
  'use strict';

  $templateCache.put('templates/superbox/superbox.html',
    "<div class=\"as-superbox\" ng-model-options=\"{ getterSetter: true }\">\n" +
    "    <superbox-list entry=\"entry\"  actions=\"superboxActions\" current-entry=\"currentEntry\" ng-repeat=\"entry in superboxModel\"></superbox-list>\n" +
    "    <div class=\"superbox-float\"></div>\n" +
    "</div>"
  );


  $templateCache.put('templates/superbox/superbox-list.html',
    "<div class=\"as-superbox-list\" ng-click=\"currentEntry(entry)\">\n" +
    "    <img ng-src=\"{{entry.img_thumb}}\"\n" +
    "         data-img=\"{{entry.img_full}}\"\n" +
    "         alt=\"{{entry.alt}}\" title=\"{{entry.title}}\" class=\"as-superbox-img\">\n" +
    "</div>\n" +
    "<div id=\"superbox-show-{{entry.id }}\" class=\"as-superbox-show\" style=\"display: block\" ng-show=\"isSelected(entry)\">\n" +
    "    <div id=\"imgInfoBox\" class=\"as-superbox-imageinfo\">\n" +
    "        <h1>{{entry.title}}</h1>\n" +
    "        <span>\n" +
    "            <p class=\"as-superbox-img-description\">{{entry.description}}</p>\n" +
    "            <br/>\n" +
    "            <br/>\n" +
    "\n" +
    "           <button type=\"button\" class=\"{{actionObj.cssclass}}\" style=\"padding: 5px; margin: 5px;\" ng-repeat=\"actionObj in actions\" ng-click=\"actionObj.action(entry)\">\n" +
    "               {{actionObj.label}}\n" +
    "           </button>\n" +
    "        </span>\n" +
    "    </div>\n" +
    "    <img ng-src=\"{{entry.img_full_real}}\" class=\"as-superbox-current-img\">\n" +
    "\n" +
    "    <span class=\"glyphicon glyphicon-remove as-superbox-close\" aria-hidden=\"true\" ng-click=\"close()\"></span>\n" +
    "</div>"
  );

}]);

/*! angular-swipe.min.js 15-07-2015 */
!function(a,b,c){"use strict";function d(a,c,d,f){e.directive(a,["$parse","swipe",function(e,g){var h=75,i=.3,j=30;return function(k,l,m){function n(a){if(!o||!p)return!1;var b=(a.y-o.y)*c,e=(a.x-o.x)*c;return d?Math.abs(e)<h&&b>0&&b>j&&Math.abs(e)/b<i:Math.abs(b)<h&&e>0&&e>j&&Math.abs(b)/e<i}var o,p,q=e(m[a]),r=["touch"];b.isDefined(m.ngSwipeDisableMouse)||r.push("mouse"),g.bind(l,{start:function(a,b){var c=b.target.getAttribute("class");d&&(!c||c&&null===c.match("noPreventDefault"))&&b.preventDefault(),o=a,p=!0},cancel:function(){p=!1},end:function(a,b){n(a)&&k.$apply(function(){l.triggerHandler(f),q(k,{$event:b})})}},r)}}])}var e=b.module("swipe",[]);e.factory("swipe",[function(){function a(a){var b=a.originalEvent||a,c=b.touches&&b.touches.length?b.touches:[b],d=b.changedTouches&&b.changedTouches[0]||c[0];return{x:d.clientX,y:d.clientY}}function c(a,c){var d=[];return b.forEach(a,function(a){var b=f[a][c];b&&d.push(b)}),d.join(" ")}var d=40,e=.3,f={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(b,f,g){var h,i,j,k,l=!1,m=!1,n=!0;g=g||["mouse","touch"],b.on(c(g,"start"),function(b){j=a(b),l=!0,h=0,i=0,m=!1,n=!0,k=j,f.start&&f.start(j,b)}),b.on(c(g,"cancel"),function(a){l=!1,f.cancel&&f.cancel(a)}),b.on(c(g,"move"),function(b){if(l&&j){var c=a(b);if(h+=Math.abs(c.x-k.x),i+=Math.abs(c.y-k.y),k=c,!(d>h&&d>i)){if(!m){var g,o,p;g=Math.abs(c.x-j.x),o=Math.abs(c.y-j.y),p=o/g,e>p?(b.preventDefault(),n=!1):n=!0,m=!0}b.isVertical=n,f.move&&f.move(c,b)}}}),b.on(c(g,"end"),function(b){l&&(b.isVertical=n,l=!1,f.end&&f.end(a(b),b))})}}}]);try{b.module("ngTouch")}catch(f){d("ngSwipeLeft",-1,!1,"swipeleft"),d("ngSwipeRight",1,!1,"swiperight")}d("ngSwipeUp",-1,!0,"swipeup"),d("ngSwipeDown",1,!0,"swipedown")}(window,window.angular);
/*!
 * Name: angular-carousel-3d
 * GIT Page: https://github.com/Wlada/angular-carousel-3d
 * Version: 0.1.1 - 2016-05-30T20:01:50.496Z
 * License: MIT
 */
!function(){"use strict";angular.module("angular-carousel-3d",["swipe"])}(),function(){"use strict";function t(){function t(t,e,i,s,n){t.carousel3d=s}var e={require:"^carousel3d",restrict:"AE",template:'<div class="slide-3d" ng-click="carousel3d.slideClicked($index)" ng-swipe-left="carousel3d.goPrev()" ng-swipe-right="carousel3d.goNext()" ng-transclude></div>',replace:!0,transclude:!0,link:t};return e}angular.module("angular-carousel-3d").directive("carousel3dSlide",t),t.$inject=[]}(),function(){"use strict";function t(t,e,i,s,n,r,o,a){function l(){a.build(m.model,m.options).then(function(t){w=t,m.slides=w.slides,m.controls=w.controls,m.isLoading=!1,m.isSuccessful=!0;var i=w.getOuterHeight(),n=w.getOuterWidth();e.css({height:i+"px"}),s(function(){x=angular.element(e[0].querySelector(".carousel-3d")),x.css({width:n+"px",height:i+"px"}),I=x.children(),d()})},function(t){e.css({height:t.getOuterHeight()+"px"}),m.isLoading=!1,m.isSuccessful=!1},function(t){m.percentLoaded=t.percent})}function d(t,e){w.setSlides();var i=w.getOuterHeight(),s=w.getOuterWidth(),r="auto"===w.topSpace?0:i/2-i/2,o=w.width/2-s/2,a=e?e/1e3:w.animationSpeed/1e3,l=999;if(angular.forEach(w.slides,function(e,n){var o={position:"absolute",opacity:0,visibility:"hidden",overflow:"hidden",top:r+"px","border-width":w.border+"px",width:s,height:i};t&&angular.extend(o,{"-webkit-transition":"all "+a+"s ","-moz-transition":"all "+a+"s ","-o-transition":"all "+a+"s ","-ms-transition":"all "+a+"s ",transition:"all "+a+"s "}),v(n).css(o)}),v(w.currentIndex).addClass("current").css({zIndex:l,opacity:1,visibility:"visible","-webkit-transform":"none","-moz-transform":"none","-o-transform":"none","-ms-transform":"none",transform:"none",left:o+"px",top:r+"px",width:s+"px",height:i+"px"}),angular.forEach(w.rightSlides,function(t,e){var i=c(e,l,!0);l-=e+1,v(t).css(i).css({opacity:1,visibility:"visible",zIndex:l})}),angular.forEach(w.leftSlides,function(t,e){var i=c(e,l);l-=e+1,v(t).css(i).css({opacity:1,visibility:"visible",zIndex:l})}),w.total>w.visible){var d=c(w.rightSlides.length-1,w.rightSlides.length-1,!0),u=c(w.leftSlides.length-1,w.leftSlides.length-1);v(w.rightOutSlide).css(d),v(w.leftOutSlide).css(u)}w.autoRotationSpeed>0&&(m.autoRotation=n(function(){"rtl"===m.dir?m.goPrev():m.goNext()},w.autoRotationSpeed)),m.isRendered=!0}function c(t,e,i){var s=parseInt("auto"==w.space?(t+1)*(w.width/1.5):(t+1)*w.space),n=i?"translateX("+s+"px) translateZ(-"+(w.inverseScaling+100*(t+1))+"px) rotateY(-"+w.perspective+"deg)":"translateX(-"+s+"px) translateZ(-"+(w.inverseScaling+100*(t+1))+"px) rotateY("+w.perspective+"deg)",r="0%",o="auto"===w.topSpace?"none":parseInt((t+1)*w.space),a="none",l="none",d="visible";return{"-webkit-transform":n,"-moz-transform":n,"-o-transform":n,"-ms-transform":n,transform:n,left:r,top:o,width:a,height:l,zIndex:e,overflow:d}}function u(t,e,i){return angular.isFunction(m.onBeforeChange)&&m.onBeforeChange({index:w.currentIndex}),w.setCurrentIndex(0>t||t>w.total-1?0:t),w.isLastSlide()&&angular.isFunction(m.onLastSlide)&&m.onLastSlide({index:w.currentIndex}),angular.forEach(I,function(t,e){angular.element(I[e]).removeClass("current")}),w.setLock(!0),d(!0,w.animationSpeed),s(function(){p()},w.animationSpeed),i}function h(t){return t=t?t:!1,!t&&w.getLock()||!w.loop&&w.isLastSlide()?!1:(w.isLastSlide()?u(0,!1,t):u(w.currentIndex+1,!1,t),!1)}function g(t){return t=t?t:!1,!t&&w.getLock()||!w.loop&&w.isFirstSlide()?!1:(w.isFirstSlide()?u(w.total-1,!1,t):u(w.currentIndex-1,!1,t),!1)}function f(t){var e=t===w.total-1&&w.isFirstSlide()?-1:t-w.currentIndex;w.isLastSlide()&&0===t&&(e=1);for(var i=0>e?-e:e,n=0,r=0;i>r;r++){var o=1===i?0:n;s(function(){0>e?g(i):h(i)},o),n+=w.animationSpeed/i}}function p(){w.setLock(!1),m.onSlideChange&&m.onSlideChange({index:w.currentIndex})}function v(t){return angular.element(t>=0?I[t]:I[w.total+t])}function S(t){if(n.cancel(m.autoRotation),w.currentIndex!=t){if(!w.clicking)return!1;f(t)}else m.onSelectedClick&&m.onSelectedClick({index:w.currentIndex})}var m=this;m.isLoading=!0,m.isSuccessful=!1,m.isRendered=!1,m.percentLoaded=0,m.autoRotation=null,m.slideClicked=S,m.goPrev=g,m.goNext=h;var x=null,I=[],w={};t.$watch("[vm.model, vm.options]",l,!0)}angular.module("angular-carousel-3d").controller("Carousel3dController",t),t.$inject=["$scope","$element","$attrs","$timeout","$interval","$log","$window","Carousel3dService"]}(),function(){"use strict";function t(t){function e(t,e){return i}function i(t,e,i,s,n){}var s={restrict:"AE",template:'<div class="carousel-3d-container" ng-switch="vm.isLoading">   <div class="carousel-3d-loader" ng-switch-when="true">       <div class="carousel-3d-loader-circle" style="-webkit-transform:scale(0.75)"><div><div></div><div></div></div></div>       <div class="carousel-3d-loader-percentage">{{ vm.percentLoaded }}</div>   </div>   <div ng-switch-when="false" ng-switch="vm.isSuccessful">       <div class="carousel-3d" ng-switch-when="true" ng-show="vm.isRendered" ng-transclude>       </div>       <p ng-switch-when="false" class="carousel-3d-loader-error">There was a problem during load</p>       <div ng-if="vm.controls" class="carousel-3d-controls">           <div class="carousel-3d-next arrow-left" ng-click="vm.goPrev()"></div>           <div class="carousel-3d-prev arrow-right" ng-click="vm.goNext()"></div>       </div>   </div></div>',replace:!0,scope:{model:"=ngModel",options:"=",onSelectedClick:"&",onSlideChange:"&",onLastSlide:"&",onBeforeChange:"&"},controller:"Carousel3dController as vm",bindToController:!0,transclude:!0,compile:e,link:i};return s}angular.module("angular-carousel-3d").directive("carousel3d",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(t,e,i){function s(t,i){this.slides=t||[],this.leftSlides=[],this.rightSlides=[],this.leftOutSlide="",this.rightOutSlide="",this.loadCount=0,this.errorCount=0,this.loop=i.loop||!1,this.clicking=i.clicking||!1,this.states={PENDING:1,LOADING:2,RESOLVED:3,REJECTED:4},this.total=this.slides.length,this.currentIndex=0,this.lock=!1,this.sourceProp=i.sourceProp,this.visible=i.visible||5,this.perspective=i.perspective||35,this.animationSpeed=i.animationSpeed||500,this.dir=i.dir||"ltr",this.width=i.width||360,this.height=i.height||270,this.border=i.border||0,this.space=i.space||"auto",this.topSpace=i.topSpace||"auto",this.controls=i.controls||!1,this.startSlide=i.startSlide||0,this.inverseScaling=i.inverseScaling||300,this.autoRotationSpeed=i.autoRotationSpeed||0,this.state=this.states.PENDING,this.deferred=e.defer(),this.promise=this.deferred.promise}function n(){return this.state!==this.states.PENDING}function r(){return this.state===this.states.REJECTED}function o(){return this.state===this.states.RESOLVED}function a(){if(this.isInitiated())return this;if(this.state=this.states.LOADING,this.sourceProp)for(var t=0;t<this.total;t++)this.loadImageLocation(this.slides[t]);else this.deferred.resolve(this);return this}function l(t){this.errorCount++,this.isRejected()||(this.state=this.states.REJECTED,this.deferred.reject(this))}function d(t){this.loadCount++,this.isRejected()||(this.deferred.notify({percent:Math.ceil(this.loadCount/this.total*100),imageLocation:t}),this.loadCount===this.total&&(this.state=this.states.RESOLVED,this.deferred.resolve(this)))}function c(e){var i=this,s=new Image;s.onload=function(e){t.$apply(function(){i.handleImageLoad(e.target.src),s=e=null})},s.onerror=function(e){t.$apply(function(){i.handleImageError(e.target.src),s=e=null})},s.src=e[this.sourceProp]}function u(){return this.total}function h(t){this.startSlide=0>t||t>this.total?0:t}function g(t){return this.currentIndex=t}function f(){return parseInt(this.width+this.border)}function p(){return parseInt(this.height+this.border,10)}function v(t){return this.lock=t}function S(){return this.lock}function m(){return this.slides}function x(){var t=Math.floor(this.visible/2)+1,e="ltr";this.leftSlides=[],this.rightSlides=[];for(var i=1;t>i;i++){var s=this.dir===e?(this.currentIndex+i)%this.total:(this.currentIndex-i)%this.total,n=this.dir===e?(this.currentIndex-i)%this.total:(this.currentIndex+i)%this.total;this.leftSlides.push(s),this.rightSlides.push(n)}var r=this.leftOutSlide=this.currentIndex-t,o=this.rightOutSlide=this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t):this.currentIndex+t;return this.dir===e&&(this.leftOutSlide=r,this.rightOutSlide=o),this.slides}function I(){return this.currentIndex===this.total-1}function w(){return 0===this.currentIndex}function b(){return this.sourceProp}s.build=function(t,e){var n=new s(t,e||{});return n.load().promise.then(function(){n.visible=n.visible>n.total?n.total:n.visible,n.currentIndex=n.startSlide>n.total-1?n.total-1:e.startSlide;try{2!==n.visible&&(n.visible=n.visible%2?n.visible:n.visible-1)}catch(t){i.error(t)}return n})};var C={constructor:s,isInitiated:n,isRejected:r,isResolved:o,load:a,handleImageError:l,handleImageLoad:d,loadImageLocation:c,getTotalNumber:u,setStartSlide:h,getSlides:m,setSlides:x,setCurrentIndex:g,getOuterWidth:f,getOuterHeight:p,setLock:v,getLock:S,isLastSlide:I,isFirstSlide:w,getSourceProp:b};return angular.extend(s.prototype,C),s}angular.module("angular-carousel-3d").factory("Carousel3dService",t),t.$inject=["$rootScope","$q","$log"]}();
/*! Angular-PDF Version: 1.5.0 | Released under an MIT license */
!function(){"use strict";angular.module("pdf",[]).directive("ngPdf",["$window",function($window){var renderTask=null,pdfLoaderTask=null,debug=!1,backingScale=function(canvas){var ctx=canvas.getContext("2d"),dpr=window.devicePixelRatio||1,bsr=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1;return dpr/bsr},setCanvasDimensions=function(canvas,w,h){var ratio=backingScale(canvas);return canvas.width=Math.floor(w*ratio),canvas.height=Math.floor(h*ratio),canvas.style.width=Math.floor(w)+"px",canvas.style.height=Math.floor(h)+"px",canvas.getContext("2d").setTransform(ratio,0,0,ratio,0,0),canvas};return{restrict:"E",templateUrl:function(element,attr){return attr.templateUrl?attr.templateUrl:"partials/viewer.html"},link:function(scope,element,attrs){function clearCanvas(){ctx&&ctx.clearRect(0,0,canvas.width,canvas.height)}function renderPDF(){clearCanvas();var params={url:url,withCredentials:creds};httpHeaders&&(params.httpHeaders=httpHeaders),url&&url.length&&(pdfLoaderTask=PDFJS.getDocument(params),pdfLoaderTask.onProgress=scope.onProgress,pdfLoaderTask.onPassword=scope.onPassword,pdfLoaderTask.then(function(_pdfDoc){"function"==typeof scope.onLoad&&scope.onLoad(),pdfDoc=_pdfDoc,scope.renderPage(scope.pageToDisplay),scope.$apply(function(){scope.pageCount=_pdfDoc.numPages})},function(error){error&&"function"==typeof scope.onError&&scope.onError(error)}))}element.css("display","block");var url=scope.pdfUrl,httpHeaders=scope.httpHeaders,pdfDoc=null,pageToDisplay=isFinite(attrs.page)?parseInt(attrs.page):1,pageFit="page-fit"===attrs.scale,scale=attrs.scale>0?attrs.scale:1,canvasid=attrs.canvasid||"pdf-canvas",canvas=document.getElementById(canvasid);debug=!!attrs.hasOwnProperty("debug")&&attrs.debug;var creds=attrs.usecredentials,ctx=canvas.getContext("2d"),windowEl=angular.element($window);windowEl.on("scroll",function(){scope.$apply(function(){scope.scroll=windowEl[0].scrollY})}),PDFJS.disableWorker=!0,scope.pageNum=pageToDisplay,scope.renderPage=function(num){renderTask&&renderTask._internalRenderTask.cancel(),pdfDoc.getPage(num).then(function(page){var viewport,pageWidthScale,renderContext;if(pageFit){viewport=page.getViewport(1);var clientRect=element[0].getBoundingClientRect();pageWidthScale=clientRect.width/viewport.width,scale=pageWidthScale}viewport=page.getViewport(scale),setCanvasDimensions(canvas,viewport.width,viewport.height),renderContext={canvasContext:ctx,viewport:viewport},renderTask=page.render(renderContext),renderTask.promise.then(function(){"function"==typeof scope.onPageRender&&scope.onPageRender()}).catch(function(reason){console.log(reason)})})},scope.goPrevious=function(){scope.pageToDisplay<=1||(scope.pageToDisplay=parseInt(scope.pageToDisplay)-1,scope.pageNum=scope.pageToDisplay)},scope.goNext=function(){scope.pageToDisplay>=pdfDoc.numPages||(scope.pageToDisplay=parseInt(scope.pageToDisplay)+1,scope.pageNum=scope.pageToDisplay)},scope.zoomIn=function(){return pageFit=!1,scale=parseFloat(scale)+.2,scope.renderPage(scope.pageToDisplay),scale},scope.zoomOut=function(){return pageFit=!1,scale=parseFloat(scale)-.2,scope.renderPage(scope.pageToDisplay),scale},scope.fit=function(){pageFit=!0,scope.renderPage(scope.pageToDisplay)},scope.changePage=function(){scope.renderPage(scope.pageToDisplay)},scope.rotate=function(){"rotate0"===canvas.getAttribute("class")?canvas.setAttribute("class","rotate90"):"rotate90"===canvas.getAttribute("class")?canvas.setAttribute("class","rotate180"):"rotate180"===canvas.getAttribute("class")?canvas.setAttribute("class","rotate270"):canvas.setAttribute("class","rotate0")},scope.$watch("pageNum",function(newVal){scope.pageToDisplay=parseInt(newVal),null!==pdfDoc&&scope.renderPage(scope.pageToDisplay)}),scope.$watch("pdfUrl",function(newVal){""!==newVal&&(debug&&console.log("pdfUrl value change detected: ",scope.pdfUrl),url=newVal,scope.pageNum=scope.pageToDisplay=pageToDisplay,pdfLoaderTask?pdfLoaderTask.destroy().then(function(){renderPDF()}):renderPDF())})}}}])}();
/**
 * Restful Resources service for AngularJS apps
 * @version v1.4.0 - 2015-04-03 * @link https://github.com/mgonto/restangular
 * @author Martin Gontovnikas <martin@gon.to>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */!function(){var a=angular.module("restangular",[]);a.provider("Restangular",function(){var a={};a.init=function(a,b){function c(a,b,c,d){var e={};return _.each(_.keys(d),function(f){var g=d[f];g.params=_.extend({},g.params,a.defaultRequestParams[g.method.toLowerCase()]),_.isEmpty(g.params)&&delete g.params,e[f]=a.isSafe(g.method)?function(){return b(_.extend(g,{url:c}))}:function(a){return b(_.extend(g,{url:c,data:a}))}}),e}a.configuration=b;var d=["get","head","options","trace","getlist"];b.isSafe=function(a){return _.contains(d,a.toLowerCase())};var e=/^https?:\/\//i;b.isAbsoluteUrl=function(a){return _.isUndefined(b.absoluteUrl)||_.isNull(b.absoluteUrl)?a&&e.test(a):b.absoluteUrl},b.absoluteUrl=_.isUndefined(b.absoluteUrl)?!0:b.absoluteUrl,a.setSelfLinkAbsoluteUrl=function(a){b.absoluteUrl=a},b.baseUrl=_.isUndefined(b.baseUrl)?"":b.baseUrl,a.setBaseUrl=function(a){return b.baseUrl=/\/$/.test(a)?a.substring(0,a.length-1):a,this},b.extraFields=b.extraFields||[],a.setExtraFields=function(a){return b.extraFields=a,this},b.defaultHttpFields=b.defaultHttpFields||{},a.setDefaultHttpFields=function(a){return b.defaultHttpFields=a,this},b.withHttpValues=function(a,c){return _.defaults(c,a,b.defaultHttpFields)},b.encodeIds=_.isUndefined(b.encodeIds)?!0:b.encodeIds,a.setEncodeIds=function(a){b.encodeIds=a},b.defaultRequestParams=b.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},a.setDefaultRequestParams=function(a,c){var d=[],e=c||a;return _.isUndefined(c)?d.push("common"):_.isArray(a)?d=a:d.push(a),_.each(d,function(a){b.defaultRequestParams[a]=e}),this},a.requestParams=b.defaultRequestParams,b.defaultHeaders=b.defaultHeaders||{},a.setDefaultHeaders=function(c){return b.defaultHeaders=c,a.defaultHeaders=b.defaultHeaders,this},a.defaultHeaders=b.defaultHeaders,b.methodOverriders=b.methodOverriders||[],a.setMethodOverriders=function(a){var c=_.extend([],a);return b.isOverridenMethod("delete",c)&&c.push("remove"),b.methodOverriders=c,this},b.jsonp=_.isUndefined(b.jsonp)?!1:b.jsonp,a.setJsonp=function(a){b.jsonp=a},b.isOverridenMethod=function(a,c){var d=c||b.methodOverriders;return!_.isUndefined(_.find(d,function(b){return b.toLowerCase()===a.toLowerCase()}))},b.urlCreator=b.urlCreator||"path",a.setUrlCreator=function(a){if(!_.has(b.urlCreatorFactory,a))throw new Error("URL Path selected isn't valid");return b.urlCreator=a,this},b.restangularFields=b.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},a.setRestangularFields=function(a){return b.restangularFields=_.extend(b.restangularFields,a),this},b.isRestangularized=function(a){return!!a[b.restangularFields.restangularized]},b.setFieldToElem=function(a,b,c){var d=a.split("."),e=b;return _.each(_.initial(d),function(a){e[a]={},e=e[a]}),e[_.last(d)]=c,this},b.getFieldFromElem=function(a,b){var c=a.split("."),d=b;return _.each(c,function(a){d&&(d=d[a])}),angular.copy(d)},b.setIdToElem=function(a,c){return b.setFieldToElem(b.restangularFields.id,a,c),this},b.getIdFromElem=function(a){return b.getFieldFromElem(b.restangularFields.id,a)},b.isValidId=function(a){return""!==a&&!_.isUndefined(a)&&!_.isNull(a)},b.setUrlToElem=function(a,c){return b.setFieldToElem(b.restangularFields.selfLink,a,c),this},b.getUrlFromElem=function(a){return b.getFieldFromElem(b.restangularFields.selfLink,a)},b.useCannonicalId=_.isUndefined(b.useCannonicalId)?!1:b.useCannonicalId,a.setUseCannonicalId=function(a){return b.useCannonicalId=a,this},b.getCannonicalIdFromElem=function(a){var c=a[b.restangularFields.cannonicalId],d=b.isValidId(c)?c:b.getIdFromElem(a);return d},b.responseInterceptors=b.responseInterceptors||[],b.defaultResponseInterceptor=function(a){return a},b.responseExtractor=function(a,c,d,e,f,g){var h=angular.copy(b.responseInterceptors);h.push(b.defaultResponseInterceptor);var i=a;return _.each(h,function(a){i=a(i,c,d,e,f,g)}),i},a.addResponseInterceptor=function(a){return b.responseInterceptors.push(a),this},b.errorInterceptors=b.errorInterceptors||[],a.addErrorInterceptor=function(a){return b.errorInterceptors.push(a),this},a.setResponseInterceptor=a.addResponseInterceptor,a.setResponseExtractor=a.addResponseInterceptor,a.setErrorInterceptor=a.addErrorInterceptor,b.requestInterceptors=b.requestInterceptors||[],b.defaultInterceptor=function(a,b,c,d,e,f,g){return{element:a,headers:e,params:f,httpConfig:g}},b.fullRequestInterceptor=function(a,c,d,e,f,g,h){var i=angular.copy(b.requestInterceptors),j=b.defaultInterceptor(a,c,d,e,f,g,h);return _.reduce(i,function(a,b){return _.extend(a,b(a.element,c,d,e,a.headers,a.params,a.httpConfig))},j)},a.addRequestInterceptor=function(a){return b.requestInterceptors.push(function(b,c,d,e,f,g,h){return{headers:f,params:g,element:a(b,c,d,e),httpConfig:h}}),this},a.setRequestInterceptor=a.addRequestInterceptor,a.addFullRequestInterceptor=function(a){return b.requestInterceptors.push(a),this},a.setFullRequestInterceptor=a.addFullRequestInterceptor,b.onBeforeElemRestangularized=b.onBeforeElemRestangularized||function(a){return a},a.setOnBeforeElemRestangularized=function(a){return b.onBeforeElemRestangularized=a,this},a.setRestangularizePromiseInterceptor=function(a){return b.restangularizePromiseInterceptor=a,this},b.onElemRestangularized=b.onElemRestangularized||function(a){return a},a.setOnElemRestangularized=function(a){return b.onElemRestangularized=a,this},b.shouldSaveParent=b.shouldSaveParent||function(){return!0},a.setParentless=function(a){return _.isArray(a)?b.shouldSaveParent=function(b){return!_.contains(a,b)}:_.isBoolean(a)&&(b.shouldSaveParent=function(){return!a}),this},b.suffix=_.isUndefined(b.suffix)?null:b.suffix,a.setRequestSuffix=function(a){return b.suffix=a,this},b.transformers=b.transformers||{},a.addElementTransformer=function(c,d,e){var f=null,g=null;2===arguments.length?g=d:(g=e,f=d);var h=b.transformers[c];return h||(h=b.transformers[c]=[]),h.push(function(a,b){return _.isNull(f)||a===f?g(b):b}),a},a.extendCollection=function(b,c){return a.addElementTransformer(b,!0,c)},a.extendModel=function(b,c){return a.addElementTransformer(b,!1,c)},b.transformElem=function(a,c,d,e,f){if(!f&&!b.transformLocalElements&&!a[b.restangularFields.fromServer])return a;var g=b.transformers[d],h=a;return g&&_.each(g,function(a){h=a(c,h)}),b.onElemRestangularized(h,c,d,e)},b.transformLocalElements=_.isUndefined(b.transformLocalElements)?!1:b.transformLocalElements,a.setTransformOnlyServerElements=function(a){b.transformLocalElements=!a},b.fullResponse=_.isUndefined(b.fullResponse)?!1:b.fullResponse,a.setFullResponse=function(a){return b.fullResponse=a,this},b.urlCreatorFactory={};var f=function(){};f.prototype.setConfig=function(a){return this.config=a,this},f.prototype.parentsArray=function(a){for(var b=[];a;)b.push(a),a=a[this.config.restangularFields.parentResource];return b.reverse()},f.prototype.resource=function(a,d,e,f,g,h,i,j){var k=_.defaults(g||{},this.config.defaultRequestParams.common),l=_.defaults(f||{},this.config.defaultHeaders);i&&(b.isSafe(j)?l["If-None-Match"]=i:l["If-Match"]=i);var m=this.base(a);if(h){var n="";/\/$/.test(m)||(n+="/"),n+=h,m+=n}return this.config.suffix&&-1===m.indexOf(this.config.suffix,m.length-this.config.suffix.length)&&!this.config.getUrlFromElem(a)&&(m+=this.config.suffix),a[this.config.restangularFields.httpConfig]=void 0,c(this.config,d,m,{getList:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),get:this.config.withHttpValues(e,{method:"GET",params:k,headers:l}),jsonp:this.config.withHttpValues(e,{method:"jsonp",params:k,headers:l}),put:this.config.withHttpValues(e,{method:"PUT",params:k,headers:l}),post:this.config.withHttpValues(e,{method:"POST",params:k,headers:l}),remove:this.config.withHttpValues(e,{method:"DELETE",params:k,headers:l}),head:this.config.withHttpValues(e,{method:"HEAD",params:k,headers:l}),trace:this.config.withHttpValues(e,{method:"TRACE",params:k,headers:l}),options:this.config.withHttpValues(e,{method:"OPTIONS",params:k,headers:l}),patch:this.config.withHttpValues(e,{method:"PATCH",params:k,headers:l})})};var g=function(){};g.prototype=new f,g.prototype.normalizeUrl=function(a){var b=/(http[s]?:\/\/)?(.*)?/.exec(a);return b[2]=b[2].replace(/[\\\/]+/g,"/"),"undefined"!=typeof b[1]?b[1]+b[2]:b[2]},g.prototype.base=function(a){var c=this;return _.reduce(this.parentsArray(a),function(a,d){var e,f=c.config.getUrlFromElem(d);if(f){if(c.config.isAbsoluteUrl(f))return f;e=f}else if(e=d[c.config.restangularFields.route],d[c.config.restangularFields.restangularCollection]){var g=d[c.config.restangularFields.ids];g&&(e+="/"+g.join(","))}else{var h;h=c.config.useCannonicalId?c.config.getCannonicalIdFromElem(d):c.config.getIdFromElem(d),b.isValidId(h)&&!d.singleOne&&(e+="/"+(c.config.encodeIds?encodeURIComponent(h):h))}return a=a.replace(/\/$/,"")+"/"+e,c.normalizeUrl(a)},this.config.baseUrl)},g.prototype.fetchUrl=function(a,b){var c=this.base(a);return b&&(c+="/"+b),c},g.prototype.fetchRequestedUrl=function(a,c){function d(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function e(a,b,c){for(var e=d(a),f=0;f<e.length;f++)b.call(c,a[e[f]],e[f]);return e}function f(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}var g=this.fetchUrl(a,c),h=a[b.restangularFields.reqParams];if(!h)return g+(this.config.suffix||"");var i=[];return e(h,function(a,b){null!==a&&void 0!==a&&(angular.isArray(a)||(a=[a]),angular.forEach(a,function(a){angular.isObject(a)&&(a=angular.toJson(a)),i.push(f(b)+"="+f(a))}))}),g+(this.config.suffix||"")+(-1===g.indexOf("?")?"?":"&")+i.join("&")},b.urlCreatorFactory.path=g};var b={};a.init(this,b),this.$get=["$http","$q",function(c,d){function e(b){function f(a,c,d,e,f){if(c[b.restangularFields.route]=d,c[b.restangularFields.getRestangularUrl]=_.bind(P.fetchUrl,P,c),c[b.restangularFields.getRequestedUrl]=_.bind(P.fetchRequestedUrl,P,c),c[b.restangularFields.addRestangularMethod]=_.bind(L,c),c[b.restangularFields.clone]=_.bind(r,c,c),c[b.restangularFields.reqParams]=_.isEmpty(e)?null:e,c[b.restangularFields.withHttpConfig]=_.bind(z,c),c[b.restangularFields.plain]=_.bind(p,c,c),c[b.restangularFields.restangularized]=!0,c[b.restangularFields.one]=_.bind(g,c,c),c[b.restangularFields.all]=_.bind(h,c,c),c[b.restangularFields.several]=_.bind(i,c,c),c[b.restangularFields.oneUrl]=_.bind(j,c,c),c[b.restangularFields.allUrl]=_.bind(k,c,c),c[b.restangularFields.fromServer]=!!f,a&&b.shouldSaveParent(d)){var l=b.getIdFromElem(a),m=b.getUrlFromElem(a),n=_.union(_.values(_.pick(b.restangularFields,["route","singleOne","parentResource"])),b.extraFields),o=_.pick(a,n);b.isValidId(l)&&b.setIdToElem(o,l,d),b.isValidId(m)&&b.setUrlToElem(o,m,d),c[b.restangularFields.parentResource]=o}else c[b.restangularFields.parentResource]=null;return c}function g(a,c,d,e){var f;if(_.isNumber(c)||_.isNumber(a))throw f="You're creating a Restangular entity with the number ",f+="instead of the route or the parent. For example, you can't call .one(12).",new Error(f);if(_.isUndefined(c))throw f="You're creating a Restangular entity either without the path. ",f+="For example you can't call .one(). Please check if your arguments are valid.",new Error(f);var g={};return b.setIdToElem(g,d,c),b.setFieldToElem(b.restangularFields.singleOne,g,e),s(a,g,c,!1)}function h(a,b){return t(a,[],b,!1)}function i(a,c){var d=[];return d[b.restangularFields.ids]=Array.prototype.splice.call(arguments,2),t(a,d,c,!1)}function j(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),s(a,e,c,!1)}function k(a,c,d){if(!c)throw new Error("Route is mandatory when creating new Restangular objects.");var e={};return b.setUrlToElem(e,d,c),t(a,e,c,!1)}function l(a,c,d){return a.call=_.bind(m,a),a.get=_.bind(n,a),a[b.restangularFields.restangularCollection]=c,c&&(a.push=_.bind(m,a,"push")),a.$object=d,b.restangularizePromiseInterceptor&&b.restangularizePromiseInterceptor(a),a}function m(a){var c=d.defer(),e=arguments,f={};return this.then(function(b){var d=Array.prototype.slice.call(e,1),g=b[a];g.apply(b,d),f=b,c.resolve(b)}),l(c.promise,this[b.restangularFields.restangularCollection],f)}function n(a){var c=d.defer(),e={};return this.then(function(b){e=b[a],c.resolve(e)}),l(c.promise,this[b.restangularFields.restangularCollection],e)}function o(a,c,d,e){return _.extend(e,d),b.fullResponse?a.resolve(_.extend(c,{data:d})):(a.resolve(d),void 0)}function p(a){if(_.isArray(a)){var c=[];return _.each(a,function(a){c.push(b.isRestangularized(a)?p(a):a)}),c}return _.omit(a,_.values(_.omit(b.restangularFields,"id")))}function q(a){a[b.restangularFields.customOperation]=_.bind(K,a),_.each(["put","post","get","delete"],function(b){_.each(["do","custom"],function(c){var d,e="delete"===b?"remove":b,f=c+b.toUpperCase();d="put"!==e&&"post"!==e?K:function(a,b,c,d,e){return _.bind(K,this)(a,c,d,e,b)},a[f]=_.bind(d,a,e)})}),a[b.restangularFields.customGETLIST]=_.bind(y,a),a[b.restangularFields.doGETLIST]=a[b.restangularFields.customGETLIST]}function r(a,c){var d=angular.copy(a,c);return s(d[b.restangularFields.parentResource],d,d[b.restangularFields.route],!0)}function s(a,c,d,e,g,h){var i=b.onBeforeElemRestangularized(c,!1,d),j=f(a,i,d,h,e);return b.useCannonicalId&&(j[b.restangularFields.cannonicalId]=b.getIdFromElem(j)),g&&(j[b.restangularFields.getParentList]=function(){return g}),j[b.restangularFields.restangularCollection]=!1,j[b.restangularFields.get]=_.bind(C,j),j[b.restangularFields.getList]=_.bind(y,j),j[b.restangularFields.put]=_.bind(E,j),j[b.restangularFields.post]=_.bind(F,j),j[b.restangularFields.remove]=_.bind(D,j),j[b.restangularFields.head]=_.bind(G,j),j[b.restangularFields.trace]=_.bind(H,j),j[b.restangularFields.options]=_.bind(I,j),j[b.restangularFields.patch]=_.bind(J,j),j[b.restangularFields.save]=_.bind(A,j),q(j),b.transformElem(j,!1,d,O,!0)}function t(a,c,d,e,g){var h=b.onBeforeElemRestangularized(c,!0,d),i=f(a,h,d,g,e);return i[b.restangularFields.restangularCollection]=!0,i[b.restangularFields.post]=_.bind(F,i,null),i[b.restangularFields.remove]=_.bind(D,i),i[b.restangularFields.head]=_.bind(G,i),i[b.restangularFields.trace]=_.bind(H,i),i[b.restangularFields.putElement]=_.bind(w,i),i[b.restangularFields.options]=_.bind(I,i),i[b.restangularFields.patch]=_.bind(J,i),i[b.restangularFields.get]=_.bind(v,i),i[b.restangularFields.getList]=_.bind(y,i,null),q(i),b.transformElem(i,!0,d,O,!0)}function u(a,b,c){var d=t(a,b,c,!1);return _.each(d,function(b){s(a,b,c,!1)}),d}function v(a,b,c){return this.customGET(a.toString(),b,c)}function w(a,c,e){var f=this,g=this[a],h=d.defer(),i=[];return i=b.transformElem(i,!0,g[b.restangularFields.route],O),g.put(c,e).then(function(b){var c=r(f);c[a]=b,i=c,h.resolve(c)},function(a){h.reject(a)}),l(h.promise,!0,i)}function x(a,c,d,e,f,g){var h=b.responseExtractor(a,c,d,e,f,g),i=f.headers("ETag");return h&&i&&(h[b.restangularFields.etag]=i),h}function y(a,e,f){var g=this,h=d.defer(),i="getList",j=P.fetchUrl(this,a),k=a||g[b.restangularFields.route],m=b.fullRequestInterceptor(null,i,k,j,f||{},e||{},this[b.restangularFields.httpConfig]||{}),n=[];n=b.transformElem(n,!0,k,O);var p="getList";b.jsonp&&(p="jsonp");var q=function(c){var d=c.data,e=c.config.params,f=x(d,i,k,j,c,h);if((_.isUndefined(f)||""===f)&&(f=[]),!_.isArray(f))throw new Error("Response for getList SHOULD be an array and not an object or something else");var l=_.map(f,function(c){return g[b.restangularFields.restangularCollection]?s(g[b.restangularFields.parentResource],c,g[b.restangularFields.route],!0,f):s(g,c,a,!0,f)});l=_.extend(f,l),g[b.restangularFields.restangularCollection]?o(h,c,t(g[b.restangularFields.parentResource],l,g[b.restangularFields.route],!0,e),n):o(h,c,t(g,l,a,!0,e),n)};return P.resource(this,c,m.httpConfig,m.headers,m.params,a,this[b.restangularFields.etag],i)[p]().then(q,function(a){304===a.status&&g[b.restangularFields.restangularCollection]?o(h,a,g,n):_.every(b.errorInterceptors,function(b){return b(a,h,q)!==!1})&&h.reject(a)}),l(h.promise,!0,n)}function z(a){return this[b.restangularFields.httpConfig]=a,this}function A(a,c){return this[b.restangularFields.fromServer]?this[b.restangularFields.put](a,c):_.bind(B,this)("post",void 0,a,void 0,c)}function B(a,e,f,g,h){var i=this,j=d.defer(),k=f||{},m=e||this[b.restangularFields.route],n=P.fetchUrl(this,e),q=g||this,r=q[b.restangularFields.etag]||("post"!==a?this[b.restangularFields.etag]:null);_.isObject(q)&&b.isRestangularized(q)&&(q=p(q));var t=b.fullRequestInterceptor(q,a,m,n,h||{},k||{},this[b.restangularFields.httpConfig]||{}),u={};u=b.transformElem(u,!1,m,O);var v=function(c){var d=c.data,e=c.config.params,f=x(d,a,m,n,c,j);if(f)if("post"!==a||i[b.restangularFields.restangularCollection]){var g=s(i[b.restangularFields.parentResource],f,i[b.restangularFields.route],!0,null,e);g[b.restangularFields.singleOne]=i[b.restangularFields.singleOne],o(j,c,g,u)}else{var g=s(i[b.restangularFields.parentResource],f,m,!0,null,e);o(j,c,g,u)}else o(j,c,void 0,u)},w=function(c){304===c.status&&b.isSafe(a)?o(j,c,i,u):_.every(b.errorInterceptors,function(a){return a(c,j,v)!==!1})&&j.reject(c)},y=a,z=_.extend({},t.headers),A=b.isOverridenMethod(a);return A?(y="post",z=_.extend(z,{"X-HTTP-Method-Override":"remove"===a?"DELETE":a.toUpperCase()})):b.jsonp&&"get"===y&&(y="jsonp"),b.isSafe(a)?A?P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]({}).then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y]().then(v,w):P.resource(this,c,t.httpConfig,z,t.params,e,r,y)[y](t.element).then(v,w),l(j.promise,!1,u)}function C(a,b){return _.bind(B,this)("get",void 0,a,void 0,b)}function D(a,b){return _.bind(B,this)("remove",void 0,a,void 0,b)}function E(a,b){return _.bind(B,this)("put",void 0,a,void 0,b)}function F(a,b,c,d){return _.bind(B,this)("post",a,c,b,d)}function G(a,b){return _.bind(B,this)("head",void 0,a,void 0,b)}function H(a,b){return _.bind(B,this)("trace",void 0,a,void 0,b)}function I(a,b){return _.bind(B,this)("options",void 0,a,void 0,b)}function J(a,b,c){return _.bind(B,this)("patch",void 0,b,a,c)}function K(a,b,c,d,e){return _.bind(B,this)(a,b,c,e,d)}function L(a,c,d,e,f,g){var h;h="getList"===c?_.bind(y,this,d):_.bind(K,this,c,d);var i=function(a,b,c){var d=_.defaults({params:a,headers:b,elem:c},{params:e,headers:f,elem:g});return h(d.params,d.headers,d.elem)};this[a]=b.isSafe(c)?i:function(a,b,c){return i(b,c,a)}}function M(c){var d=angular.copy(_.omit(b,"configuration"));return a.init(d,d),c(d),e(d)}function N(a,c){var d=_.values(b.restangularFields),e={},f=(c||O).all(a);e.one=_.bind(g,c||O,c,a),e.post=_.bind(f.post,f),e.getList=_.bind(f.getList,f);for(var h in f)f.hasOwnProperty(h)&&_.isFunction(f[h])&&!_.contains(d,h)&&(e[h]=_.bind(f[h],f));return e}var O={},P=new b.urlCreatorFactory[b.urlCreator];return P.setConfig(b),a.init(O,b),O.copy=_.bind(r,O),O.service=_.bind(N,O),O.withConfig=_.bind(M,O),O.one=_.bind(g,O,null),O.all=_.bind(h,O,null),O.several=_.bind(i,O,null),O.oneUrl=_.bind(j,O,null),O.allUrl=_.bind(k,O,null),O.stripRestangular=_.bind(p,O),O.restangularizeElement=_.bind(s,O),O.restangularizeCollection=_.bind(u,O),O}return e(b)}]})}();
;(function () {
	'use strict';

	/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */

	/*jslint browser:true, node:true*/
	/*global define, Event, Node*/


	/**
	 * Instantiate fast-clicking listeners on the specified layer.
	 *
	 * @constructor
	 * @param {Element} layer The layer to listen on
	 * @param {Object} [options={}] The options to override the defaults
	 */
	function FastClick(layer, options) {
		var oldOnClick;

		options = options || {};

		/**
		 * Whether a click is currently being tracked.
		 *
		 * @type boolean
		 */
		this.trackingClick = false;


		/**
		 * Timestamp for when click tracking started.
		 *
		 * @type number
		 */
		this.trackingClickStart = 0;


		/**
		 * The element being tracked for a click.
		 *
		 * @type EventTarget
		 */
		this.targetElement = null;


		/**
		 * X-coordinate of touch start event.
		 *
		 * @type number
		 */
		this.touchStartX = 0;


		/**
		 * Y-coordinate of touch start event.
		 *
		 * @type number
		 */
		this.touchStartY = 0;


		/**
		 * ID of the last touch, retrieved from Touch.identifier.
		 *
		 * @type number
		 */
		this.lastTouchIdentifier = 0;


		/**
		 * Touchmove boundary, beyond which a click will be cancelled.
		 *
		 * @type number
		 */
		this.touchBoundary = options.touchBoundary || 10;


		/**
		 * The FastClick layer.
		 *
		 * @type Element
		 */
		this.layer = layer;

		/**
		 * The minimum time between tap(touchstart and touchend) events
		 *
		 * @type number
		 */
		this.tapDelay = options.tapDelay || 200;

		/**
		 * The maximum time for a tap
		 *
		 * @type number
		 */
		this.tapTimeout = options.tapTimeout || 700;

		if (FastClick.notNeeded(layer)) {
			return;
		}

		// Some old versions of Android don't have Function.prototype.bind
		function bind(method, context) {
			return function() { return method.apply(context, arguments); };
		}


		var methods = ['onMouse', 'onClick', 'onTouchStart', 'onTouchMove', 'onTouchEnd', 'onTouchCancel'];
		var context = this;
		for (var i = 0, l = methods.length; i < l; i++) {
			context[methods[i]] = bind(context[methods[i]], context);
		}

		// Set up event handlers as required
		if (deviceIsAndroid) {
			layer.addEventListener('mouseover', this.onMouse, true);
			layer.addEventListener('mousedown', this.onMouse, true);
			layer.addEventListener('mouseup', this.onMouse, true);
		}

		layer.addEventListener('click', this.onClick, true);
		layer.addEventListener('touchstart', this.onTouchStart, false);
		layer.addEventListener('touchmove', this.onTouchMove, false);
		layer.addEventListener('touchend', this.onTouchEnd, false);
		layer.addEventListener('touchcancel', this.onTouchCancel, false);

		// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
		// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick
		// layer when they are cancelled.
		if (!Event.prototype.stopImmediatePropagation) {
			layer.removeEventListener = function(type, callback, capture) {
				var rmv = Node.prototype.removeEventListener;
				if (type === 'click') {
					rmv.call(layer, type, callback.hijacked || callback, capture);
				} else {
					rmv.call(layer, type, callback, capture);
				}
			};

			layer.addEventListener = function(type, callback, capture) {
				var adv = Node.prototype.addEventListener;
				if (type === 'click') {
					adv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {
						if (!event.propagationStopped) {
							callback(event);
						}
					}), capture);
				} else {
					adv.call(layer, type, callback, capture);
				}
			};
		}

		// If a handler is already declared in the element's onclick attribute, it will be fired before
		// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and
		// adding it as listener.
		if (typeof layer.onclick === 'function') {

			// Android browser on at least 3.2 requires a new reference to the function in layer.onclick
			// - the old one won't work if passed to addEventListener directly.
			oldOnClick = layer.onclick;
			layer.addEventListener('click', function(event) {
				oldOnClick(event);
			}, false);
			layer.onclick = null;
		}
	}

	/**
	* Windows Phone 8.1 fakes user agent string to look like Android and iPhone.
	*
	* @type boolean
	*/
	var deviceIsWindowsPhone = navigator.userAgent.indexOf("Windows Phone") >= 0;

	/**
	 * Android requires exceptions.
	 *
	 * @type boolean
	 */
	var deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0 && !deviceIsWindowsPhone;


	/**
	 * iOS requires exceptions.
	 *
	 * @type boolean
	 */
	var deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) && !deviceIsWindowsPhone;


	/**
	 * iOS 4 requires an exception for select elements.
	 *
	 * @type boolean
	 */
	var deviceIsIOS4 = deviceIsIOS && (/OS 4_\d(_\d)?/).test(navigator.userAgent);


	/**
	 * iOS 6.0-7.* requires the target element to be manually derived
	 *
	 * @type boolean
	 */
	var deviceIsIOSWithBadTarget = deviceIsIOS && (/OS [6-7]_\d/).test(navigator.userAgent);

	/**
	 * BlackBerry requires exceptions.
	 *
	 * @type boolean
	 */
	var deviceIsBlackBerry10 = navigator.userAgent.indexOf('BB10') > 0;

	/**
	 * Determine whether a given element requires a native click.
	 *
	 * @param {EventTarget|Element} target Target DOM element
	 * @returns {boolean} Returns true if the element needs a native click
	 */
	FastClick.prototype.needsClick = function(target) {
		switch (target.nodeName.toLowerCase()) {

		// Don't send a synthetic click to disabled inputs (issue #62)
		case 'button':
		case 'select':
		case 'textarea':
			if (target.disabled) {
				return true;
			}

			break;
		case 'input':

			// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)
			if ((deviceIsIOS && target.type === 'file') || target.disabled) {
				return true;
			}

			break;
		case 'label':
		case 'iframe': // iOS8 homescreen apps can prevent events bubbling into frames
		case 'video':
			return true;
		}

		return (/\bneedsclick\b/).test(target.className);
	};


	/**
	 * Determine whether a given element requires a call to focus to simulate click into element.
	 *
	 * @param {EventTarget|Element} target Target DOM element
	 * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.
	 */
	FastClick.prototype.needsFocus = function(target) {
		switch (target.nodeName.toLowerCase()) {
		case 'textarea':
			return true;
		case 'select':
			return !deviceIsAndroid;
		case 'input':
			switch (target.type) {
			case 'button':
			case 'checkbox':
			case 'file':
			case 'image':
			case 'radio':
			case 'submit':
				return false;
			}

			// No point in attempting to focus disabled inputs
			return !target.disabled && !target.readOnly;
		default:
			return (/\bneedsfocus\b/).test(target.className);
		}
	};


	/**
	 * Send a click event to the specified element.
	 *
	 * @param {EventTarget|Element} targetElement
	 * @param {Event} event
	 */
	FastClick.prototype.sendClick = function(targetElement, event) {
		var clickEvent, touch;

		// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)
		if (document.activeElement && document.activeElement !== targetElement) {
			document.activeElement.blur();
		}

		touch = event.changedTouches[0];

		// Synthesise a click event, with an extra attribute so it can be tracked
		clickEvent = document.createEvent('MouseEvents');
		clickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);
		clickEvent.forwardedTouchEvent = true;
		targetElement.dispatchEvent(clickEvent);
	};

	FastClick.prototype.determineEventType = function(targetElement) {

		//Issue #159: Android Chrome Select Box does not open with a synthetic click event
		if (deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {
			return 'mousedown';
		}

		return 'click';
	};


	/**
	 * @param {EventTarget|Element} targetElement
	 */
	FastClick.prototype.focus = function(targetElement) {
		var length;

		// Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.
		if (deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time' && targetElement.type !== 'month') {
			length = targetElement.value.length;
			targetElement.setSelectionRange(length, length);
		} else {
			targetElement.focus();
		}
	};


	/**
	 * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.
	 *
	 * @param {EventTarget|Element} targetElement
	 */
	FastClick.prototype.updateScrollParent = function(targetElement) {
		var scrollParent, parentElement;

		scrollParent = targetElement.fastClickScrollParent;

		// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the
		// target element was moved to another parent.
		if (!scrollParent || !scrollParent.contains(targetElement)) {
			parentElement = targetElement;
			do {
				if (parentElement.scrollHeight > parentElement.offsetHeight) {
					scrollParent = parentElement;
					targetElement.fastClickScrollParent = parentElement;
					break;
				}

				parentElement = parentElement.parentElement;
			} while (parentElement);
		}

		// Always update the scroll top tracker if possible.
		if (scrollParent) {
			scrollParent.fastClickLastScrollTop = scrollParent.scrollTop;
		}
	};


	/**
	 * @param {EventTarget} targetElement
	 * @returns {Element|EventTarget}
	 */
	FastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {

		// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.
		if (eventTarget.nodeType === Node.TEXT_NODE) {
			return eventTarget.parentNode;
		}

		return eventTarget;
	};


	/**
	 * On touch start, record the position and scroll offset.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onTouchStart = function(event) {
		var targetElement, touch, selection;

		// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).
		if (event.targetTouches.length > 1) {
			return true;
		}

		targetElement = this.getTargetElementFromEventTarget(event.target);
		touch = event.targetTouches[0];

		if (deviceIsIOS) {

			// Only trusted events will deselect text on iOS (issue #49)
			selection = window.getSelection();
			if (selection.rangeCount && !selection.isCollapsed) {
				return true;
			}

			if (!deviceIsIOS4) {

				// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):
				// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched
				// with the same identifier as the touch event that previously triggered the click that triggered the alert.
				// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an
				// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.
				// Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,
				// which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,
				// random integers, it's safe to to continue if the identifier is 0 here.
				if (touch.identifier && touch.identifier === this.lastTouchIdentifier) {
					event.preventDefault();
					return false;
				}

				this.lastTouchIdentifier = touch.identifier;

				// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:
				// 1) the user does a fling scroll on the scrollable layer
				// 2) the user stops the fling scroll with another tap
				// then the event.target of the last 'touchend' event will be the element that was under the user's finger
				// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check
				// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).
				this.updateScrollParent(targetElement);
			}
		}

		this.trackingClick = true;
		this.trackingClickStart = event.timeStamp;
		this.targetElement = targetElement;

		this.touchStartX = touch.pageX;
		this.touchStartY = touch.pageY;

		// Prevent phantom clicks on fast double-tap (issue #36)
		if ((event.timeStamp - this.lastClickTime) < this.tapDelay) {
			event.preventDefault();
		}

		return true;
	};


	/**
	 * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.touchHasMoved = function(event) {
		var touch = event.changedTouches[0], boundary = this.touchBoundary;

		if (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {
			return true;
		}

		return false;
	};


	/**
	 * Update the last position.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onTouchMove = function(event) {
		if (!this.trackingClick) {
			return true;
		}

		// If the touch has moved, cancel the click tracking
		if (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {
			this.trackingClick = false;
			this.targetElement = null;
		}

		return true;
	};


	/**
	 * Attempt to find the labelled control for the given label element.
	 *
	 * @param {EventTarget|HTMLLabelElement} labelElement
	 * @returns {Element|null}
	 */
	FastClick.prototype.findControl = function(labelElement) {

		// Fast path for newer browsers supporting the HTML5 control attribute
		if (labelElement.control !== undefined) {
			return labelElement.control;
		}

		// All browsers under test that support touch events also support the HTML5 htmlFor attribute
		if (labelElement.htmlFor) {
			return document.getElementById(labelElement.htmlFor);
		}

		// If no for attribute exists, attempt to retrieve the first labellable descendant element
		// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label
		return labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');
	};


	/**
	 * On touch end, determine whether to send a click event at once.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onTouchEnd = function(event) {
		var forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;

		if (!this.trackingClick) {
			return true;
		}

		// Prevent phantom clicks on fast double-tap (issue #36)
		if ((event.timeStamp - this.lastClickTime) < this.tapDelay) {
			this.cancelNextClick = true;
			return true;
		}

		if ((event.timeStamp - this.trackingClickStart) > this.tapTimeout) {
			return true;
		}

		// Reset to prevent wrong click cancel on input (issue #156).
		this.cancelNextClick = false;

		this.lastClickTime = event.timeStamp;

		trackingClickStart = this.trackingClickStart;
		this.trackingClick = false;
		this.trackingClickStart = 0;

		// On some iOS devices, the targetElement supplied with the event is invalid if the layer
		// is performing a transition or scroll, and has to be re-detected manually. Note that
		// for this to function correctly, it must be called *after* the event target is checked!
		// See issue #57; also filed as rdar://13048589 .
		if (deviceIsIOSWithBadTarget) {
			touch = event.changedTouches[0];

			// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null
			targetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;
			targetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;
		}

		targetTagName = targetElement.tagName.toLowerCase();
		if (targetTagName === 'label') {
			forElement = this.findControl(targetElement);
			if (forElement) {
				this.focus(targetElement);
				if (deviceIsAndroid) {
					return false;
				}

				targetElement = forElement;
			}
		} else if (this.needsFocus(targetElement)) {

			// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.
			// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).
			if ((event.timeStamp - trackingClickStart) > 100 || (deviceIsIOS && window.top !== window && targetTagName === 'input')) {
				this.targetElement = null;
				return false;
			}

			this.focus(targetElement);
			this.sendClick(targetElement, event);

			// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.
			// Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)
			if (!deviceIsIOS || targetTagName !== 'select') {
				this.targetElement = null;
				event.preventDefault();
			}

			return false;
		}

		if (deviceIsIOS && !deviceIsIOS4) {

			// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled
			// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).
			scrollParent = targetElement.fastClickScrollParent;
			if (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {
				return true;
			}
		}

		// Prevent the actual click from going though - unless the target node is marked as requiring
		// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.
		if (!this.needsClick(targetElement)) {
			event.preventDefault();
			this.sendClick(targetElement, event);
		}

		return false;
	};


	/**
	 * On touch cancel, stop tracking the click.
	 *
	 * @returns {void}
	 */
	FastClick.prototype.onTouchCancel = function() {
		this.trackingClick = false;
		this.targetElement = null;
	};


	/**
	 * Determine mouse events which should be permitted.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onMouse = function(event) {

		// If a target element was never set (because a touch event was never fired) allow the event
		if (!this.targetElement) {
			return true;
		}

		if (event.forwardedTouchEvent) {
			return true;
		}

		// Programmatically generated events targeting a specific element should be permitted
		if (!event.cancelable) {
			return true;
		}

		// Derive and check the target element to see whether the mouse event needs to be permitted;
		// unless explicitly enabled, prevent non-touch click events from triggering actions,
		// to prevent ghost/doubleclicks.
		if (!this.needsClick(this.targetElement) || this.cancelNextClick) {

			// Prevent any user-added listeners declared on FastClick element from being fired.
			if (event.stopImmediatePropagation) {
				event.stopImmediatePropagation();
			} else {

				// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)
				event.propagationStopped = true;
			}

			// Cancel the event
			event.stopPropagation();
			event.preventDefault();

			return false;
		}

		// If the mouse event is permitted, return true for the action to go through.
		return true;
	};


	/**
	 * On actual clicks, determine whether this is a touch-generated click, a click action occurring
	 * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or
	 * an actual click which should be permitted.
	 *
	 * @param {Event} event
	 * @returns {boolean}
	 */
	FastClick.prototype.onClick = function(event) {
		var permitted;

		// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.
		if (this.trackingClick) {
			this.targetElement = null;
			this.trackingClick = false;
			return true;
		}

		// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.
		if (event.target.type === 'submit' && event.detail === 0) {
			return true;
		}

		permitted = this.onMouse(event);

		// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.
		if (!permitted) {
			this.targetElement = null;
		}

		// If clicks are permitted, return true for the action to go through.
		return permitted;
	};


	/**
	 * Remove all FastClick's event listeners.
	 *
	 * @returns {void}
	 */
	FastClick.prototype.destroy = function() {
		var layer = this.layer;

		if (deviceIsAndroid) {
			layer.removeEventListener('mouseover', this.onMouse, true);
			layer.removeEventListener('mousedown', this.onMouse, true);
			layer.removeEventListener('mouseup', this.onMouse, true);
		}

		layer.removeEventListener('click', this.onClick, true);
		layer.removeEventListener('touchstart', this.onTouchStart, false);
		layer.removeEventListener('touchmove', this.onTouchMove, false);
		layer.removeEventListener('touchend', this.onTouchEnd, false);
		layer.removeEventListener('touchcancel', this.onTouchCancel, false);
	};


	/**
	 * Check whether FastClick is needed.
	 *
	 * @param {Element} layer The layer to listen on
	 */
	FastClick.notNeeded = function(layer) {
		var metaViewport;
		var chromeVersion;
		var blackberryVersion;
		var firefoxVersion;

		// Devices that don't support touch don't need FastClick
		if (typeof window.ontouchstart === 'undefined') {
			return true;
		}

		// Chrome version - zero for other browsers
		chromeVersion = +(/Chrome\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];

		if (chromeVersion) {

			if (deviceIsAndroid) {
				metaViewport = document.querySelector('meta[name=viewport]');

				if (metaViewport) {
					// Chrome on Android with user-scalable="no" doesn't need FastClick (issue #89)
					if (metaViewport.content.indexOf('user-scalable=no') !== -1) {
						return true;
					}
					// Chrome 32 and above with width=device-width or less don't need FastClick
					if (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) {
						return true;
					}
				}

			// Chrome desktop doesn't need FastClick (issue #15)
			} else {
				return true;
			}
		}

		if (deviceIsBlackBerry10) {
			blackberryVersion = navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);

			// BlackBerry 10.3+ does not require Fastclick library.
			// https://github.com/ftlabs/fastclick/issues/251
			if (blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3) {
				metaViewport = document.querySelector('meta[name=viewport]');

				if (metaViewport) {
					// user-scalable=no eliminates click delay.
					if (metaViewport.content.indexOf('user-scalable=no') !== -1) {
						return true;
					}
					// width=device-width (or less than device-width) eliminates click delay.
					if (document.documentElement.scrollWidth <= window.outerWidth) {
						return true;
					}
				}
			}
		}

		// IE10 with -ms-touch-action: none or manipulation, which disables double-tap-to-zoom (issue #97)
		if (layer.style.msTouchAction === 'none' || layer.style.touchAction === 'manipulation') {
			return true;
		}

		// Firefox version - zero for other browsers
		firefoxVersion = +(/Firefox\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];

		if (firefoxVersion >= 27) {
			// Firefox 27+ does not have tap delay if the content is not zoomable - https://bugzilla.mozilla.org/show_bug.cgi?id=922896

			metaViewport = document.querySelector('meta[name=viewport]');
			if (metaViewport && (metaViewport.content.indexOf('user-scalable=no') !== -1 || document.documentElement.scrollWidth <= window.outerWidth)) {
				return true;
			}
		}

		// IE11: prefixed -ms-touch-action is no longer supported and it's recomended to use non-prefixed version
		// http://msdn.microsoft.com/en-us/library/windows/apps/Hh767313.aspx
		if (layer.style.touchAction === 'none' || layer.style.touchAction === 'manipulation') {
			return true;
		}

		return false;
	};


	/**
	 * Factory method for creating a FastClick object
	 *
	 * @param {Element} layer The layer to listen on
	 * @param {Object} [options={}] The options to override the defaults
	 */
	FastClick.attach = function(layer, options) {
		return new FastClick(layer, options);
	};


	if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {

		// AMD. Register as an anonymous module.
		define(function() {
			return FastClick;
		});
	} else if (typeof module !== 'undefined' && module.exports) {
		module.exports = FastClick.attach;
		module.exports.FastClick = FastClick;
	} else {
		window.FastClick = FastClick;
	}
}());
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Gd.apply(null,arguments)}function b(a){Gd=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return za(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(0/0);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Id.length>0)for(c in Id)d=Id[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(+b._d),Jd===!1&&(Jd=!0,a.updateOffset(this),Jd=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&q(e,c,!0)>=b-1)break;b--}f++}return null}function u(a){var b=null;if(!Kd[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Hd._abbr,require("./locale/"+a),v(b)}catch(c){}return Kd[a]}function v(a,b){var c;return a&&(c="undefined"==typeof b?x(a):w(a,b),c&&(Hd=c)),Hd._abbr}function w(a,b){return null!==b?(b.abbr=a,Kd[a]||(Kd[a]=new r),Kd[a].set(b),v(a),Kd[a]):(delete Kd[a],null)}function x(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Hd;if(!c(a)){if(b=u(a))return b;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Ld[c]=Ld[c+"s"]=Ld[b]=a}function z(a){return"string"==typeof a?Ld[a]||Ld[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)f(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Pd[a]=e),b&&(Pd[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Pd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Md);for(b=0,c=d.length;c>b;b++)Pd[d[b]]?d[b]=Pd[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Od[b]||(Od[b]=I(b)),Od[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Nd.lastIndex=0;d>=0&&Nd.test(a);)a=a.replace(Nd,c),Nd.lastIndex=0,d-=1;return a}function L(a,b,c){ce[a]="function"==typeof b?b:function(a){return a&&c?c:b}}function M(a,b){return f(ce,a)?ce[a](b._strict,b._locale):new RegExp(N(a))}function N(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)de[a[c]]=d}function P(a,b){O(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function Q(a,b,c){null!=b&&f(de,a)&&de[a](b,c._a,c,a)}function R(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function S(a){return this._months[a.month()]}function T(a){return this._monthsShort[a.month()]}function U(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function V(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),R(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function W(b){return null!=b?(V(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function X(){return R(this.year(),this.month())}function Y(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[fe]<0||c[fe]>11?fe:c[ge]<1||c[ge]>R(c[ee],c[fe])?ge:c[he]<0||c[he]>24||24===c[he]&&(0!==c[ie]||0!==c[je]||0!==c[ke])?he:c[ie]<0||c[ie]>59?ie:c[je]<0||c[je]>59?je:c[ke]<0||c[ke]>999?ke:-1,j(a)._overflowDayOfYear&&(ee>b||b>ge)&&(b=ge),j(a).overflow=b),a}function Z(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function $(a,b){var c=!0,d=a+"\n"+(new Error).stack;return g(function(){return c&&(Z(d),c=!1),b.apply(this,arguments)},b)}function _(a,b){ne[a]||(Z(b),ne[a]=!0)}function aa(a){var b,c,d=a._i,e=oe.exec(d);if(e){for(j(a).iso=!0,b=0,c=pe.length;c>b;b++)if(pe[b][1].exec(d)){a._f=pe[b][0]+(e[6]||" ");break}for(b=0,c=qe.length;c>b;b++)if(qe[b][1].exec(d)){a._f+=qe[b][0];break}d.match(_d)&&(a._f+="Z"),ta(a)}else a._isValid=!1}function ba(b){var c=re.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(aa(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a){return fa(a)?366:365}function fa(a){return a%4===0&&a%100!==0||a%400===0}function ga(){return fa(this.year())}function ha(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Aa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a){return ha(a,this._week.dow,this._week.doy).week}function ja(){return this._week.dow}function ka(){return this._week.doy}function la(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function ma(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function na(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:ea(a-1)+g}}function oa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function pa(a,b,c){return null!=a?a:null!=b?b:c}function qa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ra(a){var b,c,d,e,f=[];if(!a._d){for(d=qa(a),a._w&&null==a._a[ge]&&null==a._a[fe]&&sa(a),a._dayOfYear&&(e=pa(a._a[ee],d[ee]),a._dayOfYear>ea(e)&&(j(a)._overflowDayOfYear=!0),c=da(e,0,a._dayOfYear),a._a[fe]=c.getUTCMonth(),a._a[ge]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[he]&&0===a._a[ie]&&0===a._a[je]&&0===a._a[ke]&&(a._nextDay=!0,a._a[he]=0),a._d=(a._useUTC?da:ca).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[he]=24)}}function sa(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=pa(b.GG,a._a[ee],ha(Aa(),1,4).year),d=pa(b.W,1),e=pa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=pa(b.gg,a._a[ee],ha(Aa(),f,g).year),d=pa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=na(c,d,e,g,f),a._a[ee]=h.year,a._dayOfYear=h.dayOfYear}function ta(b){if(b._f===a.ISO_8601)return void aa(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=K(b._f,b._locale).match(Md)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(M(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Pd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),Q(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[he]<=12&&b._a[he]>0&&(j(b).bigHour=void 0),b._a[he]=ua(b._locale,b._a[he],b._meridiem),ra(b),Y(b)}function ua(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function va(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ta(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function wa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ra(a)}}function xa(a){var b,e=a._i,f=a._f;return a._locale=a._locale||x(a._l),null===e||void 0===f&&""===e?l({nullInput:!0}):("string"==typeof e&&(a._i=e=a._locale.preparse(e)),o(e)?new n(Y(e)):(c(f)?va(a):f?ta(a):d(e)?a._d=e:ya(a),b=new n(Y(a)),b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b))}function ya(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?ba(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ra(b)):"object"==typeof f?wa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function za(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,xa(f)}function Aa(a,b,c,d){return za(a,b,c,d,!1)}function Ba(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Aa();for(d=b[0],e=1;e<b.length;++e)b[e][a](d)&&(d=b[e]);return d}function Ca(){var a=[].slice.call(arguments,0);return Ba("isBefore",a)}function Da(){var a=[].slice.call(arguments,0);return Ba("isAfter",a)}function Ea(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Fa(a){return a instanceof Ea}function Ga(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%60,2)})}function Ha(a){var b=(a||"").match(_d)||[],c=b[b.length-1]||[],d=(c+"").match(we)||["-",0,0],e=+(60*d[1])+p(d[2]);return"+"===d[0]?e:-e}function Ia(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Aa(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Aa(b).local();return c._isUTC?Aa(b).zone(c._offset||0):Aa(b).local()}function Ja(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ka(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ha(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ja(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?$a(this,Va(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ja(this)}function La(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Ma(a){return this.utcOffset(0,a)}function Na(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ja(this),"m")),this}function Oa(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ha(this._i)),this}function Pa(a){return a=a?Aa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Qa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ra(){if(this._a){var a=this._isUTC?h(this._a):Aa(this._a);return this.isValid()&&q(this._a,a.toArray())>0}return!1}function Sa(){return!this._isUTC}function Ta(){return this._isUTC}function Ua(){return this._isUTC&&0===this._offset}function Va(a,b){var c,d,e,g=a,h=null;return Fa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=xe.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[ge])*c,h:p(h[he])*c,m:p(h[ie])*c,s:p(h[je])*c,ms:p(h[ke])*c}):(h=ye.exec(a))?(c="-"===h[1]?-1:1,g={y:Wa(h[2],c),M:Wa(h[3],c),d:Wa(h[4],c),h:Wa(h[5],c),m:Wa(h[6],c),s:Wa(h[7],c),w:Wa(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Ya(Aa(g.from),Aa(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ea(g),Fa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Wa(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Xa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Ya(a,b){var c;return b=Ia(b,a),a.isBefore(b)?c=Xa(a,b):(c=Xa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Za(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(_(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Va(c,d),$a(this,e,a),this}}function $a(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&V(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function _a(a){var b=a||Aa(),c=Ia(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,Aa(b)))}function ab(){return new n(this)}function bb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this>+a):(c=o(a)?+a:+Aa(a),c<+this.clone().startOf(b))}function cb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+a>+this):(c=o(a)?+a:+Aa(a),+this.clone().endOf(b)<c)}function db(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function eb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this===+a):(c=+Aa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function fb(a){return 0>a?Math.ceil(a):Math.floor(a)}function gb(a,b,c){var d,e,f=Ia(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=hb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:fb(e)}function hb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ib(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function lb(a,b){return this.isValid()?Va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mb(a){return this.from(Aa(),a)}function nb(a,b){return this.isValid()?Va({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.to(Aa(),a)}function pb(a){var b;return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function qb(){return this._locale}function rb(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sb(a){return a=z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function tb(){return+this._d-6e4*(this._offset||0)}function ub(){return Math.floor(+this/1e3)}function vb(){return this._offset?new Date(+this):this._d}function wb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xb(){return k(this)}function yb(){return g({},j(this))}function zb(){return j(this).overflow}function Ab(a,b){G(0,[a,a.length],0,b)}function Bb(a,b,c){return ha(Aa([a,11,31+b-c]),b,c).week}function Cb(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Db(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Eb(){return Bb(this.year(),1,4)}function Fb(){var a=this.localeData()._week;return Bb(this.year(),a.dow,a.doy)}function Gb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Ib(a){return this._weekdays[a.day()]}function Jb(a){return this._weekdaysShort[a.day()]}function Kb(a){return this._weekdaysMin[a.day()]}function Lb(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Aa([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Mb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Hb(a,this.localeData()),this.add(a-b,"d")):b}function Nb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ob(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Pb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Qb(a,b){return b._meridiemParse}function Rb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Sb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Tb(a){G(0,[a,3],0,"millisecond")}function Ub(){return this._isUTC?"UTC":""}function Vb(){return this._isUTC?"Coordinated Universal Time":""}function Wb(a){return Aa(1e3*a)}function Xb(){return Aa.apply(null,arguments).parseZone()}function Yb(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function Zb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function $b(){return this._invalidDate}function _b(a){return this._ordinal.replace("%d",a)}function ac(a){return a}function bc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function cc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function dc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ec(a,b,c,d){var e=x(),f=h().set(d,b);return e[c](f,a)}function fc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return ec(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=ec(a,f,c,e);return g}function gc(a,b){return fc(a,b,"months",12,"month")}function hc(a,b){return fc(a,b,"monthsShort",12,"month")}function ic(a,b){return fc(a,b,"weekdays",7,"day")}function jc(a,b){return fc(a,b,"weekdaysShort",7,"day")}function kc(a,b){return fc(a,b,"weekdaysMin",7,"day")}function lc(){var a=this._data;return this._milliseconds=Ue(this._milliseconds),this._days=Ue(this._days),this._months=Ue(this._months),a.milliseconds=Ue(a.milliseconds),a.seconds=Ue(a.seconds),a.minutes=Ue(a.minutes),a.hours=Ue(a.hours),a.months=Ue(a.months),a.years=Ue(a.years),this}function mc(a,b,c,d){var e=Va(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function nc(a,b){return mc(this,a,b,1)}function oc(a,b){return mc(this,a,b,-1)}function pc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1e3,a=fb(d/1e3),g.seconds=a%60,b=fb(a/60),g.minutes=b%60,c=fb(b/60),g.hours=c%24,e+=fb(c/24),h=fb(qc(e)),e-=fb(rc(h)),f+=fb(e/30),e%=30,h+=fb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function qc(a){return 400*a/146097}function rc(a){return 146097*a/400}function sc(a){var b,c,d=this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+12*qc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(rc(this._months/12)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function tc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*p(this._months/12)}function uc(a){return function(){return this.as(a)}}function vc(a){return a=z(a),this[a+"s"]()}function wc(a){return function(){return this._data[a]}}function xc(){return fb(this.days()/7)}function yc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function zc(a,b,c){var d=Va(a).abs(),e=jf(d.as("s")),f=jf(d.as("m")),g=jf(d.as("h")),h=jf(d.as("d")),i=jf(d.as("M")),j=jf(d.as("y")),k=e<kf.s&&["s",e]||1===f&&["m"]||f<kf.m&&["mm",f]||1===g&&["h"]||g<kf.h&&["hh",g]||1===h&&["d"]||h<kf.d&&["dd",h]||1===i&&["M"]||i<kf.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,yc.apply(null,k)}function Ac(a,b){return void 0===kf[a]?!1:void 0===b?kf[a]:(kf[a]=b,!0)}function Bc(a){var b=this.localeData(),c=zc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cc(){var a=lf(this.years()),b=lf(this.months()),c=lf(this.days()),d=lf(this.hours()),e=lf(this.minutes()),f=lf(this.seconds()+this.milliseconds()/1e3),g=this.asSeconds();return g?(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}
//! moment.js locale configuration
//! locale : belarusian (be)
//! author : Dmitry Demidov : https://github.com/demidov91
//! author: Praleska: http://praleska.pro/
//! Author : Menelion Elensle : https://github.com/Oire
function Dc(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function Ec(a,b,c){var d={mm:b?"__":"__",hh:b?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===c?b?"":"":"h"===c?b?"":"":a+" "+Dc(d[c],+a)}function Fc(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Gc(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}
//! moment.js locale configuration
//! locale : breton (br)
//! author : Jean-Baptiste Le Duigou : https://github.com/jbleduigou
function Hc(a,b,c){var d={mm:"munutenn",MM:"miz",dd:"devezh"};return a+" "+Kc(d[c],a)}function Ic(a){switch(Jc(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function Jc(a){return a>9?Jc(a%10):a}function Kc(a,b){return 2===b?Lc(a):a}function Lc(a){var b={m:"v",b:"v",d:"z"};return void 0===b[a.charAt(0)]?a:b[a.charAt(0)]+a.substring(1)}
//! moment.js locale configuration
//! locale : bosnian (bs)
//! author : Nedim Cholich : https://github.com/frontyard
//! based on (hr) translation by Bojan Markovi
function Mc(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function Nc(a){return a>1&&5>a&&1!==~~(a/10)}function Oc(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pr sekund":"pr sekundami";case"m":return b?"minuta":d?"minutu":"minutou";case"mm":return b||d?e+(Nc(a)?"minuty":"minut"):e+"minutami";break;case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(Nc(a)?"hodiny":"hodin"):e+"hodinami";break;case"d":return b||d?"den":"dnem";case"dd":return b||d?e+(Nc(a)?"dny":"dn"):e+"dny";break;case"M":return b||d?"msc":"mscem";case"MM":return b||d?e+(Nc(a)?"msce":"msc"):e+"msci";break;case"y":return b||d?"rok":"rokem";case"yy":return b||d?e+(Nc(a)?"roky":"let"):e+"lety"}}
//! moment.js locale configuration
//! locale : austrian german (de-at)
//! author : lluchs : https://github.com/lluchs
//! author: Menelion Elensle: https://github.com/Oire
//! author : Martin Groller : https://github.com/MadMG
function Pc(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}
//! moment.js locale configuration
//! locale : german (de)
//! author : lluchs : https://github.com/lluchs
//! author: Menelion Elensle: https://github.com/Oire
function Qc(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}
//! moment.js locale configuration
//! locale : estonian (et)
//! author : Henry Kehlmann : https://github.com/madhenry
//! improvements : Illimar Tambek : https://github.com/ragulka
function Rc(a,b,c,d){var e={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[a+" minuti",a+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[a+" tunni",a+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[a+" kuu",a+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[a+" aasta",a+" aastat"]};return b?e[c][2]?e[c][2]:e[c][1]:d?e[c][0]:e[c][1]}function Sc(a,b,c,d){var e="";switch(c){case"s":return d?"muutaman sekunnin":"muutama sekunti";case"m":return d?"minuutin":"minuutti";case"mm":e=d?"minuutin":"minuuttia";break;case"h":return d?"tunnin":"tunti";case"hh":e=d?"tunnin":"tuntia";break;case"d":return d?"pivn":"piv";case"dd":e=d?"pivn":"piv";break;case"M":return d?"kuukauden":"kuukausi";case"MM":e=d?"kuukauden":"kuukautta";break;case"y":return d?"vuoden":"vuosi";case"yy":e=d?"vuoden":"vuotta"}return e=Tc(a,d)+" "+e}function Tc(a,b){return 10>a?b?If[a]:Hf[a]:a}
//! moment.js locale configuration
//! locale : hrvatski (hr)
//! author : Bojan Markovi : https://github.com/bmarkovic
function Uc(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function Vc(a,b,c,d){var e=a;switch(c){case"s":return d||b?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" ra":" rja");case"hh":return e+(d||b?" ra":" rja");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hnap":" hnapja");case"MM":return e+(d||b?" hnap":" hnapja");case"y":return"egy"+(d||b?" v":" ve");case"yy":return e+(d||b?" v":" ve")}return""}function Wc(a){return(a?"":"[mlt] ")+"["+Nf[this.day()]+"] LT[-kor]"}
//! moment.js locale configuration
//! locale : Armenian (hy-am)
//! author : Armendarabyan : https://github.com/armendarabyan
function Xc(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Yc(a,b){var c="___________".split("_");return c[a.month()]}function Zc(a,b){var c="______".split("_");return c[a.day()]}
//! moment.js locale configuration
//! locale : icelandic (is)
//! author : Hinrik rn Sigursson : https://github.com/hinrik
function $c(a){return a%100===11?!0:a%10===1?!1:!0}function _c(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nokkrar sekndur":"nokkrum sekndum";case"m":return b?"mnta":"mntu";case"mm":return $c(a)?e+(b||d?"mntur":"mntum"):b?e+"mnta":e+"mntu";case"hh":return $c(a)?e+(b||d?"klukkustundir":"klukkustundum"):e+"klukkustund";case"d":return b?"dagur":d?"dag":"degi";case"dd":return $c(a)?b?e+"dagar":e+(d?"daga":"dgum"):b?e+"dagur":e+(d?"dag":"degi");case"M":return b?"mnuur":d?"mnu":"mnui";case"MM":return $c(a)?b?e+"mnuir":e+(d?"mnui":"mnuum"):b?e+"mnuur":e+(d?"mnu":"mnui");case"y":return b||d?"r":"ri";case"yy":return $c(a)?e+(b||d?"r":"rum"):e+(b||d?"r":"ri")}}
//! moment.js locale configuration
//! locale : Georgian (ka)
//! author : Irakli Janiashvili : https://github.com/irakli-janiashvili
function ad(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD] *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function bd(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/(|)/.test(b)?"accusative":"nominative";return c[d][a.day()]}
//! moment.js locale configuration
//! locale : Luxembourgish (lb)
//! author : mweimerskirch : https://github.com/mweimerskirch, David Raison : https://github.com/kwisatz
function cd(a,b,c,d){var e={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return b?e[c][0]:e[c][1]}function dd(a){var b=a.substr(0,a.indexOf(" "));return fd(b)?"a "+a:"an "+a}function ed(a){var b=a.substr(0,a.indexOf(" "));return fd(b)?"viru "+a:"virun "+a}function fd(a){if(a=parseInt(a,10),isNaN(a))return!1;if(0>a)return!0;if(10>a)return a>=4&&7>=a?!0:!1;if(100>a){var b=a%10,c=a/10;return fd(0===b?c:b)}if(1e4>a){for(;a>=10;)a/=10;return fd(a)}return a/=1e3,fd(a)}function gd(a,b,c,d){return b?"kelios sekunds":d?"keli sekundi":"kelias sekundes"}function hd(a,b,c,d){return b?jd(c)[0]:d?jd(c)[1]:jd(c)[2]}function id(a){return a%10===0||a>10&&20>a}function jd(a){return Of[a].split("_")}function kd(a,b,c,d){var e=a+" ";return 1===a?e+hd(a,b,c[0],d):b?e+(id(a)?jd(c)[1]:jd(c)[0]):d?e+jd(c)[1]:e+(id(a)?jd(c)[1]:jd(c)[2])}function ld(a,b){var c=-1===b.indexOf("dddd HH:mm"),d=Pf[a.day()];return c?d:d.substring(0,d.length-2)+""}function md(a,b,c){return c?b%10===1&&11!==b?a[2]:a[3]:b%10===1&&11!==b?a[0]:a[1]}function nd(a,b,c){return a+" "+md(Qf[c],a,b)}function od(a,b,c){return md(Qf[c],a,b)}function pd(a,b){return b?"daas sekundes":"dam sekundm"}function qd(a){return 5>a%10&&a%10>1&&~~(a/10)%10!==1}function rd(a,b,c){var d=a+" ";switch(c){case"m":return b?"minuta":"minut";case"mm":return d+(qd(a)?"minuty":"minut");case"h":return b?"godzina":"godzin";case"hh":return d+(qd(a)?"godziny":"godzin");case"MM":return d+(qd(a)?"miesice":"miesicy");case"yy":return d+(qd(a)?"lata":"lat")}}
//! moment.js locale configuration
//! locale : romanian (ro)
//! author : Vlad Gurdiga : https://github.com/gurdiga
//! author : Valentin Agachi : https://github.com/avaly
function sd(a,b,c){var d={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},e=" ";return(a%100>=20||a>=100&&a%100===0)&&(e=" de "),a+e+d[c]}
//! moment.js locale configuration
//! locale : russian (ru)
//! author : Viktorminator : https://github.com/Viktorminator
//! Author : Menelion Elensle : https://github.com/Oire
function td(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function ud(a,b,c){var d={mm:b?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===c?b?"":"":a+" "+td(d[c],+a)}function vd(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function wd(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function xd(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_")},d=/\[ ?[] ?(?:||)? ?\] ?dddd/.test(b)?"accusative":"nominative";return c[d][a.day()]}function yd(a){return a>1&&5>a}function zd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pr seknd":"pr sekundami";case"m":return b?"minta":d?"mintu":"mintou";case"mm":return b||d?e+(yd(a)?"minty":"mint"):e+"mintami";break;case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(yd(a)?"hodiny":"hodn"):e+"hodinami";break;case"d":return b||d?"de":"dom";case"dd":return b||d?e+(yd(a)?"dni":"dn"):e+"dami";break;case"M":return b||d?"mesiac":"mesiacom";case"MM":return b||d?e+(yd(a)?"mesiace":"mesiacov"):e+"mesiacmi";break;case"y":return b||d?"rok":"rokom";case"yy":return b||d?e+(yd(a)?"roky":"rokov"):e+"rokmi"}}
//! moment.js locale configuration
//! locale : slovenian (sl)
//! author : Robert Sedovek : https://github.com/sedovsek
function Ad(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nekaj sekund":"nekaj sekundami";case"m":return b?"ena minuta":"eno minuto";case"mm":return e+=1===a?b?"minuta":"minuto":2===a?b||d?"minuti":"minutama":5>a?b||d?"minute":"minutami":b||d?"minut":"minutami";case"h":return b?"ena ura":"eno uro";case"hh":return e+=1===a?b?"ura":"uro":2===a?b||d?"uri":"urama":5>a?b||d?"ure":"urami":b||d?"ur":"urami";case"d":return b||d?"en dan":"enim dnem";case"dd":return e+=1===a?b||d?"dan":"dnem":2===a?b||d?"dni":"dnevoma":b||d?"dni":"dnevi";case"M":return b||d?"en mesec":"enim mesecem";case"MM":return e+=1===a?b||d?"mesec":"mesecem":2===a?b||d?"meseca":"mesecema":5>a?b||d?"mesece":"meseci":b||d?"mesecev":"meseci";case"y":return b||d?"eno leto":"enim letom";case"yy":return e+=1===a?b||d?"leto":"letom":2===a?b||d?"leti":"letoma":5>a?b||d?"leta":"leti":b||d?"let":"leti"}}
//! moment.js locale configuration
//! locale : ukrainian (uk)
//! author : zemlanin : https://github.com/zemlanin
//! Author : Menelion Elensle : https://github.com/Oire
function Bd(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?c[1]:c[2]}function Cd(a,b,c){var d={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===c?b?"":"":"h"===c?b?"":"":a+" "+Bd(d[c],+a)}function Dd(a,b){var c={nominative:"___________".split("_"),accusative:"___________".split("_")},d=/D[oD]? *MMMM?/.test(b)?"accusative":"nominative";return c[d][a.month()]}function Ed(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},d=/(\[[]\]) ?dddd/.test(b)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(b)?"genitive":"nominative";return c[d][a.day()]}function Fd(a){return function(){return a+""+(11===this.hours()?"":"")+"] LT"}}var Gd,Hd,Id=a.momentProperties=[],Jd=!1,Kd={},Ld={},Md=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Nd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Od={},Pd={},Qd=/\d/,Rd=/\d\d/,Sd=/\d{3}/,Td=/\d{4}/,Ud=/[+-]?\d{6}/,Vd=/\d\d?/,Wd=/\d{1,3}/,Xd=/\d{1,4}/,Yd=/[+-]?\d{1,6}/,Zd=/\d+/,$d=/[+-]?\d+/,_d=/Z|[+-]\d\d:?\d\d/gi,ae=/[+-]?\d+(\.\d{1,3})?/,be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ce={},de={},ee=0,fe=1,ge=2,he=3,ie=4,je=5,ke=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),L("M",Vd),L("MM",Vd,Rd),L("MMM",be),L("MMMM",be),O(["M","MM"],function(a,b){b[fe]=p(a)-1}),O(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[fe]=e:j(c).invalidMonth=a});var le="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),me="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ne={};a.suppressDeprecationWarnings=!1;var oe=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],qe=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],re=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),L("Y",$d),L("YY",Vd,Rd),L("YYYY",Xd,Td),L("YYYYY",Yd,Ud),L("YYYYYY",Yd,Ud),O(["YYYY","YYYYY","YYYYYY"],ee),O("YY",function(b,c){c[ee]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2e3)};var se=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),y("week","w"),y("isoWeek","W"),L("w",Vd),L("ww",Vd,Rd),L("W",Vd),L("WW",Vd,Rd),P(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var te={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),L("DDD",Wd),L("DDDD",Sd),O(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var ue=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return this>a?this:a}),ve=$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return a>this?this:a});Ga("Z",":"),Ga("ZZ",""),L("Z",_d),L("ZZ",_d),O(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ha(a)});var we=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var xe=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,ye=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Va.fn=Ea.prototype;var ze=Za(1,"add"),Ae=Za(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Be=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ab("gggg","weekYear"),Ab("ggggg","weekYear"),Ab("GGGG","isoWeekYear"),Ab("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),L("G",$d),L("g",$d),L("GG",Vd,Rd),L("gg",Vd,Rd),L("GGGG",Xd,Td),L("gggg",Xd,Td),L("GGGGG",Yd,Ud),L("ggggg",Yd,Ud),P(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),P(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),L("Q",Qd),O("Q",function(a,b){b[fe]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),L("D",Vd),L("DD",Vd,Rd),L("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),O(["D","DD"],ge),O("Do",function(a,b){b[ge]=p(a.match(Vd)[0],10)});var Ce=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),L("d",Vd),L("e",Vd),L("E",Vd),L("dd",be),L("ddd",be),L("dddd",be),P(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),P(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var De="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ee="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fe="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Pb("a",!0),Pb("A",!1),y("hour","h"),L("a",Qb),L("A",Qb),L("H",Vd),L("h",Vd),L("HH",Vd,Rd),L("hh",Vd,Rd),O(["H","HH"],he),O(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),O(["h","hh"],function(a,b,c){b[he]=p(a),j(c).bigHour=!0});var Ge=/[ap]\.?m?\.?/i,He=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),L("m",Vd),L("mm",Vd,Rd),O(["m","mm"],ie);var Ie=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),L("s",Vd),L("ss",Vd,Rd),O(["s","ss"],je);var Je=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Tb("SSS"),Tb("SSSS"),y("millisecond","ms"),L("S",Wd,Qd),L("SS",Wd,Rd),L("SSS",Wd,Sd),L("SSSS",Zd),O(["S","SS","SSS","SSSS"],function(a,b){b[ke]=p(1e3*("0."+a))});var Ke=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Le=n.prototype;Le.add=ze,Le.calendar=_a,Le.clone=ab,Le.diff=gb,Le.endOf=sb,Le.format=kb,Le.from=lb,Le.fromNow=mb,Le.to=nb,Le.toNow=ob,Le.get=E,Le.invalidAt=zb,Le.isAfter=bb,Le.isBefore=cb,Le.isBetween=db,Le.isSame=eb,Le.isValid=xb,Le.lang=Be,Le.locale=pb,Le.localeData=qb,Le.max=ve,Le.min=ue,Le.parsingFlags=yb,Le.set=E,Le.startOf=rb,Le.subtract=Ae,Le.toArray=wb,Le.toDate=vb,Le.toISOString=jb,Le.toJSON=jb,Le.toString=ib,Le.unix=ub,Le.valueOf=tb,Le.year=se,Le.isLeapYear=ga,Le.weekYear=Cb,Le.isoWeekYear=Db,Le.quarter=Le.quarters=Gb,Le.month=W,Le.daysInMonth=X,Le.week=Le.weeks=la,Le.isoWeek=Le.isoWeeks=ma,Le.weeksInYear=Fb,Le.isoWeeksInYear=Eb,Le.date=Ce,Le.day=Le.days=Mb,Le.weekday=Nb,Le.isoWeekday=Ob,Le.dayOfYear=oa,Le.hour=Le.hours=He,Le.minute=Le.minutes=Ie,Le.second=Le.seconds=Je,Le.millisecond=Le.milliseconds=Ke,Le.utcOffset=Ka,Le.utc=Ma,Le.local=Na,Le.parseZone=Oa,Le.hasAlignedHourOffset=Pa,Le.isDST=Qa,Le.isDSTShifted=Ra,Le.isLocal=Sa,Le.isUtcOffset=Ta,Le.isUtc=Ua,Le.isUTC=Ua,Le.zoneAbbr=Ub,Le.zoneName=Vb,Le.dates=$("dates accessor is deprecated. Use date instead.",Ce),Le.months=$("months accessor is deprecated. Use month instead",W),Le.years=$("years accessor is deprecated. Use year instead",se),Le.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",La);var Me=Le,Ne={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Oe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Pe="Invalid date",Qe="%d",Re=/\d{1,2}/,Se={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Te=r.prototype;Te._calendar=Ne,Te.calendar=Yb,Te._longDateFormat=Oe,Te.longDateFormat=Zb,Te._invalidDate=Pe,Te.invalidDate=$b,Te._ordinal=Qe,Te.ordinal=_b,Te._ordinalParse=Re,Te.preparse=ac,Te.postformat=ac,Te._relativeTime=Se,Te.relativeTime=bc,Te.pastFuture=cc,Te.set=dc,Te.months=S,Te._months=le,Te.monthsShort=T,Te._monthsShort=me,Te.monthsParse=U,Te.week=ia,Te._week=te,Te.firstDayOfYear=ka,Te.firstDayOfWeek=ja,Te.weekdays=Ib,Te._weekdays=De,Te.weekdaysMin=Kb,Te._weekdaysMin=Fe,Te.weekdaysShort=Jb,Te._weekdaysShort=Ee,Te.weekdaysParse=Lb,Te.isPM=Rb,Te._meridiemParse=Ge,Te.meridiem=Sb,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=$("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=$("moment.langData is deprecated. Use moment.localeData instead.",x);var Ue=Math.abs,Ve=uc("ms"),We=uc("s"),Xe=uc("m"),Ye=uc("h"),Ze=uc("d"),$e=uc("w"),_e=uc("M"),af=uc("y"),bf=wc("milliseconds"),cf=wc("seconds"),df=wc("minutes"),ef=wc("hours"),ff=wc("days"),gf=wc("months"),hf=wc("years"),jf=Math.round,kf={s:45,m:45,h:22,d:26,M:11},lf=Math.abs,mf=Ea.prototype;mf.abs=lc,mf.add=nc,mf.subtract=oc,mf.as=sc,mf.asMilliseconds=Ve,mf.asSeconds=We,mf.asMinutes=Xe,mf.asHours=Ye,mf.asDays=Ze,mf.asWeeks=$e,mf.asMonths=_e,mf.asYears=af,mf.valueOf=tc,mf._bubble=pc,mf.get=vc,mf.milliseconds=bf,mf.seconds=cf,mf.minutes=df,mf.hours=ef,mf.days=ff,mf.weeks=xc,mf.months=gf,mf.years=hf,mf.humanize=Bc,mf.toISOString=Cc,mf.toString=Cc,mf.toJSON=Cc,mf.locale=pb,mf.localeData=qb,mf.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cc),mf.lang=Be,G("X",0,0,"unix"),G("x",0,0,"valueOf"),L("x",$d),L("X",ae),O("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),O("x",function(a,b,c){c._d=new Date(p(a))}),
//! moment.js
//! version : 2.10.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
a.version="2.10.3",b(Aa),a.fn=Me,a.min=Ca,a.max=Da,a.utc=h,a.unix=Wb,a.months=gc,a.isDate=d,a.locale=v,a.invalid=l,a.duration=Va,a.isMoment=o,a.weekdays=ic,a.parseZone=Xb,a.localeData=x,a.isDuration=Fa,a.monthsShort=hc,a.weekdaysMin=kc,a.defineLocale=w,a.weekdaysShort=jc,a.normalizeUnits=z,a.relativeTimeThreshold=Ac;var nf=a,of=(nf.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(a){return/^nm$/i.test(a)},meridiem:function(a,b,c){return 12>a?c?"vm":"VM":c?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),nf.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),pf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},qf=(nf.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return pf[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return of[a]}).replace(/,/g,"")},week:{dow:6,doy:12}}),nf.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),rf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},sf=function(a){return 0===a?0:1===a?1:2===a?2:a%100>=3&&10>=a%100?3:a%100>=11?4:5},tf={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},uf=function(a){return function(b,c,d,e){var f=sf(b),g=tf[a][sf(b)];return 2===f&&(g=g[c?0:1]),g.replace(/%d/i,b)}},vf=["  "," "," "," "," "," "," "," "," ","  ","  ","  "],wf=(nf.defineLocale("ar",{months:vf,monthsShort:vf,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:uf("s"),m:uf("m"),mm:uf("m"),h:uf("h"),hh:uf("h"),d:uf("d"),dd:uf("d"),M:uf("M"),MM:uf("M"),y:uf("y"),yy:uf("y")},preparse:function(a){return a.replace(/\u200f/g,"").replace(/[]/g,function(a){return rf[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return qf[a]}).replace(/,/g,"")},week:{dow:6,doy:12}}),{1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"}),xf=(nf.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(a){return/^(gndz|axam)$/.test(a)},meridiem:function(a,b,c){return 4>a?"gec":12>a?"shr":17>a?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(a){if(0===a)return a+"-nc";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(wf[b]||wf[c]||wf[d])},week:{dow:1,doy:7}}),nf.defineLocale("be",{months:Fc,monthsShort:"___________".split("_"),weekdays:Gc,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:Ec,mm:Ec,h:Ec,hh:Ec,d:"",dd:Ec,M:"",MM:Ec,y:"",yy:Ec},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":12>a?"":17>a?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a%10!==2&&a%10!==3||a%100===12||a%100===13?a+"-":a+"-";case"D":return a+"-";default:return a}},week:{dow:1,doy:7}}),nf.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-":0===c?a+"-":c>10&&20>c?a+"-":1===b?a+"-":2===b?a+"-":7===b||8===b?a+"-":a+"-"},week:{dow:1,doy:7}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),yf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},zf=(nf.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return yf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return xf[a]})},meridiemParse:/||||/,isPM:function(a){return/^(||)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Af={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Bf=(nf.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Af[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return zf[a]})},meridiemParse:/||||/,isPM:function(a){return/^(||)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}}),nf.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:Hc,h:"un eur",hh:"%d eur",d:"un devezh",dd:Hc,M:"ur miz",MM:Hc,y:"ur bloaz",yy:Ic},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(a){var b=1===a?"a":"vet";return a+b},week:{dow:1,doy:4}}),nf.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Mc,mm:Mc,h:Mc,hh:Mc,d:"dan",dd:Mc,M:"mjesec",MM:Mc,y:"godinu",yy:Mc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),nf.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(a,b){var c=1===a?"r":2===a?"n":3===a?"r":4===a?"t":"";return("w"===b||"W"===b)&&(c="a"),a+c},week:{dow:1,doy:4}}),"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_")),Cf="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),Df=(nf.defineLocale("cs",{months:Bf,monthsShort:Cf,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(Bf,Cf),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:Oc,m:Oc,mm:Oc,h:Oc,hh:Oc,d:Oc,dd:Oc,M:Oc,MM:Oc,y:Oc,yy:Oc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], LT",LLLL:"dddd, YYYY [] MMMM [] D[-], LT"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(a){var b=/$/i.exec(a)?"":/$/i.exec(a)?"":"";return a+b},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}}),nf.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(a){var b=a,c="",d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return b>20?c=40===b||50===b||60===b||80===b||100===b?"fed":"ain":b>0&&(c=d[b]),a+c},week:{dow:1,doy:4}}),nf.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Pc,mm:"%d Minuten",h:Pc,hh:"%d Stunden",d:Pc,dd:Pc,M:Pc,MM:Pc,y:Pc,yy:Pc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT [Uhr]",sameElse:"L",nextDay:"[Morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[Gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Qc,mm:"%d Minuten",h:Qc,hh:"%d Stunden",d:Qc,dd:Qc,M:Qc,MM:Qc,y:Qc,yy:Qc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(a,b){return/D/.test(b.substring(0,b.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(a,b,c){return a>11?c?"":"":c?"":""},isPM:function(a){return""===(a+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();return"function"==typeof c&&(c=c.apply(b)),c.replace("{}",d%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),nf.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),nf.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),nf.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),nf.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiemParse:/[ap]\.t\.m/i,isPM:function(a){return"p"===a.charAt(0).toLowerCase()},meridiem:function(a,b,c){return a>11?c?"p.t.m.":"P.T.M.":c?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}}),"Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_")),Ef="Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),Ff=(nf.defineLocale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Ef[a.month()]:Df[a.month()]},weekdays:"Domingo_Lunes_Martes_Mircoles_Jueves_Viernes_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mi._Jue._Vie._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),nf.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:Rc,m:Rc,mm:Rc,h:Rc,hh:Rc,d:Rc,dd:"%d peva",M:Rc,MM:Rc,y:Rc,yy:Rc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",
dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Gf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Hf=(nf.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiemParse:/  |  /,isPM:function(a){return/  /.test(a)},meridiem:function(a,b,c){return 12>a?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[-]/g,function(a){return Gf[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return Ff[a]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}}),"nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" ")),If=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",Hf[7],Hf[8],Hf[9]],Jf=(nf.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:Sc,m:Sc,mm:Sc,h:Sc,hh:Sc,d:Sc,dd:Sc,M:Sc,MM:Sc,y:Sc,yy:Sc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(1===a?"er":"")}}),nf.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(1===a?"er":"")},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_")),Kf="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),Lf=(nf.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Kf[a.month()]:Jf[a.month()]},weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),nf.defineLocale("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){return"uns segundos"===a?"nuns segundos":"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:7}}),nf.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY LT",LLLL:"dddd, D []MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(a){return 2===a?"":a+" "},d:"",dd:function(a){return 2===a?"":a+" "},M:"",MM:function(a){return 2===a?"":a+" "},y:"",yy:function(a){return 2===a?"":a%10===0&&10!==a?a+" ":a+" "}}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Mf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Nf=(nf.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Mf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Lf[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?4>a?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b?a+12:void 0},meridiem:function(a,b,c){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}}),nf.defineLocale("hr",{months:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Uc,mm:Uc,h:Uc,hh:Uc,d:"dan",dd:Uc,M:"mjesec",MM:Uc,y:"godinu",yy:Uc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),"vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ")),Of=(nf.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiemParse:/de|du/i,isPM:function(a){return"u"===a.charAt(1).toLowerCase()},meridiem:function(a,b,c){return 12>a?c===!0?"de":"DE":c===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Wc.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Wc.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:Vc,m:Vc,mm:Vc,h:Vc,hh:Vc,d:Vc,dd:Vc,M:Vc,MM:Vc,y:Vc,yy:Vc},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),nf.defineLocale("hy-am",{months:Xc,monthsShort:Yc,weekdays:Zc,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a){return 4>a?"":12>a?"":17>a?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(a,b){switch(b){case"DDD":case"w":case"W":case"DDDo":return 1===a?a+"-":a+"-";default:return a}},week:{dow:1,doy:7}}),nf.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"siang"===b?a>=11?a:a+12:"sore"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"siang":19>a?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),nf.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:_c,m:_c,mm:_c,h:"klukkustund",hh:_c,d:_c,dd:_c,M:_c,MM:_c,y:_c,yy:_c},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),nf.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"LTs",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDLT",LLLL:"YYYYMDLT dddd"},meridiemParse:/|/i,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}}),nf.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(a,b){return 12===a&&(a=0),"enjing"===b?a:"siyang"===b?a>=11?a:a+12:"sonten"===b||"ndalu"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"enjing":15>a?"siyang":19>a?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),nf.defineLocale("ka",{months:ad,monthsShort:"___________".split("_"),weekdays:bd,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(a){return/(|||)/.test(a)?a.replace(/$/,""):a+""},past:function(a){return/(||||)/.test(a)?a.replace(/(|)$/," ")://.test(a)?a.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(a){return 0===a?a:1===a?a+"-":20>a||100>=a&&a%20===0||a%100===0?"-"+a:a+"-"},week:{dow:1,doy:7}}),nf.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}}),nf.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"YYYY MMMM D dddd LT"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""}}),nf.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:dd,past:ed,s:"e puer Sekonnen",m:cd,mm:"%d Minutten",h:cd,hh:"%d Stonnen",d:cd,dd:"%d Deeg",M:cd,MM:"%d Mint",y:cd,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"}),Pf="sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),Qf=(nf.defineLocale("lt",{months:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:ld,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:gd,m:hd,mm:kd,h:hd,hh:kd,d:hd,dd:kd,M:hd,MM:kd,y:hd,yy:kd},ordinalParse:/\d{1,2}-oji/,ordinal:function(a){return a+"-oji"},week:{dow:1,doy:4}}),{m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")}),Rf=(nf.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:pd,m:od,mm:nd,h:od,hh:nd,d:od,dd:nd,M:od,MM:nd,y:od,yy:nd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=Rf.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+Rf.correctGrammaticalCase(a,d)}}),Sf=(nf.defineLocale("me",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedjelja","ponedjeljak","utorak","srijeda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sri.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var a=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:Rf.translate,mm:Rf.translate,h:Rf.translate,hh:Rf.translate,d:"dan",dd:Rf.translate,M:"mjesec",MM:Rf.translate,y:"godinu",yy:Rf.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),nf.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-":0===c?a+"-":c>10&&20>c?a+"-":1===b?a+"-":2===b?a+"-":7===b||8===b?a+"-":a+"-"},week:{dow:1,doy:7}}),nf.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,isPM:function(a){return/^( ||)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":12>a?"":17>a?" ":20>a?"":""}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Tf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Uf=(nf.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Tf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Sf[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?4>a?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b?a+12:void 0},meridiem:function(a,b,c){return 4>a?"":10>a?"":17>a?"":20>a?"":""},week:{dow:0,doy:6}}),nf.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"LT.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return 11>a?"pagi":15>a?"tengahari":19>a?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Vf={"":"1","":"2","":"3","":"4","":"5",
"":"6","":"7","":"8","":"9","":"0"},Wf=(nf.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Vf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Uf[a]})},week:{dow:1,doy:4}}),nf.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tirs_ons_tors_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",LTS:"LT.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""}),Xf={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Yf=(nf.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(a){return a.replace(/[]/g,function(a){return Xf[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Wf[a]})},meridiemParse:/|||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?3>a?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b||""===b?a+12:void 0},meridiem:function(a,b,c){return 3>a?"":10>a?"":15>a?"":18>a?"":20>a?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),Zf="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),$f=(nf.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Zf[a.month()]:Yf[a.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),nf.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),"stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_")),_f="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),ag=(nf.defineLocale("pl",{months:function(a,b){return""===b?"("+_f[a.month()]+"|"+$f[a.month()]+")":/D MMMM/.test(b)?_f[a.month()]:$f[a.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:rd,mm:rd,h:rd,hh:rd,d:"1 dzie",dd:"%d dni",M:"miesic",MM:rd,y:"rok",yy:rd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [s] LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"}),nf.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),nf.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:sd,h:"o or",hh:sd,d:"o zi",dd:sd,M:"o lun",MM:sd,y:"un an",yy:sd},week:{dow:1,doy:7}}),nf.defineLocale("ru",{months:vd,monthsShort:wd,weekdays:xd,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(a){if(a.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:ud,mm:ud,h:"",hh:ud,d:"",dd:ud,M:"",MM:ud,y:"",yy:ud},meridiemParse:/|||/i,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":12>a?"":17>a?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-";case"D":return a+"-";case"w":case"W":return a+"-";default:return a}},week:{dow:1,doy:7}}),nf.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, LT",LLLL:"YYYY MMMM D [] dddd, LTS"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},ordinalParse:/\d{1,2} /,ordinal:function(a){return a+" "},meridiem:function(a,b,c){return a>11?c?"..":" ":c?"..":" "}}),"janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_")),bg="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_"),cg=(nf.defineLocale("sk",{months:ag,monthsShort:bg,monthsParse:function(a,b){var c,d=[];for(c=0;12>c;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(ag,bg),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:zd,m:zd,mm:zd,h:zd,hh:zd,d:zd,dd:zd,M:zd,MM:zd,y:zd,yy:zd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),nf.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:Ad,m:Ad,mm:Ad,h:Ad,hh:Ad,d:Ad,dd:Ad,M:Ad,MM:Ad,y:Ad,yy:Ad},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),nf.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),meridiemParse:/PD|MD/,isPM:function(a){return"M"===a.charAt(0)},meridiem:function(a,b,c){return 12>a?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=cg.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+cg.correctGrammaticalCase(a,d)}}),dg=(nf.defineLocale("sr-cyrl",{months:["","","","","","","","","","","",""],monthsShort:[".",".",".",".","","","",".",".",".",".","."],weekdays:["","","","","","",""],weekdaysShort:[".",".",".",".",".",".","."],weekdaysMin:["","","","","","",""],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var a=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:cg.translate,mm:cg.translate,h:cg.translate,hh:cg.translate,d:"",dd:cg.translate,M:"",MM:cg.translate,y:"",yy:cg.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&4>=a?b[1]:b[2]},translate:function(a,b,c){var d=dg.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+dg.correctGrammaticalCase(a,d)}}),eg=(nf.defineLocale("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","etvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","et.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","e","pe","su"],longDateFormat:{LT:"H:mm",LTS:"LT:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var a=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:dg.translate,mm:dg.translate,h:dg.translate,hh:dg.translate,d:"dan",dd:dg.translate,M:"mesec",MM:dg.translate,y:"godinu",yy:dg.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),nf.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"e":1===b?"a":2===b?"a":"e";return a+c},week:{dow:1,doy:4}}),nf.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(a){return a+""},meridiemParse:/|||||/,meridiem:function(a,b,c){return 2>a?" ":6>a?" ":10>a?" ":14>a?" ":18>a?" ":22>a?" ":" "},meridiemHour:function(a,b){return 12===a&&(a=0),""===b?2>a?a:a+12:""===b||""===b?a:""===b&&a>=10?a:a+12},week:{dow:0,doy:6}}),nf.defineLocale("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",LTS:"LT s ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  LT",LLLL:"dddd D MMMM YYYY  LT"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return 12>a?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),nf.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),{1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"}),fg=(nf.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(a){if(0===a)return a+"'nc";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(eg[b]||eg[c]||eg[d])},week:{dow:1,doy:7}}),nf.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),nf.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),nf.defineLocale("uk",{months:Dd,monthsShort:"___________".split("_"),weekdays:Ed,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:Fd("[ "),nextDay:Fd("[ "),lastDay:Fd("[ "),nextWeek:Fd("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Fd("[] dddd [").call(this);case 1:case 2:case 4:return Fd("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:Cd,mm:Cd,h:"",hh:Cd,d:"",dd:Cd,M:"",MM:Cd,y:"",yy:Cd},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){return 4>a?"":12>a?"":17>a?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-";case"D":return a+"-";default:return a}},week:{dow:1,doy:7}}),nf.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),nf.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY LT",LLLL:"dddd, D MMMM [nm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),nf.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/|||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b||""===b||""===b?a:""===b||""===b?a+12:a>=11?a:a+12},meridiem:function(a,b,c){var d=100*a+b;return 600>d?"":900>d?"":1130>d?"":1230>d?"":1800>d?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var a,b;return a=nf().startOf("week"),b=this.unix()-a.unix()>=604800?"[]":"[]",0===this.minutes()?b+"dddAh":b+"dddAhmm"},lastWeek:function(){var a,b;return a=nf().startOf("week"),b=this.unix()<a.unix()?"[]":"[]",0===this.minutes()?b+"dddAh":b+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}}),nf.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiemParse:/||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b||""===b?a:""===b?a>=11?a:a+12:""===b||""===b?a+12:void 0},meridiem:function(a,b,c){var d=100*a+b;

return 900>d?"":1130>d?"":1230>d?"":1800>d?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}}),nf);return fg});
//! moment-timezone.js
//! version : 0.4.0
//! author : Tim Wood
//! license : MIT
//! github.com/moment/moment-timezone
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["moment"],b):"object"==typeof exports?module.exports=b(require("moment")):b(a.moment)}(this,function(a){"use strict";function b(a){return a>96?a-87:a>64?a-29:a-48}function c(a){var c,d=0,e=a.split("."),f=e[0],g=e[1]||"",h=1,i=0,j=1;for(45===a.charCodeAt(0)&&(d=1,j=-1),d;d<f.length;d++)c=b(f.charCodeAt(d)),i=60*i+c;for(d=0;d<g.length;d++)h/=60,c=b(g.charCodeAt(d)),i+=c*h;return i*j}function d(a){for(var b=0;b<a.length;b++)a[b]=c(a[b])}function e(a,b){for(var c=0;b>c;c++)a[c]=Math.round((a[c-1]||0)+6e4*a[c]);a[b-1]=1/0}function f(a,b){var c,d=[];for(c=0;c<b.length;c++)d[c]=a[b[c]];return d}function g(a){var b=a.split("|"),c=b[2].split(" "),g=b[3].split(""),h=b[4].split(" ");return d(c),d(g),d(h),e(h,g.length),{name:b[0],abbrs:f(b[1].split(" "),g),offsets:f(c,g),untils:h}}function h(a){a&&this._set(g(a))}function i(a){return(a||"").toLowerCase().replace(/\//g,"_")}function j(a){var b,c,d;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=a[b].split("|")[0],d=i(c),v[d]=a[b],x[d]=c}function k(a,b){a=i(a);var c,d=v[a];return d instanceof h?d:"string"==typeof d?(d=new h(d),v[a]=d,d):w[a]&&b!==k&&(c=k(w[a],k))?(d=v[a]=new h,d._set(c),d.name=x[a],d):null}function l(){var a,b=[];for(a in x)x.hasOwnProperty(a)&&(v[a]||v[w[a]])&&x[a]&&b.push(x[a]);return b.sort()}function m(a){var b,c,d,e;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=a[b].split("|"),d=i(c[0]),e=i(c[1]),w[d]=e,x[d]=c[0],w[e]=d,x[e]=c[1]}function n(a){j(a.zones),m(a.links),r.dataVersion=a.version}function o(a){return o.didShowError||(o.didShowError=!0,q("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')")),!!k(a)}function p(a){return!(!a._a||void 0!==a._tzm)}function q(a){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(a)}function r(b){var c=Array.prototype.slice.call(arguments,0,-1),d=arguments[arguments.length-1],e=k(d),f=a.utc.apply(null,c);return e&&!a.isMoment(b)&&p(f)&&f.add(e.parse(f),"minutes"),f.tz(d),f}function s(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}function t(a){return function(){return this._z=null,a.apply(this,arguments)}}if(void 0!==a.tz)return q("Moment Timezone "+a.tz.version+" was already loaded "+(a.tz.dataVersion?"with data from ":"without any data")+a.tz.dataVersion),a;var u="0.4.0",v={},w={},x={},y=a.version.split("."),z=+y[0],A=+y[1];(2>z||2===z&&6>A)&&q("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+a.version+". See momentjs.com"),h.prototype={_set:function(a){this.name=a.name,this.abbrs=a.abbrs,this.untils=a.untils,this.offsets=a.offsets},_index:function(a){var b,c=+a,d=this.untils;for(b=0;b<d.length;b++)if(c<d[b])return b},parse:function(a){var b,c,d,e,f=+a,g=this.offsets,h=this.untils,i=h.length-1;for(e=0;i>e;e++)if(b=g[e],c=g[e+1],d=g[e?e-1:e],c>b&&r.moveAmbiguousForward?b=c:b>d&&r.moveInvalidForward&&(b=d),f<h[e]-6e4*b)return g[e];return g[i]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return this.offsets[this._index(a)]}},r.version=u,r.dataVersion="",r._zones=v,r._links=w,r._names=x,r.add=j,r.link=m,r.load=n,r.zone=k,r.zoneExists=o,r.names=l,r.Zone=h,r.unpack=g,r.unpackBase60=c,r.needsOffset=p,r.moveInvalidForward=!0,r.moveAmbiguousForward=!1;var B=a.fn;a.tz=r,a.defaultZone=null,a.updateOffset=function(b,c){var d,e=a.defaultZone;void 0===b._z&&(e&&p(b)&&!b._isUTC&&(b._d=a.utc(b._a)._d,b.utc().add(e.parse(b),"minutes")),b._z=e),b._z&&(d=b._z.offset(b),Math.abs(d)<16&&(d/=60),void 0!==b.utcOffset?b.utcOffset(-d,c):b.zone(d,c))},B.tz=function(b){return b?(this._z=k(b),this._z?a.updateOffset(this):q("Moment Timezone has no data for "+b+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},B.zoneName=s(B.zoneName),B.zoneAbbr=s(B.zoneAbbr),B.utc=t(B.utc),a.tz.setDefault=function(b){return(2>z||2===z&&9>A)&&q("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+a.version+"."),a.defaultZone=b?k(b):null,a};var C=a.momentProperties;return"[object Array]"===Object.prototype.toString.call(C)?(C.push("_z"),C.push("_a")):C&&(C._z=null),a});
/*! SmartAdmin - v1.5 - 2014-10-16 */!function(a){"function"==typeof define&&define.amd?define(["jquery","moment"],a):a(jQuery,moment)}(function(a,b){function c(a,b){return b.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function d(a,b){var c=b.longDateFormat("L");return c=c.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),a.isRTL?c+=" ddd":c="ddd "+c,c}function e(a){f(Bb,a)}function f(b){function c(c,d){a.isPlainObject(d)&&a.isPlainObject(b[c])&&!g(c)?b[c]=f({},b[c],d):void 0!==d&&(b[c]=d)}for(var d=1;d<arguments.length;d++)a.each(arguments[d],c);return b}function g(a){return/(Time|Duration)$/.test(a)}function h(c,d){function e(a){hb?m()&&(t(),r(a)):g()}function g(){ib=cb.theme?"ui":"fc",c.addClass("fc"),c.addClass(cb.isRTL?"fc-rtl":"fc-ltr"),cb.theme&&c.addClass("ui-widget"),hb=a("<div class='fc-content' />").prependTo(c),fb=new i(ab,cb),gb=fb.render(),gb&&c.prepend(gb),o(cb.defaultView),cb.handleWindowResize&&a(window).resize(v),n()||h()}function h(){setTimeout(function(){!jb.start&&n()&&q()},0)}function k(){jb&&(Z("viewDestroy",jb,jb,jb.element),jb.triggerEventDestroy()),a(window).unbind("resize",v),cb.droppable&&a(document).off("dragstart",$).off("dragstop",_),jb.selectionManagerDestroy&&jb.selectionManagerDestroy(),fb.destroy(),hb.remove(),c.removeClass("fc fc-ltr fc-rtl ui-widget")}function m(){return c.is(":visible")}function n(){return a("body").is(":visible")}function o(a){jb&&a==jb.name||p(a)}function p(b){sb++,jb&&(Z("viewDestroy",jb,jb,jb.element),J(),jb.triggerEventDestroy(),U(),jb.element.remove(),fb.deactivateButton(jb.name)),fb.activateButton(b),jb=new Fb[b](a("<div class='fc-view fc-view-"+b+"' />").appendTo(hb),ab),q(),V(),sb--}function q(a){jb.start&&!a&&mb.isWithin(jb.intervalStart,jb.intervalEnd)||m()&&r(a)}function r(a){sb++,jb.start&&(Z("viewDestroy",jb,jb,jb.element),J(),B()),U(),a&&(mb=jb.incrementDate(mb,a)),jb.render(mb.clone()),u(),V(),(jb.afterRender||A)(),G(),H(),Z("viewRender",jb,jb,jb.element),sb--,C()}function s(){m()&&(J(),B(),t(),u(),z())}function t(){lb=cb.contentHeight?cb.contentHeight:cb.height?cb.height-(gb?gb.height():0)-w(hb):Math.round(hb.width()/Math.max(cb.aspectRatio,.5))}function u(){void 0===lb&&t(),sb++,jb.setHeight(lb),jb.setWidth(hb.width()),sb--,kb=c.outerWidth()}function v(a){if(!sb&&a.target===window)if(jb.start){var b=++rb;setTimeout(function(){b==rb&&!sb&&m()&&kb!=(kb=c.outerWidth())&&(sb++,s(),jb.trigger("windowResize",qb),sb--)},cb.windowResizeDelay)}else h()}function x(){B(),D()}function y(a){B(),z(a)}function z(a){m()&&(jb.renderEvents(tb,a),jb.trigger("eventAfterAllRender"))}function B(){jb.triggerEventDestroy(),jb.clearEvents(),jb.clearEventData()}function C(){!cb.lazyFetching||ob(jb.start,jb.end)?D():z()}function D(){pb(jb.start,jb.end)}function E(a){tb=a,z()}function F(a){y(a)}function G(){fb.updateTitle(jb.title)}function H(){var a=ab.getNow();a.isWithin(jb.intervalStart,jb.intervalEnd)?fb.disableButton("today"):fb.enableButton("today")}function I(a,b){jb.select(a,b)}function J(){jb&&jb.unselect()}function K(){q(-1)}function L(){q(1)}function M(){mb.add("years",-1),q()}function N(){mb.add("years",1),q()}function O(){mb=ab.getNow(),q()}function Q(a){mb=ab.moment(a),q()}function R(a){mb.add(b.duration(a)),q()}function T(){return mb.clone()}function U(){hb.css({"width":"100%","height":hb.height(),"overflow":"hidden"})}function V(){hb.css({"width":"","height":"","overflow":""})}function W(){return ab}function X(){return jb}function Y(a,b){return void 0===b?cb[a]:void(("height"==a||"contentHeight"==a||"aspectRatio"==a)&&(cb[a]=b,s()))}function Z(a,b){return cb[a]?cb[a].apply(b||qb,Array.prototype.slice.call(arguments,2)):void 0}function $(b,c){var d=b.target,e=a(d);if(!e.parents(".fc").length){var f=cb.dropAccept;(a.isFunction(f)?f.call(d,e):e.is(f))&&(nb=d,jb.dragStart(nb,b,c))}}function _(a,b){nb&&(jb.dragStop(nb,a,b),nb=null)}var ab=this;d=d||{};var bb,cb=f({},Bb,d);bb=cb.lang in Cb?Cb[cb.lang]:Cb[Bb.lang],bb&&(cb=f({},Bb,bb,d)),cb.isRTL&&(cb=f({},Bb,Db,bb||{},d)),ab.options=cb,ab.render=e,ab.destroy=k,ab.refetchEvents=x,ab.reportEvents=E,ab.reportEventChange=F,ab.rerenderEvents=y,ab.changeView=o,ab.select=I,ab.unselect=J,ab.prev=K,ab.next=L,ab.prevYear=M,ab.nextYear=N,ab.today=O,ab.gotoDate=Q,ab.incrementDate=R,ab.getDate=T,ab.getCalendar=W,ab.getView=X,ab.option=Y,ab.trigger=Z;var db=l(b.langData(cb.lang));if(cb.monthNames&&(db._months=cb.monthNames),cb.monthNamesShort&&(db._monthsShort=cb.monthNamesShort),cb.dayNames&&(db._weekdays=cb.dayNames),cb.dayNamesShort&&(db._weekdaysShort=cb.dayNamesShort),null!=cb.firstDay){var eb=l(db._week);eb.dow=cb.firstDay,db._week=eb}ab.defaultAllDayEventDuration=b.duration(cb.defaultAllDayEventDuration),ab.defaultTimedEventDuration=b.duration(cb.defaultTimedEventDuration),ab.moment=function(){var a;return"local"===cb.timezone?(a=Eb.moment.apply(null,arguments),a.hasTime()&&a.local()):a="UTC"===cb.timezone?Eb.moment.utc.apply(null,arguments):Eb.moment.parseZone.apply(null,arguments),a._lang=db,a},ab.getIsAmbigTimezone=function(){return"local"!==cb.timezone&&"UTC"!==cb.timezone},ab.rezoneDate=function(a){return ab.moment(a.toArray())},ab.getNow=function(){var a=cb.now;return"function"==typeof a&&(a=a()),ab.moment(a)},ab.calculateWeekNumber=function(a){var b=cb.weekNumberCalculation;return"function"==typeof b?b(a):"local"===b?a.week():"ISO"===b.toUpperCase()?a.isoWeek():void 0},ab.getEventEnd=function(a){return a.end?a.end.clone():ab.getDefaultEventEnd(a.allDay,a.start)},ab.getDefaultEventEnd=function(a,b){var c=b.clone();return a?c.stripTime().add(ab.defaultAllDayEventDuration):c.add(ab.defaultTimedEventDuration),ab.getIsAmbigTimezone()&&c.stripZone(),c},ab.formatRange=function(a,b,c){return"function"==typeof c&&(c=c.call(ab,cb,db)),S(a,b,c,null,cb.isRTL)},ab.formatDate=function(a,b){return"function"==typeof b&&(b=b.call(ab,cb,db)),P(a,b)},j.call(ab,cb);var fb,gb,hb,ib,jb,kb,lb,mb,nb,ob=ab.isFetchNeeded,pb=ab.fetchEvents,qb=c[0],rb=0,sb=0,tb=[];mb=null!=cb.defaultDate?ab.moment(cb.defaultDate):ab.getNow(),cb.droppable&&a(document).on("dragstart",$).on("dragstop",_)}function i(b,c){function d(){m=c.theme?"ui":"fc";var b=c.header;return b?n=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(f("left")).append(f("center")).append(f("right"))):void 0}function e(){n.remove()}function f(d){var e=a("<td class='fc-header-"+d+"'/>"),f=c.header[d];return f&&a.each(f.split(" "),function(d){d>0&&e.append("<span class='fc-header-space'/>");var f;a.each(this.split(","),function(d,g){if("title"==g)e.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),f&&f.addClass(m+"-corner-right"),f=null;else{var h;if(b[g]?h=b[g]:Fb[g]&&(h=function(){o.removeClass(m+"-state-hover"),b.changeView(g)}),h){var i,j=D(c.themeButtonIcons,g),k=D(c.buttonIcons,g),l=D(c.defaultButtonText,g),n=D(c.buttonText,g);i=n?E(n):j&&c.theme?"<span class='ui-icon ui-icon-"+j+"'></span>":k&&!c.theme?"<span class='fc-icon fc-icon-"+k+"'></span>":E(l||g);var o=a("<span class='fc-button fc-button-"+g+" "+m+"-state-default'>"+i+"</span>").click(function(){o.hasClass(m+"-state-disabled")||h()}).mousedown(function(){o.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-down")}).mouseup(function(){o.removeClass(m+"-state-down")}).hover(function(){o.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-hover")},function(){o.removeClass(m+"-state-hover").removeClass(m+"-state-down")}).appendTo(e);G(o),f||o.addClass(m+"-corner-left"),f=o}}}),f&&f.addClass(m+"-corner-right")}),e}function g(a){n.find("h2").html(a)}function h(a){n.find("span.fc-button-"+a).addClass(m+"-state-active")}function i(a){n.find("span.fc-button-"+a).removeClass(m+"-state-active")}function j(a){n.find("span.fc-button-"+a).addClass(m+"-state-disabled")}function k(a){n.find("span.fc-button-"+a).removeClass(m+"-state-disabled")}var l=this;l.render=d,l.destroy=e,l.updateTitle=g,l.activateButton=h,l.deactivateButton=i,l.disableButton=j,l.enableButton=k;var m,n=a([])}function j(b){function c(a,b){return!y||a.clone().stripZone()<y.clone().stripZone()||b.clone().stripZone()>z.clone().stripZone()}function d(a,b){y=a,z=b,L=[];var c=++G,d=F.length;H=d;for(var f=0;d>f;f++)e(F[f],c)}function e(b,c){f(b,function(d){var e,f,g=a.isArray(b.events);if(c==G){if(d)for(e=0;e<d.length;e++)f=d[e],g||(f=u(f,b)),f&&L.push(f);H--,H||C(L)}})}function f(c,d){var e,g,h=Eb.sourceFetchers;for(e=0;e<h.length;e++){if(g=h[e].call(x,c,y.clone(),z.clone(),b.timezone,d),g===!0)return;if("object"==typeof g)return void f(g,d)}var i=c.events;if(i)a.isFunction(i)?(s(),i.call(x,y.clone(),z.clone(),b.timezone,function(a){d(a),t()})):a.isArray(i)?d(i):d();else{var j=c.url;if(j){var k,l=c.success,m=c.error,n=c.complete;k=a.isFunction(c.data)?c.data():c.data;var o=a.extend({},k||{}),p=K(c.startParam,b.startParam),q=K(c.endParam,b.endParam),r=K(c.timezoneParam,b.timezoneParam);p&&(o[p]=y.format()),q&&(o[q]=z.format()),b.timezone&&"local"!=b.timezone&&(o[r]=b.timezone),s(),a.ajax(a.extend({},Gb,c,{"data":o,"success":function(b){b=b||[];var c=J(l,this,arguments);a.isArray(c)&&(b=c),d(b)},"error":function(){J(m,this,arguments),d()},"complete":function(){J(n,this,arguments),t()}}))}else d()}}function g(a){var b=h(a);b&&(F.push(b),H++,e(b,G))}function h(b){var c,d,e=Eb.sourceNormalizers;if(a.isFunction(b)||a.isArray(b)?c={"events":b}:"string"==typeof b?c={"url":b}:"object"==typeof b&&(c=a.extend({},b),"string"==typeof c.className&&(c.className=c.className.split(/\s+/))),c){for(a.isArray(c.events)&&(c.events=a.map(c.events,function(a){return u(a,c)})),d=0;d<e.length;d++)e[d].call(x,c);return c}}function i(b){F=a.grep(F,function(a){return!j(a,b)}),L=a.grep(L,function(a){return!j(a.source,b)}),C(L)}function j(a,b){return a&&b&&l(a)==l(b)}function l(a){return("object"==typeof a?a.events||a.url:"")||a}function m(a){a.start=x.moment(a.start),a.end&&(a.end=x.moment(a.end)),v(a),o(a),C(L)}function o(a){var b,c,d,e;for(b=0;b<L.length;b++)if(c=L[b],c._id==a._id&&c!==a)for(d=0;d<M.length;d++)e=M[d],void 0!==a[e]&&(c[e]=a[e])}function p(a,b){var c=u(a);c&&(c.source||(b&&(E.events.push(c),c.source=E),L.push(c)),C(L))}function q(b){var c,d;for(null==b?b=function(){return!0}:a.isFunction(b)||(c=b+"",b=function(a){return a._id==c}),L=a.grep(L,b,!0),d=0;d<F.length;d++)a.isArray(F[d].events)&&(F[d].events=a.grep(F[d].events,b,!0));C(L)}function r(b){return a.isFunction(b)?a.grep(L,b):null!=b?(b+="",a.grep(L,function(a){return a._id==b})):L}function s(){I++||A("loading",null,!0,B())}function t(){--I||A("loading",null,!1,B())}function u(c,d){var e,f,g,h,i={};return b.eventDataTransform&&(c=b.eventDataTransform(c)),d&&d.eventDataTransform&&(c=d.eventDataTransform(c)),e=x.moment(c.start||c.date),e.isValid()&&(f=null,!c.end||(f=x.moment(c.end),f.isValid()))?(g=c.allDay,void 0===g&&(h=K(d?d.allDayDefault:void 0,b.allDayDefault),g=void 0!==h?h:!(e.hasTime()||f&&f.hasTime())),g?(e.hasTime()&&e.stripTime(),f&&f.hasTime()&&f.stripTime()):(e.hasTime()||(e=x.rezoneDate(e)),f&&!f.hasTime()&&(f=x.rezoneDate(f))),a.extend(i,c),d&&(i.source=d),i._id=c._id||(void 0===c.id?"_fc"+Hb++:c.id+""),i.className=c.className?"string"==typeof c.className?c.className.split(/\s+/):c.className:[],i.allDay=g,i.start=e,i.end=f,b.forceEventDuration&&!i.end&&(i.end=D(i)),k(i),i):void 0}function v(a,b,c){var d,e,f,g,h=a._allDay,i=a._start,j=a._end,k=!1;return b||c||(b=a.start,c=a.end),d=a.allDay!=h?a.allDay:!(b||c).hasTime(),d&&(b&&(b=b.clone().stripTime()),c&&(c=c.clone().stripTime())),b&&(e=d?n(b,i.clone().stripTime()):n(b,i)),d!=h?k=!0:c&&(f=n(c||x.getDefaultEventEnd(d,b||i),b||i).subtract(n(j||x.getDefaultEventEnd(h,i),i))),g=w(r(a._id),k,d,e,f),{"dateDelta":e,"durationDelta":f,"undo":g}}function w(c,d,e,f,g){var h=x.getIsAmbigTimezone(),i=[];return a.each(c,function(a,c){var j=c._allDay,l=c._start,m=c._end,n=null!=e?e:j,o=l.clone(),p=!d&&m?m.clone():null;n?(o.stripTime(),p&&p.stripTime()):(o.hasTime()||(o=x.rezoneDate(o)),p&&!p.hasTime()&&(p=x.rezoneDate(p))),p||!b.forceEventDuration&&!+g||(p=x.getDefaultEventEnd(n,o)),o.add(f),p&&p.add(f).add(g),h&&(+f||+g)&&(o.stripZone(),p&&p.stripZone()),c.allDay=n,c.start=o,c.end=p,k(c),i.push(function(){c.allDay=j,c.start=l,c.end=m,k(c)})}),function(){for(var a=0;a<i.length;a++)i[a]()}}var x=this;x.isFetchNeeded=c,x.fetchEvents=d,x.addEventSource=g,x.removeEventSource=i,x.updateEvent=m,x.renderEvent=p,x.removeEvents=q,x.clientEvents=r,x.mutateEvent=v;var y,z,A=x.trigger,B=x.getView,C=x.reportEvents,D=x.getEventEnd,E={"events":[]},F=[E],G=0,H=0,I=0,L=[];a.each((b.events?[b.events]:[]).concat(b.eventSources||[]),function(a,b){var c=h(b);c&&F.push(c)});var M=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"]}function k(a){a._allDay=a.allDay,a._start=a.start.clone(),a._end=a.end?a.end.clone():null}function l(a){var b=function(){};return b.prototype=a,new b}function m(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}function n(a,c){return b.duration({"days":a.clone().stripTime().diff(c.clone().stripTime(),"days"),"ms":a.time()-c.time()})}function o(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function p(b,c,d){b.unbind("mouseover").mouseover(function(b){for(var e,f,g,h=b.target;h!=this;)e=h,h=h.parentNode;void 0!==(f=e._fci)&&(e._fci=void 0,g=c[f],d(g.event,g.element,g),a(b.target).trigger(b)),b.stopPropagation()})}function q(b,c,d){for(var e,f=0;f<b.length;f++)e=a(b[f]),e.width(Math.max(0,c-s(e,d)))}function r(b,c,d){for(var e,f=0;f<b.length;f++)e=a(b[f]),e.height(Math.max(0,c-w(e,d)))}function s(a,b){return t(a)+v(a)+(b?u(a):0)}function t(b){return(parseFloat(a.css(b[0],"paddingLeft",!0))||0)+(parseFloat(a.css(b[0],"paddingRight",!0))||0)}function u(b){return(parseFloat(a.css(b[0],"marginLeft",!0))||0)+(parseFloat(a.css(b[0],"marginRight",!0))||0)}function v(b){return(parseFloat(a.css(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.css(b[0],"borderRightWidth",!0))||0)}function w(a,b){return x(a)+z(a)+(b?y(a):0)}function x(b){return(parseFloat(a.css(b[0],"paddingTop",!0))||0)+(parseFloat(a.css(b[0],"paddingBottom",!0))||0)}function y(b){return(parseFloat(a.css(b[0],"marginTop",!0))||0)+(parseFloat(a.css(b[0],"marginBottom",!0))||0)}function z(b){return(parseFloat(a.css(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.css(b[0],"borderBottomWidth",!0))||0)}function A(){}function B(a,b){return a-b}function C(a){return Math.max.apply(Math,a)}function D(a,b){if(a=a||{},void 0!==a[b])return a[b];for(var c,d=b.split(/(?=[A-Z])/),e=d.length-1;e>=0;e--)if(c=a[d[e].toLowerCase()],void 0!==c)return c;return a["default"]}function E(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function F(a){return a.replace(/&.*?;/g,"")}function G(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function H(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function I(a,b){var c=a.source||{},d=a.color,e=c.color,f=b("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||f,h=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||f,i=a.textColor||c.textColor||b("eventTextColor"),j=[];return g&&j.push("background-color:"+g),h&&j.push("border-color:"+h),i&&j.push("color:"+i),j.join(";")}function J(b,c,d){if(a.isFunction(b)&&(b=[b]),b){var e,f;for(e=0;e<b.length;e++)f=b[e].apply(c,d)||f;return f}}function K(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]}function L(c,d,e){var f,g,h,i,j=c[0],k=1==c.length&&"string"==typeof j;return b.isMoment(j)?(i=b.apply(null,c),j._ambigTime&&(i._ambigTime=!0),j._ambigZone&&(i._ambigZone=!0)):o(j)||void 0===j?i=b.apply(null,c):(f=!1,g=!1,k?Jb.test(j)?(j+="-01",c=[j],f=!0,g=!0):(h=Kb.exec(j))&&(f=!h[5],g=!0):a.isArray(j)&&(g=!0),i=d?b.utc.apply(b,c):b.apply(null,c),f?(i._ambigTime=!0,i._ambigZone=!0):e&&(g?i._ambigZone=!0:k&&i.zone(j))),new M(i)}function M(a){m(this,a)}function N(a){var b,c=[],d=!1,e=!1;for(b=0;b<a.length;b++)c.push(Eb.moment(a[b])),d=d||c[b]._ambigTime,e=e||c[b]._ambigZone;for(b=0;b<c.length;b++)d?c[b].stripTime():e&&c[b].stripZone();return c}function O(a,c){return b.fn.format.call(a,c)}function P(a,b){return Q(a,V(b))}function Q(a,b){var c,d="";for(c=0;c<b.length;c++)d+=R(a,b[c]);return d}function R(a,b){var c,d;return"string"==typeof b?b:(c=b.token)?Lb[c]?Lb[c](a):O(a,c):b.maybe&&(d=Q(a,b.maybe),d.match(/[1-9]/))?d:""}function S(a,b,c,d,e){return a=Eb.moment.parseZone(a),b=Eb.moment.parseZone(b),c=a.lang().longDateFormat(c)||c,d=d||" - ",T(a,b,V(c),d,e)}function T(a,b,c,d,e){var f,g,h,i,j="",k="",l="",m="",n="";for(g=0;g<c.length&&(f=U(a,b,c[g]),f!==!1);g++)j+=f;for(h=c.length-1;h>g&&(f=U(a,b,c[h]),f!==!1);h--)k=f+k;for(i=g;h>=i;i++)l+=R(a,c[i]),m+=R(b,c[i]);return(l||m)&&(n=e?m+d+l:l+d+m),j+n+k}function U(a,b,c){var d,e;return"string"==typeof c?c:(d=c.token)&&(e=Mb[d.charAt(0)],e&&a.isSame(b,e))?O(a,d):!1}function V(a){return a in Nb?Nb[a]:Nb[a]=W(a)}function W(a){for(var b,c=[],d=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;b=d.exec(a);)b[1]?c.push(b[1]):b[2]?c.push({"maybe":W(b[2])}):b[3]?c.push({"token":b[3]}):b[5]&&c.push(b[5]);return c}function X(a,b){function c(a,b){return a.clone().stripTime().add("months",b).startOf("month")}function d(a){e.intervalStart=a.clone().stripTime().startOf("month"),e.intervalEnd=e.intervalStart.clone().add("months",1),e.start=e.intervalStart.clone(),e.start=e.skipHiddenDays(e.start),e.start.startOf("week"),e.start=e.skipHiddenDays(e.start),e.end=e.intervalEnd.clone(),e.end=e.skipHiddenDays(e.end,-1,!0),e.end.add("days",(7-e.end.weekday())%7),e.end=e.skipHiddenDays(e.end,-1,!0);var c=Math.ceil(e.end.diff(e.start,"weeks",!0));"fixed"==e.opt("weekMode")&&(e.end.add("weeks",6-c),c=6),e.title=b.formatDate(e.intervalStart,e.opt("titleFormat")),e.renderBasic(c,e.getCellsPerWeek(),!0)}var e=this;e.incrementDate=c,e.render=d,$.call(e,a,b,"month")}function Y(a,b){function c(a,b){return a.clone().stripTime().add("weeks",b).startOf("week")}function d(a){e.intervalStart=a.clone().stripTime().startOf("week"),e.intervalEnd=e.intervalStart.clone().add("weeks",1),e.start=e.skipHiddenDays(e.intervalStart),e.end=e.skipHiddenDays(e.intervalEnd,-1,!0),e.title=b.formatRange(e.start,e.end.clone().subtract(1),e.opt("titleFormat")," \u2014 "),e.renderBasic(1,e.getCellsPerWeek(),!1)}var e=this;e.incrementDate=c,e.render=d,$.call(e,a,b,"basicWeek")}function Z(a,b){function c(a,b){var c=a.clone().stripTime().add("days",b);return c=e.skipHiddenDays(c,0>b?-1:1)}function d(a){e.start=e.intervalStart=a.clone().stripTime(),e.end=e.intervalEnd=e.start.clone().add("days",1),e.title=b.formatDate(e.start,e.opt("titleFormat")),e.renderBasic(1,1,!1)}var e=this;e.incrementDate=c,e.render=d,$.call(e,a,b,"basicDay")}function $(b,c,d){function e(a,b,c){X=a,Y=b,Z=c,f(),M||g(),h()}function f(){db=gb("theme")?"ui":"fc",eb=gb("columnFormat"),fb=gb("weekNumbers")}function g(){S=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}function h(){var c=i();J&&J.remove(),J=a(c).appendTo(b),K=J.find("thead"),L=K.find(".fc-day-header"),M=J.find("tbody"),N=M.find("tr"),O=M.find(".fc-day"),P=N.find("td:first-child"),Q=N.eq(0).find(".fc-day > div"),R=N.eq(0).find(".fc-day-content > div"),H(K.add(K.find("tr"))),H(N),N.eq(0).addClass("fc-first"),N.filter(":last").addClass("fc-last"),O.each(function(b,c){var d=lb(Math.floor(b/Y),b%Y);hb("dayRender",I,d,a(c))}),o(O)}function i(){var a="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+j()+k()+"</table>";return a}function j(){var a,b,c=db+"-widget-header",d="";for(d+="<thead><tr>",fb&&(d+="<th class='fc-week-number "+c+"'>"+E(gb("weekNumberTitle"))+"</th>"),a=0;Y>a;a++)b=lb(0,a),d+="<th class='fc-day-header fc-"+Ib[b.day()]+" "+c+"'>"+E(ob(b,eb))+"</th>";return d+="</tr></thead>"}function k(){var a,b,c,d=db+"-widget-content",e="";for(e+="<tbody>",a=0;X>a;a++){for(e+="<tr class='fc-week'>",fb&&(c=lb(a,0),e+="<td class='fc-week-number "+d+"'><div>"+E(pb(c))+"</div></td>"),b=0;Y>b;b++)c=lb(a,b),e+=l(c);e+="</tr>"}return e+="</tbody>"}function l(a){var b=I.intervalStart.month(),d=c.getNow().stripTime(),e="",f=db+"-widget-content",g=["fc-day","fc-"+Ib[a.day()],f];return a.month()!=b&&g.push("fc-other-month"),a.isSame(d,"day")?g.push("fc-today",db+"-state-highlight"):g.push(d>a?"fc-past":"fc-future"),e+="<td class='"+g.join(" ")+"' data-date='"+a.format()+"'><div>",Z&&(e+="<div class='fc-day-number'>"+a.date()+"</div>"),e+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function m(b){U=b;var c,d,e,f=Math.max(U-K.height(),0);"variable"==gb("weekMode")?c=d=Math.floor(f/(1==X?2:6)):(c=Math.floor(f/X),d=f-c*(X-1)),P.each(function(b,f){X>b&&(e=a(f),e.find("> div").css("min-height",(b==X-1?d:c)-w(e)))})}function n(a){T=a,bb.clear(),cb.clear(),W=0,fb&&(W=K.find("th.fc-week-number").outerWidth()),V=Math.floor((T-W)/Y),q(L.slice(0,-1),V)}function o(a){a.click(p).mousedown(kb)}function p(b){if(!gb("selectable")){var d=c.moment(a(this).data("date"));hb("dayClick",this,d,b)}}function r(a,b,c){c&&$.build();for(var d=nb(a,b),e=0;e<d.length;e++){var f=d[e];o(s(f.row,f.leftCol,f.row,f.rightCol))}}function s(a,c,d,e){var f=$.rect(a,c,d,e,b);return ib(f,b)}function t(a){return a.clone().stripTime().add("days",1)}function u(a,b){r(a,b,!0)}function v(){jb()}function x(a,b){var c=mb(a),d=O[c.row*Y+c.col];hb("dayClick",d,a,b)}function y(a,b){ab.start(function(a){if(jb(),a){var b=lb(a),d=b.clone().add(c.defaultAllDayEventDuration);r(b,d)}},b)}function z(a,b,c){var d=ab.stop();jb(),d&&hb("drop",a,lb(d),b,c)}function A(a){return bb.left(a)}function B(a){return bb.right(a)}function C(a){return cb.left(a)}function D(a){return cb.right(a)}function F(a){return N.eq(a)}var I=this;I.renderBasic=e,I.setHeight=m,I.setWidth=n,I.renderDayOverlay=r,I.defaultSelectionEnd=t,I.renderSelection=u,I.clearSelection=v,I.reportDayClick=x,I.dragStart=y,I.dragStop=z,I.getHoverListener=function(){return ab},I.colLeft=A,I.colRight=B,I.colContentLeft=C,I.colContentRight=D,I.getIsCellAllDay=function(){return!0},I.allDayRow=F,I.getRowCnt=function(){return X},I.getColCnt=function(){return Y},I.getColWidth=function(){return V},I.getDaySegmentContainer=function(){return S},qb.call(I,b,c,d),wb.call(I),vb.call(I),_.call(I);var J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,ab,bb,cb,db,eb,fb,gb=I.opt,hb=I.trigger,ib=I.renderOverlay,jb=I.clearOverlays,kb=I.daySelectionMousedown,lb=I.cellToDate,mb=I.dateToCell,nb=I.rangeToSegments,ob=c.formatDate,pb=c.calculateWeekNumber;G(b.addClass("fc-grid")),$=new xb(function(b,c){var d,e,f;L.each(function(b,g){d=a(g),e=d.offset().left,b&&(f[1]=e),f=[e],c[b]=f}),f[1]=e+d.outerWidth(),N.each(function(c,g){X>c&&(d=a(g),e=d.offset().top,c&&(f[1]=e),f=[e],b[c]=f)}),f[1]=e+d.outerHeight()}),ab=new yb($),bb=new Ab(function(a){return Q.eq(a)}),cb=new Ab(function(a){return R.eq(a)})}function _(){function a(a,b){c.renderDayEvents(a,b)}function b(){c.getDaySegmentContainer().empty()}var c=this;c.renderEvents=a,c.clearEvents=b,rb.call(c)}function ab(a,b){function c(a,b){return a.clone().stripTime().add("weeks",b).startOf("week")}function d(a){e.intervalStart=a.clone().stripTime().startOf("week"),e.intervalEnd=e.intervalStart.clone().add("weeks",1),e.start=e.skipHiddenDays(e.intervalStart),e.end=e.skipHiddenDays(e.intervalEnd,-1,!0),e.title=b.formatRange(e.start,e.end.clone().subtract(1),e.opt("titleFormat")," \u2014 "),e.renderAgenda(e.getCellsPerWeek())}var e=this;e.incrementDate=c,e.render=d,eb.call(e,a,b,"agendaWeek")}function bb(a,b){function c(a,b){var c=a.clone().stripTime().add("days",b);return c=e.skipHiddenDays(c,0>b?-1:1)}function d(a){e.start=e.intervalStart=a.clone().stripTime(),e.end=e.intervalEnd=e.start.clone().add("days",1),e.title=b.formatDate(e.start,e.opt("titleFormat")),e.renderAgenda(1)}var e=this;e.incrementDate=c,e.render=d,eb.call(e,a,b,"agendaDay")}function cb(a,b){return b.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function db(a,b){return b.longDateFormat("LT").replace(/\s*a$/i,"")}function eb(c,d,e){function f(a){Bb=a,g(),U?i():h()}function g(){Hb=Nb("theme")?"ui":"fc",Jb=Nb("isRTL"),Mb=Nb("columnFormat"),Kb=b.duration(Nb("minTime")),Lb=b.duration(Nb("maxTime")),rb=b.duration(Nb("slotDuration")),tb=Nb("snapDuration"),tb=tb?b.duration(tb):rb}function h(){var d,e,f,g,h=Hb+"-widget-header",j=Hb+"-widget-content",k=rb.asMinutes()%15===0;for(i(),bb=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c),Nb("allDaySlot")?(cb=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bb),d="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+(Nb("allDayHTML")||E(Nb("allDayText")))+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>",db=a(d).appendTo(bb),eb=db.find("tr"),s(eb.find("td")),bb.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")):cb=a([]),gb=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(bb),hb=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(gb),ib=a("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(hb),d="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",e=b.duration(+Kb),Cb=0;Lb>e;)f=T.start.clone().time(e),g=f.minutes(),d+="<tr class='fc-slot"+Cb+" "+(g?"fc-minor":"")+"'><th class='fc-agenda-axis "+h+"'>"+(k&&g?"&nbsp;":E(Yb(f,Nb("axisFormat"))))+"</th><td class='"+j+"'><div style='position:relative'>&nbsp;</div></td></tr>",e.add(rb),Cb++;d+="</tbody></table>",jb=a(d).appendTo(hb),t(jb.find("td"))}function i(){var b=j();U&&U.remove(),U=a(b).appendTo(c),V=U.find("thead"),W=V.find("th").slice(1,-1),X=U.find("tbody"),Y=X.find("td").slice(0,-1),Z=Y.find("> div"),$=Y.find(".fc-day-content > div"),_=Y.eq(0),ab=Z.eq(0),H(V.add(V.find("tr"))),H(X.add(X.find("tr")))}function j(){var a="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+k()+l()+"</table>";return a}function k(){var a,b,c,d=Hb+"-widget-header",e="";for(e+="<thead><tr>",Nb("weekNumbers")?(a=Vb(0,0),b=Zb(a),Jb?b+=Nb("weekNumberTitle"):b=Nb("weekNumberTitle")+b,e+="<th class='fc-agenda-axis fc-week-number "+d+"'>"+E(b)+"</th>"):e+="<th class='fc-agenda-axis "+d+"'>&nbsp;</th>",c=0;Bb>c;c++)a=Vb(0,c),e+="<th class='fc-"+Ib[a.day()]+" fc-col"+c+" "+d+"'>"+E(Yb(a,Mb))+"</th>";return e+="<th class='fc-agenda-gutter "+d+"'>&nbsp;</th></tr></thead>"}function l(){var a,b,c,e,f,g=Hb+"-widget-header",h=Hb+"-widget-content",i=d.getNow().stripTime(),j="";for(j+="<tbody><tr><th class='fc-agenda-axis "+g+"'>&nbsp;</th>",c="",b=0;Bb>b;b++)a=Vb(0,b),f=["fc-col"+b,"fc-"+Ib[a.day()],h],a.isSame(i,"day")?f.push(Hb+"-state-highlight","fc-today"):f.push(i>a?"fc-past":"fc-future"),e="<td class='"+f.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",c+=e;return j+=c,j+="<td class='fc-agenda-gutter "+h+"'>&nbsp;</td></tr></tbody>"}function m(a){void 0===a&&(a=mb),mb=a,$b={};var b=X.position().top,c=gb.position().top,d=Math.min(a-b,jb.height()+c+1);ab.height(d-w(_)),bb.css("top",b),gb.height(d-c-1);var e=jb.find("tr:first").height()+1,f=jb.find("tr:eq(1)").height();sb=(e+f)/2,ub=rb/tb,zb=sb/ub}function n(b){lb=b,Fb.clear(),Gb.clear();var c=V.find("th:first");db&&(c=c.add(db.find("th:first"))),c=c.add(jb.find("th:first")),nb=0,q(c.width("").each(function(b,c){nb=Math.max(nb,a(c).outerWidth())}),nb);var d=U.find(".fc-agenda-gutter");db&&(d=d.add(db.find("th.fc-agenda-gutter")));var e=gb[0].clientWidth;pb=gb.width()-e,pb?(q(d,pb),d.show().prev().removeClass("fc-last")):d.hide().prev().addClass("fc-last"),ob=Math.floor((e-nb)/Bb),q(W.slice(0,-1),ob)}function o(){function a(){gb.scrollTop(c)}var c=K(b.duration(Nb("scrollTime")))+1;a(),setTimeout(a,0)}function p(){o()}function s(a){a.click(u).mousedown(Tb)}function t(a){a.click(u).mousedown(P)}function u(a){if(!Nb("selectable")){var b=Math.min(Bb-1,Math.floor((a.pageX-U.offset().left-nb)/ob)),c=Vb(0,b),e=this.parentNode.className.match(/fc-slot(\d+)/);if(e){var f=parseInt(e[1],10);c.add(Kb+f*rb),c=d.rezoneDate(c),Ob("dayClick",Y[b],c,a)}else Ob("dayClick",Y[b],c,a)}}function v(a,b,c){c&&Db.build();for(var d=Xb(a,b),e=0;e<d.length;e++){var f=d[e];s(x(f.row,f.leftCol,f.row,f.rightCol))}}function x(a,b,c,d){var e=Db.rect(a,b,c,d,bb);return Pb(e,bb)}function y(a,b){a=a.clone().stripZone(),b=b.clone().stripZone();for(var c=0;Bb>c;c++){var d=Vb(0,c),e=d.clone().add("days",1),f=a>d?a:d,g=b>e?e:b;if(g>f){var h=Db.rect(0,c,0,c,hb),i=J(f,d),j=J(g,d);h.top=i,h.height=j-i,t(Pb(h,hb))}}}function z(a){return Fb.left(a)}function A(a){return Gb.left(a)}function C(a){return Fb.right(a)}function D(a){return Gb.right(a)}function F(a){return Nb("allDaySlot")&&!a.row}function I(a){var c=Vb(0,a.col),e=a.row;return Nb("allDaySlot")&&e--,e>=0&&(c.time(b.duration(Kb+e*tb)),c=d.rezoneDate(c)),c}function J(a,c){return K(b.duration(a.clone().stripZone()-c.clone().stripTime()))}function K(a){if(Kb>a)return 0;if(a>=Lb)return jb.height();var b=(a-Kb)/rb,c=Math.floor(b),d=b-c,e=$b[c];void 0===e&&(e=$b[c]=jb.find("tr").eq(c).find("td div")[0].offsetTop);var f=e-1+d*sb;return f=Math.max(f,0)}function L(a){return a.hasTime()?a.clone().add(rb):a.clone().add("days",1)}function M(a,b){a.hasTime()||b.hasTime()?N(a,b):Nb("allDaySlot")&&v(a,b,!0)}function N(b,c){var d=Nb("selectHelper");if(Db.build(),d){var e=Wb(b).col;if(e>=0&&Bb>e){var f=Db.rect(0,e,0,e,hb),g=J(b,b),h=J(c,b);if(h>g){if(f.top=g,f.height=h-g,f.left+=2,f.width-=5,a.isFunction(d)){var i=d(b,c);i&&(f.position="absolute",kb=a(i).css(f).appendTo(hb))}else f.isStart=!0,f.isEnd=!0,kb=a(Ub({"title":"","start":b,"end":c,"className":["fc-select-helper"],"editable":!1},f)),kb.css("opacity",Nb("dragOpacity"));kb&&(t(kb),hb.append(kb),q(kb,f.width,!0),r(kb,f.height,!0))}}}else y(b,c)}function O(){Qb(),kb&&(kb.remove(),kb=null)}function P(b){if(1==b.which&&Nb("selectable")){Sb(b);var c;Eb.start(function(a,b){if(O(),a&&a.col==b.col&&!F(a)){var d=I(b),e=I(a);c=[d,d.clone().add(tb),e,e.clone().add(tb)].sort(B),N(c[0],c[3])}else c=null},b),a(document).one("mouseup",function(a){Eb.stop(),c&&(+c[0]==+c[1]&&Q(c[0],a),Rb(c[0],c[3],a))})}}function Q(a,b){Ob("dayClick",Y[Wb(a).col],a,b)}function R(a,b){Eb.start(function(a){if(Qb(),a){var b=I(a),c=b.clone();b.hasTime()?(c.add(d.defaultTimedEventDuration),y(b,c)):(c.add(d.defaultAllDayEventDuration),v(b,c))}},b)}function S(a,b,c){var d=Eb.stop();Qb(),d&&Ob("drop",a,I(d),b,c)}var T=this;T.renderAgenda=f,T.setWidth=n,T.setHeight=m,T.afterRender=p,T.computeDateTop=J,T.getIsCellAllDay=F,T.allDayRow=function(){return eb},T.getCoordinateGrid=function(){return Db},T.getHoverListener=function(){return Eb},T.colLeft=z,T.colRight=C,T.colContentLeft=A,T.colContentRight=D,T.getDaySegmentContainer=function(){return cb},T.getSlotSegmentContainer=function(){return ib},T.getSlotContainer=function(){return hb},T.getRowCnt=function(){return 1},T.getColCnt=function(){return Bb},T.getColWidth=function(){return ob},T.getSnapHeight=function(){return zb},T.getSnapDuration=function(){return tb},T.getSlotHeight=function(){return sb},T.getSlotDuration=function(){return rb},T.getMinTime=function(){return Kb},T.getMaxTime=function(){return Lb},T.defaultSelectionEnd=L,T.renderDayOverlay=v,T.renderSelection=M,T.clearSelection=O,T.reportDayClick=Q,T.dragStart=R,T.dragStop=S,qb.call(T,c,d,e),wb.call(T),vb.call(T),fb.call(T);var U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,rb,sb,tb,ub,zb,Bb,Cb,Db,Eb,Fb,Gb,Hb,Jb,Kb,Lb,Mb,Nb=T.opt,Ob=T.trigger,Pb=T.renderOverlay,Qb=T.clearOverlays,Rb=T.reportSelection,Sb=T.unselect,Tb=T.daySelectionMousedown,Ub=T.slotSegHtml,Vb=T.cellToDate,Wb=T.dateToCell,Xb=T.rangeToSegments,Yb=d.formatDate,Zb=d.calculateWeekNumber,$b={};
G(c.addClass("fc-agenda")),Db=new xb(function(b,c){function d(a){return Math.max(i,Math.min(j,a))}var e,f,g;W.each(function(b,d){e=a(d),f=e.offset().left,b&&(g[1]=f),g=[f],c[b]=g}),g[1]=f+e.outerWidth(),Nb("allDaySlot")&&(e=eb,f=e.offset().top,b[0]=[f,f+e.outerHeight()]);for(var h=hb.offset().top,i=gb.offset().top,j=i+gb.outerHeight(),k=0;Cb*ub>k;k++)b.push([d(h+zb*k),d(h+zb*(k+1))])}),Eb=new yb(Db),Fb=new Ab(function(a){return Z.eq(a)}),Gb=new Ab(function(a){return $.eq(a)})}function fb(){function c(a,b){var c,d=a.length,f=[],h=[];for(c=0;d>c;c++)a[c].allDay?f.push(a[c]):h.push(a[c]);n("allDaySlot")&&(V(f,b),v()),g(e(h),b)}function d(){x().empty(),y().empty()}function e(a){var b,c,d,e,g,h=G(),i=W(),j=X(),k=[];for(c=0;h>c;c++)for(b=F(0,c),g=f(a,b.clone().time(i),b.clone().time(j)),g=gb(g),d=0;d<g.length;d++)e=g[d],e.col=c,k.push(e);return k}function f(a,b,c){b=b.clone().stripZone(),c=c.clone().stripZone();var d,e,f,g,h,i,j,k,l=[],m=a.length;for(d=0;m>d;d++)e=a[d],f=e.start.clone().stripZone(),g=$(e).stripZone(),g>b&&c>f&&(b>f?(h=b.clone(),j=!1):(h=f,j=!0),g>c?(i=c.clone(),k=!1):(i=g,k=!0),l.push({"event":e,"start":h,"end":i,"isStart":j,"isEnd":k}));return l.sort(pb)}function g(b,c){var d,e,f,g,j,k,l,m,q,r,t,u,v,x,z,B,E=b.length,F="",G=y(),H=n("isRTL");for(d=0;E>d;d++)e=b[d],f=e.event,g=A(e.start,e.start),j=A(e.end,e.start),k=C(e.col),l=D(e.col),m=l-k,l-=.025*m,m=l-k,q=m*(e.forwardCoord-e.backwardCoord),n("slotEventOverlap")&&(q=Math.max(2*(q-10),q)),H?(t=l-e.backwardCoord*m,r=t-q):(r=k+e.backwardCoord*m,t=r+q),r=Math.max(r,k),t=Math.min(t,l),q=t-r,e.top=g,e.left=r,e.outerWidth=q,e.outerHeight=j-g,F+=h(f,e);for(G[0].innerHTML=F,u=G.children(),d=0;E>d;d++)e=b[d],f=e.event,v=a(u[d]),x=o("eventRender",f,f,v),x===!1?v.remove():(x&&x!==!0&&(v.remove(),v=a(x).css({"position":"absolute","top":e.top,"left":e.left}).appendTo(G)),e.element=v,f._id===c?i(f,v,e):v[0]._fci=d,O(f,v));for(p(G,b,i),d=0;E>d;d++)e=b[d],(v=e.element)&&(e.vsides=w(v,!0),e.hsides=s(v,!0),z=v.find(".fc-event-title"),z.length&&(e.contentTop=z[0].offsetTop));for(d=0;E>d;d++)e=b[d],(v=e.element)&&(v[0].style.width=Math.max(0,e.outerWidth-e.hsides)+"px",B=Math.max(0,e.outerHeight-e.vsides),v[0].style.height=B+"px",f=e.event,void 0!==e.contentTop&&B-e.contentTop<10&&(v.find("div.fc-event-time").text(Z(f.start,n("timeFormat"))+" - "+f.title),v.find("div.fc-event-title").remove()),o("eventAfterRender",f,f,v))}function h(a,b){var c="<",d=a.url,e=I(a,n),f=["fc-event","fc-event-vert"];return q(a)&&f.push("fc-event-draggable"),b.isStart&&f.push("fc-event-start"),b.isEnd&&f.push("fc-event-end"),f=f.concat(a.className),a.source&&(f=f.concat(a.source.className||[])),c+=d?"a href='"+E(a.url)+"'":"div",c+=" class='"+f.join(" ")+"' style='position:absolute;top:"+b.top+"px;left:"+b.left+"px;"+e+"'><div class='fc-event-inner'><div class='fc-event-time'>"+E(m.getEventTimeText(a))+"</div><div class='fc-event-title'>"+E(a.title||"")+"</div></div><div class='fc-event-bg'></div>",b.isEnd&&t(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),c+="</"+(d?"a":"div")+">"}function i(a,b,c){var d=b.find("div.fc-event-time");q(a)&&k(a,b,d),c.isEnd&&t(a)&&l(a,b,d),u(a,b)}function j(a,c,d){function e(){j||(c.width(f).height("").draggable("option","grid",null),j=!0)}var f,g,h,i=d.isStart,j=!0,k=z(),l=H(),m=W(),p=M(),q=L(),s=K(),t=J();c.draggable({"opacity":n("dragOpacity","month"),"revertDuration":n("dragRevertDuration"),"start":function(b,d){o("eventDragStart",c[0],a,b,d),Q(a,c),f=c.width(),k.start(function(b,d){if(U(),b){g=!1;var f=F(0,d.col),k=F(0,b.col);h=k.diff(f,"days"),b.row?i?j&&(c.width(l-10),r(c,Y.defaultTimedEventDuration/p*q),c.draggable("option","grid",[l,1]),j=!1):g=!0:(T(a.start.clone().add("days",h),$(a).add("days",h)),e()),g=g||j&&!h}else e(),g=!0;c.draggable("option","revert",g)},b,"drag")},"stop":function(d,f){if(k.stop(),U(),o("eventDragStop",c[0],a,d,f),g)e(),c.css("filter",""),P(a,c);else{var i,l,n=a.start.clone().add("days",h);j||(l=Math.round((c.offset().top-N().offset().top)/t),i=b.duration(m+l*s),n=Y.rezoneDate(n.clone().time(i))),R(c[0],a,n,d,f)}}})}function k(a,b,c){function d(){U(),h&&(j?(c.hide(),b.draggable("option","grid",null),T(t,u)):(e(),c.css("display",""),b.draggable("option","grid",[x,y])))}function e(){t&&c.text(m.getEventTimeText(t,a.end?u:null))}var f,g,h,i,j,k,l,p,q,r,s,t,u,v=m.getCoordinateGrid(),w=G(),x=H(),y=J(),z=K();b.draggable({"scroll":!1,"grid":[x,y],"axis":1==w?"y":!1,"opacity":n("dragOpacity"),"revertDuration":n("dragRevertDuration"),"start":function(c,d){o("eventDragStart",b[0],a,c,d),Q(a,b),v.build(),f=b.position(),g=v.cell(c.pageX,c.pageY),h=i=!0,j=k=B(g),l=p=0,q=0,r=s=0,t=null,u=null},"drag":function(c,e){var m=v.cell(c.pageX,c.pageY);if(h=!!m){if(j=B(m),l=Math.round((e.position.left-f.left)/x),l!=p){var n=F(0,g.col),o=g.col+l;o=Math.max(0,o),o=Math.min(w-1,o);var A=F(0,o);q=A.diff(n,"days")}j||(r=Math.round((e.position.top-f.top)/y))}(h!=i||j!=k||l!=p||r!=s)&&(j?(t=a.start.clone().stripTime().add("days",q),u=t.clone().add(Y.defaultAllDayEventDuration)):(t=a.start.clone().add(r*z).add("days",q),u=$(a).add(r*z).add("days",q)),d(),i=h,k=j,p=l,s=r),b.draggable("option","revert",!h)},"stop":function(c,e){U(),o("eventDragStop",b[0],a,c,e),h&&(j||q||r)?R(b[0],a,t,c,e):(h=!0,j=!1,l=0,q=0,r=0,d(),b.css("filter",""),b.css(f),P(a,b))}})}function l(a,b,c){var d,e,f,g=J(),h=K();b.resizable({"handles":{"s":".ui-resizable-handle"},"grid":g,"start":function(c,f){d=e=0,Q(a,b),o("eventResizeStart",b[0],a,c,f)},"resize":function(i,j){if(d=Math.round((Math.max(g,b.height())-j.originalSize.height)/g),d!=e){f=$(a).add(h*d);var k;k=d?m.getEventTimeText(a.start,f):m.getEventTimeText(a),c.text(k),e=d}},"stop":function(c,e){o("eventResizeStop",b[0],a,c,e),d?S(b[0],a,f,c,e):P(a,b)}})}var m=this;m.renderEvents=c,m.clearEvents=d,m.slotSegHtml=h,rb.call(m);var n=m.opt,o=m.trigger,q=m.isEventDraggable,t=m.isEventResizable,u=m.eventElementHandlers,v=m.setHeight,x=m.getDaySegmentContainer,y=m.getSlotSegmentContainer,z=m.getHoverListener,A=m.computeDateTop,B=m.getIsCellAllDay,C=m.colContentLeft,D=m.colContentRight,F=m.cellToDate,G=m.getColCnt,H=m.getColWidth,J=m.getSnapHeight,K=m.getSnapDuration,L=m.getSlotHeight,M=m.getSlotDuration,N=m.getSlotContainer,O=m.reportEventElement,P=m.showEvents,Q=m.hideEvents,R=m.eventDrop,S=m.eventResize,T=m.renderDayOverlay,U=m.clearOverlays,V=m.renderDayEvents,W=m.getMinTime,X=m.getMaxTime,Y=m.calendar,Z=Y.formatDate,$=Y.getEventEnd;m.draggableDayEvent=j}function gb(a){var b,c=hb(a),d=c[0];if(ib(c),d){for(b=0;b<d.length;b++)jb(d[b]);for(b=0;b<d.length;b++)kb(d[b],0,0)}return lb(c)}function hb(a){var b,c,d,e=[];for(b=0;b<a.length;b++){for(c=a[b],d=0;d<e.length&&mb(c,e[d]).length;d++);(e[d]||(e[d]=[])).push(c)}return e}function ib(a){var b,c,d,e,f;for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)for(e=c[d],e.forwardSegs=[],f=b+1;f<a.length;f++)mb(e,a[f],e.forwardSegs)}function jb(a){var b,c,d=a.forwardSegs,e=0;if(void 0===a.forwardPressure){for(b=0;b<d.length;b++)c=d[b],jb(c),e=Math.max(e,1+c.forwardPressure);a.forwardPressure=e}}function kb(a,b,c){var d,e=a.forwardSegs;if(void 0===a.forwardCoord)for(e.length?(e.sort(ob),kb(e[0],b+1,c),a.forwardCoord=e[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),d=0;d<e.length;d++)kb(e[d],0,a.forwardCoord)}function lb(a){var b,c,d,e=[];for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)e.push(c[d]);return e}function mb(a,b,c){c=c||[];for(var d=0;d<b.length;d++)nb(a,b[d])&&c.push(b[d]);return c}function nb(a,b){return a.end>b.start&&a.start<b.end}function ob(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||pb(a,b)}function pb(a,b){return a.start-b.start||b.end-b.start-(a.end-a.start)||(a.event.title||"").localeCompare(b.event.title)}function qb(c,d,e){function f(b,c){var d=L[b];return a.isPlainObject(d)&&!g(b)?D(d,c||e):d}function h(a,b){return d.trigger.apply(d,[a,b||G].concat(Array.prototype.slice.call(arguments,2),[G]))}function i(a){var b=a.source||{};return K(a.startEditable,b.startEditable,f("eventStartEditable"),a.editable,b.editable,f("editable"))}function j(a){var b=a.source||{};return K(a.durationEditable,b.durationEditable,f("eventDurationEditable"),a.editable,b.editable,f("editable"))}function k(){I={},J=[]}function l(a,b){J.push({"event":a,"element":b}),I[a._id]?I[a._id].push(b):I[a._id]=[b]}function m(){a.each(J,function(a,b){G.trigger("eventDestroy",b.event,b.event,b.element)})}function n(a,b){b.click(function(c){return b.hasClass("ui-draggable-dragging")||b.hasClass("ui-resizable-resizing")?void 0:h("eventClick",this,a,c)}).hover(function(b){h("eventMouseover",this,a,b)},function(b){h("eventMouseout",this,a,b)})}function o(a,b){q(a,b,"show")}function p(a,b){q(a,b,"hide")}function q(a,b,c){var d,e=I[a._id],f=e.length;for(d=0;f>d;d++)b&&e[d][0]==b[0]||e[d][c]()}function r(a,b,c,e,f){var g=d.mutateEvent(b,c,null);h("eventDrop",a,b,g.dateDelta,function(){g.undo(),H(b._id)},e,f),H(b._id)}function s(a,b,c,e,f){var g=d.mutateEvent(b,null,c);h("eventResize",a,b,g.durationDelta,function(){g.undo(),H(b._id)},e,f),H(b._id)}function t(a){return b.isMoment(a)&&(a=a.day()),P[a]}function u(){return N}function v(a,b,c){var d=a.clone();for(b=b||1;P[(d.day()+(c?b:0)+7)%7];)d.add("days",b);return d}function w(){var a=x.apply(null,arguments),b=y(a),c=z(b);return c}function x(a,b){var c=G.getColCnt(),d=S?-1:1,e=S?c-1:0;"object"==typeof a&&(b=a.col,a=a.row);var f=a*c+(b*d+e);return f}function y(a){var b=G.start.day();return a+=Q[b],7*Math.floor(a/N)+R[(a%N+N)%N]-b}function z(a){return G.start.clone().add("days",a)}function A(a){var b=B(a),c=C(b),d=E(c);return d}function B(a){return a.clone().stripTime().diff(G.start,"days")}function C(a){var b=G.start.day();return a+=b,Math.floor(a/7)*N+Q[(a%7+7)%7]-Q[b]}function E(a){var b=G.getColCnt(),c=S?-1:1,d=S?b-1:0,e=Math.floor(a/b),f=(a%b+b)%b*c+d;return{"row":e,"col":f}}function F(a,b){var c=G.getRowCnt(),d=G.getColCnt(),e=[],f=B(a),g=B(b),h=+b.time();h&&h>=M&&g++,g=Math.max(g,f+1);for(var i=C(f),j=C(g)-1,k=0;c>k;k++){var l=k*d,m=l+d-1,n=Math.max(i,l),o=Math.min(j,m);if(o>=n){var p=E(n),q=E(o),r=[p.col,q.col].sort(),s=y(n)==f,t=y(o)+1==g;e.push({"row":k,"leftCol":r[0],"rightCol":r[1],"isStart":s,"isEnd":t})}}return e}var G=this;G.element=c,G.calendar=d,G.name=e,G.opt=f,G.trigger=h,G.isEventDraggable=i,G.isEventResizable=j,G.clearEventData=k,G.reportEventElement=l,G.triggerEventDestroy=m,G.eventElementHandlers=n,G.showEvents=o,G.hideEvents=p,G.eventDrop=r,G.eventResize=s;var H=d.reportEventChange,I={},J=[],L=d.options,M=b.duration(L.nextDayThreshold);G.getEventTimeText=function(a){var b,c;return 2===arguments.length?(b=arguments[0],c=arguments[1]):(b=a.start,c=a.end),c&&f("displayEventEnd")?d.formatRange(b,c,f("timeFormat")):d.formatDate(b,f("timeFormat"))},G.isHiddenDay=t,G.skipHiddenDays=v,G.getCellsPerWeek=u,G.dateToCell=A,G.dateToDayOffset=B,G.dayOffsetToCellOffset=C,G.cellOffsetToCell=E,G.cellToDate=w,G.cellToCellOffset=x,G.cellOffsetToDayOffset=y,G.dayOffsetToDate=z,G.rangeToSegments=F;var N,O=f("hiddenDays")||[],P=[],Q=[],R=[],S=f("isRTL");!function(){f("weekends")===!1&&O.push(0,6);for(var b=0,c=0;7>b;b++)Q[b]=c,P[b]=-1!=a.inArray(b,O),P[b]||(R[c]=b,c++);if(N=c,!N)throw"invalid hiddenDays"}()}function rb(){function b(a,b){var c=d(a,!1,!0);tb(c,function(a,b){B(a.event,b)}),r(c,b),tb(c,function(a,b){y("eventAfterRender",a.event,a.event,b)})}function c(a,b,c){var e=d([a],!0,!1),f=[];return tb(e,function(a,d){a.row===b&&d.css("top",c),f.push(d[0])}),f}function d(b,c,d){var f,i,l=S(),m=c?a("<div/>"):l,n=e(b);return g(n),f=h(n),m[0].innerHTML=f,i=m.children(),c&&l.append(i),j(n,i),tb(n,function(a,b){a.hsides=s(b,!0)}),tb(n,function(a,b){b.width(Math.max(0,a.outerWidth-a.hsides))}),tb(n,function(a,b){a.outerHeight=b.outerHeight(!0)}),k(n,d),n}function e(a){for(var b=[],c=0;c<a.length;c++){var d=f(a[c]);b.push.apply(b,d)}return b}function f(a){for(var b=X(a.start,cb(a)),c=0;c<b.length;c++)b[c].event=a;return b}function g(a){for(var b=x("isRTL"),c=0;c<a.length;c++){var d=a[c],e=(b?d.isEnd:d.isStart)?Q:O,f=(b?d.isStart:d.isEnd)?R:P,g=e(d.leftCol),h=f(d.rightCol);d.left=g,d.outerWidth=h-g}}function h(a){for(var b="",c=0;c<a.length;c++)b+=i(a[c]);return b}function i(a){var b="",c=x("isRTL"),d=a.event,e=d.url,f=["fc-event","fc-event-hori"];z(d)&&f.push("fc-event-draggable"),a.isStart&&f.push("fc-event-start"),a.isEnd&&f.push("fc-event-end"),f=f.concat(d.className),d.source&&(f=f.concat(d.source.className||[]));var g=I(d,x);return b+=e?"<a href='"+E(e)+"'":"<div",b+=" class='"+f.join(" ")+"' style='position:absolute;left:"+a.left+"px;"+g+"'><div class='fc-event-inner'>",!d.allDay&&a.isStart&&(b+="<span class='fc-event-time'>"+E(w.getEventTimeText(d))+"</span>"),b+="<span class='fc-event-title'>"+E(d.title||"")+"</span></div>",d.allDay&&a.isEnd&&A(d)&&(b+="<div class='ui-resizable-handle ui-resizable-"+(c?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),b+="</"+(e?"a":"div")+">"}function j(b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.event,g=c.eq(d),h=y("eventRender",f,f,g);h===!1?g.remove():(h&&h!==!0&&(h=a(h).css({"position":"absolute","left":e.left}),g.replaceWith(h),g=h),e.element=g)}}function k(a,b){var c,d=l(a),e=q(),f=[];if(b)for(c=0;c<e.length;c++)e[c].height(d[c]);for(c=0;c<e.length;c++)f.push(e[c].position().top);tb(a,function(a,b){b.css("top",f[a.row]+a.top)})}function l(a){for(var b,c=L(),d=M(),e=[],f=m(a),g=0;c>g;g++){var h=f[g],i=[];for(b=0;d>b;b++)i.push(0);for(var j=0;j<h.length;j++){var k=h[j];for(k.top=C(i.slice(k.leftCol,k.rightCol+1)),b=k.leftCol;b<=k.rightCol;b++)i[b]=k.top+k.outerHeight}e.push(C(i))}return e}function m(a){var b,c,d,e=L(),f=[];for(b=0;b<a.length;b++)c=a[b],d=c.row,c.element&&(f[d]?f[d].push(c):f[d]=[c]);for(d=0;e>d;d++)f[d]=n(f[d]||[]);return f}function n(a){for(var b=[],c=o(a),d=0;d<c.length;d++)b.push.apply(b,c[d]);return b}function o(a){a.sort(ub);for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=0;e<b.length&&sb(d,b[e]);e++);b[e]?b[e].push(d):b[e]=[d]}return b}function q(){var a,b=L(),c=[];for(a=0;b>a;a++)c[a]=N(a).find("div.fc-day-content > div");return c}function r(a,b){var c=S();tb(a,function(a,c,d){var e=a.event;e._id===b?t(e,c,a):c[0]._fci=d}),p(c,a,t)}function t(a,b,c){z(a)&&w.draggableDayEvent(a,b,c),a.allDay&&c.isEnd&&A(a)&&w.resizableDayEvent(a,b,c),D(a,b)}function u(a,b){var c,d,e=W();b.draggable({"delay":50,"opacity":x("dragOpacity"),"revertDuration":x("dragRevertDuration"),"start":function(f,g){y("eventDragStart",b[0],a,f,g),H(a,b),e.start(function(e,f,g,h){if(b.draggable("option","revert",!e||!g&&!h),U(),e){var i=Y(f),j=Y(e);c=j.diff(i,"days"),d=a.start.clone().add("days",c),T(d,cb(a).add("days",c))}else c=0},f,"drag")},"stop":function(f,g){e.stop(),U(),y("eventDragStop",b[0],a,f,g),c?J(b[0],a,d,f,g):(b.css("filter",""),F(a,b))}})}function v(b,d,e){var f=x("isRTL"),g=f?"w":"e",h=d.find(".ui-resizable-"+g),i=!1;G(d),d.mousedown(function(a){a.preventDefault()}).click(function(a){i&&(a.preventDefault(),a.stopImmediatePropagation())}),h.mousedown(function(f){function h(c){y("eventResizeStop",d[0],b,c,{}),a("body").css("cursor",""),m.stop(),U(),j&&K(d[0],b,k,c,{}),setTimeout(function(){i=!1},0)}if(1==f.which){i=!0;var j,k,l,m=W(),n=d.css("top"),o=a.extend({},b),p=ab(_(b.start));V(),a("body").css("cursor",g+"-resize").one("mouseup",h),y("eventResizeStart",d[0],b,f,{}),m.start(function(d,f){if(d){var h=Z(f),i=Z(d);if(i=Math.max(i,p),j=$(i)-$(h),k=cb(b).add("days",j),j){o.end=k;var m=l;l=c(o,e.row,n),l=a(l),l.find("*").css("cursor",g+"-resize"),m&&m.remove(),H(b)}else l&&(F(b),l.remove(),l=null);U(),T(b.start,k)}},f)}})}var w=this;w.renderDayEvents=b,w.draggableDayEvent=u,w.resizableDayEvent=v;var x=w.opt,y=w.trigger,z=w.isEventDraggable,A=w.isEventResizable,B=w.reportEventElement,D=w.eventElementHandlers,F=w.showEvents,H=w.hideEvents,J=w.eventDrop,K=w.eventResize,L=w.getRowCnt,M=w.getColCnt,N=w.allDayRow,O=w.colLeft,P=w.colRight,Q=w.colContentLeft,R=w.colContentRight,S=w.getDaySegmentContainer,T=w.renderDayOverlay,U=w.clearOverlays,V=w.clearSelection,W=w.getHoverListener,X=w.rangeToSegments,Y=w.cellToDate,Z=w.cellToCellOffset,$=w.cellOffsetToDayOffset,_=w.dateToDayOffset,ab=w.dayOffsetToCellOffset,bb=w.calendar,cb=bb.getEventEnd}function sb(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0}return!1}function tb(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.element;e&&b(d,e,c)}}function ub(a,b){return b.rightCol-b.leftCol-(a.rightCol-a.leftCol)||b.event.allDay-a.event.allDay||a.event.start-b.event.start||(a.event.title||"").localeCompare(b.event.title)}function vb(){function b(b){var c=j("unselectCancel");c&&a(b.target).parents(c).length||d(b)}function c(a,b){d(),a=i.moment(a),b=b?i.moment(b):l(a),m(a,b),e(a,b)}function d(a){o&&(o=!1,n(),k("unselect",null,a))}function e(a,b,c){o=!0,k("select",null,a,b,c)}function f(b){var c=h.cellToDate,f=h.getIsCellAllDay,g=h.getHoverListener(),i=h.reportDayClick;if(1==b.which&&j("selectable")){d(b);var k;g.start(function(a,b){n(),a&&f(a)?(k=[c(b),c(a)].sort(B),m(k[0],k[1].clone().add("days",1))):k=null},b),a(document).one("mouseup",function(a){g.stop(),k&&(+k[0]==+k[1]&&i(k[0],a),e(k[0],k[1].clone().add("days",1),a))})}}function g(){a(document).off("mousedown",b)}var h=this;h.select=c,h.unselect=d,h.reportSelection=e,h.daySelectionMousedown=f,h.selectionManagerDestroy=g;var i=h.calendar,j=h.opt,k=h.trigger,l=h.defaultSelectionEnd,m=h.renderSelection,n=h.clearSelection,o=!1;j("selectable")&&j("unselectAuto")&&a(document).on("mousedown",b)}function wb(){function b(b,c){var d=f.shift();return d||(d=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),d[0].parentNode!=c[0]&&d.appendTo(c),e.push(d.css(b).show()),d}function c(){for(var a;a=e.shift();)f.push(a.hide().unbind())}var d=this;d.renderOverlay=b,d.clearOverlays=c;var e=[],f=[]}function xb(a){var b,c,d=this;d.build=function(){b=[],c=[],a(b,c)},d.cell=function(a,d){var e,f=b.length,g=c.length,h=-1,i=-1;for(e=0;f>e;e++)if(d>=b[e][0]&&d<b[e][1]){h=e;break}for(e=0;g>e;e++)if(a>=c[e][0]&&a<c[e][1]){i=e;break}return h>=0&&i>=0?{"row":h,"col":i}:null},d.rect=function(a,d,e,f,g){var h=g.offset();return{"top":b[a][0]-h.top,"left":c[d][0]-h.left,"width":c[f][1]-c[d][0],"height":b[e][1]-b[a][0]}}}function yb(b){function c(a){zb(a);var c=b.cell(a.pageX,a.pageY);(Boolean(c)!==Boolean(g)||c&&(c.row!=g.row||c.col!=g.col))&&(c?(f||(f=c),e(c,f,c.row-f.row,c.col-f.col)):e(c,f),g=c)}var d,e,f,g,h=this;h.start=function(h,i,j){e=h,f=g=null,b.build(),c(i),d=j||"mousemove",a(document).bind(d,c)},h.stop=function(){return a(document).unbind(d,c),g}}function zb(a){void 0===a.pageX&&(a.pageX=a.originalEvent.pageX,a.pageY=a.originalEvent.pageY)}function Ab(a){function b(b){return d[b]=d[b]||a(b)}var c=this,d={},e={},f={};c.left=function(a){return e[a]=void 0===e[a]?b(a).position().left:e[a]},c.right=function(a){return f[a]=void 0===f[a]?c.left(a)+b(a).width():f[a]},c.clear=function(){d={},e={},f={}}}var Bb={"lang":"en","defaultTimedEventDuration":"02:00:00","defaultAllDayEventDuration":{"days":1},"forceEventDuration":!1,"nextDayThreshold":"09:00:00","defaultView":"month","aspectRatio":1.35,"header":{"left":"title","center":"","right":"today prev,next"},"weekends":!0,"weekNumbers":!1,"weekNumberTitle":"W","weekNumberCalculation":"local","lazyFetching":!0,"startParam":"start","endParam":"end","timezoneParam":"timezone","timezone":!1,"titleFormat":{"month":"MMMM YYYY","week":"ll","day":"LL"},"columnFormat":{"month":"ddd","week":d,"day":"dddd"},"timeFormat":{"default":c},"displayEventEnd":{"month":!1,"basicWeek":!1,"default":!0},"isRTL":!1,"defaultButtonText":{"prev":"prev","next":"next","prevYear":"prev year","nextYear":"next year","today":"today","month":"month","week":"week","day":"day"},"buttonIcons":{"prev":"left-single-arrow","next":"right-single-arrow","prevYear":"left-double-arrow","nextYear":"right-double-arrow"},"theme":!1,"themeButtonIcons":{"prev":"circle-triangle-w","next":"circle-triangle-e","prevYear":"seek-prev","nextYear":"seek-next"},"unselectAuto":!0,"dropAccept":"*","handleWindowResize":!0,"windowResizeDelay":200},Cb={"en":{"columnFormat":{"week":"ddd M/D"}}},Db={"header":{"left":"next,prev today","center":"","right":"title"},"buttonIcons":{"prev":"right-single-arrow","next":"left-single-arrow","prevYear":"right-double-arrow","nextYear":"left-double-arrow"},"themeButtonIcons":{"prev":"circle-triangle-e","next":"circle-triangle-w","nextYear":"seek-prev","prevYear":"seek-next"}},Eb=a.fullCalendar={"version":"2.0.2"},Fb=Eb.views={};a.fn.fullCalendar=function(b){var c=Array.prototype.slice.call(arguments,1),d=this;return this.each(function(e,f){var g,i=a(f),j=i.data("fullCalendar");"string"==typeof b?j&&a.isFunction(j[b])&&(g=j[b].apply(j,c),e||(d=g),"destroy"===b&&i.removeData("fullCalendar")):j||(j=new h(i,b),i.data("fullCalendar",j),j.render())}),d},Eb.langs=Cb,Eb.datepickerLang=function(b,c,d){var e=Cb[b];e||(e=Cb[b]={}),f(e,{"isRTL":d.isRTL,"weekNumberTitle":d.weekHeader,"titleFormat":{"month":d.showMonthAfterYear?"YYYY["+d.yearSuffix+"] MMMM":"MMMM YYYY["+d.yearSuffix+"]"},"defaultButtonText":{"prev":F(d.prevText),"next":F(d.nextText),"today":F(d.currentText)}}),a.datepicker&&(a.datepicker.regional[c]=a.datepicker.regional[b]=d,a.datepicker.regional.en=a.datepicker.regional[""],a.datepicker.setDefaults(d))},Eb.lang=function(a,b){var c;b&&(c=Cb[a],c||(c=Cb[a]={}),f(c,b||{})),Bb.lang=a},Eb.sourceNormalizers=[],Eb.sourceFetchers=[];var Gb={"dataType":"json","cache":!1},Hb=1;Eb.applyAll=J;var Ib=["sun","mon","tue","wed","thu","fri","sat"],Jb=/^\s*\d{4}-\d\d$/,Kb=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;Eb.moment=function(){return L(arguments)},Eb.moment.utc=function(){var a=L(arguments,!0);return a.hasTime()&&a.utc(),a},Eb.moment.parseZone=function(){return L(arguments,!0,!0)},M.prototype=l(b.fn),M.prototype.clone=function(){return L([this])},M.prototype.time=function(a){if(null==a)return b.duration({"hours":this.hours(),"minutes":this.minutes(),"seconds":this.seconds(),"milliseconds":this.milliseconds()});delete this._ambigTime,b.isDuration(a)||b.isMoment(a)||(a=b.duration(a));var c=0;return b.isDuration(a)&&(c=24*Math.floor(a.asDays())),this.hours(c+a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds())},M.prototype.stripTime=function(){var a=this.toArray();return b.fn.utc.call(this),this.year(a[0]).month(a[1]).date(a[2]).hours(0).minutes(0).seconds(0).milliseconds(0),this._ambigTime=!0,this._ambigZone=!0,this},M.prototype.hasTime=function(){return!this._ambigTime},M.prototype.stripZone=function(){var a=this.toArray(),c=this._ambigTime;return b.fn.utc.call(this),this.year(a[0]).month(a[1]).date(a[2]).hours(a[3]).minutes(a[4]).seconds(a[5]).milliseconds(a[6]),c&&(this._ambigTime=!0),this._ambigZone=!0,this},M.prototype.hasZone=function(){return!this._ambigZone},M.prototype.zone=function(a){return null!=a&&(delete this._ambigTime,delete this._ambigZone),b.fn.zone.apply(this,arguments)},M.prototype.local=function(){var a=this.toArray(),c=this._ambigZone;return delete this._ambigTime,delete this._ambigZone,b.fn.local.apply(this,arguments),c&&this.year(a[0]).month(a[1]).date(a[2]).hours(a[3]).minutes(a[4]).seconds(a[5]).milliseconds(a[6]),this},M.prototype.utc=function(){return delete this._ambigTime,delete this._ambigZone,b.fn.utc.apply(this,arguments)},M.prototype.format=function(){return arguments[0]?P(this,arguments[0]):this._ambigTime?O(this,"YYYY-MM-DD"):this._ambigZone?O(this,"YYYY-MM-DD[T]HH:mm:ss"):O(this)},M.prototype.toISOString=function(){return this._ambigTime?O(this,"YYYY-MM-DD"):this._ambigZone?O(this,"YYYY-MM-DD[T]HH:mm:ss"):b.fn.toISOString.apply(this,arguments)},M.prototype.isWithin=function(a,b){var c=N([this,a,b]);return c[0]>=c[1]&&c[0]<c[2]},a.each(["isBefore","isAfter","isSame"],function(a,c){M.prototype[c]=function(a,d){var e=N([this,a]);return b.fn[c].call(e[0],e[1],d)}});var Lb={"t":function(a){return O(a,"a").charAt(0)},"T":function(a){return O(a,"A").charAt(0)}};Eb.formatRange=S;var Mb={"Y":"year","M":"month","D":"day","d":"day","A":"second","a":"second","T":"second","t":"second","H":"second","h":"second","m":"second","s":"second"},Nb={};Fb.month=X,Fb.basicWeek=Y,Fb.basicDay=Z,e({"weekMode":"fixed"}),Fb.agendaWeek=ab,Fb.agendaDay=bb,e({"allDaySlot":!0,"allDayText":"all-day","scrollTime":"06:00:00","slotDuration":"00:30:00","axisFormat":cb,"timeFormat":{"agenda":db},"dragOpacity":{"agenda":.5},"minTime":"00:00:00","maxTime":"24:00:00","slotEventOverlap":!0})});
/*! SmartAdmin - v1.5 - 2014-10-16 */function SmartUnLoading(){$(".divMessageBox").fadeOut(300,function(){$(this).remove()}),$(".LoadingBoxContainer").fadeOut(300,function(){$(this).remove()})}function getInternetExplorerVersion(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a}function checkVersion(){var a="You're not using Windows Internet Explorer.",b=getInternetExplorerVersion();b>-1&&(a=b>=8?"You're using a recent copy of Windows Internet Explorer.":"You should upgrade your copy of Windows Internet Explorer."),alert(a)}function isIE8orlower(){var a="0",b=getInternetExplorerVersion();return b>-1&&(a=b>=9?0:1),a}jQuery(document).ready(function(){$("body").append("<div id='divSmallBoxes'></div>"),$("body").append("<div id='divMiniIcons'></div><div id='divbigBoxes'></div>")});var ExistMsg=0,SmartMSGboxCount=0,PrevTop=0;$.SmartMessageBox=function(a,b){var c,d;a=$.extend({"title":"","content":"","NormalButton":void 0,"ActiveButton":void 0,"buttons":void 0,"input":void 0,"inputValue":void 0,"placeholder":"","options":void 0},a);var e=0;if(e=1,0==isIE8orlower()&&$.sound_on){var f=document.createElement("audio");f.setAttribute("src",$.sound_path+"messagebox.mp3"),f.addEventListener("load",function(){f.play()},!0),f.pause(),f.play()}SmartMSGboxCount+=1,0==ExistMsg&&(ExistMsg=1,c="<div class='divMessageBox animated fadeIn fast' id='MsgBoxBack'></div>",$("body").append(c),1==isIE8orlower()&&$("#MsgBoxBack").addClass("MessageIE"));var g="",h=0;if(void 0!=a.input)switch(h=1,a.input=a.input.toLowerCase(),a.input){case"text":a.inputValue="string"===$.type(a.inputValue)?a.inputValue.replace(/'/g,"&#x27;"):a.inputValue,g="<input class='form-control' type='"+a.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+a.placeholder+"' value='"+a.inputValue+"'/><br/><br/>";break;case"password":g="<input class='form-control' type='"+a.input+"' id='txt"+SmartMSGboxCount+"' placeholder='"+a.placeholder+"'/><br/><br/>";break;case"select":if(void 0==a.options)alert("For this type of input, the options parameter is required.");else{g="<select class='form-control' id='txt"+SmartMSGboxCount+"'>";for(var i=0;i<=a.options.length-1;i++)"["==a.options[i]?j="":"]"==a.options[i]?(k+=1,j="<option>"+j+"</option>",g+=j):j+=a.options[i];g+="</select>"}break;default:alert("That type of input is not handled yet")}d="<div class='MessageBoxContainer animated fadeIn fast' id='Msg"+SmartMSGboxCount+"'>",d+="<div class='MessageBoxMiddle'>",d+="<span class='MsgTitle'>"+a.title+"</span class='MsgTitle'>",d+="<p class='pText'>"+a.content+"</p>",d+=g,d+="<div class='MessageBoxButtonSection'>",void 0==a.buttons&&(a.buttons="[Accept]"),a.buttons=$.trim(a.buttons),a.buttons=a.buttons.split("");var j="",k=0;void 0==a.NormalButton&&(a.NormalButton="#232323"),void 0==a.ActiveButton&&(a.ActiveButton="#ed145b");for(var i=0;i<=a.buttons.length-1;i++)"["==a.buttons[i]?j="":"]"==a.buttons[i]?(k+=1,j="<button id='bot"+k+"-Msg"+SmartMSGboxCount+"' class='btn btn-default btn-sm botTempo'> "+j+"</button>",d+=j):j+=a.buttons[i];d+="</div>",d+="</div>",d+="</div>",SmartMSGboxCount>1&&($(".MessageBoxContainer").hide(),$(".MessageBoxContainer").css("z-index",99999)),$(".divMessageBox").append(d),1==h&&$("#txt"+SmartMSGboxCount).focus(),$(".botTempo").hover(function(){$(this).attr("id")},function(){$(this).attr("id")}),$(".botTempo").click(function(){var a=$(this).attr("id"),c=a.substr(a.indexOf("-")+1),d=$.trim($(this).text());if(1==h){if("function"==typeof b){var e=c.replace("Msg",""),f=$("#txt"+e).val();b&&b(d,f)}}else"function"==typeof b&&b&&b(d);$("#"+c).addClass("animated fadeOut fast"),SmartMSGboxCount-=1,0==SmartMSGboxCount&&$("#MsgBoxBack").removeClass("fadeIn").addClass("fadeOut").delay(300).queue(function(){ExistMsg=0,$(this).remove()})})};var BigBoxes=0;$.bigBox=function(a,b){var c;if(a=$.extend({"title":"","content":"","icon":void 0,"number":void 0,"color":void 0,"sound":$.sound_on,"sound_file":"bigbox","timeout":void 0,"colortime":1500,"colors":void 0},a),a.sound&&0==isIE8orlower()){var d=document.createElement("audio");navigator.userAgent.match("Firefox/")?d.setAttribute("src",$.sound_path+a.sound_file+".ogg"):d.setAttribute("src",$.sound_path+a.sound_file+".mp3"),d.addEventListener("load",function(){d.play()},!0),d.pause(),d.play()}BigBoxes+=1,c="<div id='bigBox"+BigBoxes+"' class='bigBox animated fadeIn fast'><div id='bigBoxColor"+BigBoxes+"'><i class='botClose fa fa-times' id='botClose"+BigBoxes+"'></i>",c+="<span>"+a.title+"</span>",c+="<p>"+a.content+"</p>",c+="<div class='bigboxicon'>",void 0==a.icon&&(a.icon="fa fa-cloud"),c+="<i class='"+a.icon+"'></i>",c+="</div>",c+="<div class='bigboxnumber'>",void 0!=a.number&&(c+=a.number),c+="</div></div>",c+="</div>",$("#divbigBoxes").append(c),void 0==a.color&&(a.color="#004d60"),$("#bigBox"+BigBoxes).css("background-color",a.color),$("#divMiniIcons").append("<div id='miniIcon"+BigBoxes+"' class='cajita animated fadeIn' style='background-color: "+a.color+";'><i class='"+a.icon+"'/></i></div>"),$("#miniIcon"+BigBoxes).bind("click",function(){var a=$(this).attr("id"),b=a.replace("miniIcon","bigBox"),c=a.replace("miniIcon","bigBoxColor");$(".cajita").each(function(){var a=$(this).attr("id"),b=a.replace("miniIcon","bigBox");$("#"+b).css("z-index",9998)}),$("#"+b).css("z-index",9999),$("#"+c).removeClass("animated fadeIn").delay(1).queue(function(){$(this).show(),$(this).addClass("animated fadeIn"),$(this).clearQueue()})});var e,f=$("#botClose"+BigBoxes),g=$("#bigBox"+BigBoxes),h=$("#miniIcon"+BigBoxes);if(void 0!=a.colors&&a.colors.length>0&&(f.attr("colorcount","0"),e=setInterval(function(){var b=f.attr("colorcount");f.animate({"backgroundColor":a.colors[b].color}),g.animate({"backgroundColor":a.colors[b].color}),h.animate({"backgroundColor":a.colors[b].color}),b<a.colors.length-1?f.attr("colorcount",1*b+1):f.attr("colorcount",0)},a.colortime)),f.bind("click",function(){clearInterval(e),"function"==typeof b&&b&&b();var a=$(this).attr("id"),c=a.replace("botClose","bigBox"),d=a.replace("botClose","miniIcon");$("#"+c).removeClass("fadeIn fast"),$("#"+c).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue(),$(this).remove()}),$("#"+d).removeClass("fadeIn fast"),$("#"+d).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue(),$(this).remove()})}),void 0!=a.timeout){var i=BigBoxes;setTimeout(function(){clearInterval(e),$("#bigBox"+i).removeClass("fadeIn fast"),$("#bigBox"+i).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue(),$(this).remove()}),$("#miniIcon"+i).removeClass("fadeIn fast"),$("#miniIcon"+i).addClass("fadeOut fast").delay(300).queue(function(){$(this).clearQueue(),$(this).remove()})},a.timeout)}};var SmallBoxes=0,SmallCount=0,SmallBoxesAnchos=0;$.smallBox=function(a,b){var c;if(a=$.extend({"title":"","content":"","icon":void 0,"iconSmall":void 0,"sound":$.sound_on,"sound_file":"smallbox","color":void 0,"timeout":void 0,"colortime":1500,"colors":void 0},a),a.sound&&0==isIE8orlower()){var d=document.createElement("audio");navigator.userAgent.match("Firefox/")?d.setAttribute("src",$.sound_path+a.sound_file+".ogg"):d.setAttribute("src",$.sound_path+a.sound_file+".mp3"),d.addEventListener("load",function(){d.play()},!0),d.pause(),d.play()}SmallBoxes+=1,c="";var e="",f="smallbox"+SmallBoxes;if(e=void 0==a.iconSmall?"<div class='miniIcono'></div>":"<div class='miniIcono'><i class='miniPic "+a.iconSmall+"'></i></div>",c=void 0==a.icon?"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='textoFull'><span>"+a.title+"</span><p>"+a.content+"</p></div>"+e+"</div>":"<div id='smallbox"+SmallBoxes+"' class='SmallBox animated fadeInRight fast'><div class='foto'><i class='"+a.icon+"'></i></div><div class='textoFoto'><span>"+a.title+"</span><p>"+a.content+"</p></div>"+e+"</div>",1==SmallBoxes)$("#divSmallBoxes").append(c),SmallBoxesAnchos=$("#smallbox"+SmallBoxes).height()+40;else{var g=$(".SmallBox").size();0==g?($("#divSmallBoxes").append(c),SmallBoxesAnchos=$("#smallbox"+SmallBoxes).height()+40):($("#divSmallBoxes").append(c),$("#smallbox"+SmallBoxes).css("top",SmallBoxesAnchos),SmallBoxesAnchos=SmallBoxesAnchos+$("#smallbox"+SmallBoxes).height()+20,$(".SmallBox").each(function(a){0==a?($(this).css("top",20),heightPrev=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).css("top",heightPrev),heightPrev=heightPrev+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)}))}var h=$("#smallbox"+SmallBoxes);void 0==a.color?h.css("background-color","#004d60"):h.css("background-color",a.color);var i;void 0!=a.colors&&a.colors.length>0&&(h.attr("colorcount","0"),i=setInterval(function(){var b=h.attr("colorcount");h.animate({"backgroundColor":a.colors[b].color}),b<a.colors.length-1?h.attr("colorcount",1*b+1):h.attr("colorcount",0)},a.colortime)),void 0!=a.timeout&&setTimeout(function(){clearInterval(i);{var a=$(this).height()+20;$("#"+f).css("top")}0!=$("#"+f+":hover").length?$("#"+f).on("mouseleave",function(){SmallBoxesAnchos-=a,$("#"+f).remove(),"function"==typeof b&&b&&b();var c=0;$(".SmallBox").each(function(a){0==a?($(this).animate({"top":20},300),c=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({"top":c},350),c=c+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})}):(clearInterval(i),SmallBoxesAnchos-=a,"function"==typeof b&&b&&b(),$("#"+f).removeClass().addClass("SmallBox").animate({"opacity":0},300,function(){$(this).remove();var a=0;$(".SmallBox").each(function(b){0==b?($(this).animate({"top":20},300),a=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({"top":a}),a=a+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})}))},a.timeout),$("#smallbox"+SmallBoxes).bind("click",function(){clearInterval(i),"function"==typeof b&&b&&b();{var a=$(this).height()+20;$(this).attr("id"),$(this).css("top")}SmallBoxesAnchos-=a,$(this).removeClass().addClass("SmallBox").animate({"opacity":0},300,function(){$(this).remove();var a=0;$(".SmallBox").each(function(b){0==b?($(this).animate({"top":20},300),a=$(this).height()+40,SmallBoxesAnchos=$(this).height()+40):($(this).animate({"top":a},350),a=a+$(this).height()+20,SmallBoxesAnchos=SmallBoxesAnchos+$(this).height()+20)})})})};
!function(a,b,c,d){function g(b,c){this.obj=a(b),this.o=a.extend({},a.fn[e].defaults,c),this.objId=this.obj.attr("id"),this.pwCtrls=".jarviswidget-ctrls",this.widget=this.obj.find(this.o.widgets),this.toggleClass=this.o.toggleClass.split("|"),this.editClass=this.o.editClass.split("|"),this.fullscreenClass=this.o.fullscreenClass.split("|"),this.customClass=this.o.customClass.split("|"),this.storage={enabled:this.o.localStorage},this.initialized=!1,this.init()}var e="jarvisWidgets",f=("ontouchstart"in b||b.DocumentTouch&&c instanceof DocumentTouch?"touchstart":"click")+"."+e;g.prototype={_runLoaderWidget:function(a){var b=this;b.o.indicator===!0&&a.parents(b.o.widgets).find(".jarviswidget-loader:first").stop(!0,!0).fadeIn(100).delay(b.o.indicatorTime).fadeOut(100)},_getPastTimestamp:function(a){var b=this,c=new Date(a),d=c.getMonth()+1,e=c.getDate(),f=c.getFullYear(),g=c.getHours(),h=c.getMinutes(),i=c.getUTCSeconds();d<10&&(d="0"+d),e<10&&(e="0"+e),g<10&&(g="0"+g),h<10&&(h="0"+h),i<10&&(i="0"+i);var j=b.o.timestampFormat.replace(/%d%/g,e).replace(/%m%/g,d).replace(/%y%/g,f).replace(/%h%/g,g).replace(/%i%/g,h).replace(/%s%/g,i);return j},_loadAjaxFile:function(b,c,d){var e=this;b.find(".widget-body").load(c,function(c,d,f){var g=a(this);if("error"==d&&g.html('<h4 class="alert alert-danger">'+e.o.labelError+"<b> "+f.status+" "+f.statusText+"</b></h4>"),"success"==d){var h=b.find(e.o.timestampPlaceholder);h.length&&h.html(e._getPastTimestamp(new Date)),"function"==typeof e.o.afterLoad&&e.o.afterLoad.call(this,b)}e=null}),this._runLoaderWidget(d)},_loadKeys:function(){var a=this;if(a.o.ajaxnav===!0){var b=location.hash.replace(/^#/,"");a.storage.keySettings="Plugin_settings_"+b+"_"+a.objId,a.storage.keyPosition="Plugin_position_"+b+"_"+a.objId}else if(a.initialized===!1){var b=a.o.pageKey||location.pathname;a.storage.keySettings="jarvisWidgets_settings_"+b+"_"+a.objId,a.storage.keyPosition="jarvisWidgets_position_"+b+"_"+a.objId}},_saveSettingsWidget:function(){var b=this,c=b.storage;b._loadKeys();var d=b.obj.find(b.o.widgets).map(function(){var b={};return b.id=a(this).attr("id"),b.style=a(this).attr("data-widget-attstyle"),b.title=a(this).children("header").children("h2").text(),b.hidden="none"==a(this).css("display")?1:0,b.collapsed=a(this).hasClass("jarviswidget-collapsed")?1:0,b}).get(),e=JSON.stringify({widget:d});c.enabled&&c.getKeySettings!=e&&(localStorage.setItem(c.keySettings,e),c.getKeySettings=e),"function"==typeof b.o.onSave&&b.o.onSave.call(this,null,e,c.keySettings)},_savePositionWidget:function(){var b=this,c=b.storage;b._loadKeys();var d=b.obj.find(b.o.grid+".sortable-grid").map(function(){var c=a(this).children(b.o.widgets).map(function(){return{id:a(this).attr("id")}}).get();return{section:c}}).get(),e=JSON.stringify({grid:d});c.enabled&&c.getKeyPosition!=e&&(localStorage.setItem(c.keyPosition,e),c.getKeyPosition=e),"function"==typeof b.o.onSave&&b.o.onSave.call(this,e,c.keyPosition)},init:function(){var b=this;if(!b.initialized){if(b._initStorage(b.storage),!a("#"+b.objId).length,b.o.rtl===!0&&a("body").addClass("rtl"),a(b.o.grid).each(function(){a(this).find(b.o.widgets).length&&a(this).addClass("sortable-grid")}),b.storage.enabled&&b.storage.getKeyPosition){var c=JSON.parse(b.storage.getKeyPosition);for(var g in c.grid){var h=b.obj.find(b.o.grid+".sortable-grid").eq(g);for(var i in c.grid[g].section)h.append(a("#"+c.grid[g].section[i].id))}}if(b.storage.enabled&&b.storage.getKeySettings){var j=JSON.parse(b.storage.getKeySettings);for(var g in j.widget){var k=a("#"+j.widget[g].id);j.widget[g].style&&k.removeClassPrefix("jarviswidget-color-").addClass(j.widget[g].style).attr("data-widget-attstyle",""+j.widget[g].style),1==j.widget[g].hidden?k.hide(1):k.show(1).removeAttr("data-widget-hidden"),1==j.widget[g].collapsed&&k.addClass("jarviswidget-collapsed").children("div").hide(1),k.children("header").children("h2").text()!=j.widget[g].title&&k.children("header").children("h2").text(j.widget[g].title)}}if(b.widget.each(function(){var f,g,h,i,j,k,l,m,c=a(this),e=a(this).children("header");if(!e.parent().attr("role")){c.data("widget-hidden")===!0&&c.hide(),c.data("widget-collapsed")===!0&&c.addClass("jarviswidget-collapsed").children("div").hide(),f=b.o.customButton===!0&&c.data("widget-custombutton")===d&&0!==b.customClass[0].length?'<a href="javascript:void(0);" class="button-icon jarviswidget-custom-btn"><i class="'+b.customClass[0]+'"></i></a>':"",g=b.o.deleteButton===!0&&c.data("widget-deletebutton")===d?'<a href="javascript:void(0);" class="button-icon jarviswidget-delete-btn" rel="tooltip" title="Delete" data-placement="bottom"><i class="'+b.o.deleteClass+'"></i></a>':"",h=b.o.editButton===!0&&c.data("widget-editbutton")===d?'<a href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit" data-placement="bottom"><i class="'+b.editClass[0]+'"></i></a>':"",i=b.o.fullscreenButton===!0&&c.data("widget-fullscreenbutton")===d?'<a href="javascript:void(0);" class="button-icon jarviswidget-fullscreen-btn" rel="tooltip" title="Fullscreen" data-placement="bottom"><i class="'+b.fullscreenClass[0]+'"></i></a>':"",b.o.colorButton===!0&&c.data("widget-colorbutton")===d?(j='<a data-toggle="dropdown" class="dropdown-toggle color-box selector" href="javascript:void(0);"></a><ul class="dropdown-menu arrow-box-up-right color-select pull-right"><li><span class="bg-color-green" data-widget-setstyle="jarviswidget-color-green" rel="tooltip" data-placement="left" data-original-title="Green Grass"></span></li><li><span class="bg-color-greenDark" data-widget-setstyle="jarviswidget-color-greenDark" rel="tooltip" data-placement="top" data-original-title="Dark Green"></span></li><li><span class="bg-color-greenLight" data-widget-setstyle="jarviswidget-color-greenLight" rel="tooltip" data-placement="top" data-original-title="Light Green"></span></li><li><span class="bg-color-purple" data-widget-setstyle="jarviswidget-color-purple" rel="tooltip" data-placement="top" data-original-title="Purple"></span></li><li><span class="bg-color-magenta" data-widget-setstyle="jarviswidget-color-magenta" rel="tooltip" data-placement="top" data-original-title="Magenta"></span></li><li><span class="bg-color-pink" data-widget-setstyle="jarviswidget-color-pink" rel="tooltip" data-placement="right" data-original-title="Pink"></span></li><li><span class="bg-color-pinkDark" data-widget-setstyle="jarviswidget-color-pinkDark" rel="tooltip" data-placement="left" data-original-title="Fade Pink"></span></li><li><span class="bg-color-blueLight" data-widget-setstyle="jarviswidget-color-blueLight" rel="tooltip" data-placement="top" data-original-title="Light Blue"></span></li><li><span class="bg-color-teal" data-widget-setstyle="jarviswidget-color-teal" rel="tooltip" data-placement="top" data-original-title="Teal"></span></li><li><span class="bg-color-blue" data-widget-setstyle="jarviswidget-color-blue" rel="tooltip" data-placement="top" data-original-title="Ocean Blue"></span></li><li><span class="bg-color-blueDark" data-widget-setstyle="jarviswidget-color-blueDark" rel="tooltip" data-placement="top" data-original-title="Night Sky"></span></li><li><span class="bg-color-darken" data-widget-setstyle="jarviswidget-color-darken" rel="tooltip" data-placement="right" data-original-title="Night"></span></li><li><span class="bg-color-yellow" data-widget-setstyle="jarviswidget-color-yellow" rel="tooltip" data-placement="left" data-original-title="Day Light"></span></li><li><span class="bg-color-orange" data-widget-setstyle="jarviswidget-color-orange" rel="tooltip" data-placement="bottom" data-original-title="Orange"></span></li><li><span class="bg-color-orangeDark" data-widget-setstyle="jarviswidget-color-orangeDark" rel="tooltip" data-placement="bottom" data-original-title="Dark Orange"></span></li><li><span class="bg-color-red" data-widget-setstyle="jarviswidget-color-red" rel="tooltip" data-placement="bottom" data-original-title="Red Rose"></span></li><li><span class="bg-color-redLight" data-widget-setstyle="jarviswidget-color-redLight" rel="tooltip" data-placement="bottom" data-original-title="Light Red"></span></li><li><span class="bg-color-white" data-widget-setstyle="jarviswidget-color-white" rel="tooltip" data-placement="right" data-original-title="Purity"></span></li><li><a href="javascript:void(0);" class="jarviswidget-remove-colors" data-widget-setstyle="" rel="tooltip" data-placement="bottom" data-original-title="Reset widget color to default">Remove</a></li></ul>',e.prepend('<div class="widget-toolbar">'+j+"</div>")):j="",b.o.toggleButton===!0&&c.data("widget-togglebutton")===d?(l=c.data("widget-collapsed")===!0||c.hasClass("jarviswidget-collapsed")?b.toggleClass[1]:b.toggleClass[0],k='<a href="javascript:void(0);" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="Collapse" data-placement="bottom"><i class="'+l+'"></i></a>'):k="",m=b.o.refreshButton===!0&&c.data("widget-refreshbutton")!==!1&&c.data("widget-load")?'<a href="javascript:void(0);" class="button-icon jarviswidget-refresh-btn" data-loading-text="&nbsp;&nbsp;Loading...&nbsp;" rel="tooltip" title="Refresh" data-placement="bottom"><i class="'+b.o.refreshButtonClass+'"></i></a>':"";var n=b.o.buttonOrder.replace(/%refresh%/g,m).replace(/%delete%/g,g).replace(/%custom%/g,f).replace(/%fullscreen%/g,i).replace(/%edit%/g,h).replace(/%toggle%/g,k);""===m&&""===g&&""===f&&""===i&&""===h&&""===k||e.prepend('<div class="jarviswidget-ctrls">'+n+"</div>"),b.o.sortable===!0&&c.data("widget-sortable")===d&&c.addClass("jarviswidget-sortable"),c.find(b.o.editPlaceholder).length&&c.find(b.o.editPlaceholder).find("input").val(a.trim(e.children("h2").text())),e.append('<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span>'),c.attr("role","widget").children("div").attr("role","content").prev("header").attr("role","heading").children("div").attr("role","menu")}}),b.o.buttonsHidden===!0&&a(b.o.pwCtrls).hide(),a(".jarviswidget header [rel=tooltip]").tooltip(),b.obj.find("[data-widget-load]").each(function(){var c=a(this),d=c.children(),e=c.data("widget-load"),f=1e3*c.data("widget-refresh");c.children();c.find(".jarviswidget-ajax-placeholder").length||(c.children("widget-body").append('<div class="jarviswidget-ajax-placeholder">'+b.o.loadingLabel+"</div>"),c.data("widget-refresh")>0?(b._loadAjaxFile(c,e,d),a.intervalArr.push(setInterval(function(){b._loadAjaxFile(c,e,d)},f))):b._loadAjaxFile(c,e,d))}),b.o.sortable===!0&&jQuery.ui){var l=b.obj.find(b.o.grid+".sortable-grid").not("[data-widget-excludegrid]");l.sortable({items:l.find(b.o.widgets+".jarviswidget-sortable"),connectWith:l,placeholder:b.o.placeholderClass,cursor:"move",revert:!0,opacity:b.o.opacity,delay:200,cancel:".button-icon, #jarviswidget-fullscreen-mode > div",zIndex:1e4,handle:b.o.dragHandle,forcePlaceholderSize:!0,forceHelperSize:!0,update:function(a,c){b._runLoaderWidget(c.item.children()),b._savePositionWidget(),"function"==typeof b.o.onChange&&b.o.onChange.call(this,c.item)}})}b.o.buttonsHidden===!0&&b.widget.children("header").on("mouseenter."+e,function(){a(this).children(b.o.pwCtrls).stop(!0,!0).fadeTo(100,1)}).on("mouseleave."+e,function(){a(this).children(b.o.pwCtrls).stop(!0,!0).fadeTo(100,0)}),b._clickEvents(),b.storage.enabled&&(a(b.o.deleteSettingsKey).on(f,this,function(a){var c=confirm(b.o.settingsKeyLabel);c&&localStorage.removeItem(keySettings),a.preventDefault()}),a(b.o.deletePositionKey).on(f,this,function(a){var c=confirm(b.o.positionKeyLabel);c&&localStorage.removeItem(keyPosition),a.preventDefault()})),initialized=!0}},_initStorage:function(a){a.enabled=a.enabled&&!!function(){var a,b=+new Date;try{return localStorage.setItem(b,b),a=localStorage.getItem(b)==b,localStorage.removeItem(b),a}catch(a){}}(),this._loadKeys(),a.enabled&&(a.getKeySettings=localStorage.getItem(a.keySettings),a.getKeyPosition=localStorage.getItem(a.keyPosition))},_clickEvents:function(){function g(){if(a("#jarviswidget-fullscreen-mode").length){var d=a(b).height(),e=a("#jarviswidget-fullscreen-mode").children(c.o.widgets).children("header").height();a("#jarviswidget-fullscreen-mode").children(c.o.widgets).children("div").height(d-e-15)}}var c=this,d=c.widget.children("header");d.on(f,".jarviswidget-toggle-btn",function(b){var d=a(this),e=d.parents(c.o.widgets);c._runLoaderWidget(d),e.hasClass("jarviswidget-collapsed")?d.children().removeClass(c.toggleClass[1]).addClass(c.toggleClass[0]).parents(c.o.widgets).removeClass("jarviswidget-collapsed").children("[role=content]").slideDown(c.o.toggleSpeed,function(){c._saveSettingsWidget()}):d.children().removeClass(c.toggleClass[0]).addClass(c.toggleClass[1]).parents(c.o.widgets).addClass("jarviswidget-collapsed").children("[role=content]").slideUp(c.o.toggleSpeed,function(){c._saveSettingsWidget()}),"function"==typeof c.o.onToggle&&c.o.onToggle.call(this,e),b.preventDefault()}),d.on(f,".jarviswidget-fullscreen-btn",function(b){var d=a(this).parents(c.o.widgets),e=d.children("div");c._runLoaderWidget(a(this)),a("#jarviswidget-fullscreen-mode").length?(a(".nooverflow").removeClass("nooverflow"),d.unwrap("<div>").children("div").removeAttr("style").end().find(".jarviswidget-fullscreen-btn:first").children().removeClass(c.fullscreenClass[1]).addClass(c.fullscreenClass[0]).parents(c.pwCtrls).children("a").show(),e.hasClass("jarviswidget-visible")&&e.hide().removeClass("jarviswidget-visible")):(a("body").addClass("nooverflow"),d.wrap('<div id="jarviswidget-fullscreen-mode"/>').parent().find(".jarviswidget-fullscreen-btn:first").children().removeClass(c.fullscreenClass[0]).addClass(c.fullscreenClass[1]).parents(c.pwCtrls).children("a:not(.jarviswidget-fullscreen-btn)").hide(),e.is(":hidden")&&e.show().addClass("jarviswidget-visible")),g(),"function"==typeof c.o.onFullscreen&&c.o.onFullscreen.call(this,d),b.preventDefault()}),a(b).on("resize."+e,function(){g()}),d.on(f,".jarviswidget-edit-btn",function(b){var d=a(this).parents(c.o.widgets);c._runLoaderWidget(a(this)),d.find(c.o.editPlaceholder).is(":visible")?a(this).children().removeClass(c.editClass[1]).addClass(c.editClass[0]).parents(c.o.widgets).find(c.o.editPlaceholder).slideUp(c.o.editSpeed,function(){c._saveSettingsWidget()}):a(this).children().removeClass(c.editClass[0]).addClass(c.editClass[1]).parents(c.o.widgets).find(c.o.editPlaceholder).slideDown(c.o.editSpeed),"function"==typeof c.o.onEdit&&c.o.onEdit.call(this,d),b.preventDefault()}),a(c.o.editPlaceholder).find("input").keyup(function(){a(this).parents(c.o.widgets).children("header").children("h2").text(a(this).val())}),d.on(f,"[data-widget-setstyle]",function(b){var d=a(this).data("widget-setstyle"),e="";a(this).parents(c.o.editPlaceholder).find("[data-widget-setstyle]").each(function(){e+=a(this).data("widget-setstyle")+" "}),a(this).parents(c.o.widgets).attr("data-widget-attstyle",""+d).removeClassPrefix("jarviswidget-color-").addClass(d),c._runLoaderWidget(a(this)),c._saveSettingsWidget(),b.preventDefault()}),d.on(f,".jarviswidget-custom-btn",function(b){var d=a(this).parents(c.o.widgets);c._runLoaderWidget(a(this)),a(this).children("."+c.customClass[0]).length?(a(this).children().removeClass(c.customClass[0]).addClass(c.customClass[1]),"function"==typeof c.o.customStart&&c.o.customStart.call(this,d)):(a(this).children().removeClass(c.customClass[1]).addClass(c.customClass[0]),"function"==typeof c.o.customEnd&&c.o.customEnd.call(this,d)),c._saveSettingsWidget(),b.preventDefault()}),d.on(f,".jarviswidget-delete-btn",function(b){var d=a(this).parents(c.o.widgets),e=d.attr("id"),f=d.children("header").children("h2").text();a.SmartMessageBox?a.SmartMessageBox({title:"<i class='fa fa-times' style='color:#ed1c24'></i> "+c.o.labelDelete+' "'+f+'"',content:c.o.deleteMsg,buttons:"[No][Yes]"},function(b){"Yes"==b&&(c._runLoaderWidget(a(this)),a("#"+e).fadeOut(c.o.deleteSpeed,function(){a(this).remove(),"function"==typeof c.o.onDelete&&c.o.onDelete.call(this,d)}))}):a("#"+e).fadeOut(c.o.deleteSpeed,function(){a(this).remove(),"function"==typeof c.o.onDelete&&c.o.onDelete.call(this,d)}),b.preventDefault()}),d.on(f,".jarviswidget-refresh-btn",function(b){var d=a(this).parents(c.o.widgets),e=d.data("widget-load"),f=d.children(),g=a(this);g.button("loading"),f.addClass("widget-body-ajax-loading"),setTimeout(function(){g.button("reset"),f.removeClass("widget-body-ajax-loading"),c._loadAjaxFile(d,e,f)},1e3),b.preventDefault()}),d=null},destroy:function(){var c=this,d="."+e,f=c.obj.find(c.o.grid+".sortable-grid").not("[data-widget-excludegrid]");f.sortable("destroy"),c.widget.children("header").off(d),a(c.o.deleteSettingsKey).off(d),a(c.o.deletePositionKey).off(d),a(b).off(d),c.obj.removeData(e)}},a.fn[e]=function(b){return this.each(function(){var c=a(this),d=c.data(e);if(!d){var f="object"==typeof b&&b;c.data(e,d=new g(this,f))}"string"==typeof b&&d[b]()})},a.fn[e].defaults={grid:"section",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"",settingsKeyLabel:"Reset settings?",deletePositionKey:"",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"min-10 | plus-10",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteMsg:"Warning: This action cannot be undone",deleteClass:"trashcan-10",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"pencil-10 | delete-10",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fullscreen-10 | normalscreen-10",fullscreenDiff:3,onFullscreen:function(){},customButton:!0,customClass:"",customStart:function(){},customEnd:function(){},buttonOrder:"%refresh% %delete% %custom% %edit% %fullscreen% %toggle%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,loadingLabel:"loading...",timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"refresh-10",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:!0},a.fn.removeClassPrefix=function(b){return this.each(function(c,d){var e=d.className.split(" ").map(function(a){return 0===a.indexOf(b)?"":a});d.className=a.trim(e.join(" "))}),this}}(jQuery,window,document);
/**!
 * easyPieChart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license 
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.1.4
 **/
!function(a,b){"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):b(a.jQuery)}(this,function(a){var b=function(a,b){var c,d=document.createElement("canvas");a.appendChild(d),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size;var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((-0.5+b.rotate/180)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=0>=c?!0:!1;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)d%6===0?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.lineWidth,1)};this.getCanvas=function(){return d},this.getCtx=function(){return e},this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration),g=b.easing(this,f,a,c-a,b.animate.duration);this.draw(g),b.onStep(a,c,g),f>=b.animate.duration?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(a,b,c,d,e){return b/=e/2,1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&"undefined"!=typeof c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));e.easing="string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?jQuery.easing[e.easing]:d.easing,"number"==typeof e.animate&&(e.animate={duration:e.animate,enabled:!0}),"boolean"!=typeof e.animate||e.animate||(e.animate={duration:1e3,enabled:e.animate}),this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate.enabled?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),this.disableAnimation=function(){return e.animate.enabled=!1,this},this.enableAnimation=function(){return e.animate.enabled=!0,this},g()};a.fn.easyPieChart=function(b){return this.each(function(){var d;a.data(this,"easyPieChart")||(d=a.extend({},b,a(this).data()),a.data(this,"easyPieChart",new c(this,d)))})}});
/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.3 - 2015-10-11
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */!function(a,b){"use strict";var c=b.isDefined,d=b.isUndefined,e=b.isNumber,f=b.isObject,g=b.isArray,h=b.extend,i=b.toJson,j=b.module("LocalStorageModule",[]);j.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(a){return this.prefix=a,this},this.setStorageType=function(a){return this.storageType=a,this},this.setStorageCookie=function(a,b){return this.cookie.expiry=a,this.cookie.path=b,this},this.setStorageCookieDomain=function(a){return this.cookie.domain=a,this},this.setNotify=function(a,b){return this.notify={setItem:a,removeItem:b},this},this.$get=["$rootScope","$window","$document","$parse",function(a,b,j,k){var l,m=this,n=m.prefix,o=m.cookie,p=m.notify,q=m.storageType;j?j[0]&&(j=j[0]):j=document,"."!==n.substr(-1)&&(n=n?n+".":"");var r=function(a){return n+a},s=function(){try{var c=q in b&&null!==b[q],d=r("__"+Math.round(1e7*Math.random()));return c&&(l=b[q],l.setItem(d,""),l.removeItem(d)),c}catch(e){return q="cookie",a.$broadcast("LocalStorageModule.notification.error",e.message),!1}}(),t=function(b,c){if(c=d(c)?null:i(c),!s||"cookie"===m.storageType)return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),p.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:"cookie"}),z(b,c);try{l&&l.setItem(r(b),c),p.setItem&&a.$broadcast("LocalStorageModule.notification.setitem",{key:b,newvalue:c,storageType:m.storageType})}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.message),z(b,c)}return!0},u=function(b){if(!s||"cookie"===m.storageType)return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),A(b);var c=l?l.getItem(r(b)):null;if(!c||"null"===c)return null;try{return JSON.parse(c)}catch(d){return c}},v=function(){var b,c;for(b=0;b<arguments.length;b++)if(c=arguments[b],s&&"cookie"!==m.storageType)try{l.removeItem(r(c)),p.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:m.storageType})}catch(d){a.$broadcast("LocalStorageModule.notification.error",d.message),B(c)}else s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),p.removeItem&&a.$broadcast("LocalStorageModule.notification.removeitem",{key:c,storageType:"cookie"}),B(c)},w=function(){if(!s)return a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var b=n.length,c=[];for(var d in l)if(d.substr(0,b)===n)try{c.push(d.substr(b))}catch(e){return a.$broadcast("LocalStorageModule.notification.error",e.Description),[]}return c},x=function(b){var c=n?new RegExp("^"+n):new RegExp,d=b?new RegExp(b):new RegExp;if(!s||"cookie"===m.storageType)return s||a.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),C();var e=n.length;for(var f in l)if(c.test(f)&&d.test(f.substr(e)))try{v(f.substr(e))}catch(g){return a.$broadcast("LocalStorageModule.notification.error",g.message),C()}return!0},y=function(){try{return b.navigator.cookieEnabled||"cookie"in j&&(j.cookie.length>0||(j.cookie="test").indexOf.call(j.cookie,"test")>-1)}catch(c){return a.$broadcast("LocalStorageModule.notification.error",c.message),!1}}(),z=function(b,c,h){if(d(c))return!1;if((g(c)||f(c))&&(c=i(c)),!y)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var k="",l=new Date,m="";if(null===c?(l.setTime(l.getTime()+-864e5),k="; expires="+l.toGMTString(),c=""):e(h)&&0!==h?(l.setTime(l.getTime()+24*h*60*60*1e3),k="; expires="+l.toGMTString()):0!==o.expiry&&(l.setTime(l.getTime()+24*o.expiry*60*60*1e3),k="; expires="+l.toGMTString()),b){var n="; path="+o.path;o.domain&&(m="; domain="+o.domain),j.cookie=r(b)+"="+encodeURIComponent(c)+k+n+m}}catch(p){return a.$broadcast("LocalStorageModule.notification.error",p.message),!1}return!0},A=function(b){if(!y)return a.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var c=j.cookie&&j.cookie.split(";")||[],d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(r(b)+"=")){var f=decodeURIComponent(e.substring(n.length+b.length+1,e.length));try{return JSON.parse(f)}catch(g){return f}}}return null},B=function(a){z(a,null)},C=function(){for(var a=null,b=n.length,c=j.cookie.split(";"),d=0;d<c.length;d++){for(a=c[d];" "===a.charAt(0);)a=a.substring(1,a.length);var e=a.substring(b,a.indexOf("="));B(e)}},D=function(){return q},E=function(a,b,d,e){e=e||b;var g=u(e);return null===g&&c(d)?g=d:f(g)&&f(d)&&(g=h(d,g)),k(b).assign(a,g),a.$watch(b,function(a){t(e,a)},f(a[b]))},F=function(){for(var a=0,c=b[q],d=0;d<c.length;d++)0===c.key(d).indexOf(n)&&a++;return a};return{isSupported:s,getStorageType:D,set:t,add:t,get:u,keys:w,remove:v,clearAll:x,bind:E,deriveKey:r,length:F,cookie:{isSupported:y,set:z,add:z,get:A,remove:B,clearAll:C}}}]})}(window,window.angular);
/*!
 * angular-translate - v2.9.2 - 2016-02-21
 * 
 * Copyright (c) 2016 The angular-translate team, Pascal Precht; Licensed MIT
 */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b))["catch"](d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c=null,d=!1,e=!1;b={sanitize:function(a,b){return"text"===b&&(a=g(a)),a},escape:function(a,b){return"text"===b&&(a=f(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=h(a,g)),a},escapeParameters:function(a,b){return"params"===b&&(a=h(a,f)),a}},b.escaped=b.escapeParameters,this.addStrategy=function(a,c){return b[a]=c,this},this.removeStrategy=function(a){return delete b[a],this},this.useStrategy=function(a){return d=!0,c=a,this},this.$get=["$injector","$log",function(f,g){var h={},i=function(a,c,d){return angular.forEach(d,function(d){if(angular.isFunction(d))a=d(a,c);else if(angular.isFunction(b[d]))a=b[d](a,c);else{if(!angular.isString(b[d]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'");if(!h[b[d]])try{h[b[d]]=f.get(b[d])}catch(e){throw h[b[d]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'")}a=h[b[d]](a,c)}}),a},j=function(){d||e||(g.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),e=!0)};return f.has("$sanitize")&&(a=f.get("$sanitize")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,d){if(c||j(),arguments.length<3&&(d=c),!d)return a;var e=angular.isArray(d)?d:[d];return i(a,b,e)}}}];var f=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},g=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},h=function(a,b,c){if(angular.isObject(a)){var d=angular.isArray(a)?[]:{};if(c){if(c.indexOf(a)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else c=[];return c.push(a),angular.forEach(a,function(a,e){d[e]=h(a,b,c)}),c.splice(-1,1),d}return angular.isNumber(a)?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={},u=[],v=a,w=[],x="translate-cloak",y=!1,z=!1,A=".",B=!1,C=0,D=!0,E="default",F={"default":function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c.length>1?c[0].toLowerCase()+"-"+c[1].toUpperCase():b}},G="2.9.2",H=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};H.displayName="angular-translate/service: getFirstBrowserLanguage";var I=function(){var a=H()||"";return F[E]&&(a=F[E](a)),a};I.displayName="angular-translate/service: getLocale";var J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=function(){return this.toString().replace(/^\s+|\s+$/g,"")},L=function(a){if(a){for(var b=[],c=angular.lowercase(a),d=0,e=u.length;e>d;d++)b.push(angular.lowercase(u[d]));if(J(b,c)>-1)return a;if(f){var g;for(var h in f){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=f[h],J(b,angular.lowercase(g))>-1))return g}}var k=a.split("_");return k.length>1&&J(b,angular.lowercase(k[0]))>-1?k[0]:void 0}},M=function(a,b){if(!a&&!b)return t;if(a&&!b){if(angular.isString(a))return t[a]}else angular.isObject(t[a])||(t[a]={}),angular.extend(t[a],N(b));return this};this.translations=M,this.cloakClassName=function(a){return a?(x=a,this):x},this.nestedObjectDelimeter=function(a){return a?(A=a,this):A};var N=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?N(h,b.concat(e),c,e):(f=b.length?""+b.join(A)+A+e:e,b.length&&e===d&&(g=""+b.join(A),c[g]="@:"+f),c[f]=h));return c};N.displayName="flatObject",this.addInterpolation=function(a){return w.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return a?(O(a),this):e};var O=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return P(a),this};var P=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&J(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!t[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i};var Q=function(a){return a?(v=a,this):l?l+v:v};this.storageKey=Q,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return y=!!a,this},this.forceAsyncReload=function(a){return z=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},E=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():I();return e=u.length?L(b)||b:b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(u=a,b&&(f=b),this):u},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?C:(C=a,this)},this.statefulFilter=function(a){return void 0===a?D:(D=a,this)},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,u,E=b.get(n||"$translateDefaultInterpolation"),F=!1,H={},I={},R=function(a,b,c,h,j){var m=j&&j!==i?L(j)||j:i;if(angular.isArray(a)){var n=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return R(a,b,c,h,j).then(g,g),f.promise},i=0,k=a.length;k>i;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return n(a)}var o=d.defer();a&&(a=K.apply(a));var p=function(){var a=e?I[e]:I[m];if(l=0,k&&!a){var b=f.get(v);if(a=I[b],g&&g.length){var c=J(g,b);l=0===c?1:0,J(g,e)<0&&g.push(e)}}return a}();if(p){var q=function(){j||(m=i),ca(a,b,c,h,m).then(o.resolve,o.reject)};q.displayName="promiseResolved",p["finally"](q)}else ca(a,b,c,h,m).then(o.resolve,o.reject);return o.promise},S=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},T=function(a){i=a,k&&f.put(R.storageKey(),i),c.$emit("$translateChangeSuccess",{language:a}),E.setLocale(i);var b=function(a,b){H[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(H,b),c.$emit("$translateChangeEnd",{language:a})},U=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),F=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,N(a))}):angular.extend(d,N(b)),F=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(w.length){var V=function(a){var c=b.get(a);c.setLocale(e||i),H[c.getInterpolationIdentifier()]=c};V.displayName="interpolationFactoryAdder",angular.forEach(w,V)}var W=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(t,a))b.resolve(t[a]);else if(I[a]){var c=function(a){M(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",I[a].then(c,b.reject)}else b.reject();return b.promise},X=function(a,b,c,e){var f=d.defer(),g=function(d){if(Object.prototype.hasOwnProperty.call(d,b)){e.setLocale(a);var g=d[b];"@:"===g.substr(0,2)?X(a,g.substr(2),c,e).then(f.resolve,f.reject):f.resolve(e.interpolate(d[b],c)),e.setLocale(i)}else f.reject()};return g.displayName="fallbackTranslationResolver",W(a).then(g,f.reject),f.promise},Y=function(a,b,c,d){var e,f=t[a];if(f&&Object.prototype.hasOwnProperty.call(f,b)){if(d.setLocale(a),e=d.interpolate(f[b],c),"@:"===e.substr(0,2))return Y(a,e.substr(2),c,d);d.setLocale(i)}return e},Z=function(a,c){if(m){var d=b.get(m)(a,i,c);return void 0!==d?d:a}return a},$=function(a,b,c,e,f){var h=d.defer();if(a<g.length){var i=g[a];X(i,b,c,e).then(h.resolve,function(){$(a+1,b,c,e,f).then(h.resolve)})}else f?h.resolve(f):h.resolve(Z(b,c));return h.promise},_=function(a,b,c,d){var e;if(a<g.length){var f=g[a];e=Y(f,b,c,d),e||(e=_(a+1,b,c,d))}return e},aa=function(a,b,c,d){return $(u>0?u:l,a,b,c,d)},ba=function(a,b,c){return _(u>0?u:l,a,b,c)},ca=function(a,b,c,e,f){var h=d.defer(),i=f?t[f]:t,j=c?H[c]:E;if(i&&Object.prototype.hasOwnProperty.call(i,a)){var k=i[a];"@:"===k.substr(0,2)?R(k.substr(2),b,c,e,f).then(h.resolve,h.reject):h.resolve(j.interpolate(k,b))}else{var l;m&&!F&&(l=Z(a,b)),f&&g&&g.length?aa(a,b,j,e).then(function(a){h.resolve(a)},function(a){h.reject(S(a))}):m&&!F&&l?e?h.resolve(e):h.resolve(l):e?h.resolve(e):h.reject(S(a))}return h.promise},da=function(a,b,c,d){var e,f=d?t[d]:t,h=E;if(H&&Object.prototype.hasOwnProperty.call(H,c)&&(h=H[c]),f&&Object.prototype.hasOwnProperty.call(f,a)){var i=f[a];e="@:"===i.substr(0,2)?da(i.substr(2),b,c,d):h.interpolate(i,b)}else{var j;m&&!F&&(j=Z(a,b)),d&&g&&g.length?(l=0,e=ba(a,b,h)):e=m&&!F&&j?j:S(a)}return e},ea=function(a){j===a&&(j=void 0),I[a]=void 0};R.preferredLanguage=function(a){return a&&O(a),e},R.cloakClassName=function(){return x},R.nestedObjectDelimeter=function(){return A},R.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(P(a),o&&g&&g.length)for(var b=0,c=g.length;c>b;b++)I[g[b]]||(I[g[b]]=U(g[b]));R.use(R.use())}return h?g[0]:g},R.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=J(g,a);b>-1&&(u=b)}else u=0},R.proposedLanguage=function(){return j},R.storage=function(){return f},R.negotiateLocale=L,R.use=function(a){if(!a)return i;var b=d.defer();c.$emit("$translateChangeStart",{language:a});var e=L(a);return e&&(a=e),!z&&t[a]||!o||I[a]?I[a]?I[a].then(function(a){return i||T(a.key),b.resolve(a.key),a},function(a){return!i&&g&&g.length>0?R.use(g[0]).then(b.resolve,b.reject):b.reject(a)}):(b.resolve(a),T(a)):(j=a,I[a]=U(a).then(function(c){return M(c.key,c.table),b.resolve(c.key),j===a&&T(c.key),c},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),I[a]["finally"](function(){ea(a)})),b.promise},R.storageKey=function(){return Q()},R.isPostCompilingEnabled=function(){return y},R.isForceAsyncReloadEnabled=function(){return z},R.refresh=function(a){function b(){f.resolve(),c.$emit("$translateRefreshEnd",{language:a})}function e(){f.reject(),c.$emit("$translateRefreshEnd",{language:a})}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");var f=d.defer();if(c.$emit("$translateRefreshStart",{language:a}),a)if(t[a]){var h=function(c){M(c.key,c.table),a===i&&T(i),b()};h.displayName="refreshPostProcessor",U(a).then(h,e)}else e();else{var j=[],k={};if(g&&g.length)for(var l=0,m=g.length;m>l;l++)j.push(U(g[l])),k[g[l]]=!0;i&&!k[i]&&j.push(U(i));var n=function(a){t={},angular.forEach(a,function(a){M(a.key,a.table)}),i&&T(i),b()};n.displayName="refreshPostProcessor",d.all(j).then(n,e)}return f.promise},R.instant=function(a,b,c,d){var f=d&&d!==i?L(d)||d:i;if(null===a||angular.isUndefined(a))return a;if(angular.isArray(a)){for(var h={},j=0,k=a.length;k>j;j++)h[a[j]]=R.instant(a[j],b,c,d);return h}if(angular.isString(a)&&a.length<1)return a;a&&(a=K.apply(a));var l,n=[];e&&n.push(e),f&&n.push(f),g&&g.length&&(n=n.concat(g));for(var o=0,p=n.length;p>o;o++){var s=n[o];if(t[s]&&"undefined"!=typeof t[s][a]&&(l=da(a,b,c,f)),"undefined"!=typeof l)break}return l||""===l||(q||r?l=S(a):(l=E.interpolate(a,b),m&&!F&&(l=Z(a,b)))),l},R.versionInfo=function(){return G},R.loaderCache=function(){return s},R.directivePriority=function(){return C},R.statefulFilter=function(){return D},R.isReady=function(){return B};var fa=d.defer();fa.promise.then(function(){B=!0}),R.onReady=function(a){var b=d.defer();return angular.isFunction(a)&&b.promise.then(a),B?b.resolve():fa.promise.then(b.resolve),b.promise};var ga=c.$on("$translateReady",function(){fa.resolve(),ga(),ga=null}),ha=c.$on("$translateChangeEnd",function(){fa.resolve(),ha(),ha=null});if(o){if(angular.equals(t,{})&&R.use()&&R.use(R.use()),g&&g.length)for(var ia=function(a){return M(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},ja=0,ka=g.length;ka>ja;ja++){var la=g[ja];(z||!t[la])&&(I[la]=U(la).then(ia))}}else c.$emit("$translateReady",{language:R.use()});return R}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d){d=d||{},d=b.sanitize(d,"params");var e=a(c)(d);return e=b.sanitize(e,"text")},d}function e(a,b,c,d,e,g){"use strict";var h=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(b,i){var j=i.translateValues?i.translateValues:void 0,k=i.translateInterpolation?i.translateInterpolation:void 0,l=b[0].outerHTML.match(/translate-value-+/i),m="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)",n="^(.*)"+c.startSymbol()+"(.*)"+c.endSymbol()+"(.*)";return function(b,o,p){b.interpolateParams={},b.preText="",b.postText="",b.translateNamespace=f(b);var q={},r=function(a,c,d){if(c.translateValues&&angular.extend(a,e(c.translateValues)(b.$parent)),l)for(var f in d)if(Object.prototype.hasOwnProperty.call(c,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f){var g=angular.lowercase(f.substr(14,1))+f.substr(15);a[g]=d[f]}},s=function(a){if(angular.isFunction(s._unwatchOld)&&(s._unwatchOld(),s._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var d=h.apply(o.text()),e=d.match(m);if(angular.isArray(e)){b.preText=e[1],b.postText=e[3],q.translate=c(e[2])(b.$parent);var f=d.match(n);angular.isArray(f)&&f[2]&&f[2].length&&(s._unwatchOld=b.$watch(f[2],function(a){q.translate=a,y()}))}else q.translate=d?d:void 0}else q.translate=a;y()},t=function(a){p.$observe(a,function(b){q[a]=b,y()})};r(b.interpolateParams,p,i);var u=!0;p.$observe("translate",function(a){"undefined"==typeof a?s(""):""===a&&u||(q.translate=a,y()),u=!1});for(var v in p)p.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&t(v);if(p.$observe("translateDefault",function(a){b.defaultText=a,y()}),j&&p.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),l){var w=function(a){p.$observe(a,function(c){var d=angular.lowercase(a.substr(14,1))+a.substr(15);b.interpolateParams[d]=c})};for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&w(x)}var y=function(){for(var a in q)q.hasOwnProperty(a)&&void 0!==q[a]&&z(a,q[a],b,b.interpolateParams,b.defaultText,b.translateNamespace)},z=function(b,c,d,e,f,g){c?(g&&"."===c.charAt(0)&&(c=g+c),a(c,e,k,f,d.translateLanguage).then(function(a){A(a,d,!0,b)},function(a){A(a,d,!1,b)})):A(c,d,!1,b)},A=function(b,c,e,f){if("translate"===f){e||"undefined"==typeof c.defaultText||(b=c.defaultText),o.empty().append(c.preText+b+c.postText);var g=a.isPostCompilingEnabled(),h="undefined"!=typeof i.translateCompile,j=h&&"false"!==i.translateCompile;(g&&!h||j)&&d(o.contents())(c)}else{e||"undefined"==typeof c.defaultText||(b=c.defaultText);var k=p.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),o.attr(k,b)}};(j||l||p.translateDefault)&&b.$watch("interpolateParams",y,!0),b.$watch("translateLanguage",y);var B=g.$on("$translateChangeSuccess",y);o.text().length?s(p.translate?p.translate:""):p.translate&&s(p.translate),y(),b.$on("$destroy",B)}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function g(a,b){"use strict";return{compile:function(c){var d=function(){c.addClass(a.cloakClassName())},e=function(){c.removeClass(a.cloakClassName())};return a.onReady(function(){e()}),d(),function(c,f,g){g.translateCloak&&g.translateCloak.length&&(g.$observe("translateCloak",function(b){a(b).then(e,d)}),b.$on("$translateChangeSuccess",function(){a(g.translateCloak).then(e,d)}))}}}}function h(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(a,b,c){a.translateNamespace=f(a),a.translateNamespace&&"."===c.translateNamespace.charAt(0)?a.translateNamespace+=c.translateNamespace:a.translateNamespace=c.translateNamespace}}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function i(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(a,b,c){c.$observe("translateLanguage",function(b){a.translateLanguage=b})}}}}function j(a,b){"use strict";var c=function(c,d,e,f){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e,f)};return b.statefulFilter()&&(c.$stateful=!0),c}function k(a){"use strict";return a("translations")}return angular.module("pascalprecht.translate",["ng"]).run(a),a.$inject=["$translate"],a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.$inject=["$interpolate","$translateSanitization"],d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",g),g.$inject=["$translate","$rootScope"],g.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",h),h.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",i),i.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",j),j.$inject=["$parse","$translate"],j.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",k),k.$inject=["$cacheFactory"],k.displayName="$translationCache","pascalprecht.translate"});
/** 
* @version 2.1.5
* @license MIT
*/
!function(t,e){"use strict";t.module("smart-table",[]).run(["$templateCache",function(t){t.put("template/smart-table/pagination.html",'<nav ng-if="numPages && pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a ng-click="selectPage(page)">{{page}}</a></li></ul></nav>')}]),t.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400,inputEvent:"input"},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",skipNatural:!1,delay:300},pipe:{delay:100}}),t.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function(a,n,s,i){function r(t){return t?[].concat(t):[]}function l(){b=r(o(a)),S===!0&&v.pipe()}function c(t,e){if(-1!=e.indexOf(".")){var a=e.split("."),s=a.pop(),i=a.join("."),r=n(i)(t);delete r[s],0==Object.keys(r).length&&c(t,i)}else delete t[e]}var o,u,p,g=i.stTable,f=n(g),d=f.assign,m=s("orderBy"),h=s("filter"),b=r(f(a)),P={sort:{},search:{},pagination:{start:0,totalItemCount:0}},S=!0,v=this;i.stSafeSrc&&(o=n(i.stSafeSrc),a.$watch(function(){var t=o(a);return t&&t.length?t[0]:e},function(t,e){t!==e&&l()}),a.$watch(function(){var t=o(a);return t?t.length:0},function(t){t!==b.length&&l()}),a.$watch(function(){return o(a)},function(t,e){t!==e&&(P.pagination.start=0,l())})),this.sortBy=function(e,a){return P.sort.predicate=e,P.sort.reverse=a===!0,t.isFunction(e)?P.sort.functionName=e.name:delete P.sort.functionName,P.pagination.start=0,this.pipe()},this.search=function(e,a){var s=P.search.predicateObject||{},i=a?a:"$";return e=t.isString(e)?e.trim():e,n(i).assign(s,e),e||c(s,i),P.search.predicateObject=s,P.pagination.start=0,this.pipe()},this.pipe=function(){var t,n=P.pagination;u=P.search.predicateObject?h(b,P.search.predicateObject):b,P.sort.predicate&&(u=m(u,P.sort.predicate,P.sort.reverse)),n.totalItemCount=u.length,n.number!==e&&(n.numberOfPages=u.length>0?Math.ceil(u.length/n.number):1,n.start=n.start>=u.length?(n.numberOfPages-1)*n.number:n.start,t=u.slice(n.start,n.start+parseInt(n.number))),d(a,t||u)},this.select=function(t,n){var s=r(f(a)),i=s.indexOf(t);-1!==i&&("single"===n?(t.isSelected=t.isSelected!==!0,p&&(p.isSelected=!1),p=t.isSelected===!0?t:e):s[i].isSelected=!s[i].isSelected)},this.slice=function(t,e){return P.pagination.start=t,P.pagination.number=e,this.pipe()},this.tableState=function(){return P},this.getFilteredCollection=function(){return u||b},this.setFilterFunction=function(t){h=s(t)},this.setSortFunction=function(t){m=s(t)},this.preventPipeOnWatch=function(){S=!1}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(t,e,a,n){a.stSetFilter&&n.setFilterFunction(a.stSetFilter),a.stSetSort&&n.setSortFunction(a.stSetSort)}}}),t.module("smart-table").directive("stSearch",["stConfig","$timeout","$parse",function(t,e,a){return{require:"^stTable",link:function(n,s,i,r){var l=r,c=null,o=i.stDelay||t.search.delay,u=i.stInputEvent||t.search.inputEvent;i.$observe("stSearch",function(t,e){var a=s[0].value;t!==e&&a&&(r.tableState().search={},l.search(a,t))}),n.$watch(function(){return r.tableState().search},function(t){var e=i.stSearch||"$";t.predicateObject&&a(e)(t.predicateObject)!==s[0].value&&(s[0].value=a(e)(t.predicateObject)||"")},!0),s.bind(u,function(t){t=t.originalEvent||t,null!==c&&e.cancel(c),c=e(function(){l.search(t.target.value,i.stSearch||""),c=null},o)})}}}]),t.module("smart-table").directive("stSelectRow",["stConfig",function(t){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(e,a,n,s){var i=n.stSelectMode||t.select.mode;a.bind("click",function(){e.$apply(function(){s.select(e.row,i)})}),e.$watch("row.isSelected",function(e){e===!0?a.addClass(t.select.selectedClass):a.removeClass(t.select.selectedClass)})}}}]),t.module("smart-table").directive("stSort",["stConfig","$parse","$timeout",function(a,n,s){return{restrict:"A",require:"^stTable",link:function(i,r,l,c){function o(){f++;var e;p=t.isFunction(g(i))||t.isArray(g(i))?g(i):l.stSort,f%3===0&&!!b!=!0?(f=0,c.tableState().sort={},c.tableState().pagination.start=0,e=c.pipe.bind(c)):e=c.sortBy.bind(c,p,f%2===0),null!==P&&s.cancel(P),0>S?i.$apply(e):P=s(e,S)}var u,p=l.stSort,g=n(p),f=0,d=l.stClassAscent||a.sort.ascentClass,m=l.stClassDescent||a.sort.descentClass,h=[d,m],b=l.stSkipNatural!==e?l.stSkipNatural:a.sort.skipNatural,P=null,S=l.stDelay||a.sort.delay;l.stSortDefault&&(u=i.$eval(l.stSortDefault)!==e?i.$eval(l.stSortDefault):l.stSortDefault),r.bind("click",function(){p&&o()}),u&&(f="reverse"===u?1:0,o()),i.$watch(function(){return c.tableState().sort},function(t){t.predicate!==p?(f=0,r.removeClass(d).removeClass(m)):(f=t.reverse===!0?2:1,r.removeClass(h[f%2]).addClass(h[f-1]))},!0)}}}]),t.module("smart-table").directive("stPagination",["stConfig",function(t){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(e,a){return a.stTemplate?a.stTemplate:t.pagination.template},link:function(e,a,n,s){function i(){var t,a,n=s.tableState().pagination,i=1,r=e.currentPage;for(e.totalItemCount=n.totalItemCount,e.currentPage=Math.floor(n.start/n.number)+1,i=Math.max(i,e.currentPage-Math.abs(Math.floor(e.stDisplayedPages/2))),t=i+e.stDisplayedPages,t>n.numberOfPages&&(t=n.numberOfPages+1,i=Math.max(1,t-e.stDisplayedPages)),e.pages=[],e.numPages=n.numberOfPages,a=i;t>a;a++)e.pages.push(a);r!==e.currentPage&&e.stPageChange({newPage:e.currentPage})}e.stItemsByPage=e.stItemsByPage?+e.stItemsByPage:t.pagination.itemsByPage,e.stDisplayedPages=e.stDisplayedPages?+e.stDisplayedPages:t.pagination.displayedPages,e.currentPage=1,e.pages=[],e.$watch(function(){return s.tableState().pagination},i,!0),e.$watch("stItemsByPage",function(t,a){t!==a&&e.selectPage(1)}),e.$watch("stDisplayedPages",i),e.selectPage=function(t){t>0&&t<=e.numPages&&s.slice((t-1)*e.stItemsByPage,e.stItemsByPage)},s.tableState().pagination.number||s.slice(0,e.stItemsByPage)}}}]),t.module("smart-table").directive("stPipe",["stConfig","$timeout",function(e,a){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(n,s,i,r){var l=null;t.isFunction(n.stPipe)&&(r.preventPipeOnWatch(),r.pipe=function(){return null!==l&&a.cancel(l),l=a(function(){n.stPipe(r.tableState(),r)},e.pipe.delay)})},post:function(t,e,a,n){n.pipe()}}}}])}(angular);
//# sourceMappingURL=smart-table.min.js.map
/*! globalize - v0.1.0pre - 2012-10-18
* http://wiki.jqueryui.com/Globalize
* Copyright 2012 ; Licensed MIT */
(function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;n=function(e){return new n.prototype.init(e)},typeof require!="undefined"&&typeof exports!="undefined"&&typeof module!="undefined"?module.exports=n:e.Globalize=n,n.cultures={},n.prototype={constructor:n,init:function(e){return this.cultures=n.cultures,this.cultureSelector=e,this}},n.prototype.init.prototype=n.prototype,n.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},n.cultures["default"].calendar=n.cultures["default"].calendars.standard,n.cultures.en=n.cultures["default"],n.cultureSelector="en",r=/^0x[a-f0-9]+$/i,i=/^[+\-]?infinity$/i,s=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,o=/^\s+|\s+$/g,u=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},a=function(e,t){return e.substr(e.length-t.length)===t},f=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,p=arguments.length,d=!1;typeof u=="boolean"&&(d=u,u=arguments[1]||{},a=2),typeof u!="object"&&!c(u)&&(u={});for(;a<p;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;d&&i&&(h(i)||(s=l(i)))?(s?(s=!1,o=r&&l(r)?r:[]):o=r&&h(r)?r:{},u[n]=f(d,o,i)):i!==t&&(u[n]=i)}return u},l=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},c=function(e){return Object.prototype.toString.call(e)==="[object Function]"},h=function(e){return Object.prototype.toString.call(e)==="[object Object]"},p=function(e,t){return e.indexOf(t)===0},d=function(e){return(e+"").replace(o,"")},v=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},m=function(e,t,n){var r;for(r=e.length;r<t;r+=1)e=n?"0"+e:e+"0";return e},g=function(e,t){var n=0,r=!1;for(var i=0,s=e.length;i<s;i++){var o=e.charAt(i);switch(o){case"'":r?t.push("'"):n++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(o),r=!1}}return n},y=function(e,t){t=t||"F";var n,r=e.patterns,i=t.length;if(i===1){n=r[t];if(!n)throw"Invalid date format string '"+t+"'.";t=n}else i===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t},b=function(e,t,n){function T(e,t){var n,r=e+"";return t>1&&r.length<t?(n=c[t-2]+r,n.substr(n.length-t,t)):(n=r,n)}function N(){return h||p?h:(h=d.test(t),p=!0,h)}function C(e,t){if(w)return w[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var r=n.calendar,i=r.convert,s;if(!t||!t.length||t==="i"){if(n&&n.name.length)if(i)s=b(e,r.patterns.F,n);else{var o=new Date(e.getTime()),u=S(e,r.eras);o.setFullYear(x(e,r,u)),s=o.toLocaleString()}else s=e.toString();return s}var a=r.eras,f=t==="s";t=y(r,t),s=[];var l,c=["0","00","000"],h,p,d=/([^d]|^)(d|dd)([^d]|$)/g,v=0,m=E(),w;!f&&i&&(w=i.fromGregorian(e));for(;;){var k=m.lastIndex,L=m.exec(t),A=t.slice(k,L?L.index:t.length);v+=g(A,s);if(!L)break;if(v%2){s.push(L[0]);continue}var O=L[0],M=O.length;switch(O){case"ddd":case"dddd":var _=M===3?r.days.namesAbbr:r.days.names;s.push(_[e.getDay()]);break;case"d":case"dd":h=!0,s.push(T(C(e,2),M));break;case"MMM":case"MMMM":var D=C(e,1);s.push(r.monthsGenitive&&N()?r.monthsGenitive[M===3?"namesAbbr":"names"][D]:r.months[M===3?"namesAbbr":"names"][D]);break;case"M":case"MM":s.push(T(C(e,1)+1,M));break;case"y":case"yy":case"yyyy":D=w?w[0]:x(e,r,S(e,a),f),M<4&&(D%=100),s.push(T(D,M));break;case"h":case"hh":l=e.getHours()%12,l===0&&(l=12),s.push(T(l,M));break;case"H":case"HH":s.push(T(e.getHours(),M));break;case"m":case"mm":s.push(T(e.getMinutes(),M));break;case"s":case"ss":s.push(T(e.getSeconds(),M));break;case"t":case"tt":D=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",s.push(M===1?D.charAt(0):D);break;case"f":case"ff":case"fff":s.push(T(e.getMilliseconds(),3).substr(0,M));break;case"z":case"zz":l=e.getTimezoneOffset()/60,s.push((l<=0?"+":"-")+T(Math.floor(Math.abs(l)),M));break;case"zzz":l=e.getTimezoneOffset()/60,s.push((l<=0?"+":"-")+T(Math.floor(Math.abs(l)),2)+":"+T(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&s.push(r.eras[S(e,a)].name);break;case"/":s.push(r["/"]);break;default:throw"Invalid date format pattern '"+O+"'."}}return s.join("")},function(){var e;e=function(e,t,n){var r=n.groupSizes,i=r[0],s=1,o=Math.pow(10,t),u=Math.round(e*o)/o;isFinite(u)||(u=e),e=u;var a=e+"",f="",l=a.split(/e/i),c=l.length>1?parseInt(l[1],10):0;a=l[0],l=a.split("."),a=l[0],f=l.length>1?l[1]:"";var h;c>0?(f=m(f,c,!1),a+=f.slice(0,c),f=f.substr(c)):c<0&&(c=-c,a=m(a,c+1,!0),f=a.slice(-c,a.length)+f,a=a.slice(0,-c)),t>0?f=n["."]+(f.length>t?f.slice(0,t):m(f,t)):f="";var p=a.length-1,d=n[","],v="";while(p>=0){if(i===0||i>p)return a.slice(0,p+1)+(v.length?d+v+f:f);v=a.slice(p-i+1,p+1)+(v.length?d+v:""),p-=i,s<r.length&&(i=r[s],s++)}return a.slice(0,p+1)+d+v+f},w=function(t,n,r){if(!isFinite(t))return t===Infinity?r.numberFormat.positiveInfinity:t===-Infinity?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!n||n==="i")return r.name.length?t.toLocaleString():t.toString();n=n||"D";var i=r.numberFormat,s=Math.abs(t),o=-1,u;n.length>1&&(o=parseInt(n.slice(1),10));var a=n.charAt(0).toUpperCase(),f;switch(a){case"D":u="n",s=v(s),o!==-1&&(s=m(""+s,o,!0)),t<0&&(s="-"+s);break;case"N":f=i;case"C":f=f||i.currency;case"P":f=f||i.percent,u=t<0?f.pattern[0]:f.pattern[1]||"n",o===-1&&(o=f.decimals),s=e(s*(a==="P"?100:1),o,f);break;default:throw"Bad number format specifier: "+a}var l=/n|\$|-|%/g,c="";for(;;){var h=l.lastIndex,p=l.exec(u);c+=u.slice(h,p?p.index:u.length);if(!p)break;switch(p[0]){case"n":c+=s;break;case"$":c+=i.currency.symbol;break;case"-":/[1-9]/.test(s)&&(c+=i["-"]);break;case"%":c+=i.percent.symbol}}return c}}(),E=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},S=function(e,t){if(!t)return 0;var n,r=e.getTime();for(var i=0,s=t.length;i<s;i++){n=t[i].start;if(n===null||r>=n)return i}return 0},x=function(e,t,n,r){var i=e.getFullYear();return!r&&t.eras&&(i-=t.eras[n].offset),i},function(){var e,t,n,r,i,s,o;e=function(e,t){if(t<100){var n=new Date,r=S(n),i=x(n,e,r),s=e.twoDigitYearMax;s=typeof s=="string"?(new Date).getFullYear()%100+parseInt(s,10):s,t+=i-i%100,t>s&&(t-=100)}return t},t=function(e,t,n){var r,i=e.days,a=e._upperDays;return a||(e._upperDays=a=[o(i.names),o(i.namesAbbr),o(i.namesShort)]),t=s(t),n?(r=u(a[1],t),r===-1&&(r=u(a[2],t))):r=u(a[0],t),r},n=function(e,t,n){var r=e.months,i=e.monthsGenitive||e.months,a=e._upperMonths,f=e._upperMonthsGen;a||(e._upperMonths=a=[o(r.names),o(r.namesAbbr)],e._upperMonthsGen=f=[o(i.names),o(i.namesAbbr)]),t=s(t);var l=u(n?a[1]:a[0],t);return l<0&&(l=u(n?f[1]:f[0],t)),l},r=function(e,t){var n=e._parseRegExp;if(!n)e._parseRegExp=n={};else{var r=n[t];if(r)return r}var i=y(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],u=0,a=0,f=E(),l;while((l=f.exec(i))!==null){var c=i.slice(u,l.index);u=f.lastIndex,a+=g(c,s);if(a%2){s.push(l[0]);continue}var h=l[0],p=h.length,d;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":d="(\\D+)";break;case"tt":case"t":d="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":d="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":d="(\\d\\d?)";break;case"zzz":d="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":d="([+-]?\\d\\d?)";break;case"/":d="(\\/)";break;default:throw"Invalid date format pattern '"+h+"'."}d&&s.push(d),o.push(l[0])}g(i.slice(u),s),s.push("$");var v=s.join("").replace(/\s+/g,"\\s+"),m={regExp:v,groups:o};return n[t]=m},i=function(e,t,n){return e<t||e>n},s=function(e){return e.split(" ").join(" ").toUpperCase()},o=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t[n]=s(e[n]);return t},T=function(s,o,u){s=d(s);var a=u.calendar,f=r(a,o),l=(new RegExp(f.regExp)).exec(s);if(l===null)return null;var c=f.groups,h=null,v=null,m=null,g=null,y=null,b=0,w,E=0,S=0,x=0,T=null,N=!1;for(var C=0,k=c.length;C<k;C++){var L=l[C+1];if(L){var A=c[C],O=A.length,M=parseInt(L,10);switch(A){case"dd":case"d":g=M;if(i(g,1,31))return null;break;case"MMM":case"MMMM":m=n(a,L,O===3);if(i(m,0,11))return null;break;case"M":case"MM":m=M-1;if(i(m,0,11))return null;break;case"y":case"yy":case"yyyy":v=O<4?e(a,M):M;if(i(v,0,9999))return null;break;case"h":case"hh":b=M,b===12&&(b=0);if(i(b,0,11))return null;break;case"H":case"HH":b=M;if(i(b,0,23))return null;break;case"m":case"mm":E=M;if(i(E,0,59))return null;break;case"s":case"ss":S=M;if(i(S,0,59))return null;break;case"tt":case"t":N=a.PM&&(L===a.PM[0]||L===a.PM[1]||L===a.PM[2]);if(!N&&(!a.AM||L!==a.AM[0]&&L!==a.AM[1]&&L!==a.AM[2]))return null;break;case"f":case"ff":case"fff":x=M*Math.pow(10,3-O);if(i(x,0,999))return null;break;case"ddd":case"dddd":y=t(a,L,O===3);if(i(y,0,6))return null;break;case"zzz":var _=L.split(/:/);if(_.length!==2)return null;w=parseInt(_[0],10);if(i(w,-12,13))return null;var D=parseInt(_[1],10);if(i(D,0,59))return null;T=w*60+(p(L,"-")?-D:D);break;case"z":case"zz":w=M;if(i(w,-12,13))return null;T=w*60;break;case"g":case"gg":var P=L;if(!P||!a.eras)return null;P=d(P.toLowerCase());for(var H=0,B=a.eras.length;H<B;H++)if(P===a.eras[H].name.toLowerCase()){h=H;break}if(h===null)return null}}}var j=new Date,F,I=a.convert;F=I?I.fromGregorian(j)[0]:j.getFullYear(),v===null?v=F:a.eras&&(v+=a.eras[h||0].offset),m===null&&(m=0),g===null&&(g=1);if(I){j=I.toGregorian(v,m,g);if(j===null)return null}else{j.setFullYear(v,m,g);if(j.getDate()!==g)return null;if(y!==null&&j.getDay()!==y)return null}N&&b<12&&(b+=12),j.setHours(b,E,S,x);if(T!==null){var q=j.getMinutes()-(T+j.getTimezoneOffset());j.setHours(j.getHours()+parseInt(q/60,10),q%60)}return j}}(),N=function(e,t,n){var r=t["-"],i=t["+"],s;switch(n){case"n -":r=" "+r,i=" "+i;case"n-":a(e,r)?s=["-",e.substr(0,e.length-r.length)]:a(e,i)&&(s=["+",e.substr(0,e.length-i.length)]);break;case"- n":r+=" ",i+=" ";case"-n":p(e,r)?s=["-",e.substr(r.length)]:p(e,i)&&(s=["+",e.substr(i.length)]);break;case"(n)":p(e,"(")&&a(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]},n.prototype.findClosestCulture=function(e){return n.findClosestCulture.call(this,e)},n.prototype.format=function(e,t,r){return n.format.call(this,e,t,r)},n.prototype.localize=function(e,t){return n.localize.call(this,e,t)},n.prototype.parseInt=function(e,t,r){return n.parseInt.call(this,e,t,r)},n.prototype.parseFloat=function(e,t,r){return n.parseFloat.call(this,e,t,r)},n.prototype.culture=function(e){return n.culture.call(this,e)},n.addCultureInfo=function(e,t,n){var r={},i=!1;typeof e!="string"?(n=e,e=this.culture().name,r=this.cultures[e]):typeof t!="string"?(n=t,i=this.cultures[e]==null,r=this.cultures[e]||this.cultures["default"]):(i=!0,r=this.cultures[t]),this.cultures[e]=f(!0,{},r,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},n.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];typeof e=="string"&&(e=e.split(","));if(l(e)){var n,r=this.cultures,i=e,s,o=i.length,u=[];for(s=0;s<o;s++){e=d(i[s]);var a,f=e.split(";");n=d(f[0]),f.length===1?a=1:(e=d(f[1]),e.indexOf("q=")===0?(e=e.substr(2),a=parseFloat(e),a=isNaN(a)?0:a):a=1),u.push({lang:n,pri:a})}u.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0});for(s=0;s<o;s++){n=u[s].lang,t=r[n];if(t)return t}for(s=0;s<o;s++){n=u[s].lang;do{var c=n.lastIndexOf("-");if(c===-1)break;n=n.substr(0,c),t=r[n];if(t)return t}while(1)}for(s=0;s<o;s++){n=u[s].lang;for(var h in r){var p=r[h];if(p.language==n)return p}}}else if(typeof e=="object")return e;return t||null},n.format=function(e,t,n){var r=this.findClosestCulture(n);return e instanceof Date?e=b(e,t,r):typeof e=="number"&&(e=w(e,t,r)),e},n.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},n.parseDate=function(e,t,n){n=this.findClosestCulture(n);var r,i,s;if(t){typeof t=="string"&&(t=[t]);if(t.length)for(var o=0,u=t.length;o<u;o++){var a=t[o];if(a){r=T(e,a,n);if(r)break}}}else{s=n.calendar.patterns;for(i in s){r=T(e,s[i],n);if(r)break}}return r||null},n.parseInt=function(e,t,r){return v(n.parseFloat(e,t,r))},n.parseFloat=function(e,t,n){typeof t!="number"&&(n=t,t=10);var o=this.findClosestCulture(n),u=NaN,a=o.numberFormat;e.indexOf(o.numberFormat.currency.symbol)>-1&&(e=e.replace(o.numberFormat.currency.symbol,""),e=e.replace(o.numberFormat.currency["."],o.numberFormat["."])),e.indexOf(o.numberFormat.percent.symbol)>-1&&(e=e.replace(o.numberFormat.percent.symbol,"")),e=e.replace(/ /g,"");if(i.test(e))u=parseFloat(e);else if(!t&&r.test(e))u=parseInt(e,16);else{var f=N(e,a,a.pattern[0]),l=f[0],c=f[1];l===""&&a.pattern[0]!=="(n)"&&(f=N(e,a,"(n)"),l=f[0],c=f[1]),l===""&&a.pattern[0]!=="-n"&&(f=N(e,a,"-n"),l=f[0],c=f[1]),l=l||"+";var h,p,d=c.indexOf("e");d<0&&(d=c.indexOf("E")),d<0?(p=c,h=null):(p=c.substr(0,d),h=c.substr(d+1));var v,m,g=a["."],y=p.indexOf(g);y<0?(v=p,m=null):(v=p.substr(0,y),m=p.substr(y+g.length));var b=a[","];v=v.split(b).join("");var w=b.replace(/\u00A0/g," ");b!==w&&(v=v.split(w).join(""));var E=l+v;m!==null&&(E+="."+m);if(h!==null){var S=N(h,a,"-n");E+="e"+(S[0]||"+")+S[1]}s.test(E)&&(u=parseFloat(E))}return u},n.culture=function(e){return typeof e!="undefined"&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures["default"]}})(this);
/*! 
* DevExtreme Web
* Version: 15.2.4
* Build date: Dec 8, 2015
*
* Copyright (c) 2012 - 2015 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/

Globalize.addCultureInfo("cn", {messages: {
        Yes: "",
        No: "",
        Cancel: "",
        Clear: "",
        Done: "",
        Loading: "...",
        Select: "...",
        Search: "",
        Back: "",
        OK: "",
        "dxCollectionWidget-noDataText": "",
        "validation-required": "",
        "validation-required-formatted": "{0}",
        "validation-numeric": "",
        "validation-numeric-formatted": "{0} ",
        "validation-range": "",
        "validation-range-formatted": "{0}",
        "validation-stringLength": "",
        "validation-stringLength-formatted": "{0}",
        "validation-custom": "",
        "validation-custom-formatted": "{0} ",
        "validation-compare": "",
        "validation-compare-formatted": "{0}",
        "validation-pattern": "",
        "validation-pattern-formatted": "{0}",
        "validation-email": "",
        "validation-email-formatted": "{0} ",
        "validation-mask": ""
}
});
Globalize.addCultureInfo("cn", "default", {
    name: "zh-CN",
    englishName: "Chinese (Simplified, PRC)",
    nativeName: "()",
    language: "zh-CHS",
    numberFormat: {
        "NaN": "",
        negativeInfinity: "",
        positiveInfinity: "",
        percent: {
            pattern: ["-n%", "n%"]
        },
        currency: {
            pattern: ["$-n", "$n"],
            symbol: ""
        }
    },
    calendars: {
        standard: {
            days: {
                names: ["", "", "", "", "", "", ""],
                namesAbbr: ["", "", "", "", "", "", ""],
                namesShort: ["", "", "", "", "", "", ""]
            },
            months: {
                names: ["", "", "", "", "", "", "", "", "", "", "", "", ""],
                namesAbbr: ["", "", "", "", "", "", "", "", "", "", "", "", ""]
            },
            AM: ["", "", ""],
            PM: ["", "", ""],
            eras: [{ "name": "", "start": null, "offset": 0 }],
            patterns: {
                d: "yyyy/M/d",
                D: "yyyy''M''d''",
                t: "H:mm",
                T: "H:mm:ss",
                f: "yyyy''M''d'' H:mm",
                F: "yyyy''M''d'' H:mm:ss",
                M: "M''d''",
                Y: "yyyy''M''"
            }
        }
    }
});
Globalize.addCultureInfo("cn", {messages: {
        "dxLookup-searchPlaceholder": ": {0}",
        "dxList-pullingDownText": "",
        "dxList-pulledDownText": "",
        "dxList-refreshingText": "...",
        "dxList-pageLoadingText": "...",
        "dxList-nextButtonText": "",
        "dxList-selectAll": "",
        "dxListEditDecorator-delete": "",
        "dxListEditDecorator-more": "",
        "dxScrollView-pullingDownText": "",
        "dxScrollView-pulledDownText": "",
        "dxScrollView-refreshingText": "...",
        "dxScrollView-reachBottomText": "",
        "dxDateBox-simulatedDataPickerTitleTime": "",
        "dxDateBox-simulatedDataPickerTitleDate": "",
        "dxDateBox-simulatedDataPickerTitleDateTime": "",
        "dxDateBox-validation-datetime": "",
        "dxFileUploader-selectFile": "",
        "dxFileUploader-dropFile": "",
        "dxFileUploader-bytes": "",
        "dxFileUploader-kb": "kb",
        "dxFileUploader-Mb": "Mb",
        "dxFileUploader-Gb": "Gb",
        "dxFileUploader-upload": "",
        "dxFileUploader-uploaded": "",
        "dxFileUploader-readyToUpload": "",
        "dxFileUploader-uploadFailedMessage": "",
        "dxRangeSlider-ariaFrom": "{0} ",
        "dxRangeSlider-ariaTill": "{0} ",
        "dxSwitch-onText": "",
        "dxSwitch-offText": "",
        "dxForm-optionalMark": ""
    }});
Globalize.addCultureInfo("cn", {messages: {
        "dxDataGrid-columnChooserTitle": "",
        "dxDataGrid-columnChooserEmptyText": "",
        "dxDataGrid-groupContinuesMessage": "",
        "dxDataGrid-groupContinuedMessage": "",
        "dxDataGrid-editingEditRow": "",
        "dxDataGrid-editingSaveRowChanges": "",
        "dxDataGrid-editingCancelRowChanges": "",
        "dxDataGrid-editingDeleteRow": "",
        "dxDataGrid-editingUndeleteRow": "",
        "dxDataGrid-editingConfirmDeleteMessage": "",
        "dxDataGrid-validationCancelChanges": "",
        "dxDataGrid-editingConfirmDeleteTitle": "",
        "dxDataGrid-groupPanelEmptyText": "",
        "dxDataGrid-noDataText": "",
        "dxDataGrid-searchPanelPlaceholder": "",
        "dxDataGrid-filterRowShowAllText": "",
        "dxDataGrid-filterRowResetOperationText": "",
        "dxDataGrid-filterRowOperationEquals": "",
        "dxDataGrid-filterRowOperationNotEquals": "",
        "dxDataGrid-filterRowOperationLess": "",
        "dxDataGrid-filterRowOperationLessOrEquals": "",
        "dxDataGrid-filterRowOperationGreater": "",
        "dxDataGrid-filterRowOperationGreaterOrEquals": "",
        "dxDataGrid-filterRowOperationStartsWith": "",
        "dxDataGrid-filterRowOperationContains": "",
        "dxDataGrid-filterRowOperationNotContains": "",
        "dxDataGrid-filterRowOperationEndsWith": "",
        "dxDataGrid-filterRowOperationBetween": "",
        "dxDataGrid-filterRowOperationBetweenStartText": "",
        "dxDataGrid-filterRowOperationBetweenEndText": "",
        "dxDataGrid-applyFilterText": "",
        "dxDataGrid-trueText": "",
        "dxDataGrid-falseText": "",
        "dxDataGrid-sortingAscendingText": "",
        "dxDataGrid-sortingDescendingText": "",
        "dxDataGrid-sortingClearText": "",
        "dxDataGrid-editingSaveAllChanges": "",
        "dxDataGrid-editingCancelAllChanges": "",
        "dxDataGrid-editingAddRow": "",
        "dxDataGrid-summaryMin": ": {0}",
        "dxDataGrid-summaryMinOtherColumn": "{1}  {0}",
        "dxDataGrid-summaryMax": ": {0}",
        "dxDataGrid-summaryMaxOtherColumn": "{1}  {0}",
        "dxDataGrid-summaryAvg": ": {0}",
        "dxDataGrid-summaryAvgOtherColumn": "{1}  {0}",
        "dxDataGrid-summarySum": ": {0}",
        "dxDataGrid-summarySumOtherColumn": "{1}  {0}",
        "dxDataGrid-summaryCount": ": {0}",
        "dxDataGrid-columnFixingFix": "",
        "dxDataGrid-columnFixingUnfix": "",
        "dxDataGrid-columnFixingLeftPosition": "",
        "dxDataGrid-columnFixingRightPosition": "",
        "dxDataGrid-exportTo": "",
        "dxDataGrid-exportToExcel": "Excel",
        "dxDataGrid-excelFormat": "Excel",
        "dxDataGrid-selectedRows": "",
        "dxDataGrid-headerFilterEmptyValue": "()",
        "dxDataGrid-headerFilterOK": "",
        "dxDataGrid-headerFilterCancel": "",
        "dxDataGrid-ariaColumn": "",
        "dxDataGrid-ariaValue": "",
        "dxDataGrid-ariaFilterCell": "",
        "dxDataGrid-ariaCollapse": "",
        "dxDataGrid-ariaExpand": "",
        "dxDataGrid-ariaDataGrid": "",
        "dxDataGrid-ariaSearchInGrid": "",
        "dxDataGrid-ariaSelectAll": "",
        "dxDataGrid-ariaSelectRow": "",
        "dxPager-infoText": "{0} / {1} ({2} )",
        "dxPivotGrid-grandTotal": "",
        "dxPivotGrid-total": "{0} ",
        "dxPivotGrid-fieldChooserTitle": "",
        "dxPivotGrid-showFieldChooser": "",
        "dxPivotGrid-expandAll": "",
        "dxPivotGrid-collapseAll": "",
        "dxPivotGrid-sortColumnBySummary": "",
        "dxPivotGrid-sortRowBySummary": "",
        "dxPivotGrid-removeAllSorting": "",
        "dxPivotGrid-rowFields": "",
        "dxPivotGrid-columnFields": "",
        "dxPivotGrid-dataFields": "",
        "dxPivotGrid-filterFields": "",
        "dxPivotGrid-allFields": "",
        "dxScheduler-editorLabelTitle": "",
        "dxScheduler-editorLabelStartDate": "",
        "dxScheduler-editorLabelEndDate": "",
        "dxScheduler-editorLabelDescription": "",
        "dxScheduler-editorLabelRecurrence": "",
        "dxScheduler-openAppointment": "",
        "dxScheduler-recurrenceNever": "",
        "dxScheduler-recurrenceDaily": "",
        "dxScheduler-recurrenceWeekly": "",
        "dxScheduler-recurrenceMonthly": "",
        "dxScheduler-recurrenceYearly": "",
        "dxScheduler-recurrenceEvery": "",
        "dxScheduler-recurrenceEnd": "",
        "dxScheduler-recurrenceAfter": "",
        "dxScheduler-recurrenceOn": "",
        "dxScheduler-recurrenceRepeatDaily": "",
        "dxScheduler-recurrenceRepeatWeekly": "",
        "dxScheduler-recurrenceRepeatMonthly": "",
        "dxScheduler-recurrenceRepeatYearly": "",
        "dxScheduler-switcherDay": "",
        "dxScheduler-switcherWeek": "",
        "dxScheduler-switcherWorkWeek": "",
        "dxScheduler-switcherMonth": "",
        "dxScheduler-switcherTimelineDay": "",
        "dxScheduler-switcherTimelineWeek": "",
        "dxScheduler-switcherTimelineWorkWeek": "",
        "dxScheduler-switcherTimelineMonth": "",
        "dxScheduler-recurrenceRepeatOnDate": "",
        "dxScheduler-recurrenceRepeatCount": "",
        "dxScheduler-allDay": "",
        "dxScheduler-confirmRecurrenceEditMessage": "",
        "dxScheduler-confirmRecurrenceDeleteMessage": "",
        "dxScheduler-confirmRecurrenceEditSeries": "",
        "dxScheduler-confirmRecurrenceDeleteSeries": "",
        "dxScheduler-confirmRecurrenceEditOccurrence": "",
        "dxScheduler-confirmRecurrenceDeleteOccurrence": "",
        "dxCalendar-todayButtonText": "",
        "dxCalendar-ariaWidgetName": "",
        "dxColorView-ariaRed": "",
        "dxColorView-ariaGreen": "",
        "dxColorView-ariaBlue": "",
        "dxColorView-ariaAlpha": "",
        "dxColorView-ariaHex": ""
}
});

/*! 
* DevExtreme Web
* Version: 15.2.4
* Build date: Dec 8, 2015
*
* Copyright (c) 2012 - 2015 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/
"use strict";window.DevExpress&&DevExpress.MOD_CORE||(function(n,t){n.DevExpress=n.DevExpress||{};var i=function(){var o=function(){var n={};return function(t){var i=null;this.define=function(n){if(i)throw"'"+t+"' module definition is already present";i=n},this.load=function(){return n[t]=n[t]||i()}}}(),r={},u=function(n){var t=r[n];if(!t)throw"'"+n+"' module definition is absent";return t.load()},f=function(n){return t.map(n,function(n){switch(n){case"jquery":case"domReady":return jQuery;case"domReady!":return n;case"require":return e;default:return u(n)}})},e=function(i,r){if(!t.isArray(i))return u(i);i=f(i),r=r||t.noop;var e=function(){r.apply(n,i)};t.inArray("domReady!",i)?t(e):e()},s=function(t,i,u){r[t]=r[t]||new o(t),r[t].define(function(){return u.apply(n,f(i))})};return{require:e,define:s}}(n.DevExpress);n.DevExpress.require=i.require,n.DevExpress.define=i.define}(this,jQuery),DevExpress.define("/utils/utils.animationFrame",["jquery"],function(n){var e=1e3/60,t=function(n){return this.setTimeout(n,e)},i=function(n){this.clearTimeout(n)},r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,f=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame,u;return r&&f&&(t=r,i=f),r&&!f&&(u={},t=function(n){var t=r.call(window,function(){try{if(t in u)return;n.apply(this,arguments)}finally{delete u[t]}});return t},i=function(n){u[n]=!0}),t=n.proxy(t,window),i=n.proxy(i,window),{request:t,cancel:i}}),DevExpress.define("/utils/utils.array",["jquery","/utils/utils.common","/utils/utils.object"],function(n,t,i){var r=function(t){return n.isArray(t)&&!t.length},u=function(t){return n.isArray(t)?t:[t]},f=function(t,i){if(!n.isArray(t)||t.length===0||!n.isArray(i)||i.length===0)return[];var r=[];return n.each(t,function(t,u){var f=n.inArray(u,i);f!==-1&&r.push(u)}),r},e=function(t,i){if(!n.isArray(t)||t.length===0)return[];if(!n.isArray(i)||i.length===0)return t.slice();var r=[];return n.each(t,function(t,u){var f=n.inArray(u,i);f===-1&&r.push(u)}),r},o=function(r,u,f,e){var o={},s=0;return n.each(r,function(n,i){n=i[u],t.isDefined(n)&&(o[n]=o[n]||[],i===f?o[n].unshift(i):o[n].push(i),delete i[u])}),i.orderEach(o,function(t,i){n.each(i,function(){t>=0&&(this[u]=s++)})}),n.each(r,function(){t.isDefined(this[u])||e&&!e(this)||(this[u]=s++)}),s};return{isEmpty:r,wrapToArray:u,intersection:f,removeDublicates:e,normalizeIndexes:o}}),DevExpress.define("/utils/utils.browser",["jquery"],function(n){var i=/(webkit)[ \/]([\w.]+)/,r=/(msie) (\d{1,2}\.\d)/,u=/(trident).*rv:(\d{1,2}\.\d)/,f=/(edge)\/((\d+)?[\w\.]+)/,e=/(mozilla)(?:.*? rv:([\w.]+))/,t=function(n){n=n.toLowerCase();var o={},s=r.exec(n)||u.exec(n)||f.exec(n)||n.indexOf("compatible")<0&&e.exec(n)||i.exec(n)||[],t=s[1],h=s[2];return(t==="trident"||t==="edge")&&(t="msie"),t&&(o[t]=!0,o.version=h),o};return n.extend({_fromUA:t},t(navigator.userAgent))}),DevExpress.define("/utils/utils.caret",["jquery","/utils/utils.common"],function(n,t){var r=function(n){return i(n)?f(n):{start:n.selectionStart,end:n.selectionEnd}},u=function(t,r){if(i(t)){e(t,r);return}n.contains(document,t)&&(t.selectionStart=r.start,t.selectionEnd=r.end)},i=function(n){return!n.setSelectionRange},f=function(n){var t=document.selection.createRange(),i=t.duplicate();return t.move("character",-n.value.length),t.setEndPoint("EndToStart",i),{start:t.text.length,end:t.text.length+i.text.length}},e=function(n,t){var i=n.createTextRange();i.collapse(!0),i.moveStart("character",t.start),i.moveEnd("character",t.end-t.start),i.select()};return function(i,f){if(i=n(i).get(0),!t.isDefined(f))return r(i);u(i,f)}}),DevExpress.define("/utils/utils.common",["jquery"],function(n){var t=function(n){return n!==null&&n!==undefined},r=function(t){return n.type(t)==="string"},i=function(t){return typeof t=="number"&&isFinite(t)||n.isNumeric(t)},u=function(t){return n.type(t)==="object"},f=function(t){return n.type(t)==="array"},e=function(t){return n.type(t)==="date"},o=function(t){return n.type(t)==="function"},s=function(t){return n.inArray(n.type(t),["object","array","function"])===-1},h=function(n){return i(n)&&n.toString().indexOf("e")!==-1},c=function(n,i){return t(n)?n:i},l=function(n){var t=n||DevExpress.rtlEnabled;return t?"right":"left"},a=function(t,i){var r=n.Deferred(),u=i||this,f,e={promise:r.promise(),abort:function(){clearTimeout(f),r.rejectWith(u)}},o=function(){var i=t.call(u);i&&i.done&&n.isFunction(i.done)?i.done(function(){r.resolveWith(u)}):r.resolveWith(u)};return f=(arguments[2]||setTimeout)(o,0),e},v=function(t,i,r){var u=[],f=0;return n.each(i,function(i,e){var o=0,s=r?r(e):e;(n.each(t,function(n){var i=s[n];if(i!==undefined){if(i===t[n]){o++;return}return o=-1,!1}}),o<f)||(o>f&&(u.length=0,f=o),u.push(e))}),u},y=function(n){switch(typeof n){case"string":return n.split(/\s+/,2);case"object":return[n.x||n.h,n.y||n.v];case"number":return[n];default:return n}},p=function(n){switch(typeof n){case"string":return n.split(/\s+/,4);case"object":return[n.x||n.h||n.left,n.y||n.v||n.top,n.x||n.h||n.right,n.y||n.v||n.bottom];case"number":return[n];default:return n}};return{isDefined:t,isString:r,isNumber:i,isObject:u,isArray:f,isDate:e,isFunction:o,isPrimitive:s,isExponential:h,ensureDefined:c,executeAsync:a,splitPair:y,splitQuad:p,findBestMatches:v,getDefaultAlignment:l}}),DevExpress.define("/utils/utils.console",["jquery"],function(n){var t=function(){function i(i){t&&n.isFunction(t.info)&&t.info(i)}function r(i){t&&n.isFunction(t.warn)&&t.warn(i)}function u(i){t&&n.isFunction(t.error)&&t.error(i)}var t=window.console;return{info:i,warn:r,error:u}}(),i=function(){function n(n,t){if(!n)throw new Error(t);}function t(t,i){n(t!==null&&t!==undefined,i)}return{assert:n,assertParam:t}}();return{logger:t,debug:i}}),DevExpress.define("/utils/utils.date",["jquery","/utils/utils.common","/utils/utils.inflector"],function(n,t,i){var a=t.isObject,l=t.isString,v=t.isDate,u=t.isDefined,tt=i.camelize,e=["millisecond","second","minute","hour","day","week","month","quarter","year"],f=function(n,t,i){return n+(i?-1:1)*t},r=function(n){switch(n){case"millisecond":return 1;case"second":return r("millisecond")*1e3;case"minute":return r("second")*60;case"hour":return r("minute")*60;case"day":return r("hour")*24;case"week":return r("day")*7;case"month":return r("day")*30;case"quarter":return r("month")*3;case"year":return r("day")*365;default:return 0}},it=function(n,t,i){var u=t.getTime()-n.getTime(),f=r(i)||1;return Math.floor(u/f)},rt=function(n){for(var t,i,f=["millisecond","second","minute","hour","day","month","year"],e={},u=f.length-1;u>=0;u--)i=f[u],t=Math.floor(n/r(i)),t>0&&(e[i+"s"]=t,n-=h(i,t));return e},ut=function(t){var i=0;return a(t)&&n.each(t,function(n,t){i+=h(n.substr(0,n.length-1),t)}),l(t)&&(i=h(t,1)),i},h=function(n,t){return r(n)*t},y=function(t){var r=-1,i;return l(t)?t:a(t)?(n.each(t,function(n,t){for(i=0;i<e.length;i++)t&&(n===e[i]+"s"||n===e[i])&&r<i&&(r=i)}),e[r]):""},p=function(n){return Math.floor(n/3)},w=function(n){return p(n)*3},ft=function(n,t,i){var e=new Date(n.getTime()),u,f,r=y(t);switch(r){case"second":n.setMilliseconds(0);break;case"minute":n.setSeconds(0,0);break;case"hour":n.setMinutes(0,0,0);break;case"year":n.setMonth(0);case"month":n.setDate(1);case"day":n.setHours(0,0,0,0);break;case"week":u=n.getDate(),n.getDay()!==0&&(u+=7-n.getDay()),n.setDate(u),n.setHours(0,0,0,0);break;case"quarter":f=w(n.getMonth()),n.getMonth()!==f&&n.setMonth(f),n.setDate(1),n.setHours(0,0,0,0)}i&&r!=="hour"&&r!=="minute"&&r!=="second"&&g(e,n)},et=function(t,i){var r,u=0;return r={year:t.getFullYear()!==i.getFullYear(),month:t.getMonth()!==i.getMonth(),day:t.getDate()!==i.getDate(),hour:t.getHours()!==i.getHours(),minute:t.getMinutes()!==i.getMinutes(),second:t.getSeconds()!==i.getSeconds()},n.each(r,function(n,t){t&&u++}),r.count=u,r},ot=function(n,t,i){var r=null,u;return v(n)?(u=l(t)?b(t.toLowerCase()):t,r=new Date(n.getTime()),u.years&&r.setFullYear(f(r.getFullYear(),u.years,i)),u.quarters&&r.setMonth(f(r.getMonth(),3*u.quarters,i)),u.months&&r.setMonth(f(r.getMonth(),u.months,i)),u.weeks&&r.setDate(f(r.getDate(),7*u.weeks,i)),u.days&&r.setDate(f(r.getDate(),u.days,i)),u.hours&&r.setHours(f(r.getHours(),u.hours,i)),u.minutes&&r.setMinutes(f(r.getMinutes(),u.minutes,i)),u.seconds&&r.setSeconds(f(r.getSeconds(),u.seconds,i)),u.milliseconds&&r.setMilliseconds(f(n.getMilliseconds(),u.milliseconds,i))):r=f(n,t,i),r},st=function(n,t){return n==="month"?new Date(t.getFullYear(),t.getMonth(),1):n==="year"?new Date(t.getFullYear(),0,t.getDate()):n==="decade"?new Date(s(t),t.getMonth(),t.getDate()):n==="century"?new Date(o(t),t.getMonth(),t.getDate()):void 0},ht=function(n,t){return n==="month"?new Date(t.getFullYear(),t.getMonth(),c(t)):n==="year"?new Date(t.getFullYear(),11,t.getDate()):n==="decade"?new Date(s(t)+9,t.getMonth(),t.getDate()):n==="century"?new Date(o(t)+90,t.getMonth(),t.getDate()):void 0},ct=function(n,t){var i=new Date(t.getFullYear(),t.getMonth(),1);return n==="month"?i:(i.setMonth(0),n==="year")?i:(n==="decade"&&i.setFullYear(s(t)),n==="century"&&i.setFullYear(o(t)),i)},lt=function(n,t){var i=new Date(t.getFullYear(),t.getMonth(),c(t));return n==="month"?i:(i.setMonth(11),i.setDate(c(i)),n==="year")?i:(n==="decade"&&i.setFullYear(s(t)+9),n==="century"&&i.setFullYear(o(t)+99),i)},c=function(n){var t=new Date(n.getFullYear(),n.getMonth()+1,0);return t.getDate()},at=function(n,t,i){return nt[tt("same "+n)](t,i)},vt=function(n){switch(n){case"month":return"year";case"year":return"decade";case"decade":return"century"}},yt=function(n){switch(n){case"century":return"decade";case"decade":return"year";case"year":return"month"}},pt=function(n){var t=1;return n==="year"&&(t=12),n==="decade"&&(t=120),n==="century"&&(t=1200),t},wt=function(n){var t=1;return n==="decade"&&(t=12),n==="century"&&(t=120),t},b=function(n){var t={};switch(n){case"year":t.years=1;break;case"month":t.months=1;break;case"quarter":t.months=3;break;case"week":t.days=7;break;case"day":t.days=1;break;case"hour":t.hours=1;break;case"minute":t.minutes=1;break;case"second":t.seconds=1;break;case"millisecond":t.milliseconds=1}return t},k=function(n,t){return n&&t&&n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()},bt=function(n,t){return n&&t&&n.getFullYear()===t.getFullYear()},kt=function(n,t){if(u(n)&&u(t)){var i=n.getFullYear()-n.getFullYear()%10,r=t.getFullYear()-t.getFullYear()%10;return n&&t&&i===r}},dt=function(n,t){if(u(n)&&u(t)){var i=n.getFullYear()-n.getFullYear()%100,r=t.getFullYear()-t.getFullYear()%100;return n&&t&&i===r}},o=function(n){return n&&n.getFullYear()-n.getFullYear()%100},s=function(n){return n&&n.getFullYear()-n.getFullYear()%10},gt=function(n){return Globalize.format(n,"yyyy/M/d")},ni=function(n){if(u(n))return new Date(n.getFullYear(),n.getMonth(),1)},ti=function(n){if(u(n))return new Date(n.getFullYear(),n.getMonth()+1,0)},ii=function(n,t){t=t||Globalize.culture().calendar.firstDay;var r=(n.getDay()-t+7)%7,i=new Date(n);return i.setDate(n.getDate()-r),i},ri=function(n,t,i,r){return r==="date"&&(t=t&&new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=i&&new Date(i.getFullYear(),i.getMonth(),i.getDate()),n=n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())),d(n,t,i)===n},d=function(n,t,i){var r=n;return u(n)?(u(t)&&n<t&&(r=t),u(i)&&n>i&&(r=i),r):n},g=function(n,t){if(u(n)){var i=t.getHours()-n.getHours(),r,f;i!==0&&(r=i===1||i===-23?-1:1,f=new Date(t.getTime()+r*36e5),(r>0||f.getDate()===t.getDate())&&t.setTime(f.getTime()))}},ui=function(n){return n instanceof Date||(n=new Date(n)),n},fi=function(n,t){var i;return!t||t==="number"||t==="yyyy/MM/dd"?(i=t==="number"?n:!v(n)&&Date.parse(n),i?new Date(i):n):n!==undefined?Globalize.parseDate(n,t):void 0},ei=function(n,t){return t==="number"?n&&n.valueOf&&n.valueOf():t?Globalize.format(n,t):n},nt={dateUnitIntervals:e,convertMillisecondsToDateUnits:rt,dateToMilliseconds:ut,convertDateUnitToMilliseconds:h,getDateUnitInterval:y,getDatesDifferences:et,correctDateWithUnitBeginning:ft,addInterval:ot,getDateIntervalByString:b,sameMonthAndYear:k,sameMonth:k,sameYear:bt,sameDecade:kt,sameCentury:dt,sameView:at,getDifferenceInMonth:pt,getDifferenceInMonthForCells:wt,getFirstYearInDecade:s,getFirstDecadeInCentury:o,getShortDate:gt,getViewFirstCellDate:st,getViewLastCellDate:ht,getViewDown:yt,getViewUp:vt,getLastMonthDay:c,getLastMonthDate:ti,getFirstMonthDate:ni,getFirstWeekDate:ii,getQuarter:p,getFirstQuarterMonth:w,dateInRange:ri,normalizeDate:d,getViewMinBoundaryDate:ct,getViewMaxBoundaryDate:lt,fixTimezoneGap:g,makeDate:ui,deserializeDate:fi,serializeDate:ei,getDatesInterval:it};return nt}),DevExpress.define("/utils/utils.dom",["jquery","/errors","/utils/utils.support","/utils/utils.window","/utils/utils.common","/devices"],function(n,t,i,r,u,f){var c=function(){var n=document.activeElement;n&&n!==document.body&&n.blur&&n.blur()},l=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},a=function(t,i){for(var u=n(t).parents().addBack(),f=n(i).parents().addBack(),e=Math.min(u.length,f.length)-1,r=e;r>=0;r--)if(u.eq(r).is(f.eq(r)))return u.get(r)},v=function(t){var h,e,l;t=n.extend({},t);var u=f.real(),o=t.allowZoom,s=t.allowPan,a="allowSelection"in t?t.allowSelection:u.platform==="generic",c="meta[name=viewport]";if(n(c).length||n("<meta />").attr("name","viewport").appendTo("head"),h=["width=device-width"],e=[],o?e.push("pinch-zoom"):h.push("initial-scale=1.0","maximum-scale=1.0, user-scalable=no"),s&&e.push("pan-x","pan-y"),s||o?n("html").css("-ms-overflow-style","-ms-autohiding-scrollbar"):n("html, body").css({"-ms-content-zooming":"none","-ms-user-select":"none",overflow:"hidden"}),!a&&i.supportProp("user-select")&&n(".dx-viewport").css(i.styleProp("user-select"),"none"),n(c).attr("content",h.join()),n("html").css("-ms-touch-action",e.join(" ")||"none"),i.touch)n(document).off(".dxInitMobileViewport").on("dxpointermove.dxInitMobileViewport",function(n){var t=n.pointers.length,i=n.pointerType==="touch",r=!o&&t>1,u=!s&&t===1&&!n.isScrollingEvent;i&&(r||u)&&n.preventDefault()});u=f.real(),u.ios&&(l=document.location.protocol==="file:",l||r.resizeCallbacks.add(function(){var t=n(window).width();n("body").width(t)})),u.android&&r.resizeCallbacks.add(function(){document.activeElement.scrollIntoViewIfNeeded()})},e=function(t){var i=".dx-visibility-change-handler";return function(r){var u=n(r||"body"),f=u.find(i).add(u.filter(i));f.each(function(){n(this).triggerHandler(t)})}},y=function(){var n=0;return function(t){return(t||"")+n++}}(),o="data-options",s=function(i){var r=n(i).attr(o),u;n.trim(r).charAt(0)!=="{"&&(r="{"+r+"}");try{u=new Function("return "+r)()}catch(f){throw t.Error("E3018",f,r);}return u},p=function(t,i){var r=[],u="["+o+"]";return t.find(u).addBack(u).each(function(t,u){var e=n(u),o=s(u),f;for(f in o)(!i||n.inArray(f,i)>-1)&&e[f]&&(e[f](o[f]),r.push(e[f]("instance")))}),r},w=function(t){var i=n("<div />");return window.WinJS?WinJS.Utilities.setInnerHTMLUnsafe(i.get(0),t):i.append(t),i.contents()},h=function(t){var i=u.isDefined(t)&&(t.nodeType||t.jquery)?n(t):n("<div>").html(t).contents();return i.length===1&&i.is("script")&&(i=h(t.html())),i},b=function(n,t,i){i?n.attr(t,i):n.removeAttr(t)},k=function(n,t){var i=n.originalEvent&&n.originalEvent.clipboardData||window.clipboardData;if(arguments.length===1)return i&&i.getData("Text");i&&i.setData("Text",t)};return{resetActiveElement:c,createMarkupFromString:w,triggerShownEvent:e("dxshown"),triggerHidingEvent:e("dxhiding"),triggerResizeEvent:e("dxresize"),initMobileViewport:v,getElementOptions:s,createComponents:p,normalizeTemplateElement:h,clearSelection:l,uniqueId:y,closestCommonParent:a,clipboardText:k,toggleAttr:b}}),DevExpress.define("/utils/utils.error",["jquery","/utils/utils.console","/utils/utils.string","/version"],function(n,t,i,r){var u="http://js.devexpress.com/error/"+r.split(".").slice(0,2).join("_")+"/";return function(r,f){var e={ERROR_MESSAGES:n.extend(f,r),Error:function(){return c(n.makeArray(arguments))},log:function(i){var r="log";/^E\d+$/.test(i)?r="error":/^W\d+$/.test(i)&&(r="warn"),t.logger[r](r==="log"?i:h(n.makeArray(arguments)))}},h=function(n){var t=n[0];return n=n.slice(1),s(t,o(t,n))},o=function(n,t){return t=[e.ERROR_MESSAGES[n]].concat(t),i.format.apply(this,t).replace(/\.*\s*?$/,"")},s=function(n,t){return i.format.apply(this,["{0} - {1}. See:\n{2}",n,t,u+n])},c=function(t){var i,r,u;return i=t[0],t=t.slice(1),r=o(i,t),u=s(i,r),n.extend(new Error(u),{__id:i,__details:r})};return e}}),DevExpress.define("/utils/utils.formatHelper",["jquery","/utils/utils.common","/utils/utils.string","/utils/utils.date"],function(n,t,i,r){var h=4,o=10,f={currency:"C",fixedpoint:"N",exponential:"",percent:"P",decimal:"D"},c={1:"K",2:"M",3:"B",4:"T"},s={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},e={longdate:"D",longtime:"T",monthandday:"M",monthandyear:"Y",quarterandyear:"qq",shortdate:"d",shorttime:"t",millisecond:"fff",second:"T",minute:"t",hour:"t",day:"dd",week:"dd",month:"MMMM",quarter:"qq",year:"yyyy",longdatelongtime:"D",shortdateshorttime:"d",shortyear:"yy"},u={defaultQuarterFormat:"Q{0}",defaultLargeNumberFormatPostfixes:c,defaultDateTimeFormat:e,romanDigits:["I","II","III","IV"],_addFormatSeparator:function(n,t){var i=" ";return t?n+i+t:n},_getDateTimeFormatPattern:function(n){return Globalize.findClosestCulture().calendar.patterns[e[n.toLowerCase()]]},_isDateFormatContains:function(n){return n.toLowerCase()in e},_getQuarterString:function(n,t){var f=r.getQuarter(n.getMonth());switch(t){case"q":return u.romanDigits[f];case"qq":return i.format(u.defaultQuarterFormat,u.romanDigits[f]);case"Q":return(f+1).toString();case"QQ":return i.format(u.defaultQuarterFormat,(f+1).toString())}return""},_formatCustomString:function(n,t){var e=/qq|q|QQ|Q/g,i,f="",r=0;for(e.lastIndex=0;r<t.length;)i=e.exec(t),(!i||i.index>r)&&(f+=Globalize.format(n,t.substring(r,i?i.index:t.length))),i?(f+=u._getQuarterString(n,i[0]),r=i.index+i[0].length):r=t.length;return f},_parseNumberFormatString:function(t){var r,i={};if(t&&typeof t=="string")return r=t.toLowerCase().split(" "),n.each(r,function(n,t){t in f?i.formatType=t:t in s&&(i.power=s[t])}),i.power&&!i.formatType&&(i.formatType="fixedpoint"),i.formatType?i:void 0},_calculateNumberPower:function(n,t,i,r){var u=Math.abs(n),f=0;if(u>1)while(u&&u>=t&&(r===undefined||f<r))f++,u=u/t;else if(u>0&&u<1)while(u<1&&(i===undefined||f>i))f--,u=u*t;return f},_getNumberByPower:function(n,t,i){for(var r=n;t>0;)r=r/i,t--;while(t<0)r=r*i,t++;return r},_formatNumber:function(n,t,i){var r;return t.power==="auto"&&(t.power=u._calculateNumberPower(n,1e3,0,h)),t.power&&(n=u._getNumberByPower(n,t.power,1e3)),r=u.defaultLargeNumberFormatPostfixes[t.power]||"",u._formatNumberCore(n,t.formatType,i)+r},_formatNumberExponential:function(n,t){var i=u._calculateNumberPower(n,o),r=u._getNumberByPower(n,i,o),f;return t=t===undefined?1:t,r.toFixed(t||0)>=o&&(i++,r=r/o),f=(i>=0?"+":"")+i.toString(),u._formatNumberCore(r,"fixedpoint",t)+"E"+f},_formatNumberCore:function(n,i,r){return i==="exponential"?u._formatNumberExponential(n,r):Globalize.format(n,f[i]+(t.isNumber(r)?r:0))},_formatDate:function(n,t){var i=e[t.toLowerCase()];return(t=t.toLowerCase(),t==="quarterandyear"&&(i=u._getQuarterString(n,i)+" yyyy"),t==="quarter")?u._getQuarterString(n,i):t==="longdatelongtime"?u._formatDate(n,"longdate")+" "+u._formatDate(n,"longtime"):t==="shortdateshorttime"?u._formatDate(n,"shortDate")+" "+u._formatDate(n,"shortTime"):Globalize.format(n,i)},format:function(i,r,f){if(n.isPlainObject(r)&&r.format){if(r.dateType)return u._formatDateEx(i,r);if(t.isNumber(i)&&isFinite(i))return u._formatNumberEx(i,r)}return u._format(i,r,f)},_format:function(n,i,r){var f;return!t.isString(i)||i===""||!t.isNumber(n)&&!t.isDate(n)?t.isDefined(n)?n.toString():"":(f=u._parseNumberFormatString(i),t.isNumber(n)&&f)?u._formatNumber(n,f,r):t.isDate(n)&&u._isDateFormatContains(i)?u._formatDate(n,i):!f&&!u._isDateFormatContains(i)?u._formatCustomString(n,i):void 0},_formatNumberEx:function(n,i){var p=u,w=f[i.format.toLowerCase()],o=Globalize.culture().numberFormat,d=i.currencyCulture&&Globalize.cultures[i.currencyCulture]?Globalize.cultures[i.currencyCulture].numberFormat.currency:o.currency,g=o.percent,a=p._getUnitFormatSettings(n,i),b=a.unitPower,v=a.precision,it=a.showTrailingZeros,rt=a.includeGroupSeparator,ut=o[","],ft=o["."],r,y,h,e,nt=/n|\$|-|%/g,s="",c,k,tt,l;if(!t.isDefined(n))return"";n=u._getNumberByPower(n,b,1e3),r=Math.abs(n),y=n<0;switch(w){case f.decimal:if(h="n",r=Math[y?"ceil":"floor"](r),v>0){for(c=""+r,k=c.length;k<v;k+=1)c="0"+c;r=c}y&&(r="-"+r);break;case f.fixedpoint:e=o;case f.currency:e=e||d;case f.percent:e=e||g,h=y?e.pattern[0]:e.pattern[1]||"n",r=Globalize.format(r*(w===f.percent?100:1),"N"+v),it||(r=p._excludeTrailingZeros(r,ft)),rt||(r=r.replace(new RegExp("\\"+ut,"g"),""));break;case f.exponential:return p._formatNumberExponential(n,v);default:throw"Illegal numeric format: '"+w+"'";}for(;;)if(tt=nt.lastIndex,l=nt.exec(h),s+=h.slice(tt,l?l.index:h.length),l)switch(l[0]){case"-":/[1-9]/.test(r)&&(s+=o["-"]);break;case"$":s+=d.symbol;break;case"%":s+=g.symbol;break;case"n":s+=r+(b>0?u.defaultLargeNumberFormatPostfixes[b]:"")}else break;return(i.plus&&n>0?"+":"")+s},_excludeTrailingZeros:function(n,t){var u=n.indexOf(t),r,i;if(u<0)return n;for(r=n.length,i=r-1;i>=u&&(n[i]==="0"||i===u);i--)r--;return n.substring(0,r)},_getUnitFormatSettings:function(n,t){var f=t.unitPower||"",r=t.precision||0,s=t.includeGroupSeparator||!1,o=t.showTrailingZeros===undefined?!0:t.showTrailingZeros,u=t.significantDigits||1,i,e;if(f.toString().toLowerCase()==="auto")if(o=!1,i=Math.abs(n),u<1&&(u=1),i>=1e9?(f=3,i/=1e9):i>=1e6?(f=2,i/=1e6):i>=1e3?(f=1,i/=1e3):f=0,i===0)r=0;else if(i<1)for(r=u,e=Math.pow(10,-u);i<e;)e/=10,r++;else r=i>=100?u-3:i>=10?u-2:u-1;return r<0&&(r=0),{unitPower:f,precision:r,showTrailingZeros:o,includeGroupSeparator:s}},_formatDateEx:function(r,f){var o=u,a=f.format,e=f.dateType,l=Globalize.culture().calendars.standard,h,c,s;if(a=a.toLowerCase(),!t.isDefined(r))return"";if(e!=="num"||a==="dayofweek")switch(a){case"monthyear":return o._formatDate(r,"monthandyear");case"quarteryear":return o._getQuarterString(r,"QQ")+" "+r.getFullYear();case"daymonthyear":return o._formatDate(r,e+"Date");case"datehour":return h=new Date(r.getTime()),h.setMinutes(0),s=e==="timeOnly"?"":o._formatDate(r,e+"Date"),e==="timeOnly"?o._formatDate(h,"shorttime"):s+" "+o._formatDate(h,"shorttime");case"datehourminute":return s=e==="timeOnly"?"":o._formatDate(r,e+"Date"),e==="timeOnly"?o._formatDate(r,"shorttime"):s+" "+o._formatDate(r,"shorttime");case"datehourminutesecond":return s=e==="timeOnly"?"":o._formatDate(r,e+"Date"),e==="timeOnly"?o._formatDate(r,"longtime"):s+" "+o._formatDate(r,"longtime");case"year":return s=r.toString(),e==="abbr"?s.slice(2,4):s;case"dateyear":return e==="abbr"?o._formatDate(r,"shortyear"):o._formatDate(r,"year");case"quarter":return i.format(o.defaultQuarterFormat,r.toString());case"month":return c=r-1,e==="abbr"?l.months.namesAbbr[c]:l.months.names[c];case"hour":return e==="long"?(h=new Date,h.setHours(r),h.setMinutes(0),o._formatDate(h,"shorttime")):r.toString();case"dayofweek":return(c=t.isString(r)?n.inArray(r,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]):r,e!=="num")?e==="abbr"?l.days.namesAbbr[c]:l.days.names[c]:((c-l.firstDay+1+7)%8).toString();default:return r.toString()}else return r.toString()},getTimeFormat:function(n){return n?u._getDateTimeFormatPattern("longtime"):u._getDateTimeFormatPattern("shorttime")},getDateFormatByDifferences:function(n){var t="";return(n.millisecond&&(t=e.millisecond),(n.hour||n.minute||n.second)&&(t=u._addFormatSeparator(u.getTimeFormat(n.second),t)),n.year&&n.month&&n.day)?u._addFormatSeparator(u._getDateTimeFormatPattern("shortdate"),t):n.year&&n.month?e.monthandyear:n.year?e.year:n.month&&n.day?u._addFormatSeparator(u._getDateTimeFormatPattern("monthandday"),t):n.month?e.month:n.day?u._addFormatSeparator("dddd, dd",t):t},getDateFormatByTicks:function(n){var e,t,f,i;if(n.length>1)for(t=r.getDatesDifferences(n[0],n[1]),i=1;i<n.length-1;i++)f=r.getDatesDifferences(n[i],n[i+1]),t.count<f.count&&(t=f);else t={year:!0,month:!0,day:!0,hour:n[0].getHours()>0,minute:n[0].getMinutes()>0,second:n[0].getSeconds()>0};return e=u.getDateFormatByDifferences(t)},getDateFormatByTickInterval:function(n,i,f){var s,e,o,c={quarter:"month",week:"day"},h=function(n,t,i){switch(t){case"year":n.month=i;case"quarter":case"month":n.day=i;case"week":case"day":n.hour=i;case"hour":n.minute=i;case"minute":n.second=i;case"second":n.millisecond=i}},l=function(n,t,i){!i.getMilliseconds()&&i.getSeconds()?i.getSeconds()-t.getSeconds()==1&&(n.millisecond=!0,n.second=!1):!i.getSeconds()&&i.getMinutes()?i.getMinutes()-t.getMinutes()==1&&(n.second=!0,n.minute=!1):!i.getMinutes()&&i.getHours()?i.getHours()-t.getHours()==1&&(n.minute=!0,n.hour=!1):!i.getHours()&&i.getDate()>1?i.getDate()-t.getDate()==1&&(n.hour=!0,n.day=!1):i.getDate()===1&&i.getMonth()?i.getMonth()-t.getMonth()==1&&(n.day=!0,n.month=!1):!i.getMonth()&&i.getFullYear()&&i.getFullYear()-t.getFullYear()==1&&(n.month=!0,n.year=!1)};return f=t.isString(f)?f.toLowerCase():f,e=r.getDatesDifferences(n,i),n!==i&&l(e,n>i?i:n,n>i?n:i),o=r.getDateUnitInterval(e),h(e,o,!0),o=r.getDateUnitInterval(f||"second"),h(e,o,!1),e[c[o]||o]=!0,s=u.getDateFormatByDifferences(e)}};return u}),DevExpress.define("/utils/utils.hardwareBack",["jquery"],function(n){var t=n.Callbacks();return{process:function(){t.fire()},processCallback:t}}),DevExpress.define("/utils/utils.icon",["jquery"],function(n){var t=function(n){return!n||typeof n!="string"?!1:/data:.*base64|\.|\//.test(n)?"image":/^[\w-_]+$/.test(n)?"dxIcon":"fontIcon"},i=function(i){var u=t(i),r="dx-icon";switch(u){case"image":return n("<img>",{src:i}).addClass(r);case"fontIcon":return n("<i>",{"class":r+" "+i});case"dxIcon":return n("<i>",{"class":r+" "+r+"-"+i});default:return null}};return{getImageSourceType:t,getImageContainer:i}}),DevExpress.define("/utils/utils.inflector",["jquery"],function(n){var u=function(n){return n===undefined||n===null?"":String(n)},t=function(n){return u(n).charAt(0).toUpperCase()+n.substr(1)},i=function(n){return u(n).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},r=function(t){return n.map(i(t),function(n){return n.toLowerCase()}).join("-")},f=function(n){return r(n).replace(/-/g,"_")},e=function(r,u){return n.map(i(r),function(n,i){return n=n.toLowerCase(),(u||i>0)&&(n=t(n)),n}).join("")},o=function(n){return t(r(n).replace(/-/g," "))},s=function(r){return n.map(i(r),function(n){return t(n.toLowerCase())}).join(" ")},h=function(n){for(var u=[],t,f=!1,i=!1,r=0;r<n.length;r++)t=n.charAt(r),i=t===t.toUpperCase()||t in["0","1","2","3","4","5","6","7","8","9"],t==="_"||t==="."?(t=" ",i=!0):r===0?(t=t.toUpperCase(),i=!0):!f&&i&&u.length>0&&u.push(" "),u.push(t),f=i;return u.join("")};return{dasherize:r,camelize:e,humanize:o,titleize:s,underscore:f,captionize:h}}),DevExpress.define("/utils/utils.inkRipple",["jquery","/action"],function(n){var f=DevExpress,i=f.fx,r="dx-inkripple",e="dx-inkripple-wave",u="dx-inkripple-removing",o=2.8,s=4e3,h=function(t){t=t||{};var i={waveSizeCoefficient:t.waveSizeCoefficient||o,isCentered:t.isCentered||!1};return{renderWave:n.proxy(c,null,i),removeWave:n.proxy(l,null,i)}},c=function(t,u){var o=u.element,h=o.children("."+r),b;h.length===0&&(h=n("<div>").addClass(r).appendTo(o));var a=o.width(),v=o.height(),k=Math.max(a,v),f=Math.min(s,parseInt(k*t.waveSizeCoefficient)),c,l,y=n("<div>").appendTo(h).addClass(e);if(t.isCentered)c=(a-f)/2,l=(v-f)/2;else{var p=u.jQueryEvent,w=o.offset(),d=p.pageX-w.left,g=p.pageY-w.top;c=d-f/2,l=g-f/2}b=parseInt(f*3),y.css({left:c,top:l,height:f,width:f}),i.animate(y,{type:"pop",from:{scale:0},to:{scale:1},duration:b})},l=function(n,t){var e=t.element.find("."+r),f=e.children(":not(."+u+")").eq(0);f.length!==0&&(i.isAnimating(f)&&i.stop(f),f.addClass(u),i.animate(f,{complete:function(){f.remove()},type:"fadeOut",duration:100}))};return{render:h}}),DevExpress.define("/utils/utils.knockout",["/utils/utils.support"],function(n){var t=window.ko,i=function(i){return n.hasKo?t.utils.unwrapObservable(i):i},r=function(i){return n.hasKo&&t.isObservable(i)};return{unwrapObservable:i,isObservable:r}}),DevExpress.define("/utils/utils.math",["/utils/utils.common"],function(n){var a=Math.PI,v=Math.LN10,y=Math.cos,p=Math.sin,i=Math.abs,w=Math.log,b=Math.floor,k=Math.ceil,d=Math.max,r=window.isNaN,s=window.Number,h=window.NaN,c=n.isNumber,u=n.isExponential,f=function(n){var f,e=n.toString(),o=e.indexOf("."),i,r;return u(n)?(r=t(n),r<0?Math.abs(r):0):o!==-1?(i=o+1,f=e.substring(i,i+20),f.length):0},g=function(n,t){return n?Math.log(n)/Math.log(t):h},nt=function(n,t){return Math.pow(t,n)},tt=function(n){return n===0?0:n/i(n)},it=function(n){return(n%360+360)%360},rt=function(n){return 90-n},l=function(n){return a*n/180},ut=function(n){var t=l(n);return{cos:y(t),sin:p(t)}},ft=1e-14,et=function(n,t,i,r){var u=i-n,f=r-t;return Math.sqrt(f*f+u*u)},t=function(n){var t=i(n),u;return r(t)?h:t>0?(t=w(t)/v,u=k(t),u-t<ft?u:b(t)):0},ot=function(n,u,f){var o=d(t(n),t(u)),e=-t(i(u-n)/f),s;return!r(o)&&!r(e)?(i(o)<=4?(s="fixedPoint",e<0&&(e=0),e>4&&(e=4)):(s="exponential",e+=o-1,e>3&&(e=3)),{format:s,precision:e}):null},e=function(n){var t,i;return c(n)&&(t=n.toString(),i=t.indexOf("."),i>=0)?u(n)?t.substr(i+1,t.indexOf("e")-i-1):(t=n.toFixed(20),t.substr(i+1,t.length-i+1)):""},st=function(n){var i=e(n),t;if(i)for(t=0;t<i.length;t++)if(i.charAt(t)!=="0")return t+1;return 0},ht=function(n){var i=e(n),r,t;if(i)for(t=1;t<=i.length;t++)if(r=o(n,t),r!==0&&i[t-2]&&i[t-1]&&i[t-2]===i[t-1])return r;return n},o=function(n,t){return t>20&&(t=20),c(n)?u(n)?s(n.toExponential(t)):s(n.toFixed(t)):void 0},ct=function(n,t,i){var r=f(n),u=f(t);return o(i,r<u?u:r)},lt=function(n,t,i){return Math.min(Math.max(n,t),i)},at=function(n){return n.toExponential().split("e")[1]};return{getPrecision:f,getLog:g,raiseTo:nt,sign:tt,normalizeAngle:it,convertAngleToRendererSpace:rt,degreesToRadians:l,getCosAndSin:ut,getDecimalOrder:t,getAppropriateFormat:ot,getDistance:et,getFraction:e,adjustValue:ht,roundValue:o,applyPrecisionByMinDelta:ct,getSignificantDigitPosition:st,getPower:at,fitIntoRange:lt}}),DevExpress.define("/utils/utils.memorizedCallbacks",["jquery"],function(n){return function(){var i=[],t=n.Callbacks();this.add=function(r){n.each(i,function(n,t){r.apply(r,t)}),t.add(r)},this.fire=function(){i.push(arguments),t.fire.apply(t,arguments)}}}),DevExpress.define("/utils/utils.object",["jquery","/utils/utils.common"],function(n,t){var r=function(){function n(){}return function(t){return n.prototype=t,new n}}(),u=function(n,t,i){var r,u;n=n||{};for(r in t)t.hasOwnProperty(r)&&(u=t[r],r in n&&!i||(n[r]=u));return n},f=function(n,i){var u=[],r,f;for(r in n)u.push(r);for(u.sort(function(n,i){var r=t.isNumber(n),u=t.isNumber(i);return r&&u?n-i:r&&!u?-1:!r&&u?1:n<i?-1:n>i?1:0}),f=0;f<u.length;f++)r=u[f],i(r,n[r])},i=function(t,r){var e,u,f;for(f in r)(e=t[f],u=r[f],t!==u)&&(!n.isPlainObject(u)||u instanceof n.Event?u!==undefined&&(t[f]=u):t[f]=i(n.isPlainObject(e)?e:{},u));return t};return{clone:r,extendFromObject:u,orderEach:f,deepExtendArraySafe:i}}),DevExpress.define("/utils/utils.position",["/utils/utils.translator","/utils/utils.string","/utils/utils.support","/utils/utils.common"],function(n,t,i,r){var b=/left|right/,k=/top|bottom/,c=/fit|flip|none/,e=function(n){var t={h:"center",v:"center"},i=r.splitPair(n);return i&&$.each(i,function(){var n=String(this).toLowerCase();b.test(n)?t.h=n:k.test(n)&&(t.v=n)}),t},l=function(n){return t.pairToObject(n)},d=function(n){var t=r.splitPair(n),i=String(t&&t[0]).toLowerCase(),u=String(t&&t[1]).toLowerCase();return c.test(i)||(i="none"),c.test(u)||(u=i),{h:i,v:u}},a=function(n){switch(n){case"center":return.5;case"right":case"bottom":return 1;default:return 0}},o=function(n){switch(n){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return n}},s=function(n,t){var i=0;return n.myLocation<t.min&&(i+=t.min-n.myLocation),n.myLocation>t.max&&(i+=n.myLocation-t.max),i},v=function(n,t,i){return t.myLocation<i.min?n==="h"?"left":"top":t.myLocation>i.max?n==="h"?"right":"bottom":"none"},h=function(n){n.myLocation=n.atLocation+a(n.atAlign)*n.atSize-a(n.myAlign)*n.mySize+n.offset},u={fit:function(n,t){var i=!1;n.myLocation>t.max&&(n.myLocation=t.max,i=!0),n.myLocation<t.min&&(n.myLocation=t.min,i=!0),n.fit=i},flip:function(n,t){if((n.flip=!1,n.myAlign!=="center"||n.atAlign!=="center")&&(n.myLocation<t.min||n.myLocation>t.max)){var i=$.extend({},n,{myAlign:o(n.myAlign),atAlign:o(n.atAlign),offset:-n.offset});h(i),i.oversize=s(i,t),(i.myLocation>=t.min&&i.myLocation<=t.max||n.oversize>i.oversize)&&(n.myLocation=i.myLocation,n.oversize=i.oversize,n.flip=!0)}},flipfit:function(n,t){this.flip(n,t),this.fit(n,t)},none:function(n){n.oversize=0}},f,y=function(){var n=$("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo($("body")),t=n.get(0).offsetWidth-n.get(0).clientWidth;n.remove(),f=t},g={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},p=function(n,t){var w=$(n),nt=w.offset(),b=$.extend(!0,{},g,{h:{location:nt.left},v:{location:nt.top}}),k,a,p;if(!t)return b;var tt=e(t.my),it=e(t.at),c=t.of||window,rt=l(t.offset),ut=d(t.collision),ft=t.boundary,et=l(t.boundaryOffset),r={mySize:w.outerWidth(),myAlign:tt.h,atAlign:it.h,offset:rt.h,collision:ut.h,boundaryOffset:et.h},o={mySize:w.outerHeight(),myAlign:tt.v,atAlign:it.v,offset:rt.v,collision:ut.v,boundaryOffset:et.v};return c.preventDefault?(r.atLocation=c.pageX,o.atLocation=c.pageY,r.atSize=0,o.atSize=0):(c=$(c),$.isWindow(c[0])?(r.atLocation=c.scrollLeft(),o.atLocation=c.scrollTop(),r.atSize=c.width(),o.atSize=c.height()):c[0].nodeType===9?(r.atLocation=0,o.atLocation=0,r.atSize=c.width(),o.atSize=c.height()):(k=c.offset(),r.atLocation=k.left,o.atLocation=k.top,r.atSize=c.outerWidth(),o.atSize=c.outerHeight())),h(r),h(o),a=function(){var n=$(window),u=n.width(),e=n.height(),s=n.scrollLeft(),h=n.scrollTop(),v=document.width>document.documentElement.clientWidth,p=document.height>document.documentElement.clientHeight,w=i.touch?document.documentElement.clientWidth/(p?u-f:u):1,b=i.touch?document.documentElement.clientHeight/(v?e-f:e):1,c,l,t,a;return f===undefined&&y(),c=u,l=e,ft&&(t=$(ft),a=t.offset(),s=a.left,h=a.top,c=t.width(),l=t.height()),{h:{min:s+r.boundaryOffset,max:s+c/w-r.mySize-r.boundaryOffset},v:{min:h+o.boundaryOffset,max:h+l/b-o.mySize-o.boundaryOffset}}}(),r.oversize=s(r,a.h),o.oversize=s(o,a.v),r.collisionSide=v("h",r,a.h),o.collisionSide=v("v",o,a.v),u[r.collision]&&u[r.collision](r,a.h),u[o.collision]&&u[o.collision](o,a.v),p=function(n){return t.precise?n:Math.round(n)},$.extend(!0,b,{h:{location:p(r.myLocation),oversize:p(r.oversize),fit:r.fit,flip:r.flip,collisionSide:r.collisionSide},v:{location:p(o.myLocation),oversize:p(o.oversize),fit:o.fit,flip:o.flip,collisionSide:o.collisionSide},precise:t.precise}),b},w=function(t,i){var r=$(t);if(!i)return r.offset();n.resetPosition(r);var f=r.offset(),u=i.h&&i.v?i:p(r,i),e=function(n){return i.precise?n:Math.round(n)};return n.move(r,{left:u.h.location-e(f.left),top:u.v.location-e(f.top)}),u};return $.extend(w,{inverseAlign:o,normalizeAlign:e}),{calculateScrollbarWidth:y,calculate:p,setup:w}}),DevExpress.define("/utils/utils.proxyUrlFormatter",["jquery"],function(n){var r=window.location,i="dxproxy.devexpress.com:8000",f=r.host===i,t={},u=function(){var t=document.createElement("a"),i=["protocol","hostname","port","pathname","search","hash"],r=function(n){return n.charAt(0)!=="/"&&(n="/"+n),n};return function(u){t.href=u;var f={};return n.each(i,function(){f[this]=t[this]}),f.pathname=r(f.pathname),f}}(),e=function(){return r.pathname.split("/")[1]};return{parseUrl:u,isProxyUsed:function(){return f},formatProxyUrl:function(n){var r=u(n),f,o;return/^(localhost$|127\.)/i.test(r.hostname)?(f=i+"/"+e()+"_"+r.port,t[f]=r.hostname+":"+r.port,o="http://"+f+r.pathname+r.search):n},formatLocalUrl:function(n){var u,r;if(n.indexOf(i)<0)return n;u=n;for(r in t)if(t.hasOwnProperty(r)&&n.indexOf(r)>=0){u=n.replace(r,t[r]);break}return u}}}),DevExpress.define("/utils/utils.publicComponent",["jquery","/utils/utils.weakMap","/utils/utils.common"],function(n,t,i){var u="dxComponents",f="dxPrivateComponent",r=new t,e=0;return{attachInstanceToElement:function(t,i,r){t=n(t).get(0),n.data(t,i,r),n.data(t,u)||n.data(t,u,[]),n.data(t,u).push(i)},getInstanceByElement:function(t,i){return t=n(t).get(0),n.data(t,i)},getName:function(n){if(i.isDefined(n)){r.set(this,n);return}if(!r.has(this)){var t=f+e++;return r.set(this,t),t}return r.get(this)}}}),DevExpress.define("/utils/utils.queue",["jquery","/errors"],function(n){function i(t){function u(){while(i.length){r=!0;var f=i.shift(),t=f();if(t!==undefined&&t.then){n.when(t).always(u);return}}r=!1}function f(n,f){t?(i[0]&&f&&f(i[0]),i=[n]):i.push(n),r||u()}function e(){return r}var i=[],r=!1;return{add:f,busy:e}}return{create:i,enqueue:i().add}}),DevExpress.define("/utils/utils.recurrence",["jquery","/errors","/utils/utils.date"],function(n,t,i){var a={secondly:"seconds",minutely:"minutes",hourly:"hours",daily:"days",weekly:"weeks",monthly:"months",yearly:"years"},u={bysecond:function(n,t){n.setSeconds(t)},byminute:function(n,t){n.setMinutes(t)},byhour:function(n,t){n.setHours(t)},bymonth:function(n,t){n.setMonth(t)},bymonthday:function(n,t){n.setDate(t)},byday:function(n,t){n.setDate(n.getDate()-n.getDay()+t)}},v={bysecond:"getSeconds",byminute:"getMinutes",byhour:"getHours",bymonth:"getMonth",bymonthday:"getDate",byday:"getDay"},y=["freq","interval","byday","bymonth","bymonthday","count","until","byhour","byminute","bysecond"],p=["DAILY","WEEKLY","MONTHLY","YEARLY","SECONDLY","MINUTELY","HOURLY"],f={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},w=function(n,t,i,r,u){var f=[];return n&&(f=e(n,t,i,r,u)),!!f.length},b=function(n,t){var i={},r=a[n.toLowerCase()];return i[r]=t,i},k=function(n){var i=[],u,t,f;if(!n)return i;for(u=n.split(","),t=0,f=u.length;t<f;t++)i[t]=r(u[t]);return i},d=function(n,t){for(var r=!1,i=0,u=t.length;i<u;i++)n.getTime()===t[i].getTime()&&(r=!0);return r},e=function(n,t,r,u,f){var v=[],p=o(n),e,nt;if(!p.isValid)return[];if(e=p.rule,!e.freq)return v;e.interval=b(e.freq,e.interval),u=i.normalizeDate(u,r,e.until);var w=0,a=0,y=ct(e),h=l(y,t),s=h[0],c=new Date(t),tt=k(f);for(i.correctDateWithUnitBeginning(c,e.interval),nt=g(t,c);s<=u&&e.count!==w;)yt(s,y)&&(s>=r&&!d(s,tt)&&(r=new Date(s),r.setMilliseconds(r.getMilliseconds()+1),v.push(new Date(s))),w++),a++,s=h[a%h.length],a/h.length>=1&&(a=0,c=i.addInterval(c,e.interval),h=l(y,i.addInterval(c,nt)),s=h[0]);return v},g=function(n,t){return{years:n.getFullYear()-t.getFullYear(),months:n.getMonth()-t.getMonth(),days:n.getDate()-t.getDate(),hours:n.getHours()-t.getHours(),minutes:n.getMinutes()-t.getMinutes(),seconds:n.getSeconds()-t.getSeconds()}},o=function(n){var t={rule:{},isValid:!1};return n&&(t.rule=ht(n),t.isValid=nt(t.rule,n)),t},s=[],nt=function(t,i){return ot(t)||n.inArray(t.freq,p)===-1||it(t)||ft(t)||et(t)||rt(t)||ut(t)||tt(t)?(st(i),!1):!0},tt=function(n){var t=!1,i=n.until;return i===undefined||i instanceof Date||(t=!0),t},it=function(n){var t=!1,i=n.count;return i&&typeof i=="string"&&(t=!0),t},rt=function(n){var t=!1,i=n.bymonthday;return i&&isNaN(parseInt(i))&&(t=!0),t},ut=function(n){var t=!1,i=n.bymonth;return i&&isNaN(parseInt(i))&&(t=!0),t},ft=function(n){var t=!1,i=n.interval;return i&&typeof i=="string"&&(t=!0),t},et=function(t){var r=h(t),i=!1;return n.each(r,function(n,t){if(!f.hasOwnProperty(t))return i=!0,!1}),i},ot=function(t){var i=!1;return n.each(t,function(t){if(n.inArray(t,y)===-1)return i=!0,!1}),i},st=function(i){n.inArray(i,s)===-1&&(t.log("W0006",i),s.push(i))},ht=function(n){for(var t={},e=n.split(";"),u,f,i=0,o=e.length;i<o;i++){var s=e[i].split("="),h=s[0].toLowerCase(),c=s[1];t[h]=c}return u=parseInt(t.count),isNaN(u)||(t.count=u),t.interval?(f=parseInt(t.interval),isNaN(f)||(t.interval=f)):t.interval=1,t.freq&&t.until&&(t.until=r(t.until)),t},r=function(n){if(typeof n!="string")return n;var t=Globalize.parseDate(n,"yyyyMMddThhmmss");return t||(t=Globalize.parseDate(n,"yyyyMMdd")),t},h=function(n){var t=[];return n.byday&&(t=n.byday.split(",")),t},c=function(n){return n.getFullYear()+("0"+(n.getMonth()+1)).slice(-2)+("0"+n.getDate()).slice(-2)},ct=function(n){var t=[],i,f,r;for(i in u)n[i]&&(f=n[i].split(","),r=lt(i,f),t=t.length?vt(r,t):r);return t},lt=function(n,t){for(var u=[],r,i=0,f=t.length;i<f;i++)r={},r[n]=at(n,t[i]),u.push(r);return u},at=function(n,t){var i=parseInt(t);return n==="bymonth"&&(i-=1),n==="byday"&&(i=f[t]),i},vt=function(t,i){for(var f=[],u,o,r=0,e=t.length;r<e;r++)for(u=0,o=i.length;u<o;u++)f.push(n.extend({},t[r],i[u]));return f},l=function(n,t){for(var f=new Date(t),i=[],e,o,r=0,s=n.length;r<s;r++){e=n[r];for(o in e)u[o](f,e[o]);i.push(new Date(f))}return i.length||i.push(f),i},yt=function(n,t){for(var r=!1,u,f,e,i=0;i<t.length;i++){u=t[i],f=!0;for(e in u)u[e]!==n[v[e]]()&&(f=!1);r=r||f}return r||!t.length},pt=function(n){var t,i,r;if(n&&n.freq){t="";for(i in n)(r=n[i],i==="interval"&&r<2)||(i==="until"&&(r=c(r)),t+=i+"="+r+";");return t=t.substring(0,t.length-1),t.toUpperCase()}};return{getRecurrenceString:pt,getRecurrenceRule:o,getAsciiStringByDate:c,getDatesByRecurrence:e,dateInRecurrenceRange:w,getDateByAsciiString:r,daysFromByDayRule:h}}),DevExpress.define("/utils/utils.storage",[],function(){var n=function(){var n;try{n=window.sessionStorage}catch(t){}return n};return{sessionStorage:n}}),DevExpress.define("/utils/utils.string",["jquery","/utils/utils.common"],function(n,t){var i=function(){var n=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(t){return String(t).replace(n[0],"&amp;").replace(n[1],"&quot;").replace(n[2],"&#39;").replace(n[3],"&lt;").replace(n[4],"&gt;")}}(),r=function(n){var i=t.splitPair(n),r=parseInt(i&&i[0],10),u=parseInt(i&&i[1],10);return isFinite(r)||(r=0),isFinite(u)||(u=r),{h:r,v:u}},u=function(n){var i=t.splitQuad(n),r=parseInt(i&&i[0],10),u=parseInt(i&&i[1],10),f=parseInt(i&&i[2],10),e=parseInt(i&&i[3],10);return isFinite(r)||(r=0),isFinite(u)||(u=r),isFinite(f)||(f=r),isFinite(e)||(e=u),{top:u,right:f,bottom:e,left:r}},f=function(){for(var r=arguments[0],u,f,t,i=0;i<arguments.length-1;i++)f=new RegExp("\\{"+i+"\\}","gm"),t=arguments[i+1],n.type(t)==="string"&&t.indexOf("$")>=0&&(u="$".replace("$","$$").length,t=t.replace("$",u===1?"$$$$":"$$")),r=r.replace(f,t);return r},e=function(){var n=function(n){return(n+"").replace(/([\+\*\?\\\.\[\^\]\$\(\)\{\}\><\|\=\!\:])/g,"\\$1")};return function(t,i,r){return t.replace(new RegExp("("+n(i)+")","gi"),r)}}();return{encodeHtml:i,pairToObject:r,quadToObject:u,format:f,replaceAll:e}}),DevExpress.define("/utils/utils.support",["jquery","/utils/utils.inflector","/devices"],function(n,t,i){var f=t.camelize,e=["","Webkit","Moz","O","Ms"],l={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},o=document.createElement("dx").style,a={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MsTransitionEnd",transition:"transitionend"},s=function(n,t){var i,r,o;for(n=f(n,!0),r=0,o=e.length;r<o;r++){var u=e[r],s=u+n,h=f(s);if(i=t(h,u),i===undefined&&(i=t(s,u)),i!==undefined)break}return i},u=function(n){return s(n,function(n){if(n in o)return n})},v=function(n){return s(n,function(n,t){if(n in o)return l[t]})},r=function(n){return!!u(n)},y=function(){var t=i.real(),r=t.platform,u=t.version,f=u&&u[0]<4&&r==="android";return!f&&n.inArray(r,["ios","android","win"])>-1||t.mac},p=function(n){if(n==="text")return!0;var t=document.createElement("input");try{return t.setAttribute("type",n),t.value="wrongValue",!t.value}catch(i){return!1}},h="ontouchstart"in window&&!("callPhantom"in window),c=!!window.navigator.pointerEnabled||!!window.navigator.msPointerEnabled;return{touchEvents:h,pointer:c,touch:h||c,transform:r("transform"),transition:r("transition"),transitionEndEventName:a[u("transition")],animation:r("animation"),nativeScrolling:y(),winJS:"WinJS"in window,styleProp:u,stylePropPrefix:v,supportProp:r,hasKo:!!window.ko,hasNg:!!window.angular,inputType:p}}),DevExpress.define("/utils/utils.topOverlay",["jquery"],function(n){var t=function(){var t=[];return{add:function(i){var r=n.inArray(i,t);r===-1&&t.push(i)},remove:function(i){var r=n.inArray(i,t);r!==-1&&t.splice(r,1)},fire:function(){var n=t.pop(),i=!!n;return i&&n(),i},hasCallback:function(){return t.length>0}}}();return{hide:function(){return t.fire()},hideCallback:t}}),DevExpress.define("/utils/utils.translator",["jquery","/utils/utils.support"],function(n,t){var u="dxTranslator",o=/matrix(3d)?\((.+?)\)/,s=/translate(?:3d)?\((.+?)\)/,h=function(n){var i=t.transform?f(n):l(n);return{left:i.x,top:i.y}},c=function(n,u){if(!t.transform){n.css(u);return}var o=f(n),s=u.left,h=u.top;s!==undefined&&(o.x=s||0),h!==undefined&&(o.y=h||0),n.css({transform:e(o)}),(i(s)||i(h))&&r(n)},i=function(t){return n.type(t)==="string"&&t[t.length-1]==="%"},l=function(n){var t,i;try{var u=n.css("top"),f=n.css("left"),e=n.position();n.css({transform:"none",top:0,left:0}),r(n),i=n.position(),t={x:e.left-i.left||parseInt(f)||0,y:e.top-i.top||parseInt(u)||0},n.css({top:u,left:f})}catch(o){t={x:0,y:0}}return t},f=function(t){var r=t.length?n.data(t.get(0),u):null;if(!r){var f=t.css("transform")||e({x:0,y:0}),i=f.match(o),s=i&&i[1];i?(i=i[2].split(","),s==="3d"?i=i.slice(12,15):(i.push(0),i=i.slice(4,7))):i=[0,0,0],r={x:parseFloat(i[0]),y:parseFloat(i[1]),z:parseFloat(i[2])},a(t,r)}return r},a=function(t,i){t.length&&n.data(t.get(0),u,i)},r=function(t){t.length&&n.removeData(t.get(0),u)},v=function(n){n.css({left:0,top:0,transform:"none"}),r(n)},y=function(n){var t=n.match(s);if(t&&t[1])return t=t[1].split(","),t={x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])}},e=function(n){n.x=n.x||0,n.y=n.y||0;var t=i(n.x)?n.x:n.x+"px",r=i(n.y)?n.y:n.y+"px";return"translate("+t+", "+r+")"};return{move:c,locate:h,clearCache:r,parseTranslate:y,getTranslate:f,getTranslateCss:e,resetPosition:v}}),DevExpress.define("/utils/utils.version",["jquery"],function(){var t=function(n,t,i){function o(n){return typeof n=="string"?n.split("."):typeof n=="number"?[n]:n}var u,r,f,e;for(n=o(n),t=o(t),u=Math.max(n.length,t.length),isFinite(i)&&(u=Math.min(u,i)),r=0;r<u;r++){if(f=parseInt(n[r]||0,10),e=parseInt(t[r]||0,10),f<e)return-1;if(f>e)return 1}return 0};return{compare:t}}),DevExpress.define("/utils/utils.viewPort",["jquery"],function(n){var i=n.Callbacks(),t=function(){var r;return function(u){if(!arguments.length)return r;var f=n(u),e=!!f.length,o=t();r=e?f:n("body"),i.fire(e?t():n(),o)}}();return n(function(){t(".dx-viewport")}),{value:t,changeCallback:i}}),DevExpress.define("/utils/utils.weakMap",["jquery"],function(n){var t=window.WeakMap;return t||(t=function(){var t=[],i=[];this.set=function(n,r){t.push(n),i.push(r)},this.get=function(r){var u=n.inArray(r,t);return u===-1?undefined:i[u]},this.has=function(i){var r=n.inArray(i,t);return r===-1?!1:!0}}),t}),DevExpress.define("/utils/utils.window",["jquery"],function(n){var t=function(){var u,t=n.Callbacks(),i=n(window),r=!1,o=t.add,s=t.remove,f=function(){return[i.width(),i.height()].join()},e=function(){var n=f();n!==u&&(u=n,setTimeout(t.fire))};return u=f(),t.add=function(){var n=o.apply(t,arguments);if(!r&&t.has()){i.on("resize",e);r=!0}return n},t.remove=function(){var n=s.apply(t,arguments);return!t.has()&&r&&(i.off("resize",e),r=!1),n},t}();return{resizeCallbacks:t}}),DevExpress.define("/utils/utilsNamespace",["/coreNamespace"],function(n){return n.utils=n.utils||{}}),DevExpress.define("/utils/utils",["/utils/utilsNamespace","/utils/utils.animationFrame","/utils/utils.object","/utils/utils.dom","/utils/utils.date","/utils/utils.common"],function(n,t,i,r,u,f){return n.requestAnimationFrame=t.request,n.cancelAnimationFrame=t.cancel,n.initMobileViewport=r.initMobileViewport,n.extendFromObject=i.extendFromObject,n.createComponents=r.createComponents,n.triggerShownEvent=r.triggerShownEvent,n.triggerHiddingEvent=r.triggerHiddingEvent,n.makeDate=u.makeDate,n.resetActiveElement=r.resetActiveElement,n.findBestMatches=f.findBestMatches,n}),function(n,t){var u=t.require("/utils/utils.inflector").humanize,r;Globalize._findClosestNeutralCulture=function(n){var t=(n||this.cultureSelector||"").substring(0,2),i=this.findClosestCulture(t);return i||{messages:{}}},Globalize.localize=function(n,t){return this.findClosestCulture(t).messages[n]||this._findClosestNeutralCulture(t).messages[n]||this.cultures["default"].messages[n]},r=function(){var t={};return{setup:function(n){this.localizeString=function(i){var r=new RegExp("(^|[^a-zA-Z_0-9"+n+"-]+)("+n+"{1,2})([a-zA-Z_0-9-]+)","g"),f=n+n;return i.replace(r,function(i,r,e,o){var s=r+n+o;return e!==f&&(Globalize.cultures["default"].messages[o]?s=r+Globalize.localize(o):t[o]=u(o)),s})}},localizeNode:function(t){var i=this;n(t).each(function(t,r){r.nodeType&&(r.nodeType===3?r.nodeValue=i.localizeString(r.nodeValue):n(r).is("iframe")||(n.each(r.attributes||[],function(n,t){if(typeof t.value=="string"){var r=i.localizeString(t.value);t.value!==r&&(t.value=r)}}),n(r).contents().each(function(n,t){i.localizeNode(t)})))})},getDictionary:function(i){return i?t:n.extend({},t,Globalize.cultures["default"].messages)}}}(),r.setup("@"),t.localization=r}(jQuery,DevExpress),Globalize.addCultureInfo("default",{messages:{Yes:"Yes",No:"No",Cancel:"Cancel",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK","dxCollectionWidget-noDataText":"No data to display","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid"}}),Globalize.addCultureInfo("default",{messages:{"dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxFileUploader-selectFile":"Select file","dxFileUploader-dropFile":"or Drop file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"kb","dxFileUploader-Mb":"Mb","dxFileUploader-Gb":"Gb","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadFailedMessage":"Upload failed","dxRangeSlider-ariaFrom":"From {0}","dxRangeSlider-ariaTill":"Till {0}","dxSwitch-onText":"ON","dxSwitch-offText":"OFF","dxForm-optionalMark":"optional"}}),Globalize.addCultureInfo("default",{messages:{"dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-editingConfirmDeleteTitle":"","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Fix","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"To the left","dxDataGrid-columnFixingRightPosition":"To the right","dxDataGrid-exportTo":"Export to","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaDataGrid":"Data grid","dxDataGrid-ariaSearchInGrid":"Search in data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceEvery":"Every","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code"}}),DevExpress.define("/coreNamespace",["/version","/actionExecutors"],function(n){var t=window.DevExpress=window.DevExpress||{};return t.VERSION=n,t.rtlEnabled=!1,t}),DevExpress.define("/componentRegistrator",["jquery","/errors","/coreNamespace","/utils/utils.memorizedCallbacks","/utils/utils.publicComponent"],function(n,t,i,r){var f=new r,e=function(n,t,r){r||(r=t,t=i),t[n]=r,r.publicName(n),f.fire(n,r)},o;return e.callbacks=f,o=function(i,r){n.fn[i]=function(u){var s=typeof u=="string",f,e,o;return s?(e=u,o=n.makeArray(arguments).slice(1),this.each(function(){var n=r.getInstance(this),u,s;if(!n)throw t.Error("E0009",i);u=n[e],s=u.apply(n,o),f===undefined&&(f=s)})):(this.each(function(){var n=r.getInstance(this);n?n.option(u):new r(this,u)}),f=this),f}},f.add(o),e}),DevExpress.define("/component",["/class","/eventsMixin","/action","/errors","/utils/utils.inflector","/utils/utils.common","/utils/utils.publicComponent","/devices"],function(n,t,i,r,u,f,e,o){var s=DevExpress.data.utils,h={},c={},l=n.inherit({_setDeprecatedOptions:function(){this._deprecatedOptions={}},_getDeprecatedOptions:function(){return this._deprecatedOptions},_setOptionAliases:function(){var n=this._optionAliases={};$.each(this._getDeprecatedOptions(),function(t,i){var r=i.alias;r&&(n[t]=r)})},_getOptionAliases:function(){return this._optionAliases},_getOptionAliasesByName:function(n){return $.map(this._getOptionAliases(),function(t,i){return n===t?i:undefined})},_getDefaultOptions:function(){return{onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}},_setDefaultOptions:function(){$.extend(this._options,this._getDefaultOptions())},_defaultOptionsRules:function(){return[]},_setOptionsByDevice:function(n){var t=this._defaultOptionsRules();this._customRules&&(t=t.concat(this._customRules)),$.isArray(n)&&(t=t.concat(n)),this.option(this._convertRulesToOptions(t))},_convertRulesToOptions:function(n){var t={},i=o.current(),r=function(n,t){return t=$.makeArray(t),t.length===1&&$.isEmptyObject(t[0])||f.findBestMatches(n,t).length>0};return $.each(n,function(n,u){var f=u.device||{},e;e=$.isFunction(f)?f(i):r(i,f),e&&$.extend(t,u.options)}),t},_isInitialOptionValue:function(n){var t=this._customRules&&this._convertRulesToOptions(this._customRules).hasOwnProperty(n),i=this.option(n)===this._initialOptions[n];return!t&&i},_setOptionsByReference:function(){this._optionsByReference={}},_getOptionsByReference:function(){return this._optionsByReference},ctor:function(n){this.NAME=this.constructor.publicName(),n=n||{},this._options={},this._updateLockCount=0,this._optionChangedCallbacks=n._optionChangedCallbacks||$.Callbacks(),this._disposingCallbacks=n._disposingCallbacks||$.Callbacks(),this.beginUpdate();try{this._suppressDeprecatedWarnings(),this._setOptionsByReference(),this._setDeprecatedOptions(),this._setOptionAliases(),this._setDefaultOptions(),this._setOptionsByDevice(n.defaultOptionsRules),this._resumeDeprecatedWarnings(),this._initialOptions=$.extend({},this.option()),this._initOptions(n)}finally{this.endUpdate()}},_initOptions:function(n){this.option(n)},_optionValuesEqual:function(n,t,i){if(t=s.toComparable(t,!0),i=s.toComparable(i,!0),t&&i&&t.jquery&&i.jquery)return i.is(t);var r=t!==t,u=i!==i;return r&&u?!0:t===null||typeof t!="object"?t===i:!1},_init:function(){this._createOptionChangedAction();this.on("optionChanged",function(n){this._optionChangedCallbacks.fireWith(this,[n])});this.on("disposing",function(n){this._disposingCallbacks.fireWith(this,[n])})},_createOptionChangedAction:function(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly","designMode"]})},_createDisposingAction:function(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly","designMode"]})},_optionChanged:function(n){switch(n.name){case"onOptionChanged":this._createOptionChangedAction()}},_dispose:function(){this._createDisposingAction(),this._disposingAction(),this._disposeEvents(),this._disposed=!0},instance:function(){return this},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){if(this._updateLockCount=Math.max(this._updateLockCount-1,0),!this._updateLockCount&&!this._initializing&&!this._initialized){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._updateLockCount++,this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly","designMode"]})(),this._updateLockCount--,this._initialized=!0}}},_logWarningIfDeprecated:function(){},_suppressDeprecatedWarnings:function(){},_resumeDeprecatedWarnings:function(){},_notifyOptionChanged:function(n,t,i){var r=this;this._initialized&&$.each(r._getOptionAliasesByName(n).concat([n]),function(n,u){var f={name:u.split(/[.\[]/)[0],fullName:u,value:t,previousValue:i};r._optionChangedAction($.extend({},f)),r._disposed||r._optionChanged(f)})},initialOption:function(n){var t=this._initialOptions;return t[n]},_defaultActionConfig:function(){return{context:this,component:this}},_defaultActionArgs:function(){return{component:this}},_createAction:function(n,t){var u=this,r;return function(f){return arguments.length||(f={}),$.isPlainObject(f)||(f={actionValue:f}),r=r||new i(n,$.extend(t,u._defaultActionConfig())),r.execute.call(r,$.extend(f,u._defaultActionArgs()))}},_createActionByOptionCore:function(n,t){var i,f;if(t=t||{},typeof n!="string")throw r.Error("E0008");if(i=/^on(\w+)/.exec(n),i){var e=u.camelize(i[1]),o=t.beforeExecute||$.noop,s=this;t.beforeExecute=function(n){return s.fireEvent(e,n.args),o.apply(this,arguments)}}return this._suppressDeprecatedWarnings(),f=this._createAction(this.option(n),t),this._resumeDeprecatedWarnings(),f},_createActionByOption:function(n,t){var u=this,r,i=function(){return r=r||u._createActionByOptionCore(n,t),r.apply(u,arguments)},f=this.option("onActionCreated")||$.noop;return i=f(this,i,t)||i},option:function(n){var t=this,i=n,o=arguments[1],f=this._getOptionAliases(),r=function(n){return n&&(t._logWarningIfDeprecated(n),f[n]&&(n=f[n])),n},e=function(n,i){return h[n]||(h[n]=s.compileGetter(n)),h[n](t._options,{functionsAsIs:!0,unwrapObservables:i})},u=function(n,i){c[n]||(c[n]=s.compileSetter(n)),c[n](t._options,i,{functionsAsIs:!0,merge:!t._getOptionsByReference()[n],unwrapObservables:!1}),$.isPlainObject(i)&&$.each(i,function(t,i){t=n+"."+t;var f=r(t);f!==t&&(u(t,undefined),u(f,i))})};if(arguments.length<2&&$.type(i)!=="object")return i=r(i),e(i);typeof i=="string"&&(n={},n[i]=o),t.beginUpdate();try{$.each(n,function(n,i){n=r(n);var f=e(n,!1);t._optionValuesEqual(n,f,i)||(u(n,i),t._notifyOptionChanged(n,i,f))})}finally{t.endUpdate()}}}).include(t);return l.publicName=e.getName,l}),DevExpress.define("/domComponent",["jquery","/component","/errors","/utils/utils.window","/utils/utils.common","/utils/utils.publicComponent","/ui/events/ui.events.remove"],function(n,t,i,r,u,f,e){var o=t.abstract,c=r.resizeCallbacks,l="dx-rtl",a="dx-visibility-change-handler",s="VisibilityChange",h=t.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{width:undefined,height:undefined,rtlEnabled:DevExpress.rtlEnabled,disabled:!1})},ctor:function(t,i){this._$element=n(t),f.attachInstanceToElement(this._$element,this.constructor.publicName(),this);this.element().one(e.name,n.proxy(function(){this._dispose()},this));this.callBase(i)},_visibilityChanged:o,_dimensionChanged:o,_init:function(){this.callBase(),this._attachWindowResizeCallback()},_attachWindowResizeCallback:function(){if(this._isDimensionChangeSupported()){var t=this._windowResizeCallBack=n.proxy(this._dimensionChanged,this);c.add(t)}},_isDimensionChangeSupported:function(){return this._dimensionChanged!==o},_render:function(){this._toggleRTLDirection(this.option("rtlEnabled")),this._renderVisibilityChange(),this._renderDimensions()},_renderVisibilityChange:function(){(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported())&&(this.element().addClass(a),this._attachVisiblityChangeHandlers())},_renderDimensions:function(){var t=this.option("width"),i=this.option("height"),n=this.element();n.outerWidth(t),n.outerHeight(i)},_attachDimensionChangeHandlers:function(){var n=this,t="dxresize."+this.NAME+s;n.element().off(t).on(t,function(){n._dimensionChanged()})},_attachVisiblityChangeHandlers:function(){var n=this,t="dxhiding."+this.NAME+s,i="dxshown."+this.NAME+s;n._isHidden=!n._isVisible();n.element().off(t).on(t,function(){n._checkVisibilityChanged("hiding")}).off(i).on(i,function(){n._checkVisibilityChanged("shown")})},_isVisible:function(){return this.element().is(":visible")},_checkVisibilityChanged:function(n){n==="hiding"&&this._isVisible()&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):n==="shown"&&this._isVisible()&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0))},_isVisibilityChangeSupported:function(){return this._visibilityChanged!==o},_clean:n.noop,_modelByElement:function(){var t=this.option("modelByElement")||n.noop;return t(this.element())},_invalidate:function(){this._requireRefresh=!0},_refresh:function(){this._clean(),this._render()},_dispose:function(){this.callBase(),this._clean(),this._detachWindowResizeCallback()},_detachWindowResizeCallback:function(){this._isDimensionChangeSupported()&&c.remove(this._windowResizeCallBack)},_toggleRTLDirection:function(n){this.element().toggleClass(l,n)},_createComponent:function(t,i,r){var e=this,s,h,f,c,o;if(r=r||{},s=n.grep(["rtlEnabled","disabled"],function(n){return!(n in r)}),h=e.option("nestedComponentOptions")||n.noop,e._extendConfig(r,n.extend({rtlEnabled:this.option("rtlEnabled"),disabled:this.option("disabled")},h(this))),u.isString(i)?(c=n(t)[i](r),f=c[i]("instance")):(f=i.getInstance(t),f?f.option(r):f=new i(t,r)),f){o=function(t){n.inArray(t.name,s)>=0&&f.option(t.name,t.value)};e.on("optionChanged",o);f.on("disposing",function(){e.off("optionChanged",o)})}return f},_extendConfig:function(t,i){n.each(i,function(n,i){t[n]=t.hasOwnProperty(n)?t[n]:i})},_defaultActionConfig:function(){return n.extend(this.callBase(),{context:this._modelByElement(this.element())})},_defaultActionArgs:function(){var t=this.element(),i=this._modelByElement(this.element());return n.extend(this.callBase(),{element:t,model:i})},_optionChanged:function(n){switch(n.name){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"disabled":break;default:this.callBase(n)}},endUpdate:function(){var n=!this._initializing&&!this._initialized;this.callBase.apply(this,arguments),this._updateLockCount||(n?this._render():this._requireRefresh&&(this._requireRefresh=!1,this._refresh()))},element:function(){return this._$element}});return h.getInstance=function(n){return f.getInstanceByElement(n,this.publicName())},h.defaultOptions=function(n){this.prototype._customRules=this.prototype._customRules||[],this.prototype._customRules.push(n)},h}),DevExpress.define("/version",[],function(){return"15.2.4"}),DevExpress.define("/errors",["/utils/utils.error"],function(n){return n({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"The cellDuration option value is invalid"})}),DevExpress.define("/eventsMixin",["jquery","/errors"],function(n){return{ctor:function(){this._events={}},fireEvent:function(n,t){var i=this._events[n];return i&&i.fireWith(this,t),this},on:function(t,i){if(n.isPlainObject(t))n.each(t,n.proxy(function(n,t){this.on(n,t)},this));else{var r=this._events[t],u;r||(r=n.Callbacks(),this._events[t]=r),u=r.originalAdd||r.add,u.call(r,i)}return this},off:function(t,i){var r=this._events[t];return r&&(n.isFunction(i)?r.remove(i):r.empty()),this},_disposeEvents:function(){n.each(this._events,function(){this.empty()})}}}),DevExpress.define("/class",["jquery","/errors"],function(n,t){var u=function(n,t,i){return function(){var r=this.callBase;this.callBase=n[t];try{return i.apply(this,arguments)}finally{this.callBase=r}}},f=function(n){var t=function(){};return t.prototype=n.prototype,new t},e=function(t){var i=this,r;return t?(r=n.map(t,function(n,t){return t}),n.each(["toString","toLocaleString","valueOf"],function(){t[this]&&r.push(this)}),n.each(r,function(){var r=n.isFunction(i.prototype[this])&&n.isFunction(t[this]);i.prototype[this]=r?u(i.parent.prototype,this,t[this]):t[this]}),i):i},o=function(){var i=this;return n.each(arguments,function(){this.ctor&&i._includedCtors.push(this.ctor),this.postCtor&&i._includedPostCtors.push(this.postCtor);for(var n in this)if(n!=="ctor"&&n!=="postCtor"){if(n in i.prototype)throw t.Error("E0002",n);i.prototype[n]=this[n]}}),i},s=function(n){return this.parent===n?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(n)},r=function(){throw t.Error("E0001");},h=function(){var t=Object.prototype.hasOwnProperty;return function(i,r){n.each(i,function(n){t.call(i,n)&&(r[n]=i[n])})}}(),i=function(){};return i.inherit=function(i){var u=function(){if(!this||this===window||typeof this.constructor!="function")throw t.Error("E0003");var i=this,r=i.ctor;n.each(i.constructor._includedCtors,function(){this.call(i)}),r&&r.apply(i,arguments),n.each(i.constructor._includedPostCtors,function(){this.call(i)})};return u.prototype=f(this),h(this,u),u.inherit=this.inherit,u.abstract=r,u.redefine=e,u.include=o,u.subclassOf=s,u.parent=this,u._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],u._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],u.prototype.constructor=u,u.redefine(i),u},i.abstract=r,i}),DevExpress.define("/devices",["jquery","/class","/eventsMixin","/errors","/utils/utils.storage","/utils/utils.viewPort","/utils/utils.window"],function(n,t,i,r,u,f,e){var h={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",win8:"MSAppHost",win8Phone:"Windows Phone 8.0",msSurface:"MSIE ARM Tablet PC",desktop:"desktop",win10Phone:"Windows Phone 10.0",win10:"MSAppHost/3.0"},s={deviceType:"",platform:"",version:[],phone:!1,tablet:!1,android:!1,ios:!1,win:!1,generic:!1,grade:"A",mac:!1};n.extend(s,{platform:"generic",deviceType:"desktop",generic:!0});var c={win:function(n){var i=/windows phone/i.test(n)||n.match(/WPDesktop/),u=!i&&/arm(.*)trident/i.test(n),f=!i&&!u&&/msapphost/i.test(n),t,r;if(i||u||f)return t=n.match(/windows phone (\d+).(\d+)/i)||n.match(/windows nt (\d+).(\d+)/i),r=[],t?r.push(parseInt(t[1],10),parseInt(t[2],10)):(t=n.match(/msapphost(\/(\d+).(\d+))?/i),t&&r.push(parseInt(t[2],10)===3?10:8)),{deviceType:i?"phone":u?"tablet":"desktop",platform:"win",version:r,grade:"A"}},ios:function(n){if(/ip(hone|od|ad)/i.test(n)){var i=/ip(hone|od)/i.test(n),t=n.match(/os (\d+)_(\d+)_?(\d+)?/i),r=t?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)]:[],u=window.screen.height===480,f=u?"B":"A";return{deviceType:i?"phone":"tablet",platform:"ios",version:r,grade:f}}},android:function(n){if(/android|htc_|silk/i.test(n)){var r=/mobile/i.test(n),i=n.match(/android (\d+)\.(\d+)\.?(\d+)?/i),t=i?[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3]||0,10)]:[],u=t.length>1&&(t[0]<4||t[0]===4&&t[1]<4),f=u?"B":"A";return{deviceType:r?"phone":"tablet",platform:"android",version:t,grade:f}}}},l=t.inherit({ctor:function(t){this._window=t&&t.window||window,this._realDevice=this._getDevice(),this._currentDevice=undefined,this._currentOrientation=undefined,this.changed=n.Callbacks(),this._recalculateOrientation(),e.resizeCallbacks.add(n.proxy(this._recalculateOrientation,this))},current:function(n){if(n)this._currentDevice=this._getDevice(n),this._forced=!0,this.changed.fire();else{if(!this._currentDevice){n=undefined;try{n=this._getDeviceOrNameFromWindowScope()}catch(t){n=this._getDeviceNameFromSessionStorage()}finally{n||(n=this._getDeviceNameFromSessionStorage()),n&&(this._forced=!0)}this._currentDevice=this._getDevice(n)}return this._currentDevice}},real:function(){return n.extend({},this._realDevice)},orientation:function(){return this._currentOrientation},isForced:function(){return this._forced},isRippleEmulator:function(){return!!this._window.tinyHippos},_getCssClasses:function(n){var t=[],i=this._realDevice;return n=n||this.current(),n.deviceType&&(t.push("dx-device-"+n.deviceType),n.deviceType!=="desktop"&&t.push("dx-device-mobile")),t.push("dx-device-"+i.platform),i.version&&i.version.length&&t.push("dx-device-"+i.platform+"-"+i.version[0]),o.isSimulator()&&t.push("dx-simulator"),DevExpress.rtlEnabled&&t.push("dx-rtl"),t},attachCssClasses:function(t,i){this._deviceClasses=this._getCssClasses(i).join(" "),n(t).addClass(this._deviceClasses)},detachCssClasses:function(t){n(t).removeClass(this._deviceClasses)},isSimulator:function(){try{return this._isSimulator||this._window.top!==this._window.self&&this._window.top["dx-force-device"]||this.isRippleEmulator()}catch(n){return!1}},forceSimulator:function(){this._isSimulator=!0},_getDevice:function(t){if(t==="genericPhone"&&(t={deviceType:"phone",platform:"generic",generic:!0}),n.isPlainObject(t))return this._fromConfig(t);var i;if(t){if(i=h[t],!i)throw r.Error("E0005");}else i=navigator.userAgent;return this._fromUA(i)},_getDeviceOrNameFromWindowScope:function(){var n;return(this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"])&&(n=this._window.top["dx-force-device-object"]||this._window.top["dx-force-device"]),n},_getDeviceNameFromSessionStorage:function(){var i=u.sessionStorage(),t;if(i){t=i.getItem("dx-force-device");try{return n.parseJSON(t)}catch(r){return t}}},_fromConfig:function(t){var i=n.extend({},s,this._currentDevice,t),r={phone:i.deviceType==="phone",tablet:i.deviceType==="tablet",android:i.platform==="android",ios:i.platform==="ios",win:i.platform==="win",generic:i.platform==="generic"};return n.extend(i,r)},_fromUA:function(t){var i,u,r;return(n.each(c,function(n,r){return i=r(t),!i}),i)?this._fromConfig(i):(u=/(mac os)/.test(t.toLowerCase()),r=s,r.mac=u,r)},_changeOrientation:function(){var i=n(this._window),t=i.height()>i.width()?"portrait":"landscape";this._currentOrientation!==t&&(this._currentOrientation=t,this.fireEvent("orientationChanged",[{orientation:t}]))},_recalculateOrientation:function(){var t=n(this._window).width();this._currentWidth!==t&&(this._currentWidth=t,this._changeOrientation())}}).include(i),o=new l;return f.changeCallback.add(function(n,t){o.detachCssClasses(t),o.attachCssClasses(n)}),o}),DevExpress.define("/action",["jquery","/class"],function(n,t){var i=t.inherit({ctor:function(t,i){i=i||{},this._action=t,this._context=i.context||window,this._beforeExecute=i.beforeExecute,this._afterExecute=i.afterExecute,this._component=i.component,this._validatingTargetName=i.validatingTargetName;var r=this._excludeValidators={};n.each(i.excludeValidators||[],function(n,t){r[t]=!0})},execute:function(){var n={action:this._action,args:Array.prototype.slice.call(arguments),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},i=this._beforeExecute,r=this._afterExecute,u,t;if(this._validateAction(n))return(i&&i.call(this._context,n),n.cancel)?void 0:(u=this._executeAction(n),t=n.args[0],t&&t.cancel)?void 0:(r&&r.call(this._context,n),u)},_validateAction:function(n){var f=this._excludeValidators,u=i.executors,t,r;for(t in u)if(!f[t]&&(r=u[t],r.validate&&r.validate(n),n.cancel))return!1;return!0},_executeAction:function(n){var r,u=i.executors,f,t;for(f in u)if(t=u[f],t.execute&&t.execute(n),n.handled){r=n.result;break}return r}});return i.executors={},i.registerExecutor=function(t,r){if(n.isPlainObject(t)){n.each(t,i.registerExecutor);return}i.executors[t]=r},i.unregisterExecutor=function(){var t=n.makeArray(arguments);n.each(t,function(){delete i.executors[this]})},i}),DevExpress.define("/actionExecutors",["jquery","/action"],function(n,t){t.registerExecutor({undefined:{execute:function(n){n.action||(n.result=undefined,n.handled=!0)}},func:{execute:function(t){n.isFunction(t.action)&&(t.result=t.action.call(t.context,t.args[0]),t.handled=!0)}},url:{execute:function(n){typeof n.action=="string"&&n.action.charAt(0)!=="#"&&(document.location=n.action)}},hash:{execute:function(n){typeof n.action=="string"&&n.action.charAt(0)==="#"&&(document.location.hash=n.action)}}})}),DevExpress.define("/animator",["jquery","/class","/utils/utils.animationFrame"],function(n,t,i){var r=t.abstract;return t.inherit({ctor:function(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=n.proxy(this._stepCore,this)},start:function(){this._stopped=!1,this._finished=!1,this._stepCore()},stop:function(){this._stopped=!0,i.cancel(this._stepAnimationFrame)},_stepCore:function(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=i.request(this._proxiedStepCore)},_step:r,_isFinished:n.noop,_stop:n.noop,_complete:n.noop,_isStopped:function(){return this._stopped},inProgress:function(){return!(this._stopped||this._finished)}})}),DevExpress.define("/endpointSelector",["jquery","/errors","/utils/utils.proxyUrlFormatter"],function(n,t,i){function o(n){return/^(localhost$|127\.)/i.test(n)}var r=window.location,u=r.protocol==="ms-appx:",e=o(r.hostname),f=function(n){this.config=n};return f.prototype={urlFor:function(n){var r=this.config[n];if(!r)throw t.Error("E0006");return i.isProxyUsed()?i.formatProxyUrl(r.local):r.production&&(u&&!Debug.debuggerEnabled||!u&&!e)?r.production:r.local}},f}),DevExpress.define("/color",[],function(){function i(t){this.baseColor=t;var i;t&&(i=String(t).toLowerCase().replace(/ /g,""),i=s[i]?"#"+s[i]:i,i=c(i)),i||(this.colorIsInvalid=!0),i=i||{},this.r=n(i[0]),this.g=n(i[1]),this.b=n(i[2]),this.a=n(i[3],1,1),this.hsv=i[4]?{h:i[4][0],s:i[4][1],v:i[4][2]}:a(this.r,this.g,this.b),this.hsl=i[5]?{h:i[5][0],s:i[5][1],l:i[5][2]}:y(this.r,this.g,this.b)}function c(n){if(n==="transparent")return[0,0,0,0];for(var t=0,r=u.length,i;t<r;++t)if(i=u[t].re.exec(n),i)return u[t].process(i);return null}function n(n,t,i){return t=t||0,i=i||255,n<0||isNaN(n)?t:n>i?i:n}function l(n,t,i){return"#"+(16777216|n<<16|t<<8|i).toString(16).slice(1)}function a(n,t,i){var u=Math.max(n,t,i),f=Math.min(n,t,i),e=u-f,r,o,s;if(s=u,o=u===0?0:1-f/u,u===f)r=0;else switch(u){case n:r=60*((t-i)/e),t<i&&(r=r+360);break;case t:r=60*((i-n)/e)+120;break;case i:r=60*((n-t)/e)+240}return o*=100,s*=100/255,{h:Math.round(r),s:Math.round(o),v:Math.round(s)}}function h(n,t,i){var o,s,r,c,h,u,f,e;c=Math.floor(n%360/60),r=(100-t)*i/100,h=(i-r)*(n%60/60),s=r+h,o=i-h;switch(c){case 0:u=i,f=s,e=r;break;case 1:u=o,f=i,e=r;break;case 2:u=r,f=i,e=s;break;case 3:u=r,f=o,e=i;break;case 4:u=s,f=r,e=i;break;case 5:u=i,f=r,e=o}return[Math.round(u*2.55),Math.round(f*2.55),Math.round(e*2.55)]}function v(n,t,i,r){var u=Math.max(n,t,i);switch(u){case n:return(t-i)/r+(t<i?6:0);case t:return(i-n)/r+2;case i:return(n-t)/r+4}}function y(n,i,u){var o;n=r(n,255),i=r(i,255),u=r(u,255);var s=Math.max(n,i,u),h=Math.min(n,i,u),c=s+h,f,e,l=c/2;return s===h?f=e=0:(o=s-h,e=l>.5?o/(2-c):o/c,f=v(n,i,u,o),f/=6),{h:t(f*360),s:t(e*100),l:t(l*100)}}function f(n,t){var i=t;return n==="r"&&(i=t+1/3),n==="b"&&(i=t-1/3),i}function p(n){return n<0&&(n+=1),n>1&&(n-=1),n}function e(n,t,i){return(i=p(i),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n}function w(n,i,u){var h,c,l,o,s;return n=r(n,360),i=r(i,100),u=r(u,100),i===0?h=c=l=u:(o=u<.5?u*(1+i):u+i-u*i,s=2*u-o,h=e(s,o,f("r",n)),c=e(s,o,f("g",n)),l=e(s,o,f("b",n))),[t(h*255),t(c*255),t(l*255)]}function r(n,t){return(n=Math.min(t,Math.max(0,parseFloat(n))),Math.abs(n-t)<1e-6)?1:n%t/parseFloat(t)}function o(n,t,i){return(t=t||0,i=i||255,n%1!=0||n<t||n>i||typeof n!="number"||isNaN(n))?!1:!0}var s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},u=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(n){return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(n){return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(n){var i=parseInt(n[1],10),r=parseInt(n[2],10),u=parseInt(n[3],10),t=h(i,r,u);return[t[0],t[1],t[2],1,[i,r,u]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(n){var i=parseInt(n[1],10),r=parseInt(n[2],10),u=parseInt(n[3],10),t=w(i,r,u);return[t[0],t[1],t[2],1,null,[i,r,u]]}}],t=Math.round;return i.prototype={constructor:i,highlight:function(n){return n=n||10,this.alter(n).toHex()},darken:function(n){return n=n||10,this.alter(-n).toHex()},alter:function(t){var r=new i;return r.r=n(this.r+t),r.g=n(this.g+t),r.b=n(this.b+t),r},blend:function(r,u){var e=r instanceof i?r:new i(r),f=new i;return f.r=n(t(this.r*(1-u)+e.r*u)),f.g=n(t(this.g*(1-u)+e.g*u)),f.b=n(t(this.b*(1-u)+e.b*u)),f},toHex:function(){return l(this.r,this.g,this.b)},getPureColor:function(){var n=h(this.hsv.h,100,100);return new i("rgb("+n.join(",")+")")},isValidHex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},isValidRGB:function(n,t,i){return!o(n)||!o(t)||!o(i)?!1:!0},isValidAlpha:function(n){return isNaN(n)||n<0||n>1||typeof n!="number"?!1:!0},colorIsInvalid:!1},i}),DevExpress.define("/data/data.errors",["/utils/utils.error","/errors"],function(n,t){return n(t.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with the a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown key type is detected: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed"})}),function(n,t,i){function st(n){return/^(or|\|\||\|)$/i.test(n)}function ht(n){return/^(and|\&\&|\&)$/i.test(n)}var p=DevExpress.require("/class"),o=DevExpress.require("/data/data.errors"),w=t.require("/utils/utils.object"),s=t.require("/utils/utils.knockout"),b=s.unwrapObservable,h=s.isObservable,c=function(n){return n.replace(/\[/g,".").replace(/\]/g,"")},l=function(n,t){return t==="this"?n:n[t]},a=function(n,t,i,r){if(t==="this")throw new o.Error("E4016");var u=n[t];r.unwrapObservables&&h(u)?u(i):n[t]=i},v=function(n){return n=n||{},n.unwrapObservables=n.unwrapObservables!==i?n.unwrapObservables:!0,n},u=function(n,t){return t.unwrapObservables?b(n):n},f=function(t){if(arguments.length>1&&(t=n.makeArray(arguments)),!t||t==="this")return function(n){return n};if(typeof t=="string"){t=c(t);var i=t.split(".");return function(t,r){var s,f,o,e;for(r=v(r),s=r.functionsAsIs,f=u(t,r),o=0;o<i.length;o++){if(!f)break;e=u(f[i[o]],r),!s&&n.isFunction(e)&&(e=e.call(f)),f=e}return f}}return n.isArray(t)?k(t):n.isFunction(t)?t:void 0},k=function(t){for(var e={},u,r=0,o=t.length;r<o;r++)u=t[r],e[u]=f(u);return function(t,r){var u;return n.each(e,function(n){var s=this(t,r),e,o,h,f;if(s!==i){for(e=u||(u={}),o=n.split("."),h=o.length-1,f=0;f<h;f++)e=e[o[f]]={};e[o[f]]=s}}),u}},d=function(t){t=t||"this",t=c(t);var e=t.lastIndexOf("."),o=f(t.substr(0,e)),r=t.substr(1+e);return function(t,f,e){e=v(e);var c=o(t,{functionsAsIs:e.functionsAsIs,unwrapObservables:e.unwrapObservables}),s=l(c,r);e.functionsAsIs||!n.isFunction(s)||h(s)?(s=u(s,e),e.merge&&n.isPlainObject(f)&&(s===i||n.isPlainObject(s))&&!(f instanceof n.Event)?(s||a(c,r,{},e),w.deepExtendArraySafe(u(l(c,r),e),f)):a(c,r,f,e)):c[r](f)}},g=function(n){return[n[0],n.length<3?"=":String(n[1]).toLowerCase(),n.length<2?!0:n[n.length-1]]},nt=function(t){return n.isArray(t)||(t=[t]),n.map(t,function(t){return{selector:n.isFunction(t)||typeof t=="string"?t:t.getter||t.field||t.selector,desc:!!(t.desc||String(t.dir).charAt(0).toLowerCase()==="d")}})},y=p.inherit({ctor:function(n){n&&(n=String(n)),this._value=this._normalize(n||this._generate())},_normalize:function(n){for(n=n.replace(/[^a-f0-9]/ig,"").toLowerCase();n.length<32;)n+="0";return[n.substr(0,8),n.substr(8,4),n.substr(12,4),n.substr(16,4),n.substr(20,12)].join("-")},_generate:function(){for(var t="",n=0;n<32;n++)t+=Math.round(Math.random()*15).toString(16);return t},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),r=function(n,t){return n instanceof Date?n.getTime():n instanceof y?n.valueOf():!t&&typeof n=="string"?n.toLowerCase():n},tt=function(t,i,u){var e,o,f;if(n.isArray(t)){for(e=n.map(i,function(n,t){return t}),f=0;f<e.length;f++)if(o=e[f],r(i[o],!0)!=r(u[o],!0))return!1;return!0}return r(i,!0)==r(u,!0)},it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",rt=function(t){function o(n){return it.charAt(n)}var r,i;for(n.isArray(t)||(t=ut(String(t))),r="",i=0;i<t.length;i+=3){var e=t[i],u=t[i+1],f=t[i+2];r+=n.map([e>>2,(e&3)<<4|u>>4,isNaN(u)?64:(u&15)<<2|f>>6,isNaN(f)?64:f&63],o).join("")}return r},ut=function(n){for(var i=[],t,r=0;r<n.length;r++)t=n.charCodeAt(r),t<128?i.push(t):t<2048?i.push(192+(t>>6),128+(t&63)):t<65536?i.push(224+(t>>12),128+(t>>6&63),128+(t&63)):t<2097152&&i.push(240+(t>>18),128+(t>>12&63),128+(t>>6&63),128+(t&63));return i},ft=function(){var n={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"},t=function(t){var i=n[t];return i?i:t};return function(n,i){return n.status<400?t(i):n.statusText}}(),et={count:{seed:0,step:function(n){return 1+n}},sum:{seed:0,step:function(n,t){return n+t}},min:{step:function(n,t){return t<n?t:n}},max:{step:function(n,t){return t>n?t:n}},avg:{seed:[0,0],step:function(n,t){return[n[0]+t,n[1]+1]},finalize:function(n){return n[1]?n[0]/n[1]:NaN}}},ot=function(){var t=0,i,r=function(){t===0&&(i=n.Deferred()),t++},u=function(){t--,t<1&&i.resolve()},f=function(){var r=t===0?n.Deferred().resolve():i;return r.promise()},e=function(){t=0,i&&i.resolve()};return{obtain:r,release:u,promise:f,reset:e}}(),e=t.data={utils:{compileGetter:f,compileSetter:d,normalizeBinaryCriterion:g,normalizeSortingInfo:nt,toComparable:r,keysEqual:tt,errorMessageFromXhr:ft,aggregators:et,isDisjunctiveOperator:st,isConjunctiveOperator:ht,processRequestResultLock:ot},Guid:y,base64_encode:rt,queryImpl:{},queryAdapters:{},query:function(){var t=n.isArray(arguments[0])?"array":"remote";return e.queryImpl[t].apply(this,arguments)},errorHandler:null,_errorHandler:function(n){e.errorHandler&&e.errorHandler(n)}}}(jQuery,DevExpress),function(n,t){function s(n){return n===u.aggregators.count}function f(n){var i=u.compileGetter(n.selector),t=n.aggregator;if(typeof t=="string"&&(t=r.utils.aggregators[t],!t))throw o.Error("E4001",n.aggregator);return{selector:i,aggregator:t}}var e=DevExpress.require("/class"),o=DevExpress.require("/data/data.errors"),r=t.data,u=r.utils;r.AggregateCalculator=e.inherit({ctor:function(t){this._data=t.data,this._groupLevel=t.groupLevel||0,this._totalAggregates=n.map(t.totalAggregates||[],f),this._groupAggregates=n.map(t.groupAggregates||[],f),this._totals=[]},calculate:function(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups(0,{items:this._data})},totalAggregates:function(){return this._totals},_aggregate:function(n,t,i){for(var u,r=0;r<t.length;r++){if(s(t[r].aggregator)){i[r]=(i[r]||0)+n.items.length;continue}for(u=0;u<n.items.length;u++)this._accumulate(r,t[r],i,n.items[u])}},_calculateTotals:function(n,t){var i;if(n===0&&(this._totals=this._seed(this._totalAggregates)),n===this._groupLevel)this._aggregate(t,this._totalAggregates,this._totals);else for(i=0;i<t.items.length;i++)this._calculateTotals(n+1,t.items[i]);n===0&&(this._totals=this._finalize(this._totalAggregates,this._totals))},_calculateGroups:function(n,t,i){var r,u;if(n===this._groupLevel)this._aggregate(t,this._groupAggregates,i);else for(r=0;r<t.items.length;r++)u=this._seed(this._groupAggregates),this._calculateGroups(n+1,t.items[r],u),t.items[r].aggregates=this._finalize(this._groupAggregates,u),n>0&&(i=i||this._seed(this._groupAggregates),this._calculateGroups(n+1,t.items[r],i))},_seed:function(t){return n.map(t,function(t){var i=t.aggregator,r="seed"in i?n.isFunction(i.seed)?i.seed():i.seed:NaN;return n.isArray(r)?[r]:r})},_accumulate:function(n,t,i,r){var u=t.selector(r),f=t.aggregator;i[n]=i[n]!==i[n]?u:f.step(i[n],u)},_finalize:function(t,i){return n.map(t,function(n,t){var r=n.aggregator.finalize;return r?r(i[t]):i[t]})}})}(jQuery,DevExpress),function(n,t,i){var y=DevExpress.require("/class"),s=DevExpress.require("/data/data.errors"),p=t.require("/utils/utils.common"),u=t.data,a=u.queryImpl,f=u.utils.compileGetter,r=u.utils.toComparable,e=y.inherit({toArray:function(){var n=[];for(this.reset();this.next();)n.push(this.current());return n},countable:function(){return!1}}),h=e.inherit({ctor:function(n){this.array=n,this.index=-1},next:function(){return this.index+1<this.array.length?(this.index++,!0):!1},current:function(){return this.array[this.index]},reset:function(){this.index=-1},toArray:function(){return this.array.slice(0)},countable:function(){return!0},count:function(){return this.array.length}}),o=e.inherit({ctor:function(n){this.iter=n},next:function(){return this.iter.next()},current:function(){return this.iter.current()},reset:function(){return this.iter.reset()}}),c=o.inherit({ctor:function(n,t){this.callBase(n),this.index=-1,this.mapper=t},current:function(){return this.mapper(this.callBase(),this.index)},next:function(){var n=this.callBase();return n&&this.index++,n}}),l=e.inherit({ctor:function(n,t,i){n instanceof c||(n=new c(n,this._wrap)),this.iter=n,this.rules=[{getter:t,desc:i}]},thenBy:function(n,t){var i=new l(this.sortedIter||this.iter,n,t);return this.sortedIter||(i.rules=this.rules.concat(i.rules)),i},next:function(){return this._ensureSorted(),this.sortedIter.next()},current:function(){return this._ensureSorted(),this.sortedIter.current()},reset:function(){delete this.sortedIter},countable:function(){return this.sortedIter||this.iter.countable()},count:function(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted:function(){var t=this;t.sortedIter||(n.each(t.rules,function(){this.getter=f(this.getter)}),t.sortedIter=new c(new h(this.iter.toArray().sort(function(n,i){return t._compare(n,i)})),t._unwrap))},_wrap:function(n,t){return{index:t,value:n}},_unwrap:function(n){return n.value},_compare:function(n,t){var h=n.index,c=t.index,o,l;if(n=n.value,t=t.value,n===t)return h-c;for(o=0,l=this.rules.length;o<l;o++){var s=this.rules[o],u=r(s.getter(n)),e=r(s.getter(t)),f=s.desc?-1:1;if(u===null||e===i)return-f;if(e===null||u===i)return f;if(u<e)return-f;if(u>e)return f;if(u!==e)return u?f:-f}return h-c}}),v=function(){function i(n,t,i){return function(u){u=r(n(u));var f=h(t)?u===t:u==t;return i&&(f=!f),f}}function h(n){return n===""||n===0||n===!1}var e=function(t){var e=0,r=[],o=[],f,i;return n.each(t,function(){if(n.isArray(this)||n.isFunction(this)){if(r.length>1&&f!==i)throw new s.Error("E4019");o.push(v(this)),r.push("op["+e+"](d)"),e++,f=i,i="&&"}else i=u.utils.isConjunctiveOperator(this)?"&&":"||"}),new Function("op","return function(d) { return "+r.join(" "+f+" ")+" }")(o)},t=function(n){return p.isDefined(n)?n.toString():""},o=function(n){n=u.utils.normalizeBinaryCriterion(n);var o=f(n[0]),h=n[1],e=n[2];e=r(e);switch(h.toLowerCase()){case"=":return i(o,e);case"<>":return i(o,e,!0);case">":return function(n){return r(o(n))>e};case"<":return function(n){return r(o(n))<e};case">=":return function(n){return r(o(n))>=e};case"<=":return function(n){return r(o(n))<=e};case"startswith":return function(n){return r(t(o(n))).indexOf(e)===0};case"endswith":return function(n){var i=r(t(o(n))),u=t(e);return i.length<u.length?!1:i.lastIndexOf(e)===i.length-e.length};case"contains":return function(n){return r(t(o(n))).indexOf(e)>-1};case"notcontains":return function(n){return r(t(o(n))).indexOf(e)===-1}}throw s.Error("E4003",h);};return function(t){return n.isFunction(t)?t:n.isArray(t[0])?e(t):o(t)}}(),w=o.inherit({ctor:function(n,t){this.callBase(n),this.criteria=v(t)},next:function(){while(this.iter.next())if(this.criteria(this.current()))return!0;return!1}}),b=e.inherit({ctor:function(n,t){this.iter=n,this.getter=t},next:function(){return this._ensureGrouped(),this.groupedIter.next()},current:function(){return this._ensureGrouped(),this.groupedIter.current()},reset:function(){delete this.groupedIter},countable:function(){return!!this.groupedIter},count:function(){return this.groupedIter.count()},_ensureGrouped:function(){var r,t;if(!this.groupedIter){var i={},e=[],u=this.iter,o=f(this.getter);for(u.reset();u.next();)r=u.current(),t=o(r),t in i?i[t].push(r):(i[t]=[r],e.push(t));this.groupedIter=new h(n.map(e,function(n){return{key:n,items:i[n]}}))}}}),k=o.inherit({ctor:function(n,t){this.callBase(n),this.getter=f(t)},current:function(){return this.getter(this.callBase())},countable:function(){return this.iter.countable()},count:function(){return this.iter.count()}}),d=o.inherit({ctor:function(n,t,i){this.callBase(n),this.skip=Math.max(0,t),this.take=Math.max(0,i),this.pos=0},next:function(){if(this.pos>=this.skip+this.take)return!1;while(this.pos<this.skip&&this.iter.next())this.pos++;return this.pos++,this.iter.next()},reset:function(){this.callBase(),this.pos=0},countable:function(){return this.iter.countable()},count:function(){return Math.min(this.iter.count()-this.skip,this.take)}});a.array=function(t,r){r=r||{},t instanceof e||(t=new h(t));var y=function(n){var t=r.errorHandler;t&&t(n),u._errorHandler(n)},p=function(i){var u=n.Deferred().fail(y),f,o=i.step,e=i.finalize,r;try{for(t.reset(),f=("seed"in i)?i.seed:t.next()?t.current():NaN,r=f;t.next();)r=o(r,t.current());u.resolve(e?e(r):r)}catch(s){u.reject(s)}return u.promise()},nt=function(n,t,i){return arguments.length<2?p({step:arguments[0]}):p({seed:n,step:t,finalize:i})},c=function(n){return p(u.utils.aggregators[n])},g=function(i){return n.isFunction(i)||n.isArray(i)||(i=n.makeArray(arguments)),o(new k(t,i))},v=function(n){return g(f(n))},o=function(n){return a.array(n,r)};return{toArray:function(){return t.toArray()},enumerate:function(){var i=n.Deferred().fail(y);try{i.resolve(t.toArray())}catch(r){i.reject(r)}return i.promise()},sortBy:function(n,i){return o(new l(t,n,i))},thenBy:function(n,i){if(t instanceof l)return o(t.thenBy(n,i));throw s.Error("E4004");},filter:function(i){return n.isArray(i)||(i=n.makeArray(arguments)),o(new w(t,i))},slice:function(n,r){return r===i&&(r=Number.MAX_VALUE),o(new d(t,n,r))},select:g,groupBy:function(n){return o(new b(t,n))},aggregate:nt,count:function(){if(t.countable()){var i=n.Deferred().fail(y);try{i.resolve(t.count())}catch(r){i.reject(r)}return i.promise()}return c("count")},sum:function(n){return n?v(n).sum():c("sum")},min:function(n){return n?v(n).min():c("min")},max:function(n){return n?v(n).max():c("max")},avg:function(n){return n?v(n).avg():c("avg")}}}}(jQuery,DevExpress),function(n,t){var r=t.data,u=r.queryImpl,f=DevExpress.require("/data/data.errors");u.remote=function(t,i,e){e=e||[],i=i||{};var o=function(n,t){return{name:n,args:t}},h=function(s){function w(n){switch(n.name){case"sortBy":return l=[n.args],!0;case"thenBy":if(!l)throw f.Error("E4004");return l.push(n.args),!0}return!1}function b(){var t=h[0],i=[];t&&t.name==="multiSort"&&(h.shift(),n.each(t.args[0],function(){i.push(o(i.length?"thenBy":"sortBy",this))})),h=i.concat(h)}var a=n.Deferred(),v,y,h,c,l,p=function(n){var t=i.errorHandler;t&&t(n),r._errorHandler(n),a.reject(n)};try{for(v=i.adapter||"odata",n.isFunction(v)||(v=r.queryAdapters[v]),y=v(i),h=[].concat(e).concat(s);h.length;){if(c=h[0],!w(c)){if(l){h.unshift(o("multiSort",[l])),l=null;continue}if(String(c.name)!=="enumerate"&&(!y[c.name]||y[c.name].apply(y,c.args)===!1))break}h.shift()}b(),y.exec(t).done(function(t,r){if(h.length){var f=u.array(t,{errorHandler:i.errorHandler});n.each(h,function(){f=f[this.name].apply(f,this.args)}),f.done(a.resolve).fail(a.reject)}else a.resolve(t,r)}).fail(p)}catch(k){p(k)}return a.promise()},s={};return n.each(["sortBy","thenBy","filter","slice","select","groupBy"],function(){var n=String(this);s[n]=function(){return u.remote(t,i,e.concat(o(n,arguments)))}}),n.each(["count","min","max","sum","avg","aggregate","enumerate"],function(){var n=String(this);s[n]=function(){return h.call(this,o(n,arguments))}}),s}}(jQuery,DevExpress),function(n,t,i){function l(n,t,i){var r=[],u=function(n){return n<10?"0".concat(n):String(n)},f=function(){return n.getHours()+n.getMinutes()+n.getSeconds()+n.getMilliseconds()<1};return r.push(n.getFullYear()),r.push("-"),r.push(u(n.getMonth()+1)),r.push("-"),r.push(u(n.getDate())),t&&f()||(r.push("T"),r.push(u(n.getHours())),r.push(":"),r.push(u(n.getMinutes())),r.push(":"),r.push(u(n.getSeconds())),n.getMilliseconds()&&(r.push("."),r.push(n.getMilliseconds())),i||r.push("Z")),r.join("")}function nt(t){var i=new Date(0),f=t.replace("Z","").split("T"),u=/(\d{4})-(\d{2})-(\d{2})/.exec(f[0]),r=/(\d{2}):(\d{2}):(\d{2})\.?(\d{0,7})?/.exec(f[1]);return i.setDate(Number(u[3])),i.setMonth(Number(u[2])-1),i.setFullYear(Number(u[1])),n.isArray(r)&&r.length&&(i.setHours(Number(r[1])),i.setMinutes(Number(r[2])),i.setSeconds(Number(r[3])),i.setMilliseconds(Number(String(r[4]).substr(0,3))||0)),i}function tt(n){return/^(?:[a-z]+:)?\/\//i.test(n)}function it(n,t){function f(n){var t=n.indexOf("?");return t>-1?n.substr(0,t):n}var r,i=f(n).split("/"),u=t.split("/");for(i.pop();u.length;)r=u.shift(),r===".."?i.pop():i.push(r);return i.join("/")}var w=DevExpress.require("/class"),f=DevExpress.require("/data/data.errors"),e=t.data,o=e.Guid,h=t.require("/utils/utils.common"),c=h.isDefined,b=2,k=/^(\{{0,1}([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12}\}{0,1})$/,d=/^\/Date\((-?\d+)((\+|-)?(\d+)?)\)\/$/,g=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[-+]{1}\d{2}(:?)(\d{2})?)?$/,v="application/json;odata=verbose",rt=function(t,i,r){function w(n){return JSON.stringify(n,function(n,i){if(!(this[n]instanceof Date))return i;i=l(this[n]);switch(t){case 2:return i.substr(0,i.length-1);case 3:case 4:return i;default:throw f.Error("E4002");}})}var e;i=n.extend({async:!0,method:"get",url:"",params:{},payload:null,headers:{},timeout:3e4},i),r=r||{},e=r.beforeSend,e&&e(i);var h=(i.method||"get").toLowerCase(),u=h==="get",o=u&&r.jsonp,c=n.extend({},i.params),a=u?c:w(i.payload),y=!u&&n.param(c),s=i.url,p=!u&&v;return y&&(s+=(s.indexOf("?")>-1?"&":"?")+y),o&&(a.$format="json"),{url:s,data:a,dataType:o?"jsonp":"json",jsonp:o&&"$callback",type:h,async:i.async,timeout:i.timeout,headers:i.headers,contentType:p,accepts:{json:[v,"text/plain"].join()},xhrFields:{withCredentials:r.withCredentials}}},a=function(t,i,r,u){var e=n.Deferred(),o=rt(t,i,r);return n.ajax(o).always(function(n,i){var s=et(n,i,u),c=s.error,l=s.data,h=s.nextUrl,v;c?e.reject(c):r.countOnly?isFinite(s.count)?e.resolve(s.count):e.reject(new f.Error("E4018")):h?(tt(h)||(h=it(o.url,h)),a(t,{url:h},r,u).fail(e.reject).done(function(n){e.resolve(l.concat(n))})):(isFinite(s.count)&&(v={totalCount:s.count}),e.resolve(l,v))}),e.promise()},ut=function(n){var t,i=n;for(("message"in n)&&(t=n.message.value?n.message.value:n.message);i=i.innererror||i.internalexception;)if(t=i.message,i.internalexception&&t.indexOf("inner exception")===-1)break;return t},ft=function(t,i){var u;if(i==="nocontent")return null;var r=200,f="Unknown error",o=t;if(i!=="success"){r=t.status,f=e.utils.errorMessageFromXhr(t,i);try{o=n.parseJSON(t.responseText)}catch(s){}}return(u=o&&(o.error||o["odata.error"]||o["@odata.error"]),u)?(f=ut(u)||f,r===200&&(r=500),u.code&&(r=Number(u.code)),n.extend(Error(f),{httpStatus:r,errorDetails:u})):r!==200?n.extend(Error(f),{httpStatus:r}):void 0},et=function(t,i,r){var f=ft(t,i),u;return f?{error:f}:n.isPlainObject(t)?(u="d"in t&&(h.isArray(t.d)||h.isObject(t.d))?ot(t,i):st(t,i),y(u,r),u):{data:t}},ot=function(n){var t=n.d;return c(t)?(t=t,c(t.results)&&(t=t.results),{data:t,nextUrl:n.d.__next,count:parseInt(n.d.__count,10)}):{error:Error("Malformed or unsupported JSON response received")}},st=function(n){var t=n;return c(t.value)&&(t=t.value),{data:t,nextUrl:n["@odata.nextLink"],count:parseInt(n["@odata.count"],10)}},r=w.inherit({ctor:function(n){this._value=n},valueOf:function(){return this._value}}),y=function(t,i){n.each(t,function(n,r){if(r!==null&&typeof r=="object")"results"in r&&(t[n]=r.results),y(t[n],i);else if(typeof r=="string"&&(k.test(r)&&(t[n]=new o(r)),i!==!1))if(r.match(d)){var u=new Date(Number(RegExp.$1)+RegExp.$2*6e4);t[n]=new Date(u.valueOf()+u.getTimezoneOffset()*6e4)}else g.test(r)&&(t[n]=new Date(nt(t[n]).valueOf()))})},ht=function(n){return"datetime'"+l(n,!0,!0)+"'"},ct=function(n){return"'"+n.replace(/'/g,"''")+"'"},u=function(n){return n instanceof r?n.valueOf():n.replace(/\./g,"/")},lt=function(n){return n instanceof Date?l(n,!1,!1):n instanceof o?n.valueOf():p(n)},p=function(n){return n instanceof Date?ht(n):n instanceof o?"guid'"+n+"'":n instanceof r?n.valueOf():typeof n=="string"?ct(n):String(n)},s=function(n,t){switch(t){case 2:case 3:return p(n);case 4:return lt(n);default:throw f.Error("E4002");}},at=function(t,i){if(n.isPlainObject(t)){var r=[];return n.each(t,function(n,t){r.push(u(n)+"="+s(t,i))}),r.join()}return s(t,i)},vt={String:function(n){return n+""},Int32:function(n){return Math.floor(n)},Int64:function(n){return n instanceof r?n:new r(n+"L")},Guid:function(n){return n instanceof o?n:new o(n)},Boolean:function(n){return!!n},Single:function(n){return n instanceof r?n:new r(n+"f")},Decimal:function(n){return n instanceof r?n:new r(n+"m")}},yt=function(){var t=function(n){return function(t,i){return t+" "+n+" "+i}},i=function(n,t){return function(i,r){var u=[n,"("];return t?u.push(r,",",i):u.push(i,",",r),u.push(")"),u.join("")}},r={"=":t("eq"),"<>":t("ne"),">":t("gt"),">=":t("ge"),"<":t("lt"),"<=":t("le"),startswith:i("startswith"),endswith:i("endswith")},h=n.extend({},r,{contains:i("substringof",!0),notcontains:i("not substringof",!0)}),c=n.extend({},r,{contains:i("contains"),notcontains:i("not contains")}),l=function(n,t){n=e.utils.normalizeBinaryCriterion(n);var i=n[1],o=t===4?c:h,r=o[i.toLowerCase()];if(!r)throw f.Error("E4003",i);return r(u(n[0]),s(n[2],t))},a=function(t,i){var u=[],s,r;return n.each(t,function(t,h){if(n.isArray(h)){if(u.length>1&&s!==r)throw new f.Error("E4019");u.push("("+o(h,i)+")"),s=r,r="and"}else r=e.utils.isConjunctiveOperator(this)?"and":"or"}),u.join(" "+s+" ")},o=function(t,i){return n.isArray(t[0])?a(t,i):l(t,i)};return function(n,t){return o(n,t)}}(),pt=function(t){var h=[],r=[],f,o,s,e,c=function(){return o||s!==i},l=function(t){for(var i=0;i<t.length;i++)if(n.isFunction(t[i])||n.isArray(t[i])&&l(t[i]))return!0;return!1},v=function(){var r={};return t.expand&&n.each(n.makeArray(t.expand),function(){r[u(this)]=1}),f&&n.each(f,function(){var n=this.split(".");n.length<2||(n.pop(),r[u(n.join("."))]=1)}),n.map(r,function(n,t){return t}).join()||i},y=function(){var n={};return e||(h.length&&(n.$orderby=h.join(",")),o&&(n.$skip=o),s!==i&&(n.$top=s),f&&(n.$select=u(f.join())),n.$expand=v()),r.length&&(n.$filter=yt(r.length<2?r[0]:r,t.version)),e&&(n.$top=0),(t.requireTotalCount||e)&&(t.version!==4?n.$inlinecount="allpages":n.$count="true"),n};return t.version=t.version||b,{exec:function(i){return a(t.version,{url:i,params:n.extend(y(),t&&t.params)},{beforeSend:t.beforeSend,jsonp:t.jsonp,withCredentials:t.withCredentials,countOnly:e})},multiSort:function(n){var i,t,r,e,f;if(c())return!1;for(t=0;t<n.length;t++){if(r=n[t][0],e=!!n[t][1],typeof r!="string")return!1;f=u(r),e&&(f+=" desc"),i=i||[],i.push(f)}h=i},slice:function(n,t){if(c())return!1;o=n,s=t},filter:function(t){if(c()||(n.isArray(t)||(t=n.makeArray(arguments)),l(t)))return!1;r.length&&r.push("and"),r.push(t)},select:function(t){if(f||n.isFunction(t))return!1;n.isArray(t)||(t=n.makeArray(arguments)),f=t},count:function(){e=!0}}};n.extend(!0,e,{EdmLiteral:r,utils:{odata:{sendRequest:a,serializePropName:u,serializeValue:s,serializeKey:at,keyConverters:vt}},queryAdapters:{odata:pt}})}(jQuery,DevExpress),function(n,t){function f(t,i){return t=t.groupBy(i[0].selector),i.length>1&&(t=t.select(function(t){return n.extend({},t,{items:f(r.query(t.items),i.slice(1)).toArray()})})),t}function s(t,i){var r=[];return n.each(t,function(t,u){var f=n.grep(i,function(n){return u.selector===n.selector});f.length<1&&r.push(u)}),r.concat(i)}var o=DevExpress.require("/class"),h=t.require("/eventsMixin"),u=o.abstract,c=DevExpress.require("/data/data.errors"),r=t.data,e=r.utils.normalizeSortingInfo;r.utils.multiLevelGroup=f,r.utils.arrangeSortingInfo=s,r.Store=o.inherit({ctor:function(t){var i=this;t=t||{},n.each(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onRemoved","onRemoving","onModified","onModifying"],function(n,r){if(r in t)i.on(r.slice(2).toLowerCase(),t[r])}),this._key=t.key,this._errorHandler=t.errorHandler,this._useDefaultSearch=!0},_customLoadOptions:function(){return null},key:function(){return this._key},keyOf:function(n){return this._keyGetter||(this._keyGetter=r.utils.compileGetter(this.key())),this._keyGetter(n)},_requireKey:function(){if(!this.key())throw c.Error("E4005");},load:function(n){var t=this;return n=n||{},this.fireEvent("loading",[n]),this._withLock(this._loadImpl(n)).done(function(i){t.fireEvent("loaded",[i,n])})},_loadImpl:function(t){var o=t.filter,u=t.sort,h=t.select,r=t.group,c=t.skip,l=t.take,i=this.createQuery(t);return o&&(i=i.filter(o)),r&&(r=e(r)),(u||r)&&(u=e(u||[]),r&&(u=s(r,u)),n.each(u,function(n){i=i[n?"thenBy":"sortBy"](this.selector,this.desc)})),h&&(i=i.select(h)),r&&(i=f(i,r)),(l||c)&&(i=i.slice(c||0,l)),i.enumerate()},_withLock:function(i){var r=n.Deferred();return i.done(function(){var n=this,i=arguments;t.data.utils.processRequestResultLock.promise().done(function(){r.resolveWith(n,i)})}).fail(function(){r.rejectWith(this,arguments)}),r},createQuery:u,totalCount:function(n){return this._totalCountImpl(n)},_totalCountImpl:function(n){n=n||{};var t=this.createQuery(),i=n.group,r=n.filter;return r&&(t=t.filter(r)),i&&(i=e(i),t=f(t,i)),t.count()},byKey:function(n,t){return this._addFailHandlers(this._withLock(this._byKeyImpl(n,t)))},_byKeyImpl:u,insert:function(n){var t=this;return t.fireEvent("modifying"),t.fireEvent("inserting",[n]),t._addFailHandlers(t._insertImpl(n).done(function(n,i){t.fireEvent("inserted",[n,i]),t.fireEvent("modified")}))},_insertImpl:u,update:function(n,t){var i=this;return i.fireEvent("modifying"),i.fireEvent("updating",[n,t]),i._addFailHandlers(i._updateImpl(n,t).done(function(n,t){i.fireEvent("updated",[n,t]),i.fireEvent("modified")}))},_updateImpl:u,remove:function(n){var t=this;return t.fireEvent("modifying"),t.fireEvent("removing",[n]),t._addFailHandlers(t._removeImpl(n).done(function(n){t.fireEvent("removed",[n]),t.fireEvent("modified")}))},_removeImpl:u,_addFailHandlers:function(n){return n.fail(this._errorHandler,r._errorHandler)}}).include(h)}(jQuery,DevExpress),function(n,t,i){var r=t.data,o=r.Guid,u=DevExpress.require("/data/data.errors"),s=t.require("/utils/utils.object"),f=function(){var t=n.Deferred();return t.resolve.apply(t,arguments).promise()},e=function(){var t=n.Deferred();return t.reject.apply(t,arguments).promise()};r.ArrayStore=r.Store.inherit({ctor:function(t){t=n.isArray(t)?{data:t}:t||{},this.callBase(t);var i=t.data;if(i&&!n.isArray(i))throw u.Error("E4006");this._array=i||[]},createQuery:function(){return r.query(this._array,{errorHandler:this._errorHandler})},_byKeyImpl:function(n){var t=this._indexByKey(n);return t===-1?e(u.Error("E4009")):f(this._array[t])},_insertImpl:function(t){var h=this.key(),r,s;if(s=n.isPlainObject(t)?n.extend({},t):t,h){if(r=this.keyOf(s),r===i||typeof r=="object"&&n.isEmptyObject(r)){if(n.isArray(h))throw u.Error("E4007");r=s[h]=String(new o)}else if(this._array[this._indexByKey(r)]!==i)return e(u.Error("E4008"))}else r=s;return this._array.push(s),f(t,r)},_updateImpl:function(n,t){var i,o;if(this.key()){if(this.keyOf(t)&&!r.utils.keysEqual(this.key(),n,this.keyOf(t)))return e(u.Error("E4017"));if(o=this._indexByKey(n),o<0)return e(u.Error("E4009"));i=this._array[o]}else i=n;return s.deepExtendArraySafe(i,t),f(n,t)},_removeImpl:function(n){var t=this._indexByKey(n);return t>-1&&this._array.splice(t,1),f(n)},_indexByKey:function(n){for(var t=0,i=this._array.length;t<i;t++)if(r.utils.keysEqual(this.key(),this.keyOf(this._array[t]),n))return t;return-1},clear:function(){this._array=[]}})}(jQuery,DevExpress),function(n,t){var r=DevExpress.require("/class"),u=r.abstract,e=DevExpress.require("/data/data.errors"),f=t.data,o=r.inherit({ctor:function(t,i){var u,f,r;if(this._store=t,this._dirty=!1,u=this._immediate=i.immediate,f=Math.max(100,i.flushInterval||1e4),!u){r=n.proxy(this.save,this),setInterval(r,f);n(window).on("beforeunload",r);window.cordova&&document.addEventListener("pause",r,!1)}},notifyChanged:function(){this._dirty=!0,this._immediate&&this.save()},load:function(){this._store._array=this._loadImpl(),this._dirty=!1},save:function(){this._dirty&&(this._saveImpl(this._store._array),this._dirty=!1)},_loadImpl:u,_saveImpl:u}),s=o.inherit({ctor:function(n,t){this.callBase(n,t);var i=t.name;if(!i)throw e.Error("E4013");this._key="dx-data-localStore-"+i},_loadImpl:function(){var n=localStorage.getItem(this._key);return n?JSON.parse(n):[]},_saveImpl:function(n){n.length?localStorage.setItem(this._key,JSON.stringify(n)):localStorage.removeItem(this._key)}}),h={dom:s};f.LocalStore=f.ArrayStore.inherit({ctor:function(n){n=typeof n=="string"?{name:n}:n||{},this.callBase(n),this._backend=new h[n.backend||"dom"](this,n),this._backend.load()},clear:function(){this.callBase(),this._backend.notifyChanged()},_insertImpl:function(t){var i=this._backend;return this.callBase(t).done(n.proxy(i.notifyChanged,i))},_updateImpl:function(t,i){var r=this._backend;return this.callBase(t,i).done(n.proxy(r.notifyChanged,r))},_removeImpl:function(t){var i=this._backend;return this.callBase(t).done(n.proxy(i.notifyChanged,i))}})}(jQuery,DevExpress),function(n,t){var v=DevExpress.require("/class"),e=DevExpress.require("/data/data.errors"),y=t.require("/utils/utils.proxyUrlFormatter"),o=t.require("/utils/utils.string"),s=t.require("/utils/utils.common"),r=t.data,u=r.utils.odata,p=2,h=function(t,i){return o.format("{0}({1})",t,n.map(i||{},function(n,t){return o.format("{0}={1}",t,n)}).join(","))},f=function(t,i){if(!t)return t;var r={};return n.each(t,function(n,t){r[n]=u.serializeValue(t,i)}),r},c=function(n,t){var i=u.keyConverters[n];if(!i)throw e.Error("E4014",n);return i(t)},l={_extractServiceOptions:function(n){n=n||{},this._url=String(n.url).replace(/\/+$/,""),this._beforeSend=n.beforeSend,this._jsonp=n.jsonp,this._version=n.version||p,this._withCredentials=n.withCredentials},_sendRequest:function(n,t,i,r){return u.sendRequest(this.version(),{url:n,method:t,params:i||{},payload:r},{beforeSend:this._beforeSend,jsonp:this._jsonp,withCredentials:this._withCredentials},this._deserializeDates)},version:function(){return this._version}},a=r.Store.inherit({ctor:function(n){this.callBase(n),this._extractServiceOptions(n),this._keyType=n.keyType,this._deserializeDates=n.deserializeDates,this._updateMethod=this.version()===2?"MERGE":"PATCH"},_customLoadOptions:function(){return["expand","customQueryParams"]},_byKeyImpl:function(t,i){var r={};return i&&i.expand&&(r.$expand=n.map(n.makeArray(i.expand),u.serializePropName).join()),this._sendRequest(this._byKeyUrl(t),"GET",r)},createQuery:function(n){var t,i,u;return n=n||{},i={beforeSend:this._beforeSend,errorHandler:this._errorHandler,jsonp:this._jsonp,version:this._version,withCredentials:this._withCredentials,deserializeDates:this._deserializeDates,expand:n.expand,requireTotalCount:n.requireTotalCount},t=s.isDefined(n.urlOverride)?n.urlOverride:this._url,"customQueryParams"in n&&(u=f(n.customQueryParams,this.version()),this.version()===4?t=h(t,u):i.params=u),r.query(t,i)},_insertImpl:function(t){this._requireKey();var r=this,i=n.Deferred();return n.when(this._sendRequest(this._url,"POST",null,t)).done(function(n){i.resolve(t,r.keyOf(n))}).fail(i.reject),i.promise()},_updateImpl:function(t,i){var r=n.Deferred();return n.when(this._sendRequest(this._byKeyUrl(t),this._updateMethod,null,i)).done(function(){r.resolve(t,i)}).fail(r.reject),r.promise()},_removeImpl:function(t){var i=n.Deferred();return n.when(this._sendRequest(this._byKeyUrl(t),"DELETE")).done(function(){i.resolve(t)}).fail(i.reject),i.promise()},_byKeyUrl:function(t,i){var r=t,f=this._keyType,e=i?y.formatLocalUrl(this._url):this._url;return n.isPlainObject(f)?(r={},n.each(f,function(n,i){r[n]=c(i,t[n])})):f&&(r=c(f,t)),e+"("+encodeURIComponent(u.serializeKey(r,this._version))+")"}}).include(l),w=v.inherit({ctor:function(t){var i=this;i._extractServiceOptions(t),i._errorHandler=t.errorHandler,n.each(t.entities||[],function(r,u){i[r]=new a(n.extend({},t,{url:i._url+"/"+encodeURIComponent(u.name||r)},u))})},get:function(n,t){return this.invoke(n,t,"GET")},invoke:function(t,i,u){i=i||{},u=(u||"POST").toLowerCase();var e=n.Deferred(),o=this._url+"/"+encodeURIComponent(t),s;return this.version()===4&&(u==="get"?(o=h(o,f(i,this.version())),i=null):u==="post"&&(s=i,i=null)),n.when(this._sendRequest(o,u,f(i,this.version()),s)).done(function(i){n.isPlainObject(i)&&t in i&&(i=i[t]),e.resolve(i)}).fail([this._errorHandler,r._errorHandler,e.reject]),e.promise()},objectLink:function(n,t){var i=this[n];if(!i)throw e.Error("E4015",n);return s.isDefined(t)?{__metadata:{uri:i._byKeyUrl(t,!0)}}:null}}).include(l);n.extend(r,{ODataStore:a,ODataContext:w})}(jQuery,DevExpress),function(n,t,i){function u(t){return t&&n.isFunction(t.then)}function r(t){return n.Deferred().resolve(t).promise()}function f(t,i){if(!n.isFunction(i))throw s.Error("E4011",t);}function p(n){throw s.Error("E4012",n);}function e(n){function t(n){var t=n[0],i=n[1];return!t||!t.getResponseHeader?null:o.utils.errorMessageFromXhr(t,i)}return function(i){var r;r=i instanceof Error?i:new Error(t(arguments)||i&&String(i)||"Unknown error"),n.reject(r)}}var o=t.data,s=DevExpress.require("/data/data.errors"),h="totalCount",c="load",l="byKey",a="insert",v="update",y="remove";o.CustomStore=o.Store.inherit({ctor:function(n){n=n||{},this.callBase(n),this._useDefaultSearch=!1,this._loadFunc=n[c],this._totalCountFunc=n[h],this._byKeyFunc=n[l],this._insertFunc=n[a],this._updateFunc=n[v],this._removeFunc=n[y]},createQuery:function(){throw s.Error("E4010");},_totalCountImpl:function(t){var s=this._totalCountFunc,i,o=n.Deferred();return f(h,s),i=s.apply(this,[t]),u(i)||(i=Number(i),isFinite(i)||p(h),i=r(i)),i.then(function(n){o.resolve(Number(n))},e(o)),this._addFailHandlers(o.promise())},_loadImpl:function(t){var h=this._loadFunc,o,s=n.Deferred();return f(c,h),o=h.apply(this,[t]),n.isArray(o)?o=r(o):o===null||o===i?o=r([]):u(o)||p(c),o.then(function(n,t){s.resolve(n,t)},e(s)),this._addFailHandlers(s.promise())},_byKeyImpl:function(t,i){var h=this._byKeyFunc,o,s=n.Deferred();return f(l,h),o=h.apply(this,[t,i]),u(o)||(o=r(o)),o.then(function(n){s.resolve(n)},e(s)),s.promise()},_insertImpl:function(t){var s=this._insertFunc,i,o=n.Deferred();return f(a,s),i=s.apply(this,[t]),u(i)||(i=r(i)),i.then(function(n){o.resolve(t,n)},e(o)),o.promise()},_updateImpl:function(t,i){var h=this._updateFunc,o,s=n.Deferred();return f(v,h),o=h.apply(this,[t,i]),u(o)||(o=r()),o.then(function(){s.resolve(t,i)},e(s)),s.promise()},_removeImpl:function(t){var s=this._removeFunc,i,o=n.Deferred();return f(y,s),i=s.apply(this,[t]),u(i)||(i=r()),i.then(function(){o.resolve(t)},e(o)),o.promise()}})}(jQuery,DevExpress),function(n,t,i){function u(){this._counter=-1,this._deferreds={}}function l(n){return n.state()==="pending"}function a(t){function f(){var i={};return n.each(["key","load","byKey","lookup","totalCount","insert","update","remove"],function(){i[this]=t[this],delete t[this]}),new h(i)}function e(n){var t=r[s[n.type]];return delete n.type,new t(n)}function o(t){return new h({load:function(){return n.getJSON(t)}})}var u;return typeof t=="string"&&(t={paginate:!1,store:o(t)}),t===i&&(t=[]),t=n.isArray(t)||t instanceof r.Store?{store:t}:n.extend({},t),t.store===i&&(t.store=[]),u=t.store,"load"in t?u=f():n.isArray(u)?u=new r.ArrayStore(u):n.isPlainObject(u)&&(u=e(n.extend({},u))),t.store=u,t}function v(t){switch(t.length){case 0:return i;case 1:return t[0]}return n.makeArray(t)}function e(n){return function(){var t=v(arguments);if(t===i)return this._storeLoadOptions[n];this._storeLoadOptions[n]=t}}function g(t,i,u){function f(t,r){return o.isArray(t)?r?e(t,r):n.map(t,i):t}function e(t,i){return n.map(t,function(n){var t={key:n.key,items:f(n.items,i-1)};return"aggregates"in n&&(t.aggregates=n.aggregates),t})}return f(t,u?r.utils.normalizeSortingInfo(u).length:0)}var r=t.data,h=r.CustomStore,p=t.require("/class"),w=t.require("/eventsMixin"),b=t.require("/data/data.errors"),k=t.require("/utils/utils.array"),d=t.require("/utils/utils.queue"),o=t.require("/utils/utils.common"),c="canceled",f,s,y;u.prototype.constructor=u,u.prototype.add=function(n){return this._counter+=1,this._deferreds[this._counter]=n,this._counter},u.prototype.remove=function(n){return delete this._deferreds[n]},u.prototype.cancel=function(n){return n in this._deferreds?(this._deferreds[n].reject(c),!0):!1},f=new u,s={jaydata:"JayDataStore",breeze:"BreezeStore",odata:"ODataStore",local:"LocalStore",array:"ArrayStore"},y=p.inherit({ctor:function(t){var r=this;t=a(t),this._store=t.store,this._storeLoadOptions=this._extractLoadOptions(t),this._mapFunc=t.map,this._postProcessFunc=t.postProcess,this._pageIndex=t.pageIndex!==i?t.pageIndex:0,this._pageSize=t.pageSize!==i?t.pageSize:20,this._items=[],this._totalCount=-1,this._isLoaded=!1,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in t?t.searchValue:null,this._searchOperation=t.searchOperation||"contains",this._searchExpr=t.searchExpr,this._paginate=t.paginate,this._paginate===i&&(this._paginate=!this.group()),this._isLastPage=!this._paginate,this._userData={},n.each(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],function(n,i){if(i in t)r.on(i.substr(2,1).toLowerCase()+i.substr(3),t[i])})},dispose:function(){this._disposeEvents(),delete this._store,this._delayedLoadTask&&this._delayedLoadTask.abort(),this._disposed=!0},_extractLoadOptions:function(t){var r={},i=["sort","filter","select","group","requireTotalCount"],u=this._store._customLoadOptions();return u&&(i=i.concat(u)),n.each(i,function(){r[this]=t[this]}),r},loadOptions:function(){return this._storeLoadOptions},items:function(){return this._items},pageIndex:function(n){if(n===i)return this._pageIndex;this._pageIndex=n,this._isLastPage=!this._paginate},paginate:function(n){if(arguments.length<1)return this._paginate;n=!!n,this._paginate!==n&&(this._paginate=n,this.pageIndex(0))},pageSize:function(n){if(arguments.length<1)return this._pageSize;this._pageSize=n},isLastPage:function(){return this._isLastPage},sort:e("sort"),filter:function(){var n=v(arguments);if(n===i)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=n,this.pageIndex(0)},group:e("group"),select:e("select"),requireTotalCount:e("requireTotalCount"),searchValue:function(n){if(n===i)return this._searchValue;this.pageIndex(0),this._searchValue=n},searchOperation:function(n){if(n===i)return this._searchOperation;this.pageIndex(0),this._searchOperation=n},searchExpr:function(t){var i=arguments.length;if(i===0)return this._searchExpr;i>1&&(t=n.makeArray(arguments)),this.pageIndex(0),this._searchExpr=t},store:function(){return this._store},key:function(){return this._store&&this._store.key()},totalCount:function(){return this._totalCount},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._loadingCount>0},_createLoadQueue:function(){return d.create()},_changeLoadingCount:function(n){var i=this.isLoading(),t;this._loadingCount+=n,t=this.isLoading(),i^t&&this.fireEvent("loadingChanged",[t])},_scheduleLoadCallbacks:function(n){var t=this;t._changeLoadingCount(1),n.always(function(){t._changeLoadingCount(-1)})},_scheduleFailCallbacks:function(n){var t=this;n.fail(function(){arguments[0]!==c&&t.fireEvent("loadError",arguments)})},_scheduleChangedCallbacks:function(n){var t=this;n.done(function(){t.fireEvent("changed")})},loadSingle:function(t,i){var h=this,f=n.Deferred(),s=this.key(),e=this._store,u=this._createStoreLoadOptions(),c=function(t){!o.isDefined(t)||k.isEmpty(t)?f.reject(new b.Error("E4009")):f.resolve(h._applyMapFunction(n.makeArray(t))[0])};return this._scheduleFailCallbacks(f),arguments.length<2&&(i=t,t=s),delete u.skip,delete u.group,delete u.refresh,delete u.pageIndex,delete u.searchString,function(){return t===s||e instanceof r.CustomStore?e.byKey(i,u):(u.take=1,u.filter=u.filter?[u.filter,[t,i]]:[t,i],e.load(u))}().fail(f.reject).done(c),f.promise()},load:function(){function f(){return u._disposed?i:l(t)?u._loadFromStore(r,t):void 0}var u=this,t=n.Deferred(),r;return this._scheduleLoadCallbacks(t),this._scheduleFailCallbacks(t),this._scheduleChangedCallbacks(t),r=this._createLoadOperation(t),this.fireEvent("customizeStoreLoadOptions",[r]),this._loadQueue.add(function(){return typeof r.delay=="number"?u._delayedLoadTask=o.executeAsync(f,r.delay):f(),t.promise()}),t.promise({operationId:r.operationId})},_createLoadOperation:function(n){var t=f.add(n),i=this._createStoreLoadOptions();return n.always(function(){f.remove(t)}),{operationId:t,storeLoadOptions:i}},reload:function(){var n,t=this._userData;for(n in t)t.hasOwnProperty(n)&&delete t[n];return this._totalCount=-1,this._isLoaded=!1,this.load()},cancel:function(n){return f.cancel(n)},_addSearchOptions:function(n){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(n):(n.searchOperation=this._searchOperation,n.searchValue=this._searchValue,n.searchExpr=this._searchExpr))},_createStoreLoadOptions:function(){var t=n.extend({},this._storeLoadOptions);return this._addSearchOptions(t),this._paginate&&this._pageSize&&(t.skip=this._pageIndex*this._pageSize,t.take=this._pageSize),t.userData=this._userData,t},_addSearchFilter:function(t){var u=this._searchValue,f=this._searchOperation,i=this._searchExpr,r=[];u&&(i||(i="this"),n.isArray(i)||(i=[i]),n.each(i,function(n,t){r.length&&r.push("or"),r.push([t,f,u])}),t.filter=t.filter?[r,t.filter]:r)},_loadFromStore:function(t,i){function u(u,f){function e(){var e;e=n.extend({data:u,extra:f},t),r.fireEvent("customizeLoadResult",[e]),n.when(e.data).done(function(n){e.data=n,r._processStoreLoadResult(e,i)}).fail(i.reject)}r._disposed||l(i)&&e()}var r=this;return t.data?n.Deferred().resolve(t.data).done(u):this.store().load(t.storeLoadOptions).done(u).fail(i.reject)},_processStoreLoadResult:function(t,i){function o(){return r._isLoaded=!0,r._totalCount=isFinite(u.totalCount)?u.totalCount:-1,i.resolve(f,u)}function s(){r.store().totalCount(e).done(function(n){u.totalCount=n,o()}).fail(i.reject)}var r=this,f=n.makeArray(t.data),u=t.extra,e=t.storeLoadOptions;r._disposed||(f=r._applyPostProcessFunction(r._applyMapFunction(f)),n.isPlainObject(u)||(u={}),r._items=f,(!f.length||!r._paginate||r._pageSize&&f.length<r._pageSize)&&(r._isLastPage=!0),e.requireTotalCount&&!isFinite(u.totalCount)?s():o())},_applyMapFunction:function(n){return this._mapFunc?g(n,this._mapFunc,this.group()):n},_applyPostProcessFunction:function(n){return this._postProcessFunc?this._postProcessFunc(n):n}}).include(w),n.extend(!0,r,{DataSource:y,utils:{storeTypeRegistry:s,normalizeDataSourceOptions:a}})}(jQuery,DevExpress),DevExpress.define("/ui/uiNamespace",["/coreNamespace","/ui/ui.themes","/ui/templates/ui.templateBase","/integration/jquery/jquery.template","/ui/ui.actionExecutors"],function(n,t,i,r){var u=n.ui=n.ui||{};return u.themes={current:t.current},u.setTemplateEngine=r.setTemplateEngine,u.templateRendered=i.renderedCallbacks,u}),DevExpress.define("/ui/ui.themes",["jquery","/ui/ui.errors","/utils/utils.dom","/devices","/utils/utils.viewPort"],function(n,t,i,r,u){function d(){var i=n("<div><\/div>",e).addClass("dx-theme-marker").appendTo(e.documentElement),t;try{return(t=i.css("font-family"),!t)?null:(t=t.replace(/["']/g,""),t.substr(0,l.length)!==l)?null:t.substr(l.length)}finally{i.remove()}}function g(t,i){function f(){s=null,i()}var r,u;s=t,nt()?f():(u=n.now(),r=setInterval(function(){var t=nt(),i=!t&&n.now()-u>15e3;(t||i)&&(clearInterval(r),f())},10))}function nt(){return!s||d()===s}function ft(){var t=n(b,e);t.length&&(o={},h=n(i.createMarkupFromString("<link rel=stylesheet>"),e),t.each(function(){var t=n(this,e),i=t.attr(rt),r=t.attr("href"),u=t.attr(ut)==="true";o[i]={url:r,isActive:u}}),t.last().after(h),t.remove())}function et(t){var i=t.split("."),r=null;return o&&n.each(o,function(n,t){var u=n.split(".");if(u[0]===i[0])return i[1]&&i[1]!==u[1]?void 0:i[2]&&i[2]!==u[2]?void 0:((!r||t.isActive)&&(r=n),t.isActive?!1:void 0)}),r}function ot(n){try{n!==e&&(o=null)}catch(t){o=null}e=n}function a(n){n=n||{},ot(n.context||document),ft(),f=undefined,v(n)}function v(n){if(!arguments.length)return f||d();p(w(),f),n=n||{},typeof n=="string"&&(n={theme:n});var u=n._autoInit,i=n.loadCallback,e;if(f=n.theme||f,u&&!f&&(f=tt(r.current())),f=et(f),f&&(e=o[f]),e)h.attr("href",o[f].url),i?g(f,i):s&&(s=f);else if(u)i&&i();else throw t.Error("E0021",f);y(w(),f)}function tt(n){var t=n.platform,i=n.version&&n.version[0],u=r.isForced();switch(t){case"ios":t+="7";break;case"android":t+="5";break;case"win":t+=i&&i===8&&u?"8":"10"}return t}function st(n){n=n||v();var i=[],t=n&&n.split(".");return t&&(i.push("dx-theme-"+t[0],"dx-theme-"+t[0]+"-typography"),t.length>1&&i.push("dx-color-scheme-"+t[1])),i}function y(t,i){c=st(i).join(" "),n(t).addClass(c);var r=function(){var r=window.devicePixelRatio,i;!r||r<2||(i=n("<div>"),i.css("border",".5px solid transparent"),n("body").append(i),i.outerHeight()===1&&(n(t).addClass(k),c+=" "+k),i.remove())};r()}function p(t){n(t).removeClass(c)}var w=u.value,it=u.changeCallback,b="link[rel=dx-theme]",rt="data-theme",ut="data-active",k="dx-hairlines",e,h,o,f,s,l="dx.",c;return n.holdReady(!0),a({_autoInit:!0,loadCallback:function(){n.holdReady(!1)}}),n(function(){if(n(b,e).length)throw t.Error("E0022");}),it.add(function(n,t){p(t),y(n)}),r.changed.add(function(){a({_autoInit:!0})}),{init:a,current:v,attachCssClasses:y,detachCssClasses:p,themeNameFromDevice:tt,waitForThemeLoad:g,resetTheme:function(){h.attr("href","about:blank"),f=null,s=null}}}),DevExpress.define("/ui/ui.keyboardProcessor",["jquery","/class","/ui/events/ui.events.utils"],function(n,t,i){var r=t.inherit({_keydown:i.addNamespace("keydown","KeyboardProcessor"),codes:{"8":"backspace","9":"tab","13":"enter","27":"escape","33":"pageUp","34":"pageDown","35":"end","36":"home","37":"leftArrow","38":"upArrow","39":"rightArrow","40":"downArrow","46":"del","32":"space","70":"F","65":"A","106":"asterisk","109":"minus"},ctor:function(t){var i=this;if(t=t||{},t.element&&(this._element=n(t.element)),t.focusTarget&&(this._focusTarget=t.focusTarget),this._handler=t.handler,this._context=t.context,this._childProcessors=[],this._element)this._element.on(this._keydown,function(n){i.process(n)})},dispose:function(){this._element&&this._element.off(this._keydown),this._element=undefined,this._handler=undefined,this._context=undefined,this._childProcessors=undefined},clearChildren:function(){this._childProcessors=[]},push:function(n){return this._childProcessors||this.clearChildren(),this._childProcessors.push(n),n},attachChildProcessor:function(){var n=new r;return this._childProcessors.push(n),n},reinitialize:function(n,t){return this._context=t,this._handler=n,this},process:function(t){if(this._focusTarget&&this._focusTarget!==t.target&&n.inArray(t.target,this._focusTarget)<0)return!1;var i={key:this.codes[t.which]||t.which,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,originalEvent:t},r=this._handler&&this._handler.call(this._context,i);r&&this._childProcessors&&n.each(this._childProcessors,function(n,i){i.process(t)})}});return r}),DevExpress.define("/ui/ui.widget",["jquery","/ui/ui.errors","/action","/utils/utils.dom","/utils/utils.common","/devices","/domComponent","/ui/templates/ui.templateBase","/ui/templates/ui.template.dynamic","/ui/templates/ui.template.empty","/ui/templates/ui.template.move","/integration/jquery/jquery.templateProvider","/ui/ui.keyboardProcessor","/integration/jquery/jquery.selectors","/ui/events/ui.events.utils","/ui/events/ui.events.hover","/ui/events/ui.events.emitter.feedback"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){var k="UIFeedback",nt="dx-widget",tt="dx-state-active",d="dx-state-disabled",it="dx-state-invisible",rt="dx-state-hover",g="dx-state-focused",ut=30,ft=400,b="Focus",et="template",ot=3,st="[data-options*='dxTemplate']",ht="dx-template-wrapper";return e.inherit({_supportedKeys:function(){return{}},_getDefaultOptions:function(){return n.extend(this.callBase(),{disabled:!1,visible:!0,hint:undefined,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:null,onFocusIn:null,onFocusOut:null,templateProvider:l,_keyboardProcessor:undefined,_templates:{}})},_init:function(){this.callBase(),this._feedbackShowTimeout=ut,this._feedbackHideTimeout=ft,this._tempTemplates=[],this._dynamicTemplates={},this._initTemplates(),this._initContentReadyAction()},_initTemplates:function(){this._extractTemplates(),this._extractAnonymousTemplate()},_extractTemplates:function(){var u=this.option("_templates"),f=this.element().contents().filter(st),i={};f.each(function(u,f){var e=r.getElementOptions(f).dxTemplate;if(e){if(!e.name)throw t.Error("E0023");n(f).addClass(ht).detach(),i[e.name]=i[e.name]||[],i[e.name].push(f)}}),n.each(i,n.proxy(function(n,t){var i=this._findTemplateByDevice(t);i&&(u[n]=this._createTemplate(i,this))},this))},_findTemplateByDevice:function(t){var i=u.findBestMatches(f.current(),t,function(n){return r.getElementOptions(n).dxTemplate})[0];return n.each(t,function(t,r){r!==i&&n(r).remove()}),i},_extractAnonymousTemplate:function(){var t=this.option("_templates"),i=this._getAnonymousTemplateName(),r=this.element().contents().detach(),u=r.filter(function(t,i){var r=i.nodeType===ot,u=n.trim(n(i).text()).length<1;return!(r&&u)}),f=u.length<1;t[i]||f||(t[i]=this._createTemplate(r,this))},_getAriaTarget:function(){return this._focusTarget()},_getAnonymousTemplateName:function(){return et},_getTemplateByOption:function(n){return this._getTemplate(this.option(n))},_getTemplate:function(t){if(n.isFunction(t)){var i=this;return new s(function(){var n=t.apply(i,arguments);return u.isDefined(n)?i._acquireTemplate(n,this,!0):new h},this)}return this._acquireTemplate(t,this)},_acquireTemplate:function(t,i,u){var f,e,s;return t==null?this._createTemplate(r.normalizeTemplateElement(t),i):t instanceof o?t:t.nodeType||t.jquery?(t=n(t),u&&!t.is("script"))?new c(t,i):this._createTemplate(t,i):typeof t=="string"?(f=this.option("_templates")[t],f)?f:(e=this._dynamicTemplates[t],e)?e:(s=this.option("templateProvider").getTemplates(this)[t],s)?s:this._createTemplate(r.normalizeTemplateElement(t),i):this._acquireTemplate(t.toString(),i)},_createTemplate:function(n,t){var i=this.option("templateProvider").createTemplate(n,t);return this._tempTemplates.push(i),i},_cleanTemplates:function(){var t=this;n.each(this.option("_templates"),function(n,i){t===i.owner()&&i.dispose()}),n.each(this._tempTemplates,function(n,t){t.dispose()})},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["designMode","disabled","readOnly"]})},_render:function(){this.element().addClass(nt),this.callBase(),this._toggleDisabledState(this.option("disabled")),this._toggleVisibility(this.option("visible")),this._renderHint(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents()},_renderHint:function(){r.toggleAttr(this.element(),"title",this.option("hint"))},_renderContent:function(){this._renderContentImpl(),this._fireContentReadyAction()},_renderContentImpl:n.noop,_fireContentReadyAction:function(){this._contentReadyAction()},_dispose:function(){this._cleanTemplates(),this._contentReadyAction=null,this.callBase()},_clean:function(){this._cleanFocusState(),this.callBase(),this.element().empty()},_toggleVisibility:function(n){this.element().toggleClass(it,!n),this.setAria("hidden",!n||undefined)},_renderFocusState:function(){this.option("focusStateEnabled")&&!this.option("disabled")&&(this._renderFocusTarget(),this._attachFocusEvents(),this._attachKeyboardEvents(),this._renderAccessKey())},_renderAccessKey:function(){var t=this._focusTarget(),i;t.attr("accesskey",this.option("accessKey")),i=y.addNamespace("dxclick",k),t.off(i),this.option("accessKey")&&t.on(i,n.proxy(function(n){y.isFakeClickEvent(n)&&(n.stopImmediatePropagation(),this.focus())},this))},_eventBindingTarget:function(){return this.element()},_focusTarget:function(){return this._getActiveElement()},_getActiveElement:function(){var n=this._eventBindingTarget();return this._activeStateUnit&&(n=n.find(this._activeStateUnit).not("."+d)),n},_renderFocusTarget:function(){this._focusTarget().attr("tabindex",this.option("tabIndex"))},_keyboardEventBindingTarget:function(){return this._eventBindingTarget()},_detachFocusEvents:function(){var n=this._focusTarget(),t=y.addNamespace("focusin",this.NAME+b),i=y.addNamespace("focusout",this.NAME+b),r=y.addNamespace("beforeactivate",this.NAME+b);n.off(t+" "+i+" "+r)},_attachFocusEvents:function(){var t=y.addNamespace("focusin",this.NAME+b),i=y.addNamespace("focusout",this.NAME+b),r=y.addNamespace("beforeactivate",this.NAME+b);this._focusTarget().on(t,n.proxy(this._focusInHandler,this)).on(i,n.proxy(this._focusOutHandler,this)).on(r,function(t){n(t.target).is(v.focusable)||t.preventDefault()})},_refreshFocusEvent:function(){this._detachFocusEvents(),this._attachFocusEvents()},_focusInHandler:function(n){var t=this;t._createActionByOption("onFocusIn",{beforeExecute:function(){t._updateFocusState(n,!0)},excludeValidators:["readOnly"]})({jQueryEvent:n})},_focusOutHandler:function(n){var t=this;t._createActionByOption("onFocusOut",{beforeExecute:function(){t._updateFocusState(n,!1)},excludeValidators:["readOnly"]})({jQueryEvent:n})},_updateFocusState:function(t,i){var r=t.target;n.inArray(r,this._focusTarget())!==-1&&this._toggleFocusClass(i,r)},_toggleFocusClass:function(t,i){var r=n(i||this._focusTarget());r.toggleClass(g,t)},_hasFocusClass:function(t){var i=n(t||this._focusTarget());return i.hasClass(g)},_attachKeyboardEvents:function(){var n=this.option("_keyboardProcessor")||new a({element:this._keyboardEventBindingTarget(),focusTarget:this._focusTarget()});this._keyboardProcessor=n.reinitialize(this._keyboardHandler,this)},_keyboardHandler:function(t){var u=t.originalEvent,f=t.key,e=this._supportedKeys(),i=e[f],r;return i!==undefined?(r=n.proxy(i,this),r(u)||!1):!0},_refreshFocusState:function(){this._cleanFocusState(),this._renderFocusState()},_cleanFocusState:function(){var n=this._focusTarget();this._detachFocusEvents(),this._toggleFocusClass(!1),n.removeAttr("tabindex"),this._keyboardProcessor&&this._keyboardProcessor.dispose()},_attachHoverEvents:function(){var t=this,r=t._activeStateUnit,u=y.addNamespace(p.start,k),f=y.addNamespace(p.end,k),e;if(t._eventBindingTarget().off(u,r).off(f,r),t.option("hoverStateEnabled")){e=new i(function(n){t._hoverStartHandler(n.event);var i=n.element;t._refreshHoveredElement(i)});t._eventBindingTarget().on(u,r,function(t){e.execute({element:n(t.target),event:t})}).on(f,r,function(n){t._hoverEndHandler(n),t._forgetHoveredElement()})}else t._toggleHoverClass(!1)},_hoverStartHandler:n.noop,_hoverEndHandler:n.noop,_attachFeedbackEvents:function(){var t=this,r=t._activeStateUnit,o=y.addNamespace(w.active,k),s=y.addNamespace(w.inactive,k),u,f,e;if(t._eventBindingTarget().off(o,r).off(s,r),t.option("activeStateEnabled")){e=function(n){var i=n.element,r=n.value,u=n.jQueryEvent;t._toggleActiveState(i,r,u)};t._eventBindingTarget().on(o,r,{timeout:t._feedbackShowTimeout},function(t){u=u||new i(e),u.execute({element:n(t.currentTarget),value:!0,jQueryEvent:t})}).on(s,r,{timeout:t._feedbackHideTimeout},function(t){f=f||new i(e,{excludeValidators:["disabled","readOnly"]}),f.execute({element:n(t.currentTarget),value:!1,jQueryEvent:t})})}},_toggleActiveState:function(n,t){this._toggleHoverClass(!t),n.toggleClass(tt,t)},_refreshHoveredElement:function(n){var t=this._activeStateUnit||this._eventBindingTarget();this._forgetHoveredElement(),this._hoveredElement=n.closest(t),this._toggleHoverClass(!0)},_forgetHoveredElement:function(){this._toggleHoverClass(!1),delete this._hoveredElement},_toggleHoverClass:function(n){this._hoveredElement&&this._hoveredElement.toggleClass(rt,n&&this.option("hoverStateEnabled"))},_toggleDisabledState:function(n){this.element().toggleClass(d,Boolean(n)),this._toggleHoverClass(!n),this.setAria("disabled",n||undefined)},_setWidgetOption:function(t,i){var r,u,f;if(this[t]){if(n.isPlainObject(i[0])){n.each(i[0],n.proxy(function(n,i){this._setWidgetOption(t,[n,i])},this));return}r=i[0],u=i[1],i.length===1&&(u=this.option(r)),f=this[t+"OptionMap"],this[t].option(f?f(r):r,u)}},_createComponent:function(n,t,i){return i=i||{},this._extendConfig(i,{templateProvider:this.option("templateProvider"),_templates:this.option("_templates")}),this.callBase(n,t,i)},_optionChanged:function(n){switch(n.name){case"disabled":this._toggleDisabledState(n.value),this._refreshFocusState();break;case"hint":this._renderHint();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents();break;case"tabIndex":case"_keyboardProcessor":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":break;case"accessKey":this._renderAccessKey();break;case"visible":var t=n.value;this._toggleVisibility(t),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(n.value?"shown":"hiding");break;case"onContentReady":this._initContentReadyAction();break;case"_templates":case"templateProvider":break;default:this.callBase(n)}},_isVisible:function(){return this.callBase()&&this.option("visible")},beginUpdate:function(){this._ready(!1),this.callBase()},endUpdate:function(){this.callBase(),this._initialized&&this._ready(!0)},_ready:function(n){if(arguments.length===0)return this._isReady;this._isReady=n},setAria:function(){var t=function(t){var u=n.inArray(t.name,["role","id"])+1?t.name:"aria-"+t.name,i=t.value;i=i===null||i===undefined?undefined:i.toString(),r.toggleAttr(t.target,u,i)},i;n.isPlainObject(arguments[0])?(i=arguments[1]||this._getAriaTarget(),n.each(arguments[0],function(n,r){t({name:n,value:r,target:i})})):t({name:arguments[0],value:arguments[1],target:arguments[2]||this._getAriaTarget()})},isReady:function(){return this._ready()},repaint:function(){this._refresh()},focus:function(){this._focusTarget().focus()},registerKeyHandler:function(t,i){var u=this._supportedKeys(),r={};r[t]=i,this._supportedKeys=function(){return n.extend(u,r)}}})}),DevExpress.define("/ui/ui.validationMixin",["jquery"],function(){return{_findGroup:function(){var n=this.option("validationGroup"),t;return n||(t=this.element().parents(".dx-validationgroup:first"),n=t.length?t.dxValidationGroup("instance"):this._modelByElement(this.element())),n}}}),DevExpress.define("/ui/ui.editor",["jquery","/ui/uiNamespace","/utils/utils.common","/ui/ui.themes","/ui/ui.widget","/ui/ui.validationMixin"],function(n,t,i,r,u,f){var e="dx-state-readonly",o="dx-invalid",s="dx-invalid-message",h="dx-invalid-message-auto",c="dx-invalid-message-always";return u.inherit({_init:function(){this.callBase(),this.validationRequest=n.Callbacks();var t=this.element();if(t){t.data("dx-validation-target",this);this.on("disposing",function(){t.data("dx-validation-target",null)})}},_getDefaultOptions:function(){return n.extend(this.callBase(),{value:null,onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationMessageMode:"auto",validationTooltipOffset:{h:0,v:-10}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var n=(r.current()||"").split(".")[0];return n==="android5"},options:{validationTooltipOffset:{v:-18}}},{device:function(){var n=(r.current()||"").split(".")[0];return n==="win10"},options:{validationTooltipOffset:{v:-4}}}])},_attachKeyboardEvents:function(){this.option("readOnly")||(this.callBase.apply(this,arguments),this._attachChildKeyboardEvents())},_attachChildKeyboardEvents:n.noop,_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{validationError:!0})},_createValueChangeAction:function(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})},_suppressValueChangeAction:function(){this._valueChangeActionSuppressed=!0},_resumeValueChangeAction:function(){this._valueChangeActionSuppressed=!1},_render:function(){this._renderValidationState(),this._toggleReadOnlyState(),this.callBase()},_raiseValueChangeAction:function(n,t){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(n,t))},_valueChangeArgs:function(n,t){return{value:n,previousValue:t,jQueryEvent:this._valueChangeEventInstance}},_saveValueChangeEvent:function(n){this._valueChangeEventInstance=n},_renderValidationState:function(){var t=this.option("isValid"),i=this.option("validationError"),u=this.option("validationMessageMode"),r=this.element();r.toggleClass(o,!t),this.setAria("invalid",!t||undefined),this._$validationMessage&&(this._$validationMessage.remove(),this._$validationMessage=null),!t&&i&&i.message&&(this._$validationMessage=n("<div/>",{"class":s}).text(i.message).appendTo(r),this._createComponent(this._$validationMessage,"dxTooltip",{target:this._getValidationTooltipTarget(),container:r,position:this._getValidationTooltipPosition("below"),closeOnOutsideClick:!1,closeOnTargetScroll:!1,animation:null,visible:!0}),this._$validationMessage.toggleClass(h,u==="auto").toggleClass(c,u==="always"))},_getValidationTooltipTarget:function(){return this.element()},_getValidationTooltipPosition:function(n){var r=this.option("rtlEnabled"),u=i.getDefaultAlignment(r),f=this.option("validationTooltipOffset"),t={h:f.h,v:f.v},e=n==="below"?[" top"," bottom"]:[" bottom"," top"];return r&&(t.h=-t.h),n!=="below"&&(t.v=-t.v),{offset:t,my:u+e[0],at:u+e[1],collision:"none"}},_toggleReadOnlyState:function(){this.element().toggleClass(e,this.option("readOnly")),this.setAria("readonly",this.option("readOnly")||undefined)},_optionChanged:function(n){switch(n.name){case"onValueChanged":this._createValueChangeAction();break;case"isValid":case"validationError":case"validationMessageMode":this._renderValidationState();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":this._valueChangeActionSuppressed||(this._raiseValueChangeAction(n.value,n.previousValue),this._saveValueChangeEvent(undefined)),n.value!=n.previousValue&&this.validationRequest.fire({value:n.value,editor:this});break;default:this.callBase(n)}},reset:function(){this.option("value",null)}}).include(f)}),DevExpress.define("/ui/ui.errors",["/utils/utils.error","/errors"],function(n,t){return n(t.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' must be inheritor of DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' must be inheritor of DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' is not exists",E1007:"State storing can not be provided due to the restrictions of your browser",E1010:"A template should contain dxTextBox widget",E1011:"You have to implement 'remove' method in dataStore used by dxList to be able to delete items",E1012:"Editing type '{0}' with name '{1}' not supported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called when using a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"Type can not be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:"Markers option should be an array",E1023:"Routes option should be an array",E1024:"Google provider cannot be used in WinJS application",E1025:"This layout is too complex to render",E1026:"The 'custom' value is set to a summary item's summaryType option, but a function for calculating the custom summary is not assigned to the grid's calculateCustomSummary option",E1030:"Unknown dxScrollView refresh strategy: '{0}'",E1031:"Unknown subscription is detected in the dxScheduler widget: '{0}'",E1032:"Unknown start date is detected in an appointment of the dxScheduler widget: '{0}'",E1033:"Unknown step is specified for the scheduler's navigator: '{0}'",E1034:"The current browser does not implement an API required for saving files",E1035:"The editor could not be created because of the internal error: {0}",E1036:"Validation rules are not defined for any form item",W1001:"Key option can not be modified after initialization",W1002:"Item '{0}' you are trying to select does not exist",W1003:"Group with key '{0}' in which you are trying to select items does not exist",W1004:"Item '{0}' you are trying to select in group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns."})}),DevExpress.define("/ui/ui.actionExecutors",["jquery","/action"],function(n,t){var i=function(n){return function(t){if(t.args.length){var i=t.args[0],r=i[t.validatingTargetName]||i.element;r&&n(r)&&(t.cancel=!0)}}};t.registerExecutor({designMode:{validate:function(n){DevExpress.designMode&&(n.cancel=!0)}},disabled:{validate:i(function(n){return n.is(".dx-state-disabled, .dx-state-disabled *")})},readOnly:{validate:i(function(n){return n.is(".dx-state-readonly, .dx-state-readonly *")})}})}),DevExpress.define("/ui/ui.dialog",["jquery","/component","/action","/ui/ui.errors","/utils/utils.dom","/utils/utils.viewPort","/devices","/ui/ui.themes"],function(n,t,i,r,u,f,e,o){var a={text:"OK",onClick:function(){return!0}},s="dx-dialog",v=s+"-wrapper",y=s+"-root",p=s+"-content",w=s+"-message",b=s+"-buttons",k=s+"-button",h=t.inherit({ctor:function(n,t){this.callBase(t)},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{width:276}},{device:{platform:"android"},options:{lWidth:"60%",pWidth:"80%"}},{device:function(n){var t=(o.current()||"").split(".")[0];return!n.phone&&t==="win8"},options:{width:function(){return n(window).width()}}},{device:function(n){var t=(o.current()||"").split(".")[0];return n.phone&&t==="win8"},options:{position:{my:"top center",at:"top center",of:window,offset:"0 0"}}}])}}),d=function(t){function it(){return o.show(),c.promise()}function g(n){c.resolve(n),o.hide().done(function(){o.element().remove()})}var c,l,o;if(!DevExpress.ui.dxPopup)throw r.Error("E0018");c=n.Deferred(),l=(new h).option(),t=n.extend(l,t);var nt=n("<div>").addClass(s).appendTo(f.value()),tt=n("<div>").addClass(w).html(String(t.message)),d=[];return n.each(t.buttons||[a],function(){var n=new i(this.onClick,{context:o});d.push({toolbar:"bottom",location:e.current().android?"after":"center",widget:"button",options:{text:this.text,onClick:function(){var t=n.execute(arguments);g(t)}}})}),o=nt.dxPopup({title:t.title||this.title,showTitle:function(){return t.showTitle===undefined?!0:t.showTitle}(),height:"auto",width:function(){var u=n(window).height()>n(window).width(),r=(u?"p":"l")+"Width",i=t.hasOwnProperty(r)?t[r]:t.width;return n.isFunction(i)?i():i},showCloseButton:t.showCloseButton||!1,focusStateEnabled:!1,onContentReady:function(n){n.component.content().addClass(p).append(tt)},onShowing:function(n){n.component.bottomToolbar().addClass(b).find(".dx-button").addClass(k),u.resetActiveElement()},onShown:function(n){n.component.bottomToolbar().find(".dx-button").first().focus()},onHiding:function(){c.reject()},buttons:d,animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},rtlEnabled:DevExpress.rtlEnabled,boundaryOffset:{h:10,v:0}}).dxPopup("instance"),o._wrapper().addClass(v),t.position&&o.option("position",t.position),o._wrapper().addClass(y),{show:it,hide:g}},c=function(t,i,r){var u,f=n.isPlainObject(t)?t:{title:i,message:t,showTitle:r};return u=this.custom(f),u.show()},g=function(t,i,r){var u,f=n.isPlainObject(t)?t:{title:i,message:t,showTitle:r,buttons:[{text:Globalize.localize("Yes"),onClick:function(){return!0}},{text:Globalize.localize("No"),onClick:function(){return!1}}]};return u=this.custom(f),u.show()},l=null,nt=function(t,r,u){var e=n.isPlainObject(t)?t:{message:t},o;if(!DevExpress.ui.dxToast){c(e.message);return}o=e.onHidden,n.extend(e,{type:r,displayTime:u,onHidden:function(n){n.element.remove(),new i(o,{context:n.model}).execute(arguments)}}),l=n("<div>").appendTo(f.value()).dxToast(e),l.dxToast("instance").show()};return{FakeDialogComponent:h,notify:nt,custom:d,alert:c,confirm:g}}),DevExpress.define("/ui/templates/ui.templateBase",["jquery","/utils/utils.dom","/class"],function(n,t,i){var f=t.triggerShownEvent,e=i.abstract,r=n.Callbacks(),u=i.inherit({ctor:function(t,i){this._element=n(t),this._owner=i},owner:function(){return this._owner},render:function(n,t,i){n instanceof jQuery&&(t=n,n=undefined),t&&(n=this._prepareDataForContainer(n,t));var u=this._renderCore(n,i,t);return r.fire(u),this._ensureResultInContainer(u,t),u},_ensureResultInContainer:function(t,i){var r,u;i&&((r=n.contains(i.get(0),t.get(0)),i.append(t),r)||(u=n.contains(document.body,i.get(0)),u)&&f(t))},source:function(){return this._element.clone()},_prepareDataForContainer:function(n){return n},_renderCore:e,dispose:function(){this._owner=null}});return u.renderedCallbacks=r,u}),DevExpress.define("/ui/templates/ui.template.function",["jquery","/ui/templates/ui.templateBase","/utils/utils.dom"],function(n,t,i){return t.inherit({ctor:function(t,i){this.callBase(n(),i),this._render=t},_renderCore:function(n,t,r){return i.normalizeTemplateElement(this._render(n,t,r))}})}),DevExpress.define("/ui/templates/ui.template.dynamic",["jquery","/ui/templates/ui.templateBase"],function(n,t){return t.inherit({ctor:function(t,i){this.callBase(n(),i),this._compileFunction=t},_renderCore:function(n,t,i){n===undefined&&t===undefined&&(n=i,i=undefined);var r=t===undefined?this._compileFunction(n,i):this._compileFunction(n,t,i),u=r.render(n,i,t);return r.owner()===this&&r.dispose(),u}})}),DevExpress.define("/ui/templates/ui.template.empty",["jquery","/ui/templates/ui.templateBase"],function(n,t){return t.inherit({ctor:function(t){this.callBase(n(),t)},_renderCore:function(){return n()}})}),DevExpress.define("/ui/templates/ui.template.move",["jquery","/ui/templates/ui.templateBase"],function(n,t){return t.inherit({_renderCore:function(){return this._element}})}),DevExpress.define("/ui/templates/ui.templateProviderBase",["jquery","/class"],function(n,t){var i=t.abstract;return t.inherit({ctor:function(){this.widgetTemplatesCache={}},createTemplate:i,getTemplates:function(n){return this._getWidgetTemplates(n.constructor)},_getWidgetTemplates:function(n){return n.publicName?this._getCachedWidgetTemplates(n):{}},_getCachedWidgetTemplates:function(t){var i=t.publicName(),r=this.widgetTemplatesCache;return r[i]||(r[i]=n.extend({},this._getWidgetTemplates(t.parent),this._templatesForWidget(i))),r[i]},_templatesForWidget:i})}),DevExpress.define("/ui/events/ui.events.eventRegistrator",["jquery","/utils/utils.memorizedCallbacks"],function(n,t){var r=n.event,e=r.fixHooks,o=n.event.special,s={props:r.mouseHooks.props.concat(["pointerType","pointerId","pointers"])},i=new t,u=function(t,r){var u={};"noBubble"in r&&(u.noBubble=r.noBubble),"bindType"in r&&(u.bindType=r.bindType),"delegateType"in r&&(u.delegateType=r.delegateType),n.each(["setup","teardown","add","remove","trigger","handle","_default","dispose"],function(t,i){r[i]&&(u[i]=function(){var t=n.makeArray(arguments);return t.unshift(this),r[i].apply(r,t)})}),e[t]=s,i.fire(t,u)},f;return u.callbacks=i,f=function(n,t){o[n]=t},i.add(f),u}),DevExpress.define("/ui/events/ui.events.utils",["jquery","/ui/ui.errors"],function(n){var r=n.event,l=r.fixHooks,i=function(){var t={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i};return function(i){var r="other";return n.each(t,function(n){if(this.test(i.type))return r=n,!1}),r}}(),u=function(n){return i(n)==="dx"},a=function(n){return i(n)==="mouse"},e=function(n){return i(n)==="touch"},f=function(n){return i(n)==="pointer"},o=function(n){return a(n)||(f(n)||u(n))&&n.pointerType==="mouse"},s=function(n){return e(n)||(f(n)||u(n))&&n.pointerType==="touch"},v=function(n){return i(n)==="keyboard"},y=function(n){return n.screenX===0&&!n.offsetX&&n.pageX===0},p=function(n){return{x:n.pageX,y:n.pageY,time:n.timeStamp}},w=function(n,t){return{x:t.x-n.x,y:t.y-n.y,time:t.time-n.time||1}},b=function(n){return e(n)?(n.originalEvent.touches||[]).length:u(n)?(n.pointers||[]).length:0},k=function(t){var i=n(t.target),r=i.is("input, textarea, select");return i.is(".dx-skip-gesture-event *, .dx-skip-gesture-event")?!0:t.type==="dxmousewheel"?i.is("input[type='number'], textarea, select")&&i.is(":focus"):o(t)?r||t.which>1:s(t)?r&&i.is(":focus"):void 0},h=function(t,i){for(var u=n.Event(t),f=l[t.type]||r.mouseHooks,o=f.props?r.props.concat(f.props):r.props,s=o.length,e;s--;)e=o[s],u[e]=t[e];return i&&n.extend(u,i),f.filter?f.filter(u,t):u},d=function(n){var t=h(n.originalEvent,n);return r.trigger(t,null,n.delegateTarget||t.target),t},c=function(t,i){return typeof t=="string"?c(t.split(/\s+/g),i):(n.each(t,function(n,r){t[n]=r+"."+i}),t.join(" "))};return{eventSource:i,isPointerEvent:f,isMouseEvent:o,isTouchEvent:s,isKeyboardEvent:v,isFakeClickEvent:y,hasTouches:b,eventData:p,eventDelta:w,needSkipEvent:k,createEvent:h,fireEvent:d,addNamespace:c}}),DevExpress.define("/ui/events/ui.events.remove",["jquery","/ui/events/ui.events.eventRegistrator"],function(n,t){var i="dxremove",r="dxRemoveEvent",u=n.cleanData;return n.cleanData=function(t){for(var e,f=0;f<t.length;f++)e=n(t[f]),e.prop(r)&&(e.removeProp(r),e.triggerHandler(i));return u(t)},t(i,{noBubble:!0,setup:function(t){n(t).prop(r,!0)}}),{name:i}}),DevExpress.define("/ui/events/pointer/ui.events.pointer.touchHooks",["jquery"],function(n){var t={filter:function(t,i){var r=i.touches.length?i.touches:i.changedTouches;return n.each(["pageX","pageY","screenX","screenY","clientX","clientY"],function(){t[this]=r[0][this]}),t},props:n.event.mouseHooks.props.concat(["touches","changedTouches","targetTouches","detail","result","originalTarget","charCode","prevValue"])};n.each(["touchstart","touchmove","touchend","touchcancel"],function(){n.event.fixHooks[this]=t})}),DevExpress.define("/ui/events/pointer/ui.events.pointer.mspointerHooks",["jquery"],function(n){var t={2:"touch",3:"pen",4:"mouse"},i={filter:function(i,r){var u=r.pointerType;return n.isNumeric(u)&&(i.pointerType=t[u]),i},props:n.event.mouseHooks.props.concat(["pointerId","pointerType","originalTarget","width","height","pressure","result","tiltX","charCode","tiltY","detail","isPrimary","prevValue"])};n.each(["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel","MSPointerOver","MSPointerOut","mouseenter","mouseleave","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","pointerenter","pointerleave"],function(){n.event.fixHooks[this]=i})}),DevExpress.define("/ui/events/pointer/ui.events.pointer.base",["jquery","/utils/utils.browser","/class","/ui/events/ui.events.utils"],function(n,t,i,r){var u="dxPointerEvents";return i.inherit({ctor:function(n,t){this._eventName=n,this._originalEvents=r.addNamespace(t,u),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble:function(){var n=this._eventName;return n==="dxpointerenter"||n==="dxpointerleave"},_handler:function(n){var i=this._getDelegateTarget(n);return this._fireEvent({type:this._eventName,pointerType:n.pointerType||r.eventSource(n),originalEvent:n,delegateTarget:i,timeStamp:t.mozilla?+new Date:n.timeStamp})},_getDelegateTarget:function(n){var t;return this.noBubble&&(t=n.delegateTarget),t},_fireEvent:function(n){return r.fireEvent(n)},setup:function(){return!0},add:function(t,i){if(this._handlerCount<=0||this.noBubble){this._selector=i.selector,t=this.noBubble?t:document;var r=this;n(t).on(this._originalEvents,this._selector,function(n){r._handler(n)})}this.noBubble||this._handlerCount++},remove:function(){this.noBubble||this._handlerCount--},teardown:function(t){(!this._handlerCount||this.noBubble)&&(t=this.noBubble?t:document,n(t).off(this._originalEvents,this._selector))},dispose:function(t){t=this.noBubble?t:document,n(t).off(this._originalEvents)}})}),DevExpress.define("/ui/events/pointer/ui.events.pointer.observer",[],function(){var n=function(n,t){n=n.split(" "),$.each(n,function(n,i){document.addEventListener?document.addEventListener(i,t,!0):document.attachEvent("on"+i,t)})};return function(t,i){var r=[],u=function(n){var t=-1;return $.each(r,function(r,u){return i(n,u)?(t=r,!1):!0}),t},e=function(n){u(n)===-1&&r.push(n)},f=function(n){var t=u(n);t>-1&&r.splice(t,1)},o=function(n){r[u(n)]=n};n(t.dxpointerdown,e),n(t.dxpointermove,o),n(t.dxpointerup,f),n(t.dxpointercancel,f),this.pointers=function(){return r},this.reset=function(){r=[]}}}),DevExpress.define("/ui/events/pointer/ui.events.pointer.mouse",["jquery","/ui/events/pointer/ui.events.pointer.base","/ui/events/pointer/ui.events.pointer.observer"],function(n,t,i){var f={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},e=function(n){return n.pointerId=1,{pointers:u.pointers(),pointerId:1}},u,o=!1,s=function(){o||(u=new i(f,function(){return!0}),o=!0)},r=t.inherit({ctor:function(){this.callBase.apply(this,arguments),s()},_fireEvent:function(t){return this.callBase(n.extend(e(t.originalEvent),t))}});return r.map=f,r.normalize=e,r.activate=s,r.resetObserver=function(){u.reset()},r}),DevExpress.define("/ui/events/pointer/ui.events.pointer.touch",["jquery","/devices","/ui/events/pointer/ui.events.pointer.base","/ui/events/pointer/ui.events.pointer.touchHooks"],function(n,t,i){var f={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},u=function(t){var i=[];return n.each(t.touches,function(t,r){i.push(n.extend({pointerId:r.identifier},r))}),{pointers:i,pointerId:t.changedTouches[0].identifier}},e=function(n){return t.real().platform==="ios"&&(n==="dxpointerdown"||n==="dxpointerup")},r=i.inherit({ctor:function(){this.callBase.apply(this,arguments),this._pointerId=0},_handler:function(n){if(e(this._eventName)){var t=n.changedTouches[0];if(this._pointerId===t.identifier&&this._pointerId!==0)return;this._pointerId=t.identifier}return this.callBase.apply(this,arguments)},_fireEvent:function(t){return this.callBase(n.extend(u(t.originalEvent),t))}});return r.map=f,r.normalize=u,r}),DevExpress.define("/ui/events/pointer/ui.events.pointer.mouseAndTouch",["jquery","/ui/events/pointer/ui.events.pointer.base","/ui/events/pointer/ui.events.pointer.mouse","/ui/events/pointer/ui.events.pointer.touch","/ui/events/ui.events.utils"],function(n,t,i,r,u){var o={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},e=!1,s=function(){e||(i.activate(),e=!0)},f=t.inherit({EVENT_LOCK_TIMEOUT:100,ctor:function(){this.callBase.apply(this,arguments),s()},_handler:function(n){var t=u.isMouseEvent(n),i;if(t||(this._skipNextEvents=!0),!t||!this._mouseLocked){if(t&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer),i=this,this._unlockMouseTimer=setTimeout(function(){i._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(n)}},_fireEvent:function(t){var f=u.isMouseEvent(t.originalEvent),e=f?i.normalize:r.normalize;return this.callBase(n.extend(e(t.originalEvent),t))},dispose:function(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});return f.map=o,f.resetObserver=i.resetObserver,f}),DevExpress.define("/ui/events/pointer/ui.events.pointer.mspointer",["jquery","/ui/events/pointer/ui.events.pointer.base","/ui/events/pointer/ui.events.pointer.observer","/ui/events/pointer/ui.events.pointer.mspointerHooks"],function(n,t,i){var f={dxpointerdown:"MSPointerDown pointerdown",dxpointermove:"MSPointerMove pointermove",dxpointerup:"MSPointerUp pointerup",dxpointercancel:"MSPointerCancel pointercancel",dxpointerover:"MSPointerOver pointerover",dxpointerout:"MSPointerOut pointerout",dxpointerenter:"MSPointerEnter pointerenter",dxpointerleave:"MSPointerLeave pointerleave"},r,e=!1,o=function(){e||(r=new i(f,function(n,t){return n.pointerId===t.pointerId}),e=!0)},u=t.inherit({ctor:function(){this.callBase.apply(this,arguments),o()},_fireEvent:function(t){return this.callBase(n.extend({pointers:r.pointers(),pointerId:t.originalEvent.pointerId},t))}});return u.map=f,u.resetObserver=function(){r.reset()},u}),DevExpress.define("/ui/events/pointer/ui.events.pointer",["jquery","/utils/utils.support","/devices","/ui/events/ui.events.eventRegistrator","/ui/events/pointer/ui.events.pointer.touch","/ui/events/pointer/ui.events.pointer.mspointer","/ui/events/pointer/ui.events.pointer.mouse","/ui/events/pointer/ui.events.pointer.mouseAndTouch"],function(n,t,i,r,u,f,e,o){var s=function(){if(t.pointer)return f;var n=i.real();return t.touch&&!(n.tablet||n.phone)?o:t.touch?u:e}();return n.each(s.map,function(n,t){r(n,new s(n,t))}),{down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"}}),DevExpress.define("/ui/events/ui.events.wheel",["jquery","/ui/events/ui.events.eventRegistrator","/ui/events/ui.events.utils"],function(n,t,i){var u="dxmousewheel",f="dxWheel",e,r;return n.event.fixHooks.wheel=n.event.mouseHooks,e=document.onmousewheel!==undefined?"mousewheel":"wheel",r={setup:function(t){var o=n(t);o.on(i.addNamespace(e,f),n.proxy(r._wheelHandler,r))},teardown:function(t){var i=n(t);i.off("."+f)},_wheelHandler:function(n){var t=this._getWheelDelta(n.originalEvent);i.fireEvent({type:u,originalEvent:n,delta:t,pointerType:"mouse"}),n.stopPropagation()},_getWheelDelta:function(n){return n.wheelDelta?n.wheelDelta:-n.deltaY*30}},t(u,r),{name:u}}),DevExpress.define("/ui/events/ui.events.hover",["jquery","/class","/devices","/ui/events/ui.events.eventRegistrator","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer"],function(n,t,i,r,u,f){var h="dxHoverStart",e="dxhoverstart",c=u.addNamespace(f.enter,h),l="dxHoverEnd",o="dxhoverend",a=u.addNamespace(f.leave,l),s=t.inherit({noBubble:!0,add:function(t,i){var r=this,u=n(t);u.off(this._originalEventName).on(this._originalEventName,i.selector,function(n){r._handler(n)})},_handler:function(n){u.isTouchEvent(n)||i.isSimulator()||u.fireEvent({type:this._eventName,originalEvent:n,delegateTarget:n.delegateTarget})},teardown:function(t){n(t).off(this._originalEventName)}}),v=s.inherit({ctor:function(){this._eventName=e,this._originalEventName=c,this._isMouseDown=!1},_handler:function(n){var t=n.pointers||[];t.length||this.callBase(n)}}),y=s.inherit({ctor:function(){this._eventName=o,this._originalEventName=a}});return r(e,new v),r(o,new y),{start:e,end:o}}),DevExpress.define("/ui/events/ui.events.emitterRegistrator",["jquery","/class","/ui/events/ui.events.eventRegistrator","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.emitter.gesture","/ui/events/ui.events.wheel"],function(n,t,i,r,u,f,e){var s="dxEventManager",o="dxEmitter",l=t.inherit({ctor:function(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=n.proxy(this._cancelHandler,this),this._proxiedAcceptHandler=n.proxy(this._acceptHandler,this)},_attachHandlers:function(){n(document).on(r.addNamespace(u.down,s),n.proxy(this._pointerDownHandler,this)).on(r.addNamespace(u.move,s),n.proxy(this._pointerMoveHandler,this)).on(r.addNamespace([u.up,u.cancel].join(" "),s),n.proxy(this._pointerUpHandler,this)).on(r.addNamespace(e.name,s),n.proxy(this._mouseWheelHandler,this))},_eachEmitter:function(n){for(var i=this._activeEmitters||[],t=0,r;i.length>t;){if(r=i[t],n(r)===!1)break;i[t]===r&&t++}},_applyToEmitters:function(n,t){this._eachEmitter(function(i){i[n].call(i,t)})},reset:function(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter:function(n){this._proxiedCancelHandler(n)},_pointerDownHandler:function(n){r.isMouseEvent(n)&&n.which>1||this._updateEmitters(n)},_updateEmitters:function(n){this._isSetChanged(n)&&(this._cleanEmitters(n),this._fetchEmitters(n))},_isSetChanged:function(t){var r=this._closestEmitter(t),u=this._emittersSet||[],i=r.length!==u.length;return n.each(r,function(n,t){return i=i||u[n]!==t,!i}),this._emittersSet=r,i},_closestEmitter:function(t){function e(n,i){!!i&&i.validatePointers(t)&&i.validate(t)&&(i.addCancelCallback(r._proxiedCancelHandler),i.addAcceptCallback(r._proxiedAcceptHandler),u.push(i))}for(var r=this,u=[],i=n(t.target),f;i.length;)f=n.data(i.get(0),o)||[],n.each(f,e),i=i.parent();return u},_acceptHandler:function(n,t){var i=this;this._eachEmitter(function(r){r!==n&&i._cancelEmitter(r,t)})},_cancelHandler:function(n,t){this._cancelEmitter(n,t)},_cancelEmitter:function(t,i){var u=this._activeEmitters,r;i?t.cancel(i):t.reset(),t.removeCancelCallback(),t.removeAcceptCallback(),r=n.inArray(t,u),r>-1&&u.splice(r,1)},_cleanEmitters:function(n){this._applyToEmitters("end",n),this.reset(n)},_fetchEmitters:function(n){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",n)},_pointerMoveHandler:function(n){this._applyToEmitters("move",n)},_pointerUpHandler:function(n){this._updateEmitters(n)},_mouseWheelHandler:function(n){this._allowInterruptionByMousewheel()&&(n.pointers=[null],this._pointerDownHandler(n),this._adjustWheelEvent(n),this._pointerMoveHandler(n),n.pointers=[],this._pointerUpHandler(n))},_allowInterruptionByMousewheel:function(){var n=!0;return this._eachEmitter(function(t){return n=t.allowInterruptionByMousewheel()&&n}),n},_adjustWheelEvent:function(n){var t=null;if(this._eachEmitter(function(i){if(i instanceof f){var r=i.getDirection(n);if(r!=="horizontal"&&!n.shiftKey||r!=="vertical"&&n.shiftKey)return t=i,!1}}),t){var i=t.getDirection(n),r=i==="both"&&!n.shiftKey||i==="vertical",u=r?"pageY":"pageX";n[u]+=n.delta}},isActive:function(n){var t=!1;return this._eachEmitter(function(i){t=t||i.getElement().is(n)}),t}}),c=new l,h="dxEmitterSubscription";return function(t){var f=t.emitter,r=t.events[0],u=t.events;n.each(u,function(e,s){i(s,{noBubble:!t.bubble,setup:function(t){var e=n.data(t,h)||{},u=n.data(t,o)||{},c=u[r]||new f(t);e[s]=!0,u[r]=c,n.data(t,o,u),n.data(t,h,e)},add:function(t,i){var u=n.data(t,o),f=u[r];f.configurate(n.extend({delegateSelector:i.selector},i.data),i.type)},teardown:function(t){var e=n.data(t,h),l=n.data(t,o),f=l[r],i;delete e[s],i=!0,n.each(u,function(n,t){return i=i&&!e[t]}),i&&(c.isActive(t)&&c.resetEmitter(f),f&&f.dispose(),delete l[r])}})})}}),DevExpress.define("/ui/events/ui.events.emitter",["jquery","/class","/ui/events/ui.events.utils"],function(n,t,i){return t.inherit({ctor:function(t){this._$element=n(t),this._cancelCallback=n.Callbacks(),this._acceptCallback=n.Callbacks()},getElement:function(){return this._$element},validate:function(n){return n.type!=="dxmousewheel"},validatePointers:function(n){return i.hasTouches(n)===1},allowInterruptionByMousewheel:function(){return!0},configurate:function(t){n.extend(this,t)},addCancelCallback:function(n){this._cancelCallback.add(n)},removeCancelCallback:function(){this._cancelCallback.empty()},_cancel:function(n){this._cancelCallback.fire(this,n)},addAcceptCallback:function(n){this._acceptCallback.add(n)},removeAcceptCallback:function(){this._acceptCallback.empty()},_accept:function(n){this._acceptCallback.fire(this,n)},_requestAccept:function(n){this._acceptRequestEvent=n},_forgetAccept:function(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:n.noop,move:n.noop,end:n.noop,cancel:n.noop,reset:function(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent:function(t,r,u){var f=n.extend({type:t,originalEvent:r,target:this._getEmitterTarget(r),delegateTarget:this.getElement().get(0)},u);return r=i.fireEvent(f),r.cancel&&this._cancel(r),r},_getEmitterTarget:function(t){return(this.delegateSelector?n(t.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:n.noop})}),DevExpress.define("/ui/events/ui.events.emitter.gesture",["jquery","/devices","/utils/utils.support","/utils/utils.browser","/utils/utils.dom","/utils/utils.math","/utils/utils.common","/ui/events/ui.events.utils","/ui/events/ui.events.emitter"],function(n,t,i,r,u,f,e,o,s){var y=f.sign,p=Math.abs,l=0,a=1,h=2,c=10,b=0,k=180,w=function(n){return n&&n.type==="dxmousewheel"},d=function(){var n=i.styleProp("pointer-events"),t=r.msie&&parseInt(r.version,10)<11;return n&&!t},g=function(){var r="dx-gesture-cover",u=t.real().platform==="generic",i;return!d()||!u?n.noop:(i=n("<div>").addClass(r).css("pointerEvents","none"),n(function(){i.appendTo("body")}),function(n,t){i.css("pointerEvents",n?"all":"none"),n&&i.css("cursor",t)})}(),v=s.inherit({configurate:function(n){this.getElement().css("msTouchAction",n.immediate?"pinch-zoom":""),this.callBase(n)},allowInterruptionByMousewheel:function(){return this._stage!==h},getDirection:function(){return this.direction},_cancel:function(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=l},start:function(n){if(o.needSkipEvent(n)){this._cancel(n);return}this._startEvent=o.createEvent(n),this._startEventData=o.eventData(n),this._prevEventData=this._startEventData,this._stage=a,this._init(n),this._setupImmediateTimer()},_setupImmediateTimer:function(){(clearTimeout(this._immediateTimer),this._immedeateAccepted=!1,this.immediate)&&(this._immediateTimer=setTimeout(n.proxy(function(){this._immedeateAccepted=!0},this),k))},move:function(n){if(this._stage===a&&this._directionConfirmed(n)){if(this._stage=h,this._resetActiveElement(),this._toggleGestureCover(!0,n),this._clearSelection(n),this._adjustStartEvent(n),this._start(this._startEvent),this._prevEventData=o.eventData(this._startEvent),this._stage===l)return;this._requestAccept(n),this._move(n),this._forgetAccept()}else this._stage===h&&(this._clearSelection(n),this._move(n));this._prevEventData=o.eventData(n)},_directionConfirmed:function(n){var i=this._getTouchBoundary(n),r=o.eventDelta(this._startEventData,o.eventData(n)),u=p(r.x),f=p(r.y),e=this._validateMove(i,u,f),s=this._validateMove(i,f,u),t=this.getDirection(n),h=t==="both"&&(e||s),c=t==="horizontal"&&e,l=t==="vertical"&&s;return h||c||l||this._immedeateAccepted},_validateMove:function(n,t,i){return t&&t>=n&&(this.immediate?t>=i:!0)},_getTouchBoundary:function(n){return this.immediate||w(n)?b:c},_adjustStartEvent:function(n){var t=this._getTouchBoundary(n),i=o.eventDelta(this._startEventData,o.eventData(n));this._startEvent.pageX+=y(i.x)*t,this._startEvent.pageY+=y(i.y)*t},_resetActiveElement:function(){t.real().platform==="ios"&&n(":focus",this.getElement()).length&&u.resetActiveElement()},_toggleGestureCover:function(n){var i=this._stage===h;i&&g(n,this.getElement().css("cursor"))},_clearSelection:function(n){w(n)||o.isTouchEvent(n)||u.clearSelection()},end:function(n){this._toggleGestureCover(!1,n),this._stage===h?this._end(n):this._stage===a&&this._stop(n),this._stage=l},dispose:function(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:n.noop,_start:n.noop,_move:n.noop,_stop:n.noop,_end:n.noop});return v.initialTouchBoundary=c,v.touchBoundary=function(n){if(e.isDefined(n)){c=n;return}return c},v}),DevExpress.define("/ui/events/ui.events.emitter.feedback",["jquery","/class","/utils/utils.common","/devices","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.emitter","/ui/events/ui.events.emitterRegistrator"],function(n,t,i,r,u,f,e,o){var h="dxactive",c="dxinactive",v=30,y=400,l=t.inherit({ctor:function(n,t){this._timeout=n,this._fire=t},start:function(){var n=this;this._schedule(function(){n.force()})},_schedule:function(n){this._timer=window.setTimeout(n,this._timeout)},stop:function(){clearTimeout(this._timer)},force:function(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired:function(){return this._fired}}),s,a=e.inherit({ctor:function(){this.callBase.apply(this,arguments),this._active=new l(0,n.noop),this._inactive=new l(0,n.noop)},configurate:function(n,t){switch(t){case h:n.activeTimeout=n.timeout;break;case c:n.inactiveTimeout=n.timeout}this.callBase(n)},start:function(t){if(s){var i=n.contains(this.getElement().get(0),s.getElement().get(0)),r=!s._active.fired();if(i&&r){this._cancel();return}s._inactive.force()}s=this,this._initEvents(t),this._active.start()},_initEvents:function(n){var t=this,f=this._getEmitterTarget(n),o=u.isMouseEvent(n),a=r.isSimulator(),e=a||!o,p=i.ensureDefined(this.activeTimeout,v),w=i.ensureDefined(this.inactiveTimeout,y);this._active=new l(e?p:0,function(){t._fireEvent(h,n,{target:f})}),this._inactive=new l(e?w:0,function(){t._fireEvent(c,n,{target:f}),s=null})},cancel:function(n){this.end(n)},end:function(n){var t=n.type!==f.up;t?this._active.stop():this._active.force(),this._inactive.start(),t&&this._inactive.force()},dispose:function(){this._active.stop(),this._inactive.stop(),this.callBase()},lockInactive:function(){return this._active.force(),this._inactive.stop(),s=null,this._cancel(),n.proxy(this._inactive.force,this._inactive)}});return a.lock=function(t){var i=s?s.lockInactive():n.noop;n.when(t).always(i)},o({emitter:a,events:[h,c]}),{lock:a.lock,active:h,inactive:c}}),function(n,t,i){var b=t.require("/errors"),u=t.require("/utils/utils.translator"),s=t.require("/utils/utils.animationFrame"),f=t.require("/utils/utils.support"),et=t.require("/utils/utils.position"),k=t.require("/ui/events/ui.events.remove"),d=t.require("/ui/events/ui.events.utils"),g=f.transitionEndEventName+".dxFX",e=d.addNamespace(k.name,"dxFX"),ot=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,st=/^([+-])=(.*)/i,o="dxAnimData",h="dxAnimQueue",r="transform",ht={initAnimation:function(t,i){t.css({transitionProperty:"none"}),typeof i.from=="string"?t.addClass(i.from):w(t,i.from);var u=this,r=n.Deferred(),f=i.cleanupWhen;i.transitionAnimation={deferred:r,finish:function(){u._finishTransition(t,i),f?n.when(r,f).always(function(){u._cleanup(t,i)}):u._cleanup(t,i),r.resolveWith(t,[i,t])}},this._completeAnimationCallback(t,i).done(function(){i.transitionAnimation.finish()}).fail(function(){r.rejectWith(t,[i,t])}),i.duration||i.transitionAnimation.finish(),t.css("transform"),t.css({transitionProperty:"all",transitionDelay:i.delay+"ms",transitionDuration:i.duration+"ms",transitionTimingFunction:i.easing})},animate:function(n,t){return this._startAnimation(n,t),t.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(i,r){var c=this,l=n.now()+r.delay,u=n.Deferred(),f=n.Deferred(),o=n.Deferred(),s,h;r.transitionAnimation.cleanup=function(){clearTimeout(s),clearTimeout(h),i.off(g),i.off(e)};i.one(g,function(){n.now()-l>=r.duration&&f.reject()}).off(e).on(e,function(){c.stop(i,r),u.reject()});return h=setTimeout(function(){s=setTimeout(function(){o.reject()},r.duration+r.delay+t.fx._simulatedTransitionEndDelay),n.when(f,o).fail(n.proxy(function(){u.resolve()},this))}),u.promise()},_startAnimation:function(n,t){typeof t.to=="string"?n[0].className+=" "+t.to:t.to&&w(n,t.to)},_finishTransition:function(n){n.css("transition","none")},_cleanup:function(n,t){t.transitionAnimation.cleanup(),typeof t.from=="string"&&(n.removeClass(t.from),n.removeClass(t.to))},stop:function(t,i,r){i&&(r?i.transitionAnimation.finish():(n.isPlainObject(i.to)&&n.each(i.to,function(n){t.css(n,t.css(n))}),this._finishTransition(t,i),this._cleanup(t,i)))}},nt={initAnimation:function(n,t){w(n,t.from)},animate:function(t,f){var o=n.Deferred(),e=this;return f?(n.each(f.to,function(n){f.from[n]===i&&(f.from[n]=e._normalizeValue(t.css(n)))}),f.to[r]&&(f.from[r]=e._parseTransform(f.from[r]),f.to[r]=e._parseTransform(f.to[r])),f.frameAnimation={to:f.to,from:f.from,currentValue:f.from,easing:yt(f.easing),duration:f.duration,startTime:(new Date).valueOf(),finish:function(){this.currentValue=this.to,this.draw(),s.cancel(f.frameAnimation.animationFrameId),o.resolve()},draw:function(){if(f.draw){f.draw(this.currentValue);return}var i=n.extend({},this.currentValue);i[r]&&(i[r]=n.map(i[r],function(n,t){return t==="translate"?u.getTranslateCss(n):t==="scale"?"scale("+n+")":t.substr(0,t.length-1)==="rotate"?t+"("+n+"deg)":void 0}).join(" ")),t.css(i)}},f.delay?(f.frameAnimation.startTime+=f.delay,f.frameAnimation.delayTimeout=setTimeout(function(){e._startAnimation(t,f)},f.delay)):e._startAnimation(t,f),o.promise()):o.reject().promise()},_startAnimation:function(n,t){n.off(e).on(e,function(){t.frameAnimation&&s.cancel(t.frameAnimation.animationFrameId)});this._animationStep(n,t)},_parseTransform:function(t){var i={};return n.each(t.match(/(\w|\d)+\([^\)]*\)\s*/g),function(n,t){var e=u.parseTranslate(t),f=t.match(/scale\((.+?)\)/),r=t.match(/(rotate.)\((.+)deg\)/);e&&(i.translate=e),f&&f[1]&&(i.scale=parseFloat(f[1])),r&&r[1]&&(i[r[1]]=parseFloat(r[2]))}),i},stop:function(n,t,i){var r=t&&t.frameAnimation;r&&(s.cancel(r.animationFrameId),clearTimeout(r.delayTimeout),i&&r.finish(),delete t.frameAnimation)},_animationStep:function(n,t){var i=t&&t.frameAnimation,r,u;if(i){if(r=(new Date).valueOf(),r>=i.startTime+i.duration){i.finish();return}i.currentValue=this._calcStepValue(i,r-i.startTime),i.draw(),u=this,i.animationFrameId=s.request(function(){u._animationStep(n,t)})}},_calcStepValue:function(t,i){var r=function(u,f){var e=n.isArray(f)?[]:{},o=function(r){var e=i/t.duration,o=i,s=1*u[r],h=f[r]-u[r],c=t.duration;return n.easing[t.easing](e,o,s,h,c)};return n.each(f,function(n,t){if(typeof t=="string"&&parseFloat(t,10)===!1)return!0;e[n]=typeof t=="object"?r(u[n],t):o(n)}),e};return r(t.from,t.to)},_normalizeValue:function(n){var t=parseFloat(n,10);return t===!1?n:t}},ct={initAnimation:function(){},animate:function(){return n.Deferred().resolve().promise()},stop:n.noop,isSynchronous:!0},lt={transition:f.transition?ht:nt,frame:nt,noAnimation:ct},at=function(n){n=n||{};var t=n.strategy||"transition";return n.type!=="css"||f.transition||(t="noAnimation"),lt[t]},vt={linear:"cubic-bezier(0, 0, 1, 1)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},yt=function(t){var i,r,u;return(t=vt[t]||t,i=t.match(ot),!i)?"linear":(i=i.slice(1,5),n.each(i,function(n,t){i[n]=parseFloat(t)}),r="cubicbezier_"+i.join("_").replace(/\./g,"p"),n.isFunction(n.easing[r])||(u=function(n,t,i,r){var u=3*n,f=3*(i-n)-u,o=1-u-f,e=3*t,s=3*(r-t)-e,h=1-e-s,c=function(n){return n*(u+n*(f+n*o))},l=function(n){return n*(e+n*(s+n*h))},a=function(n){for(var t=n,r=0,i;r<14;){if(i=c(t)-n,Math.abs(i)<.001)break;t=t-i/v(t),r++}return t},v=function(n){return u+n*(2*f+n*3*o)};return function(n){return l(a(n))}},n.easing[r]=function(n,t,r,f,e){return f*u(i[0],i[1],i[2],i[3])(t/e)+r}),r)},tt=function(t,i,r,u){n.each(["from","to"],function(){if(!r(t[this]))throw b.Error("E0010",i,this,u);})},it=function(t,i){return tt(t,i,function(t){return n.isPlainObject(t)},"a plain object")},pt=function(n,t){return tt(n,t,function(n){return typeof n=="string"},"a string")},wt={setup:function(){}},bt={validateConfig:function(n){pt(n,"css")},setup:function(){}},kt={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},c={validateConfig:function(n){it(n,"slide")},setup:function(t,i){var e=u.locate(t),r;i.type!=="slide"&&(r=i.type==="slideIn"?i.from:i.to,r.position=n.extend({of:window},kt[i.direction]),p(t,r)),this._setUpConfig(e,i.from),this._setUpConfig(e,i.to),u.clearCache(t),f.transform||t.css("position")!=="static"||t.css("position","relative")},_setUpConfig:function(n,t){t.left="left"in t?t.left:"+=0",t.top="top"in t?t.top:"+=0",this._initNewPosition(n,t)},_initNewPosition:function(n,t){var e={left:t.left,top:t.top},o,s;delete t.left,delete t.top,o=this._getRelativeValue(e.left),o!==i?e.left=o+n.left:t.left=0,o=this._getRelativeValue(e.top),o!==i?e.top=o+n.top:t.top=0,s={x:0,y:0},f.transform?s={x:e.left,y:e.top}:(t.left=e.left,t.top=e.top),t[r]=u.getTranslateCss(s)},_getRelativeValue:function(n){var t;if(typeof n=="string"&&(t=st.exec(n)))return parseInt(t[1]+"1")*t[2]}},l={setup:function(t,i){var u=i.from,f=n.isPlainObject(u)?i.skipElementInitialStyles?0:t.css("opacity"):String(u),r;switch(i.type){case"fadeIn":r=1;break;case"fadeOut":r=0;break;default:r=String(i.to)}i.from={visibility:"visible",opacity:f},i.to={opacity:r}}},dt={validateConfig:function(n){it(n,"pop")},setup:function(n,t){var i=t.from,f=t.to,o="opacity"in i?i.opacity:n.css("opacity"),s="opacity"in f?f.opacity:1,h="scale"in i?i.scale:0,c="scale"in f?f.scale:1,e;t.from={opacity:o},e=u.getTranslate(n),t.from[r]=this._getCssTransform(e,h),t.to={opacity:s},t.to[r]=this._getCssTransform(e,c)},_getCssTransform:function(n,t){return u.getTranslateCss(n)+"scale("+t+")"}},rt={custom:wt,slide:c,slideIn:c,slideOut:c,fade:l,fadeIn:l,fadeOut:l,pop:dt,css:bt},gt=function(n){var t=rt[n.type];if(!t)throw b.Error("E0011",n.type);return t},ni={type:"custom",from:{},to:{},duration:400,start:n.noop,complete:n.noop,easing:"ease",delay:0},ti={duration:400,easing:"ease",delay:0},ii=function(){var r=this,i=r.element,n=r.config;p(i,n.from),p(i,n.to),r.configurator.setup(i,n),i.data(o,r),t.fx.off&&(n.duration=0,n.delay=0),r.strategy.initAnimation(i,n),n.start&&n.start.apply(this,[i,n])},ri=function(n){var i=n.element,t=n.config;i.removeData(o),t.complete&&t.complete.apply(this,[i,t]),n.deferred.resolveWith(this,[i,t])},ui=function(){var n=this,t=n.element,i=n.config;return n.isStarted=!0,n.strategy.animate(t,i).done(function(){ri(n)}).fail(function(){n.deferred.rejectWith(this,[t,i])})},fi=function(n){var t=this,i=t.element,r=t.config;clearTimeout(t.startTimeout),t.isStarted||t.start(),t.strategy.stop(i,r,n)},ut=function(t,i){var e=i.type==="css"?ti:ni,r=n.extend(!0,{},e,i),u=gt(r),f=at(r),o={element:n(t),config:r,configurator:u,strategy:f,isSynchronous:f.isSynchronous,setup:ii,start:ui,stop:fi,deferred:n.Deferred()};return n.isFunction(u.validateConfig)&&u.validateConfig(r),o},ei=function(t,i){var r=n(t),u;return r.length?(u=ut(r,i),oi(r,u),u.deferred.promise()):n.Deferred().resolve().promise()},oi=function(n,t){var i=a(n);si(n,i),i.push(t),v(n)||y(n,i)},a=function(n){return n.data(h)||[]},si=function(n,t){n.data(h,t)},ft=function(n){n.removeData(h)},v=function(n){return!!n.data(o)},y=function(n,t){if(t=a(n),t.length){var i=t.shift();t.length===0&&ft(n),hi(i).done(function(){y(n)})}},hi=function(n){if(n.setup(),t.fx.off||n.isSynchronous)n.start();else{n.startTimeout=setTimeout(function(){n.start()});var i=d.addNamespace(k.name,"dxFXStartAnimation");n.element.off(i).on(i,function(){clearTimeout(n.startTimeout)})}return n.deferred.promise()},p=function(t,i){if(i&&i.position){var r=et.calculate(t,i.position),u=t.offset(),f=t.position();n.extend(i,{left:r.h.location-u.left+f.left,top:r.v.location-u.top+f.top}),delete i.position}},w=function(t,i){n.each(i,function(n,i){try{t.css(n,i)}catch(r){}})},ci=function(t,i){var r=n(t),f=a(r),u;n.each(f,function(n,t){t.config.duration=0,t.isSynchronous=!0}),v(r)||y(r,f),u=r.data(o),u&&u.stop(i),r.removeData(o),ft(r)};t.fx={off:!1,animationTypes:rt,animate:ei,createAnimation:ut,isAnimating:v,stop:ci,_simulatedTransitionEndDelay:100}}(jQuery,DevExpress),function(n,t){var e=DevExpress.require("/class"),o=t.require("/eventsMixin"),f=DevExpress.require("/errors"),r=t.require("/utils/utils.common"),u={required:{validate:function(t,i){return r.isDefined(t)?t===!1?!1:(t=String(t),(i.trim||!r.isDefined(i.trim))&&(t=n.trim(t)),t!==""):!1},defaultMessage:function(){return Globalize.localize("validation-required")},defaultFormattedMessage:function(){return Globalize.localize("validation-required-formatted")}},numeric:{validate:function(t,i){return u.required.validate(t,{})?i.useCultureSettings&&r.isString(t)?!isNaN(Globalize.parseFloat(t)):n.isNumeric(t):!0},defaultMessage:function(){return Globalize.localize("validation-numeric")},defaultFormattedMessage:function(){return Globalize.localize("validation-numeric-formatted")}},range:{validate:function(n,t){if(!u.required.validate(n,{}))return!0;var s=u.numeric.validate(n,t),h=r.isDefined(n),i=s?parseFloat(n):h&&n.valueOf(),o=t.min,e=t.max;if(!(s||r.isDate(n))&&!h)return!1;if(r.isDefined(o))return r.isDefined(e)?i>=o&&i<=e:i>=o;if(r.isDefined(e))return i<=e;throw f.Error("E0101");return!1},defaultMessage:function(){return Globalize.localize("validation-range")},defaultFormattedMessage:function(){return Globalize.localize("validation-range-formatted")}},stringLength:{validate:function(t,i){return t=r.isDefined(t)?String(t):"",(i.trim||!r.isDefined(i.trim))&&(t=n.trim(t)),u.range.validate(t.length,n.extend({},i))},defaultMessage:function(){return Globalize.localize("validation-stringLength")},defaultFormattedMessage:function(){return Globalize.localize("validation-stringLength-formatted")}},custom:{validate:function(n,t){return t.validationCallback({value:n,validator:t.validator,rule:t})},defaultMessage:function(){return Globalize.localize("validation-custom")},defaultFormattedMessage:function(){return Globalize.localize("validation-custom-formatted")}},compare:{validate:function(t,i){if(!i.comparisonTarget)throw f.Error("E0102");n.extend(i,{reevaluate:!0});var r=i.comparisonTarget(),u=i.comparisonType||"==";switch(u){case"==":return t==r;case"!=":return t!=r;case"===":return t===r;case"!==":return t!==r;case">":return t>r;case">=":return t>=r;case"<":return t<r;case"<=":return t<=r}},defaultMessage:function(){return Globalize.localize("validation-compare")},defaultFormattedMessage:function(){return Globalize.localize("validation-compare-formatted")}},pattern:{validate:function(n,t){if(!u.required.validate(n,{}))return!0;var i=t.pattern;return r.isString(i)&&(i=new RegExp(i)),i.test(n)},defaultMessage:function(){return Globalize.localize("validation-pattern")},defaultFormattedMessage:function(){return Globalize.localize("validation-pattern-formatted")}},email:{validate:function(t,i){return u.required.validate(t,{})?u.pattern.validate(t,n.extend({},i,{pattern:/^[\d\w\._\-]+@([\d\w\._\-]+\.)+[\w]+$/i})):!0},defaultMessage:function(){return Globalize.localize("validation-email")},defaultFormattedMessage:function(){return Globalize.localize("validation-email-formatted")}}},s=e.inherit({ctor:function(n){this.group=n,this.validators=[]},validate:function(){var t={isValid:!0,brokenRules:[],validators:[]};return n.each(this.validators,function(n,i){var r=i.validate();t.isValid=t.isValid&&r.isValid,r.brokenRule&&t.brokenRules.push(r.brokenRule),t.validators.push(i)}),this.fireEvent("validated",[{validators:t.validators,brokenRules:t.brokenRules,isValid:t.isValid}]),t},reset:function(){n.each(this.validators,function(n,t){t.reset()})}}).include(o);t.validationEngine={groups:[],getGroupConfig:function(t){var i=n.grep(this.groups,function(n){return n.group===t});if(i.length)return i[0]},initGroups:function(){this.groups=[],this.addGroup()},addGroup:function(n){var t=this.getGroupConfig(n);return t||(t=new s(n),this.groups.push(t)),t},removeGroup:function(t){var i=this.getGroupConfig(t),r=n.inArray(i,this.groups);return r>-1&&this.groups.splice(r,1),i},_setDefaultMessage:function(n,t,i){r.isDefined(n.message)||(n.message=t.defaultFormattedMessage&&r.isDefined(i)?t.defaultFormattedMessage().replace(/\{0\}/,i):t.defaultMessage())},validate:function(t,i,e){var o={name:e,value:t,brokenRule:null,isValid:!0,validationRules:i},s=this;return n.each(i||[],function(n,i){var h=u[i.type],c;if(h){if(r.isDefined(i.isValid)&&i.value===t&&!i.reevaluate)return i.isValid?!0:(o.isValid=!1,o.brokenRule=i,!1);if(i.value=t,c=h.validate(t,i),i.isValid=c,c||(o.isValid=!1,s._setDefaultMessage(i,h,e),o.brokenRule=i),!i.isValid)return!1}else throw f.Error("E0100");}),o},registerValidatorInGroup:function(i,r){var u=t.validationEngine.addGroup(i);n.inArray(r,u.validators)<0&&u.validators.push(r)},removeRegistredValidator:function(i,r){var u=t.validationEngine.getGroupConfig(i),f=u&&u.validators,e=n.inArray(r,f);e>-1&&f.splice(e,1)},validateGroup:function(n){var i=t.validationEngine.getGroupConfig(n);if(!i)throw f.Error("E0110");return i.validate()},resetGroup:function(n){var i=t.validationEngine.getGroupConfig(n);if(!i)throw f.Error("E0110");return i.reset()}},t.validationEngine.initGroups()}(jQuery,DevExpress),function(n,t){var e=DevExpress.require("/class"),o=t.require("/utils/utils.common"),s=t.require("/component"),i=t.require("/devices"),r={forward:" dx-forward",backward:" dx-backward",none:" dx-no-direction",undefined:" dx-no-direction"},u="dx-animating",h=e.inherit({ctor:function(){this._accumulatedDelays={enter:0,leave:0},this._animations=[],this.reset()},_createAnimations:function(t,i,r,f){var s=this,o=[],e;return r=r||{},e=this._prepareElementAnimationConfig(i,r,f),e&&t.each(function(){var t=s._createAnimation(n(this),e,r);t&&(t.element.addClass(u),t.setup(),o.push(t))}),o},_prepareElementAnimationConfig:function(i,u,f){var e,s,o,h;return typeof i=="string"&&(s=i,i=t.animationPresets.getPreset(s)),i?n.isFunction(i[f])?e=i[f]:(e=n.extend({skipElementInitialStyles:!0,cleanupWhen:this._completePromise},i,u),e.type&&e.type!=="css"||(o="dx-"+f,h=(e.extraCssClasses?" "+e.extraCssClasses:"")+r[e.direction],e.type="css",e.from=(e.from||o)+h,e.to=e.to||o+"-active"),e.staggerDelay=e.staggerDelay||0,e.delay=e.delay||0,e.staggerDelay&&(e.delay+=this._accumulatedDelays[f],this._accumulatedDelays[f]+=e.staggerDelay)):e=undefined,e},_createAnimation:function(i,r,u){var f;return n.isPlainObject(r)?f=t.fx.createAnimation(i,r):n.isFunction(r)&&(f=r(i,u)),f},_startAnimations:function(){for(var t=this._animations,n=0;n<t.length;n++)t[n].start()},_stopAnimations:function(){for(var t=this._animations,n=0;n<t.length;n++)t[n].stop()},_clearAnimations:function(){for(var t=this._animations,n=0;n<t.length;n++)t[n].element.removeClass(u);this._animations.length=0},reset:function(){this._accumulatedDelays.enter=0,this._accumulatedDelays.leave=0,this._clearAnimations(),this._completeDeferred=n.Deferred(),this._completePromise=this._completeDeferred.promise()},enter:function(n,t,i){var r=this._createAnimations(n,t,i,"enter");this._animations.push.apply(this._animations,r)},leave:function(n,t,i){var r=this._createAnimations(n,t,i,"leave");this._animations.push.apply(this._animations,r)},start:function(){var t=this,i,r;return this._animations.length?(r=n.map(this._animations,function(t){var i=n.Deferred();return t.deferred.always(function(){i.resolve()}),i.promise()}),i=n.when.apply(n,r).always(function(){t._completeDeferred.resolve(),t.reset()}),o.executeAsync(function(){t._startAnimations()})):(t.reset(),i=n.Deferred().resolve().promise()),i},stop:function(){this._stopAnimations()}}),c="preset_",f=s.inherit({ctor:function(){this.callBase.apply(this,arguments),this._customRules=[],this._registeredPresets=[],this.resetToDefaults()},_getDefaultOptions:function(){return n.extend(this.callBase(),{defaultAnimationDuration:400,defaultAnimationDelay:0,defaultStaggerAnimationDuration:300,defaultStaggerAnimationDelay:40,defaultStaggerAnimationStartDelay:500})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(n){return n.phone},options:{defaultStaggerAnimationDuration:350,defaultStaggerAnimationDelay:50,defaultStaggerAnimationStartDelay:0}},{device:function(){return i.current().android||i.real.android},options:{defaultAnimationDelay:100}}])},_getPresetOptionName:function(n){return c+n},_createAndroidSlideAnimationConfig:function(n,i){var r=this;return{enter:function(u,f){var o=u.parent().width()*i,s=f.direction,e={type:"slide",delay:r.option("defaultAnimationDelay"),duration:f.duration===undefined?r.option("defaultAnimationDuration"):f.duration,to:{left:0,opacity:1}};return e.from=s==="forward"?{left:o,opacity:n}:s==="backward"?{left:-o,opacity:n}:{left:0,opacity:0},t.fx.createAnimation(u,e)},leave:function(u,f){var o=u.parent().width()*i,s=f.direction,e={type:"slide",delay:r.option("defaultAnimationDelay"),duration:f.duration===undefined?r.option("defaultAnimationDuration"):f.duration,from:{left:0,opacity:1}};return e.to=s==="forward"?{left:-o,opacity:n}:s==="backward"?{left:o,opacity:n}:{left:0,opacity:0},t.fx.createAnimation(u,e)}}},_createOpenDoorConfig:function(){var n=this,i={type:"css",extraCssClasses:"dx-opendoor-animation",duration:n.option("defaultAnimationDuration")};return{enter:function(u,f){var e=i,o=f.direction;return e.delay=o==="none"?n.option("defaultAnimationDelay"):n.option("defaultAnimationDuration"),e.from="dx-enter dx-opendoor-animation"+r[o],e.to="dx-enter-active",t.fx.createAnimation(u,e)},leave:function(u,f){var e=i,o=f.direction;return e.delay=n.option("defaultAnimationDelay"),e.from="dx-leave dx-opendoor-animation"+r[o],e.to="dx-leave-active",t.fx.createAnimation(u,e)}}},resetToDefaults:function(){this.clear(),this.registerDefaultPresets(),this.applyChanges()},clear:function(t){var i=this,r=[];n.each(this._registeredPresets,function(n,u){t&&t!==u.name?r.push(u):i.option(i._getPresetOptionName(u.name),undefined)}),this._registeredPresets=r,this.applyChanges()},registerPreset:function(n,t){this._registeredPresets.push({name:n,config:t})},applyChanges:function(){var t=this;this._customRules.length=0,n.each(this._registeredPresets,function(n,i){var r={device:i.config.device,options:{}};r.options[t._getPresetOptionName(i.name)]=i.config.animation,t._customRules.push(r)}),this._setOptionsByDevice()},getPreset:function(n){for(var t=n;typeof t=="string";)t=this.option(this._getPresetOptionName(t));return t},registerDefaultPresets:function(){this.registerPreset("pop",{animation:{extraCssClasses:"dx-android-pop-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("openDoor",{animation:this._createOpenDoorConfig()}),this.registerPreset("fade",{animation:{extraCssClasses:"dx-fade-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("slide",{device:function(){return i.current().android||i.real.android},animation:this._createAndroidSlideAnimationConfig(1,1)}),this.registerPreset("slide",{device:function(){return!i.current().android&&!i.real.android},animation:{extraCssClasses:"dx-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-slide",{animation:{extraCssClasses:"dx-ios7-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("overflow",{animation:{extraCssClasses:"dx-overflow-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return!i.current().android&&!i.real.android},animation:{extraCssClasses:"dx-ios7-toolbar-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return i.current().android||i.real.android},animation:this._createAndroidSlideAnimationConfig(0,.4)}),this.registerPreset("stagger-fade",{animation:{extraCssClasses:"dx-fade-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-slide",{animation:{extraCssClasses:"dx-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-slide",{animation:{extraCssClasses:"dx-fade-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-drop",{animation:{extraCssClasses:"dx-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-drop",{animation:{extraCssClasses:"dx-fade-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-3d-drop",{animation:{extraCssClasses:"dx-3d-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-zoom",{animation:{extraCssClasses:"dx-fade-zoom-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}})}});t.TransitionExecutor=h,t.AnimationPresetCollection=f,t.animationPresets=new f}(jQuery,DevExpress),DevExpress.define("/integration/jquery/jquery.defaultTemplates",["jquery","/utils/utils.inflector","/utils/utils.icon","/utils/utils.date"],function(n,t,i,r){var y=t.camelize,u={},f=function(){return n()},p="dx-item-content-placeholder",o,h,l,a,v,e;u.CollectionWidget={item:function(t){var i=n("<div>");return n.isPlainObject(t)?(t.text&&i.text(t.text),t.html&&i.html(t.html)):i.text(String(t)),i},itemFrame:function(t){var i=n("<div>"),r;return i.toggleClass("dx-state-invisible",t.visible!==undefined&&!t.visible),i.toggleClass("dx-state-disabled",!!t.disabled),r=n("<div>").addClass(p),i.append(r),i}},o="dx-button-text",u.dxButton={content:function(t){var r=n("<div>"),u=i.getImageContainer(t.icon),f=t.text?n("<span>").text(t.text).addClass(o):undefined;return r.append(u).append(f),r}};var w="dx-list-item-badge-container",b="dx-list-item-badge",s="dx-badge",k="dx-list-item-chevron-container",d="dx-list-item-chevron";u.dxList={item:function(t){var i=u.CollectionWidget.item(t),r;return t.key&&(r=n("<div>").text(t.key),r.appendTo(i)),i},itemFrame:function(t){var i=u.CollectionWidget.itemFrame(t),f,r,e,o;return t.badge&&(f=n("<div>").addClass(w),r=n("<div>").addClass(b).addClass(s),r.text(t.badge),f.append(r).appendTo(i)),t.showChevron&&(e=n("<div>").addClass(k),o=n("<div>").addClass(d),e.append(o).appendTo(i)),i},group:function(t){var i=n("<div>");return n.isPlainObject(t)?t.key&&i.text(t.key):i.html(String(t)),i}},u.dxDropDownMenu={item:u.dxList.item,content:u.dxButton.content},u.dxDropDownList={item:u.dxList.item},u.dxRadioGroup={item:u.CollectionWidget.item},u.dxScheduler={item:function(t){var f=u.CollectionWidget.item(t),i=n("<div>").addClass("dx-scheduler-appointment-content-details");return t.startDate&&n("<div>").text(Globalize.format(r.makeDate(t.startDate),"t")).addClass("dx-scheduler-appointment-content-date").appendTo(i),t.endDate&&(n("<div>").text(" - ").addClass("dx-scheduler-appointment-content-date").appendTo(i),n("<div>").text(Globalize.format(r.makeDate(t.endDate),"t")).addClass("dx-scheduler-appointment-content-date").appendTo(i)),i.appendTo(f),t.recurrenceRule&&n("<span>").addClass("dx-scheduler-appointment-recurrence-icon dx-icon-repeat").appendTo(f),f},appointmentTooltip:f,appointmentPopup:f},u.dxOverlay={content:f},u.dxSlideOutView={menu:f,content:f},u.dxSlideOut={menuItem:u.dxList.item,menuGroup:u.dxList.group,content:f},u.dxAccordion={title:function(t){var r=n("<div>"),f=t.icon,e=t.iconSrc,u=i.getImageContainer(f||e);return n.isPlainObject(t)?t.title&&r.text(t.title):r.html(String(t)),u&&u.prependTo(r),r},item:u.CollectionWidget.item},u.dxActionSheet={item:function(t){return n("<div>").append(n("<div>").dxButton(n.extend({onClick:t.click},t)))}},h="dx-gallery-item-image",u.dxGallery={item:function(t){var i=n("<div>"),r=n("<img>").addClass(h);return n.isPlainObject(t)?r.attr({src:t.imageSrc,alt:t.imageAlt}).appendTo(i):r.attr("src",String(t)).appendTo(i),i}};var c="dx-menu-item-text",g="dx-menu-item-popout",nt="dx-menu-item-popout-container";return u.dxMenuBase={item:function(t){var r=n("<div>"),o=t.icon,s=t.iconSrc,f=i.getImageContainer(o||s),u,h,e;return f&&f.appendTo(r),n.isPlainObject(t)&&t.text?u=n("<span>").addClass(c).text(t.text):n.isPlainObject(t)||(u=n("<span>").addClass(c).html(String(t))),r.append(u),t.items&&t.items.length>0&&(e=n("<span>").addClass(nt).appendTo(r),h=n("<div>").addClass(g).appendTo(e)),r}},l="dx-panorama-item-title",u.dxPanorama={itemFrame:function(t){var i=u.CollectionWidget.itemFrame(t),r;return t.title&&(r=n("<div>").addClass(l).text(t.title),i.prepend(r)),i}},u.dxPivotTabs={item:function(t){var r=n("<div>"),i;return i=t&&t.title?n("<span>").text(t.title):n("<span>").text(String(t)),r.html(i),r}},u.dxPivot={title:u.dxPivotTabs.item,content:f},a="dx-tab-text",u.dxTabs={item:function(t){var r=u.CollectionWidget.item(t);if(t.html)return r;var e=t.icon,o=t.iconSrc,f=i.getImageContainer(e||o);return t.html||r.wrapInner(n("<span>").addClass(a)),f&&f.prependTo(r),r},itemFrame:function(t){var i=n(),r=u.CollectionWidget.itemFrame(t);return t.badge&&(i=n("<div>",{"class":"dx-tabs-item-badge dx-badge"}).text(t.badge)),r.append(i),r}},u.dxTabPanel={item:u.CollectionWidget.item,title:function(t){var i=t,r;return n.isPlainObject(t)&&(i=n.extend({},t,{text:t.title,html:null})),r=u.dxTabs.item(i)}},v="dx-navbar-item-badge",u.dxNavBar={itemFrame:function(t){var r=u.CollectionWidget.itemFrame(t),i;return t.badge&&(i=n("<div>").addClass(v).addClass(s),i.text(t.badge),i.appendTo(r)),r}},u.dxToolbar={item:function(t){var i=u.CollectionWidget.item(t),r=t.widget;if(r){var f=n("<div>").appendTo(i),e=y("dx-"+r),o=t.options||{};f[e](o)}else t.text&&i.wrapInner("<div>");return i},menuItem:u.dxList.item,actionSheetItem:u.dxActionSheet.item},u.dxTreeView={item:function(t){var r=n("<div>"),f=t.icon,e=t.iconSrc,u=i.getImageContainer(f||e);return t.html?r.html(t.html):(u&&u.appendTo(r),n("<span>").text(t.text).appendTo(r)),r}},e=function(t){return n("<div>").append(n("<div>").dxToolbar({items:t}))},u.dxPopup={title:e,bottom:e},u.dxLookup={title:u.dxPopup.title,group:u.dxList.group},u.dxTagBox={tag:function(t){return n("<div>").append(n("<span>").text(t))}},u.dxCalendar={cell:function(t){return n("<div>").append(n("<span>").text(t.text||String(t)))}},u}),DevExpress.define("/integration/jquery/jquery.template",["jquery","/ui/templates/ui.templateBase","/errors","/utils/utils.common","/utils/utils.dom"],function(n,t,i,r,u){var c={},f=function(n,t){c[n]=t},e=function(t){return t=n(t),t.length&&t[0].nodeName.toLowerCase()==="script"||(t=n("<div>").append(t)),t.html()},o,s,h;return f("default",{compile:function(n){return u.normalizeTemplateElement(n)},render:function(n){return n.clone()}}),f("jquery-tmpl",{compile:function(t){return n("<div>").append(u.normalizeTemplateElement(t))},render:function(n,t){return n.tmpl(t)}}),f("jsrender",{compile:function(t){return n.templates(e(t))},render:function(n,t){return n.render(t)}}),f("mustache",{compile:function(n){return Mustache.compile(e(n))},render:function(n,t){return n(t)}}),f("hogan",{compile:function(n){return Hogan.compile(e(n))},render:function(n,t){return n.render(t)}}),f("underscore",{compile:function(n){return _.template(e(n))},render:function(n,t){return n(t)}}),f("handlebars",{compile:function(n){return Handlebars.compile(e(n))},render:function(n,t){return n(t)}}),f("doT",{compile:function(n){return doT.template(e(n))},render:function(n,t){return n(t)}}),s=function(n){if(r.isString(n)){if(o=c[n],!o)throw i.Error("E0020",n);}else o=n},s("default"),h=t.inherit({ctor:function(n,t){this.callBase(n,t),this._compiledTemplate=o.compile(n)},_renderCore:function(t){return n("<div>").append(o.render(this._compiledTemplate,t)).contents()}}),h.setTemplateEngine=s,h}),DevExpress.define("/integration/jquery/jquery.templateProvider",["jquery","/ui/templates/ui.templateProviderBase","/integration/jquery/jquery.template","/ui/templates/ui.template.function","/integration/jquery/jquery.defaultTemplates"],function(n,t,i,r,u){var e=t.inherit({createTemplate:function(n,t){return new i(n,t)},_templatesForWidget:function(t){var e=u[t]||{},i={};return n.each(e,function(n,t){i[n]=new r(function(){var i=t.apply(this,arguments);return n!=="itemFrame"&&(i=i.contents()),i},f)}),i}}),f=new e;return f}),DevExpress.define("/integration/jquery/jquery.selectors",["jquery"],function(n){var t=function(n,t){var u=n.nodeName.toLowerCase(),f=!isNaN(t),e=i(n),o=n.disabled,s=/^(input|select|textarea|button|object|iframe)$/.test(u),h=u==="a",r=!0;return r=s?!o:h?n.href||f:f,e?r:!1},i=function(t){var i=n(t);return i.is(":visible")&&i.css("visibility")!=="hidden"&&i.parents().css("visibility")!=="hidden"},r=function(t,i){var r=!1;return n.each(n(t).contents(),function(n,t){if(t.nodeType===3&&(t.textContent||t.nodeValue||"").toLowerCase().indexOf((i||"").toLowerCase())>-1)return r=!0,!1}),r};return n.extend(n.expr[":"],{"dx-focusable":function(i){return t(i,n.attr(i,"tabindex"))},"dx-tabbable":function(i){var r=n.attr(i,"tabindex");return(isNaN(r)||r>=0)&&t(i,r)},"dx-icontains":n.expr.createPseudo(function(n){return function(t){return r(t,n)}})}),{focusable:":dx-focusable",tabbable:":dx-tabbable",icontains:":dx-icontains"}}),DevExpress.define("/integration/knockout/ko.componentRegistrator",["jquery","/componentRegistrator","/errors","/ui/ui.widget","/integration/knockout/ko.templateProvider","/ui/ui.editor"],function(n,t,i,r,u,f){var e=window.ko,o="dxKoLocks",h="dxKoCreation",c=function(){var n={},t=function(t){return n[t]||0};return{obtain:function(i){n[i]=t(i)+1},release:function(i){var r=t(i);r===1?delete n[i]:n[i]=r-1},locked:function(n){return t(n)>0}}},s=[],l=function(t,i){i.subclassOf(f)&&s.push(t),e.bindingHandlers[t]={init:function(f,s){var l=n(f),y=n.Callbacks(),a={templateProvider:u,modelByElement:function(n){if(n.length)return e.dataFor(n.get(0))},nestedComponentOptions:function(n){return{modelByElement:n.option("modelByElement"),nestedComponentOptions:n.option("nestedComponentOptions")}},_optionChangedCallbacks:y},v={},w=function(n,i){var u=l.data(t),r=l.data(o),f=e.unwrap(i);if(e.isWriteableObservable(i)&&(v[n]=i),u){if(r.locked(n))return;r.obtain(n);try{u.option(n,f)}finally{r.release(n)}}else a[n]=f},b=function(n){var t=n.fullName,u=n.value,r,i;if(t in v&&(r=this._$element,i=r.data(o),!i.locked(t))){i.obtain(t);try{v[t](u)}finally{i.release(t)}}},k=function(){y.add(b),l.data(h,!0).data(o,new c)[t](a),a=null},d=function(t,i,r){var u;e.computed(function(){var n=t[i];w(r,n),u=e.unwrap(n)},null,{disposeWhenNodeIsRemoved:f}),n.isPlainObject(u)&&p(u,r)},p=function(n,t){for(var i in n)n.hasOwnProperty(i)&&d(n,i,t?[t,i].join("."):i)};return e.computed(function(){var n=l.data(t),i=e.unwrap(s());n&&n.beginUpdate(),p(i),n?n.endUpdate():k()},null,{disposeWhenNodeIsRemoved:f}),{controlsDescendantBindings:i.subclassOf(r)}}},t==="dxValidator"&&(e.bindingHandlers.dxValidator.after=s)};t.callbacks.add(function(n,t){l(n,t)})}),DevExpress.define("/integration/knockout/ko.components",["/utils/utils.icon","/utils/utils.inflector","/action"],function(n,t,i){var r=window.ko;r.bindingHandlers.dxAction={update:function(n,t,u,f){var s=$(n),e=r.utils.unwrapObservable(t()),h=e,o={context:n},c;e.execute&&(h=e.execute,$.extend(o,e)),c=new i(h,o);s.off(".dxActionBinding").on("dxclick.dxActionBinding",function(t){c.execute({element:s,model:f,evaluate:function(t){var i=f,u;return t.length>0&&t[0]==="$"&&(i=r.contextFor(n)),u=DevExpress.data.utils.compileGetter(t),u(i)},jQueryEvent:t}),o.bubbling||t.stopPropagation()})}},r.bindingHandlers.dxControlsDescendantBindings={init:function(n,t){return{controlsDescendantBindings:r.unwrap(t())}}},r.bindingHandlers.dxPolymorphWidget={init:function(n,i,u,f,e){var o=r.utils.unwrapObservable(i()).name,s,h;if(o)return r.virtualElements.emptyNode(n),s=$('<div data-bind="'+t.camelize("dx-"+o)+': options">').get(0),r.virtualElements.prepend(n,s),h=e.extend(i),r.applyBindingsToDescendants(h,n),{controlsDescendantBindings:!0}}},r.virtualElements.allowedBindings.dxPolymorphWidget=!0,r.bindingHandlers.dxIcon={init:function(t,i){var f=r.utils.unwrapObservable(i())||{},u=n.getImageContainer(f);r.virtualElements.emptyNode(t),u&&r.virtualElements.prepend(t,u.get(0))},update:function(t,i){var f=r.utils.unwrapObservable(i())||{},u=n.getImageContainer(f);r.virtualElements.emptyNode(t),u&&r.virtualElements.prepend(t,u.get(0))}},r.virtualElements.allowedBindings.dxIcon=!0}),DevExpress.define("/integration/knockout/ko.defaultTemplates",["jquery"],function(n){var t={},i=function(t,i,r,u){r=r===undefined?!0:r;var f=n.map(i,function(n,t){return t+":"+n}).join(",");return u=u||"","<"+t+' data-bind="'+f+'" '+u+">"+(r?"<\/"+t+">":"")},e={css:"{ 'dx-state-disabled': $data.disabled, 'dx-state-invisible': !($data.visible === undefined || ko.unwrap($data.visible)) }"},r=function(){return""},o,h,u,c,f;t.CollectionWidget={itemFrame:function(){var n=[i("div",e,!1),"<div class='dx-item-content-placeholder'><\/div>","<\/div>"];return n.join("")},item:function(){var n=i("div",{html:"html"}),t=i("div",{text:"text"}),r=i("div",{text:"String($data)"}),u=["<div>","<!-- ko if: $data.html -->",n,"<!-- /ko -->","<!-- ko if: !$data.html && $data.text -->",t,"<!-- /ko -->","<!-- ko ifnot: $.isPlainObject($data) -->",r,"<!-- /ko -->","<\/div>"];return u.join("")}},o="dx-button-text",t.dxButton={content:function(){var n=i("span",{text:"$data.text",css:"{ '"+o+"' : !!$data.text }"}),t=["<div>","<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko -->",n,"<\/div>"];return t.join("")}};var l="dx-list-item-badge-container",a="dx-list-item-badge",s="dx-badge",v="dx-list-item-chevron-container",y="dx-list-item-chevron";return t.dxList={item:function(){var n=t.CollectionWidget.item(),r=i("div",{text:"key"});return n=[n.substring(0,n.length-6),"<!-- ko if: $data.key -->"+r+"<!-- /ko -->","<\/div>"],n.join("")},itemFrame:function(){var n=t.CollectionWidget.itemFrame(),r=i("div",{text:"badge"},!0,'class="'+a+" "+s+'"'),u=[n.substring(0,n.length-6),"<!-- ko if: $data.badge -->",'<div class="'+l+'">',r,"<\/div>","<!-- /ko -->","<!-- ko if: $data.showChevron -->",'<div class="'+v+'">','<div class="'+y+'"><\/div>',"<\/div>","<!-- /ko -->","<\/div>"];return u.join("")},group:function(){var n=i("div",{text:"key"}),t=i("div",{text:"String($data)"}),r=["<div>","<!-- ko if: $data.key -->",n,"<!-- /ko -->","<!-- ko ifnot: $.isPlainObject($data) -->",t,"<!-- /ko -->","<\/div>"];return r.join("")}},t.dxDropDownMenu={item:t.dxList.item,content:t.dxButton.content},t.dxDropDownList={item:t.dxList.item},t.dxRadioGroup={item:t.CollectionWidget.item},t.dxScheduler={item:function(){var n=t.CollectionWidget.item(),r=i("div class='dx-scheduler-appointment-content-date'",{text:"Globalize.format(DevExpress.utils.makeDate($data.startDate), 't')"}),u=i("div class='dx-scheduler-appointment-content-date'",{text:"Globalize.format(DevExpress.utils.makeDate($data.endDate), 't')"}),f=i("div class='dx-scheduler-appointment-content-date'",{text:"' - '"});return n=[n.substring(0,n.length-6),"<div class='dx-scheduler-appointment-content-details'>","<!-- ko if: $data.startDate -->"+r+"<!-- /ko -->","<!-- ko if: $data.endDate -->"+f+"<!-- /ko -->","<!-- ko if: $data.endDate -->"+u+"<!-- /ko -->","<\/div>","<!-- ko if: $data.recurrenceRule --><span class='dx-scheduler-appointment-recurrence-icon dx-icon-repeat'><\/span><!-- /ko -->","<\/div>"],n.join("")},appointmentTooltip:r,appointmentPopup:r},t.dxOverlay={content:r},t.dxSlideOutView={menu:r,content:r},t.dxSlideOut={menuItem:t.dxList.item,menuGroup:t.dxList.group,content:r},t.dxAccordion={title:function(){var n=i("span",{text:"$.isPlainObject($data) ? $data.title : String($data)"}),t=["<div>","<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko -->",n,"<\/div>"];return t.join("")},item:t.CollectionWidget.item},t.dxResponsiveBox={item:t.CollectionWidget.item},t.dxPivotTabs={item:function(){var n=i("span",{text:"title"}),t=i("div",{text:"String($data)"}),r=["<div>","<!-- ko if: $data.title -->",n,"<!-- /ko -->","<!-- ko ifnot: $data.title || $.isPlainObject($data) -->",t,"<!-- /ko -->","<\/div>"];return r.join("")}},t.dxPivot={title:t.dxPivotTabs.item,content:r},h="dx-panorama-item-title",t.dxPanorama={itemFrame:function(){var n=t.CollectionWidget.itemFrame(),u=i("div",{text:"title"},!0,'class="'+h+'"'),r=n.indexOf(">")+1;return n=[n.substring(0,r),"<!-- ko if: $data.title -->",u,"<!-- /ko -->",n.substring(r,n.length)],n.join("")}},t.dxActionSheet={item:function(){return["<div>",i("div",{dxButton:"{ text: $data.text, onClick: $data.clickAction || $data.onClick, type: $data.type, disabled: !!ko.unwrap($data.disabled) }"}),"<\/div>"].join("")}},t.dxToolbar={item:function(){var n=t.CollectionWidget.item();return n=[n.substring(0,n.length-6),"<!-- ko if: $data.widget -->"],n.push("<!-- ko dxPolymorphWidget: { name: $data.widget, options: $data.options } --><!-- /ko -->"),n.push("<!-- /ko -->"),n.join("")},menuItem:t.dxList.item,actionSheetItem:t.dxActionSheet.item},u="dx-gallery-item-image",t.dxGallery={item:function(){var n=t.CollectionWidget.item(),r=i("div",{text:"String($data)"}),f=i("img",{attr:"{ src: String($data) }"},!1,'class="'+u+'"');return n=[n.substring(0,n.length-6).replace(r,f),"<!-- ko if: $data.imageSrc -->",i("img",{attr:"{ src: $data.imageSrc, alt: $data.imageAlt }"},!1,'class="'+u+'"'),"<!-- /ko -->"].join("")}},t.dxTabs={item:function(){var n=t.CollectionWidget.item(),r=i("div",{text:"String($data)"}),u='<span class="dx-tab-text" data-bind="text: String($data)"><\/span>',f=i("div",{text:"text"}),e='<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko --><span class="dx-tab-text" data-bind="text: $data.text"><\/span>';return n=n.replace("<!-- ko if: !$data.html && $data.text -->","<!-- ko if: !$data.html && ($data.text || $data.icon || $data.iconSrc) -->").replace(r,u).replace(f,e)},itemFrame:function(){var n=t.CollectionWidget.itemFrame(),r=i("div",{attr:"{ 'class': 'dx-tabs-item-badge dx-badge' }",text:"badge"}),u=[n.substring(0,n.length-6),"<!-- ko if: $data.badge -->",r,"<!-- /ko -->","<\/div>"];return u.join("")}},t.dxTabPanel={item:t.CollectionWidget.item,title:function(){var n=t.dxTabs.item(),r="<!-- ko if: $data.html -->"+i("div",{html:"html"})+"<!-- /ko -->";return n.replace(/\$data\.text/g,"$data.title").replace(/\!\$data\.html\ \&\&\ /,"").replace(r,"")}},c="dx-navbar-item-badge",t.dxNavBar={itemFrame:function(){var n=t.CollectionWidget.itemFrame(),r=i("div",{text:"badge"},!0,'class="'+c+" "+s+'"'),u=[n.substring(0,n.length-6),"<!-- ko if: $data.badge -->",r,"<!-- /ko -->","<\/div>"];return u.join("")}},t.dxMenuBase={item:function(){var n=[i("div",e,!1)],t=i("span",{text:"text",css:"{ 'dx-menu-item-text': true }"}),r=i("span",{text:"String($data)",css:"{ 'dx-menu-item-text': true }"}),u="<span class='dx-menu-item-popout-container'><div class='dx-menu-item-popout'><\/div><\/span>";return n.push("<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko -->","<!-- ko if: $.isPlainObject($data) && $data.text -->",t,"<!-- /ko -->","<!-- ko ifnot: $.isPlainObject($data) -->",r,"<!-- /ko -->","<!-- ko if: $data.items -->",u,"<!-- /ko -->","<\/div>"),n.join("")}},t.dxTreeView={item:function(){var n=[],t=i("span",{text:"text"},!0),r=i("div",{html:"html"});return n.push("<div>","<!-- ko if: $data.html && !$data.text -->",r,"<!-- /ko -->","<!-- ko dxIcon: $data.icon || $data.iconSrc --><!-- /ko -->","<!-- ko if: !$data.html && $data.text -->"+t+"<!-- /ko -->","<\/div>"),n.join("")}},f=function(){return["<div>",i("div",{dxToolbar:"{ items: $data }"}),"<\/div>"].join("")},t.dxPopup={title:f,bottom:f},t.dxLookup={title:t.dxPopup.title,group:t.dxList.group},t.dxTagBox={tag:function(){return["<div>",i("span",{text:"$data"})].join("")}},t}),DevExpress.define("/integration/knockout/ko.template",["jquery","/ui/templates/ui.templateBase","/utils/utils.dom"],function(n,t,i){var r=window.ko;return t.inherit({ctor:function(t,r){this.callBase(t,r),this._template=n("<div>").append(i.normalizeTemplateElement(t)),this._registerKoTemplate()},_registerKoTemplate:function(){var n=this._template.get(0);new r.templateSources.anonymousTemplate(n).nodes(n)},_prepareDataForContainer:function(n,t){var u=n,f,i;return t.length&&(f=t.get(0),n=n!==undefined?n:r.dataFor(f)||{},i=r.contextFor(f),u=i?n===i.$data?i:i.createChildContext(n):n),u},_renderCore:function(t,i,u){var e=n("<div>").appendTo(u),f;return r.renderTemplate(this._template.get(0),t,{afterRender:function(t){f=n(t)}},e.get(0),"replaceNode"),f},dispose:function(){this.callBase(),this._template.remove()}})}),DevExpress.define("/integration/knockout/ko.templateProvider",["jquery","/utils/utils.dom","/integration/jquery/jquery.templateProvider","/integration/knockout/ko.template","/integration/knockout/ko.defaultTemplates"],function(n,t,i,r,u){var e=window.ko,o=i.constructor.inherit({createTemplate:function(n,t){return new r(n,t)},applyTemplate:function(n,t){e.applyBindings(t,n)},_templatesForWidget:function(i){var o=u[i],e;return o?(e={},n.each(o,function(n,i){var u=t.createMarkupFromString(i());n!=="itemFrame"&&(u=u.contents()),e[n]=new r(u,f)}),e):this.callBase(i)}}),f=new o;return f}),DevExpress.define("/integration/knockout/ko.validation",["jquery","/class","/eventsMixin"],function(n,t,i){var r=window.ko,u=t.inherit({ctor:function(t,i){var u=this;u.target=t,u.validationRules=i.validationRules,u.name=i.name,u.isValid=r.observable(!0),u.validationError=r.observable(),n.each(this.validationRules,function(n,t){t.validator=u})},validate:function(){var n=DevExpress.validationEngine.validate(this.target(),this.validationRules,this.name);return this._applyValidationResult(n),n},reset:function(){this.target(null);var n={isValid:!0,brokenRule:null};return this._applyValidationResult(n),n},_applyValidationResult:function(n){n.validator=this,this.target.dxValidator.isValid(n.isValid),this.target.dxValidator.validationError(n.brokenRule),this.fireEvent("validated",[n])}}).include(i);r.extenders.dxValidator=function(t,i){return t.dxValidator=new u(t,i),t.subscribe(n.proxy(t.dxValidator.validate,t.dxValidator)),t},DevExpress.validationEngine.registerModelForValidation=function(t){n.each(t,function(n,i){r.isObservable(i)&&i.dxValidator&&DevExpress.validationEngine.registerValidatorInGroup(t,i.dxValidator)})},DevExpress.validationEngine.validateModel=DevExpress.validationEngine.validateGroup}),DevExpress.define("/integration/knockout/ko.eventRegistrator",["jquery","/ui/events/ui.events.eventRegistrator","/ui/events/ui.events.utils"],function(n,t,i){var r=window.ko;t.callbacks.add(function(t){var f=i.addNamespace(t,t+"Binding");r.bindingHandlers[t]={update:function(t,i,u,e){var s=n(t),o=r.utils.unwrapObservable(i()),h=o.execute?o.execute:o;s.off(f).on(f,n.isPlainObject(o)?o:{},function(n){h.call(e,e,n)})}}})}),DevExpress.define("/integration/knockout/ko.cleanNode",["jquery"],function(n){var i=window.ko,t,r=n.cleanData,u=i.cleanNode;n.cleanData=function(n){for(var f=r(n),i=0;i<n.length;i++)n[i].cleanedByKo||u(n[i]),delete n[i].cleanedByKo;return t=null,f},i.cleanNode=function(n){var i=u(n);return t&&r(t),i},i.utils.domNodeDisposal.cleanExternalData=function(n){n.cleanedByKo=!0,t=t||[],t.push(n)}}),DevExpress.define("/integration/knockout/ko.cleanNodeIE8",["jquery"],function(n){var f=window.ko,t=function(n,t){var i=function(){f.cleanNode(this)};t?n.each(i):n.find("*").each(i)},e=n.fn.empty,i,r,u;n.fn.empty=function(){return t(this,!1),e.apply(this,arguments)},i=n.fn.remove,n.fn.remove=function(n,r){if(!r){var u=this;n&&(u=u.filter(n)),t(u,!0)}return i.call(this,n,r)},r=n.fn.html,n.fn.html=function(n){return typeof n=="string"&&t(this,!1),r.apply(this,arguments)},u=n.fn.replaceWith,n.fn.replaceWith=function(){var i=u.apply(this,arguments);return this.parent().length||t(this,!0),i}}),DevExpress.define("/integration/angular/ng.componentRegistrator",["jquery","/componentRegistrator","/class","/utils/utils.common","/utils/utils.dom","/ui/ui.widget","/ui/ui.editor","/integration/angular/ng.templateProvider","/integration/angular/ng.module"],function(n,t,i,r,u,f,e,o,s){var l=DevExpress.data.utils.compileSetter,a=DevExpress.data.utils.compileGetter,b="dxItemAlias",v="scopeValue",y="dxElementModel",k=["rendering"],p=function(n,t){t.$root.$$phase?n(t):t.$apply(function(){n(t)})},c=i.inherit({ctor:function(t){this._componentDisposing=n.Callbacks(),this._optionChangedCallbacks=n.Callbacks(),this._scope=t.scope,this._$element=t.$element,this._$element.data(y,this._scope),this._$templates=t.$templates,this._componentClass=t.componentClass,this._parse=t.parse,this._compile=t.compile,this._itemAlias=t.itemAlias,this._normalizeOptions(t.ngOptions),this._initComponentBindings(),this._initComponent(this._scope),t.ngOptions?this._triggerShownEvent():this._addOptionsStringWatcher(t.ngOptionsString)},_addOptionsStringWatcher:function(n){var t=this,i=t._scope.$watch(n,function(n){n&&(i(),t._normalizeOptions(n),t._initComponentBindings(),t._component.option(t._evalOptions(t._scope)),t._triggerShownEvent())});t._componentDisposing.add(i)},_normalizeOptions:function(t){var i=this;(i._ngOptions=n.extend({},t),t)&&(t.bindingOptions&&n.each(t.bindingOptions,function(t,r){n.type(r)==="string"&&(i._ngOptions.bindingOptions[t]={dataPath:r})}),t.data&&i._initDataScope(t.data))},_triggerShownEvent:function(){var n=this;n._shownEventTimer=setTimeout(function(){u.triggerShownEvent(n._$element)}),n._componentDisposing.add(function(){clearTimeout(n._shownEventTimer)})},_initDataScope:function(t){if(typeof t=="string"){var r=t,i=this._scope;t=i.$eval(t),this._scope=i.$new(),this._synchronizeDataScopes(i,this._scope,t,r)}n.extend(this._scope,t)},_synchronizeDataScopes:function(t,i,r,u){var f=this;n.each(r,function(n){f._synchronizeScopeField({parentScope:t,childScope:i,fieldPath:n,parentPrefix:u})})},_initComponent:function(n){this._component=new this._componentClass(this._$element,this._evalOptions(n)),this._component._isHidden=!0},_initComponentBindings:function(){var t=this,i={};t._ngOptions.bindingOptions&&(n.each(t._ngOptions.bindingOptions,function(r,u){var h=r.search(/\[|\./),e=h>-1?r.substring(0,h):r,c,f,o=u.dataPath,l=!0,a=!1,v,s;u.deep!==undefined&&(a=l=!!u.deep),i[e]||(i[e]={}),i[e][r]=o,v=function(n){t._component.option(r,n),s()},s=function(){var i=n.isArray(t._scope.$eval(o))&&!a?"$watchCollection":"$watch";c!==i&&(f&&f(),f=t._scope[i](o,v,l),c=i)},s(),t._componentDisposing.add(f)}),t._optionChangedCallbacks.add(function(r){var u=r.name,f=r.component;t._scope.$root.$$phase!=="$digest"&&i&&i[u]&&p(function(){n.each(i[u],function(n,i){var r=f.option(n);t._parse(i).assign(t._scope,r)})},t._scope)}))},_compilerByTemplate:function(t){var i=this,u=this._getScopeItemsPath();return function(f,e,o){var h=n(t).clone(),s,c;if(h.appendTo(o),r.isDefined(f)){c=f.$id,s=c?f:i._createScopeWithData(f);h.on("$destroy",function(){var n=!s.$parent;n||s.$destroy()})}else s=i._scope;return u&&i._synchronizeScopes(s,u,e),p(i._compile(h),s),h}},_getScopeItemsPath:function(){if(this._componentClass.subclassOf(DevExpress.ui.CollectionWidget)&&this._ngOptions.bindingOptions&&this._ngOptions.bindingOptions.items)return this._ngOptions.bindingOptions.items.dataPath},_createScopeWithData:function(t){var i=this._scope.$new(!0);return t=this._enshureDataIsPlainObject(t),n.extend(i,t),i},_synchronizeScopes:function(t,i,r){var u=this,f=a(i+"["+r+"]")(this._scope);f=u._enshureDataIsPlainObject(f),n.each(f,function(n){u._synchronizeScopeField({parentScope:u._scope,childScope:t,fieldPath:n,parentPrefix:i,itemIndex:r})})},_synchronizeScopeField:function(n){var i=n.parentScope,o=n.childScope,t=n.fieldPath,s=n.parentPrefix,r=n.itemIndex,y=t===(this._itemAlias||v)?"":"."+t,h=r!==undefined,u=[s],f,c,e;h&&u.push("[",r,"]"),u.push(y),f=u.join(""),c=i.$watch(f,function(n,i){n!==i&&l(t)(o,n)}),e=o.$watch(t,function(n,t){if(n!==t){if(h&&!a(s)(i)[r]){e();return}l(f)(i,n)}}),this._componentDisposing.add([c,e])},_evalOptions:function(t){var i=n.extend({},this._ngOptions);return delete i.data,delete i.bindingOptions,this._ngOptions.bindingOptions&&n.each(this._ngOptions.bindingOptions,function(n,r){i[n]=t.$eval(r.dataPath)}),i._optionChangedCallbacks=this._optionChangedCallbacks,i._disposingCallbacks=this._componentDisposing,i.templateProvider=o,i.templateCompiler=n.proxy(function(n){return this._compilerByTemplate(n)},this),i.modelByElement=function(n){if(n.length)return n.data(y)},i.onActionCreated=function(t,r,u){if(u&&n.inArray(u.category,k)>-1)return r;return function(){var u=this,n=i.modelByElement(t.element()),f=arguments;return!n||!n.$root||n.$root.$$phase?r.apply(u,f):n.$apply(function(){return r.apply(u,f)})}},i.nestedComponentOptions=function(n){return{templateCompiler:n.option("templateCompiler"),modelByElement:n.option("modelByElement"),onActionCreated:n.option("onActionCreated"),nestedComponentOptions:n.option("nestedComponentOptions")}},i},_enshureDataIsPlainObject:function(t){var i;return n.isPlainObject(t)?i=t:(i={},i[v]=t),this._itemAlias&&(i[this._itemAlias]=t),i}}),h,w;c=c.inherit({ctor:function(n){this._componentName=n.componentName,this._ngModel=n.ngModel,this._ngModelController=n.ngModelController,this.callBase.apply(this,arguments)},_isNgModelRequired:function(){return this._componentClass.subclassOf(e)&&this._ngModel},_initComponentBindings:function(){this.callBase.apply(this,arguments),this._initNgModelBinding()},_initNgModelBinding:function(){if(this._isNgModelRequired()){var n=this,t=this._scope.$watch(this._ngModel,function(t,i){t!==i&&n._component.option(n._ngModelOption(),t)});n._optionChangedCallbacks.add(function(t){t.name===n._ngModelOption()&&n._ngModelController.$setViewValue(t.value)}),this._componentDisposing.add(t)}},_ngModelOption:function(){return n.inArray(this._componentName,["dxFileUploader","dxTagBox"])>-1?"values":"value"},_evalOptions:function(){if(!this._isNgModelRequired())return this.callBase.apply(this,arguments);var n=this.callBase.apply(this,arguments);return n[this._ngModelOption()]=this._parse(this._ngModel)(this._scope),n}}),h={},w=function(n){var t=n!=="dxValidator"?1:10;s.directive(n,["$compile","$parse",function(i,r){return{restrict:"A",require:"^?ngModel",priority:t,compile:function(t){var u=h[n],e=u.subclassOf(f)?t.contents().detach():null;return function(t,f,o,s){f.append(e),new c({componentClass:u,componentName:n,compile:i,parse:r,$element:f,scope:t,ngOptionsString:o[n],ngOptions:o[n]?t.$eval(o[n]):{},ngModel:o.ngModel,ngModelController:s,itemAlias:o[b]})}}}}])},t.callbacks.add(function(n,t){h[n]||w(n),h[n]=t})}),DevExpress.define("/integration/angular/ng.components",["/integration/angular/ng.module","/utils/utils.icon","/utils/utils.inflector"],function(n,t,i){n.filter("dxGlobalize",function(){return function(n,t){return Globalize.format(n,t)}}),n.directive("dxIcon",["$compile",function(n){return{restrict:"E",link:function(i,r){var f=t.getImageContainer(i.icon||i.iconSrc),e;f&&(e=n(f.get(0))(i),r.replaceWith(e))}}}]),n.directive("dxPolymorphWidget",["$compile",function(n){return{restrict:"E",scope:{name:"=",options:"="},link:function(t,r){var e=t.name,f;e&&(f=$("<div "+i.dasherize("dx-"+e)+'="options">').get(0),r.after(f),n(f)(t))}}}])}),DevExpress.define("/integration/angular/ng.defaultTemplates",["jquery"],function(n){var t={},l="dx-template-wrapper",i={container:function(){return n("<div>").addClass(l)},html:function(){return n("<div>").attr("ng-if","html").attr("ng-bind-html","html")},text:function(t){return t=t||"<div>",n(t).attr("ng-if","text").attr("ng-if","!html").attr("ng-bind","text")},primitive:function(){return n("<div>").attr("ng-if","scopeValue").attr("ng-bind","'' + scopeValue")}},r=function(){return n()},o,h,u,f,c,e;t.CollectionWidget={item:function(){return i.container().append(i.html()).append(i.text()).append(i.primitive())},itemFrame:function(){var t=n("<div>").attr("ng-class","{ 'dx-state-invisible': !visible && visible != undefined, 'dx-state-disabled': !!disabled }"),i=n("<div>").addClass("dx-item-content-placeholder");return t.append(i),t}},o="dx-button-text",t.dxButton={content:function(){var t=n("<span>").attr("ng-bind","text").attr("ng-class","{ '"+o+"' : !!text }"),r=n("<dx-icon>");return i.container().append(r).append(t).append(i.primitive())}};var a="dx-list-item-badge-container",v="dx-list-item-badge",s="dx-badge",y="dx-list-item-chevron-container",p="dx-list-item-chevron";return t.dxList={item:function(){return t.CollectionWidget.item().append(n("<div>").attr("ng-if","key").attr("ng-bind","key"))},itemFrame:function(){var i=n("<div>").addClass(a).attr("ng-if","badge"),r=n("<div>").addClass(v).addClass(s).attr("ng-bind","badge"),u=n("<div>").addClass(y).attr("ng-if","showChevron"),f=n("<div>").addClass(p);return t.CollectionWidget.itemFrame().append(i.append(r)).append(u.append(f))},group:function(){var t=n("<div>").attr("ng-if","key").attr("ng-bind","key");return i.container().append(t).append(i.primitive())}},t.dxDropDownMenu={item:t.dxList.item,content:t.dxButton.content},t.dxDropDownList={item:t.dxList.item},t.dxRadioGroup={item:t.CollectionWidget.item},t.dxScheduler={item:function(){var r=t.CollectionWidget.item(),i=n("<div>").addClass("dx-scheduler-appointment-content-details");return n("<div>").attr("ng-if","startDate").addClass("dx-scheduler-appointment-content-date").text("{{startDate | date : 'shortTime' }}").appendTo(i),n("<div>").attr("ng-if","endDate").addClass("dx-scheduler-appointment-content-date").text(" - ").appendTo(i),n("<div>").attr("ng-if","endDate").addClass("dx-scheduler-appointment-content-date").text("{{endDate | date : 'shortTime' }}").appendTo(i),i.appendTo(r),n("<span>").attr("ng-if","recurrenceRule").addClass("dx-scheduler-appointment-recurrence-icon dx-icon-repeat").appendTo(r),r},appointmentTooltip:r,appointmentPopup:r},t.dxOverlay={content:r},t.dxSlideOutView={menu:r,content:r},t.dxSlideOut={menuItem:t.dxList.item,menuGroup:t.dxList.group,content:r},t.dxAccordion={title:function(){var t=n("<span>").attr("ng-if","title").attr("ng-bind","title"),r=n("<dx-icon>");return i.container().append(r).append(t).append(i.primitive())},content:t.CollectionWidget.item},t.dxPivotTabs={item:function(){return i.container().append(n("<span>").attr("ng-if","title || scopeValue && scopeValue.title").attr("ng-bind","title || scopeValue && scopeValue.title")).append(i.primitive().attr("ng-if","scopeValue && !scopeValue.title"))}},t.dxPivot={title:t.dxPivotTabs.item,content:r},h="dx-panorama-item-title",t.dxPanorama={itemFrame:function(){return t.CollectionWidget.itemFrame().prepend(n("<div>").addClass(h).attr("ng-if","title").attr("ng-bind","title"))}},t.dxActionSheet={item:function(){return i.container().append(n("<div>").attr("dx-button","{ bindingOptions: { text: 'text', onClick: 'onClick', type: 'type', disabled: 'disabled' } }"))}},t.dxToolbar={item:function(){var i=t.CollectionWidget.item();return n('<dx-polymorph-widget name="widget" options="options">').appendTo(i),i},menuItem:t.dxList.item,actionSheetItem:t.dxActionSheet.item},u="dx-gallery-item-image",t.dxGallery={item:function(){return i.container().append(i.html()).append(i.text()).append(n("<img>").addClass(u).attr("ng-if","scopeValue").attr("ng-src","{{'' + scopeValue}}")).append(n("<img>").addClass(u).attr("ng-if","imageSrc").attr("ng-src","{{imageSrc}}").attr("ng-attr-alt","{{imageAlt}}"))}},f="dx-tab-text",t.dxTabs={item:function(){var t=i.container(),r=n("<dx-icon>"),u=i.text("<span>").addClass(f);return t.append(i.html()).append(r).append(u).append(i.primitive().addClass(f))},itemFrame:function(){var i=n("<div>").addClass("dx-tabs-item-badge dx-badge").attr("ng-bind","badge").attr("ng-if","badge");return t.CollectionWidget.itemFrame().append(i)}},c="dx-navbar-item-badge",t.dxNavBar={itemFrame:function(){var i=n("<div>").addClass(c).addClass(s).attr("ng-if","badge").attr("ng-bind","badge");return t.CollectionWidget.itemFrame().append(i)}},t.dxMenuBase={item:function(){var t=i.container(),r=n("<span>").attr("ng-if","text").addClass("dx-menu-item-text").attr("ng-bind","text"),u=n("<dx-icon>"),f=n("<span>").addClass("dx-menu-item-popout-container").attr("ng-if","items").append(n("<div>").addClass("dx-menu-item-popout"));return t.append(i.html()).append(u).append(r).append(f).append(i.primitive()).appendTo(t),t}},t.dxTreeView={item:function(){var t=i.container(),r=n("<span/>").attr("ng-bind","text"),u=n("<dx-icon>");return t.append(i.html()).append(u).append(r).append(i.primitive()),t}},t.dxTabPanel={item:t.CollectionWidget.item,title:function(){var n=t.dxTabs.item();return n.find(".dx-tab-text").eq(0).attr("ng-bind","title").attr("ng-if","title"),n.find("[ng-if='html']").remove(),n}},e=function(){return n("<div>").attr("dx-toolbar","{ bindingOptions: { items: 'scopeValue' } }")},t.dxPopup={title:e,bottom:e},t.dxLookup={title:t.dxPopup.title,group:t.dxList.group},t.dxTagBox={tag:function(){return n("<div>").append(n("<span>").attr("ng-bind","scopeValue"))}},t}),DevExpress.define("/integration/angular/ng.template",["jquery","/ui/templates/ui.templateBase","/utils/utils.dom"],function(n,t,i){return t.inherit({ctor:function(n,t){this.callBase(n,t),this.setCompiler(this._getParentTemplateCompiler())},_getParentTemplateCompiler:function(){for(var i=null,t=this.owner();!i&&t;)i=n.isFunction(t.option)?t.option("templateCompiler"):null,t=n.isFunction(t.owner)?t.owner():null;return i},_renderCore:function(t,i,r){var u=this._compiledTemplate;return n.isFunction(u)?u(t,i,r):u},setCompiler:function(n){n&&(this._compiledTemplate=n(i.normalizeTemplateElement(this._element)))}})}),DevExpress.define("/integration/angular/ng.templateProvider",["jquery","/utils/utils.dom","/integration/jquery/jquery.templateProvider","/integration/angular/ng.template","/integration/angular/ng.defaultTemplates"],function(n,t,i,r,u){var e=i.constructor.inherit({createTemplate:function(n,t){return new r(n,t)},getTemplates:function(t){var r=t.option("templateCompiler"),i=this.callBase.apply(this,arguments);return n.each(i,function(n,t){t.setCompiler&&t.setCompiler(r)}),i},_templatesForWidget:function(i){var o=u[i],e;return o?(e={},n.each(o,function(n,i){var u=t.createMarkupFromString(i());e[n]=new r(u.wrap(),f)}),e):this.callBase(i)}}),f=new e;return f}),DevExpress.define("/integration/angular/ng.eventRegistrator",["jquery","/ui/events/ui.events.eventRegistrator","/integration/angular/ng.module"],function(n,t,i){t.callbacks.add(function(t){var u=t.slice(0,2)+t.charAt(2).toUpperCase()+t.slice(3);i.directive(u,["$parse",function(i){return function(r,f,e){var h=n.trim(e[u]),o,s={};h.charAt(0)==="{"?(s=r.$eval(h),o=i(s.execute)):o=i(e[u]);f.on(t,s,function(n){r.$apply(function(){o(r,{$event:n})})})}}])})}),DevExpress.define("/integration/angular/ng.module",[],function(){return window.angular.module("dx",["ngSanitize"])}),DevExpress.define("/ui/events/ui.events",["/ui/uiNamespace","/ui/events/pointer/ui.events.pointer"],function(n){n.events={}}),DevExpress.require("/ui/events/ui.events"),DevExpress.define("/core",["/coreNamespace","/errors","/utils/utils.animationFrame","/utils/utils.viewPort","/utils/utils.hardwareBack","/utils/utils.topOverlay","/utils/utils.queue","/eventsMixin","/endpointSelector","/color","/devices","/componentRegistrator","/utils/utils"],function(n,t,i,r,u,f,e,o,s,h,c,l){return n.requestAnimationFrame=function(){return t.log("W0000","DevExpress.requestAnimationFrame","15.2","Use the 'DevExpress.utils.requestAnimationFrame' method instead."),i.request.apply(i,arguments)},n.cancelAnimationFrame=function(){return t.log("W0000","DevExpress.cancelAnimationFrame","15.2","Use the 'DevExpress.utils.cancelAnimationFrame' method instead."),i.cancel.apply(i,arguments)},n.processHardwareBackButton=u.process,n.hideTopOverlay=f.hide,n.registerComponent=l,n.EventsMixin=o,n.EndpointSelector=s,n.devices=c,n.createQueue=e.create,n.viewPort=r.value,n.Color=h,n}),DevExpress.require(["/core"]),DevExpress.define("/ui/ui",["/ui/uiNamespace","/ui/ui.dialog","/core","/ui/events/ui.events"],function(n,t){return n.notify=t.notify,n.dialog={custom:t.custom,alert:t.alert,confirm:t.confirm},n}),DevExpress.require(["/ui/ui"]),DevExpress.define("/integration/jquery/jquery",["jquery","/errors","/utils/utils.version"],function(n,t,i){if(i.compare(n.fn.jquery,[1,10])<0)throw t.Error("E0012");}),DevExpress.require(["/integration/jquery/jquery"]),DevExpress.define("/integration/knockout/ko",["/utils/utils.support","/errors","/utils/utils.version","require"],function(n,t,i,r){if(n.hasKo){var u=window.ko;if(i.compare(u.version,[2,3])<0)throw t.Error("E0013");r(["/integration/knockout/ko.componentRegistrator","/integration/knockout/ko.eventRegistrator","/integration/knockout/ko.components","/integration/knockout/ko.validation"]),i.compare($.fn.jquery,[2,0])>=0?r(["/integration/knockout/ko.cleanNode"]):r(["/integration/knockout/ko.cleanNodeIE8"])}}),DevExpress.require(["/integration/knockout/ko"]),DevExpress.define("/integration/angular/ng",["/utils/utils.support","require"],function(n,t){n.hasNg&&t(["/integration/angular/ng.componentRegistrator","/integration/angular/ng.eventRegistrator","/integration/angular/ng.components"])}),DevExpress.require(["/integration/angular/ng"]),function(n,t){var h=Math.abs,b=t.ui.events,e=t.require("/devices"),o=t.require("/utils/utils.dom"),v=t.require("/utils/utils.animationFrame"),u=t.require("/ui/events/ui.events.utils"),c=t.require("/ui/events/pointer/ui.events.pointer"),y=t.require("/ui/events/ui.events.emitter"),p=t.require("/ui/events/ui.events.emitterRegistrator"),s="dxclick",l=10,a=function(t){return n(t).is("input, textarea, select, button ,:focus, :focus *")},w={requestAnimationFrame:v.request},f=y.inherit({ctor:function(t){this.callBase(t),this._makeElementClickable(n(t))},_makeElementClickable:function(n){n.attr("onclick")||n.attr("onclick","void(0)")},start:function(n){this._blurPrevented=n.dxPreventBlur,this._startTarget=n.target,this._startEventData=u.eventData(n)},end:function(t){if(this._eventOutOfElement(t,this.getElement().get(0))||t.type===c.cancel){this._cancel(t);return}a(t.target)||this._blurPrevented||o.resetActiveElement(),this._accept(t),w.requestAnimationFrame(n.proxy(function(){this._fireClickEvent(t)},this))},_eventOutOfElement:function(t,i){var r=t.target,e=!n.contains(i,r)&&i!==r,f=u.eventDelta(u.eventData(t),this._startEventData),o=h(f.x)>l||h(f.y)>l;return e||o},_fireClickEvent:function(n){this._fireEvent(s,n,{target:o.closestCommonParent(this._startTarget,n.target)})}});(function(){var r=e.real().generic,t,i;if(r){t=null,f=f.inherit({start:function(){t=null},end:n.noop,cancel:function(){t=!0}}),i=function(n){n.which&&n.which!==1||t||u.fireEvent({type:s,originalEvent:n})};n(document).on(u.addNamespace("click","NATIVE_DXCLICK_STRATEGY"),i)}})(),function(){var i=e.real().ios,t;i&&(t="dxGestureLock",f=f.inherit({_fireClickEvent:function(i){for(var r=n(i.target);r.length;){if(n.data(r.get(0),t))return;r=r.parent()}this.callBase.apply(this,arguments)}}))}(),function(){var f=e.real().generic;if(!f){var t=null,i=!1,s=function(n){t=n.target,i=n.dxPreventBlur},h=function(r){var u=n(r.target);i||!t||u.is(t)||n(t).is("label")||!a(u)||o.resetActiveElement(),t=null,i=!1},r="NATIVE_CLICK_FIXER";n(document).on(u.addNamespace(c.down,r),s).on(u.addNamespace("click",r),h)}}(),p({emitter:f,bubble:!0,events:[s]})}(jQuery,DevExpress,window),function(n,t){var r=t.require("/ui/events/ui.events.utils"),o=t.require("/ui/events/ui.events.emitter"),s=t.require("/ui/events/ui.events.emitterRegistrator"),u=Math.abs,f="dxhold",h=750,e=5,c=o.inherit({start:function(n){this._startEventData=r.eventData(n),this._startTimer(n)},_startTimer:function(t){var i="timeout"in this?this.timeout:h;this._holdTimer=setTimeout(n.proxy(function(){this._requestAccept(t),this._fireEvent(f,t,{target:t.target}),this._forgetAccept()},this),i)},move:function(n){this._touchWasMoved(n)&&this._cancel(n)},_touchWasMoved:function(n){var t=r.eventDelta(this._startEventData,r.eventData(n));return u(t.x)>e||u(t.y)>e},end:function(){this._stopTimer()},_stopTimer:function(){clearTimeout(this._holdTimer)},cancel:function(){this._stopTimer()}});s({emitter:c,bubble:!0,events:[f]})}(jQuery,DevExpress),function(n,t){var r=t.require("/ui/events/ui.events.utils"),v=t.require("/ui/events/ui.events.emitter.gesture"),y=t.require("/ui/events/ui.events.emitterRegistrator"),f="dxscrollinit",e="dxscrollstart",o="dxscroll",s="dxscrollend",h="dxscrollstop",c="dxscrollcancel",p=100,w=200,b=Math.round(1e3/60),u="dxGestureLock",k=400,l=r.addNamespace("scroll","dxScrollEmitter"),a=function(n){return n.type==="dxmousewheel"},d=v.inherit({ctor:function(t){this.callBase.apply(this,arguments),this.direction="both",this._lastWheelDirection=null,this._proxiedTreatScroll=n.proxy(this._treatScroll,this);n(t).on(l,this._proxiedTreatScroll)},validate:function(){return!0},_domElement:function(){return this.getElement().get(0)},_treatScroll:function(){this._prepareGesture(),this._forgetGesture()},_prepareGesture:function(){this._gestureEndTimer&&this._clearGestureTimer(),n.data(this._domElement(),u,!0)},_clearGestureTimer:function(){clearTimeout(this._gestureEndTimer),n.data(this._domElement(),u,!1),this._gestureEndTimer=null},_forgetGesture:function(){var n=this;this._gestureEndTimer=setTimeout(function(){n._clearGestureTimer()},k)},_init:function(t){!this._wheelDirectionChanged(t)&&n.data(this._domElement(),u)?this._accept(t):this._clearGestureTimer(),this._fireEvent(f,t)},_wheelDirectionChanged:function(n){if(!a(n))return!1;var t=n.shiftKey,i=this._lastWheelDirection!==null&&t!==this._lastWheelDirection;return this._lastWheelDirection=t,i},move:function(n){this.callBase.apply(this,arguments),n.isScrollingEvent=this.isNative||n.isScrollingEvent},_start:function(n){this._savedEventData=r.eventData(n),this._fireEvent(e,n,{delta:r.eventDelta(this._savedEventData,r.eventData(n))})},_move:function(n){var t=r.eventData(n),i;this._fireEvent(o,n,{delta:r.eventDelta(this._prevEventData,t)}),i=r.eventDelta(this._savedEventData,t),i.time>w&&(this._savedEventData=this._prevEventData)},_end:function(n){var f=r.eventDelta(this._prevEventData,r.eventData(n)),u={x:0,y:0},t,i;!a(n)&&f.time<p&&(t=r.eventDelta(this._savedEventData,this._prevEventData),i=b/t.time,u={x:t.x*i,y:t.y*i}),this._fireEvent(s,n,{velocity:u})},_stop:function(n){this._fireEvent(h,n)},cancel:function(n){this.callBase.apply(this,arguments),this._fireEvent(c,n)},dispose:function(){this.callBase.apply(this,arguments),this._clearGestureTimer(),this.getElement().off(l,this._proxiedTreatScroll)}});y({emitter:d,events:[f,e,o,s,h,c]})}(jQuery,DevExpress),function(n,t){var r=t.require("/ui/events/ui.events.utils"),o=t.require("/ui/events/ui.events.emitter.gesture"),s=t.require("/ui/events/ui.events.emitterRegistrator"),u="dxswipestart",f="dxswipe",e="dxswipeend",h={defaultItemSizeFunc:function(){return this.getElement().width()},getBounds:function(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio:function(n){var t=r.eventData(n);return(t.x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,n)},isFastSwipe:function(n){var t=r.eventData(n);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.x-this._tickData.x)>=t.time-this._tickData.time}},c={defaultItemSizeFunc:function(){return this.getElement().height()},getBounds:function(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio:function(n){var t=r.eventData(n);return(t.y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,n)},isFastSwipe:function(n){var t=r.eventData(n);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.y-this._tickData.y)>=t.time-this._tickData.time}},l={horizontal:h,vertical:c},a=o.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor:function(n){this.callBase(n),this.direction="horizontal",this.elastic=!0},_getStrategy:function(){return l[this.direction]},_defaultItemSizeFunc:function(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc:function(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init:function(n){this._tickData=r.eventData(n)},_start:function(n){this._savedEventData=r.eventData(n),n=this._fireEvent(u,n),n.cancel||(this._maxLeftOffset=n.maxLeftOffset,this._maxRightOffset=n.maxRightOffset,this._maxTopOffset=n.maxTopOffset,this._maxBottomOffset=n.maxBottomOffset)},_move:function(n){var u=this._getStrategy(),i=r.eventData(n),t=u.calcOffsetRatio.call(this,n);t=this._fitOffset(t,this.elastic),i.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=i),this._fireEvent(f,n,{offset:t}),n.preventDefault()},_end:function(n){var r=this._getStrategy(),u=r.calcOffsetRatio.call(this,n),f=r.isFastSwipe.call(this,n),t=u,i=this._calcTargetOffset(u,f);t=this._fitOffset(t,this.elastic),i=this._fitOffset(i,!1),this._fireEvent(e,n,{offset:t,targetOffset:i})},_fitOffset:function(n,t){var r=this._getStrategy(),i=r.getBounds.call(this);return n<-i[0]?t?(-2*i[0]+n)/3:-i[0]:n>i[1]?t?(2*i[1]+n)/3:i[1]:n},_calcTargetOffset:function(n,t){var i;return t?(i=Math.ceil(Math.abs(n)),n<0&&(i=-i)):i=Math.round(n),i}});s({emitter:a,events:[u,f,e]})}(jQuery,DevExpress),function(n,t,i){var p=t.require("/utils/utils.array").wrapToArray,f=t.require("/ui/events/ui.events.eventRegistrator"),e=t.require("/ui/events/ui.events.utils"),w=t.require("/ui/events/ui.events.emitter.gesture"),b=t.require("/ui/events/ui.events.emitterRegistrator"),a="dxdragstart",v="dxdrag",y="dxdragend",o="dxdragenter",s="dxdragleave",h="dxdrop",r=[],u=[],c=[],l={setup:function(t,i){var f=n.inArray(t,r)!==-1;f||(r.push(t),u.push([]),c.push(i||{}))},add:function(t,i){var f=n.inArray(t,r),e=i.selector;n.inArray(e,u[f])===-1&&u[f].push(e)},teardown:function(t){var l=n._data(t,"events"),e=0,f;n.each([o,s,h],function(n,t){var i=l[t];i&&(e+=i.length)}),e||(f=n.inArray(t,r),r.splice(f,1),u.splice(f,1),c.splice(f,1))}};f(o,l),f(s,l),f(h,l);var k=function(t){var o=n.inArray(t.get(0),r),e=u[o],f=t.find(e.join(", "));return n.inArray(i,e)!==-1&&(f=f.addBack()),f},d=function(t){var i=n.inArray(t.get(0),r);return c[i]},g=function(n,t){return n.itemPositionFunc?n.itemPositionFunc(t):t.offset()},nt=function(n,t){return n.itemSizeFunc?n.itemSizeFunc(t):{width:t.width(),height:t.height()}},tt=w.inherit({ctor:function(n){this.callBase(n),this.direction="both"},_init:function(n){this._initEvent=n},_start:function(t){t=this._fireEvent(a,this._initEvent),this._maxLeftOffset=t.maxLeftOffset,this._maxRightOffset=t.maxRightOffset,this._maxTopOffset=t.maxTopOffset,this._maxBottomOffset=t.maxBottomOffset;var i=p(t.targetElements||(t.targetElements===null?[]:r));this._dropTargets=n.map(i,function(t){return n(t).get(0)})},_move:function(n){var i=e.eventData(n),t=this._calculateOffset(i);this._fireEvent(v,n,{offset:t}),this._processDropTargets(n,t),n.preventDefault()},_calculateOffset:function(n){return{x:this._calculateXOffset(n),y:this._calculateYOffset(n)}},_calculateXOffset:function(n){if(this.direction!=="vertical"){var t=n.x-this._startEventData.x;return this._fitOffset(t,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset:function(n){if(this.direction!=="horizontal"){var t=n.y-this._startEventData.y;return this._fitOffset(t,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:function(n,t,i){return t!=null&&(n=Math.max(n,-t)),i!=null&&(n=Math.min(n,i)),n},_processDropTargets:function(n){var i=this._findDropTarget(n),r=i===this._currentDropTarget;r||(this._fireDropTargetEvent(n,s),this._currentDropTarget=i,this._fireDropTargetEvent(n,o))},_fireDropTargetEvent:function(n,t){if(this._currentDropTarget){var i={type:t,originalEvent:n,draggingElement:this._$element.get(0),target:this._currentDropTarget};e.fireEvent(i)}},_findDropTarget:function(t){var i=this,u;return n.each(r,function(r,f){if(i._checkDropTargetActive(f)){var e=n(f);n.each(k(e),function(r,f){var o=n(f);i._checkDropTarget(d(e),o,t)&&(u=f)})}}),u},_checkDropTargetActive:function(t){var i=!1;return n.each(this._dropTargets,function(r,u){return i=i||u===t||n.contains(u,t),!i}),i},_checkDropTarget:function(n,t,i){var f=t.get(0)===this._$element.get(0),r,u;return f?!1:(r=g(n,t),i.pageX<r.left)?!1:i.pageY<r.top?!1:(u=nt(n,t),i.pageX>r.left+u.width)?!1:i.pageY>r.top+u.height?!1:t},_end:function(n){var t=e.eventData(n);this._fireEvent(y,n,{offset:this._calculateOffset(t)}),this._fireDropTargetEvent(n,h),delete this._currentDropTarget}});b({emitter:tt,events:[a,v,y]})}(jQuery,DevExpress),function(n,t){var o=t.require("/utils/utils.math"),b=t.require("/ui/ui.errors"),k=t.require("/ui/events/ui.events.utils"),d=t.require("/ui/events/ui.events.emitter"),g=t.require("/ui/events/ui.events.emitterRegistrator"),s="dx",nt="transform",tt="translate",f="zoom",h="pinch",it="rotate",c="start",l="",a="end",e=[],r=function(n,t){e.push({name:n,args:t})};r(nt,{scale:!0,deltaScale:!0,rotation:!0,deltaRotation:!0,translation:!0,deltaTranslation:!0}),r(tt,{translation:!0,deltaTranslation:!0}),r(f,{scale:!0,deltaScale:!0}),r(h,{scale:!0,deltaScale:!0}),r(it,{rotation:!0,deltaRotation:!0});var rt=function(n,t){return{x:t.pageX-n.pageX,y:-t.pageY+n.pageY,centerX:(t.pageX+n.pageX)*.5,centerY:(t.pageY+n.pageY)*.5}},v=function(n){var t=n.pointers;return rt(t[0],t[1])},u=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},y=function(n,t){return u(n)/u(t)},p=function(n,t){var e=n.x*t.x+n.y*t.y,i=u(n)*u(t),r,f;return i===0?0:(r=o.sign(n.x*t.y-t.x*n.y),f=Math.acos(o.fitIntoRange(e/i,-1,1)),r*f)},w=function(n,t){return{x:n.centerX-t.centerX,y:n.centerY-t.centerY}},ut=d.inherit({configurate:function(n,t){t.indexOf(f)>-1&&b.log("W0005",t,"15.1","Use '"+t.replace(f,h)+"' event instead"),this.callBase(n)},validatePointers:function(n){return k.hasTouches(n)>1},start:function(n){this._accept(n);var t=v(n);this._startVector=t,this._prevVector=t,this._fireEventAliases(c,n)},move:function(n){var t=v(n),i=this._getEventArgs(t);this._fireEventAliases(l,n,i),this._prevVector=t},end:function(n){var t=this._getEventArgs(this._prevVector);this._fireEventAliases(a,n,t)},_getEventArgs:function(n){return{scale:y(n,this._startVector),deltaScale:y(n,this._prevVector),rotation:p(n,this._startVector),deltaRotation:p(n,this._prevVector),translation:w(n,this._startVector),deltaTranslation:w(n,this._prevVector)}},_fireEventAliases:function(t,i,r){r=r||{},n.each(e,n.proxy(function(u,f){var e={};n.each(f.args,function(n){n in r&&(e[n]=r[n])}),this._fireEvent(s+f.name+t,i,e)},this))}});g({emitter:ut,events:n.map(e,function(t){var i=[];return n.each([c,l,a],function(n,r){i.push(s+t.name+r)}),i})})}(jQuery,DevExpress),function(n,t){var o=t.require("/utils/utils.dom"),s=t.require("/class"),h=t.require("/ui/events/ui.events.eventRegistrator"),r=t.require("/ui/events/ui.events.utils"),u="dxdblclick",c="dxDblClick",f=r.addNamespace("dxclick",c),e=300,l=s.inherit({ctor:function(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick:function(){this._firstClickTarget=null,this._lastClickTimeStamp=-e},add:function(){if(this._handlerCount<=0)n(document).on(f,n.proxy(this._clickHandler,this));this._handlerCount++},_clickHandler:function(t){var i=t.timeStamp||n.now();i-this._lastClickTimeStamp<e?(r.fireEvent({type:u,target:o.closestCommonParent(this._firstClickTarget,t.target),originalEvent:t}),this._forgetLastClick()):(this._firstClickTarget=t.target,this._lastClickTimeStamp=i)},remove:function(){this._handlerCount--,this._handlerCount<=0&&(this._forgetLastClick(),n(document).off(f))}});h(u,new l)}(jQuery,DevExpress),function(n,t){var o=t.require("/utils/utils.support"),f=t.require("/devices"),s=t.require("/class"),h=t.require("/ui/events/ui.events.eventRegistrator"),r=t.require("/ui/events/ui.events.utils"),u="dxContexMenu",c=r.addNamespace("contextmenu",u),l=r.addNamespace("dxhold",u),e="dxcontextmenu",a=s.inherit({setup:function(t){var r=n(t);r.on(c,n.proxy(this._contextMenuHandler,this));if(o.touch||f.isSimulator())r.on(l,n.proxy(this._holdHandler,this))},_holdHandler:function(n){(!r.isMouseEvent(n)||f.isSimulator())&&this._fireContextMenu(n)},_contextMenuHandler:function(n){n=this._fireContextMenu(n),n.cancel||n.preventDefault()},_fireContextMenu:function(n){return r.fireEvent({type:e,originalEvent:n})},teardown:function(t){n(t).off("."+u)}});h(e,new a)}(jQuery,DevExpress),DevExpress.define("/ui/ui.dataHelper",["jquery"],function(n){var t=DevExpress.data,i="_dataSourceOptions",r="_dataSourceChangedHandler",u="_dataSourceLoadErrorHandler",f="_dataSourceLoadingChangedHandler";return{postCtor:function(){this.on("disposing",function(){this._disposeDataSource()})},_refreshDataSource:function(){this._initDataSource(),this._loadDataSource()},_initDataSource:function(){var r=this.option("dataSource"),u,f;this._disposeDataSource(),r&&(r instanceof t.DataSource?(this._isSharedDataSource=!0,this._dataSource=r):(u=i in this?this[i]():{},f=this._dataSourceType?this._dataSourceType():t.DataSource,this._dataSource=new f(n.extend(!0,{},u,t.utils.normalizeDataSourceOptions(r)))),this._addDataSourceHandlers())},_addDataSourceHandlers:function(){r in this&&this._addDataSourceChangeHandler(),u in this&&this._addDataSourceLoadErrorHandler(),f in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher:function(){this._dataSource.on("loadingChanged",n.proxy(function(n){this._ready&&this._ready(!n)},this))},_addDataSourceChangeHandler:function(){var t=this._dataSource;this._proxiedDataSourceChangedHandler=n.proxy(function(){this[r](t.items())},this);t.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler:function(){this._proxiedDataSourceLoadErrorHandler=n.proxy(this[u],this);this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler:function(){this._proxiedDataSourceLoadingChangedHandler=n.proxy(this[f],this);this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource:function(){if(this._dataSource){var n=this._dataSource;n.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():n.load()}},_loadSingle:function(n,t){return n=n==="this"?this._dataSource.key()||"this":n,this._dataSource.loadSingle(n,t)},_isLastPage:function(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading:function(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource:function(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)}}}),DevExpress.define("/ui/ui.dataExpression",["jquery","/utils/utils.knockout","/utils/utils.common","/ui/templates/ui.template.function","/ui/ui.dataHelper"],function(n,t,i,r,u){var f=DevExpress.data.utils;return n.extend(u,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:undefined}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new DevExpress.data.DataSource({store:new DevExpress.data.ArrayStore(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=f.compileGetter(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=f.compileGetter(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var r=n.Deferred();return(t=this._unwrappedValue(t),!i.isDefined(t))?r.reject().promise():(this._loadSingle(this._valueGetterExpr(),t).done(n.proxy(function(n){this._isValueEquals(this._valueGetter(n),t)?r.resolve(n):r.reject()},this)).fail(function(){r.reject()}),r.promise())},_unwrappedValue:function(n){if(n=i.isDefined(n)?n:this.option("value"),n&&this._dataSource&&this._valueGetterExpr()==="this"){var r=this._dataSource.key();r&&typeof n=="object"&&(n=n[r])}return t.unwrapObservable(n)},_isValueEquals:function(n,r){var e=i.isDefined,o=i.ensureDefined,s=t.unwrapObservable,u=this._dataSource&&this._dataSource.key(),f=this._compareValues(n,r),h,c;return!f&&e(n)&&e(r)&&u&&(h=o(s(n[u]),n),c=o(s(r[u]),r),f=this._compareValues(h,c)),f},_compareValues:function(n,t){return f.toComparable(n)===f.toComparable(t)},_initDynamicTemplates:function(){this._displayGetterExpr()?this._dynamicTemplates.item=new r(n.proxy(function(n){return this._displayGetter(n)},this)):delete this._dynamicTemplates.item},_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this._getTemplateByOption("itemTemplate"))},_dataExpressionOptionChanged:function(n){switch(n.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._setCollectionWidgetItemTemplate()}}})}),function(n,t,i){var p=t.ui,w=t.require("/utils/utils.dom"),b=t.require("/utils/utils.common"),k=t.require("/action"),d=t.require("/ui/ui.widget"),r=t.require("/ui/events/ui.events.utils"),g=t.require("/ui/events/pointer/ui.events.pointer"),nt=t.require("/ui/ui.dataHelper"),tt=t.require("/integration/jquery/jquery.selectors"),it="dx-collection",u="dx-item",o="-content",s="dx-item-content-placeholder",rt="dxItemData",h="dxItemIndex",ut="tmpl-",ft="[data-options*='dxItem']",et="dx-item-selected",ot="dx-item-response-wait",st="dx-empty-collection",ht="dx-template-wrapper",ct="dx-state-disabled",lt="dx-state-invisible",at=/^items[\[\.](\d+)[\.\]].(\w+)/,f="up",e="down",c="left",l="right",vt="pageup",yt="pagedown",a="last",v="first",y=d.inherit({_activeStateUnit:"."+u,_supportedKeys:function(){var i=function(n){var t=this.option("focusedElement");t&&(n.target=t,n.currentTarget=t,this._itemClickHandler(n))},t=function(n,t){t.preventDefault(),t.stopPropagation(),this._moveFocus(n,t)};return n.extend(this.callBase(),{space:i,enter:i,leftArrow:n.proxy(t,this,c),rightArrow:n.proxy(t,this,l),upArrow:n.proxy(t,this,f),downArrow:n.proxy(t,this,e),pageUp:n.proxy(t,this,f),pageDown:n.proxy(t,this,e),home:n.proxy(t,this,v),end:n.proxy(t,this,a)})},_getDefaultOptions:function(){return n.extend(this.callBase(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:Globalize.localize("dxCollectionWidget-noDataText"),dataSource:null,_itemAttributes:{},itemTemplateProperty:"template",focusOnSelectedItem:!0,focusedElement:null})},_getAnonymousTemplateName:function(){return"item"},_init:function(){this.callBase(),this._cleanRenderedItems(),this._refreshDataSource()},_initTemplates:function(){this._initItemsFromMarkup(),this.callBase()},_initItemsFromMarkup:function(){var t=this.element().contents().filter(ft),i;t.length&&!this.option("items").length&&(i=n.map(t,n.proxy(function(t){var i=n(t),r=w.getElementOptions(t).dxItem,u=n.trim(i.html())&&!r.template;return u?r.template=this._prepareItemTemplate(i):i.remove(),r},this)),this.option("items",i))},_prepareItemTemplate:function(n){var i=ut+new t.data.Guid,r='dxTemplate: { name: "'+i+'" }';return n.attr("data-options",r).data("options",r),i},_dataSourceOptions:function(){return{paginate:!1}},_cleanRenderedItems:function(){this._renderedItemsCount=0},_focusTarget:function(){return this.element()},_focusInHandler:function(t){var i,r;(this.callBase.apply(this,arguments),n.inArray(t.target,this._focusTarget())!==-1)&&(i=this.option("focusedElement"),i&&i.length?this._setFocusedItem(i):(r=this._getActiveItem(),this.option("focusedElement",r)))},_focusOutHandler:function(){this.callBase.apply(this,arguments);var t=this.option("focusedElement");t&&this._toggleFocusClass(!1,t)},_getActiveItem:function(n){var t=this.option("focusedElement");if(t&&t.length)return t;var i=this.option("focusOnSelectedItem")?this.option("selectedIndex"):0,r=this._getActiveElement(),u=r.length-1;return i<0&&(i=n?u:0),r.eq(i)},_renderFocusTarget:function(){this.callBase.apply(this,arguments),this._refreshActiveDescendant()},_moveFocus:function(n){var t=this._itemElements().filter(":visible").not(".dx-state-disabled"),i;switch(n){case vt:case f:i=this._prevItem(t);break;case yt:case e:i=this._nextItem(t);break;case l:i=this.option("rtlEnabled")?this._prevItem(t):this._nextItem(t);break;case c:i=this.option("rtlEnabled")?this._nextItem(t):this._prevItem(t);break;case v:i=t.first();break;case a:i=t.last();break;default:return!1}i.length!==0&&this.option("focusedElement",i)},_prevItem:function(t){var r=this._getActiveItem(),u=t.index(r),f=t.last(),i=n(t[u-1]),e=this.option("loopItemFocus");return i.length===0&&e&&(i=f),i},_nextItem:function(t){var r=this._getActiveItem(!0),u=t.index(r),f=t.first(),i=n(t[u+1]),e=this.option("loopItemFocus");return i.length===0&&e&&(i=f),i},_selectFocusedItem:function(n){this.selectItem(n)},_removeFocusedItem:function(n){n&&n.length&&(this._toggleFocusClass(!1,n),n.removeAttr("id"))},_refreshActiveDescendant:function(){this.setAria("activedescendant",""),this.setAria("activedescendant",this.getFocusedItemId())},_setFocusedItem:function(n){if(n&&n.length){n.attr("id",this.getFocusedItemId()),this._toggleFocusClass(!0,n);this.onFocusedItemChanged(this.getFocusedItemId());this._refreshActiveDescendant(),this.option("selectOnFocus")&&this._selectFocusedItem(n)}},_findItemElementByIndex:function(t){var i=n();return this.itemElements().each(function(){var r=n(this);if(r.data(h)===t)return i=r,!1}),i},_itemOptionChanged:function(n,t,i){var r=this._findItemElementByIndex(n),u=this._getItemData(r);switch(t){case"visible":this._renderItemVisibleState(r,i);break;case"disabled":this._renderItemDisableState(r,i);break;default:this._renderItem(n,u,null,r)}},_renderItemVisibleState:function(n,t){n.toggleClass(lt,!t)},_renderItemDisableState:function(n,t){n.toggleClass(ct,!!t)},_optionChanged:function(n){if(n.name==="items"){var t=n.fullName.match(at);if(t&&t.length){this._itemOptionChanged(parseInt(t[1],10),t[2],n.value);return}}switch(n.name){case"items":case"_itemAttributes":case"itemTemplateProperty":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._dataSource||this.option("items",[]),this._renderEmptyMessage();break;case"noDataText":this._renderEmptyMessage();break;case"itemTemplate":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"selectOnFocus":case"loopItemFocus":case"focusOnSelectedItem":break;case"focusedElement":this._removeFocusedItem(n.previousValue),this._setFocusedItem(n.value);break;default:this.callBase(n)}},_loadNextPage:function(){var n=this._dataSource;return this._expectNextPageLoading(),n.pageIndex(1+n.pageIndex()),n.load()},_expectNextPageLoading:function(){this._startIndexForAppendedItems=0},_expectLastItemLoading:function(){this._startIndexForAppendedItems=-1},_forgetNextPageLoading:function(){this._startIndexForAppendedItems=null},_dataSourceChangedHandler:function(n){var t=this.option("items");this._initialized&&t&&this._shouldAppendItems()?(this._renderedItemsCount=t.length,this._isLastPage()&&this._startIndexForAppendedItems===-1||(this.option().items=t.concat(n.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._renderContent(),this._renderFocusTarget()):this.option("items",n)},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this.option("items",this.option("items"))},_shouldAppendItems:function(){return this._startIndexForAppendedItems!=null&&this._allowDinamicItemsAppend()},_allowDinamicItemsAppend:function(){return!1},_clean:function(){this._cleanFocusState(),this._cleanItemContainer()},_cleanItemContainer:function(){this._itemContainer().empty()},_refresh:function(){this._cleanRenderedItems(),this.callBase.apply(this,arguments)},_itemContainer:function(){return this.element()},_itemClass:function(){return u},_itemContentClass:function(){return this._itemClass()+o},_selectedItemClass:function(){return et},_itemResponseWaitClass:function(){return ot},_itemSelector:function(){return"."+this._itemClass()},_itemDataKey:function(){return rt},_itemIndexKey:function(){return h},_itemElements:function(){return this._itemContainer().find(this._itemSelector())},_render:function(){this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.callBase(),this.element().addClass(it),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()},_attachClickEvent:function(){var t=this._itemSelector(),i=r.addNamespace("dxclick",this.NAME),u=r.addNamespace(g.down,this.NAME),f=this,e=new k(function(n){var t=n.event;f._itemPointerDownHandler(t)});this._itemContainer().off(i,t).off(u,t).on(i,t,n.proxy(function(n){this._itemClickHandler(n)},this)).on(u,t,function(t){e.execute({element:n(t.target),event:t})})},_itemClickHandler:function(n,t,i){this._itemJQueryEventHandler(n,"onItemClick",t,i)},_itemPointerDownHandler:function(t){if(this.option("focusStateEnabled")){var i=n(t.target),r=i.closest(this._itemElements()),u=i.closest(tt.focusable);r.length&&n.inArray(u.get(0),this._focusTarget())!==-1&&this.option("focusedElement",r)}},_attachHoldEvent:function(){var t=this._itemContainer(),i=this._itemSelector(),u=r.addNamespace("dxhold",this.NAME);if(t.off(u,i),this._shouldAttachHoldEvent())t.on(u,i,{timeout:this._getHoldTimeout()},n.proxy(this._itemHoldHandler,this))},_getHoldTimeout:function(){return this.option("itemHoldTimeout")},_shouldAttachHoldEvent:function(){return this.option("onItemHold")},_itemHoldHandler:function(n){this._itemJQueryEventHandler(n,"onItemHold")},_attachContextMenuEvent:function(){var t=this._itemContainer(),i=this._itemSelector(),u=r.addNamespace("dxcontextmenu",this.NAME);if(t.off(u,i),this._shouldAttachContextMenuEvent())t.on(u,i,n.proxy(this._itemContextMenuHandler,this))},_shouldAttachContextMenuEvent:function(){return this.option("onItemContextMenu")},_itemContextMenuHandler:function(n){this._itemJQueryEventHandler(n,"onItemContextMenu")},_renderContentImpl:function(){var n=this.option("items")||[];this._renderedItemsCount?this._renderItems(n.slice(this._renderedItemsCount)):this._renderItems(n)},_renderItems:function(t){t.length&&n.each(t,n.proxy(this._renderItem,this)),this._renderEmptyMessage()},_renderItem:function(t,i,r,u){var f,e,h,o;return r=r||this._itemContainer(),f=this._renderItemFrame(t,i,r,u),this._setElementData(f,i,t),f.attr(this.option("_itemAttributes")),this._attachItemClickEvent(i,f),e=f.find("."+s),e.removeClass(s),h=this._renderItemContent(t,i,e),o=this,n.when(h).done(function(n){o._postprocessRenderItem({itemElement:f,itemContent:n,itemData:i,itemIndex:t}),o._executeItemRenderAction(t,i,f)}),f},_attachItemClickEvent:function(t,i){if(t&&t.onClick)i.on("dxclick",n.proxy(function(n){this._itemEventHandlerByHandler(i,t.onClick,{jQueryEvent:n})},this))},_renderItemContent:function(n,t,i){var u=t&&t.node,f=this._getItemTemplateName(t),e=this._getTemplate(f,t,n,i),o={index:n,item:t,container:i},r;return u?(i.replaceWith(u),i=u,this._addItemContentClasses(i,t)):(this._addItemContentClasses(i,t),r=this._createItemByTemplate(e,o),r.hasClass(ht)&&(i.replaceWith(r),i=r,this._addItemContentClasses(i,t))),i},_addItemContentClasses:function(n){n.addClass([u+o,this._itemContentClass()].join(" "))},_renderItemFrame:function(n,t,i,r){var f=this.option("templateProvider").getTemplates(this).itemFrame,u=f.render(b.isDefined(t)?t:{},i,n);return r&&r.length?r.replaceWith(u):u.appendTo(i),u},_postprocessRenderItem:n.noop,_executeItemRenderAction:function(n,t,i){this._getItemRenderAction()({itemElement:i,itemIndex:n,itemData:t})},_setElementData:function(n,t,i){n.addClass([u,this._itemClass()].join(" ")).data(this._itemDataKey(),t).data(this._itemIndexKey(),i)},_createItemRenderAction:function(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["designMode","disabled","readOnly"],category:"rendering"})},_getItemRenderAction:function(){return this._itemRenderAction||this._createItemRenderAction()},_getItemTemplateName:function(n){var t=this.option("itemTemplateProperty");return n&&n[t]||this.option("itemTemplate")},_createItemByTemplate:function(n,t){return n.render(t.item,t.container,t.index,"ignoreTarget")},_renderEmptyMessage:function(){var t=this.option("noDataText"),u=this.option("items"),r=!t||u&&u.length||this._isDataSourceLoading();r&&this._$nodata&&(this._$nodata.remove(),this._$nodata=null,this.setAria("label",i)),r||(this._$nodata=this._$nodata||n("<div>").addClass("dx-empty-message"),this._$nodata.appendTo(this._itemContainer()).html(t),this.setAria("label",t)),this.element().toggleClass(st,!r)},_itemJQueryEventHandler:function(t,i,r,u){this._itemEventHandler(t.target,i,n.extend(r,{jQueryEvent:t}),u)},_itemEventHandler:function(t,i,r,u){var f=this._createActionByOption(i,n.extend({validatingTargetName:"itemElement"},u));return this._itemEventHandlerImpl(t,f,r)},_itemEventHandlerByHandler:function(t,i,r,u){var f=this._createAction(i,n.extend({validatingTargetName:"itemElement"},u));return this._itemEventHandlerImpl(t,f,r)},_itemEventHandlerImpl:function(t,i,r){var u=this._closestItemElement(n(t));return i(n.extend(this._extendActionArgs(u),r))},_extendActionArgs:function(n){return{itemElement:n,itemIndex:this._itemElements().index(n),itemData:this._getItemData(n)}},_closestItemElement:function(t){return n(t).closest(this._itemSelector())},_getItemData:function(t){return n(t).data(this._itemDataKey())},getFocusedItemId:function(){return this._focusedItemId||(this._focusedItemId=new DevExpress.data.Guid),this._focusedItemId},itemElements:function(){return this._itemElements()},itemsContainer:function(){return this._itemContainer()}}).include(nt);y.publicName("CollectionWidget"),p.CollectionWidget=y}(jQuery,DevExpress),function(n,t,i){var r=t.ui,o=t.require("/ui/ui.errors"),e=t.require("/utils/utils.array"),u=t.require("/utils/utils.common"),f="dxItemDeleting",s=r.CollectionWidget.inherit({_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{selectedItem:!0})},_getDefaultOptions:function(){return n.extend(this.callBase(),{selectionMode:"none",selectionRequired:!1,selectionByClick:!0,selectedItems:[],selectedIndex:-1,selectedItem:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})},_init:function(){this._initEditStrategy(),this.callBase(),this._selectedItemIndices=[]},_initEditStrategy:function(){var n=r.CollectionWidget.PlainEditStrategy;this._editStrategy=new n(this)},_forgetNextPageLoading:function(){this.callBase(),this._selectedItemIndices=this._editStrategy.selectedItemIndices()},_render:function(){this._syncSelectionOptions(),this._normalizeSelectedItems(),this._initSelectedItems(),this.callBase(),this._renderSelection(this._selectedItemIndices,[])},_syncSelectionOptions:function(n){n=n||this._chooseSelectOption();var t,i;switch(n){case"selectedIndex":t=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),u.isDefined(t)?(this._setOptionSilent("selectedItems",[t]),this._setOptionSilent("selectedItem",t)):(this._setOptionSilent("selectedItems",[]),this._setOptionSilent("selectedItem",null));break;case"selectedItems":i=this.option("selectedItems")||[],this._setOptionSilent("selectedItem",i[0]),this._setOptionSilent("selectedIndex",this._editStrategy.getIndexByItemData(i[0]));break;case"selectedItem":t=this.option("selectedItem"),u.isDefined(t)?(this._setOptionSilent("selectedItems",[t]),this._setOptionSilent("selectedIndex",this._editStrategy.getIndexByItemData(t))):(this._setOptionSilent("selectedItems",[]),this._setOptionSilent("selectedIndex",-1))}},_chooseSelectOption:function(){var n="selectedIndex";return this.option("selectedItems").length?n="selectedItems":u.isDefined(this.option("selectedItem"))&&(n="selectedItem"),n},_normalizeSelectedItems:function(){var n,t;this.option("selectionMode")==="none"?(this._setOptionSilent("selectedItems",[]),this._syncSelectionOptions("selectedItems")):this.option("selectionMode")==="single"&&(n=this._editStrategy.selectedItemIndices(this.option("selectedItems")),(n.length>1||!n.length&&this.option("selectionRequired")&&this.option("items")&&this.option("items").length)&&(t=[n[0]||this._selectedItemIndices[0]||0],this._setOptionSilent("selectedItems",this._editStrategy.fetchSelectedItems(t)),this._syncSelectionOptions("selectedItems")))},_initSelectedItems:function(){this._selectedItemIndices=this._editStrategy.selectedItemIndices(this.option("selectedItems"))},_renderSelection:n.noop,_itemClickHandler:function(t){this._createAction(n.proxy(function(n){this._itemSelectHandler(n.jQueryEvent)},this),{validatingTargetName:"itemElement"})({itemElement:n(t.currentTarget),jQueryEvent:t}),this.callBase.apply(this,arguments)},_itemSelectHandler:function(n){if(this.option("selectionByClick")){var t=n.currentTarget;this.isItemSelected(t)?this.unselectItem(n.currentTarget):this.selectItem(n.currentTarget)}},_selectedItemElement:function(n){return this._itemElements().eq(n)},_postprocessRenderItem:function(t){var i=n(t.itemElement);this._isItemSelected(this._editStrategy.getNormalizedIndex(i))?(i.addClass(this._selectedItemClass()),this._setAriaSelected(i,"true")):this._setAriaSelected(i,"false")},_updateSelectedItems:function(){var r=this,u=this._selectedItemIndices.slice(),f=this._editStrategy.selectedItemIndices(),t=e.removeDublicates(f,u),i=e.removeDublicates(u,f),o;n.each(i,function(n,t){r._removeSelection(t)}),n.each(t,function(n,t){r._addSelection(t)}),(i.length||t.length)&&(o=this._selectionChangePromise,this._updateSelection(t,i),n.when(o).done(function(){r._fireSelectionChangeEvent(t,i)}))},_fireSelectionChangeEvent:function(n,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})(this._editStrategy.fetchSelectionDifference(n,t))},_updateSelection:function(){this._renderSelection.apply(this,arguments)},_setAriaSelected:function(n,t){this.setAria("selected",t,n)},_removeSelection:function(t){var i=this._editStrategy.getItemElement(t),r=n.inArray(t,this._selectedItemIndices);r>-1&&(i.removeClass(this._selectedItemClass()),this._setAriaSelected(i,"false"),this._selectedItemIndices.splice(r,1),i.triggerHandler("stateChanged"))},_addSelection:function(n){var t=this._editStrategy.getItemElement(n);n>-1&&!this._isItemSelected(n)&&(t.addClass(this._selectedItemClass()),this._setAriaSelected(t,"true"),this._selectedItemIndices.push(n),t.triggerHandler("stateChanged"))},_isItemSelected:function(t){return n.inArray(t,this._selectedItemIndices)>-1},_optionChanged:function(n){if(!this._cancelOptionChange)switch(n.name){case"selectionMode":this._invalidate();break;case"selectedIndex":case"selectedItem":case"selectedItems":this._syncSelectionOptions(n.name),this._normalizeSelectedItems(),this._updateSelectedItems();break;case"selectionRequired":this._normalizeSelectedItems(),this._updateSelectedItems();break;case"selectionByClick":case"onSelectionChanged":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":break;default:this.callBase(n)}},_clearSelectedItems:function(){this._selectedItemIndices=[],this._setOptionSilent("selectedItems",[]),this._syncSelectionOptions("selectedItems")},_setOptionSilent:function(n,t){this._cancelOptionChange=!0,this.option(n,t),this._cancelOptionChange=!1},_waitDeletingPrepare:function(t){if(t.data(f))return n.Deferred().resolve().promise();t.data(f,!0);var i=n.Deferred(),r=this._itemEventHandler(t,"onItemDeleting",{},{excludeValidators:["disabled","readOnly"]});return n.when(r).always(n.proxy(function(n){var u=!r,e=!u&&r.state()==="resolved",o=!!arguments.length,s=u||e&&!o||e&&n;t.data(f,!1),s?i.resolve():i.reject()},this)),i.promise()},_deleteItemFromDS:function(t){if(!this._dataSource)return n.Deferred().resolve().promise();var r=n.Deferred(),f=this.option("disabled"),u=this._dataSource.store();if(this.option("disabled",!0),!u.remove)throw o.Error("E1011");return u.remove(u.keyOf(this._getItemData(t))).done(function(n){n!==i?r.resolve():r.reject()}).fail(function(){r.reject()}),r.always(n.proxy(function(){this.option("disabled",f)},this)),r},_tryRefreshLastPage:function(){var t=n.Deferred();return this._isLastPage()||this.option("grouped")?t.resolve():this._refreshLastPage().done(function(){t.resolve()}),t.promise()},_refreshLastPage:function(){return this._expectLastItemLoading(),this._dataSource.load()},_updateSelectionAfterDelete:function(t){var i=n.inArray(t,this._selectedItemIndices);i>-1&&this._selectedItemIndices.splice(i,1),this._editStrategy.updateSelectionAfterDelete(t),this.option("selectedItems",this._editStrategy.fetchSelectedItems())},_simulateOptionChange:function(n){var i=this.option(n);i instanceof t.data.DataSource||this.fireEvent("optionChanged",[{name:n,fullName:n,value:i}])},isItemSelected:function(n){return this._isItemSelected(this._editStrategy.getNormalizedIndex(n))},selectItem:function(t){var i=this._editStrategy.getNormalizedIndex(t),u,r;i!==-1&&(u=n.inArray(i,this._selectedItemIndices),u===-1)&&(this.option("selectionMode")==="single"?this.option("selectedItems",this._editStrategy.fetchSelectedItems([i])):(r=this._selectedItemIndices.slice(),r.push(i),this.option("selectedItems",this._editStrategy.fetchSelectedItems(r))))},unselectItem:function(t){var u=this._editStrategy.getNormalizedIndex(t),r,i;u!==-1&&(r=n.inArray(u,this._selectedItemIndices),r!==-1)&&((i=this._selectedItemIndices.slice(),i.splice(r,1),this.option("selectionRequired")&&i.length===0)||this.option("selectedItems",this._editStrategy.fetchSelectedItems(i)))},deleteItem:function(t){var i=this,u=n.Deferred(),r=this._editStrategy.getItemElement(t),f=this._editStrategy.getNormalizedIndex(t),o=this._dataSource?"dataSource":"items",e=this._itemResponseWaitClass();return f>-1?this._waitDeletingPrepare(r).done(function(){r.addClass(e);var n=i._extendActionArgs(r);i._deleteItemFromDS(r).done(function(){i._editStrategy.deleteItemAtIndex(f),i._simulateOptionChange(o),i._updateSelectionAfterDelete(f),i._itemEventHandler(r,"onItemDeleted",n,{beforeExecute:function(){r.detach()},excludeValidators:["disabled","readOnly"]}),i._renderEmptyMessage(),i._tryRefreshLastPage().done(function(){u.resolveWith(i)})}).fail(function(){r.removeClass(e),u.rejectWith(i)})}).fail(function(){u.rejectWith(i)}):u.rejectWith(i),u.promise()},reorderItem:function(t,i){var e=n.Deferred(),o=this,r=this._editStrategy,h=r.getItemElement(t),c=r.getItemElement(i),u=r.getNormalizedIndex(t),f=r.getNormalizedIndex(i),s,l=u>-1&&f>-1&&u!==f;return l?this._dataSource?(s="dataSource",e.resolveWith(this)):(s="items",e.resolveWith(this)):e.rejectWith(this),e.promise().done(function(){c[r.itemPlacementFunc(u,f)](h);var n=r.getSelectedItemsAfterReorderItem(u,f);r.moveItemAtIndexToIndex(u,f),o._selectedItemIndices=r.selectedItemIndices(n),o.option("selectedItems",r.fetchSelectedItems()),o._simulateOptionChange(s),o._itemEventHandler(h,"onItemReordered",{fromIndex:r.getIndex(u),toIndex:r.getIndex(f)},{excludeValidators:["disabled","readOnly"]})})}});r.CollectionWidget=s}(jQuery,DevExpress),function(n,t){var f=t.ui,u=DevExpress.require("/class"),r=u.abstract;f.CollectionWidget.EditStrategy=u.inherit({ctor:function(n){this._collectionWidget=n},getIndexByItemData:r,getItemDataByIndex:r,getNormalizedIndex:function(n){return this._isNormalisedItemIndex(n)?n:this._isItemIndex(n)?this._normalizeItemIndex(n):this._isDOMNode(n)?this._getNormalizedItemIndex(n):this._normalizeItemIndex(this.getIndexByItemData(n))},getIndex:function(n){return this._isNormalisedItemIndex(n)?this._denormalizeItemIndex(n):this._isItemIndex(n)?n:this._isDOMNode(n)?this._denormalizeItemIndex(this._getNormalizedItemIndex(n)):this.getIndexByItemData(n)},getItemElement:function(t){return this._isNormalisedItemIndex(t)?this._getItemByNormalizedIndex(t):this._isItemIndex(t)?this._getItemByNormalizedIndex(this._normalizeItemIndex(t)):this._isDOMNode(t)?n(t):this._getItemByNormalizedIndex(this.getIndexByItemData(t))},deleteItemAtIndex:r,updateSelectionAfterDelete:r,fetchSelectedItems:r,fetchSelectionDifference:function(n,t){return{addedItems:this.fetchSelectedItems(n),removedItems:this.fetchSelectedItems(t)}},selectedItemIndices:r,itemPlacementFunc:function(n,t){return this._itemsFromSameParent(n,t)&&n<t?"after":"before"},moveItemAtIndexToIndex:r,getSelectedItemsAfterReorderItem:function(){return this._collectionWidget.option("selectedItems")},_isNormalisedItemIndex:function(t){return n.isNumeric(t)},_isDOMNode:function(t){var i=n(t);return i.length&&i.get(0).nodeType},_isItemIndex:r,_getNormalizedItemIndex:r,_normalizeItemIndex:r,_denormalizeItemIndex:r,_getItemByNormalizedIndex:r,_itemsFromSameParent:r})}(jQuery,DevExpress),function(n,t){var r=t.ui,f=t.require("/ui/ui.errors"),u=t.require("/utils/utils.array");r.CollectionWidget.PlainEditStrategy=r.CollectionWidget.EditStrategy.inherit({_getPlainItems:function(){return this._collectionWidget.option("items")||[]},getIndexByItemData:function(t){return n.inArray(t,this._getPlainItems())},getItemDataByIndex:function(n){return this._getPlainItems()[n]},deleteItemAtIndex:function(n){this._getPlainItems().splice(n,1)},updateSelectionAfterDelete:function(t){var i=this._collectionWidget._selectedItemIndices;n.each(i,function(n,r){r>t&&(i[n]-=1)})},fetchSelectedItems:function(t){var r,i,u,f;return t=t||this._collectionWidget._selectedItemIndices,t.sort(function(n,t){return n-t}),r=this._getPlainItems(),i=[],n.each(t,function(n,t){i.push(r[t])}),this._collectionWidget._dataSource&&(u=this._collectionWidget.option("selectedItems"),f=n.grep(u,function(t){return n.inArray(t,r)===-1}),i=i.concat(f)),i},fetchSelectionDifference:function(t,i){var r=this.callBase(t,i);if(this._collectionWidget._dataSource){var f=r.addedItems,e=r.removedItems,o=u.intersection(f,e);n.each(o,function(t,i){var r=n.inArray(i,f),u=n.inArray(i,e);f.splice(r,1),e.splice(u,1)})}return r},selectedItemIndices:function(){var t=[],i=this._getPlainItems(),r=this._collectionWidget.option("selectedItems"),u=this._collectionWidget._dataSource;return n.each(r,function(r,u){var f=n.inArray(u,i);f!==-1&&t.push(f)}),t},moveItemAtIndexToIndex:function(n,t){var i=this._getPlainItems(),r=i[n];i.splice(n,1),i.splice(t,0,r)},_isItemIndex:function(t){return n.isNumeric(t)},_getNormalizedItemIndex:function(n){return this._collectionWidget._itemElements().index(n)},_normalizeItemIndex:function(n){return n},_denormalizeItemIndex:function(n){return n},_getItemByNormalizedIndex:function(n){return n>-1?this._collectionWidget._itemElements().eq(n):null},_itemsFromSameParent:function(){return!0}})}(jQuery,DevExpress),DevExpress.define("/ui/ui.tooltip",["jquery","/utils/utils.viewPort"],function(n,t){var i=null,u=function(i){i=n.extend({position:"top"},i);var r=i.content;return delete i.content,n("<div />").html(r).appendTo(t.value()).dxTooltip(i)},r=function(){i&&(i.remove(),i=null)};return{show:function(n){return r(),i=u(n),i.dxTooltip("show")},hide:function(){return i?i.dxTooltip("hide").done(r).promise():n.when()}}}),DevExpress.MOD_CORE=!0);if(!window.DevExpress||!DevExpress.MOD_WIDGETS_BASE){if(!window.DevExpress||!DevExpress.MOD_CORE)throw Error("Required module is not referenced: core");(function(n,t,i){var s=t.ui,h=t.require("/utils/utils.support"),p=t.require("/utils/utils.browser"),o=t.require("/utils/utils.common"),c=t.require("/devices"),w=t.require("/componentRegistrator"),b=t.require("/domComponent"),k=t.require("/integration/jquery/jquery.selectors"),e=t.require("/ui/events/ui.events.utils"),u="dxScrollable",d="dxScrollableStrategy",a="dx-scrollable",g="dx-scrollable-disabled",nt="dx-scrollable-container",v="dx-scrollable-content",r="vertical",f="horizontal",l="both",y=function(){return[{device:function(){return!h.nativeScrolling},options:{useNative:!1}},{device:function(n){return!h.nativeScrolling&&!c.isSimulator()&&c.real().platform==="generic"&&n.platform==="generic"},options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:h.touch,showScrollbar:"onHover"}}]};w(u,s,b.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{disabled:!1,onScroll:null,direction:r,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,onStop:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,pushBackValue:0})},_defaultOptionsRules:function(){return this.callBase().concat(y(),[{device:function(){return h.nativeScrolling&&c.real().platform==="android"},options:{useSimulatedScrollbar:!0}},{device:function(){return c.real().platform==="ios"},options:{pushBackValue:1}}])},_initOptions:function(n){this.callBase(n),"useSimulatedScrollbar"in n||this._setUseSimulatedScrollbar()},_setUseSimulatedScrollbar:function(){this._initialOptions.useSimulatedScrollbar||this.option("useSimulatedScrollbar",!this.option("useNative"))},_init:function(){this.callBase(),this._initMarkup(),this._attachNativeScrollbarsCustomizationCss(),this._locked=!1},_visibilityChanged:function(n){this.element().is(":hidden")||(n?(this.update(),this._toggleRTLDirection(this.option("rtlEnabled")),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset):this._savedScrollOffset=this.scrollOffset())},_initMarkup:function(){var t=this.element().addClass(a),i=this._$container=n("<div>").addClass(nt),r=this._$content=n("<div>").addClass(v);t.on(e.addNamespace("beforeactivate",u),function(t){n(t.target).is(k.focusable)||t.preventDefault()});r.append(t.contents()).appendTo(i),i.appendTo(t)},_dimensionChanged:function(){this.update()},_attachNativeScrollbarsCustomizationCss:function(){navigator.platform.indexOf("Mac")>-1&&p.webkit||this.element().addClass("dx-scrollable-customizable-scrollbars")},_render:function(){this._renderPushBackOffset(),this._renderDirection(),this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),this.callBase()},_renderPushBackOffset:function(){var n=this.option("pushBackValue");(n||this._lastPushBackValue)&&(this._$content.css({paddingTop:n,paddingBottom:n}),this._lastPushBackValue=n)},_toggleRTLDirection:function(n){this.callBase(n),n&&this.option("direction")!==r&&this.scrollTo({left:this.scrollWidth()-this.clientWidth()})},_attachEventHandlers:function(){var t=this._strategy,i={getDirection:n.proxy(t.getDirection,t),validate:n.proxy(this._validate,this),isNative:this.option("useNative")};this._$container.off("."+u).on(e.addNamespace("scroll",u),n.proxy(t.handleScroll,t)).on(e.addNamespace("dxscrollinit",u),i,n.proxy(this._initHandler,this)).on(e.addNamespace("dxscrollstart",u),n.proxy(t.handleStart,t)).on(e.addNamespace("dxscroll",u),n.proxy(t.handleMove,t)).on(e.addNamespace("dxscrollend",u),n.proxy(t.handleEnd,t)).on(e.addNamespace("dxscrollcancel",u),n.proxy(t.handleCancel,t)).on(e.addNamespace("dxscrollstop",u),n.proxy(t.handleStop,t))},_validate:function(n){return this._isLocked()?!1:(this.update(),this._strategy.validate(n))},_initHandler:function(){var n=this._strategy;n.handleInit.apply(n,arguments)},_renderDisabledState:function(){this.element().toggleClass(g,this.option("disabled")),this.option("disabled")?this._lock():this._unlock()},_renderDirection:function(){this.element().removeClass("dx-scrollable-"+f).removeClass("dx-scrollable-"+r).removeClass("dx-scrollable-"+l).addClass("dx-scrollable-"+this.option("direction"))},_renderStrategy:function(){this._createStrategy(),this._strategy.render(),this.element().data(d,this._strategy)},_createStrategy:function(){this._strategy=this.option("useNative")?new s.dxScrollable.NativeStrategy(this):new s.dxScrollable.SimulatedStrategy(this)},_createActions:function(){this._strategy.createActions()},_clean:function(){this._strategy.dispose()},_optionChanged:function(n){switch(n.name){case"onStart":case"onEnd":case"onStop":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":case"pushBackValue":this._invalidate();break;case"disabled":this._renderDisabledState();break;default:this.callBase(n)}},_resetInactiveDirection:function(){var t=this._getInactiveProp(),n;t&&(n=this.scrollOffset(),n[t]=0,this.scrollTo(n))},_getInactiveProp:function(){var n=this.option("direction");return n===r?"left":n===f?"top":void 0},_location:function(){return this._strategy.location()},_normalizeLocation:function(t){var u,e,s;return n.isPlainObject(t)?(u=o.ensureDefined(t.left,t.x),e=o.ensureDefined(t.top,t.y),{left:o.isDefined(u)?-u:i,top:o.isDefined(e)?-e:i}):(s=this.option("direction"),{left:s!==r?-t:0,top:s!==f?-t:0})},_isLocked:function(){return this._locked},_lock:function(){this._locked=!0},_unlock:function(){this._locked=!1},_isDirection:function(n){var t=this.option("direction");return n===r?t!==f:n===f?t!==r:t===n},_updateAllowedDirection:function(){var n=this._strategy._allowedDirections();this._allowedDirectionValue=this._isDirection(l)&&n.vertical&&n.horizontal?l:this._isDirection(f)&&n.horizontal?f:this._isDirection(r)&&n.vertical?r:null},_allowedDirection:function(){return this._allowedDirectionValue},_container:function(){return this._$container},content:function(){return this._$content},scrollOffset:function(){var n=this._location();return{top:-n.top,left:-n.left}},scrollTop:function(){return this.scrollOffset().top},scrollLeft:function(){return this.scrollOffset().left},clientHeight:function(){return this._$container.height()},scrollHeight:function(){return this.content().outerHeight()-2*this.option("pushBackValue")},clientWidth:function(){return this._$container.width()},scrollWidth:function(){return this.content().outerWidth()},update:function(){return this._strategy.update(),this._updateAllowedDirection(),n.when().promise()},scrollBy:function(t){(t=n.extend({top:0,left:0},this._normalizeLocation(t)),t.top||t.left)&&(this.update(),this._strategy.scrollBy(t))},scrollTo:function(n){var t=this._location();n=this._normalizeLocation(n),this.scrollBy({left:t.left-o.ensureDefined(n.left,t.left),top:t.top-o.ensureDefined(n.top,t.top)})},scrollToElement:function(t,i){var e,o;i=i||{};var u=n(t),s=this.content().find(t).length,h=u.parents("."+a).length-u.parents("."+v).length==0;s&&h&&(e={top:0,left:0},o=this.option("direction"),o!==r&&(e.left=this._scrollToElementPosition(u,f,i)),o!==f&&(e.top=this._scrollToElementPosition(u,r,i)),this.scrollTo(e))},_scrollToElementPosition:function(n,t,i){var u=t===r,h=(u?i.top:i.left)||0,c=(u?i.bottom:i.right)||0,l=u?this.option("pushBackValue"):0,a=this._elementPositionRelativeToContent(n,u?"top":"left"),s=a-l,v=n[u?"outerHeight":"outerWidth"](),f=u?this.scrollTop():this.scrollLeft(),y=u?this.clientHeight():this.clientWidth(),e=f-s+h,o=f-s-v+y-c;return e<=0&&o>=0?f:f-(Math.abs(e)>Math.abs(o)?o:e)},_elementPositionRelativeToContent:function(n,t){for(var i=0;this._hasScrollContent(n);)i+=n.position()[t],n=n.offsetParent();return i},_hasScrollContent:function(n){var t=this.content();return n.closest(t).length&&!n.is(t)}})),s.dxScrollable.deviceDependentOptions=y})(jQuery,DevExpress),function(n,t){var l=t.ui,a=t.require("/utils/utils.translator"),v=t.require("/componentRegistrator"),y=t.require("/ui/ui.widget"),e=t.require("/ui/events/ui.events.utils"),o=t.require("/ui/events/pointer/ui.events.pointer"),f="dxScrollbar",s="dx-scrollable-scrollbar",h=s+"-active",p="dx-scrollable-scroll",w="dx-scrollable-scroll-content",b="dx-scrollbar-hoverable",c="horizontal",k=15,r={onScroll:"onScroll",onHover:"onHover",always:"always",never:"never"},u;v(f,l.dxScrollable,y.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:r.onScroll,containerSize:0,contentSize:0,expandable:!0})},_init:function(){this.callBase(),this._isHovered=!1},_render:function(){this._renderThumb(),this.callBase(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode()),this.element().toggleClass(b,this.option("hoverStateEnabled"))},_renderThumb:function(){this._$thumb=n("<div>").addClass(p),n("<div>").addClass(w).appendTo(this._$thumb),this.element().addClass(s).append(this._$thumb)},isThumb:function(n){return!!this.element().find(n).length},_isHoverMode:function(){var n=this.option("visibilityMode");return(n===r.onHover||n===r.always)&&this.option("expandable")},_renderDirection:function(){var n=this.option("direction");this.element().addClass("dx-scrollbar-"+n),this._dimension=n===c?"width":"height",this._prop=n===c?"left":"top"},_attachPointerDownHandler:function(){this._$thumb.on(e.addNamespace(o.down,f),n.proxy(this.feedbackOn,this))},feedbackOn:function(){this.element().addClass(h),u=this},feedbackOff:function(){this.element().removeClass(h),u=null},cursorEnter:function(){this._isHovered=!0,this.option("visible",!0)},cursorLeave:function(){this._isHovered=!1,this.option("visible",!1)},_renderDimensions:function(){this._$thumb.outerHeight(this.option("height")),this._$thumb.outerWidth(this.option("width"))},_toggleVisibility:function(n){this.option("visibilityMode")===r.onScroll&&this._$thumb.css("opacity"),n=this._adjustVisibility(n),this.option().visible=n,this._$thumb.toggleClass("dx-state-invisible",!n)},_adjustVisibility:function(n){if(this.containerToContentRatio()&&!this._needScrollbar())return!1;switch(this.option("visibilityMode")){case r.onHover:n=n||!!this._isHovered;break;case r.never:n=!1;break;case r.always:n=!0}return n},moveTo:function(t){if(!this._isHidden()){n.isPlainObject(t)&&(t=t[this._prop]||0);var i={};i[this._prop]=this._calculateScrollBarPosition(t),a.move(this._$thumb,i)}},_calculateScrollBarPosition:function(n){return-n*this._thumbRatio},_update:function(){var n=this.option("containerSize"),i=this.option("contentSize"),t;this._containerToContentRatio=n/i,t=Math.round(Math.max(Math.round(n*this._containerToContentRatio),k)),this._thumbRatio=(n-t)/(i-n),this.option(this._dimension,t),this.element().toggle(this._needScrollbar())},_isHidden:function(){return this.option("visibilityMode")===r.never},_needScrollbar:function(){return!this._isHidden()&&this._containerToContentRatio<1},containerToContentRatio:function(){return this._containerToContentRatio},_normalizeSize:function(t){return n.isPlainObject(t)?t[this._dimension]||0:t},_clean:function(){this.callBase(),this===u&&(u=null),this._$thumb.off("."+f)},_optionChanged:function(n){if(!this._isHidden())switch(n.name){case"containerSize":case"contentSize":this.option()[n.name]=this._normalizeSize(n.value),this._update();break;case"visibilityMode":case"direction":this._invalidate();break;default:this.callBase.apply(this,arguments)}},update:function(){this._adjustVisibility()&&this.option("visible",!0)}})),u=null;n(document).on(e.addNamespace(o.up,f),function(){u&&u.feedbackOff()})}(jQuery,DevExpress),function(n,t,i){var o=t.ui,s=t.require("/devices"),h=DevExpress.require("/class"),e="dxNativeScrollable",f="dx-scrollable-native",c="dx-scrollable-scrollbar-simulated",l="dx-scrollable-scrollbars-hidden",r="vertical",u="horizontal",a=500;o.dxScrollable.NativeStrategy=h.inherit({ctor:function(n){this._init(n)},_init:function(t){this._component=t,this._$element=t.element(),this._$container=t._$container,this._$content=t._$content,this._direction=t.option("direction"),this._useSimulatedScrollbar=t.option("useSimulatedScrollbar"),this._showScrollbar=t.option("showScrollbar"),this.option=n.proxy(t.option,t),this._createActionByOption=n.proxy(t._createActionByOption,t),this._isLocked=n.proxy(t._isLocked,t),this._isDirection=n.proxy(t._isDirection,t),this._allowedDirection=n.proxy(t._allowedDirection,t)},render:function(){var n=s.real(),t=n.platform;this._$element.addClass(f).addClass(f+"-"+t).toggleClass(l,!this._showScrollbar),this._showScrollbar&&this._useSimulatedScrollbar&&this._renderScrollbars()},_renderScrollbars:function(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(c),this._renderScrollbar(r),this._renderScrollbar(u)},_renderScrollbar:function(t){if(this._isDirection(t)){var i=n("<div>").dxScrollbar({direction:t,expandable:this._component.option("scrollByThumb")}).appendTo(this._$element);this._scrollbars[t]=i.dxScrollbar("instance")}},handleInit:n.noop,handleStart:function(){this._disablePushBack=!0},handleMove:function(n){if(this._isLocked()){n.cancel=!0;return}this._allowedDirection()&&(n.originalEvent.isScrollingEvent=!0)},handleEnd:function(){this._disablePushBack=!1},handleStop:n.noop,_eachScrollbar:function(t){t=n.proxy(t,this),n.each(this._scrollbars||{},function(n,i){t(i,n)})},createActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")},_createActionArgs:function(){var n=this.location();return{jQueryEvent:this._eventForUserAction,scrollOffset:{top:-n.top,left:-n.left},reachedLeft:this._isDirection(u)?n.left>=0:i,reachedRight:this._isDirection(u)?n.left<=this._containerSize.width-this._componentContentSize.width:i,reachedTop:this._isDirection(r)?n.top>=0:i,reachedBottom:this._isDirection(r)?n.top<=this._containerSize.height-this._componentContentSize.height:i}},handleScroll:function(n){if(!this._isScrollLocationChanged()){n.stopImmediatePropagation();return}this._eventForUserAction=n,this._moveScrollbars(),this._scrollAction(this._createActionArgs()),this._lastLocation=this.location(),this._pushBackFromBoundary()},_pushBackFromBoundary:function(){var n=this.option("pushBackValue");if(n&&!this._disablePushBack){var t=this._containerSize.height-this._contentSize.height,i=this._$container.scrollTop(),r=t+i-n*2;i?r||this._$container.scrollTop(n-t):this._$container.scrollTop(n)}},_isScrollLocationChanged:function(){var n=this.location(),t=this._lastLocation||{},i=t.top!==n.top,r=t.left!==n.left;return i||r},_moveScrollbars:function(){this._eachScrollbar(function(n){n.moveTo(this.location()),n.option("visible",!0)}),this._hideScrollbars()},_hideScrollbars:function(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(n.proxy(function(){this._eachScrollbar(function(n){n.option("visible",!1)})},this),a)},location:function(){return{left:-this._$container.scrollLeft(),top:this.option("pushBackValue")-this._$container.scrollTop()}},disabledChanged:n.noop,update:function(){this._update(),this._updateAction(this._createActionArgs())},_update:function(){this._updateDimensions(),this._updateScrollbars()},_updateDimensions:function(){this._containerSize={height:this._$container.height(),width:this._$container.width()},this._componentContentSize={height:this._component.content().height(),width:this._component.content().width()},this._contentSize={height:this._$content.height(),width:this._$content.width()},this._pushBackFromBoundary()},_updateScrollbars:function(){this._eachScrollbar(function(n,t){var i=t===r?"height":"width";n.option({containerSize:this._containerSize[i],contentSize:this._componentContentSize[i]}),n.update()})},_allowedDirections:function(){return{vertical:this._isDirection(r)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(u)&&this._contentSize.width>this._containerSize.width}},dispose:function(){this._$element.removeClass(function(n,t){var i=new RegExp(f+"\\S*","g");if(i.test(t))return t.match(i).join(" ")}),this._$element.off("."+e),this._$container.off("."+e),this._removeScrollbars(),clearTimeout(this._gestureEndTimer),clearTimeout(this._hideScrollbarTimeout)},_removeScrollbars:function(){this._eachScrollbar(function(n){n.element().remove()})},scrollBy:function(n){var t=this.location();this._$container.scrollTop(-t.top-n.top+this.option("pushBackValue")),this._$container.scrollLeft(-t.left-n.left)},validate:function(){return!this.option("disabled")&&this._allowedDirection()},getDirection:function(){return this._allowedDirection()}})}(jQuery,DevExpress),function(n,t,i){var b=t.ui,e=Math,et=t.require("/utils/utils.inflector").titleize,v=t.require("/utils/utils.translator"),k=t.require("/class"),ot=t.require("/animator"),st=t.require("/devices"),h=t.require("/ui/events/ui.events.utils"),ht=t.require("/ui/events/pointer/ui.events.pointer"),d=st.real,g=d.platform==="win"||d.platform==="android",nt="dxSimulatedScrollable",y="dxScrollableStrategy",c=nt+"Cursor",p=nt+"Keyboard",w="dx-scrollable-simulated",ct="dx-scrollable-scrollbars-hidden",lt="dx-scrollable-scrollbars-alwaysvisible",at="dx-scrollable-scrollbar",u="vertical",r="horizontal",l=g?.95:.92,tt=.5,it=1,vt=e.round(1e3/60),rt=20,yt=it/5,pt=g?300:400,wt=pt/vt,bt=(1-e.pow(l,wt))/(1-l),o={PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},ut=function(){var r=n.Callbacks(),f=50,i=null,t,u;n(window).on(h.addNamespace("focus",y),function(){i=n.now()});n(document).on(h.addNamespace(ht.down,y),function(){i=n.now()});return t=function(t){var u=n.now()-i>f,e=t.target===document.activeElement;u&&e&&r.fire(t.target)},window.addEventListener?(u="onactivate"in document,u?window.addEventListener("activate",t,!0):window.addEventListener("focus",t,!0)):window.attachEvent("onfocusin",t),r}(),ft=ot.inherit({ctor:function(n){this.callBase(),this.scroller=n},VELOCITY_LIMIT:it,_isFinished:function(){return e.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT},_step:function(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()},_acceleration:function(){return this.scroller._inBounds()?l:tt},_complete:function(){this.scroller._scrollComplete()},_stop:function(){this.scroller._stopComplete()}}),kt=ft.inherit({VELOCITY_LIMIT:yt,_isFinished:function(){return this.scroller._crossBoundOnNextStep()||this.callBase()},_acceleration:function(){return l},_complete:function(){this.scroller._move(this.scroller._bounceLocation),this.callBase()}}),a=function(n){return n.type==="dxmousewheel"},dt=b.dxScrollable.Scroller=k.inherit({ctor:function(n){this._initOptions(n),this._initAnimators(),this._initScrollbar()},_initOptions:function(t){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=t.direction===r?"x":"y",this._prop=t.direction===r?"left":"top",this._dimension=t.direction===r?"width":"height",this._scrollProp=t.direction===r?"scrollLeft":"scrollTop",this._pushBackCorrection=t.direction===u?t.pushBackValue*2:0,n.each(t,n.proxy(function(n,t){this["_"+n]=t},this))},_initAnimators:function(){this._inertiaAnimator=new ft(this),this._bounceAnimator=new kt(this)},_initScrollbar:function(){this._$scrollbar=n("<div>").dxScrollbar({direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),containerSize:this._containerSize(),contentSize:this._contentSize(),expandable:this._scrollByThumb}).appendTo(this._$container),this._scrollbar=this._$scrollbar.dxScrollbar("instance")},_visibilityModeNormalize:function(n){return n===!0?"onScroll":n===!1?"never":n},_scrollStep:function(n){var t=this._location;(this._location+=n,this._suppressBounce(),this._move(),Math.abs(t-this._location)<1)||(this._scrollAction(),this._$container.triggerHandler({type:"scroll",simulated:!0}))},_suppressBounce:function(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())},_boundLocation:function(n){return n=n!==i?n:this._location,e.max(e.min(n,this._maxOffset),this._minOffset)},_move:function(n){this._location=n!==i?n:this._location,this._moveContent(),this._moveScrollbar()},_moveContent:function(){var n={};n[this._prop]=this._location,v.move(this._$content,n)},_moveScrollbar:function(){this._scrollbar.moveTo(this._location)},_scrollComplete:function(){this._inBounds()&&(this._hideScrollbar(),this._correctLocation(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()},_correctLocation:function(){this._location=e.round(this._location),this._move()},_scrollToBounds:function(){this._inBounds()||(this._bounceAction(),this._setupBounce(),this._bounceAnimator.start())},_setupBounce:function(){var n=this._bounceLocation=this._boundLocation(),t=n-this._location;this._velocity=t/bt},_inBounds:function(n){return n=n!==i?n:this._location,this._boundLocation(n)===n},_crossBoundOnNextStep:function(){var n=this._location,t=n+this._velocity;return n<this._minOffset&&t>=this._minOffset||n>this._maxOffset&&t<=this._maxOffset},_initHandler:function(t){return this._stopDeferred=n.Deferred(),this._stopScrolling(),this._prepareThumbScrolling(t),this._stopDeferred.promise()},_stopScrolling:function(){this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()},_prepareThumbScrolling:function(t){if(!a(t.originalEvent)){var i=n(t.originalEvent.target),r=this._isScrollbar(i);r&&this._moveToMouseLocation(t),this._thumbScrolling=r||this._isThumb(i),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(i),this._thumbScrolling&&this._scrollbar.feedbackOn()}},_isThumbScrollingHandler:function(n){return this._isThumb(n)},_moveToMouseLocation:function(n){var t=n["page"+this._axis.toUpperCase()]-this._$element.offset()[this._prop],i=this._location+t/this._containerToContentRatio()-this._$container.height()/2;this._scrollStep(-i)},_stopComplete:function(){this._stopDeferred&&this._stopDeferred.resolve()},_startHandler:function(){this._showScrollbar()},_moveHandler:function(n){this._crossThumbScrolling||(this._thumbScrolling&&(n[this._axis]=-n[this._axis]/this._containerToContentRatio()),this._scrollBy(n))},_scrollBy:function(n){n=n[this._axis],this._inBounds()||(n*=tt),this._scrollStep(n)},_scrollByHandler:function(n){this._scrollBy(n),this._scrollComplete()},_containerToContentRatio:function(){return this._scrollbar.containerToContentRatio()},_endHandler:function(t){return this._completeDeferred=n.Deferred(),this._velocity=t[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()},_inertiaHandler:function(){this._suppressIntertia(),this._inertiaAnimator.start()},_suppressIntertia:function(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)},_resetThumbScrolling:function(){this._thumbScrolling=!1,this._crossThumbScrolling=!1},_stopHandler:function(){this._resetThumbScrolling(),this._scrollToBounds()},_disposeHandler:function(){this._stopScrolling(),this._$scrollbar.remove()},_updateHandler:function(){this._update(),this._moveToBounds()},_update:function(){this._stopScrolling(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),this._moveScrollbar(),this._scrollbar.update()},_updateLocation:function(){this._location=v.locate(this._$content)[this._prop]},_updateBounds:function(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()},_getMaxOffset:function(){return 0},_getMinOffset:function(){return e.min(this._containerSize()-this._contentSize(),0)},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()})},_moveToBounds:function(){var n=this._boundLocation(),t=n!==this._location;this._location=n,this._move(),t&&this._scrollAction()},_createActionsHandler:function(n){this._scrollAction=n.scroll,this._bounceAction=n.bounce},_showScrollbar:function(){this._scrollbar.option("visible",!0)},_hideScrollbar:function(){this._scrollbar.option("visible",!1)},_containerSize:function(){return this._$container[this._dimension]()},_contentSize:function(){var i=this._$content.css("overflow-"+this._axis)==="hidden",n=this._$content[this._dimension](),t;return i||(t=this._$content[0]["scroll"+et(this._dimension)],n=e.max(t-this._pushBackCorrection,n)),n},_validateEvent:function(t){var i=n(t.originalEvent.target);return this._isThumb(i)||this._isScrollbar(i)?(t.preventDefault(),!0):this._isContent(i)},_isThumb:function(n){return this._scrollByThumb&&this._scrollbar.isThumb(n)},_isScrollbar:function(n){return this._scrollByThumb&&n&&n.is(this._$scrollbar)},_isContent:function(n){return this._scrollByContent&&!!n.closest(this._$element).length},_reachedMin:function(){return this._location<=this._minOffset},_reachedMax:function(){return this._location>=this._maxOffset},_cursorEnterHandler:function(){this._scrollbar.cursorEnter()},_cursorLeaveHandler:function(){this._scrollbar.cursorLeave()},dispose:n.noop}),f,s;b.dxScrollable.SimulatedStrategy=k.inherit({ctor:function(n){this._init(n)},_init:function(t){this._component=t,this._$element=t.element(),this._$container=t._$container,this._$content=t._$content,this.option=n.proxy(t.option,t),this._createActionByOption=n.proxy(t._createActionByOption,t),this._isLocked=n.proxy(t._isLocked,t),this._isDirection=n.proxy(t._isDirection,t),this._allowedDirection=n.proxy(t._allowedDirection,t),this._proxiedActiveElementChangeHandler=n.proxy(this._activeElementChangeHandler,this),ut.add(this._proxiedActiveElementChangeHandler)},_activeElementChangeHandler:function(n){this._component.scrollToElement(n)},render:function(){this._$element.addClass(w),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabindex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()},_createScrollers:function(){this._scrollers={},this._isDirection(r)&&this._createScroller(r),this._isDirection(u)&&this._createScroller(u),this._$element.toggleClass(lt,this.option("showScrollbar")==="always"),this._$element.toggleClass(ct,!this.option("showScrollbar"))},_createScroller:function(n){this._scrollers[n]=new dt(this._scrollerOptions(n))},_scrollerOptions:function(t){return{direction:t,$content:this._$content,$container:this._$container,$element:this._$element,scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:n.proxy(this._isAnyThumbScrolling,this),pushBackValue:this.option("pushBackValue")}},_isAnyThumbScrolling:function(n){var t=!1;return this._eventHandler("isThumbScrolling",n).done(function(n,i){t=n||i}),t},handleInit:function(n){this._supressDirections(n),this._eventForUserAction=n,this._eventHandler("init",n).done(this._stopAction)},_supressDirections:function(n){if(a(n.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(t,i){var r=t._validateEvent(n);this._validDirections[i]=r})},_prepareDirections:function(n){n=n||!1,this._validDirections={},this._validDirections[r]=n,this._validDirections[u]=n},_eachScroller:function(t){t=n.proxy(t,this),n.each(this._scrollers,function(n,i){t(i,n)})},handleStart:function(n){this._eventForUserAction=n,this._eventHandler("start").done(this._startAction)},_saveActive:function(){s=this},_resetActive:function(){s===this&&(s=null)},handleMove:function(n){if(this._isLocked()){n.cancel=!0,this._resetActive();return}this._saveActive(),n.preventDefault&&n.preventDefault(),this._adjustDistance(n.delta),this._eventForUserAction=n,this._eventHandler("move",n.delta)},_adjustDistance:function(n){n.x*=this._validDirections[r],n.y*=this._validDirections[u]},handleEnd:function(n){return this._resetActive(),this._refreshCursorState(n.originalEvent&&n.originalEvent.target),this._adjustDistance(n.velocity),this._eventForUserAction=n,this._eventHandler("end",n.velocity).done(this._endAction)},handleCancel:function(n){return this._resetActive(),this._eventForUserAction=n,this._eventHandler("end",{x:0,y:0})},handleStop:function(){this._resetActive(),this._eventHandler("stop")},handleScroll:function(n){if(!n.simulated){var t={left:this.option("direction")!==u?-this._$container.scrollLeft():0,top:this.option("direction")!==r?-this._$container.scrollTop():0};(t.left||t.top)&&(this._$container.scrollLeft(0),this._$container.scrollTop(0),this.scrollBy(t))}},_attachKeyboardHandler:function(){if(this._$element.off("."+p),!this.option("disabled")&&this.option("useKeyboard"))this._$element.on(h.addNamespace("keydown",p),n.proxy(this._keyDownHandler,this))},_keyDownHandler:function(n){if(this._$container.is(document.activeElement)){var t=!0;switch(n.keyCode){case o.DOWN:this._scrollByLine({y:1});break;case o.UP:this._scrollByLine({y:-1});break;case o.RIGHT:this._scrollByLine({x:1});break;case o.LEFT:this._scrollByLine({x:-1});break;case o.PAGE_DOWN:this._scrollByPage(1);break;case o.PAGE_UP:this._scrollByPage(-1);break;case o.HOME:this._scrollToHome();break;case o.END:this._scrollToEnd();break;default:t=!1}t&&(n.stopPropagation(),n.preventDefault())}},_scrollByLine:function(n){this.scrollBy({top:(n.y||0)*-rt,left:(n.x||0)*-rt})},_scrollByPage:function(n){var t=this._wheelProp(),r=this._dimensionByProp(t),i={};i[t]=n*-this._$container[r](),this.scrollBy(i)},_dimensionByProp:function(n){return n==="left"?"width":"height"},_scrollToHome:function(){var t=this._wheelProp(),n={};n[t]=0,this._component.scrollTo(n)},_scrollToEnd:function(){var n=this._wheelProp(),t=this._dimensionByProp(n),i={};i[n]=this._$content[t]()-this._$container[t](),this._component.scrollTo(i)},createActions:function(){this._startAction=this._createActionHandler("onStart"),this._stopAction=this._createActionHandler("onStop"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()},_createScrollerActions:function(){this._eventHandler("createActions",{scroll:this._createActionHandler("onScroll"),bounce:this._createActionHandler("onBounce")})},_createActionHandler:function(t){var i=this,r=i._createActionByOption(t);return function(){r(n.extend(i._createActionArgs(),arguments))}},_createActionArgs:function(){var n=this._scrollers[r],t=this._scrollers[u];return{jQueryEvent:this._eventForUserAction,scrollOffset:{top:t&&-t._location,left:n&&-n._location},reachedLeft:n&&n._reachedMax(),reachedRight:n&&n._reachedMin(),reachedTop:t&&t._reachedMax(),reachedBottom:t&&t._reachedMin()}},_eventHandler:function(t){var i=n.makeArray(arguments).slice(1),r=n.map(this._scrollers,function(n){return n["_"+t+"Handler"].apply(n,i)});return n.when.apply(n,r).promise()},location:function(){return v.locate(this._$content)},disabledChanged:function(){this._attachCursorHandlers()},_attachCursorHandlers:function(){if(this._$element.off("."+c),!this.option("disabled")&&this._isHoverMode())this._$element.on(h.addNamespace("mouseenter",c),n.proxy(this._cursorEnterHandler,this)).on(h.addNamespace("mouseleave",c),n.proxy(this._cursorLeaveHandler,this))},_isHoverMode:function(){return this.option("showScrollbar")==="onHover"},_cursorEnterHandler:function(n){(n=n||{},n.originalEvent=n.originalEvent||{},s||n.originalEvent._hoverHandled)||(f&&f._cursorLeaveHandler(),f=this,this._eventHandler("cursorEnter"),n.originalEvent._hoverHandled=!0)},_cursorLeaveHandler:function(n){f===this&&s!==f&&(this._eventHandler("cursorLeave"),f=null,this._refreshCursorState(n&&n.relatedTarget))},_refreshCursorState:function(t){if(this._isHoverMode()||t&&!s){var u=n(t),r=u.closest("."+w+":not(.dx-state-disabled)"),i=r.length&&r.data(y);f&&f!==i&&f._cursorLeaveHandler(),i&&i._cursorEnterHandler()}},update:function(){return this._eventHandler("update").done(this._updateAction)},_allowedDirections:function(){var n=this.option("bounceEnabled"),t=this._scrollers[u],i=this._scrollers[r];return{vertical:t&&(t._minOffset<0||n),horizontal:i&&(i._minOffset<0||n)}},scrollBy:function(n){var t=this._scrollers[u],i=this._scrollers[r];t&&(n.top=t._boundLocation(n.top+t._location)-t._location),i&&(n.left=i._boundLocation(n.left+i._location)-i._location),this._prepareDirections(!0),this._startAction(),this._eventHandler("scrollBy",{x:n.left,y:n.top}),this._endAction()},validate:function(n){return this.option("disabled")?!1:this.option("bounceEnabled")?!0:a(n)?this._validateWheel(n):this._validateMove(n)},_validateWheel:function(n){var r=this._scrollers[this._wheelDirection(n)],t=r._reachedMin(),i=r._reachedMax(),u=!t||!i,f=!t&&!i,e=t&&n.delta>0,o=i&&n.delta<0;return u&&(f||e||o)},_validateMove:function(t){return!this.option("scrollByContent")&&!n(t.target).closest("."+at).length?!1:this._allowedDirection()},getDirection:function(n){return a(n)?this._wheelDirection(n):this._allowedDirection()},_wheelProp:function(){return this._wheelDirection()===r?"left":"top"},_wheelDirection:function(n){switch(this.option("direction")){case r:return r;case u:return u;default:return n&&n.shiftKey?r:u}},dispose:function(){ut.remove(this._proxiedActiveElementChangeHandler),this._resetActive(),f===this&&(f=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass(w),this._eventForUserAction=null,clearTimeout(this._gestureEndTimer)},_detachEventHandlers:function(){this._$element.off("."+c),this._$container.off("."+p)}})}(jQuery,DevExpress),function(n,t,i){var u=t.ui,e=t.require("/devices"),o=t.require("/componentRegistrator"),r="dx-scrollview",s=r+"-content",h=r+"-top-pocket",c=r+"-bottom-pocket",l=r+"-pull-down",f=r+"-scrollbottom",a=f+"-indicator",v=f+"-text",y=r+"-loadpanel";o("dxScrollView",u,u.dxScrollable.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{pullingDownText:Globalize.localize("dxScrollView-pullingDownText"),pulledDownText:Globalize.localize("dxScrollView-pulledDownText"),refreshingText:Globalize.localize("dxScrollView-refreshingText"),reachBottomText:Globalize.localize("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=e.real();return t.platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:function(){return e.real().platform==="win"},options:{refreshStrategy:"slideDown"}}])},_init:function(){this.callBase(),this._loadingIndicatorEnabled=!0},_initMarkup:function(){this.callBase(),this.element().addClass(r),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()},_initContent:function(){var t=n("<div>").addClass(s);this._$content.wrapInner(t)},_initTopPocket:function(){var t=this._$topPocket=n("<div>").addClass(h),i=this._$pullDown=n("<div>").addClass(l);t.append(i),this._$content.prepend(t)},_initBottomPocket:function(){var t=this._$bottomPocket=n("<div>").addClass(c),i=this._$reachBottom=n("<div>").addClass(f),r=n("<div>").addClass(a),u=n("<div>").dxLoadIndicator(),e=this._$reachBottomText=n("<div>").addClass(v);this._updateReachBottomText(),i.append(r.append(u)).append(e),t.append(i),this._$content.append(t)},_initLoadPanel:function(){this._loadPanel=this._createComponent(n("<div>").addClass(y).appendTo(this.element()),"dxLoadPanel",{shading:!1,delay:400,message:this.option("refreshingText"),position:{of:this.element()}})},_updateReachBottomText:function(){this._$reachBottomText.text(this.option("reachBottomText"))},_createStrategy:function(){var i=this.option("useNative")?this.option("refreshStrategy"):"simulated",t=u.dxScrollView.refreshStrategies[i];if(!t)throw Error("E1030",this.option("refreshStrategy"));this._strategy=new t(this),this._strategy.pullDownCallbacks.add(n.proxy(this._pullDownHandler,this)),this._strategy.releaseCallbacks.add(n.proxy(this._releaseHandler,this)),this._strategy.reachBottomCallbacks.add(n.proxy(this._reachBottomHandler,this))},_createActions:function(){this.callBase(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._pullDownEnable(!!this.option("onPullDown")&&!t.designMode),this._reachBottomEnable(!!this.option("onReachBottom")&&!t.designMode)},_pullDownEnable:function(n){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown.toggle(n),this._strategy.pullDownEnable(n),this._pullDownEnabled=n},_reachBottomEnable:function(n){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom.toggle(n),this._strategy.reachBottomEnable(n),this._reachBottomEnabled=n},_pullDownHandler:function(){this._loadingIndicator(!1),this._pullDownLoading()},_loadingIndicator:function(n){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=n},_pullDownLoading:function(){this.startLoading(),this._pullDownAction()},_reachBottomHandler:function(){this._loadingIndicator(!1),this._reachBottomLoading()},_reachBottomLoading:function(){this.startLoading(),this._reachBottomAction()},_releaseHandler:function(){this.finishLoading(),this._loadingIndicator(!0)},_optionChanged:function(n){switch(n.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:this.callBase(n)}},isEmpty:function(){return!this.content().children().length},content:function(){return this._$content.children().eq(1)},release:function(n){return n!==i&&this.toggleLoading(!n),this._strategy.release()},toggleLoading:function(n){this._reachBottomEnable(n)},isFull:function(){return this.content().height()>this._$container.height()},refresh:function(){this.option("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())},startLoading:function(){this._loadingIndicator()&&this.element().is(":visible")&&this._loadPanel.show(),this._lock()},finishLoading:function(){this._loadPanel.hide(),this._unlock()},_dispose:function(){this._strategy.dispose(),this.callBase(),this._loadPanel&&this._loadPanel.element().remove()}})),u.dxScrollView.refreshStrategies={}}(jQuery,DevExpress),function(n,t){var o=t.ui,s=t.require("/utils/utils.translator"),h="dx-scrollview-pull-down-loading",f="dx-scrollview-pull-down-ready",l="dx-scrollview-pull-down-image",a="dx-scrollview-pull-down-indicator",v="dx-scrollview-pull-down-text",e=0,r=1,u=2,c=3,y=o.dxScrollable.NativeStrategy.inherit({_init:function(n){this.callBase(n),this._$topPocket=n._$topPocket,this._$pullDown=n._$pullDown,this._$bottomPocket=n._$bottomPocket,this._$refreshingText=n._$refreshingText,this._$scrollViewContent=n.content(),this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=n.Callbacks(),this.releaseCallbacks=n.Callbacks(),this.reachBottomCallbacks=n.Callbacks()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var i=n("<div>").addClass(l),r=n("<div>").addClass(a),u=n("<div>").dxLoadIndicator(),t=this._$pullDownText=n("<div>").addClass(v);this._$pullingDownText=n("<div>").text(this.option("pullingDownText")).appendTo(t),this._$pulledDownText=n("<div>").text(this.option("pulledDownText")).appendTo(t),this._$refreshingText=n("<div>").text(this.option("refreshingText")).appendTo(t),this._$pullDown.empty().append(i).append(r.append(u)).append(t)},_releaseState:function(){this._state=e,this._refreshPullDownText()},_pushBackFromBoundary:function(){this._isLocked()||this._component.isEmpty()||this.callBase()},_refreshPullDownText:function(){this._$pullingDownText.css("opacity",this._state===e?1:0),this._$pulledDownText.css("opacity",this._state===r?1:0),this._$refreshingText.css("opacity",this._state===u?1:0)},update:function(){this.callBase(),this._setTopPocketOffset()},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var n=this.callBase();return n.vertical=n.vertical||this._pullDownEnabled,n},_setTopPocketOffset:function(){this._$topPocket.css({top:-this._topPocketSize})},handleEnd:function(){this.callBase(),this._complete()},handleStop:function(){this.callBase(),this._complete()},_complete:function(){this._state===r&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(n.proxy(function(){this._pullDownRefreshing()},this),400))},_setPullDownOffset:function(n){s.move(this._$topPocket,{top:n}),s.move(this._$scrollViewContent,{top:n})},handleScroll:function(n){(this.callBase(n),this._state!==u)&&(this._location=this.location().top,this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottom():this._stateReleased())},_isPullDown:function(){return this._pullDownEnabled&&this._location>=this._topPocketSize},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._scrollOffset+this._bottomPocketSize},_reachBottom:function(){this._state!==c&&(this._state=c,this.reachBottomCallbacks.fire())},_pullDownReady:function(){this._state!==r&&(this._state=r,this._$pullDown.addClass(f),this._refreshPullDownText())},_stateReleased:function(){this._state!==e&&(this._$pullDown.removeClass(h).removeClass(f),this._releaseState())},_pullDownRefreshing:function(){this._state!==u&&(this._state=u,this._$pullDown.addClass(h).removeClass(f),this._refreshPullDownText(),this.pullDownCallbacks.fire())},pullDownEnable:function(n){this._pullDownEnabled=n},reachBottomEnable:function(n){this._reachBottomEnabled=n},pendingRelease:function(){this._state=r},release:function(){var t=n.Deferred();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(n.proxy(function(){this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()},this),400),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});o.dxScrollView.refreshStrategies.pullDown=y}(jQuery,DevExpress),function(n,t){var e=t.ui,o=t.require("/utils/utils.translator"),s=t.require("/ui/events/ui.events.utils"),h="dx-scrollview-pull-down-loading",l="dx-scrollview-pull-down-indicator",a="dx-scrollview-pull-down-refreshing",v="dx-icon-pulldown",u=0,y=1,c=2,f=4,r=5,p=e.dxScrollable.NativeStrategy.inherit({_init:function(n){this.callBase(n),this._$topPocket=n._$topPocket,this._$bottomPocket=n._$bottomPocket,this._$pullDown=n._$pullDown,this._$scrollViewContent=n.content(),this._initCallbacks(),this._location=0},_initCallbacks:function(){this.pullDownCallbacks=n.Callbacks(),this.releaseCallbacks=n.Callbacks(),this.reachBottomCallbacks=n.Callbacks()},render:function(){this.callBase(),this._renderPullDown(),this._releaseState()},_renderPullDown:function(){var t=n("<div>").addClass(l),i=n("<div>").dxLoadIndicator({});this._$icon=n("<div>").addClass(v),this._$pullDown.empty().append(this._$icon).append(t.append(i))},_releaseState:function(){this._state=u,this._releasePullDown(),this._updateDimensions()},_releasePullDown:function(){this._$pullDown.css({opacity:0})},_updateDimensions:function(){this.callBase(),this._topPocketSize=this._$topPocket.height(),this._bottomPocketSize=this._$bottomPocket.height(),this._scrollOffset=this._$container.height()-this._$content.height()},_allowedDirections:function(){var n=this.callBase();return n.vertical=n.vertical||this._pullDownEnabled,n},handleInit:function(n){this.callBase(n),this._state===u&&this._location===0&&(this._startClientY=s.eventData(n.originalEvent).y,this._state=f)},handleMove:function(n){this.callBase(n),this._deltaY=s.eventData(n.originalEvent).y-this._startClientY,this._state===f&&(this._pullDownEnabled&&this._deltaY>0?this._state=r:this._complete()),this._state===r&&(n.preventDefault(),this._movePullDown())},_movePullDown:function(){var n=this._getPullDownHeight(),t=Math.min(n*3,this._deltaY+this._getPullDownStartPosition()),i=180*t/n/3;this._$pullDown.css({opacity:1}).toggleClass(a,t<n),o.move(this._$pullDown,{top:t}),this._$icon.css({transform:"rotate("+i+"deg)"})},_isPullDown:function(){return this._pullDownEnabled&&this._state===r&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()},_getPullDownHeight:function(){return Math.round(this._$element.outerHeight()*.05)},_getPullDownStartPosition:function(){return-Math.round(this._$pullDown.outerHeight()*1.5)},handleEnd:function(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()},handleStop:function(){this._complete()},_complete:function(){(this._state===f||this._state===r)&&this._releaseState()},handleScroll:function(n){if(this.callBase(n),this._state!==c){var t=this.location().top,i=this._location-t;this._location=t,i>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._scrollOffset+this._bottomPocketSize},_reachBottom:function(){this.reachBottomCallbacks.fire()},_stateReleased:function(){this._state!==u&&(this._$pullDown.removeClass(h),this._releaseState())},_pullDownRefreshing:function(){this._state=c,this._pullDownRefreshHandler()},_pullDownRefreshHandler:function(){this._refreshPullDown(),this.pullDownCallbacks.fire()},_refreshPullDown:function(){this._$pullDown.addClass(h),o.move(this._$pullDown,{top:this._getPullDownHeight()})},pullDownEnable:function(n){this._$topPocket.toggle(n),this._pullDownEnabled=n},reachBottomEnable:function(n){this._reachBottomEnabled=n},pendingRelease:function(){this._state=y},release:function(){var t=n.Deferred();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(n.proxy(function(){this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),t.resolve()},this),800),t.promise()},dispose:function(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),this.callBase()}});e.dxScrollView.refreshStrategies.swipeDown=p}(jQuery,DevExpress),function(n,t){var u=t.ui,r=0,e=1,f=2,o=80,s=u.dxScrollable.NativeStrategy.inherit({_init:function(n){this.callBase(n),this._$topPocket=n._$topPocket,this._$bottomPocket=n._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=n.Callbacks(),this.releaseCallbacks=n.Callbacks(),this.reachBottomCallbacks=n.Callbacks()},render:function(){this.callBase(),this._renderPullDown(),this._renderBottom(),this._releaseState(),this._updateDimensions()},_renderPullDown:function(){this._$topPocket.empty()},_renderBottom:function(){this._$bottomPocket.empty().append("<progress>")},_releaseState:function(){this._state!==r&&(this._state=r)},_updateDimensions:function(){this._scrollOffset=this._$container.prop("scrollHeight")-this._$container.prop("clientHeight"),this._containerSize={height:this._$container.prop("clientHeight"),width:this._$container.prop("clientWidth")},this._contentSize=this._componentContentSize={height:this._$container.prop("scrollHeight"),width:this._$container.prop("scrollWidth")}},handleScroll:function(n){this.callBase(n),this._isReachBottom(this._lastLocation.top)&&this._reachBottom()},_isReachBottom:function(n){return this._scrollContent=this._$container.prop("scrollHeight")-this._$container.prop("clientHeight"),this._reachBottomEnabled&&n<-this._scrollContent+o},_reachBottom:function(){this._state!==f&&(this._state=f,this.reachBottomCallbacks.fire())},pullDownEnable:function(n){this._pullDownEnabled=n},reachBottomEnable:function(n){this._reachBottomEnabled=n,this._$bottomPocket.toggle(n)},pendingRelease:function(){this._state=e},release:function(){var t=n.Deferred();return this._state=r,this.releaseCallbacks.fire(),this.update(),t.resolve().promise()}});u.dxScrollView.refreshStrategies.slideDown=s}(jQuery,DevExpress),function(n,t){var f=t.ui,c=t.require("/utils/utils.common"),l=Math,h="dx-scrollview-pull-down-loading",e="dx-scrollview-pull-down-ready",a="dx-scrollview-pull-down-image",v="dx-scrollview-pull-down-indicator",y="dx-scrollview-pull-down-text",r=0,u=1,o=2,s=3,p=f.dxScrollView.Scroller=f.dxScrollable.Scroller.inherit({ctor:function(){this.callBase.apply(this,arguments),this._initCallbacks(),this._releaseState()},_releaseState:function(){this._state=r,this._refreshPullDownText()},_refreshPullDownText:function(){this._$pullingDownText.css("opacity",this._state===r?1:0),this._$pulledDownText.css("opacity",this._state===u?1:0),this._$refreshingText.css("opacity",this._state===o?1:0)},_initCallbacks:function(){this.pullDownCallbacks=n.Callbacks(),this.releaseCallbacks=n.Callbacks(),this.reachBottomCallbacks=n.Callbacks()},_updateBounds:function(){var n=this._direction!=="horizontal";this._topPocketSize=n?this._$topPocket[this._dimension]():0,this._bottomPocketSize=n?this._$bottomPocket[this._dimension]():0,this.callBase(),this._bottomBound=this._minOffset+this._bottomPocketSize},_updateScrollbar:function(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize})},_moveContent:function(){this.callBase(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==r&&this._stateReleased()},_moveScrollbar:function(){this._scrollbar.moveTo(this._topPocketSize+this._location)},_isPullDown:function(){return this._pullDownEnabled&&this._location>=0},_isReachBottom:function(){return this._reachBottomEnabled&&this._location<=this._bottomBound},_scrollComplete:function(){this._inBounds()&&this._state===u?this._pullDownRefreshing():this._inBounds()&&this._state===s?this._reachBottomLoading():this.callBase()},_reachBottomReady:function(){this._state!==s&&(this._state=s,this._minOffset=this._getMinOffset())},_getMaxOffset:function(){return-this._topPocketSize},_getMinOffset:function(){return l.min(this.callBase(),-this._topPocketSize)},_reachBottomLoading:function(){this.reachBottomCallbacks.fire()},_pullDownReady:function(){this._state!==u&&(this._state=u,this._maxOffset=0,this._$pullDown.addClass(e),this._refreshPullDownText())},_stateReleased:function(){this._state!==r&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass(h).removeClass(e),this.releaseCallbacks.fire())},_pullDownRefreshing:function(){this._state!==o&&(this._state=o,this._$pullDown.addClass(h).removeClass(e),this._refreshPullDownText(),this.pullDownCallbacks.fire())},_releaseHandler:function(){return this._state===r&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=c.executeAsync(n.proxy(this._release,this)),this._releaseTask.promise},_release:function(){this._stateReleased(),this._scrollComplete()},_reachBottomEnablingHandler:function(n){this._reachBottomEnabled!==n&&(this._reachBottomEnabled=n,this._updateBounds())},_pullDownEnablingHandler:function(n){this._pullDownEnabled!==n&&(this._pullDownEnabled=n,this._considerTopPocketChange(),this._updateHandler())},_considerTopPocketChange:function(){this._location-=this._$topPocket.height()||-this._topPocketSize,this._move()},_pendingReleaseHandler:function(){this._state=u},dispose:function(){this._releaseTask&&this._releaseTask.abort(),this.callBase()}}),w=f.dxScrollable.SimulatedStrategy.inherit({_init:function(n){this.callBase(n),this._$pullDown=n._$pullDown,this._$topPocket=n._$topPocket,this._$bottomPocket=n._$bottomPocket,this._initCallbacks()},_initCallbacks:function(){this.pullDownCallbacks=n.Callbacks(),this.releaseCallbacks=n.Callbacks(),this.reachBottomCallbacks=n.Callbacks()},render:function(){this._renderPullDown(),this.callBase()},_renderPullDown:function(){var i=n("<div>").addClass(a),r=n("<div>").addClass(v),u=n("<div>").dxLoadIndicator(),t=this._$pullDownText=n("<div>").addClass(y);this._$pullingDownText=n("<div>").text(this.option("pullingDownText")).appendTo(t),this._$pulledDownText=n("<div>").text(this.option("pulledDownText")).appendTo(t),this._$refreshingText=n("<div>").text(this.option("refreshingText")).appendTo(t),this._$pullDown.empty().append(i).append(r.append(u)).append(t)},pullDownEnable:function(n){this._eventHandler("pullDownEnabling",n)},reachBottomEnable:function(n){this._eventHandler("reachBottomEnabling",n)},_createScroller:function(n){var t=this,i=t._scrollers[n]=new p(t._scrollerOptions(n));i.pullDownCallbacks.add(function(){t.pullDownCallbacks.fire()}),i.releaseCallbacks.add(function(){t.releaseCallbacks.fire()}),i.reachBottomCallbacks.add(function(){t.reachBottomCallbacks.fire()})},_scrollerOptions:function(t){return n.extend(this.callBase(t),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})},pendingRelease:function(){this._eventHandler("pendingRelease")},release:function(){return this._eventHandler("release").done(this._updateAction)},location:function(){var n=this.callBase();return n.top+=this._$topPocket.height(),n},dispose:function(){n.each(this._scrollers,function(){this.dispose()}),this.callBase()}});f.dxScrollView.refreshStrategies.simulated=w}(jQuery,DevExpress),DevExpress.define("/ui/widgets/map/ui.map.provider",["jquery","/class","/ui/events/ui.events.utils"],function(n,t,i){var r=t.abstract;return t.inherit({_defaultRouteWeight:function(){return 5},_defaultRouteOpacity:function(){return.5},_defaultRouteColor:function(){return"#0000FF"},cancelEvents:!1,ctor:function(n,t){this._mapWidget=n,this._$container=t},render:function(t,i){var r=n.Deferred();return this._renderImpl().done(n.proxy(function(){var u=this.addMarkers(t),f=this.addRoutes(i);n.when(u,f).done(function(){r.resolve(!0)})},this)),r.promise()},_renderImpl:r,updateDimensions:r,updateMapType:r,updateBounds:r,updateCenter:r,updateZoom:r,updateControls:r,updateMarkers:function(t,i){var r=n.Deferred(),u=this;return this.removeMarkers(t).done(function(){u.addMarkers(i).done(function(){r.resolve.apply(r,arguments)})}),r.promise()},addMarkers:r,removeMarkers:r,adjustViewport:r,updateRoutes:function(t,i){var r=n.Deferred(),u=this;return this.removeRoutes(t).done(function(){u.addRoutes(i).done(function(){r.resolve.apply(r,arguments)})}),r.promise()},addRoutes:r,removeRoutes:r,clean:r,map:function(){return this._map},_option:function(n,t){if(t===undefined)return this._mapWidget.option(n);this._mapWidget.setOptionSilent(n,t)},_keyOption:function(n){var t=this._option("key");return t[n]===undefined?t:t[n]},_parseTooltipOptions:function(n){return{text:n.text||n,visible:n.isShown||!1}},_getLatLng:function(t){if(typeof t=="string"){var i=n.map(t.split(","),n.trim),r=/[-+]?[0-9]*\.?[0-9]*/;if(i.length===2&&i[0].match(r)&&i[1].match(r))return{lat:parseFloat(i[0]),lng:parseFloat(i[1])}}else{if(n.isArray(t)&&t.length===2)return{lat:t[0],lng:t[1]};if(n.isPlainObject(t)&&n.isNumeric(t.lat)&&n.isNumeric(t.lng))return t}return null},_isBoundsSetted:function(){return this._option("bounds.northEast")&&this._option("bounds.southWest")},_addEventNamespace:function(n){return i.addNamespace(n,this._mapWidget.NAME)},_createAction:function(){var n=this._mapWidget;return n._createAction.apply(n,arguments)},_fireAction:function(n,t){var i=this._option(n);i&&this._createAction(i)(t)},_fireClickAction:function(n){this._fireAction("onClick",n)},_fireMarkerAddedAction:function(n){this._fireAction("onMarkerAdded",n)},_fireMarkerRemovedAction:function(n){this._fireAction("onMarkerRemoved",n)},_fireRouteAddedAction:function(n){this._fireAction("onRouteAdded",n)},_fireRouteRemovedAction:function(n){this._fireAction("onRouteRemoved",n)}})}),DevExpress.define("/ui/widgets/map/ui.map.provider.googleStatic",["jquery","/ui/widgets/map/ui.map.provider","/color"],function(n,t,i){var r="https://maps.google.com/maps/api/staticmap?";return t.inherit({_locationToString:function(n){var t=this._getLatLng(n);return t?t.lat+","+t.lng:n.toString().replace(/ /g,"+")},_renderImpl:function(){return this._updateMap()},updateDimensions:function(){return this._updateMap()},updateMapType:function(){return this._updateMap()},updateBounds:function(){return n.Deferred().resolve().promise()},updateCenter:function(){return this._updateMap()},updateZoom:function(){return this._updateMap()},updateControls:function(){return n.Deferred().resolve().promise()},addMarkers:function(t){var i=this;return this._updateMap().done(function(){n.each(t,function(n,t){i._fireMarkerAddedAction({options:t})})})},removeMarkers:function(t){var i=this;return this._updateMap().done(function(){n.each(t,function(n,t){i._fireMarkerRemovedAction({options:t})})})},adjustViewport:function(){return n.Deferred().resolve().promise()},addRoutes:function(t){var i=this;return this._updateMap().done(function(){n.each(t,function(n,t){i._fireRouteAddedAction({options:t})})})},removeRoutes:function(t){var i=this;return this._updateMap().done(function(){n.each(t,function(n,t){i._fireRouteRemovedAction({options:t})})})},clean:function(){return this._$container.css("background-image","none"),this._$container.off(this._addEventNamespace("dxclick")),n.Deferred().resolve().promise()},mapRendered:function(){return!0},_updateMap:function(){var i=this._keyOption("googleStatic"),u=this._$container,t=["sensor=false","size="+u.width()+"x"+u.height(),"maptype="+this._option("type"),"center="+this._locationToString(this._option("center")),"zoom="+this._option("zoom"),this._markersSubstring()],f;return t.push.apply(t,this._routeSubstrings()),i&&t.push("key="+i),f=r+t.join("&"),this._$container.css("background",'url("'+f+'") no-repeat 0 0'),this._attachClickEvent(),n.Deferred().resolve(!0).promise()},_markersSubstring:function(){var r=this,t=[],i=this._option("markerIconSrc");return i&&t.push("icon:"+i),n.each(this._option("markers"),function(n,i){t.push(r._locationToString(i.location))}),"markers="+t.join("|")},_routeSubstrings:function(){var t=this,r=[];return n.each(this._option("routes"),function(u,f){var o=new i(f.color||t._defaultRouteColor()).toHex().replace("#","0x"),s=Math.round((f.opacity||t._defaultRouteOpacity())*255).toString(16),h=f.weight||t._defaultRouteWeight(),e=[];n.each(f.locations,function(n,i){e.push(t._locationToString(i))}),r.push("path=color:"+o+s+"|weight:"+h+"|"+e.join("|"))}),r},_attachClickEvent:function(){var t=this,n=this._addEventNamespace("dxclick");this._$container.off(n).on(n,function(n){t._fireClickAction({jQueryEvent:n})})}})}),DevExpress.define("/ui/widgets/map/ui.map.provider.dynamic",["jquery","/ui/widgets/map/ui.map.provider"],function(n,t){var i=t.abstract;return t.inherit({cancelEvents:!0,_renderImpl:function(){var r=n.Deferred();return this._load().done(n.proxy(function(){this._init().done(n.proxy(function(){var t=this.updateMapType(),i=this._isBoundsSetted()?this.updateBounds():this.updateCenter();n.when(t,i).done(n.proxy(function(){this._attachHandlers(),setTimeout(function(){r.resolve()})},this))},this))},this)),r.promise()},_load:function(){return this._mapsLoader||(this._mapsLoader=n.Deferred(),this._loadImpl().done(n.proxy(function(){this._mapsLoader.resolve()},this))),this._markers=[],this._routes=[],this._mapsLoader.promise()},_loadImpl:i,_init:i,_attachHandlers:i,addMarkers:function(t){var i=n.Deferred(),r=this,u=n.map(t,function(n){return r._addMarker(n)});return n.when.apply(n,u).done(function(){var t=n.map(n.makeArray(arguments),function(n){return n.marker});i.resolve(!1,t)}),i.promise()},_addMarker:function(t){var i=this;return this._renderMarker(t).done(function(r){i._markers.push(n.extend({options:t},r)),i._fitBounds(),i._fireMarkerAddedAction({options:t,originalMarker:r.marker})})},_renderMarker:i,removeMarkers:function(t){var i=this;return n.each(t,function(n,t){i._removeMarker(t)}),n.Deferred().resolve().promise()},_removeMarker:function(t){var i=this;n.each(this._markers,function(n,r){return r.options!==t?!0:(i._destroyMarker(r),i._markers.splice(n,1),i._fireMarkerRemovedAction({options:r.options}),!1)})},_destroyMarker:i,_clearMarkers:function(){while(this._markers.length>0)this._removeMarker(this._markers[0].options)},addRoutes:function(t){var i=n.Deferred(),r=this,u=n.map(t,function(n){return r._addRoute(n)});return n.when.apply(n,u).done(function(){var t=n.map(n.makeArray(arguments),function(n){return n.instance});i.resolve(!1,t)}),i.promise()},_addRoute:function(t){var i=this;return this._renderRoute(t).done(function(r){i._routes.push(n.extend({options:t},r)),i._fitBounds(),i._fireRouteAddedAction({options:t,originalRoute:r.instance})})},_renderRoute:i,removeRoutes:function(t){var i=this;return n.each(t,function(n,t){i._removeRoute(t)}),n.Deferred().resolve().promise()},_removeRoute:function(t){var i=this;n.each(this._routes,function(n,r){return r.options!==t?!0:(i._destroyRoute(r),i._routes.splice(n,1),i._fireRouteRemovedAction({options:t}),!1)})},_destroyRoute:i,_clearRoutes:function(){while(this._routes.length>0)this._removeRoute(this._routes[0].options)},adjustViewport:function(){return this._fitBounds()},_fitBounds:i,_updateBounds:function(){var t=this;this._clearBounds(),n.each(this._markers,function(n,i){t._extendBounds(i.location)}),n.each(this._routes,function(n,i){t._extendBounds(i.northEast),t._extendBounds(i.southWest)})},_clearBounds:function(){this._bounds=null},_extendBounds:i})}),DevExpress.define("/ui/widgets/map/ui.map.provider.dynamic.bing",["jquery","/ui/widgets/map/ui.map.provider.dynamic","/color","/utils/utils.support"],function(n,t,i,r){var f="_bingScriptReady",s="https://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0&s=1&onScriptLoad="+f,h="ms-appx:///Bing.Maps.JavaScript/js/veapicore.js",c="ms-appx:///Bing.Maps.JavaScript/js/veapiModules.js",l="AhuxC0dQ1DBTNo8L-H9ToVMQStmizZzBJdraTSgCzDSWPsA1Qd8uIvFSflzxdaLH",e=1e-16,o=function(){return window.Microsoft&&window.Microsoft.Maps},u;return t.inherit({_mapType:function(n){var t={roadmap:Microsoft.Maps.MapTypeId.road,hybrid:Microsoft.Maps.MapTypeId.aerial,satellite:Microsoft.Maps.MapTypeId.aerial};return t[n]||t.road},_movementMode:function(n){var t={driving:Microsoft.Maps.Directions.RouteMode.driving,walking:Microsoft.Maps.Directions.RouteMode.walking};return t[n]||t.driving},_resolveLocation:function(t){var i=n.Deferred(),r=this._getLatLng(t),u,f;return r?i.resolve(new Microsoft.Maps.Location(r.lat,r.lng)):(u=new Microsoft.Maps.Search.SearchManager(this._map),f={where:t,count:1,callback:function(n){var t=n.results[0].location;i.resolve(new Microsoft.Maps.Location(t.latitude,t.longitude))}},u.geocode(f)),i.promise()},_normalizeLocation:function(n){return{lat:n.latitude,lng:n.longitude}},_normalizeLocationRect:function(n){var t=this._normalizeLocation(n.getNorthwest()),i=this._normalizeLocation(n.getSoutheast());return{northEast:{lat:t.lat,lng:i.lng},southWest:{lat:i.lat,lng:t.lng}}},_loadImpl:function(){return this._msMapsLoader=n.Deferred(),o()?this._mapReady():(u&&(u.state()!=="resolved"||o())||(u=n.Deferred(),window[f]=n.proxy(u.resolve,u),r.winJS?n.when(n.getScript(h),n.getScript(c)).done(function(){Microsoft.Maps.loadModule("Microsoft.Maps.Map",{callback:window[f]})}):n.getScript(s)),u.done(n.proxy(this._mapReady,this))),this._msMapsLoader.promise()},_mapReady:function(){try{delete window[f]}catch(r){window[f]=undefined}var t=n.Deferred(),i=n.Deferred();Microsoft.Maps.loadModule("Microsoft.Maps.Search",{callback:n.proxy(t.resolve,t)}),Microsoft.Maps.loadModule("Microsoft.Maps.Directions",{callback:n.proxy(i.resolve,i)}),n.when(t,i).done(n.proxy(function(){this._msMapsLoader.resolve()},this))},_init:function(){var r=n.Deferred(),t=n.Deferred(),i=this._option("controls"),u;return this._map=new Microsoft.Maps.Map(this._$container[0],{credentials:this._keyOption("bing")||l,zoom:this._option("zoom"),showDashboard:i,showMapTypeSelector:i,showScalebar:i}),u=Microsoft.Maps.Events.addHandler(this._map,"tiledownloadcomplete",n.proxy(t.resolve,t)),n.when(t).done(n.proxy(function(){Microsoft.Maps.Events.removeHandler(u),r.resolve()},this)),r.promise()},_attachHandlers:function(){this._providerViewChangeHandler=Microsoft.Maps.Events.addHandler(this._map,"viewchange",n.proxy(this._viewChangeHandler,this)),this._providerClickHandler=Microsoft.Maps.Events.addHandler(this._map,"click",n.proxy(this._clickActionHandler,this))},_viewChangeHandler:function(){var t=this._map.getBounds(),n;this._option("bounds",this._normalizeLocationRect(t)),n=this._map.getCenter(),this._option("center",this._normalizeLocation(n)),this._preventZoomChangeEvent||this._option("zoom",this._map.getZoom())},_clickActionHandler:function(n){if(n.targetType==="map"){var t=new Microsoft.Maps.Point(n.getX(),n.getY()),i=n.target.tryPixelToLocation(t);this._fireClickAction({location:this._normalizeLocation(i)})}},updateDimensions:function(){var t=this._$container;return this._map.setOptions({width:t.width(),height:t.height()}),n.Deferred().resolve().promise()},updateMapType:function(){var t=this._option("type"),i=Microsoft.Maps.LabelOverlay;return this._map.setView({animate:!1,mapTypeId:this._mapType(t),labelOverlay:t==="satellite"?i.hidden:i.visible}),n.Deferred().resolve().promise()},updateBounds:function(){var t=n.Deferred(),i=this,r=this._resolveLocation(this._option("bounds.northEast")),u=this._resolveLocation(this._option("bounds.southWest"));return n.when(r,u).done(function(n,r){var u=new Microsoft.Maps.LocationRect.fromLocations(n,r);i._map.setView({animate:!1,bounds:u}),t.resolve()}),t.promise()},updateCenter:function(){var t=n.Deferred(),i=this;return this._resolveLocation(this._option("center")).done(function(n){i._map.setView({animate:!1,center:n}),t.resolve()}),t.promise()},updateZoom:function(){return this._map.setView({animate:!1,zoom:this._option("zoom")}),n.Deferred().resolve().promise()},updateControls:function(){return this.clean(),this.render.apply(this,arguments)},_renderMarker:function(t){var r=n.Deferred(),i=this;return this._resolveLocation(t.location).done(function(u){var s={icon:t.iconSrc||i._option("markerIconSrc")},f,e,o,h,c,l;t.html&&(n.extend(s,{htmlContent:t.html,width:null,height:null}),f=t.htmlOffset,f&&(s.anchor=new Microsoft.Maps.Point(-f.left,-f.top))),e=new Microsoft.Maps.Pushpin(u,s),i._map.entities.push(e),o=i._renderTooltip(u,t.tooltip),(t.onClick||t.tooltip)&&(c=i._createAction(t.onClick||n.noop),l=i._normalizeLocation(u),h=Microsoft.Maps.Events.addHandler(e,"click",function(){c({location:l}),o&&o.setOptions({visible:!0})})),r.resolve({location:u,marker:e,infobox:o,handler:h})}),r.promise()},_renderTooltip:function(n,t){if(t){t=this._parseTooltipOptions(t);var i=new Microsoft.Maps.Infobox(n,{description:t.text,offset:new Microsoft.Maps.Point(0,33),visible:t.visible});return this._map.entities.push(i,null),i}},_destroyMarker:function(n){this._map.entities.remove(n.marker),n.infobox&&this._map.entities.remove(n.infobox),n.handler&&Microsoft.Maps.Events.removeHandler(n.handler)},_renderRoute:function(t){var u=n.Deferred(),r=this,f=n.map(t.locations,function(n){return r._resolveLocation(n)});return n.when.apply(n,f).done(function(){var s=n.makeArray(arguments),f=new Microsoft.Maps.Directions.DirectionsManager(r._map),h=new i(t.color||r._defaultRouteColor()).toHex(),e=new Microsoft.Maps.Color.fromHex(h),o;e.a=(t.opacity||r._defaultRouteOpacity())*255,f.setRenderOptions({autoUpdateMapView:!1,displayRouteSelector:!1,waypointPushpinOptions:{visible:!1},drivingPolylineOptions:{strokeColor:e,strokeThickness:t.weight||r._defaultRouteWeight()},walkingPolylineOptions:{strokeColor:e,strokeThickness:t.weight||r._defaultRouteWeight()}}),f.setRequestOptions({routeMode:r._movementMode(t.mode),routeDraggable:!1}),n.each(s,function(n,t){var i=new Microsoft.Maps.Directions.Waypoint({location:t});f.addWaypoint(i)}),o=Microsoft.Maps.Events.addHandler(f,"directionsUpdated",function(n){Microsoft.Maps.Events.removeHandler(o);var t=n.routeSummary[0];u.resolve({instance:f,northEast:t.northEast,southWest:t.southWest})}),f.calculateDirections()}),u.promise()},_destroyRoute:function(n){n.instance.dispose()},_fitBounds:function(){var i,t,r;return this._updateBounds(),this._bounds&&this._option("autoAdjust")&&(i=this._map.getZoom(),this._preventZoomChangeEvent=!0,t=this._bounds.clone(),t.height=t.height*1.1,t.width=t.width*1.1,this._map.setView({animate:!1,bounds:t,zoom:i}),r=this._map.getZoom(),i<r?this._map.setView({animate:!1,zoom:i}):this._option("zoom",r),delete this._preventZoomChangeEvent),n.Deferred().resolve().promise()},_extendBounds:function(n){this._bounds=this._bounds?new Microsoft.Maps.LocationRect.fromLocations(this._bounds.getNorthwest(),this._bounds.getSoutheast(),n):new Microsoft.Maps.LocationRect(n,e,e)},clean:function(){return this._map&&(Microsoft.Maps.Events.removeHandler(this._providerViewChangeHandler),Microsoft.Maps.Events.removeHandler(this._providerClickHandler),this._clearMarkers(),this._clearRoutes(),this._map.dispose()),n.Deferred().resolve().promise()}})}),DevExpress.define("/ui/widgets/map/ui.map.provider.dynamic.google",["jquery","/ui/widgets/map/ui.map.provider.dynamic","/color"],function(n,t,i){var f="_googleScriptReady",o="https://maps.google.com/maps/api/js?sensor=false&callback="+f,r,s=function(){r=function(t){this._position=t.position,this._offset=t.offset,this._$overlayContainer=n("<div>").css({position:"absolute",display:"none",cursor:"pointer"}).append(t.html),this.setMap(t.map)},r.prototype=new google.maps.OverlayView,r.prototype.onAdd=function(){var t=n(this.getPanes().overlayMouseTarget);t.append(this._$overlayContainer),this._clickListner=google.maps.event.addDomListener(this._$overlayContainer.get(0),"click",n.proxy(function(n){google.maps.event.trigger(this,"click"),n.preventDefault()},this)),this.draw()},r.prototype.onRemove=function(){google.maps.event.removeListener(this._clickListner),this._$overlayContainer.remove()},r.prototype.draw=function(){var n=this.getProjection().fromLatLngToDivPixel(this._position);this._$overlayContainer.css({left:n.x+this._offset.left,top:n.y+this._offset.top,display:"block"})}},e=function(){return window.google&&window.google.maps},u;return t.inherit({_mapType:function(n){var t={hybrid:google.maps.MapTypeId.HYBRID,roadmap:google.maps.MapTypeId.ROADMAP,satellite:google.maps.MapTypeId.SATELLITE};return t[n]||t.hybrid},_movementMode:function(n){var t={driving:google.maps.TravelMode.DRIVING,walking:google.maps.TravelMode.WALKING};return t[n]||t.driving},_resolveLocation:function(t){var i=n.Deferred(),r=this._getLatLng(t),u;return r?i.resolve(new google.maps.LatLng(r.lat,r.lng)):(u=new google.maps.Geocoder,u.geocode({address:t},function(n,t){t===google.maps.GeocoderStatus.OK&&i.resolve(n[0].geometry.location)})),i.promise()},_normalizeLocation:function(n){return{lat:n.lat(),lng:n.lng()}},_normalizeLocationRect:function(n){return{northEast:this._normalizeLocation(n.getNorthEast()),southWest:this._normalizeLocation(n.getSouthWest())}},_loadImpl:function(){if(this._googleMapsLoader=n.Deferred(),e())this._mapReady();else{if(!u||u.state()==="resolved"&&!e()){u=n.Deferred();var t=this._keyOption("google");window[f]=n.proxy(u.resolve,u),n.getScript(o+(t?"&key="+t:""))}u.done(n.proxy(this._mapReady,this))}return this._googleMapsLoader.promise()},_mapReady:function(){try{delete window[f]}catch(n){window[f]=undefined}s(),this._googleMapsLoader.resolve()},_init:function(){var r=n.Deferred(),i=n.Deferred(),t=this._option("controls"),u;return this._map=new google.maps.Map(this._$container[0],{zoom:this._option("zoom"),panControl:t,zoomControl:t,mapTypeControl:t,streetViewControl:t}),u=google.maps.event.addListener(this._map,"idle",n.proxy(i.resolve,i)),n.when(i).done(n.proxy(function(){google.maps.event.removeListener(u),r.resolve()},this)),r.promise()},_attachHandlers:function(){this._boundsChangeListener=google.maps.event.addListener(this._map,"bounds_changed",n.proxy(this._boundsChangeHandler,this)),this._clickListener=google.maps.event.addListener(this._map,"click",n.proxy(this._clickActionHandler,this))},_boundsChangeHandler:function(){var t=this._map.getBounds(),n;this._option("bounds",this._normalizeLocationRect(t)),n=this._map.getCenter(),this._option("center",this._normalizeLocation(n)),this._preventZoomChangeEvent||this._option("zoom",this._map.getZoom())},_clickActionHandler:function(n){this._fireClickAction({location:this._normalizeLocation(n.latLng)})},updateDimensions:function(){var n=this._option("center");return google.maps.event.trigger(this._map,"resize"),this._option("center",n),this.updateCenter()},updateMapType:function(){return this._map.setMapTypeId(this._mapType(this._option("type"))),n.Deferred().resolve().promise()},updateBounds:function(){var t=n.Deferred(),i=this,r=this._resolveLocation(this._option("bounds.northEast")),u=this._resolveLocation(this._option("bounds.southWest"));return n.when(r,u).done(function(n,r){var u=new google.maps.LatLngBounds;u.extend(n),u.extend(r),i._map.fitBounds(u),t.resolve()}),t.promise()},updateCenter:function(){var i=n.Deferred(),t=this;return this._resolveLocation(this._option("center")).done(function(n){t._map.setCenter(n),t._option("center",t._normalizeLocation(n)),i.resolve()}),i.promise()},updateZoom:function(){return this._map.setZoom(this._option("zoom")),n.Deferred().resolve().promise()},updateControls:function(){var t=this._option("controls");return this._map.setOptions({panControl:t,zoomControl:t,mapTypeControl:t,streetViewControl:t}),n.Deferred().resolve().promise()},_renderMarker:function(t){var u=n.Deferred(),i=this;return this._resolveLocation(t.location).done(function(f){var e,o,s,h,c;e=t.html?new r({map:i._map,position:f,html:t.html,offset:n.extend({top:0,left:0},t.htmlOffset)}):new google.maps.Marker({position:f,map:i._map,icon:t.iconSrc||i._option("markerIconSrc")}),o=i._renderTooltip(e,t.tooltip),(t.onClick||t.tooltip)&&(h=i._createAction(t.onClick||n.noop),c=i._normalizeLocation(f),s=google.maps.event.addListener(e,"click",function(){h({location:c}),o&&o.open(i._map,e)})),u.resolve({location:f,marker:e,listner:s})}),u.promise()},_renderTooltip:function(n,t){if(t){t=this._parseTooltipOptions(t);var i=new google.maps.InfoWindow({content:t.text});return t.visible&&i.open(this._map,n),i}},_destroyMarker:function(n){n.marker.setMap(null),n.listner&&google.maps.event.removeListener(n.listner)},_renderRoute:function(t){var u=n.Deferred(),r=this,f=new google.maps.DirectionsService,e=n.map(t.locations,function(n){return r._resolveLocation(n)});return n.when.apply(n,e).done(function(){var e=n.makeArray(arguments),o=e.shift(),s=e.pop(),h=n.map(e,function(n){return{location:n,stopover:!0}}),c={origin:o,destination:s,waypoints:h,optimizeWaypoints:!0,travelMode:r._movementMode(t.mode)};f.route(c,function(n,f){if(f===google.maps.DirectionsStatus.OK){var o=new i(t.color||r._defaultRouteColor()).toHex(),s={directions:n,map:r._map,suppressMarkers:!0,preserveViewport:!0,polylineOptions:{strokeWeight:t.weight||r._defaultRouteWeight(),strokeOpacity:t.opacity||r._defaultRouteOpacity(),strokeColor:o}},h=new google.maps.DirectionsRenderer(s),e=n.routes[0].bounds;u.resolve({instance:h,northEast:e.getNorthEast(),southWest:e.getSouthWest()})}})}),u.promise()},_destroyRoute:function(n){n.instance.setMap(null)},_fitBounds:function(){var t,i;return this._updateBounds(),this._bounds&&this._option("autoAdjust")&&(t=this._map.getZoom(),this._preventZoomChangeEvent=!0,this._map.fitBounds(this._bounds),i=this._map.getZoom(),t<i?this._map.setZoom(t):this._option("zoom",i),delete this._preventZoomChangeEvent),n.Deferred().resolve().promise()},_extendBounds:function(n){this._bounds?this._bounds.extend(n):(this._bounds=new google.maps.LatLngBounds,this._bounds.extend(n))},clean:function(){return this._map&&(google.maps.event.removeListener(this._boundsChangeListener),google.maps.event.removeListener(this._clickListener),this._clearMarkers(),this._clearRoutes(),delete this._map,this._$container.empty()),n.Deferred().resolve().promise()}})}),DevExpress.define("/ui/widgets/map/ui.map",["jquery","/ui/uiNamespace","/ui/ui.errors","/devices","/componentRegistrator","/ui/ui.widget","/utils/utils.support","/utils/utils.array","/utils/utils.inflector","/ui/widgets/map/ui.map.provider.googleStatic","/ui/widgets/map/ui.map.provider.dynamic.google","/ui/widgets/map/ui.map.provider.dynamic.bing","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var p=o.wrapToArray,y=o.removeDublicates,k={googleStatic:h,google:c,bing:l},d="dx-map",g="dx-map-container",w="dx-map-shield",b=f.inherit({ctor:function(){this.callBase.apply(this,arguments),this.addMarker=n.proxy(this._addFunction,this,"markers"),this.removeMarker=n.proxy(this._removeFunction,this,"markers"),this.addRoute=n.proxy(this._addFunction,this,"routes"),this.removeRoute=n.proxy(this._removeFunction,this,"routes")},_addFunction:function(t,i){var u=n.Deferred(),e=this,f=n.Deferred(),r=this.option(t),o=p(i);return r.push.apply(r,o),this._notificationDeffered=f,this.option(t,r),f.done(function(n){u.resolveWith(e,n&&n.length>1?[n]:n)}),u.promise()},_removeFunction:function(t,r){var f=n.Deferred(),o=this,e=n.Deferred(),u=this.option(t),h=p(r);return n.each(h,function(r,f){var e=n.isNumeric(f)?f:n.inArray(f,u);if(e!==-1)u.splice(e,1);else throw i.log("E1021",s.titleize(t.substring(0,t.length-1)),f);}),this._notificationDeffered=e,this.option(t,u),e.done(function(){f.resolveWith(o)}),f.promise()},_getDefaultOptions:function(){return n.extend(this.callBase(),{bounds:{northEast:null,southWest:null},center:{lat:0,lng:0},zoom:1,width:300,height:300,type:"roadmap",provider:"google",autoAdjust:!0,markers:[],markerIconSrc:null,onMarkerAdded:null,onMarkerRemoved:null,routes:[],onRouteAdded:null,onRouteRemoved:null,key:{bing:"",google:"",googleStatic:""},controls:!1,onReady:null,onUpdated:null,onClick:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.real().generic&&!r.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._asyncQueue=[],this._checkProvider(),this._checkMarkersOption(this.option("markers")),this._checkRoutesOption(this.option("routes")),this._initContainer(),this._grabEvents(),this._cleanRenderedMarkers(),this._cleanRenderedRoutes()},_checkProvider:function(){if(e.winJS&&this.option("provider")==="google")throw i.Error("E1024");},_checkMarkersOption:function(t){if(!n.isArray(t))throw i.Error("E1022");},_checkRoutesOption:function(t){if(!n.isArray(t))throw i.Error("E1023");},_initContainer:function(){this._$container=n("<div />").addClass(g),this.element().append(this._$container)},_grabEvents:function(){var t=a.addNamespace(v.down,this.NAME);this.element().on(t,n.proxy(this._cancelEvent,this))},_cancelEvent:function(n){var t=this._provider.cancelEvents&&!this.option("disabled");!DevExpress.designMode&&t&&n.stopPropagation()},_cleanRenderedMarkers:function(){this._renderedMarkers=[]},_cleanRenderedRoutes:function(){this._renderedRoutes=[]},_render:function(){this.callBase(),this.element().addClass(d),this._renderShield(),this._queueAsyncAction("render",this.option("markers"),this.option("routes")),this._saveRenderedMarkers(),this._saveRenderedRoutes()},_saveRenderedMarkers:function(n){n=n||this.option("markers"),this._renderedMarkers=n.slice()},_saveRenderedRoutes:function(n){n=n||this.option("routes"),this._renderedRoutes=n.slice()},_renderShield:function(){var t;DevExpress.designMode||this.option("disabled")?(t=n("<div/>").addClass(w),this.element().append(t)):(t=this.element().find("."+w),t.remove())},_clean:function(){(this._cleanFocusState(),this._provider)&&(this._queueAsyncAction("clean"),this._cleanRenderedMarkers(),this._cleanRenderedRoutes())},_optionChanged:function(t){var u=t.value,r;if(!this._cancelOptionChange){r=this._notificationDeffered,delete this._notificationDeffered;switch(t.name){case"disabled":this._renderShield(),this.callBase(t);break;case"width":case"height":this.callBase(t),this._dimensionChanged();break;case"provider":this._invalidate();break;case"key":i.log("W1001");break;case"bounds":this._queueAsyncAction("updateBounds");break;case"center":this._queueAsyncAction("updateCenter");break;case"zoom":this._queueAsyncAction("updateZoom");break;case"type":this._queueAsyncAction("updateMapType");break;case"controls":this._queueAsyncAction("updateControls",this.option("markers"),this.option("routes"));break;case"autoAdjust":this._queueAsyncAction("adjustViewport");break;case"markers":this._checkMarkersOption(u),this._queueAsyncAction("updateMarkers",r?y(this._renderedMarkers,u):this._renderedMarkers,r?y(u,this._renderedMarkers):u).done(n.proxy(function(){r&&r.resolve.apply(r,arguments)},this)),this._saveRenderedMarkers(u);break;case"markerIconSrc":this._queueAsyncAction("updateMarkers",this._renderedMarkers,this._renderedMarkers);break;case"routes":this._checkRoutesOption(u),this._queueAsyncAction("updateRoutes",r?y(this._renderedRoutes,u):this._renderedRoutes,r?y(u,this._renderedRoutes):u).done(n.proxy(function(){r&&r.resolve.apply(r,arguments)},this)),this._saveRenderedRoutes(u);break;case"onReady":case"onUpdated":case"onMarkerAdded":case"onMarkerRemoved":case"onRouteAdded":case"onRouteRemoved":case"onClick":break;default:this.callBase.apply(this,arguments)}}},_visibilityChanged:function(n){n&&this._dimensionChanged()},_dimensionChanged:function(){this._queueAsyncAction("updateDimensions")},_queueAsyncAction:function(t){var i=n.Deferred(),r=!this._asyncQueue.length;return this._asyncQueue.push({name:t,options:n.makeArray(arguments).slice(1),deferred:i}),r&&this._enqueueAsyncAction(),i.promise()},_enqueueAsyncAction:function(){var t=!this._asyncQueue.length;t||this._execAsyncAction(this._asyncQueue[0]).done(n.proxy(function(){this._asyncQueue.shift(),this._enqueueAsyncAction()},this))},_execAsyncAction:function(t){var i=n.Deferred(),r=t.name,e=t.options,u=t.deferred,f=this._getProvider(r);return f[r].apply(f,e).done(n.proxy(function(t){u.resolve.apply(u,n.makeArray(arguments).slice(1)),t&&this._triggerReadyAction(),i.resolve()},this)),i.promise()},_getProvider:function(n){var t=this.option("provider");return n!=="clean"&&this._usedProvider!==t&&(this._provider=new k[t](this,this._$container),this._usedProvider=t),this._provider},_triggerReadyAction:function(){this._createActionByOption("onReady")({originalMap:this._provider.map()})},_triggerUpdateAction:function(){this._createActionByOption("onUpdated")()},setOptionSilent:function(n,t){this._cancelOptionChange=!0,this.option(n,t),this._cancelOptionChange=!1}});return u("dxMap",t,b),b}),DevExpress.require(["/ui/widgets/map/ui.map"]),function(n,t){var u=t.ui,f=t.require("/componentRegistrator"),e=t.require("/domComponent"),o=t.require("/ui/events/ui.events.utils"),r="dxSwipeable",s="dx-swipeable",h={onStart:"dxswipestart",onUpdated:"dxswipe",onEnd:"dxswipeend",onCancel:"dxswipecancel"};f(r,u,e.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.element().addClass(s),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHanlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),n.each(h,n.proxy(function(n,i){var r=this._createActionByOption(n,{context:this});i=o.addNamespace(i,t);this.element().on(i,this._eventData,function(n){return r({jQueryEvent:n})})},this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHanlers:function(){this.element().off("."+r)},_optionChanged:function(n){switch(n.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHanlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(n)}}}))}(jQuery,DevExpress),function(n,t){var o=t.ui,f=t.require("/utils/utils.translator"),s=t.require("/utils/utils.inflector").dasherize,h=t.require("/utils/utils.string"),c=t.require("/componentRegistrator"),l=t.require("/domComponent"),u=t.require("/ui/events/ui.events.utils"),a=t.require("/ui/events/pointer/ui.events.pointer"),r="dxDraggable",v=u.addNamespace("dxdragstart",r),y=u.addNamespace("dxdrag",r),p=u.addNamespace("dxdragend",r),w=u.addNamespace(a.down,r),e=s(r),b=e+"-dragging";c(r,o,l.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{onDragStart:n.noop,onDrag:n.noop,onDragEnd:n.noop,direction:"both",area:window,boundOffset:0,allowMoveByClick:!1})},_init:function(){this.callBase(),this._attachEventHandlers()},_attachEventHandlers:function(){if(!this.option("disabled")){var i=this.element().css("position","absolute"),t={},r=this.option("allowMoveByClick");t[v]=n.proxy(this._dragStartHandler,this),t[y]=n.proxy(this._dragHandler,this),t[p]=n.proxy(this._dragEndHandler,this),r&&(t[w]=n.proxy(this._pointerDownHandler,this),i=this._getArea());i.on(t,{direction:this.option("direction"),immediate:!0})}},_detachEventHandlers:function(){this.element().off("."+r),this._getArea().off("."+r)},_move:function(n){f.move(this.element(),n)},_pointerDownHandler:function(t){if(!u.needSkipEvent(t)){var f=this._getAreaOffset(n(t.currentTarget)),i=this.option("direction"),r={};(i==="horizontal"||i==="both")&&(r.left=t.pageX-this.element().width()/2-f.left),(i==="vertical"||i==="both")&&(r.top=t.pageY-this.element().height()/2-f.top),this._move(r),this._getAction("onDrag")({jQueryEvent:t})}},_dragStartHandler:function(n){var t=this.element(),i;if(t.is(".dx-state-disabled, .dx-state-disabled *")){n.cancel=!0;return}var u=this._getArea(),e=this._getAreaOffset(u),r=this._getBoundOffset(),o=u.outerWidth(),s=u.outerHeight(),h=t.width(),c=t.height();this._toggleDraggingClass(!0),i={left:t.offset().left-e.left,top:t.offset().top-e.top},this._startPosition=f.locate(t),n.maxLeftOffset=i.left-r.left,n.maxRightOffset=o-i.left-h-r.right,n.maxTopOffset=i.top-r.top,n.maxBottomOffset=s-i.top-c-r.bottom,this._getAction("onDragStart")({jQueryEvent:n})},_getAreaOffset:function(n){var t=n&&n.offset();return t?t:{left:0,top:0}},_toggleDraggingClass:function(n){this.element().toggleClass(b,n)},_getBoundOffset:function(){var t=this.option("boundOffset");return n.isFunction(t)&&(t=t.call(this)),h.quadToObject(t)},_getArea:function(){var t=this.option("area");return n.isFunction(t)&&(t=t.call(this)),n(t)},_dragHandler:function(n){var t=n.offset,i=this._startPosition;this._move({left:i.left+t.x,top:i.top+t.y}),this._getAction("onDrag")({jQueryEvent:n})},_dragEndHandler:function(n){this._toggleDraggingClass(!1),this._getAction("onDragEnd")({jQueryEvent:n})},_getAction:function(n){return this["_"+n+"Action"]||this._createActionByOption(n)},_render:function(){this.callBase(),this.element().addClass(e)},_optionChanged:function(n){var t=n.name;switch(t){case"onDragStart":case"onDrag":case"onDragEnd":this["_"+t+"Action"]=this._createActionByOption(t);break;case"allowMoveByClick":case"direction":case"disabled":this._detachEventHandlers(),this._attachEventHandlers();break;case"boundOffset":case"area":break;default:this.callBase(n)}},_dispose:function(){this.callBase(),this._detachEventHandlers()}}))}(jQuery,DevExpress),function(n,t,i){var o=t.ui,s=t.utils,h=t.require("/utils/utils.common"),c=t.require("/componentRegistrator"),l=t.require("/ui/ui.widget"),a="dx-widget",v="dx-deferrendering",r="dx-pending-rendering",u="dx-pending-rendering-manual",f="dx-pending-rendering-active",e="dx-invisible-while-pending-rendering",y="dx-loadindicator-container",p="dx-deferrendering-load-indicator",w="content",b=["onRendered","onShown"];c("dxDeferRendering",o,l.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{showLoadIndicator:!1,renderWhen:i,animation:i,staggerItemSelector:i,onRendered:null,onShown:null})},_getAnonymousTemplateName:function(){return w},_init:function(){this.transitionExecutor=new t.TransitionExecutor,this._initElement(),this._initRender(),this._$initialContent=this.element().clone().contents(),this._initActions(),this.callBase()},_initElement:function(){this.element().addClass(v).addClass(y)},_initRender:function(){var f=this,t=this.element(),n=this.option("renderWhen"),r=function(){return f._renderDeferredContent()};n&&n.done?n.done(r):(t.data("dx-render-delegate",r),n===i&&t.addClass(u))},_initActions:function(){this._actions={},n.each(b,n.proxy(function(t,i){this._actions[i]=this._createActionByOption(i)||n.noop},this))},_renderContentImpl:function(){this.element().removeClass(a),this.element().append(this._$initialContent),this._setLoadingState()},_renderDeferredContent:function(){var r=this,i=this.element(),t=n.Deferred();return i.removeClass(u),i.addClass(f),this._renderTask=h.executeAsync(function(){r._renderImpl().done(function(){var n={element:i};r._actions.onShown([n]);t.resolve(n)}).fail(function(){t.rejectWith(t,arguments)})}),t.promise()},_isElementInViewport:function(n){var t=n.getBoundingClientRect();return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)},_animate:function(){var t=this,u=this.element(),i=this.option("animation"),f=this.option("staggerItemSelector"),r;return t.transitionExecutor.stop(),i?(f?u.find(f).each(function(){t._isElementInViewport(this)&&t.transitionExecutor.enter(n(this),i)}):t.transitionExecutor.enter(u,i),r=t.transitionExecutor.start()):r=n.Deferred().resolve().promise(),r},_renderImpl:function(){var n=this.element(),i={element:n},t=this._getTemplate(this._getAnonymousTemplateName());t&&t.render(n.empty()),this._setRenderedState(n),n.trigger("dxcontentrendered");this._actions.onRendered([i]);return this._isRendered=!0,this._animate()},_setLoadingState:function(){var n=this.element();n.addClass(r),n.children().addClass(e),this.option("showLoadIndicator")&&this._showLoadIndicator(n)},_showLoadIndicator:function(t){this._$loadIndicator=n("<div/>").dxLoadIndicator({visible:!0}).addClass(p),t.append(this._$loadIndicator)},_setRenderedState:function(){var n=this.element();this._$loadIndicator&&this._$loadIndicator.remove(),n.removeClass(r),n.removeClass(f),n.children().removeClass(e),s.triggerShownEvent(n.children())},_optionChanged:function(n){var t=n.value,i=n.previousValue;switch(n.name){case"renderWhen":i===!1&&t===!0?this._renderOrAnimate():i===!0&&t===!1&&this._setLoadingState();break;case"showLoadIndicator":case"onRendered":case"onShown":break;default:this.callBase(n)}},_renderOrAnimate:function(){var n;return this._isRendered?(this._setRenderedState(),n=this._animate()):n=this._renderDeferredContent(),n},renderContent:function(){return this._renderOrAnimate()},_dispose:function(){this.transitionExecutor.stop(),this._renderTask&&this._renderTask.abort(),this._actions=null,this._$initialContent=null,this.callBase()}}))}(jQuery,DevExpress),function(n,t,i){var h=t.ui,o=t.require("/utils/utils.translator"),c=t.require("/utils/utils.string"),s=t.require("/utils/utils.math").fitIntoRange,l=t.require("/componentRegistrator"),a=t.require("/domComponent"),e=t.require("/ui/events/ui.events.utils"),u="dxResizable",v="dx-resizable",y="dx-resizable-resizing",f="dx-resizable-handle",p="dx-resizable-handle-top",w="dx-resizable-handle-bottom",b="dx-resizable-handle-left",k="dx-resizable-handle-right",r="dx-resizable-handle-corner",d=e.addNamespace("dxdragstart",u),g=e.addNamespace("dxdrag",u),nt=e.addNamespace("dxdragend",u);l(u,h,a.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{handles:"all",step:"1",area:i,minWidth:30,maxWidth:Infinity,minHeight:30,maxHeight:Infinity,onResizeStart:null,onResize:null,onResizeEnd:null})},_init:function(){this.callBase(),this.element().addClass(v)},_render:function(){this.callBase(),this._renderActions(),this._renderHandles()},_renderActions:function(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")},_renderHandles:function(){var i=this.option("handles"),t;i!=="none"&&(t=i==="all"?["top","bottom","left","right"]:i.split(" "),n.each(t,n.proxy(function(n,t){this._renderHandle(t)},this)),n.inArray("bottom",t)+1&&n.inArray("right",t)+1&&this._renderHandle("corner-bottom-right"),n.inArray("bottom",t)+1&&n.inArray("left",t)+1&&this._renderHandle("corner-bottom-left"),n.inArray("top",t)+1&&n.inArray("right",t)+1&&this._renderHandle("corner-top-right"),n.inArray("top",t)+1&&n.inArray("left",t)+1&&this._renderHandle("corner-top-left"))},_renderHandle:function(t){var r=this.element(),i=n("<div>");i.addClass(f).addClass(f+"-"+t).appendTo(r),this._attachEventHandlers(i)},_attachEventHandlers:function(t){if(!this.option("disabled")){var i={};i[d]=n.proxy(this._dragStartHandler,this),i[g]=n.proxy(this._dragHandler,this),i[nt]=n.proxy(this._dragEndHandler,this);t.on(i,{direction:"both",immediate:!0})}},_dragStartHandler:function(n){var t=this.element();if(t.is(".dx-state-disabled, .dx-state-disabled *")){n.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(n),this._elementLocation=o.locate(t),this._elementSize={width:t.outerWidth(),height:t.outerHeight()},this._renderDragOffsets(n),this._resizeStartAction({jQueryEvent:n,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),n.targetElements=null},_toggleResizingClass:function(n){this.element().toggleClass(y,n)},_renderDragOffsets:function(t){var i=this._getArea();if(i){var e=n(t.target).closest("."+f),o=e.outerWidth(),s=e.outerHeight(),r=e.offset(),u=i.offset;t.maxLeftOffset=r.left-u.left,t.maxRightOffset=u.left+i.width-r.left-o,t.maxTopOffset=r.top-u.top,t.maxBottomOffset=u.top+i.height-r.top-s}},_getBorderWidth:function(n,t){var i=n.css("border-"+t+"-width");return parseInt(i)||0},_dragHandler:function(n){var c=this.element(),t=this._getOffset(n),i=this._movingSides,f=this._elementLocation,e=this._elementSize,r=e.width+t.x*(i.left?-1:1),u=e.height+t.y*(i.top?-1:1),s,h;this._renderSize(r,u),s=t.y-(this.option("height")-u),h=t.x-(this.option("width")-r),o.move(c,{top:f.top+(i.top?s:0),left:f.left+(i.left?h:0)}),this._resizeAction({jQueryEvent:n,width:r,height:u,handles:this._movingSides})},_getOffset:function(n){var t=n.offset,r=c.pairToObject(this.option("step")),i=this._getMovingSides(n);return i.left||i.right||(t.x=0),i.top||i.bottom||(t.y=0),{x:t.x-t.x%r.h,y:t.y-t.y%r.v}},_getMovingSides:function(t){var i=n(t.target);return{top:i.hasClass(p)||i.hasClass(r+"-top-left")||i.hasClass(r+"-top-right"),left:i.hasClass(b)||i.hasClass(r+"-top-left")||i.hasClass(r+"-bottom-left"),bottom:i.hasClass(w)||i.hasClass(r+"-bottom-left")||i.hasClass(r+"-bottom-right"),right:i.hasClass(k)||i.hasClass(r+"-top-right")||i.hasClass(r+"-bottom-right")}},_getArea:function(){var t=this.option("area");return(n.isFunction(t)&&(t=t.call(this)),n.isPlainObject(t))?this._getAreaFromObject(t):this._getAreaFromElement(t)},_getAreaFromObject:function(n){var t={width:n.right-n.left,height:n.bottom-n.top,offset:{left:n.left,top:n.top}};return this._correctAreaGeometry(t),t},_getAreaFromElement:function(t){var r=n(t),i;return r.length&&(i={},i.width=r.innerWidth(),i.height=r.innerHeight(),i.offset=r.offset(),this._correctAreaGeometry(i,r)),i},_correctAreaGeometry:function(n,t){var i=t?this._getBorderWidth(t,"left"):0,r=t?this._getBorderWidth(t,"top"):0;n.offset.left+=i+this._getBorderWidth(this.element(),"left"),n.offset.top+=r+this._getBorderWidth(this.element(),"top"),n.width-=this.element().outerWidth()-this.element().innerWidth(),n.height-=this.element().outerHeight()-this.element().innerHeight()},_dragEndHandler:function(n){var t=this.element();this._resizeEndAction({jQueryEvent:n,width:t.outerWidth(),height:t.outerHeight(),handles:this._movingSides}),this._toggleResizingClass(!1)},_renderSize:function(n,t){this.option("width",s(n,this.option("minWidth"),this.option("maxWidth"))),this.option("height",s(t,this.option("minHeight"),this.option("maxHeight")))},_optionChanged:function(n){switch(n.name){case"disabled":case"handles":this._invalidate();break;case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderSize(this.element().outerWidth(),this.element().outerHeight());break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"gridStepHorizontal":case"gridStepVertical":case"area":case"step":break;default:this.callBase(n)}},_clean:function(){this.element().find("."+f).remove()}}))}(jQuery,DevExpress),function(n,t,i){var v=DevExpress.ui,y=DevExpress.require("/class"),u=t.require("/utils/utils.support"),rt=t.require("/utils/utils.browser"),s=t.require("/utils/utils.common"),ut=t.require("/devices"),ft=t.require("/componentRegistrator"),p="dx-box",w=".dx-box",et="dx-box-item",r="dxBoxItemData",b=u.styleProp("flexGrow"),ot=u.styleProp("flexShrink"),st=u.stylePropPrefix("flexDirection"),k={row:"minWidth",col:"minHeight"},d={row:"maxWidth",col:"maxHeight"},h=1,g={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},nt={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},ht={row:"row",col:"column"},ct=y.inherit({ctor:function(n,t){this._$element=n,this._option=t},renderBox:function(){this._$element.css({display:u.stylePropPrefix("flexDirection")+"flex",flexDirection:ht[this._option("direction")]})},renderAlign:function(){this._$element.css({justifyContent:this._normalizedAlign()})},_normalizedAlign:function(){var n=this._option("align");return n in g?g[n]:n},renderCrossAlign:function(){this._$element.css({alignItems:this._normalizedCrossAlign()})},_normalizedCrossAlign:function(){var n=this._option("crossAlign");return n in nt?nt[n]:n},renderItems:function(t){var i=this._option("direction");n.each(t,function(){var f=n(this),t=f.data(r),e;f.css({display:st+"flex",flexBasis:t.baseSize||0}).css(d[i],t.maxSize||"none").css(k[i],t.minSize||"0"),e=f.get(0).style,e[b]=t.ratio,e[ot]=s.isDefined(t.shrink)?t.shrink:h,f.children().each(function(t,i){n(i).css({width:"auto",height:"auto",display:u.stylePropPrefix("flexDirection")+"flex",flexDirection:f.children().css("flexDirection")||"column"}),i.style[b]=1})})},initSize:n.noop,update:n.noop}),lt="dxBox",c="dxupdate."+lt,tt="dx-box-fallback-item",at={row:"nowrap",col:"normal"},f={row:"width",col:"height"},e={row:"height",col:"width"},o={row:"marginLeft",col:"marginTop"},l={row:"marginRight",col:"marginBottom"},a={row:"marginTop",col:"marginLeft"},it={row:"marginBottom",col:"marginRight"},vt={marginLeft:"marginRight",marginRight:"marginLeft"},yt=y.inherit({ctor:function(n,t){this._$element=n,this._option=t},renderBox:function(){this._$element.css({fontSize:0,whiteSpace:at[this._option("direction")],verticalAlign:"top"});this._$element.off(c).on(c,n.proxy(this.update,this))},renderAlign:function(){var n=this._$items;if(n){var u=this._option("align"),t=0,e=this.totalItemSize,i=this._option("direction"),s=this._$element[f[i]](),r=s-e;this._setItemsMargins(n,i,0);switch(u){case"end":t=r,n.first().css(this._chooseMarginSide(o[i]),t);break;case"center":t=.5*r,n.first().css(this._chooseMarginSide(o[i]),t),n.last().css(this._chooseMarginSide(l[i]),t);break;case"space-between":t=.5*r/(n.length-1),this._setItemsMargins(n,i,t),n.first().css(this._chooseMarginSide(o[i]),0),n.last().css(this._chooseMarginSide(l[i]),0);break;case"space-around":t=.5*r/n.length,this._setItemsMargins(n,i,t)}}},_setItemsMargins:function(n,t,i){n.css(this._chooseMarginSide(o[t]),i).css(this._chooseMarginSide(l[t]),i)},renderCrossAlign:function(){var r=this._$items;if(r){var f=this._option("crossAlign"),t=this._option("direction"),u=this._$element[e[t]](),i=this;switch(f){case"end":n.each(r,function(){var r=n(this),f=r[e[t]](),o=u-f;r.css(i._chooseMarginSide(a[t]),o)});break;case"center":n.each(r,function(){var r=n(this),o=r[e[t]](),f=.5*(u-o);r.css(i._chooseMarginSide(a[t]),f).css(i._chooseMarginSide(it[t]),f)});break;case"stretch":r.css(i._chooseMarginSide(a[t]),0).css(i._chooseMarginSide(it[t]),0).css(e[t],"100%")}}},_chooseMarginSide:function(n){return this._option("rtlEnabled")?vt[n]||n:n},renderItems:function(t){this._$items=t;var i=this._option("direction"),e=0,o=0,c=0;n.each(t,n.proxy(function(t,u){var l=n(u);l.css({display:"inline-block",verticalAlign:"top"}),l[f[i]]("auto"),l.removeClass(tt);var a=l.data(r),y=a.ratio||0,v=this._baseSize(l),p=s.isDefined(a.shrink)?a.shrink:h;e+=y,o+=p*v,c+=v},this));var u=this._boxSize()-c,a=n.proxy(function(n){var t=n.data(r),i=this._baseSize(n),c=u>=0?t.ratio||0:(s.isDefined(t.shrink)?t.shrink:h)*i,f=u>=0?e:o,l=f?Math.round(u*c/f):0;return i+l},this),l=0;n.each(t,function(t,u){var e=n(u),o=n(u).data(r),s=a(e);l+=s,e.css(d[i],o.maxSize||"none").css(k[i],o.minSize||"0").css(f[i],s),e.addClass(tt)}),this.totalItemSize=l},_baseSize:function(t){var i=n(t).data(r);return i.baseSize==null?0:i.baseSize==="auto"?this._contentSize(t):this._parseSize(i.baseSize)},_contentSize:function(t){return n(t)[f[this._option("direction")]]()},_parseSize:function(n){return String(n).match(/.+%$/)?.01*parseFloat(n)*this._boxSizeValue:n},_boxSize:function(n){if(!arguments.length)return this._boxSizeValue=this._boxSizeValue||this._totalBaseSize();this._boxSizeValue=n},_totalBaseSize:function(){var t=0;return n.each(this._$items,n.proxy(function(n,i){t+=this._baseSize(i)},this)),t},initSize:function(){this._boxSize(this._$element[f[this._option("direction")]]())},update:function(){if(this._$items&&!this._$element.is(":hidden")){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var t=this._$element.get(0);this._$items.find(w).each(function(){t===n(this).parent().closest(w).get(0)&&n(this).triggerHandler(c)})}}});ft("dxBox",v,v.CollectionWidget.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,_layoutStrategy:"flex",_queue:i})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var n=ut.real(),t=n.platform==="android"&&(n.version[0]<4||n.version[0]===4&&n.version[1]<4),i=n.platform==="ios"&&n.version[0]<7;return n.platform==="win"||rt.msie||t||i},options:{_layoutStrategy:"fallback"}}])},_itemClass:function(){return et},_itemDataKey:function(){return r},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_init:function(){this.callBase(),this.element().addClass(p+"-"+this.option("_layoutStrategy")),this._initLayout(),this._initBoxQueue()},_initLayout:function(){this._layout=this.option("_layoutStrategy")==="fallback"?new yt(this.element(),n.proxy(this.option,this)):new ct(this.element(),n.proxy(this.option,this))},_initBoxQueue:function(){this._queue=this.option("_queue")||[]},_queueIsNotEmpty:function(){return this.option("_queue")?!1:!!this._queue.length},_pushItemToQueue:function(n,t){this._queue.push({$item:n,config:t})},_shiftItemFromQueue:function(){return this._queue.shift()},_render:function(){this.callBase(),this.element().addClass(p),this._renderBox()},_renderBox:function(){this._layout.renderBox(),this._layout.renderAlign(),this._layout.renderCrossAlign()},_renderItems:function(t){for(this._layout.initSize(),this.callBase(t);this._queueIsNotEmpty();){var i=this._shiftItemFromQueue();this._createComponent(i.$item,"dxBox",n.extend({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},i.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout(n.proxy(function(){this._isUpdated||this._layout.update(),this._isUpdated=!1,this._updateTimer=null},this))},_postprocessRenderItem:function(n){var t=n.itemData.box;t&&this._pushItemToQueue(n.itemContent,t)},_createItemByTemplate:function(n,t){return t.item.box?n.source():this.callBase(n,t)},_visibilityChanged:function(n){n&&this._dimensionChanged()},_dimensionChanged:function(){this._updateTimer||(this._isUpdated=!0,this._layout.update())},_dispose:function(){clearTimeout(this._updateTimer),this.callBase.apply(this,arguments)},_optionChanged:function(n){switch(n.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:this.callBase(n)}},repaint:function(){this._dimensionChanged()}}))}(jQuery,DevExpress),function(n,t,i){var r=t.ui,f=DevExpress.require("/ui/ui.errors"),e=t.require("/componentRegistrator"),o="dx-responsivebox",s="dx-box-item",u="dxBoxItemData",h=function(n){return n<768?"xs":n<992?"sm":n<1200?"md":"lg"};e("dxResponsiveBox",r,r.CollectionWidget.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{rows:[],cols:[],screenByWidth:h,singleColumnScreen:"xs",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onLayoutChanged:null,currentScreenFactor:i,_layoutStrategy:i})},_initOptions:function(n){n.screenByWidth&&this.option("singleColumnScreen",n.screenByWidth(0)),this.callBase(n)},_init:function(){this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return s},_itemDataKey:function(){return u},_render:function(){this.callBase(),this.element().addClass(o),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(n.proxy(function(){this._$root&&this._$root.trigger("dxupdate")},this))},_renderItems:function(){this.option("currentScreenFactor",this._getCurrentScreen()),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),n.each(this._rows,n.proxy(function(){var i=[];t.push(i),n.each(this._cols,n.proxy(function(){i.push(this._createEmptyCell())},this))},this))},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this._defaultSizeConfig(this._screenItems.length),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort(function(n,t){return n.location.row-t.location.row||n.location.col-t.location.col}),n.each(this._screenItems,function(t,i){n.extend(i.location,{row:t,col:0,rowspan:1,colspan:1})})},_sizesByScreen:function(t){return n.map(this._filterByScreen(t),n.proxy(function(t){return n.extend(this._defaultSizeConfig(),t)},this))},_defaultSizeConfig:function(n){var r={ratio:1,baseSize:0,minSize:0,maxSize:0},t,i;if(!arguments.length)return r;for(t=[],i=0;i<n;i++)t.push(r);return t},_filterByScreen:function(t){var i=this._screenRegExp();return n.grep(t,function(n){return!n.screen||i.test(n.screen)})},_screenRegExp:function(){var n=this._getCurrentScreen();return new RegExp("(^|\\s)"+n+"($|\\s)","i")},_getCurrentScreen:function(){var n=this._screenWidth();return this.option("screenByWidth")(n)},_screenWidth:function(){return n(window).width()},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){n.each(this._screenItems,n.proxy(function(n,t){var i=t.location||{},u=i.col,f=i.row,r=this._grid[f],e=r&&r[u];this._occupyCells(e,t)},this))},_itemsByScreen:function(){return n.map(this.option("items"),n.proxy(function(t){var i=t.location||{};return i=n.isPlainObject(i)?[i]:i,n.map(this._filterByScreen(i),function(i){return{item:t,location:n.extend({rowspan:1,colspan:1},i)}})},this))},_occupyCells:function(t,i){t&&!this._isItemCellOccupied(t,i)&&(n.extend(t,i),this._markSpanningCell(t))},_isItemCellOccupied:function(t,i){if(!n.isEmptyObject(t.item))return!0;var r=!1;return this._loopOverSpanning(i.location,function(t){r=r||!n.isEmptyObject(t.item)}),r},_loopOverSpanning:function(n,t){var u=n.row+n.rowspan-1,f=n.col+n.colspan-1,e=Math.min(u,this._rows.length-1),o=Math.min(f,this._cols.length-1),i,r;for(n.rowspan-=u-e,n.colspan-=f-o,i=n.row;i<=e;i++)for(r=n.col;r<=o;r++)(i!==n.row||r!==n.col)&&t(this._grid[i][r])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,function(i){n.extend(i,{item:t.item,spanningCell:t})})},_linkNodeToItem:function(){n.each(this._itemElements(),function(t,i){var r=n(i),f=r.data(u);f.box||(f.node=r.children())})},_layoutItems:function(){var t=this._grid.length,u=t&&this._grid[0].length,i,r;(t||u)&&(i=this._layoutBlock({direction:"col",row:{start:0,end:t-1},col:{start:0,end:u-1}}),r=this._prepareBoxConfig(i.box||{direction:"row",items:[n.extend(i,{ratio:1})]}),n.extend(r,this._rootBoxConfig()),this._$root=n("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,"dxBox",r))},_rootBoxConfig:function(){return n.extend({width:"100%",height:"100%",itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_prepareBoxConfig:function(t){return n.extend(t||{},{crossAlign:"stretch"})},_layoutBlock:function(n){return this._isSingleItem(n)?this._itemByCell(n.row.start,n.col.start):this._layoutDirection(n)},_isSingleItem:function(n){var t=this._grid[n.row.start][n.col.start].location,i=n.row.end-n.row.start==t.rowspan-1,r=n.col.end-n.col.start==t.colspan-1;return i&&r},_itemByCell:function(n,t){var i=this._grid[n][t];return i.spanningCell?null:i.item},_layoutDirection:function(t){for(var e=[],o=t.direction,r=this._crossDirection(o),i,u;i=this._nextBlock(t);){if(this._isBlockIndivisible(t.prevBlockOptions,i))throw f.Error("E1025");u=this._layoutBlock({direction:r,row:i.row,col:i.col,prevBlockOptions:t}),u&&(n.extend(u,this._blockSize(i,r)),e.push(u)),t[r].start=i[r].end+1}return{box:this._prepareBoxConfig({direction:o,items:e})}},_isBlockIndivisible:function(n,t){return n&&n.col.start===t.col.start&&n.col.end===t.col.end&&n.row.start===t.row.start&&n.row.end===t.row.end},_crossDirection:function(n){return n==="col"?"row":"col"},_nextBlock:function(n){var i=n.direction,f=this._crossDirection(i),l=n[i].start,a=n[i].end,t=n[f].start,r,u,e,o,v,h,c,s;if(t>n[f].end)return null;for(r=1,u=t;u<t+r;u++){for(e=1,o=l;o<=a;o++)v=this._cellByDirection(i,o,u),e=Math.max(e,v.location[f+"span"]);h=u+e,c=t+r,h>c&&(r+=h-c)}return s={},s[i]={start:l,end:a},s[f]={start:t,end:t+r-1},s},_cellByDirection:function(n,t,i){return n==="col"?this._grid[i][t]:this._grid[t][i]},_blockSize:function(n,t){for(var f=t==="row"?this._rows:this._cols,i={ratio:0,baseSize:0,minSize:0,maxSize:0},r,u=n[t].start;u<=n[t].end;u++)r=f[u],i.ratio+=r.ratio,i.baseSize+=r.baseSize,i.minSize+=r.minSize,i.maxSize+=r.maxSize;return i.minSize=i.minSize?i.minSize:"auto",i.maxSize=i.maxSize?i.maxSize:"auto",this._isSingleColumnScreen()&&(i.baseSize="auto"),i},_update:function(){if(this._getCurrentScreen()!==this.option("currentScreenFactor")){var n=this._$root;this._renderItems(),n&&n.detach(),this._saveAssistantRoot(n),this._layoutChangedAction(),this._updateRootBox()}},_saveAssistantRoot:function(n){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(n)},_dispose:function(){clearTimeout(this._updateTimer),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&n.each(this._assistantRoots,function(){n(this).remove()})},_clearItemNodeTemplates:function(){n.each(this.option("items"),function(){delete this.node})},_optionChanged:function(n){switch(n.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._invalidate();break;case"width":case"height":this.callBase(n),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(n);break;case"currentScreenFactor":break;default:this.callBase(n)}},_dimensionChanged:function(){this._update()},repaint:function(){this._update()}}))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/ui.button",["jquery","/ui/uiNamespace","/utils/utils.icon","/devices","/componentRegistrator","/ui/ui.validationMixin","/ui/ui.widget","/utils/utils.inkRipple","/ui/events/ui.events.utils"],function(n,t,i,r,u,f,e,o,s){var l="dx-button",h="dx-button-content",a="dx-button-has-text",v="dx-button-has-icon",y="dx-template-wrapper",p="content",w=100,c=e.inherit({_supportedKeys:function(){var i=this,t=function(n){n.preventDefault(),i._executeClickAction(n)};return n.extend(this.callBase(),{space:t,enter:t})},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{iconSrc:{since:"15.1",alias:"icon"}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!0,onClick:null,type:"normal",text:"",icon:"",validationGroup:undefined,activeStateEnabled:!0,template:"content",useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.real().generic&&!r.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{useInkRipple:!0}}])},_getAnonymousTemplateName:function(){return p},_init:function(){this.callBase(),this._feedbackHideTimeout=w},_render:function(){this.callBase(),this.element().addClass(l),this._renderType(),this.option("useInkRipple")&&this._renderInkRipple(),this._renderClick(),this.setAria("role","button"),this._updateAriaLabel()},_renderInkRipple:function(){var i=!this.option("text")&&this.option("icon")||this.option("type")==="back",t={};i&&n.extend(t,{waveSizeCoefficient:1,isCentered:!0}),this._inkRipple=o.render(t)},_toggleActiveState:function(n,t,i){if(this.callBase.apply(this,arguments),this._inkRipple){var r={element:n,jQueryEvent:i};t?this._inkRipple.renderWave(r):this._inkRipple.removeWave(r)}},_renderContentImpl:function(){var t=n("<div>").addClass(h),r=this._getContentData(),u,i;this.element().empty(),this.element().append(t),this.element().toggleClass(v,!!r.icon),this.element().toggleClass(a,!!r.text),u=this._getTemplateByOption("template"),i=u.render(r,t),i.hasClass(y)&&(t.replaceWith(i),t=i,t.addClass(h))},_getContentData:function(){var n=this.option("icon"),t=this.option("text"),i=this.option("type")==="back";return i&&!n&&(n="back"),{icon:n,text:t}},_renderClick:function(){var t=this,n=s.addNamespace("dxclick",this.NAME);this._clickAction=this._createActionByOption("onClick");this.element().off(n).on(n,function(n){t._executeClickAction(n)})},_executeClickAction:function(n){this._clickAction({jQueryEvent:n,validationGroup:DevExpress.validationEngine.getGroupConfig(this._findGroup())})},_updateAriaLabel:function(){var t=this.option("icon"),u=this.option("text"),r;i.getImageSourceType(t)==="image"&&(t=t.indexOf("base64")===-1?t.replace(/.+\/([^\.]+)\..+$/,"$1"):"Base64"),r=u||t,this.setAria("label",n.trim(r))},_renderType:function(){var n=this.option("type");n&&this.element().addClass("dx-button-"+n)},_refreshType:function(n){var t=this.option("type");n&&this.element().removeClass("dx-button-"+n).addClass("dx-button-"+t),this.element().hasClass("dx-button-has-icon")||t!=="back"||this._renderContentImpl()},_optionChanged:function(n){switch(n.name){case"onClick":this._renderClick();break;case"icon":case"text":this._renderContentImpl(),this._updateAriaLabel();break;case"type":this._refreshType(n.previousValue),this._updateAriaLabel();break;case"template":this._renderContentImpl();break;case"useInkRipple":this._invalidate();break;default:this.callBase(n)}}}).include(f);return u("dxButton",t,c),c}),DevExpress.require(["/ui/widgets/ui.button"]),DevExpress.define("/ui/widgets/ui.checkBox",["jquery","/ui/uiNamespace","/devices","/utils/utils.inkRipple","/ui/ui.editor","/componentRegistrator","/ui/events/ui.events.utils"],function(n,t,i,r,u,f,e){var h="dx-checkbox",c="dx-checkbox-icon",l="dx-checkbox-checked",a="dx-checkbox-container",v="dx-checkbox-text",y=".dx-checkbox-text",o="dx-checkbox-has-text",p="dx-checkbox-indeterminate",w=100,s=u.inherit({_supportedKeys:function(){var t=function(n){n.preventDefault(),this._clickAction({jQueryEvent:n})};return n.extend(this.callBase(),{space:t})},_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,text:"",useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return i.real().generic&&!i.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{useInkRipple:!0}}])},_init:function(){this.callBase(),this._feedbackHideTimeout=w},_render:function(){this.callBase(),this._$container=n("<div>").addClass(a),this.element().addClass(h).append(this._$container),this.setAria("role","checkbox"),this._renderClick(),this._renderValue(),this._renderIcon(),this._renderText(),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=r.render({waveSizeCoefficient:3.43,isCentered:!0})},_renderInkWave:function(n,t,i){if(this._inkRipple){var r={element:n,jQueryEvent:t};i?this._inkRipple.renderWave(r):this._inkRipple.removeWave(r)}},_updateFocusState:function(n,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,n,t)},_toggleActiveState:function(n,t,i){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,i,t)},_renderDimensions:function(){this.callBase()},_renderIcon:function(){this._$icon=n("<span>").addClass(c).prependTo(this._$container)},_renderText:function(){if(this._$text=this._$container.find(y),!this.option("text")){this._$text&&(this._$text.remove(),this.element().removeClass(o));return}this._$text.length||(this._$text=n("<span>").addClass(v)),this._$text.text(this.option("text")),this._$container.append(this._$text),this.element().addClass(o)},_renderClick:function(){var t=e.addNamespace("dxclick",this.NAME);this._clickAction=this._createAction(this._clickHandler);this.element().off(t).on(t,n.proxy(function(n){this._clickAction({jQueryEvent:n})},this))},_clickHandler:function(n){var t=n.component;t._saveValueChangeEvent(n.jQueryEvent),t.option("value",!t.option("value"))},_renderValue:function(){var t=this.element(),n=this.option("value"),i=n===undefined;t.toggleClass(l,Boolean(n)),t.toggleClass(p,i),this.setAria("checked",i?"mixed":n||"false")},_optionChanged:function(n){switch(n.name){case"useInkRipple":this._invalidate();break;case"value":this._renderValue(),this.callBase(n);break;case"text":this._renderText(),this._renderDimensions();break;default:this.callBase(n)}}});return f("dxCheckBox",t,s),s}),DevExpress.require(["/ui/widgets/ui.checkBox"]),DevExpress.define("/ui/widgets/ui.switch",["jquery","/devices","/utils/utils.inkRipple","/componentRegistrator","/ui/ui.editor","/ui/uiNamespace","/ui/events/ui.events.utils","/ui/events/ui.events.emitter.feedback"],function(n,t,i,r,u,f,e,o){var h=DevExpress.fx,s="dx-switch",a=s+"-wrapper",v=s+"-container",y=s+"-inner",p=s+"-handle",w=s+"-on-value",b=s+"-on",k=s+"-off",c=100,l=u.inherit({_supportedKeys:function(){var t=this.option("rtlEnabled"),i=function(n){n.preventDefault(),this._clickAction({jQueryEvent:n})},r=function(n,t){t.preventDefault(),t.stopPropagation(),this._animateValue(n)};return n.extend(this.callBase(),{space:i,enter:i,leftArrow:n.proxy(r,this,t?!0:!1),rightArrow:n.proxy(r,this,t?!1:!0)})},_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,onText:Globalize.localize("dxSwitch-onText"),offText:Globalize.localize("dxSwitch-offText"),value:!1,useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{useInkRipple:!0}}])},_init:function(){this.callBase(),this._animating=!1},_render:function(){var t=this.element();this._$switchInner=n("<div>").addClass(y),this._$handle=n("<div>").addClass(p).appendTo(this._$switchInner),this.option("useInkRipple")&&this._renderInkRipple(),this._$labelOn=n("<div>").addClass(b).prependTo(this._$switchInner),this._$labelOff=n("<div>").addClass(k).appendTo(this._$switchInner),this._$switchContainer=n("<div>").addClass(v).append(this._$switchInner),this._$switchWrapper=n("<div>").addClass(a).append(this._$switchContainer),t.addClass(s).append(this._$switchWrapper),this.setAria("role","button"),this._createComponent(t,"dxSwipeable",{elastic:!1,immediate:!0,onStart:n.proxy(this._swipeStartHandler,this),onUpdated:n.proxy(this._swipeUpdateHandler,this),onEnd:n.proxy(this._swipeEndHandler,this),itemSizeFunc:n.proxy(this._getMarginBound,this)}),this._renderLabels(),this.callBase(),this._updateMarginBound(),this._renderValue(),this._renderClick()},_renderInkRipple:function(){this._inkRipple=i.render({waveSizeCoefficient:2.4,isCentered:!0})},_renderInkWave:function(n,t,i){if(this._inkRipple){var r={element:n,jQueryEvent:t};i?this._inkRipple.renderWave(r):this._inkRipple.removeWave(r)}},_updateFocusState:function(n,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$handle,n,t)},_toggleActiveState:function(n,t,i){this.callBase.apply(this,arguments),this._renderInkWave(this._$handle,i,t)},_updateMarginBound:function(){this._marginBound=this._$switchContainer.outerWidth(!0)-this._$handle.outerWidth()},_getMarginBound:function(){return this._marginBound},_marginDirection:function(){return this.option("rtlEnabled")?"Right":"Left"},_offsetDirection:function(){return this.option("rtlEnabled")?-1:1},_renderPosition:function(n,t){var r=n?1:0,i=this._marginDirection(),u=i==="Left"?"Right":"Left";this._$switchInner.css("margin"+i,this._getMarginBound()*(r+t-1)),this._$switchInner.css("margin"+u,0)},_validateValue:function(){var n=this.option("value");typeof n!="boolean"&&(this._options.value=!!n)},_renderClick:function(){var t=e.addNamespace("dxclick",this.NAME);this._clickAction=this._createAction(n.proxy(this._clickHandler,this));this.element().off(t).on(t,n.proxy(function(n){this._clickAction({jQueryEvent:n})},this))},_clickHandler:function(n){this.time=new Date;var t=n.jQueryEvent;(this._saveValueChangeEvent(t),this._animating||this._swiping)||this._animateValue(!this.option("value"))},_animateValue:function(n){var r=this.option("value"),t=n;if(r!==t){this._animating=!0;var u=this,i=this._marginDirection(),o=i==="Left"?"Right":"Left",f={},e={};this._$switchInner.css("margin"+o,0),f["margin"+i]=(Number(r)-1)*this._getMarginBound(),e["margin"+i]=(Number(t)-1)*this._getMarginBound(),h.animate(this._$switchInner,{from:f,to:e,duration:c,complete:function(){u._animating=!1,u.option("value",t)}})}},_swipeStartHandler:function(t){var i=this.option("value"),r=this.option("rtlEnabled"),u=r?0:1,f=r?1:0;t.jQueryEvent.maxLeftOffset=i?u:f,t.jQueryEvent.maxRightOffset=i?f:u,this._swiping=!0,this._feedbackDeferred=n.Deferred(),o.lock(this._feedbackDeferred),this._toggleActiveState(this.element(),this.option("activeStateEnabled"))},_swipeUpdateHandler:function(n){this._renderPosition(this.option("value"),this._offsetDirection()*n.jQueryEvent.offset)},_swipeEndHandler:function(n){var t=this,i=this._offsetDirection(),r={};r["margin"+this._marginDirection()]=this._getMarginBound()*(t.option("value")+i*n.jQueryEvent.targetOffset-1),h.animate(this._$switchInner,{to:r,duration:c,complete:function(){t._swiping=!1;var r=t.option("value")+i*n.jQueryEvent.targetOffset;t.option("value",Boolean(r)),t._feedbackDeferred.resolve(),t._toggleActiveState(t.element(),!1)}})},_renderValue:function(){this._validateValue();var n=this.option("value");this._renderPosition(n,0),this.element().toggleClass(w,n),this.setAria({pressed:n,label:n?this.option("onText"):this.option("offText")})},_renderLabels:function(){this._$labelOn.text(this.option("onText")),this._$labelOff.text(this.option("offText"))},_visibilityChanged:function(n){n&&this.repaint()},_optionChanged:function(n){switch(n.name){case"useInkRipple":this._invalidate();break;case"visible":case"width":this._refresh();break;case"onText":case"offText":this._renderLabels();break;case"value":this._renderValue(),this.callBase(n);break;default:this.callBase(n)}}});return r("dxSwitch",f,l),l}),DevExpress.require(["/ui/widgets/ui.switch"]),DevExpress.define("/ui/widgets/textEditor/ui.textEditor.base",["jquery","/utils/utils.inflector","/utils/utils.dom","/utils/utils.common","/componentRegistrator","/ui/uiNamespace","/ui/ui.editor","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer"],function(n,t,i,r,u,f,e,o,s){var a="dx-texteditor",c="dx-texteditor-input",v="."+c,y="dx-texteditor-container",l="dx-texteditor-buttons-container",p="dx-placeholder",w="dx-show-clear-button",b="dx-icon",k="dx-icon-clear",d="dx-clear-button-area",g="dx-texteditor-empty",h=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"];return e.inherit({_supportedKeys:function(){var n=function(n){n.stopPropagation()};return{space:n,enter:n,leftArrow:n,rightArrow:n}},_getDefaultOptions:function(){return n.extend(this.callBase(),{value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",attr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:undefined,valueFormat:function(n){return n}})},_input:function(){return this.element().find(v).first()},_inputWrapper:function(){return this.element()},_buttonsContainer:function(){return this._inputWrapper().find("."+l)},_render:function(){this.element().addClass(a),this._renderInput(),this._renderInputType(),this._renderValue(),this._renderProps(),this._renderPlaceholder(),this.callBase(),this._renderValueChangeEvent(),this._renderEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()},_renderInput:function(){n("<div>").addClass(y).append(this._createInput()).append(n("<div>").addClass(l)).appendTo(this.element())},_createInput:function(){return n("<input>").addClass(c).attr("autocomplete","off").attr(this.option("attr"))},_renderValue:function(){this._renderInputValue(),this._renderInputAddons()},_renderInputValue:function(){var n=this.option("text"),u=this.option("value"),t=this.option("displayValue"),i=this.option("valueFormat");t!==undefined?n=i(t):r.isDefined(n)||(n=i(u)),this._input().val()!==(r.isDefined(n)?n:"")?this._renderDisplayText(n):this._toggleEmptinessEventHandler()},_renderDisplayText:function(n){this._input().val(n),this._toggleEmptinessEventHandler()},_isValueValid:function(){var n=this._input().get(0).validity;return n?n.valid:!0},_toggleEmptiness:function(n){this.element().toggleClass(g,n),this._togglePlaceholder(n)},_togglePlaceholder:function(n){this._$placeholder&&this._$placeholder.toggleClass("dx-state-invisible",!n)},_renderProps:function(){this._toggleDisabledState(this.option("disabled")),this._toggleReadOnlyState(),this._toggleSpellcheckState()},_toggleDisabledState:function(n){this.callBase.apply(this,arguments);var t=this._input();n?t.attr("disabled",!0).attr("tabindex",-1):t.removeAttr("disabled").removeAttr("tabindex")},_toggleReadOnlyState:function(){this._input().prop("readOnly",this._readOnlyPropValue()),this.callBase()},_readOnlyPropValue:function(){return this.option("readOnly")},_toggleSpellcheckState:function(){this._input().prop("spellcheck",this.option("spellcheck"))},_renderPlaceholder:function(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);var i=this,r=i._input(),u=i.option("placeholder"),t=this._$placeholder=n("<div>").attr("data-dx_placeholder",u),f=o.addNamespace(s.up,this.NAME);t.on(f,function(){r.focus()});t.insertAfter(r),t.addClass(p)},_placeholder:function(){return this._$placeholder||n()},_renderInputAddons:function(){this._renderClearButton()},_renderClearButton:function(){var n=this._clearButtonVisibility();this.element().toggleClass(w,n),n&&(this._$clearButton&&(!this._$clearButton||this._$clearButton.closest(this.element()).length)||(this._$clearButton=this._createClearButton()),this._$clearButton.prependTo(this._buttonsContainer())),this._$clearButton&&this._$clearButton.toggleClass("dx-state-invisible",!n)},_clearButtonVisibility:function(){return this.option("showClearButton")&&!this.option("readOnly")},_createClearButton:function(){return n("<span>").addClass(d).append(n("<span>").addClass(b).addClass(k)).on(o.addNamespace(s.down,this.NAME),function(n){n.pointerType==="mouse"&&n.preventDefault(),n.dxPreventBlur=!0}).on(o.addNamespace("dxclick",this.NAME),n.proxy(this._clearValueHandler,this))},_clearValueHandler:function(n){var t=this._input();n.stopPropagation(),this._valueChangeEventHandler(n),this.reset(),t.is(":focus")||t.focus()},_renderEvents:function(){var t=this,i=t._input();n.each(h,function(n,r){if(t.option("on"+r)){var u=t._createActionByOption("on"+r,{excludeValidators:["readOnly"]});i.on(o.addNamespace(r.toLowerCase(),t.NAME),function(n){u({jQueryEvent:n})})}})},_refreshEvents:function(){var t=this,i=this._input();n.each(h,function(n,r){i.off(o.addNamespace(r.toLowerCase(),t.NAME))}),this._renderEvents()},_keyPressHandler:function(){this.option("text",this._input().val())},_renderValueChangeEvent:function(){var t=o.addNamespace(this._renderValueEventName(),this.NAME+"TextChange"),i=o.addNamespace(this.option("valueChangeEvent"),this.NAME+"ValueChange");this._input().on(t,n.proxy(this._keyPressHandler,this)).on(i,n.proxy(this._valueChangeEventHandler,this))},_cleanValueChangeEvent:function(){var n=this.NAME+"ValueChange",t=o.addNamespace(this._renderValueEventName(),this.NAME+"TextChange");this._input().off("."+n).off(t)},_refreshValueChangeEvent:function(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()},_renderValueEventName:function(){return"input change keypress"},_focusTarget:function(){return this._input()},_toggleFocusClass:function(n){this.callBase(n,this.element())},_hasFocusClass:function(t){return this.callBase(n(t||this.element()))},_renderEmptinessEvent:function(){var t=this._input();t.on("input blur",n.proxy(this._toggleEmptinessEventHandler,this));this._toggleEmptinessEventHandler()},_toggleEmptinessEventHandler:function(){var t=this._input().val(),i=(t===""||t===null)&&this._isValueValid();this._toggleEmptiness(i)},_valueChangeEventHandler:function(n,t){this._saveValueChangeEvent(n),this.option("value",arguments.length>1?t:this._input().val())},_renderEnterKeyAction:function(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]});this._input().off("keydown.onEnterKey.dxTextEditor").on("keydown.onEnterKey.dxTextEditor",n.proxy(this._enterKeyHandlerUp,this))},_enterKeyHandlerUp:function(n){n.which===13&&this._enterKeyAction({jQueryEvent:n})},_updateValue:function(){this.option("text",undefined),this._renderValue()},_dispose:function(){this._enterKeyAction=undefined,this.callBase()},_optionChanged:function(t){var i=t.name;if(n.inArray(i.replace("on",""),h)>-1){this._refreshEvents();return}switch(i){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this.callBase(t),this._renderInputAddons();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder();break;case"showClearButton":this._renderInputAddons();break;case"text":break;case"value":this._updateValue(),this.callBase(t);break;case"attr":this._input().attr(t.value);break;case"valueFormat":this._invalidate();break;default:this.callBase(t)}},_renderInputType:function(){this._setInputType(this.option("mode"))},_setInputType:function(n){var t=this._input();n==="search"&&(n="text");try{t.prop("type",n)}catch(i){t.prop("type","text")}},focus:function(){this._input().focus()},blur:function(){this._input().is(document.activeElement)&&i.resetActiveElement()},reset:function(){this.option("value","")}})}),DevExpress.define("/ui/widgets/textEditor/ui.textEditor.mask.rule",["jquery","/class","/utils/utils.common"],function(n,t,i){var r=" ",u=t.inherit({ctor:function(t){this._value=r,n.extend(this,t)},next:function(n){if(!arguments.length)return this._next;this._next=n},text:n.noop,value:n.noop,rawValue:n.noop,handle:n.noop,_prepareHandlingArgs:function(n,t){var r=n.hasOwnProperty("value")?"value":"text";return n[r]=i.isDefined(t.str)?t.str:n[r],n.start=i.isDefined(t.start)?t.start:n.start,n.length=i.isDefined(t.length)?t.length:n.length,n},reset:n.noop,clear:n.noop,isAccepted:function(){return!1},adjustedCaret:function(n,t,i){return t?this._adjustedForward(n,0,i):this._adjustedBackward(n,0,i)},_adjustedForward:n.noop,_adjustedBackward:n.noop,isValid:n.noop}),e=u.inherit({next:n.noop,handle:function(){return 0},text:function(){return""},value:function(){return""},rawValue:function(){return""},adjustedCaret:function(){return 0},isValid:function(){return!0}}),f=u.inherit({text:function(){return(this._value!==r?this._value:this.maskChar)+this.next().text()},value:function(){return this._value+this.next().value()},rawValue:function(){return this._value+this.next().rawValue()},handle:function(n){var t=n.hasOwnProperty("value")?n.value:n.text,r,i;return!t||!t.length||!n.length?0:n.start?this.next().handle(this._prepareHandlingArgs(n,{start:n.start-1})):(r=t[0],i=t.substring(1),this._tryAcceptChar(r),this._accepted()?this.next().handle(this._prepareHandlingArgs(n,{str:i,length:n.length-1}))+1:this.handle(this._prepareHandlingArgs(n,{str:i,length:n.length-1})))},clear:function(){this._tryAcceptChar(r),this.next().clear()},reset:function(){this._accepted(!1),this.next().reset()},_tryAcceptChar:function(n){(this._accepted(!1),this._isAllowed(n))&&(this._accepted(!0),this._value=n)},_accepted:function(n){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!n},_isAllowed:function(n){return n===r?!0:this._isValid(n)},_isValid:function(t){var i=this.allowedChars;return i instanceof RegExp?i.test(t):n.isFunction(i)?i(t):n.isArray(i)?n.inArray(t,i)>-1:i===t},isAccepted:function(n){return n===0?this._accepted():this.next().isAccepted(n-1)},_adjustedForward:function(n,t,i){return t>=n?t:this.next()._adjustedForward(n,t+1,i)||t+1},_adjustedBackward:function(n,t){return t>=n-1?n:this.next()._adjustedBackward(n,t+1)||t+1},isValid:function(){return this._isValid(this._value)&&this.next().isValid()}}),o=f.inherit({value:function(){return this.next().value()},handle:function(n){var r=n.hasOwnProperty("value"),t=r?n.value:n.text,i,u,f;return!t.length||!n.length?0:n.start||r?this.next().handle(this._prepareHandlingArgs(n,{start:n.start&&n.start-1})):(i=t[0],u=t.substring(1),this._tryAcceptChar(i),f=this._isAllowed(i)?this._prepareHandlingArgs(n,{str:u,length:n.length-1}):n,this.next().handle(f)+1)},clear:function(){this._accepted(!1),this.next().clear()},_tryAcceptChar:function(n){this._accepted(this._isValid(n))},_isValid:function(n){return n===this.maskChar},_adjustedForward:function(n,t,i){return t>=n&&i===this.maskChar?t:n===t+1&&this._accepted()?n:this.next()._adjustedForward(n,t+1,i)},_adjustedBackward:function(n,t){return t>=n-1?0:this.next()._adjustedBackward(n,t+1)},isValid:function(){return this.next().isValid()}});return{MaskRule:f,StubMaskRule:o,EmptyMaskRule:e}}),DevExpress.define("/ui/widgets/textEditor/ui.textEditor.mask",["jquery","/utils/utils.caret","/utils/utils.dom","/utils/utils.common","/ui/widgets/textEditor/ui.textEditor.base","/ui/widgets/textEditor/ui.textEditor.mask.rule","/ui/events/ui.events.utils"],function(n,t,i,r,u,f,e){var w=function(){return{}},c=" ",l=32,b="\\",a="dx-texteditor-masked",o="dxMask",s="forward",v="backward",k={"0":/[0-9]/,"9":/[0-9\s]/,"#":/[-+0-9\s]/,L:function(n){return h(n)},l:function(n){return h(n)||p(n)},C:/\S/,c:/./,A:function(n){return h(n)||y(n)},a:function(n){return h(n)||y(n)||p(n)}},y=function(n){return/[0-9]/.test(n)},h=function(n){var t=n.charCodeAt();return 64<t&&t<91||96<t&&t<123||t>127},p=function(n){return n===" "},d={9:"tab",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow"};return u.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:Globalize.localize("validation-mask"),useMaskedValue:!1})},_supportedKeys:function(){var t=this,r={backspace:t._maskBackspaceHandler,del:t._maskDelHandler,enter:t._changeHandler},i=t.callBase();return n.each(r,function(n,r){var u=i[n];i[n]=function(n){t.option("mask")&&r.call(t,n),u&&u(n)}}),i},_render:function(){this.callBase(),this._renderMask()},_renderMask:function(){(this.element().removeClass(a),this._maskRulesChain=null,this.option("mask"))&&(this.element().addClass(a),this._attachMaskEventHandlers(),this._parseMask(),this._renderMaskedValue())},_attachMaskEventHandlers:function(){this._input().off("."+o).on(e.addNamespace("focus",o),n.proxy(this._maskFocusHandler,this)).on(e.addNamespace("keypress",o),n.proxy(this._maskKeyPressHandler,this)).on(e.addNamespace("input",o),n.proxy(this._maskInputHandler,this)).on(e.addNamespace("paste",o),n.proxy(this._maskPasteHandler,this)).on(e.addNamespace("cut",o),n.proxy(this._maskCutHandler,this)).on(e.addNamespace("drop",o),n.proxy(this._maskDragHandler,this));this._attachChangeEventHandlers()},_attachChangeEventHandlers:function(){if(n.inArray("change",this.option("valueChangeEvent").split(" "))!==-1)this._input().on(e.addNamespace("blur",o),n.proxy(function(n){this._suppressCaretChanging(this._changeHandler,[n])},this))},_suppressCaretChanging:function(n,i){var r=t;t=w;try{n.apply(this,i)}finally{t=r}},_changeHandler:function(n){this._valueChangeEventHandler(e.createEvent(n,{type:"change"}))},_parseMask:function(){this._maskRules=n.extend({},k,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)},_parseMaskRule:function(n){var t=this.option("mask");if(n>=t.length)return new f.EmptyMaskRule;var i=t[n],r=i===b,u=r?new f.StubMaskRule({maskChar:t[n+1]}):this._getMaskRule(i);return u.next(this._parseMaskRule(n+1+r)),u},_getMaskRule:function(t){var i;return n.each(this._maskRules,function(n,r){if(n===t)return i={pattern:n,allowedChars:r},!1}),r.isDefined(i)?new f.MaskRule(n.extend({maskChar:this.option("maskChar")},i)):new f.StubMaskRule({maskChar:t})},_renderMaskedValue:function(){var n,t;this._maskRulesChain&&(n=this.option("value")||"",this._maskRulesChain.clear(),t={length:n.length},t[this._isMaskedValueMode()?"text":"value"]=n,this._handleChain(t),this._displayMask())},_isMaskedValueMode:function(){return this.option("useMaskedValue")},_displayMask:function(){var n=this._caret();this._renderValue(),this._caret(n)},_renderValue:function(){this._maskRulesChain&&this.option("text",this._maskRulesChain.text()),this.callBase()},_valueChangeEventHandler:function(n){if(!this._maskRulesChain){this.callBase.apply(this,arguments);return}this._saveValueChangeEvent(n);var t=this._isMaskedValueMode()?(this._textValue||"").replace(new RegExp("["+this.option("maskChar")+"]","g")," ").replace(/\s+$/,""):(this._value||"").replace(/\s+$/,"");this.option("value",t)},_maskFocusHandler:function(){this._direction(s),this._adjustCaret()},_maskKeyPressHandler:function(n){(this._keyPressHandled=!0,this._isControlKeyFired(n))||this._maskKeyHandler(n,function(){return this._handleKey(n.which),!0})},_maskInputHandler:function(t){var r,i,u,f;if(this._keyPressHandled){this._keyPressHandled=!1;return}r=this._input().val(),i=this._caret(),i.start=i.end-1,u=r.substring(0,i.start)+r.substring(i.end),f=r[i.start],this._input().val(u),this._inputHandlerTimer=setTimeout(n.proxy(function(){this._caret({start:i.start,end:i.start}),this._maskKeyHandler(t,function(){return this._handleKey(f.charCodeAt()),!0}),this._keyPressHandled=!1},this))},_isControlKeyFired:function(n){return d[n.keyCode]&&!n.which||n.metaKey},_maskBackspaceHandler:function(n){this._maskKeyHandler(n,function(){return this._hasSelection()?!0:this._tryMoveCaretBackward()?!1:(this._handleKey(l,v),!0)})},_maskDelHandler:function(n){this._maskKeyHandler(n,function(){return this._hasSelection()||this._handleKey(l),!0})},_maskPasteHandler:function(n){var t=this._caret();this._maskKeyHandler(n,function(){var u=i.clipboardText(n),f=this._maskRulesChain.text().substring(t.end),e=this._handleChain({text:u,start:t.start,length:u.length}),r=t.start+e;return this._handleChain({text:f,start:r,length:f.length}),this._caret({start:r,end:r}),!0})},_handleChain:function(n){var t=this._maskRulesChain.handle(n);return this._value=this._maskRulesChain.value(),this._textValue=this._maskRulesChain.text(),t},_maskCutHandler:function(n){var t=this._caret(),r=this._input().val().substring(t.start,t.end);this._maskKeyHandler(n,function(){return i.clipboardText(n,r),!0})},_maskDragHandler:function(){this._clearDragTimer(),this._dragTimer=setTimeout(n.proxy(function(){this.option("value",this._convertToValue(this._input().val()))},this))},_convertToValue:function(n){return n.replace(new RegExp(this.option("maskChar"),"g"),c)},_maskKeyHandler:function(n,t){this.option("readOnly")||(this._direction(s),n.preventDefault(),this._handleSelection(),t.call(this))&&(this._direction(s),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset())},_handleKey:function(n,t){var i=String.fromCharCode(n);this._direction(t||s),this._adjustCaret(i),this._handleKeyChain(i),this._moveCaret()},_handleSelection:function(){if(this._hasSelection()){var n=this._caret(),t=new Array(n.end-n.start+1).join(c);this._handleKeyChain(t)}},_handleKeyChain:function(n){var t=this._caret(),i=this._isForwardDirection()?t.start:t.start-1,r=this._isForwardDirection()?t.end:t.end-1,u=i===r?1:r-i;this._handleChain({text:n,start:i,length:u})},_tryMoveCaretBackward:function(){this._direction(v);var n=this._caret().start;return this._adjustCaret(),!n||n!==this._caret().start},_adjustCaret:function(n){var t=this._maskRulesChain.adjustedCaret(this._caret().start,this._isForwardDirection(),n);this._caret({start:t,end:t})},_moveCaret:function(){var n=this._caret().start,i=n+(this._isForwardDirection()?0:-1),t=this._maskRulesChain.isAccepted(i)?n+(this._isForwardDirection()?1:-1):n;this._caret({start:t,end:t})},_caret:function(n){if(!arguments.length)return t(this._input());t(this._input(),n)},_hasSelection:function(){var n=this._caret();return n.start!==n.end},_direction:function(n){if(!arguments.length)return this._typingDirection;this._typingDirection=n},_isForwardDirection:function(){return this._direction()===s},_clearDragTimer:function(){clearTimeout(this._dragTimer)},_clean:function(){this._clearDragTimer(),this.callBase()},_validateMask:function(){if(this._maskRulesChain){var n=this._maskRulesChain.isValid();this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}},_dispose:function(){clearTimeout(this._inputHandlerTimer),this.callBase()},_optionChanged:function(n){switch(n.name){case"mask":case"maskChar":case"maskRules":case"useMaskedValue":this._renderMask(),this._validateMask();break;case"value":this._renderMaskedValue(),this._validateMask(),this.callBase(n);break;case"maskInvalidMessage":break;default:this.callBase(n)}}})}),DevExpress.define("/ui/widgets/ui.textEditor",["jquery","/componentRegistrator","/ui/uiNamespace","/ui/widgets/textEditor/ui.textEditor.mask"],function(n,t,i,r){return t("dxTextEditor",i,r),r}),DevExpress.define("/ui/widgets/ui.textBox",["jquery","/devices","/componentRegistrator","/ui/widgets/ui.textEditor","/ui/events/ui.events.utils","/ui/uiNamespace"],function(n,t,i,r,u,f){var s=window.navigator.userAgent,h=[8,9,13,33,34,35,36,37,38,39,40,46],c="dx-textbox",e="dx-searchbox",l="dx-icon",a="dx-icon-search",o=r.inherit({ctor:function(n,t){t&&(this._showClearButton=t.showClearButton),this.callBase.apply(this,arguments)},_getDefaultOptions:function(){return n.extend(this.callBase(),{mode:"text",maxLength:null})},_render:function(){this.callBase(),this.element().addClass(c),this.setAria("role","textbox"),this._renderMaxLengthHandlers()},_renderInputType:function(){this.callBase(),this._renderSearchMode()},_renderMaxLengthHandlers:function(){if(this._isAndroid())this._input().on(u.addNamespace("keydown",this.NAME),n.proxy(this._onKeyDownAndroidHandler,this)).on(u.addNamespace("change",this.NAME),n.proxy(this._onChangeAndroidHandler,this))},_renderProps:function(){this.callBase(),this._toggleMaxLengthProp()},_toggleMaxLengthProp:function(){if(!this._isAndroid()){var n=this.option("maxLength");n>0?this._input().attr("maxLength",n):this._input().removeAttr("maxLength")}},_renderSearchMode:function(){var n=this._$element;this.option("mode")==="search"?(n.addClass(e),this._renderSearchIcon(),this._showClearButton===undefined&&(this._showClearButton=this.option("showClearButton"),this.option("showClearButton",!0))):(n.removeClass(e),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===undefined?this.option("showClearButton"):this._showClearButton),delete this._showClearButton)},_renderSearchIcon:function(){var t=n("<div>").addClass(l).addClass(a);t.prependTo(this._input().parent()),this._$searchIcon=t},_optionChanged:function(n){switch(n.name){case"maxLength":this._toggleMaxLengthProp(),this._renderMaxLengthHandlers();break;default:this.callBase(n)}},_onKeyDownAndroidHandler:function(t){var r=this.option("maxLength"),i,u;return r?(i=n(t.target),u=t.keyCode,this._cutOffExtraChar(i),i.val().length<r||n.inArray(u,h)!==-1||window.getSelection().toString()!==""):!0},_onChangeAndroidHandler:function(t){var i=n(t.target);this.option("maxLength")&&this._cutOffExtraChar(i)},_cutOffExtraChar:function(n){var t=this.option("maxLength"),i=n.val();i.length>t&&n.val(i.substr(0,t))},_isAndroid:function(){var n=t.real(),i=n.version.join(".");return n.platform==="android"&&i&&/^(2\.|4\.1)/.test(i)&&!/chrome/i.test(s)}});return i("dxTextBox",f,o),o}),DevExpress.require(["/ui/widgets/ui.textBox"]),DevExpress.define("/ui/widgets/ui.dropDownEditor",["jquery","/ui/ui.errors","/utils/utils.position","/utils/utils.common","/devices","/componentRegistrator","/ui/widgets/ui.button","/ui/events/ui.events.utils","/ui/widgets/ui.textBox","/ui/uiNamespace"],function(n,t,i,r,u,f,e,o,s,h){var a="dx-dropdowneditor",g="dx-dropdowneditor-readonly",c="dx-dropdowneditor-input-wrapper",v="dx-dropdowneditor-button",y="dx-dropdowneditor-icon",p="dx-dropdowneditor-overlay",w="dx-dropdowneditor-overlay-flipped",b="dx-dropdowneditor-active",k="dx-dropdowneditor-button-visible",d="dx-dropdowneditor-field-clickable",l=s.inherit({_supportedKeys:function(){return n.extend(this.callBase(),{escape:function(n){this.option("opened")&&n.preventDefault(),this.close()},upArrow:function(n){return(n.preventDefault(),n.stopPropagation(),n.altKey)?(this.close(),!1):!0},downArrow:function(n){return(n.preventDefault(),n.stopPropagation(),n.altKey)?(this._validatedOpening(),!1):!0},enter:function(n){return this.option("opened")&&(n.preventDefault(),this._valueChangeEventHandler(n)),!0}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,fieldEditEnabled:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,fieldTemplate:null,contentTemplate:null,openOnFieldClick:!1,showDropButton:!0,popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:Globalize.localize("OK"),cancelButtonText:Globalize.localize("Cancel"),buttonsLocation:"default",showPopupTitle:!1})},_getDefaultPopupPosition:function(){var n=r.getDefaultAlignment(this.option("rtlEnabled"));return{offset:{h:0,v:-1},my:n+" top",at:n+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(n){var t=n.platform==="generic",i=n.platform==="win"&&n.version&&n.version[0]===10;return t||i},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.element().find("."+c)},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction()},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitizliedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly","designMode"]})},_render:function(){this.callBase(),this._renderOpenHandler(),this.element().addClass(a),this._renderOpenedState(),this.setAria("role","combobox")},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this.element().wrapInner(n("<div>").addClass(c)),this._$container=this.element().children().eq(0),this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this.option("fieldEditEnabled")||this.callBase()},_renderField:function(){var r=this._getTemplateByOption("fieldTemplate"),n,i,u;if(r&&this.option("fieldTemplate")){if(n=this._input().is(":focus"),n&&this._input().focusout(),this._cleanFocusState(),i=this._$container,u=this._fieldRenderData(),i.empty(),this._$dropButton=null,this._$clearButton=null,r.render(u,i),!this._input().length)throw t.Error("E1010");this._renderFocusState(),n&&this._input().focus()}},_fieldRenderData:function(){return this.option("value")},_renderInputAddons:function(){this._renderField(),this.callBase(),this._renderDropButton()},_renderDropButton:function(){var n=this.option("showDropButton");if(this.element().toggleClass(k,n),!n){this._$dropButton&&this._$dropButton.remove(),this._$dropButton=null;return}this._$dropButton||(this._$dropButton=this._createDropButton().addClass(v)),this._$dropButton.prependTo(this._buttonsContainer())},_createDropButton:function(){var t=n("<div>"),i;this._createComponent(t,e,{focusStateEnabled:!1,disabled:this.option("readOnly"),_templates:{}}),i=n("<div>").addClass(y);t.append(i).removeClass("dx-button").on("mousedown",function(n){n.preventDefault()});return t.find(".dx-button-content").remove(),t},_renderOpenHandler:function(){var t=this.element().find(".dx-dropdowneditor-input-wrapper"),r=o.addNamespace("dxclick",this.NAME),i;if(t.off(r),i=this.option("openOnFieldClick"),this.element().toggleClass(d,i),i){t.on(o.addNamespace("mousedown",this.NAME),function(n){u.real().platform!=="generic"&&n.preventDefault()});t.on(r,n.proxy(this._openHandler,this));return}this.option("showDropButton")&&this._$dropButton.dxButton("option","onClick",n.proxy(this._openHandler,this))},_openHandler:function(){this._toggleOpenState()},_keyboardEventBindingTarget:function(){return this._input()},_toggleOpenState:function(n){this.option("disabled")||(this._needFocusOnButtonClick()&&this._input().focus(),this.option("readOnly")||(n=arguments.length?n:!this.option("opened"),this.option("opened",n)))},_needFocusOnButtonClick:function(){return u.real().deviceType==="desktop"},_renderOpenedState:function(){var n=this.option("opened");n&&this._createPopup(),this.element().toggleClass(b,n),this._setPopupOption("visible",n),this.setAria({expanded:n,owns:(n||undefined)&&this._popupContentId})},_createPopup:function(){this._$popup||(this._$popup=n("<div>").addClass(p).addClass(this.option("customOverlayCssClass")).appendTo(this.element()),this._renderPopup(),this._renderPopupContent())},_renderPopup:function(){this._popup=this._createComponent(this._$popup,"dxPopup",this._popupConfig());this._popup.on({showing:n.proxy(this._popupShowingHandler,this),shown:n.proxy(this._popupShownHandler,this),hiding:n.proxy(this._popupHidingHandler,this),hidden:n.proxy(this._popupHiddenHandler,this)});this._popup.option("onContentReady",n.proxy(this._contentReadyHandler,this)),this._contentReadyHandler(),this._popupContentId=new DevExpress.data.Guid,this.setAria("id",this._popupContentId,this._popup.content())},_contentReadyHandler:n.noop,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:n.extend(this.option("popupPosition"),{of:this.element()}),showTitle:this.option("showPopupTitle"),width:"auto",height:"auto",shading:!1,closeOnTargetScroll:!0,closeOnOutsideClick:n.proxy(this._closeOutsideDropDownHandler,this),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,buttons:this._getPopupButtons(),onPositioned:n.proxy(this._popupPositionedHandler,this),fullScreen:!1}},_popupInitializedHandler:function(){if(this.option("onPopupInitialized"))return n.proxy(function(n){this._popupInitizliedAction({popup:n.component})},this)},_popupPositionedHandler:function(n){this._popup.overlayContent().toggleClass(w,n.position.v.flip)},_popupShowingHandler:n.noop,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){this._openAction(),this._$validationMessage&&this._$validationMessage.dxTooltip("option","position",this._getValidationTooltipPosition())},_popupHiddenHandler:function(){this._closeAction(),this._$validationMessage&&this._$validationMessage.dxTooltip("option","position",this._getValidationTooltipPosition())},_getValidationTooltipPosition:function(){var n="below",t,r;return this._popup&&this._popup.option("visible")&&(t=i.setup(this.element()).top,r=i.setup(this._popup.content()).top,n=t+this.option("popupPosition").offset.v>r?"below":"above"),this.callBase(n)},_renderPopupContent:function(){var t=this._getTemplateByOption("contentTemplate"),n;t&&this.option("contentTemplate")&&(n=this._popup.content(),n.empty(),t.render(n))},_closeOutsideDropDownHandler:function(t){var i=n(t.target),r=!!i.closest(this.element()).length,u=!!i.closest(this._$dropButton).length;return!r&&!u},_clean:function(){delete this._$dropButton,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupButtons:function(){return this.option("applyValueMode")==="useButtons"?this._popupButtonsConfig():[]},_popupButtonsConfig:function(){var t=[{shortcut:"done",options:{onClick:n.proxy(this._applyButtonHandler,this),text:this.option("applyButtonText")}},{shortcut:"cancel",options:{onClick:n.proxy(this._cancelButtonHandler,this),text:this.option("cancelButtonText")}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var u=this.option("buttonsLocation"),f=t,i;return u!=="default"&&(i=r.splitPair(u),n.each(f,function(t,r){n.extend(r,{toolbar:i[0],location:i[1]})})),f},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_toggleReadOnlyState:function(){this.callBase(),this._$dropButton&&this._$dropButton.dxButton("option","disabled",this.option("readOnly"))},_optionChanged:function(n){switch(n.name){case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":case"fieldRender":this._renderInputAddons();break;case"showDropButton":case"contentTemplate":case"contentRender":case"fieldEditEnabled":case"openOnFieldClick":this._invalidate();break;case"popupPosition":case"deferRendering":break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("buttons",this._getPopupButtons());break;case"showPopupTitle":this._setPopupOption("showTitle",n.value);break;default:this.callBase(n)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},reset:function(){this.option("value",null)},field:function(){return this._input()},content:function(){return this._popup?this._popup.content():null}});return f("dxDropDownEditor",h,l),l}),DevExpress.define("/ui/widgets/ui.dropDownList",["jquery","/ui/ui.errors","/utils/utils.common","/componentRegistrator","/ui/widgets/ui.dropDownEditor","/ui/uiNamespace","/ui/ui.dataExpression"],function(n,t,i,r,u,f,e){var c=".dx-list-item",o="dxListItemData",l="dx-dropdownlist-selected",a="dx-dropdownlist-popup-wrapper",s="dx-skip-gesture-event",v=["startswith","contains","endwith","notcontains"],h=u.inherit({_supportedKeys:function(){return n.extend(this.callBase(),{tab:function(){if(this.option("opened")===!0){var t=this._list.option("focusedElement");t?this._setSelectedElement(t):this._selectFirstItem(),this.close()}else this._focusTarget().focusout()},space:n.noop,home:n.noop,end:n.noop})},_selectFirstItem:function(){this._setSelectedElement(this._listItemElements().first())},_setSelectedElement:function(n){var t=this._listSelectedItemElements();this._changeSelectedItem(t,n),this.option("value",this._selectedItemValue())},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{pagingEnabled:{since:"15.1",message:"Use the 'dataSource.paginate' option instead"}})},_getDefaultOptions:function(){return n.extend(this.callBase(),n.extend(e._dataExpressionDefaultOptions(),{displayValue:undefined,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,pagingEnabled:undefined,noDataText:Globalize.localize("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:n.noop,showDataBeforeSearch:!1,popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},popupWidthExtension:0}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(n){return n.platform==="win"&&n.version&&n.version[0]===8},options:{popupPosition:{offset:{v:-6}}}},{device:{platform:"android"},options:{popupWidthExtension:32}},{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}}])},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem()},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_renderField:function(){this.callBase();this._input().on("input",n.proxy(this._setFocusPolicy,this))},_preventFocusOnPopup:function(n){this._list&&this._list.initialOption("focusStateEnabled")&&n.preventDefault()},_createPopup:function(){this.callBase(),this._popup._wrapper().addClass(this._popupWrapperClass());this._popup.content().off("mousedown").on("mousedown",n.proxy(this._preventFocusOnPopup,this))},_popupWrapperClass:function(){return a},_renderInputValue:function(){var t=n.proxy(this.callBase,this);return this._loadItem(this.option("value")).always(n.proxy(function(n){this._setSelectedItem(n),this._refreshSelected(),t()},this))},_loadItem:function(t){var i=n.grep(this.option("items")||[],n.proxy(function(n){return this._isValueEquals(this._valueGetter(n),t)},this))[0];return i!==undefined?n.Deferred().resolve(i).promise():this._loadValue(t)},_setSelectedItem:function(n){var t=this._displayValue(n);this.option("selectedItem",i.ensureDefined(n,null)),this.option("displayValue",t)},_displayValue:function(n){return this._displayGetter(n)},_refreshSelected:function(){this._listItemElements().each(n.proxy(function(t,i){var r=n(i),f=this._valueGetter(r.data(o)),u=this._isSelectedValue(f);r.toggleClass(this._selectedItemClass(),u),u?this._list.selectItem(r):this._list.unselectItem(r)},this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){this.option("focusStateEnabled")&&this._list&&this._list.option("focusedElement",null)},_isSelectedValue:function(n){return this._isValueEquals(n,this.option("value"))},_validateSearchMode:function(){var i=this.option("searchMode"),r=i.toLowerCase();if(n.inArray(r,v)<0)throw t.Error("E1019",i);},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail(n.proxy(function(){this._isCustomValueAllowed()||this.reset()},this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.option("value",null),this._clearFilter(),this._clearSelectedItem()},_selectedItemClass:function(){return l},_listItemElements:function(){return this._$list?this._$list.find(c):n()},_listSelectedItemElements:function(){return this._$list?this._$list.find("."+this._selectedItemClass()):n()},_popupConfig:function(){var t=this;return n.extend(this.callBase(),{width:this.option("width"),onShowing:function(){t.element().addClass(s)},onHidden:function(){t.element().removeClass(s)}})},_renderPopupContent:function(){this._renderList()},_attachChildKeyboardEvents:function(){this._childKeyboardProcessor=this._keyboardProcessor.attachChildProcessor(),this._setListOption("_keyboardProcessor",this._childKeyboardProcessor)},_fireContentReadyAction:n.noop,_setAriaTargetForList:function(){this._list._getAriaTarget=n.proxy(this._getAriaTarget,this),this._list.setAria("role","combobox")},_renderList:function(){this._listId=(new DevExpress.data.Guid)._value;var t=this._$list=n("<div>",{id:this._listId}).appendTo(this._popup.content());this._list=this._createComponent(t,"dxList",this._listConfig()),this._refreshList(),this._setAriaTargetForList()},_renderOpenedState:function(){this.callBase();var n=this.option("opened")||undefined;this.setAria({activedescendant:n&&this._list.getFocusedItemId(),owns:n&&this._listId})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var n=!!this._list.option("dataSource");return n!==this._needPassDataSourceToList()},_listConfig:function(){return{_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),onContentReady:n.proxy(this._listContentReadyHandler,this),itemTemplate:this._getTemplateByOption("itemTemplate"),indicateLoading:!1,tabIndex:-1,onItemClick:n.proxy(this._listItemClickAction,this),dataSource:this._getDataSource(),_keyboardProcessor:this._childKeyboardProcessor}},_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){this._suppressDeprecatedWarnings();var n=this.option("pagingEnabled");return this._resumeDeprecatedWarnings(),{paginate:i.ensureDefined(n,!1)}},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option().items=this._list.option("items"),this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(n){this._listItemClickHandler(n),this._itemClickAction(n)},_listItemClickHandler:n.noop,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_searchValue:function(){return this._input().val()||""},_search:function(){if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}var t=this.option("searchTimeout");t?this._searchTimer||(this._searchTimer=setTimeout(n.proxy(this._searchDataSource,this),t)):this._searchDataSource()},_searchCanceled:function(){this._clearSearchTimer(),this._needPassDataSourceToList()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){this._filterDataSource(this._searchValue())},_filterDataSource:function(t){var i=this._dataSource;return i.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),i.searchOperation(this.option("searchMode")),i.searchValue(t),i.pageIndex(0),i.load().done(n.proxy(this._dataSourceFiltered,this))},_clearFilter:function(){this._dataSource.searchValue(null)},_dataSourceFiltered:function(){this._clearSearchTimer(),this._refreshList(),this._refreshPopupVisibility()},_refreshPopupVisibility:function(){this.option("readOnly")||(this.option("opened",this._hasItemsToShow()),this.option("opened")&&this._dimensionChanged())},_hasItemsToShow:function(){var n=this._dataSource&&this._dataSource.items()||[],t=n.length,i=this._needPassDataSourceToList();return i&&t&&this._hasFocusClass()},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this._popup&&this._updatePopupDimensions()},_updatePopupDimensions:function(){this._updatePopupWidth(),this._updatePopupHeight()},_updatePopupWidth:function(){this._setPopupOption("width",this.element().outerWidth()+this.option("popupWidthExtension"))},_updatePopupHeight:function(){var n=this._popup.overlayContent().outerHeight()-this._popup.content().height(),t=this._list?this._list.element().outerHeight()-this._list.clientHeight():0,i=this._list?this._list.scrollHeight()+t:0,r=Math.min(i+n,this._getMaxHeight());this._setPopupOption("height",r),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var t=this.element(),i=t.offset(),r=n(window).height(),u=Math.max(i.top,r-i.top-t.outerHeight());return Math.min(r*.5,u)},_changeSelectedItem:function(n,t){var i=this._selectedItemClass();n.removeClass(i),t.addClass(i)},_selectedItemValue:function(){var n=this._listSelectedItemElements();return this._valueGetter(n.data(o))},_valueChangeArgs:function(){return n.extend(this.callBase.apply(this,arguments),{selectedItem:this.option("selectedItem"),itemData:this.option("selectedItem")})},_clean:function(){this._list&&delete this._list,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_needFocusOnButtonClick:function(){return!0},_optionChanged:function(n){this._dataExpressionOptionChanged(n);switch(n.name){case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":case"displayExpr":this._renderValue();break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":case"pagingEnabled":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"noDataText":this._setListOption("noDataText");break;case"displayValue":this.option("text",n.value);break;case"itemTemplate":case"searchTimeout":case"popupWidthExtension":break;case"selectedItem":this._selectionChangedAction({selectedItem:n.value});break;default:this.callBase(n)}}}).include(e);return r("dxDropDownList",f,h),h}),DevExpress.define("/ui/widgets/ui.textArea",["jquery","/componentRegistrator","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/widgets/ui.textBox","/ui/uiNamespace"],function(n,t,i,r,u,f){var o="dx-textarea",s="dx-texteditor-input",e=u.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{spellcheck:!0})},_render:function(){this.callBase(),this.element().addClass(o),this.setAria("multiline","true")},_renderInput:function(){this.callBase(),this._renderScrollHandler()},_createInput:function(){return n("<textarea>").addClass(s).attr(this.option("attr"))},_renderScrollHandler:function(){var n=this._input(),t=0;n.on(i.addNamespace(r.down,this.NAME),function(n){t=i.eventData(n).y});n.on(i.addNamespace(r.move,this.NAME),function(r){var u=n.scrollTop(),f=n.prop("scrollHeight")-n.prop("clientHeight")-u;if(u!==0||f!==0){var e=i.eventData(r).y,o=u===0&&t>=e,s=f===0&&t<=e,h=u>0&&f>0;(o||s||h)&&(r.isScrollingEvent=!0,r.stopPropagation()),t=e}})},_renderInputType:n.noop});return t("dxTextArea",f,e),e}),DevExpress.require(["/ui/widgets/ui.textArea"]),DevExpress.define("/ui/widgets/numberBox/ui.numberBox.spin",["jquery","/ui/ui.widget","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.emitter.feedback"],function(n,t,i,r,u){var s="dx-numberbox-spin",h="dx-numberbox-spin-button",c=100,f="dxNumberBox",e=i.addNamespace(r.up,f),o=i.addNamespace(r.cancel,f);return t.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_render:function(){this.callBase();var f=this.element(),t=s+"-"+this.option("direction"),u=i.addNamespace(r.down,this.NAME);f.addClass(h).addClass(t).off(u).on(u,n.proxy(this._spinDownHandler,this));this._spinIcon=n("<div>").addClass(t+"-icon").appendTo(this.element()),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer();n(document).on("dxhold",n.proxy(function(){this._feedBackDeferred=n.Deferred(),u.lock(this._feedBackDeferred),this._spinChangeHandler({jQueryEvent:t}),this._holdTimer=setInterval(this._spinChangeHandler,c,{jQueryEvent:t})},this)).on(e,n.proxy(this._clearTimer,this)).on(o,n.proxy(this._clearTimer,this));this._spinChangeHandler({jQueryEvent:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){n(document).off(e).off(o).off("dxhold"),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(n){switch(n.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(n)}}})}),DevExpress.define("/ui/widgets/ui.numberBox",["jquery","/utils/utils.common","/devices","/componentRegistrator","/ui/uiNamespace","/ui/widgets/ui.textEditor","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.wheel","/ui/widgets/numberBox/ui.numberBox.spin","/ui/events/ui.events.emitter.feedback"],function(n,t,i,r,u,f,e,o,s,h){var l=Math,v="dx-numberbox",y="dx-numberbox-spin",p="dx-numberbox-spin-container",d="dx-numberbox-spin-up",g="dx-numberbox-spin-down",w="dx-numberbox-spin-touch-friendly",b=["Tab","Del","Delete","Backspace","Left","ArrowLeft","Right","ArrowRight","Home","End"],k=i.real().android&&navigator.userAgent.indexOf("Chrome")===-1,a=f.inherit({_supportedKeys:function(){return n.extend(this.callBase(),{upArrow:function(n){n.preventDefault(),n.stopPropagation(),this._spinUpChangeHandler()},downArrow:function(n){n.preventDefault(),n.stopPropagation(),this._spinDownChangeHandler()},enter:function(){this._input().trigger(this.option("valueChangeEvent"))}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{value:0,min:undefined,max:undefined,step:1,showSpinButtons:!1,useTouchSpinButtons:!0,mode:"number"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return i.real().generic&&!i.isSimulator()},options:{useTouchSpinButtons:!1}}])},_render:function(){this.callBase(),this.element().addClass(v),this.setAria("role","spinbutton"),this._renderMouseWheelHandler()},_keyPressHandler:function(t){this.callBase(t);var i=String.fromCharCode(t.which),r=/[\d.,eE\-+]/,u=r.test(i);if(!u)return t.metaKey||t.ctrlKey||t.key&&n.inArray(t.key,b)>=0?void 0:(t.preventDefault(),!1);this._isIncompleteValue=!1,this._isValueIncomplete(this._input().val())&&(this._isIncompleteValue=!0)},_isValueIncomplete:function(n){var t=/\d+[eE]$/,i=/^[\.,]$/,r=/^-$/;return t.test(n)||i.test(n)||r.test(n)},_renderMouseWheelHandler:function(){var i=e.addNamespace(s.name,this.NAME),r=this._createAction(n.proxy(function(n){this._mouseWheelHandler(n.jQueryEvent)},this));this._input().off(i).on(i,function(n){r({jQueryEvent:n})})},_mouseWheelHandler:function(n){this._input().is(":focus")&&(n.delta>0?this._spinValueChange(1):this._spinValueChange(-1),n.preventDefault(),n.stopPropagation())},_renderValue:function(){this._input().val().length&&Number(this._input().val())===this.option("value")||(this._forceValueRender(),this._toggleEmptinessEventHandler()),this._renderInputAddons(),this.setAria("valuenow",this.option("value"))},_renderValueEventName:function(){return this.callBase()+" keypress"},_toggleDisabledState:function(n){this._$spinUp&&h.getInstance(this._$spinUp).option("disabled",n),this._$spinDown&&h.getInstance(this._$spinDown).option("disabled",n),this.callBase.apply(this,arguments)},_forceValueRender:function(){var n=this._input(),t=this.option("value"),i=this.option("valueFormat"),r;k?(r=n.attr("type"),this._setInputType("text"),n.val(i(t)),this._setInputType(r)):n.val(i(t))},_renderProps:function(){this.callBase(),this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:this.option("min")||"undefined",valuemax:this.option("max")||"undefined"})},_renderInputAddons:function(){this.callBase(),this._renderSpinButtons()},_renderSpinButtons:function(){var n=this.option("showSpinButtons");if(this.element().toggleClass(y,n),this._toggleTouchFriendlyClass(),!n){this._$spinContainer&&this._$spinContainer.remove(),this._$spinContainer=null;return}this._$spinContainer||(this._$spinContainer=this._createSpinButtons()),this._$spinContainer.prependTo(this._buttonsContainer())},_toggleTouchFriendlyClass:function(){this.element().toggleClass(w,this.option("showSpinButtons")&&this.option("useTouchSpinButtons"))},_createSpinButtons:function(){var i=e.addNamespace(o.down,this.NAME),r=this._createAction(n.proxy(this._spinButtonsPointerDownHandler,this)),t=n("<div>").addClass(p).off(i).on(i,function(n){r({jQueryEvent:n})});return this._$spinUp=n("<div>").appendTo(t),this._createComponent(this._$spinUp,h,{direction:"up",onChange:n.proxy(this._spinUpChangeHandler,this)}),this._$spinDown=n("<div>").appendTo(t),this._createComponent(this._$spinDown,h,{direction:"down",onChange:n.proxy(this._spinDownChangeHandler,this)}),t},_spinButtonsPointerDownHandler:function(n){n.dxPreventBlur=!0;var t=this._input();this.option("useTouchSpinButtons")||document.activeElement===t[0]||t.trigger("focus")},_spinUpChangeHandler:function(){this.option("readOnly")||this._spinValueChange(1)},_spinDownChangeHandler:function(){this.option("readOnly")||this._spinValueChange(-1)},_spinValueChange:function(n){var t=parseFloat(this._validationRequired()?this._oldValue:this._normalizeInputValue())||0,i=parseFloat(this.option("step"));t=this._correctRounding(t,i*n),this.option("value",t)},_correctRounding:function(n,t){var i=/[,|.](.*)/,r=i.test(n),u=i.test(t);if(r||u){var f=r?i.exec(n)[0].length:0,e=u?i.exec(t)[0].length:0,o=l.max(f,e);return n=this._round(n+t,o)}return n+t},_round:function(n,t){t=t||0;var i=Math.pow(10,t);return n*=i,n=Math.round(n)/i},_renderValueChangeEvent:function(){this.callBase(),this._input().focusout(n.proxy(this._forceRefreshInputValue,this))},_forceRefreshInputValue:function(){var n=this._input(),t=this.option("valueFormat");n.val(null),n.val(t(this.option("value")))},_valueChangeEventHandler:function(n){if(this._validationRequired()){this._inputInvalidHandler();return}var i=this._input(),t=this._normalizeInputValue(),r=this.option("valueFormat");this._isIncompleteValue||(Number(i.val())!==t&&i.val(r(this.option("value")),r(t)),this.callBase(n,t))},_validationRequired:function(){return!this._isIncompleteValue&&!this._validateValue(this._normalizeText())},_validateValue:function(n){var t=this._isValueValid(),i;return!n&&t?(this.option("value",null),!0):(i=/^[-+]?(0|[1-9]\d*)?([.,]\d+)?([eE][-+]?\d+)?/.test(n),this._oldValue=this.option("value"),!i&&!t)?!1:!0},_inputInvalidHandler:function(){var i=this._input(),n=t.isDefined(this._oldValue);this.option("value",n?this._oldValue:null),n&&i.val(this._oldValue),this._oldValue=null},_normalizeInputValue:function(){var n=this._normalizeValue();return t.isDefined(n)?n:this.option("value")},_normalizeValue:function(n){return this._parseValue(this._normalizeText(n))},_normalizeText:function(i){return i=n.trim(t.isDefined(i)?i:this._input().val()),i.replace(",",".")},_parseValue:function(n){var t=parseFloat(n);return this.option("min")!==undefined&&(t=l.max(t,this.option("min"))),this.option("max")!==undefined&&(t=l.min(t,this.option("max"))),t},_setValue:function(n,t){if(n==null||n===""){this.option("value",null),n!==null&&this._suppressValueChangeAction();return}var i=this._normalizeValue(n);if(!i&&i!==0){this.option("value",t),this._suppressValueChangeAction();return}n!==i&&(this.option("value",i),this._suppressValueChangeAction())},_clean:function(){delete this._$spinContainer,delete this._$spinUp,delete this._$spinDown,this.callBase()},_optionChanged:function(n){switch(n.name){case"value":this._setValue(n.value,n.previousValue),this.callBase(n),this._resumeValueChangeAction();break;case"step":case"min":case"max":this._renderProps();break;case"showSpinButtons":this._renderInputAddons();break;case"useTouchSpinButtons":this._toggleTouchFriendlyClass();break;default:this.callBase(n)}}});return r("dxNumberBox",u,a),a}),DevExpress.require(["/ui/widgets/ui.numberBox"]),DevExpress.define("/ui/widgets/ui.radioButton",["jquery","/devices","/utils/utils.inkRipple","/componentRegistrator","/ui/ui.editor","/ui/uiNamespace","/ui/events/ui.events.utils"],function(n,t,i,r,u,f,e){var s="dx-radiobutton",h="dx-radiobutton-icon",c="dx-radiobutton-icon-dot",l="dx-radiobutton-checked",o=u.inherit({_supportedKeys:function(){var t=function(n){n.preventDefault(),this._clickAction({jQueryEvent:n})};return n.extend(this.callBase(),{space:t})},_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1,useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{useInkRipple:!0}}])},_init:function(){this.callBase(),this.element().addClass(s)},_render:function(){this.callBase(),this._renderIcon(),this.option("useInkRipple")&&this._renderInkRipple(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")},_renderInkRipple:function(){this._inkRipple=i.render({waveSizeCoeffient:3.3,isCentered:!0})},_renderInkWave:function(n,t,i){if(this._inkRipple){var r={element:n,jQueryEvent:t};i?this._inkRipple.renderWave(r):this._inkRipple.removeWave(r)}},_updateFocusState:function(n,t){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,n,t)},_toggleActiveState:function(n,t,i){this.callBase.apply(this,arguments),this._renderInkWave(this._$icon,i,t)},_renderIcon:function(){this._$icon=n("<div>").addClass(h),n("<div>").addClass(c).appendTo(this._$icon),this.element().append(this._$icon)},_renderCheckedState:function(n){this.element().toggleClass(l,n),this.setAria("checked",n)},_renderClick:function(){var t=e.addNamespace("dxclick",this.NAME);this._clickAction=this._createAction(n.proxy(function(n){this._clickHandler(n.jQueryEvent)},this));this.element().off(t).on(t,n.proxy(function(n){this._clickAction({jQueryEvent:n})},this))},_clickHandler:function(n){this._saveValueChangeEvent(n),this.option("value",!0)},_optionChanged:function(n){switch(n.name){case"useInkRipple":this._invalidate();break;case"value":this._renderCheckedState(n.value),this.callBase(n);break;default:this.callBase(n)}}});return r("dxRadioButton",f,o),o}),DevExpress.define("/ui/widgets/ui.radioGroup",["jquery","/devices","/componentRegistrator","/ui/ui.editor","/ui/uiNamespace","/utils/utils.inkRipple","/ui/ui.dataExpression"],function(n,t,i,r,u,f,e){var l="dx-radiogroup",a="dx-radiogroup-vertical",v="dx-radiogroup-horizontal",h="dx-radiobutton",o="dx-radiobutton-icon",y="dx-radiobutton-icon-dot",p="dx-radio-value-container",w="dx-radiobutton-checked",b="dxItemData",k=100,c=DevExpress.ui.CollectionWidget.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),e._dataExpressionDefaultOptions(),{_itemAttributes:{role:"radio"}})},_supportedKeys:function(){var i=this.callBase();return n.extend({},i,{enter:function(n){return n.preventDefault(),i.enter.apply(this,arguments)},space:function(n){return n.preventDefault(),i.space.apply(this,arguments)}})},_focusTarget:function(){return this.element().parent()},_keyboardEventBindingTarget:function(){return this._focusTarget()}}),s;return c.publicName("dxRadioCollection"),s=r.inherit({_activeStateUnit:"."+h,_getDefaultOptions:function(){return n.extend(this.callBase(),n.extend(e._dataExpressionDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,layout:"vertical",useInkRipple:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{tablet:!0},options:{layout:"horizontal"}},{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{useInkRipple:!0}}])},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{value:!0})},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this._initDataExpressions(),this._feedbackHideTimeout=k},_render:function(){this.element().addClass(l),this._renderRadios(),this.setAria("role","radiogroup"),this.callBase(),this._renderLayout(),this._updateItemsSize(),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=f.render({waveSizeCoeffient:3.3,isCentered:!0})},_toggleActiveState:function(n,t,i){(this.callBase.apply(this,arguments),this._inkRipple)&&(t?this._inkRipple.renderWave({element:n.find("."+o),jQueryEvent:i}):this._inkRipple.removeWave({element:n.find("."+o),jQueryEvent:i}))},_renderFocusState:n.noop,_renderRadios:function(){var t=n("<div>").appendTo(this.element());this._radios=this._createComponent(t,c,{dataSource:this._dataSource,onItemRendered:n.proxy(this._itemRenderedHandler,this),onItemClick:n.proxy(this._itemClickHandler,this),itemTemplate:this._getTemplateByOption("itemTemplate"),scrollingEnabled:!1,focusStateEnabled:this.option("focusStateEnabled"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:""}),this._setCollectionWidgetOption("onContentReady",n.proxy(this._contentReadyHandler,this)),this._contentReadyHandler()},_contentReadyHandler:function(){this.itemElements().addClass(h),this._refreshSelected()},_itemRenderedHandler:function(t){if(!t.itemData.html){var i,r;i=n("<div>").addClass(o),n("<div>").addClass(y).appendTo(i),r=n("<div>").append(i).addClass(p),t.itemElement.prepend(r)}},_itemClickHandler:function(n){this.option("value",this._getItemValue(n.itemData))},_getItemValue:function(n){return!this._valueGetter?n.text:this._valueGetter(n)},itemElements:function(){return this._radios.itemElements()},_renderDimensions:function(){this.callBase(),this._updateItemsSize()},_renderLayout:function(){var n=this.option("layout");this.element().toggleClass(a,n==="vertical"),this.element().toggleClass(v,n==="horizontal")},_refreshSelected:function(){var t=this.option("value");this.itemElements().each(n.proxy(function(i,r){var u=n(r),f=this._valueGetter(u.data(b));u.toggleClass(w,this._isValueEquals(f,t)),this.setAria("checked",this._isValueEquals(f,t),u)},this))},_updateItemsSize:function(){if(this.option("layout")==="horizontal")this.itemElements().css("height","auto");else{var n=this.option("items").length;this.itemElements().css("height",100/n+"%")}},_getAriaTarget:function(){return this.element()},_setCollectionWidgetOption:function(){this._setWidgetOption("_radios",arguments)},_optionChanged:function(n){this._dataExpressionOptionChanged(n);switch(n.name){case"useInkRipple":this._invalidate();break;case"focusStateEnabled":case"accessKey":case"tabIndex":this._setCollectionWidgetOption(n.name,n.value);break;case"disabled":this.callBase(n),this._setCollectionWidgetOption(n.name,n.value);break;case"dataSource":this._setCollectionWidgetOption("dataSource");break;case"valueExpr":this._refreshSelected();break;case"value":this._refreshSelected(),this.callBase(n);break;case"items":case"itemTemplate":case"displayExpr":break;case"layout":this._renderLayout(),this._updateItemsSize();break;default:this.callBase(n)}}}).include(e),i("dxRadioGroup",u,s),s}),DevExpress.require(["/ui/widgets/ui.radioGroup"]),function(n,t){var u=t.ui,f=t.require("/devices"),a=t.require("/componentRegistrator"),v=t.require("/ui/widgets/ui.button"),y=t.require("/utils/utils.inkRipple"),r=t.require("/ui/events/ui.events.utils"),e=t.require("/ui/events/pointer/ui.events.pointer"),p="dx-tabs",w="dx-indent-wrapper",o="dx-tabs-expanded",b="dx-scrollable-wrapper",s="dx-tabs-nav-buttons",k="dx-tab",d=".dx-tab",g="dx-tab-selected",nt="dx-tabs-nav-button",tt="dx-tabs-nav-button-left",it="dx-tabs-nav-button-right",rt="dxTabData",ut=100,h=5,ft=300,c="dx-state-active",l=30;a("dxTabs",u,u.CollectionWidget.inherit({_activeStateUnit:d,_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"generic"},options:{showNavButtons:!0,scrollByContent:!1}},{device:function(){return f.real().generic&&!f.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{useInkRipple:!0}}])},_init:function(){this.callBase(),this._renderMultiple(),this.element().addClass(p),this._feedbackHideTimeout=ut},_itemClass:function(){return k},_selectedItemClass:function(){return g},_itemDataKey:function(){return rt},_render:function(){this.element().removeClass(o),this.callBase(),this._renderWrapper(),this._allowScrolling()?(this._renderScrollable(),this._renderNavButtons()):(this.element().removeClass(s),this.element().addClass(o)),this.setAria("role","tablist");var t=this;this.itemElements().each(function(i,r){t.setAria("role","tab",n(r))}),this.element().addClass(c).removeClass(c),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=y.render()},_toggleActiveState:function(n,t,i){if(this.callBase.apply(this,arguments),this._inkRipple){var r={element:n,jQueryEvent:i};t?this._inkRipple.renderWave(r):this._inkRipple.removeWave(r)}},_renderMultiple:function(){this.option("selectionMode")==="multi"&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this.element().wrapInner(n("<div>").addClass(w))},_renderScrollable:function(){var t=this.element().wrapInner(n("<div>").addClass(b)).children();this._scrollable=this._createComponent(t,"dxScrollable",{direction:"horizontal",showScrollbar:!1,useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:n.proxy(this._updateNavButtonsVisibility,this)}),this.element().append(this._scrollable.element())},_allowScrolling:function(){if(!this.option("scrollingEnabled"))return!1;var t=0;return this.itemElements().each(function(i,r){t+=n(r).outerWidth(!0)}),t-1>this.element().width()},_renderNavButtons:function(){var n,t;this.element().toggleClass(s,this.option("showNavButtons")),this.option("showNavButtons")&&(this._leftButton=this._createNavButton(-l,"chevronprev"),n=this._leftButton.element(),n.addClass(tt),this.element().prepend(n),this._rightButton=this._createNavButton(l,"chevronnext"),t=this._rightButton.element(),t.addClass(it),this.element().append(t),this._updateNavButtonsVisibility(),this._scrollable.update(),this.option("rtlEnabled")&&this._scrollable.scrollTo({left:this._scrollable.scrollWidth()-this._scrollable.clientWidth()}))},_updateNavButtonsVisibility:function(){this._leftButton&&this._leftButton.option("disabled",this._scrollable.scrollLeft()<=0),this._rightButton&&this._rightButton.option("disabled",this._scrollable.scrollLeft()>=this._scrollable.scrollWidth()-this._scrollable.clientWidth())},_updateScrollPosition:function(n,t){this._scrollable.update(),this._scrollable.scrollBy(n/t)},_createNavButton:function(t,i){var u=this,o=u._createAction(function(){u._holdInterval=setInterval(function(){u._updateScrollPosition(t,h)},h)}),s=r.addNamespace("dxhold","dxNavButton"),c=r.addNamespace(e.up,"dxNavButton"),l=r.addNamespace(e.out,"dxNavButton"),f=this._createComponent(n("<div>").addClass(nt),v,{focusStateEnabled:!1,icon:i,type:"back",onClick:function(){u._updateScrollPosition(t,1)},_templates:{}});f.element().on(s,{timeout:ft},n.proxy(function(n){o({jQueryEvent:n})},this)).on(c,function(){u._clearInterval()}).on(l,function(){u._clearInterval()});return f},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_renderSelection:function(n){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(n[0]),{left:1,right:1})},_visibilityChanged:function(n){n&&this._dimensionChanged()},_dimensionChanged:function(){this._refresh()},_itemSelectHandler:function(n){this.option("selectionMode")==="single"&&this.isItemSelected(n.currentTarget)||this.callBase(n)},_optionChanged:function(n){switch(n.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(n.name,n.value);break;case"selectionMode":this._renderMultiple(),this.callBase(n);break;default:this.callBase(n)}}}))}(jQuery,DevExpress),function(n,t){var r=t.ui,u=t.require("/componentRegistrator"),f="dx-navbar",e="dx-item-content",o="dx-nav-item",s="dx-nav-item-content";u("dxNavBar",r,r.dxTabs.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{scrollingEnabled:!1})},_render:function(){this.callBase(),this.element().addClass(f)},_postprocessRenderItem:function(n){this.callBase(n);var t=n.itemElement,i=n.itemData;t.addClass(o),t.find("."+e).addClass(s),i.icon||i.iconSrc||t.addClass("dx-navbar-text-item")}}))}(jQuery,DevExpress),function(n,t){var r=t.ui,s=t.fx,h=t.require("/utils/utils.translator"),u=t.require("/utils/utils.topOverlay").hideCallback,c=t.require("/componentRegistrator"),l=t.require("/ui/widgets/ui.button"),a="dx-toolbar",v="dx-toolbar-bottom",y="dx-toolbar-mini",p="dx-toolbar-item",f="dx-toolbar-label",e="dx-toolbar-button",w="dx-toolbar-menu-container",b="dx-toolbar-menu-button",k="dx-toolbar-items-container",o="."+f,d="dxToolbarItemDataKey",g="easeOutCubic",nt=200,tt=400,it=function(n,t,i){var r=i?tt:nt;s.animate(n,{type:"slide",to:{top:t},easing:g,duration:r})};c("dxToolbar",r,r.CollectionWidget.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{menuItemTemplate:"menuItem",submenuType:"dxDropDownMenu",renderAs:"topToolbar"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{submenuType:"dxActionSheet"}},{device:{platform:"android"},options:{submenuType:"dxDropDownMenu"}},{device:function(){var n=(r.themes.current()||"").split(".")[0];return n==="win8"},options:{submenuType:"dxList"}}])},_itemContainer:function(){return this._$toolbarItemsContainer.find(".dx-toolbar-before,.dx-toolbar-center,.dx-toolbar-after")},_itemClass:function(){return p},_itemDataKey:function(){return d},_dimensionChanged:function(){this._menu&&this._toggleMenuVisibility(!1,!0),this._arrangeTitle()},_render:function(){this._renderToolbar(),this._renderSections(),this.callBase(),this._renderMenu(),this._arrangeTitle(),this.setAria("role","toolbar")},_renderToolbar:function(){this.element().addClass(a).toggleClass(v,this.option("renderAs")==="bottomToolbar"),this._$toolbarItemsContainer=n("<div>").appendTo(this.element()),this._$toolbarItemsContainer.addClass(k)},_renderSections:function(){var t=this._$toolbarItemsContainer,i=this;n.each(["before","center","after"],function(){var r="dx-toolbar-"+this,u=t.find("."+r);u.length||(i["_$"+this+"Section"]=u=n("<div>").addClass(r).appendTo(t))})},_arrangeTitle:function(){var t=this._$toolbarItemsContainer.find(o).eq(0),i=t.parent(),h;if(t.length&&!this.element().is(":hidden")){var c=this._$toolbarItemsContainer.width(),l=this._$beforeSection.outerWidth()?this._$beforeSection.outerWidth():t.position().left,r=i.hasClass("dx-toolbar-before")?0:l,u=i.hasClass("dx-toolbar-after")?0:this._$afterSection.outerWidth(),e=0;i.children().not(o).each(function(){e+=n(this).outerWidth()});var s=c-e,a=s-Math.max(r,u)*2,f=Math.round(t.outerWidth())>Math.round(a);i.css({marginLeft:f?r:"",marginRight:f?u:"",float:f&&u>r?"right":"none"}),h=t.outerWidth()-t.width(),t.css("max-width",s-r-u-h)}},_renderItem:function(n,t,i,r){var s=t.location||"center",h=this._$toolbarItemsContainer.find(".dx-toolbar-"+s),u=Boolean(t.text),o=this.callBase(n,t,h,r);return o.toggleClass(e,!u).toggleClass(f,u),o},_hasVisibleMenuItems:function(){var i=this._getMenuItems(),t=!1,r=DevExpress.data.utils.compileGetter("visible");return n.each(i,function(n,i){var u=r(i,{functionsAsIs:!0});u!==!1&&(t=!0)}),t},_getToolbarItems:function(){return n.grep(this.option("items")||[],function(n){return n.location!=="menu"})},_getMenuItems:function(){return n.grep(this.option("items")||[],function(n){return n.location==="menu"})},_renderContentImpl:function(){var n=this._getToolbarItems();this.element().toggleClass(y,n.length===0),this._renderedItemsCount?this._renderItems(n.slice(this._renderedItemsCount)):this._renderItems(n)},_renderMenu:function(){var n=this,i=this._createActionByOption("onItemClick"),t={itemTemplate:function(){return n._menuType==="dxActionSheet"?n._getTemplate("actionSheetItem"):n._getTemplateByOption("menuItemTemplate")},onItemClick:function(t){n._toggleMenuVisibility(!1,!0),i(t)}};this._menuType=this.option("submenuType"),this._menuType==="dxList"&&this.option("renderAs")==="topToolbar"&&(this._menuType="dxDropDownMenu");switch(this._menuType){case"dxActionSheet":this._renderActionSheet(t);break;case"dxDropDownMenu":this._renderDropDown(t);break;case"dxList":this._renderList(t)}},_renderMenuButton:function(t){var i=n.extend({onClick:n.proxy(this._menuButtonClickHandler,this)},t);this._renderMenuButtonContainer(),this._$button=n("<div>").appendTo(this._$menuButtonContainer).addClass(b),this._createComponent(this._$button,l,i)},_renderMenuButtonContainer:function(){var t=this._$afterSection;this._$menuButtonContainer=n("<div>").appendTo(t).addClass(e).addClass(w)},_renderDropDown:function(t){if(this._hasVisibleMenuItems()){this._renderMenuButtonContainer();var i=n("<div>").appendTo(this._$menuButtonContainer);this._menu=this._createComponent(i,"dxDropDownMenu",t),this._renderMenuItems()}},_renderActionSheet:function(t){if(this._hasVisibleMenuItems()){this._renderMenuButton({icon:"overflow"});var i=n.extend({target:this._$button,showTitle:!1},t),r=n("<div>").appendTo(this.element());this._menu=this._createComponent(r,"dxActionSheet",i),this._renderMenuItems()}},_renderList:function(t){var i,r;this._renderMenuButton({activeStateEnabled:!1,text:"..."}),i=n.extend({width:"100%",indicateLoading:!1},t),this._renderListOverlay(),this._renderContainerSwipe(),this._hasVisibleMenuItems()&&(r=n("<div>").appendTo(this._listOverlay.content()),this._menu=this._createComponent(r,"dxList",i),this._renderMenuItems()),this._changeListVisible(this.option("visible"))},_renderMenuItems:function(){this._menu.option("items",this._getMenuItems())},_getListHeight:function(){var n=this._listOverlay.content().find(".dx-list").height(),t=this._$toolbarItemsContainer.height()-this.element().height();return n+t},_renderListOverlay:function(){var t=n("<div>").appendTo(this.element());this._listOverlay=this._createComponent(t,"dxOverlay",{container:!1,deferRendering:!1,shading:!1,height:"auto",width:"100%",showTitle:!1,closeOnOutsideClick:n.proxy(this._listOutsideClickHandler,this),position:null,animation:null,closeOnBackButton:!1})},_hideTopOverlayHandler:function(){this._toggleMenuVisibility(!1,!0)},_toggleHideTopOverlayCallback:function(){this._closeCallback&&u.remove(this._closeCallback),this._menuShown&&(this._closeCallback=n.proxy(this._hideTopOverlayHandler,this),u.add(this._closeCallback))},_renderContainerSwipe:function(){this._createComponent(this._$toolbarItemsContainer.appendTo(this._listOverlay.content()),"dxSwipeable",{elastic:!1,onStart:n.proxy(this._swipeStartHandler,this),onUpdated:n.proxy(this._swipeUpdateHandler,this),onEnd:n.proxy(this._swipeEndHandler,this),itemSizeFunc:n.proxy(this._getListHeight,this),direction:"vertical"})},_listOutsideClickHandler:function(t){n(t.target).closest(this._listOverlay.content()).length||this._toggleMenuVisibility(!1,!0)},_calculatePixelOffset:function(n){n=(n||0)-1;var t=this._getListHeight();return n*t},_swipeStartHandler:function(n){n.jQueryEvent.maxTopOffset=this._menuShown?0:1,n.jQueryEvent.maxBottomOffset=this._menuShown?1:0},_swipeUpdateHandler:function(n){var t=this._menuShown?n.jQueryEvent.offset:1+n.jQueryEvent.offset;this._renderMenuPosition(t,!1)},_swipeEndHandler:function(n){var t=n.jQueryEvent.targetOffset;t-=this._menuShown-1,this._toggleMenuVisibility(t===0,!0)},_renderMenuPosition:function(n,t){var i=this._calculatePixelOffset(n),r=this._listOverlay.content();t?it(r,i,this._menuShown):h.move(r,{top:i})},_menuButtonClickHandler:function(){this._toggleMenuVisibility(!this._menuShown,!0)},_toggleMenuVisibility:function(n,t){this._menuShown=n;switch(this._menuType){case"dxList":this._toggleHideTopOverlayCallback(),this._renderMenuPosition(this._menuShown?0:1,t);break;case"dxActionSheet":this._menu.toggle(this._menuShown),this._menuShown=!1}},_renderEmptyMessage:n.noop,_clean:function(){this._$toolbarItemsContainer.children().empty(),this.element().empty()},_changeMenuOption:function(n,t){this._menu&&this._menu.option(n,t)},_changeListVisible:function(n){this._listOverlay&&(this._listOverlay.option("visible",n),this._toggleMenuVisibility(!1,!1))},_visibilityChanged:function(n){n&&this._arrangeTitle()},_isVisible:function(){return this.element().width()>0&&this.element().height()>0},_renderDimensions:function(){this.callBase(),this._arrangeTitle()},_itemOptionChanged:function(t,i,r){var u=this.option("items")[t],f;u.location==="menu"?this._renderMenuItems():(f=n.inArray(u,this._getToolbarItems()),this.callBase.apply(this,[f,i,r]))},_optionChanged:function(n){var i=n.name,t=n.value;switch(i){case"renderAs":case"submenuType":this._invalidate();break;case"visible":this.callBase.apply(this,arguments),this._changeListVisible(t);break;case"menuItemTemplate":this._changeMenuOption("itemTemplate",this._getTemplate(t));break;case"onItemClick":this._changeMenuOption(i,t),this.callBase.apply(this,arguments);break;default:this.callBase.apply(this,arguments)}}}))}(jQuery,DevExpress),function(n,t){var e=t.ui,l=t.require("/utils/utils.support"),r=t.require("/utils/utils.common"),a=t.require("/utils/utils.inkRipple"),u=t.require("/devices"),v=t.require("/componentRegistrator"),y=t.require("/ui/widgets/ui.button"),s=t.require("/ui/events/ui.events.utils"),p="dx-list",o="dx-list-item",w="."+o,f="dx-list-group",h="dx-list-group-header",c="dx-list-group-body",b="dx-list-collapsible-groups",k="dx-list-group-collapsed",d="dx-has-next",g="dx-list-next-button",nt="dxListItemData",tt=70,it=t.data.utils.compileGetter("items");v("dxList",e,e.CollectionWidget.inherit({_activeStateUnit:w,_supportedKeys:function(){var t=this,i=function(n){var i=r(n),f=i.is(t.option("focusedElement"));f&&(u(i,n),i=r(n)),t.option("focusedElement",i),t.scrollToItem(i)},r=function(n){var e=t.scrollTop(),o=t.element().height(),r=t.option("focusedElement"),u=!0,i,f;if(r){while(u){if(i=r[n](),!i.length)break;f=i.position().top+i.outerHeight()/2,u=f<o+e&&f>e,u&&(r=i)}return r}},u=function(n,i){var r=n.position().top;i==="prev"&&(r=n.position().top-t.element().height()+n.outerHeight()),t.scrollTo(r)};return n.extend(this.callBase(),{leftArrow:n.noop,rightArrow:n.noop,pageUp:function(){return i("prev"),!1},pageDown:function(){return i("next"),!1}})},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{autoPagingEnabled:{since:"15.1",message:"Use the 'pageLoadMode' option instead"},showNextButton:{since:"15.1",message:"Use the 'pageLoadMode' option instead"}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:Globalize.localize("dxList-pullingDownText"),pulledDownText:Globalize.localize("dxList-pulledDownText"),refreshingText:Globalize.localize("dxList-refreshingText"),pageLoadingText:Globalize.localize("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:Globalize.localize("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat(e.dxScrollable.deviceDependentOptions(),[{device:function(n){return!l.nativeScrolling&&!u.isSimulator()&&u.real().platform==="generic"&&n.platform==="generic"},options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:function(){return u.real().generic&&!u.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{useInkRipple:!0}}])},_getOptionAliases:function(){return n.extend(this.callBase(),{useNative:"useNativeScrolling"})},_visibilityChanged:function(n){n&&this._updateLoadingState(!0)},_itemClass:function(){return o},_itemDataKey:function(){return nt},_itemContainer:function(){return this._$container},_allowDinamicItemsAppend:function(){return!0},_init:function(){this.callBase(),this._$container=this.element(),this._initScrollView(),this._feedbackShowTimeout=tt,this._createGroupRenderAction(),this.setAria("role","listbox")},_dataSourceOptions:function(){this._suppressDeprecatedWarnings();var t=this.option("autoPagingEnabled");return t=r.isDefined(this.option("showNextButton"))?t||this.option("showNextButton"):t,this._resumeDeprecatedWarnings(),n.extend(this.callBase(),{paginate:r.isDefined(t)?t:!0})},_initScrollView:function(){this._suppressDeprecatedWarnings();var t=this.option("scrollingEnabled"),i=t&&this.option("pullRefreshEnabled"),u=t&&r.ensureDefined(this.option("autoPagingEnabled"),this.option("pageLoadMode")==="scrollBottom")&&!!this._dataSource;this._resumeDeprecatedWarnings(),this._scrollView=this._createComponent(this.element(),"dxScrollView",{disabled:this.option("disabled")||!t,onScroll:n.proxy(this._scrollHandler,this),onPullDown:i?n.proxy(this._pullDownHandler,this):null,onReachBottom:u?n.proxy(this._scrollBottomHandler,this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=this._scrollView.content(),this._createScrollViewActions()},_createScrollViewActions:function(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")},_scrollHandler:function(n){this._scrollAction(n)},_updateLoadingState:function(n){this._suppressDeprecatedWarnings();var t=!n||this._isLastPage(),u=r.ensureDefined(this.option("autoPagingEnabled"),this.option("pageLoadMode")==="scrollBottom"),i=t||!u,f=i&&!this._isDataSourceLoading();this._resumeDeprecatedWarnings(),i||this._scrollViewIsFull()?(this._scrollView.release(f),this._toggleNextButton(this._shouldRenderNextButton()&&!t),this._loadIndicationSuppressed(!1)):this._infiniteDataLoading()},_shouldRenderNextButton:function(){this._suppressDeprecatedWarnings();var n=r.ensureDefined(this.option("showNextButton"),this.option("pageLoadMode")==="nextButton")&&this._dataSource&&this._dataSource.isLoaded();return this._resumeDeprecatedWarnings(),n},_dataSourceLoadingChangedHandler:function(t){this._loadIndicationSuppressed()||(t&&this.option("indicateLoading")?this._showLoadingIndicatorTimer=setTimeout(n.proxy(function(){var n=!this._itemElements().length;this._scrollView&&!n&&this._scrollView.startLoading()},this)):(clearTimeout(this._showLoadingIndicatorTimer),this._scrollView&&this._scrollView.finishLoading()))},_dataSourceChangedHandler:function(n){this._shouldAppendItems()||this._scrollView&&this._scrollView.scrollTo(0),this.callBase(n)},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_loadIndicationSuppressed:function(n){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=n},_scrollViewIsFull:function(){return!this._scrollView||this._scrollView.isFull()},_pullDownHandler:function(n){this._pullRefreshAction(n),this._dataSource&&!this._isDataSourceLoading()?(this._dataSource.pageIndex(0),this._dataSource.load()):this._updateLoadingState()},_infiniteDataLoading:function(){var t=this.element().is(":visible");!t||this._scrollViewIsFull()||this._isDataSourceLoading()||this._isLastPage()||(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(n.proxy(this._loadNextPage,this)))},_scrollBottomHandler:function(n){this._pageLoadingAction(n),this._isDataSourceLoading()?this._updateLoadingState():this._loadNextPage()},_renderItems:function(t){this.option("grouped")?(n.each(t,n.proxy(this._renderGroup,this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage()):this.callBase.apply(this,arguments),this._updateLoadingState(!0)},_attachGroupCollapseEvent:function(){var i=s.addNamespace("dxclick",this.NAME),r="."+h,t=this.element(),u=this.option("collapsibleGroups");if(t.toggleClass(b,u),t.off(i,r),u)t.on(i,r,n.proxy(function(t){this._createAction(n.proxy(function(t){this._collapseGroupHandler(n(t.jQueryEvent.currentTarget).parent())},this),{validatingTargetName:"element"})({jQueryEvent:t})},this))},_collapseGroupHandler:function(t,i){var u=n.Deferred(),f=t.children("."+c),r;return t.toggleClass(k,i),r="slideToggle",i===!0&&(r="slideUp"),i===!1&&(r="slideDown"),f[r]({duration:200,complete:n.proxy(function(){this.updateDimensions(),u.resolve()},this)}),u.promise()},_dataSourceLoadErrorHandler:function(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())},_render:function(){this.element().addClass(p),this.callBase(),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=a.render()},_toggleActiveState:function(n,t,i){if(this.callBase.apply(this,arguments),this._inkRipple){var r={element:n,jQueryEvent:i};t?this._inkRipple.renderWave(r):this._inkRipple.removeWave(r)}},_postprocessRenderItem:function(t){this.callBase.apply(this,arguments),this.option("onItemSwipe")&&this._attachSwipeEvent(n(t.itemElement))},_attachSwipeEvent:function(t){var i=s.addNamespace("dxswipeend",this.NAME);t.on(i,n.proxy(this._itemSwipeEndHandler,this))},_itemSwipeEndHandler:function(n){this._itemJQueryEventHandler(n,"onItemSwipe",{direction:n.offset<0?"left":"right"})},_nextButtonHandler:function(){var n=this._dataSource;n&&!n.isLoading()&&(this._scrollView.toggleLoading(!0),this._$nextButton.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())},_renderGroup:function(t,i){var r=n("<div>").addClass(f).appendTo(this._itemContainer()),u=n("<div>").addClass(h).appendTo(r),o=this.option("groupTemplate"),s=this._getTemplate(i.template||o,i,t,u),l={index:t,item:i,container:u},e;this._createItemByTemplate(s,l),this._renderingGroupIndex=t,e=n("<div>").addClass(c).appendTo(r),n.each(it(i)||[],n.proxy(function(n,t){this._renderItem(n,t,e)},this)),this._groupRenderAction({groupElement:r,groupIndex:t,groupData:i})},_createGroupRenderAction:function(){this._groupRenderAction=this._createActionByOption("onGroupRendered")},_clean:function(){this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),this.callBase.apply(this,arguments)},_dispose:function(){clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),this.callBase()},_toggleDisabledState:function(n){this.callBase(n),this._scrollView.option("disabled",n||!this.option("scrollingEnabled"))},_toggleNextButton:function(n){var t=this._dataSource,i=this._getNextButton();this.element().toggleClass(d,n),n&&t&&t.isLoaded()&&i.appendTo(this._itemContainer()),n||i.detach()},_getNextButton:function(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton},_createNextButton:function(){var t=n("<div>").addClass(g),i=n("<div>").appendTo(t);return this._createComponent(i,y,{text:this.option("nextButtonText"),onClick:n.proxy(this._nextButtonHandler,this),_templates:{}}),t},_moveFocus:function(){this.callBase.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))},_optionChanged:function(n){switch(n.name){case"pageLoadMode":this._toggleNextButton(n.value),this._initScrollView();break;case"showNextButton":this._toggleNextButton(n.value);break;case"dataSource":this.callBase(n),this._initScrollView();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"useNative":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"scrollingEnabled":case"pullRefreshEnabled":case"autoPagingEnabled":this._initScrollView();break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions(),this._invalidate();break;case"grouped":case"collapsibleGroups":case"groupTemplate":this._invalidate();break;case"onGroupRendered":this._createGroupRenderAction();break;case"items":this._invalidate();break;case"width":case"height":this.callBase(n),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":this.callBase(n),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),this.callBase(n);break;default:this.callBase(n)}},_extendActionArgs:function(t){if(!this.option("grouped"))return this.callBase(t);var i=t.closest("."+f),r=i.find("."+o);return n.extend(this.callBase(t),{itemIndex:{group:i.index(),item:r.index(t)}})},expandGroup:function(t){var i=n.Deferred(),r=this._itemContainer().find("."+f).eq(t);return this._collapseGroupHandler(r,!1).done(n.proxy(function(){i.resolveWith(this)},this)),i.promise()},collapseGroup:function(t){var i=n.Deferred(),r=this._itemContainer().find("."+f).eq(t);return this._collapseGroupHandler(r,!0).done(n.proxy(function(){i.resolveWith(this)},this)),i},updateDimensions:function(){var t=this,i=n.Deferred();return t._scrollView?t._scrollView.update().done(function(){i.resolveWith(t)}):i.resolveWith(t),i.promise()},reload:function(){this.scrollTo(0),this._pullDownHandler()},scrollTop:function(){return this._scrollView.scrollOffset().top},clientHeight:function(){return this._scrollView.clientHeight()},scrollHeight:function(){return this._scrollView.scrollHeight()},scrollBy:function(n){this._scrollView.scrollBy(n)},scrollTo:function(n){this._scrollView.scrollTo(n)},scrollToItem:function(n){var t=this._editStrategy.getItemElement(n);this._scrollView.scrollToElement(t)}}))}(jQuery,DevExpress),function(n,t){var r=t.ui,u=t.require("/componentRegistrator"),f=t.require("/ui/events/ui.events.utils"),e="dx-list-item-selected",o="dx-list-item-response-wait";u("dxList",r,r.dxList.inherit({_supportedKeys:function(){var t=this,i=this.callBase(),r=function(n){t.option("allowItemDeleting")&&(n.preventDefault(),t.deleteItem(t.option("focusedElement")))},u=function(n){if(n.shiftKey&&t.option("allowItemReordering")){n.preventDefault();var r=t._editStrategy.getNormalizedIndex(t.option("focusedElement")),u=t._editStrategy.getItemElement(r-1);t.reorderItem(t.option("focusedElement"),u),t.scrollToItem(t.option("focusedElement"))}else i.upArrow(n)},f=function(n){if(n.shiftKey&&t.option("allowItemReordering")){n.preventDefault();var r=t._editStrategy.getNormalizedIndex(t.option("focusedElement")),u=t._editStrategy.getItemElement(r+1);t.reorderItem(t.option("focusedElement"),u),t.scrollToItem(t.option("focusedElement"))}else i.downArrow(n)};return n.extend({},i,{del:r,upArrow:u,downArrow:f})},_getDefaultOptions:function(){return n.extend(this.callBase(),{showSelectionControls:!1,selectionMode:"none",onSelectAllChanged:null,selectAllText:Globalize.localize("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"toggle",allowItemReordering:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(n){return n.platform==="ios"},options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}},{device:{platform:"win"},options:{itemDeleteMode:"context"}},{device:{platform:"generic"},options:{itemDeleteMode:"static"}}])},_init:function(){this.callBase(),this._initEditProvider()},_initEditProvider:function(){this._editProvider=new r.dxList.EditProvider(this)},_disposeEditProvider:function(){this._editProvider&&this._editProvider.dispose()},_refreshEditProvider:function(){this._disposeEditProvider(),this._initEditProvider()},_initEditStrategy:function(){this.option("grouped")?this._editStrategy=new r.dxList.GroupedEditStrategy(this):this.callBase()},_render:function(){this._refreshEditProvider(),this.callBase()},_renderItems:function(){this.callBase.apply(this,arguments),this._editProvider.afterItemsRendered()},_selectedItemClass:function(){return e},_itemResponseWaitClass:function(){return o},_itemClickHandler:function(t){var i=n(t.currentTarget),r;i.is(".dx-state-disabled, .dx-state-disabled *")||(r=this._editProvider.handleClick(i,t),r)||this.callBase.apply(this,arguments)},_shouldAttachContextMenuEvent:function(){return this.callBase.apply(this,arguments)||this._editProvider.contextMenuHandlerExists()},_itemHoldHandler:function(t){var i=n(t.currentTarget),r,u;if(!i.is(".dx-state-disabled, .dx-state-disabled *")){if(r=f.isTouchEvent(t),u=r&&this._editProvider.handleContextMenu(i,t),u){t.handledByEditProvider=!0;return}this.callBase.apply(this,arguments)}},_itemContextMenuHandler:function(t){var i=n(t.currentTarget),r;i.is(".dx-state-disabled, .dx-state-disabled *")||(r=!t.handledByEditProvider&&this._editProvider.handleContextMenu(i,t),r)||this.callBase.apply(this,arguments)},_postprocessRenderItem:function(n){this.callBase.apply(this,arguments),this._editProvider.modifyItemElement(n)},_clean:function(){this._disposeEditProvider(),this.callBase()},_optionChanged:function(n){switch(n.name){case"grouped":this._clearSelectedItems(),delete this._renderingGroupIndex,this._initEditStrategy(n.value),this.callBase(n);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"allowItemReordering":case"selectAllText":this._invalidate();break;case"onSelectAllChanged":break;default:this.callBase(n)}},getFlatIndexByItemElement:function(n){return this._itemElements().index(n)},getItemElementByFlatIndex:function(t){var i=this._itemElements();return t<0||t>=i.length?n():i.eq(t)},getItemByIndex:function(n){return this._getItemData(this._itemElements().eq(n))}}))}(jQuery,DevExpress),function(n,t){var f=t.ui,a=DevExpress.require("/ui/ui.errors"),h="dx-list-item",e="dx-list-group",o=20,c=2303,u=function(n){return(n.group<<o)+n.item},r=function(n){return{group:n>>o,item:n&c}},s=function(t,i){var u=t.items,r={key:t.key,items:[]};return n.each(i,function(n,t){r.items.push(u[t])}),r},l=function(n,t){for(var r=n.length,i=0;i<r;i++)if(n[i].key===t)return n[i]};f.dxList.GroupedEditStrategy=f.CollectionWidget.EditStrategy.inherit({_groupElements:function(){return this._collectionWidget._itemContainer().find("."+e)},_groupItemElements:function(n){return n.find("."+h)},getIndexByItemData:function(t){var r=this._collectionWidget.option("items"),i=!1;return n.each(r,function(r,u){return n.each(u.items,function(n,u){return u!==t?!0:(i={group:r,item:n},!1)}),i?!1:void 0}),i},getItemDataByIndex:function(n){if(!n||!n.group||!n.item)return null;var t=this._collectionWidget.option("items");return t.length&&t[n.group].items[n.item]||null},deleteItemAtIndex:function(n){var t=r(n),i=this._collectionWidget.option("items")[t.group].items;i.splice(t.item,1)},updateSelectionAfterDelete:function(t){var i=r(t),u=this._collectionWidget._selectedItemIndices;n.each(u,function(n,t){var f=r(t);f.group===i.group&&f.item>i.item&&(u[n]-=1)})},fetchSelectedItems:function(t){t=t||this._collectionWidget._selectedItemIndices,t.sort(function(n,t){return n-t});var e=this._collectionWidget.option("items"),f=[],u=0,i=[];return n.each(t,function(n,t){var o=r(t);o.group!==u&&i.length&&(f.push(s(e[u],i)),i.length=0),u=o.group,i.push(o.item)}),i.length&&f.push(s(e[u],i)),f},selectedItemIndices:function(){var t=[],i=this._collectionWidget.option("items"),r=this._collectionWidget.option("selectedItems");return n.each(r,function(r,f){var e=l(i,f.key),o=n.inArray(e,i);n.each(f.items,function(i,r){var f=n.inArray(r,e.items);f!==-1&&t.push(u({group:o,item:f}))})}),t},moveItemAtIndexToIndex:function(n,t){var u=this._collectionWidget.option("items"),i=r(n),f=r(t),e=u[i.group].items,o=u[f.group].items,s=e[i.item];e.splice(i.item,1),o.splice(f.item,0,s)},getSelectedItemsAfterReorderItem:function(t,i){if(this._itemsFromSameParent(t,i)||n.inArray(t,this._collectionWidget._selectedItemIndices))return this.callBase();var s=this._collectionWidget.option("items"),u=this._collectionWidget.option("selectedItems"),f=r(t),h=r(i),e=u[f.group].items,c=u[h.group].items,o=s[f.group].items[f.item],l=n.inArray(o,e);return e.splice(l,1),c.push(o),u},_isItemIndex:function(t){return n.isNumeric(t.group)&&n.isNumeric(t.item)},_getNormalizedItemIndex:function(t){var i=n(t),r=i.closest("."+e);return u({group:this._groupElements().index(r),item:this._groupItemElements(r).index(i)})},_normalizeItemIndex:function(n){return u(n)},_denormalizeItemIndex:function(n){return r(n)},_getItemByNormalizedIndex:function(n){var t=r(n),i=this._groupElements().eq(t.group);return this._groupItemElements(i).eq(t.item)},_itemsFromSameParent:function(n,t){return r(n).group===r(t).group}})}(jQuery,DevExpress),function(n,t){var r=t.ui,e=DevExpress.require("/class"),u=t.require("/ui/events/ui.events.utils");r.dxList.EditDecoratorsRegistry={},r.dxList.registerEditDecorator=function(t,i,u){var f=r.dxList.EditDecoratorsRegistry,e={};e[t]=f[t]?f[t]:{},e[t][i]=u,f=n.extend(f,e)};var f="dxListEditDecorator",o=u.addNamespace("dxswipestart",f),s=u.addNamespace("dxswipe",f),h=u.addNamespace("dxswipeend",f);r.dxList.EditDecorator=e.inherit({ctor:function(n){this._list=n,this._init()},_init:n.noop,_shouldHandleSwipe:!1,_attachSwipeEvent:function(t){var i={itemSizeFunc:n.proxy(function(){return this._clearSwipeCache&&(this._itemWidthCache=this._list.element().width(),this._clearSwipeCache=!1),this._itemWidthCache},this)};t.$itemElement.on(o,i,n.proxy(this._itemSwipeStartHandler,this)).on(s,n.proxy(this._itemSwipeUpdateHandler,this)).on(h,n.proxy(this._itemSwipeEndHandler,this))},_itemSwipeStartHandler:function(t){var i=n(t.currentTarget);if(i.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}this._swipeStartHandler(i,t)},_itemSwipeUpdateHandler:function(t){var i=n(t.currentTarget);this._swipeUpdateHandler(i,t)},_itemSwipeEndHandler:function(t){var i=n(t.currentTarget);this._swipeEndHandler(i,t),this._clearSwipeCache=!0},beforeBag:n.noop,afterBag:n.noop,_commonOptions:function(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}},modifyElement:function(n){this._shouldHandleSwipe&&(this._attachSwipeEvent(n),this._clearSwipeCache=!0)},afterRender:n.noop,handleClick:n.noop,handleContextMenu:n.noop,_swipeStartHandler:n.noop,_swipeUpdateHandler:n.noop,_swipeEndHandler:n.noop,visibilityChange:n.noop,dispose:n.noop})}(jQuery,DevExpress),function(n,t){var r=t.ui;r.dxList.EditDecoratorMenuHelperMixin={_menuEnabled:function(){return!!this._menuItems().length},_menuItems:function(){return this._list.option("menuItems")},_deleteEnabled:function(){return this._list.option("allowItemDeleting")},_fireMenuAction:function(n,t){this._list._itemEventHandlerByHandler(n,t,{},{excludeValidators:["disabled","readOnly"]})}}}(jQuery,DevExpress),function(n,t){var r=t.ui,u=t.require("/ui/widgets/ui.button"),f="dx-list-static-delete-button-container",e="dx-list-static-delete-button";r.dxList.registerEditDecorator("delete","static",r.dxList.EditDecorator.inherit({afterBag:function(t){var r=t.$itemElement,o=t.$container,i=n("<div>").addClass(e);this._list._createComponent(i,u,{icon:"remove",type:"danger",onClick:n.proxy(function(n){n.jQueryEvent.stopPropagation(),this._deleteItem(r)},this),_templates:{}}),o.addClass(f).append(i)},_deleteItem:function(n){n.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(n)}}))}(jQuery,DevExpress),function(n,t,i){var u=t.ui,f=u.dxList.EditDecorator,e=f.abstract,o=t.require("/ui/events/ui.events.utils"),a=t.require("/ui/events/pointer/ui.events.pointer"),v=t.require("/ui/events/ui.events.emitter.feedback"),s="dxListEditDecorator",h=o.addNamespace(a.down,s),c=o.addNamespace(v.active,s),y="dx-list-item-content",r="dx-list-switchable-delete-ready",p="dx-list-switchable-menu-shield-positioning",w="dx-list-switchable-delete-top-shield",b="dx-list-switchable-delete-bottom-shield",l="dx-list-switchable-menu-item-shield-positioning",k="dx-list-switchable-delete-item-content-shield";u.dxList.SwitchableEditDecorator=f.inherit({_init:function(){this._$topShield=n("<div />").addClass(w),this._$bottomShield=n("<div />").addClass(b),this._$itemContentShield=n("<div />").addClass(k);this._$topShield.on(h,n.proxy(this._cancelDeleteReadyItem,this));this._$bottomShield.on(h,n.proxy(this._cancelDeleteReadyItem,this));this._list.element().append(this._$topShield.toggle(!1)).append(this._$bottomShield.toggle(!1))},handleClick:function(){return this._cancelDeleteReadyItem()},_cancelDeleteReadyItem:function(){return this._$readyToDeleteItem?(this._cancelDelete(this._$readyToDeleteItem),!0):!1},_cancelDelete:function(n){this._toggleDeleteReady(n,!1)},_toggleDeleteReady:function(n,t){t===i&&(t=!this._isReadyToDelete(n)),this._toggleShields(n,t),this._toggleScrolling(t),this._cacheReadyToDeleteItem(n,t),this._animateToggleDelete(n,t)},_isReadyToDelete:function(n){return n.hasClass(r)},_toggleShields:function(n,t){this._list.element().toggleClass(p,t),this._$topShield.toggle(t),this._$bottomShield.toggle(t),t&&this._updateShieldsHeight(n),this._toggleContentShield(n,t)},_updateShieldsHeight:function(n){var t=this._list.element(),r=t.offset().top,u=t.outerHeight(),f=n.offset().top,e=n.outerHeight(),i=f-r,o=u-e-i;this._$topShield.height(Math.max(i,0)),this._$bottomShield.height(Math.max(o,0))},_toggleContentShield:function(n,t){t?n.find("."+y).append(this._$itemContentShield):this._$itemContentShield.detach()},_toggleScrolling:function(n){var t=this._list.element().dxScrollView("instance");if(n)t.on("start",this._cancelScrolling);else t.off("start",this._cancelScrolling)},_cancelScrolling:function(n){n.jQueryEvent.cancel=!0},_cacheReadyToDeleteItem:function(n,t){t?this._$readyToDeleteItem=n:delete this._$readyToDeleteItem},_animateToggleDelete:function(t,i){i?(this._enablePositioning(t),this._prepareDeleteReady(t),this._animatePrepareDeleteReady(t)):(this._forgetDeleteReady(t),this._animateForgetDeleteReady(t).done(n.proxy(this._disablePositioning,this,t)))},_enablePositioning:function(t){t.addClass(l);t.on(c,n.noop)},_disablePositioning:function(n){n.removeClass(l),n.off(c)},_prepareDeleteReady:function(n){n.addClass(r)},_forgetDeleteReady:function(n){n.removeClass(r)},_animatePrepareDeleteReady:e,_animateForgetDeleteReady:e,_deleteItem:function(t){(t=t||this._$readyToDeleteItem,t.is(".dx-state-disabled, .dx-state-disabled *"))||this._list.deleteItem(t).always(n.proxy(this._cancelDelete,this,t))},_isRtlEnabled:function(){return this._list.option("rtlEnabled")},dispose:function(){this._$topShield&&this._$topShield.remove(),this._$bottomShield&&this._$bottomShield.remove(),this.callBase.apply(this,arguments)}})}(jQuery,DevExpress),function(n,t){var r=t.ui,u=t.fx,f=t.require("/ui/widgets/ui.button"),h="dx-list-switchable-delete-button-container",c="dx-list-switchable-delete-button-wrapper",l="dx-list-switchable-delete-button-inner-wrapper",a="dx-list-switchable-delete-button",e=200,o,s;r.dxList.SwitchableButtonEditDecorator=r.dxList.SwitchableEditDecorator.inherit({_init:function(){this.callBase.apply(this,arguments);var t=n("<div >").addClass(h),i=n("<div />").addClass(c),r=n("<div />").addClass(l),u=n("<div />").addClass(a);this._list._createComponent(u,f,{text:Globalize.localize("dxListEditDecorator-delete"),type:"danger",onClick:n.proxy(function(n){this._deleteItem(),n.jQueryEvent.stopPropagation()},this),_templates:{}}),t.append(i),i.append(r),r.append(u),this._$buttonContainer=t},_enablePositioning:function(n){this.callBase.apply(this,arguments),u.stop(this._$buttonContainer,!0),this._$buttonContainer.appendTo(n)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonContainer.detach()},_animatePrepareDeleteReady:function(){var n=this._isRtlEnabled(),t=this._list.element().width(),i=this._buttonWidth(),r=n?t:-i,f=n?t-i:0;return u.animate(this._$buttonContainer,{type:"custom",duration:e,from:{right:r},to:{right:f}})},_animateForgetDeleteReady:function(){var n=this._isRtlEnabled(),t=this._list.element().width(),i=this._buttonWidth(),r=n?t-i:0,f=n?t:-i;return u.animate(this._$buttonContainer,{type:"custom",duration:e,from:{right:r},to:{right:f}})},_buttonWidth:function(){return this._buttonContainerWidth||(this._buttonContainerWidth=this._$buttonContainer.outerWidth()),this._buttonContainerWidth},dispose:function(){this._$buttonContainer&&this._$buttonContainer.remove(),this.callBase.apply(this,arguments)}}),o="dx-list-toggle-delete-switch-container",s="dx-list-toggle-delete-switch",r.dxList.registerEditDecorator("delete","toggle",r.dxList.SwitchableButtonEditDecorator.inherit({beforeBag:function(t){var u=t.$itemElement,i=t.$container,r=n("<div />").addClass(s);this._list._createComponent(r,f,{icon:"toggle-delete",onClick:n.proxy(function(n){this._toggleDeleteReady(u),n.jQueryEvent.stopPropagation()},this),_templates:{}}),i.addClass(o),i.append(r)}})),r.dxList.registerEditDecorator("delete","slideButton",r.dxList.SwitchableButtonEditDecorator.inherit({_shouldHandleSwipe:!0,_swipeEndHandler:function(n,t){return t.targetOffset!==0&&this._toggleDeleteReady(n),!0}}))}(jQuery,DevExpress),function(n,t){var u=t.ui,r=t.require("/utils/utils.translator"),e=t.require("/ui/events/ui.events.utils"),l=t.require("/ui/events/ui.events.emitter.feedback"),o=t.fx,s="dxListEditDecorator",h=e.addNamespace("dxclick",s),a=e.addNamespace(l.active,s),v="dx-list-slide-menu",y="dx-list-slide-menu-wrapper",f="dx-list-slide-menu-content",p="dx-list-slide-menu-buttons-container",w="dx-list-slide-menu-buttons",c="dx-list-slide-menu-button",b="dx-list-slide-menu-button-menu",k="dx-list-slide-menu-button-delete",d=400,g="cubic-bezier(0.075, 0.82, 0.165, 1)";u.dxList.registerEditDecorator("menu","slide",u.dxList.SwitchableEditDecorator.inherit({_shouldHandleSwipe:!0,_init:function(){this.callBase.apply(this,arguments),this._$buttonsContainer=n("<div/>").addClass(p).on(a,n.noop),this._$buttons=n("<div/>").addClass(w).appendTo(this._$buttonsContainer),this._renderMenu(),this._renderDeleteButton()},_renderMenu:function(){var t,i,r,u;this._menuEnabled()&&(t=this._menuItems(),t.length===1?(i=t[0],this._renderMenuButton(i.text,n.proxy(function(n){n.stopPropagation(),this._fireAction(i)},this))):(r=n("<div />").addClass(v),this._menu=this._list._createComponent(r,"dxActionSheet",{showTitle:!1,items:t,onItemClick:n.proxy(function(n){this._fireAction(n.itemData)},this),_templates:{}}),r.appendTo(this._list.element()),u=this._renderMenuButton(Globalize.localize("dxListEditDecorator-more"),n.proxy(function(n){n.stopPropagation(),this._menu.show()},this)),this._menu.option("target",u)))},_renderMenuButton:function(t,i){var r=n("<div/>").addClass(c).addClass(b).text(t);this._$buttons.append(r);r.on(h,i);return r},_renderDeleteButton:function(){if(this._deleteEnabled()){var t=n("<div/>").addClass(c).addClass(k).text(Globalize.localize("dxListEditDecorator-delete"));t.on(h,n.proxy(function(n){n.stopPropagation(),this._deleteItem()},this));this._$buttons.append(t)}},_fireAction:function(t){this._fireMenuAction(n(this._cachedNode),t.action),this._cancelDeleteReadyItem()},modifyElement:function(t){var i,r;this.callBase.apply(this,arguments),i=t.$itemElement,i.addClass(y),r=n("<div/>").addClass(f),i.wrapInner(r)},handleClick:function(t,i){return n(i.target).closest("."+f).length?this.callBase.apply(this,arguments):!1},_swipeStartHandler:function(n){this._enablePositioning(n),this._cacheItemData(n),this._setPositions(this._getPostions(0))},_swipeUpdateHandler:function(n,t){var e=this._isRtlEnabled(),i=e?-1:1,r=this._isReadyToDelete(n);if(!r&&t.offset*i>0){t.cancel=!0;return}var u=this._cachedItemWidth*t.offset,f=r?-this._cachedButtonWidth*i:0,o=(u+f)*i,s=o<0?Math.abs((u+f)/this._cachedButtonWidth):0;return this._setPositions(this._getPostions(s)),!0},_getStartPositions:function(){var n=this._isRtlEnabled(),t=n?-1:1;return{content:0,buttonsContainer:n?-this._cachedButtonWidth:this._cachedItemWidth,buttons:-this._cachedButtonWidth*t}},_getPostions:function(n){var r=this._isRtlEnabled(),t=r?-1:1,i=this._getStartPositions();return{content:i.content-n*this._cachedButtonWidth*t,buttonsContainer:i.buttonsContainer-Math.min(n,1)*this._cachedButtonWidth*t,buttons:i.buttons+Math.min(n,1)*this._cachedButtonWidth*t}},_getCurrentPositions:function(){return{content:r.locate(this._$cachedContent).left,buttonsContainer:r.locate(this._$buttonsContainer).left,buttons:r.locate(this._$buttons).left}},_setPositions:function(n){r.move(this._$cachedContent,{left:n.content}),r.move(this._$buttonsContainer,{left:n.buttonsContainer}),r.move(this._$buttons,{left:n.buttons})},_cacheItemData:function(n){n[0]!==this._cachedNode&&(this._$cachedContent=n.find("."+f),this._cachedItemWidth=n.outerWidth(),this._cachedButtonWidth=this._cachedButtonWidth||this._$buttons.outerWidth(),this._$buttonsContainer.width(this._cachedButtonWidth),this._$cachedContent.length&&(this._cachedNode=n[0]))},_minButtonContainerLeftOffset:function(){return this._cachedItemWidth-this._cachedButtonWidth},_swipeEndHandler:function(n,t){this._cacheItemData(n);var i=this._isRtlEnabled()?1:-1,r=this._cachedItemWidth*t.offset,u=!this._isReadyToDelete(n)&&r*i>this._cachedButtonWidth*.2,f=t.targetOffset===i||u;return this._toggleDeleteReady(n,f),!0},_enablePositioning:function(n){o.stop(this._$cachedContent,!0),this.callBase.apply(this,arguments),this._$buttonsContainer.appendTo(n)},_disablePositioning:function(){this.callBase.apply(this,arguments),this._$buttonsContainer.detach()},_animatePrepareDeleteReady:function(){return this._animateToPositions(this._getPostions(1))},_animateForgetDeleteReady:function(n){return this._cacheItemData(n),this._animateToPositions(this._getPostions(0))},_animateToPositions:function(n){var t=this,i=this._getCurrentPositions(),r=Math.min(Math.abs(i.content-n.content)/this._cachedButtonWidth,1);return o.animate(this._$cachedContent,{from:this._getCurrentPositions(),to:n,easing:g,duration:d*r,strategy:"frame",draw:function(n){t._setPositions(n)}})},dispose:function(){this._menu&&this._menu.element().remove(),this._$buttonsContainer&&this._$buttonsContainer.remove(),this.callBase.apply(this,arguments)}}).include(u.dxList.EditDecoratorMenuHelperMixin))}(jQuery,DevExpress),function(n,t){var r=t.ui,u=t.require("/utils/utils.translator"),f=t.fx;r.dxList.registerEditDecorator("delete","swipe",r.dxList.EditDecorator.inherit({_shouldHandleSwipe:!0,_renderItemPosition:function(t,i,r){var e=n.Deferred(),o=i*this._itemElementWidth;return r?f.animate(t,{to:{left:o},type:"slide",complete:function(){e.resolve(t,i)}}):(u.move(t,{left:o}),e.resolve()),e.promise()},_swipeStartHandler:function(n){return this._itemElementWidth=n.width(),!0},_swipeUpdateHandler:function(n,t){return this._renderItemPosition(n,t.offset),!0},_swipeEndHandler:function(t,i){var r=i.targetOffset;return this._renderItemPosition(t,r,!0).done(n.proxy(function(t,i){Math.abs(i)&&this._list.deleteItem(t).fail(n.proxy(function(){this._renderItemPosition(t,0,!0)},this))},this)),!0}}))}(jQuery,DevExpress),function(n,t){var r=t.ui,u="dx-list-context-menu",f="dx-list-context-menucontent";r.dxList.registerEditDecorator("menu","context",r.dxList.EditDecorator.inherit({_init:function(){var t=n("<div/>").addClass(u);this._list.element().append(t),this._menu=this._renderOverlay(t)},_renderOverlay:function(t){return this._list._createComponent(t,"dxOverlay",{shading:!1,deferRendering:!0,closeOnTargetScroll:!0,closeOnOutsideClick:function(t){return!n(t.target).closest("."+u).length},animation:{show:{type:"slide",duration:300,from:{height:0,opacity:1},to:{height:n.proxy(function(){return this._$menuList.outerHeight()},this),opacity:1}},hide:{type:"slide",duration:0,from:{opacity:1},to:{opacity:0}}},height:n.proxy(function(){return this._$menuList?this._$menuList.outerHeight():0},this),width:n.proxy(function(){return this._list.element().outerWidth()},this),onContentReady:n.proxy(this._renderMenuContent,this)})},_renderMenuContent:function(t){var i=t.component.content(),r=this._menuItems().slice();this._deleteEnabled()&&r.push({text:Globalize.localize("dxListEditDecorator-delete"),action:n.proxy(this._deleteItem,this)}),this._$menuList=n("<div>"),this._list._createComponent(this._$menuList,"dxList",{items:r,onItemClick:n.proxy(this._menuItemClickHandler,this),height:"auto",_templates:{}}),i.addClass(f),i.append(this._$menuList)},_menuItemClickHandler:function(n){this._menu.hide(),this._fireMenuAction(this._$itemWithMenu,n.itemData.action)},_deleteItem:function(){this._list.deleteItem(this._$itemWithMenu)},handleContextMenu:function(n){return this._$itemWithMenu=n,this._menu.option({position:{my:"top",at:"bottom",of:n,collision:"flip"}}),this._menu.show(),!0},dispose:function(){this._menu&&this._menu.element().remove(),this.callBase.apply(this,arguments)}}).include(r.dxList.EditDecoratorMenuHelperMixin))}(jQuery,DevExpress),function(n,t,i){var r=t.ui,u=t.require("/ui/widgets/ui.checkBox"),o=t.require("/ui/widgets/ui.radioButton"),s=t.require("/ui/events/ui.events.utils"),f="dx-list-select-decorator-enabled",h="dx-list-select-all",c="dx-list-select-all-checkbox",l="dx-list-select-all-label",a="dx-list-select-checkbox-container",v="dx-list-select-checkbox",y="dx-list-select-radiobutton-container",p="dx-list-select-radiobutton",e=s.addNamespace("dxclick","dxListEditDecorator");r.dxList.registerEditDecorator("selection","default",r.dxList.EditDecorator.inherit({_init:function(){this.callBase.apply(this,arguments);var n=this._list.option("selectionMode");this._singleStrategy=n==="single",this._containerClass=this._singleStrategy?y:a,this._controlClass=this._singleStrategy?p:v,this._controlWidget=this._singleStrategy?o.publicName():u.publicName(),this._list.element().addClass(f)},beforeBag:function(t){var i=t.$itemElement,r=t.$container,u=n("<div />").addClass(this._controlClass);u[this._controlWidget](n.extend(this._commonOptions(),{value:this._isSelected(i),focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:n.proxy(function(n){this._processCheckedState(i,n.value),n.jQueryEvent&&n.jQueryEvent.stopPropagation()},this)})),r.addClass(this._containerClass),r.append(u)},modifyElement:function(t){this.callBase.apply(this,arguments);var i=t.$itemElement,r=i.find("."+this._controlClass)[this._controlWidget]("instance");i.on("stateChanged",n.proxy(function(){r.option("value",this._isSelected(i)),this._updateSelectAllState()},this))},_updateSelectAllState:function(){if(this._$selectAll){var u=this._list.option("items"),t=this._list.option("selectedItems"),n=this._list._dataSource,r=n&&n.totalCount()>=0?n.totalCount():u.length,f=r>0&&r===t.length?!0:t.length===0?!1:i;this._selectAllCheckBox.option("value",f)}},afterRender:function(){this._list.option("selectionMode")==="all"&&(this._$selectAll||this._renderSelectAll())},_renderSelectAll:function(){var t=this._$selectAll=n("<div>").addClass(h);this._selectAllCheckBox=this._list._createComponent(n("<div>").addClass(c).appendTo(t),u),n("<div>").addClass(l).text(this._list.option("selectAllText")).appendTo(t),this._list.itemsContainer().prepend(t),this._updateSelectAllState(),this._attachSelectAllHandler()},_attachSelectAllHandler:function(){this._selectAllCheckBox.option("onValueChanged",n.proxy(this._selectAllHandler,this));this._$selectAll.off(e).on(e,n.proxy(this._selectAllClickHandler,this))},_selectAllHandler:function(n){n.jQueryEvent&&n.jQueryEvent.stopPropagation();var t=this._selectAllCheckBox.option("value"),i=this._list._createActionByOption("onSelectAllChanged")({value:t});i!==!1&&(t===!0?this._selectAllItems():t===!1&&this._unselectAllItems())},_selectAllItems:function(){this._list.option("selectedItems",this._list.option("items").slice())},_unselectAllItems:function(){this._list.option("selectedItems",[])},_selectAllClickHandler:function(){this._selectAllCheckBox.option("value",!this._selectAllCheckBox.option("value"))},_isSelected:function(n){return this._list.isItemSelected(n)},_processCheckedState:function(n,t){t?this._list.selectItem(n):this._list.unselectItem(n)},dispose:function(){this._disposeSelectAll(),this._list.element().removeClass(f),this.callBase.apply(this,arguments)},_disposeSelectAll:function(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)},handleClick:function(n){var t=!this._isSelected(n)||this._singleStrategy;return this._processCheckedState(n,t),!0}}))}(jQuery,DevExpress),function(n,t){var s=t.ui,f=t.require("/utils/utils.translator"),r=t.fx,c=t.require("/utils/utils.support"),u=t.require("/utils/utils.math"),l=t.require("/animator"),e=t.require("/ui/events/ui.events.utils"),a=l.inherit({ctor:function(n){this.callBase(),this._strategy=n},_isFinished:function(){return this._strategy.scrollFinished()},_step:function(){this._strategy.scrollByStep()}}),o="dxListEditDecorator",v=e.addNamespace("dxdragstart",o),y=e.addNamespace("dxdrag",o),p=e.addNamespace("dxdragend",o),w="dx-list-reorder-handle-container",b="dx-list-reorder-handle",h="dx-list-item-reordering",k="dx-list-item-ghost-reordering",d="dx-list-reorder-compatibility-mode";s.dxList.registerEditDecorator("reorder","default",s.dxList.EditDecorator.inherit({_init:function(){this._groupedEnabled=this._list.option("grouped"),this._initAnimator()},_initAnimator:function(){this._scrollAnimator=new a(this)},_startAnimator:function(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()},_stopAnimator:function(){this._scrollAnimator.stop()},afterBag:function(t){var r=t.$itemElement,u=t.$container,i=n("<div>").addClass(b);i.on(v,{direction:"both",immediate:!0},n.proxy(this._dragStartHandler,this,r));i.on(y,n.proxy(this._dragHandler,this,r));i.on(p,n.proxy(this._dragEndHandler,this,r));u.addClass(w),u.append(i)},_dragStartHandler:function(n,t){if(n.is(".dx-state-disabled, .dx-state-disabled *")){t.cancel=!0;return}this._stopPreviousAnimation(),t.targetElements=[],this._cacheItemsPositions(),this._startPointerOffset=t.pageY-n.offset().top,this._elementHeight=n.outerHeight();var i=this._list.getFlatIndexByItemElement(n);this._startIndex=i,this._lastIndex=i,this._cacheScrollData(),this._createGhost(n),n.addClass(h),this._toggleCompatibilityMode(!0)},_stopPreviousAnimation:function(){r.stop(this._$ghostItem,!0)},_toggleCompatibilityMode:function(n){this._list.element().toggleClass(d,!c.transform&&n)},_cacheItemsPositions:function(){this._itemPositions=[],n.each(this._list.itemElements(),n.proxy(function(t,i){this._itemPositions.push(n(i).position().top)},this))},_getDraggingElementPosition:function(){return this._itemPositions[this._startIndex]},_getLastElementPosition:function(){return this._itemPositions[this._lastIndex]},_cacheScrollData:function(){this._list.updateDimensions(),this._startScrollTop=this._list.scrollTop(),this._scrollOffset=0,this._scrollHeight=this._list.scrollHeight(),this._clientHeight=this._list.clientHeight()},_scrollTop:function(){return this._startScrollTop+this._scrollOffset},_createGhost:function(n){this._$ghostItem=n.clone(),this._$ghostItem.addClass(k).appendTo(this._list.itemsContainer()),this._startGhostPosition=this._getDraggingElementPosition()-this._$ghostItem.position().top,f.move(this._$ghostItem,{top:this._startGhostPosition})},_dragHandler:function(n,t){this._topOffset=t.offset.y,this._updateItemPositions();var i=this._getPonterPosition();this._toggleScroll(i)},_getPonterPosition:function(){return this._getDraggingElementPosition()+this._startPointerOffset+this._scrollOffset+this._topOffset},_toggleScroll:function(n){if(!(this._scrollHeight<=this._clientHeight)){var t=this._elementHeight*.7,u=this._clientHeight-(n-this._scrollTop()),i=u/t,f=n-this._scrollTop(),r=f/t;i<1?(this._stepSize=this._adjustRationIntoRange(i),this._startAnimator()):r<1?(this._stepSize=-this._adjustRationIntoRange(r),this._startAnimator()):this._stopAnimator()}},_adjustRationIntoRange:function(n){return u.fitIntoRange(Math.round(Math.abs(n-1)*7),1,7)},_updateItemPositions:function(){this._updateGhostPosition(),this._updateOthersPositions()},_updateGhostPosition:function(){f.move(this._$ghostItem,{top:this._startGhostPosition+this._scrollOffset+this._topOffset})},_updateOthersPositions:function(){var n=this._findItemIndexByPosition(this._getPonterPosition()),t;if(this._lastIndex!==n&&(!this._groupedEnabled||this._sameParent(n))){var f=n-this._startIndex,e=u.sign(f),c=Math.min(n,this._lastIndex),l=Math.max(n,this._lastIndex);for(t=c;t<=l;t++)if(t!==this._startIndex){var i=this._list.getItemElementByFlatIndex(t),o=t-this._startIndex,a=u.sign(o),s=Math.abs(o)<=Math.abs(f),h=e===a,v=s&&h,y=!s||!h;r.stop(i),v&&r.animate(i,{type:"slide",to:{top:this._elementHeight*-e},duration:300}),y&&r.animate(i,{type:"slide",to:{top:0},duration:300})}this._lastIndex=n}},_sameParent:function(n){var t=this._list.getItemElementByFlatIndex(this._startIndex),i=this._list.getItemElementByFlatIndex(n);return i.parent().get(0)===t.parent().get(0)},scrollByStep:function(){this._scrollOffset+=this._stepSize,this._list.scrollBy(this._stepSize),this._updateItemPositions()},scrollFinished:function(){var n=this._scrollTop(),t=n<=0&&this._stepSize<0,i=n>=this._scrollHeight-this._clientHeight&&this._stepSize>0;return t||i},_dragEndHandler:function(t){this._scrollAnimator.stop(),r.animate(this._$ghostItem,{type:"slide",to:{top:this._startGhostPosition+this._getLastElementPosition()-this._getDraggingElementPosition()},duration:300}).done(n.proxy(function(){t.removeClass(h),this._resetPositions(),this._list.reorderItem(t,this._list.getItemElementByFlatIndex(this._lastIndex)),this._deleteGhost(),this._toggleCompatibilityMode(!1)},this))},_deleteGhost:function(){this._$ghostItem.remove()},_resetPositions:function(){for(var i=Math.min(this._startIndex,this._lastIndex),r=Math.max(this._startIndex,this._lastIndex),t,n=i;n<=r;n++)t=this._list.getItemElementByFlatIndex(n),f.resetPosition(t)},_findItemIndexByPosition:function(n){for(var i=0,r=this._itemPositions.length-1,t,f;i<=r;)if(t=(i+r)/2|0,f=this._itemPositions[t],f<n)i=t+1;else if(f>n)r=t-1;else return t;return u.fitIntoRange(i,0,Math.max(r,0))}}))}(jQuery,DevExpress),function(n,t){var u=t.ui,e=DevExpress.require("/class"),o=DevExpress.require("/ui/ui.errors"),f=[],r=function(n,t,i){f.push({enabled:n,decoratorType:t,decoratorSubType:i})};r(function(){return this.option("menuItems").length},function(){return"menu"},function(){return this.option("menuMode")}),r(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){var n=this.option("itemDeleteMode");return n==="toggle"||n==="slideButton"||n==="swipe"||n==="static"?"delete":"menu"},function(){var n=this.option("itemDeleteMode");return n==="slideItem"&&(n="slide"),n==="hold"&&(n="context"),n}),r(function(){return this.option("selectionMode")!=="none"&&this.option("showSelectionControls")},function(){return"selection"},function(){return"default"}),r(function(){return this.option("allowItemReordering")},function(){return"reorder"},function(){return"default"});var s="dx-list-item-before-bag",h="dx-list-item-after-bag",c="beforeBag",l="afterBag",a="modifyElement",v="afterRender";u.dxList.EditProvider=e.inherit({ctor:function(n){this._list=n,this._fetchRequiredDecorators()},dispose:function(){this._decorators&&this._decorators.length&&n.each(this._decorators,function(n,t){t.dispose()})},_fetchRequiredDecorators:function(){this._decorators=[],n.each(f,n.proxy(function(n,t){var i=t.enabled.call(this._list);if(i){var r=t.decoratorType.call(this._list),u=t.decoratorSubType.call(this._list),f=this._createDecorator(r,u);this._decorators.push(f)}},this))},_createDecorator:function(n,t){var i=this._findDecorator(n,t);return new i(this._list)},_findDecorator:function(n,t){var i=u.dxList.EditDecoratorsRegistry[n][t];if(!i)throw o.Error("E1012",n,t);return i},modifyItemElement:function(t){var i=n(t.itemElement),r={$itemElement:i};this._prependBeforeBags(i,r),this._appendAfterBags(i,r),this._applyDecorators(a,r)},afterItemsRendered:function(){this._applyDecorators(v)},_prependBeforeBags:function(n,t){var i=this._collectDecoratorsMarkup(c,t,s);n.prepend(i)},_appendAfterBags:function(n,t){var i=this._collectDecoratorsMarkup(l,t,h);n.append(i)},_collectDecoratorsMarkup:function(t,i,r){var u=n("<div />");return n.each(this._decorators,function(){var f=n("<div />").addClass(r);this[t](n.extend({$container:f},i)),f.children().length&&u.append(f)}),u.children()},_applyDecorators:function(t,i){n.each(this._decorators,function(){this[t](i)})},_handlerExists:function(t){var r,u,i;if(!this._decorators)return!1;for(r=this._decorators,u=r.length,i=0;i<u;i++)if(r[i][t]!==n.noop)return!0;return!1},_eventHandler:function(n,t,i){var r;if(!this._decorators)return!1;var u=!1,f=this._decorators,e=f.length;for(r=0;r<e;r++)if(u=f[r][n](t,i),u)break;return u},handleClick:function(n,t){return this._eventHandler("handleClick",n,t)},contextMenuHandlerExists:function(){return this._handlerExists("handleContextMenu")},handleContextMenu:function(n,t){return this._eventHandler("handleContextMenu",n,t)}})}(jQuery,DevExpress),DevExpress.define("/ui/widgets/ui.tileView",["jquery","/devices","/componentRegistrator","/ui/uiNamespace","/utils/utils.inflector","/utils/utils.common"],function(n,t,i,r,u,f){var s="dx-tileview",h="dx-tileview-wrapper",e="dx-tile",c="."+e,l="dxTileData",a={horizontal:{itemMainRatio:"widthRatio",itemCrossRatio:"heightRatio",baseItemMainDimension:"baseItemWidth",baseItemCrossDimension:"baseItemHeight",mainDimension:"width",crossDimension:"height",mainPosition:"left",crossPosition:"top"},vertical:{itemMainRatio:"heightRatio",itemCrossRatio:"widthRatio",baseItemMainDimension:"baseItemHeight",baseItemCrossDimension:"baseItemWidth",mainDimension:"height",crossDimension:"width",mainPosition:"top",crossPosition:"left"}},o=DevExpress.ui.CollectionWidget.inherit({_activeStateUnit:c,_getDefaultOptions:function(){return n.extend(this.callBase(),{items:null,direction:"horizontal",hoverStateEnabled:!0,showScrollbar:!1,height:500,baseItemWidth:100,baseItemHeight:100,itemMargin:20,activeStateEnabled:!0,indicateLoading:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return e},_itemDataKey:function(){return l},_itemContainer:function(){return this._$container},_init:function(){this.callBase(),this.element().addClass(s),this._initScrollView()},_dataSourceLoadingChangedHandler:function(n){var t=this._scrollView;t&&(n&&this.option("indicateLoading")?t.startLoading():t.finishLoading())},_hideLoadingIfLoadIndicationOff:function(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)},_initScrollView:function(){this._scrollView=this._createComponent(this.element(),"dxScrollView",{direction:this.option("direction"),scrollByContent:!0,useKeyboard:!1,showScrollbar:this.option("showScrollbar")}),this._$container=this._scrollView.content(),this._$container.addClass(h),this._scrollView.option("onUpdated",n.proxy(this._renderGeometry,this))},_render:function(){this.callBase(),this._cellsPerDimension=1,this._renderGeometry(),this._updateScrollView(),this._fireContentReadyAction()},_renderContent:function(){this._renderContentImpl()},_updateScrollView:function(){this._scrollView.option("direction",this.option("direction")),this._scrollView.update(),this._indicateLoadingIfAlreadyStarted()},_indicateLoadingIfAlreadyStarted:function(){this._isDataSourceLoading()&&this._dataSourceLoadingChangedHandler(!0)},_renderGeometry:function(){this._config=a[this.option("direction")];var i=this.option("items")||[],t=this._config,r=this.option("itemMargin"),u=Math.max.apply(Math,n.map(i||[],function(n){return Math.round(n[t.itemCrossRatio]||1)}));this._cellsPerDimension=Math.floor(this.element()[t.crossDimension]()/(this.option(t.baseItemCrossDimension)+r)),this._cellsPerDimension=Math.max(this._cellsPerDimension,u),this._cells=[],this._cells.push(new Array(this._cellsPerDimension)),this._arrangeItems(i),this._$container[t.mainDimension](this._cells.length*this.option(t.baseItemMainDimension)+(this._cells.length+1)*r)},_arrangeItems:function(t){var i=this._config,r=i.itemMainRatio,u=i.itemCrossRatio,f=i.mainPosition;this._itemsPositions=[],n.each(t,n.proxy(function(n,t){var e={},o;e[r]=t[r]||1,e[u]=t[u]||1,e.index=n,e[r]=e[r]<=0?0:Math.round(e[i.itemMainRatio]),e[u]=e[u]<=0?0:Math.round(e[i.itemCrossRatio]),o=this._getItemPosition(e),o[f]===-1&&(o[f]=this._cells.push(new Array(this._cellsPerDimension))-1),this._occupyCells(e,o),this._arrangeItem(e,o),this._itemsPositions.push(o)},this))},_getItemPosition:function(n){var f=this._config,u=f.mainPosition,e=f.crossPosition,t={},i,r;for(t[u]=-1,t[e]=0,i=0;i<this._cells.length;i++){for(r=0;r<this._cellsPerDimension;r++)if(this._itemFit(i,r,n)){t[u]=i,t[e]=r;break}if(t[u]>-1)break}return t},_itemFit:function(n,t,i){var f=!0,e=this._config,s=i[e.itemMainRatio],o=i[e.itemCrossRatio],r,u;if(t+o>this._cellsPerDimension)return!1;for(r=n;r<n+s;r++)for(u=t;u<t+o;u++)if(this._cells.length-1<r)this._cells.push(new Array(this._cellsPerDimension));else if(this._cells[r][u]!==undefined){f=!1;break}return f},_occupyCells:function(n,t){for(var i=this._config,f=t[i.mainPosition],e=t[i.crossPosition],o=n[i.itemMainRatio],s=n[i.itemCrossRatio],u,r=f;r<f+o;r++)for(u=e;u<e+s;u++)this._cells[r][u]=n.index},_arrangeItem:function(n,t){var i=this._config,o=t[i.mainPosition],s=t[i.crossPosition],f=n[i.itemMainRatio],e=n[i.itemCrossRatio],h=this.option(i.baseItemCrossDimension),c=this.option(i.baseItemMainDimension),r=this.option("itemMargin"),u={display:f<=0||e<=0?"none":""};if(u[i.mainDimension]=f*c+(f-1)*r,u[i.crossDimension]=e*h+(e-1)*r,u[i.mainPosition]=o*c+(o+1)*r,u[i.crossPosition]=s*h+(s+1)*r,this.option("rtlEnabled")){var v=this._$container.width(),l=this.option("baseItemWidth"),a=t.left,y=a*l,p=l+r,w=p*n.widthRatio,b=a*r;u.left=v-(y+w+b)}this._itemElements().eq(n.index).css(u)},_moveFocus:function(n){var a="up",v="down",y=this.option("rtlEnabled")?"right":"left",p=this.option("rtlEnabled")?"left":"right",w="pageup",b="pagedown",o=this.option("direction")==="horizontal",r=this._cells,u=this.option("focusedElement").index(),t=this._itemsPositions[u].left,i=this._itemsPositions[u].top,s=(o?r:r[0]).length,h=(o?r[0]:r).length,e=function(n,t){return o?r[n][t]:r[t][n]},c,l;switch(n){case w:case a:while(i>0&&u===e(t,i))i--;i<0&&(i=0);break;case b:case v:while(i<h&&u===e(t,i))i++;i===h&&(i=h-1);break;case p:while(t<s&&u===e(t,i))t++;t===s&&(t=s-1);break;case y:while(t>=0&&u===e(t,i))t--;t<0&&(t=0);break;default:this.callBase.apply(this,arguments);return}(c=e(t,i),f.isDefined(c))&&(l=this._itemElements().eq(c),this.option("focusedElement",l),this._scrollToItem(l))},_scrollToItem:function(n){if(n.length){var r=this._config,f="outer"+u.captionize(r.mainDimension),e=this.option("itemMargin"),t=n.position()[r.mainPosition],o=n[f](),h=t+o,i=this.scrollPosition(),s=this.element()[f]();i<=t&&h<=i+s||(i>t?this._scrollView.scrollTo(t-e):this._scrollView.scrollTo(t+o-s+e))}},_optionChanged:function(n){switch(n.name){case"showScrollbar":this._initScrollView();break;case"disabled":this._scrollView.option("disabled",n.value),this.callBase(n);break;case"baseItemWidth":case"baseItemHeight":case"itemMargin":this._renderGeometry();break;case"direction":case"width":case"height":this.callBase(n),this._renderGeometry(),this._updateScrollView();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;default:this.callBase(n)}},scrollPosition:function(){return this._scrollView.scrollOffset()[this._config.mainPosition]}});return i("dxTileView",o),o}),DevExpress.require(["/ui/widgets/ui.tileView"]),DevExpress.define("/ui/widgets/track/ui.trackBar",["jquery","/ui/ui.editor","/componentRegistrator","/ui/uiNamespace"],function(n,t,i,r){var u=DevExpress.fx,e="dx-trackbar",o="dx-trackbar-container",s="dx-trackbar-range",h="dx-trackbar-wrapper",f=t.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{min:0,max:100,value:0})},_render:function(){this.element().addClass(e),this._renderWrapper(),this._renderContainer(),this._renderRange(),this.callBase(),this._renderValue()},_renderWrapper:function(){this._$wrapper=n("<div>").addClass(h).appendTo(this.element())},_renderContainer:function(){this._$bar=n("<div>").addClass(o).appendTo(this._$wrapper)},_renderRange:function(){this._$range=n("<div>").addClass(s).appendTo(this._$bar)},_renderValue:function(){var i=this.option("value"),n=this.option("min"),t=this.option("max"),r;if(!(n>t)){if(i<n){this.option("value",n),this._currentRatio=0;return}if(i>t){this.option("value",t),this._currentRatio=1;return}r=n===t?0:(i-n)/(t-n),this._needPreventAnimation||this._setRangeStyles({width:r*100+"%"}),this.setAria({valuemin:this.option("min"),valuemax:t,valuenow:i}),this._currentRatio=r}},_setRangeStyles:function(n){u.stop(this._$range),this._needPreventAnimation||u.animate(this._$range,{type:"custom",duration:100,to:n})},_optionChanged:function(n){switch(n.name){case"value":this._renderValue(),this.callBase(n);break;case"max":case"min":this._renderValue();break;default:this.callBase(n)}},_dispose:function(){u.stop(this._$range),this.callBase()}});return i("dxTrackBar",r,f),f}),DevExpress.define("/ui/widgets/track/ui.progressBar",["jquery","/ui/widgets/track/ui.trackBar","/componentRegistrator","/ui/uiNamespace"],function(n,t,i,r){var e="dx-progressbar",o="dx-progressbar-container",s="dx-progressbar-range-container",h="dx-progressbar-range",c="dx-progressbar-wrapper",l="dx-progressbar-status",a="dx-progressbar-animating-container",u="dx-progressbar-animating-segment",f=t.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{statusFormat:function(n){return"Progress: "+Math.round(n*100)+"%"},showStatus:!0,onComplete:null,activeStateEnabled:!1,statusPosition:"bottom left",_animatingSegmentCount:0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"win"},options:{_animatingSegmentCount:5}},{device:function(n){return n.platform==="android"},options:{_animatingSegmentCount:2}}])},_init:function(){this.callBase()},_render:function(){this._createCompleteAction(),this._renderStatus(),this.callBase(),this.element().addClass(e),this.setAria("role","progressbar"),this._$wrapper.addClass(c),this._$bar.addClass(o),n("<div>").addClass(s).appendTo(this._$wrapper).append(this._$bar),this._$range.addClass(h),this._toggleStatus(this.option("showStatus"))},_createCompleteAction:function(){this._completeAction=this._createActionByOption("onComplete")},_renderStatus:function(){this._$status=n("<div>").addClass(l)},_renderIndeterminateState:function(){var i,t;for(this._$segmentContainer=n("<div>").addClass(a),i=this.option("_animatingSegmentCount"),t=0;t<i;t++)n("<div>").addClass(u).addClass(u+"-"+(t+1)).appendTo(this._$segmentContainer);this._$segmentContainer.appendTo(this._$wrapper)},_toggleStatus:function(n){var t=this.option("statusPosition").split(" ");n?t[0]==="top"||t[0]==="left"?this._$status.prependTo(this._$wrapper):this._$status.appendTo(this._$wrapper):this._$status.detach(),this._togglePositionClass()},_togglePositionClass:function(){var i=this.option("statusPosition"),n=i.split(" "),t;this._$wrapper.removeClass("dx-position-top-left dx-position-top-right dx-position-bottom-left dx-position-bottom-right dx-position-left dx-position-right"),t="dx-position-"+n[0],n[1]&&(t+="-"+n[1]),this._$wrapper.addClass(t)},_toggleIndeterminateState:function(n){n?(this._renderIndeterminateState(),this._$bar.toggle(!1)):(this._$bar.toggle(!0),this._$segmentContainer.remove(),delete this._$segmentContainer)},_renderValue:function(){var n=this.option("value"),t=this.option("max");if(!n&&n!==0){this._toggleIndeterminateState(!0);return}this._$segmentContainer&&this._toggleIndeterminateState(!1),n===t&&this._completeAction(),this.callBase(),this._setStatus()},_setStatus:function(){var t=this.option("statusFormat"),i;t=n.isFunction(t)?n.proxy(t,this):function(n){return n},i=t(this._currentRatio,this.option("value")),this._$status.text(i)},_dispose:function(){this._$status.remove(),this.callBase()},_optionChanged:function(n){switch(n.name){case"statusFormat":this._setStatus();break;case"showStatus":this._toggleStatus(n.value);break;case"statusPosition":this._toggleStatus(this.option("showStatus"));break;case"onComplete":this._createCompleteAction();break;case"_animatingSegmentCount":break;default:this.callBase(n)}}});return i("dxProgressBar",r,f),f}),DevExpress.require(["/ui/widgets/track/ui.progressBar"]),DevExpress.define("/ui/widgets/track/ui.sliderHandle",["jquery","/utils/utils.translator","/utils/utils.position","/ui/ui.widget"],function(n,t,i,r){var f="dx-slider",e="dx-slider-handle",u={top:{my:"bottom center",at:"top center",collision:"none"},bottom:{my:"top center",at:"bottom center",collision:"none"},right:{my:"left center",at:"right center",collision:"none"},left:{my:"right center",at:"left center",collision:"none"}};return r.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!1,value:0,tooltipEnabled:!1,tooltipFormat:function(n){return n},tooltipPosition:"top",tooltipShowMode:"onHover",tooltipFitIn:null})},_render:function(){this.callBase(),this.element().addClass(e),this._renderTooltip(),this.setAria({role:"slider",valuenow:this.option("value")})},_renderTooltip:function(){this.option("tooltipEnabled")?(this._$tooltip||(this._$tooltip=n("<div>").appendTo(this.element())),this._$slider=this.element().closest("."+f),this._updateTooltip()):this._removeTooltip()},_createTooltip:function(){return this._tooltip?!1:(this._tooltip=this._createComponent(this._$tooltip,"dxTooltip",{visible:!0,target:this.element(),closeOnOutsideClick:!1,container:this.element(),closeOnBackButton:!1,closeOnTargetScroll:!1,animation:null,arrowPosition:null}),this._detachWindowResizeCallback(),this._attachWindowResizeCallback(),!0)},_visibilityChanged:function(){this._dimensionChanged()},_dimensionChanged:function(){this._renderTooltipPosition(),this._centeredTooltipPosition()},_removeTooltip:function(){this._$tooltip&&(this._$tooltip.remove(),delete this._$tooltip,delete this._tooltip)},_renderTooltipPosition:function(){if(this._tooltip){var t=this.option("tooltipPosition");this._saveTooltipElements(),this._resetTooltipPosition(),n.type(t)==="string"&&(t=n.extend({boundary:this._$slider,boundaryOffset:{h:1,v:1}},u[t])),this._tooltip.option("position",t),this._saveTooltipLocation()}},_saveTooltipElements:function(){this._$tooltipContent=this._tooltip.content().parent(),this._$tooltipArrow=this._$tooltipContent.find(".dx-popover-arrow")},_resetTooltipPosition:function(){t.resetPosition(this._$tooltipContent),t.resetPosition(this._$tooltipArrow)},_saveTooltipLocation:function(){this._contentLocate=t.locate(this._$tooltipContent),this._arrowLocate=t.locate(this._$tooltipArrow)},_centeredTooltipPosition:function(){var i;if(this._tooltip){this._$tooltipContent.outerWidth("auto");var r=this._$tooltipContent.get(0).getBoundingClientRect().width,n=Math.ceil(r),t=n%2+n;this._$tooltipContent.outerWidth(t),i=(t-this.element().width())/2,this._contentLocate.left=-i,this._$tooltipArrow.css({marginLeft:-this._$tooltipArrow.outerWidth()/2,left:"50%"}),this._fitTooltip()}},_fitTooltip:function(){var r,f,e;this._tooltip&&(r=this.option("tooltipPosition"),n.type(r)==="string"&&(r=n.extend({of:this.element(),boundary:this._$slider,boundaryOffset:{h:2,v:1}},u[r],{collision:"fit none"})),f=i.calculate(this._$tooltipContent,r),e=f.h.collisionSide==="left",t.move(this._$tooltipContent,{left:this._contentLocate.left+(e?1:-1)*f.h.oversize}),t.move(this._$tooltipArrow,{left:this._arrowLocate.left+(e?-1:1)*f.h.oversize}))},_renderValue:function(){if(this._tooltip){var n=this.option("tooltipFormat"),t=n(this.option("value"));this._tooltip.content().html(t),this._fitTooltip()}},_updateTooltip:function(){var n=/^onhover$/i.test(this.option("tooltipShowMode"));n||this._createTooltip(),this.element().toggleClass("dx-slider-tooltip-on-hover",n),this._renderTooltipPosition(),this._renderValue(),this._centeredTooltipPosition()},_clean:function(){this.callBase(),delete this._$tooltip,delete this._tooltip},_optionChanged:function(n){switch(n.name){case"tooltipFormat":this._renderValue();break;case"value":this._renderValue(),n.value.toString().length!==n.previousValue.toString().length&&this._centeredTooltipPosition(),this.setAria("valuenow",n.value);break;case"tooltipEnabled":this._renderTooltip();break;case"tooltipPosition":this._renderTooltipPosition(),this._centeredTooltipPosition();break;case"tooltipShowMode":this._updateTooltip();break;case"tooltipFitIn":this._fitTooltip();break;case"_templates":case"templateProvider":break;default:this.callBase(n)}},fitTooltipPosition:function(){this._fitTooltip()},updateTooltip:function(){this._createTooltip()&&(this._renderTooltipPosition(),this._renderValue(),this._centeredTooltipPosition())},repaint:function(){this._renderTooltipPosition(),this._centeredTooltipPosition(),this._tooltip&&this._tooltip._visibilityChanged(!0)}})}),DevExpress.define("/ui/widgets/track/ui.slider",["jquery","/utils/utils.support","/utils/utils.dom","/devices","/componentRegistrator","/ui/widgets/track/ui.trackBar","/ui/uiNamespace","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/events/ui.events.emitter.feedback","/ui/widgets/track/ui.sliderHandle"],function(n,t,i,r,u,f,e,o,s,h,c){var a=t.transitionEndEventName,w="dx-slider",b="dx-slider-wrapper",k=".dx-slider-handle",d="dx-slider-bar",g="dx-slider-range",nt="dx-slider-range-visible",v="dx-slider-label",l="dx-slider-label-position-",y="dx-slider-tooltip-position-",p=f.inherit({_activeStateUnit:k,_supportedKeys:function(){var i=this.option("rtlEnabled"),t=this,r=function(n,i){n=t._valueStep(n);var f=t.option("step"),r=t.option("value"),u=(r-t.option("min"))%f;return i?r-n+(u?f-u:0):r+n-u},u=function(n){t.option("value",r(n,i))},f=function(n){t.option("value",r(n,!i))};return n.extend(this.callBase(),{leftArrow:function(n){n.preventDefault(),n.stopPropagation(),f(this.option("step"))},rightArrow:function(n){n.preventDefault(),n.stopPropagation(),u(this.option("step"))},pageUp:function(n){n.preventDefault(),n.stopPropagation(),u(this.option("step")*this.option("keyStep"))},pageDown:function(n){n.preventDefault(),n.stopPropagation(),f(this.option("step")*this.option("keyStep"))},home:function(n){n.preventDefault(),n.stopPropagation();var t=this.option("min");this.option("value",t)},end:function(n){n.preventDefault(),n.stopPropagation();var t=this.option("max");this.option("value",t)}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,step:1,value:50,showRange:!0,tooltip:{enabled:!1,format:function(n){return n},position:"top",showMode:"onHover"},label:{visible:!1,position:"bottom",format:function(n){return n}},keyStep:1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.real().generic&&!r.isSimulator()},options:{focusStateEnabled:!0}}])},_render:function(){this.element().addClass(w),this.callBase(),this._renderLabels(),this._renderStartHandler(),this._renderAriaMinAndMax(),this._repaintHandle()},_visibilityChanged:function(){this.repaint()},_renderWrapper:function(){this.callBase(),this._$wrapper.addClass(b),this._createComponent(this._$wrapper,"dxSwipeable",{elastic:!1,immediate:!0,onStart:n.proxy(this._swipeStartHandler,this),onUpdated:n.proxy(this._swipeUpdateHandler,this),onEnd:n.proxy(this._swipeEndHandler,this),itemSizeFunc:n.proxy(this._itemWidthFunc,this)})},_renderContainer:function(){this.callBase(),this._$bar.addClass(d);this._$bar.off(a+"."+this.NAME).on(a,n.proxy(this._fitHandleTooltipPosition,this))},_renderRange:function(){this.callBase(),this._$range.addClass(g),this._renderHandle(),this._renderRangeVisibility()},_renderRangeVisibility:function(){this._$range.toggleClass(nt,Boolean(this.option("showRange")))},_renderHandle:function(){this._$handle=this._renderHandleImpl(this.option("value"),this._$handle)},_renderHandleImpl:function(t,i){var f=i||n("<div>").appendTo(this._$range),e=this._normalizeFormat(this.option("tooltip.format")),r=this.option("tooltip.enabled"),u=this.option("tooltip.position");return this.element().toggleClass(y+"bottom",r&&u==="bottom").toggleClass(y+"top",r&&u==="top"),this._createComponent(f,c,{value:t,tooltipEnabled:r,tooltipPosition:u,tooltipFormat:e,tooltipShowMode:this.option("tooltip.showMode"),tooltipFitIn:this.element()}),f},_renderAriaMinAndMax:function(){this.setAria({valuemin:this.option("min"),valuemax:this.option("max")},this._$handle)},_hoverStartHandler:function(t){c.getInstance(n(t.currentTarget)).updateTooltip()},_toggleActiveState:function(n,t){this.callBase(n,t),t&&c.getInstance(n).updateTooltip()},_renderLabels:function(){if(this.element().removeClass(l+"bottom").removeClass(l+"top"),this.option("label.visible")){var i=this.option("min"),r=this.option("max"),u=this.option("label.position"),t=this._normalizeFormat(this.option("label.format"));this._$minLabel||(this._$minLabel=n("<div>").addClass(v).appendTo(this._$wrapper)),this._$minLabel.html(t(i)),this._$maxLabel||(this._$maxLabel=n("<div>").addClass(v).appendTo(this._$wrapper)),this._$maxLabel.html(t(r)),this.element().addClass(l+u)}else this._$minLabel&&(this._$minLabel.remove(),delete this._$minLabel),this._$maxLabel&&(this._$maxLabel.remove(),delete this._$maxLabel)},_normalizeFormat:function(t){var i=t;return i=typeof t=="string"?function(n){return Globalize.format(n,t)}:n.isFunction(t)?n.proxy(i,this):function(n){return n}},_renderDimensions:function(){if(this.callBase(),this._$bar){var n=this._$bar.outerWidth(!0)-this._$bar.outerWidth();this._$bar.width(this.option("width")-n)}},_renderStartHandler:function(){var t=o.addNamespace(s.down,this.NAME),i=o.addNamespace("dxclick",this.NAME),r=this._createAction(n.proxy(this._startHandler,this));this.element().off(t).on(t,function(n){o.isMouseEvent(n)&&r({jQueryEvent:n})}).off(i).on(i,n.proxy(function(n){var t=this._activeHandle();t&&t.focusin()&&t.focus(),r({jQueryEvent:n})},this))},_itemWidthFunc:function(){return this._itemWidthRatio},_swipeStartHandler:function(t){var u=this.option("rtlEnabled"),i,r;o.isTouchEvent(t.jQueryEvent)&&this._createAction(n.proxy(this._startHandler,this))({jQueryEvent:t.jQueryEvent}),this._feedbackDeferred=n.Deferred(),h.lock(this._feedbackDeferred),this._toggleActiveState(this._activeHandle(),this.option("activeStateEnabled")),this._startOffset=this._currentRatio,i=this._startOffset*this._swipePixelRatio(),r=(1-this._startOffset)*this._swipePixelRatio(),t.jQueryEvent.maxLeftOffset=u?r:i,t.jQueryEvent.maxRightOffset=u?i:r,this._itemWidthRatio=this.element().width()/this._swipePixelRatio(),this._needPreventAnimation=!0},_swipeEndHandler:function(n){this._feedbackDeferred.resolve(),this._toggleActiveState(this._activeHandle(),!1);var t=this.option("rtlEnabled")?-1:1;delete this._needPreventAnimation,this._changeValueOnSwipe(this._startOffset+t*n.jQueryEvent.targetOffset/this._swipePixelRatio()),delete this._startOffset,this._renderValue()},_activeHandle:function(){return this._$handle},_swipeUpdateHandler:function(n){this._saveValueChangeEvent(n),this._updateHandlePosition(n)},_updateHandlePosition:function(n){var i=this.option("rtlEnabled")?-1:1,t=this._startOffset+i*n.jQueryEvent.offset/this._swipePixelRatio();this._$range.width(t*100+"%"),c.getInstance(this._activeHandle()).fitTooltipPosition,this._changeValueOnSwipe(t)},_swipePixelRatio:function(){var n=this.option("min"),t=this.option("max"),i=this._valueStep(this.option("step"));return(t-n)/i},_valueStep:function(n){return(!n||isNaN(n))&&(n=1),n=parseFloat(n.toFixed(5)),n===0&&(n=1e-5),n},_changeValueOnSwipe:function(n){var t=this.option("min"),u=this.option("max"),r=this._valueStep(this.option("step")),o=n*(u-t),i=t+o;if(!(r<0))if(i===u||i===t)this.option("value",i);else{var f=(r+"").split(".")[1],e=(t+"").split(".")[1],s=Math.max(f&&f.length||0,e&&e.length||0),h=Math.round((i-t)/r);i=Number((h*r+t).toFixed(s)),this.option("value",Math.max(Math.min(i,u),t))}},_startHandler:function(n){var t=n.jQueryEvent;this._currentRatio=(o.eventData(t).x-this._$bar.offset().left)/this._$bar.width(),this.option("rtlEnabled")&&(this._currentRatio=1-this._currentRatio),this._saveValueChangeEvent(t),this._changeValueOnSwipe(this._currentRatio)},_renderValue:function(){this.callBase();var n=this.option("value");c.getInstance(this._activeHandle()).option("value",n)},_setRangeStyles:function(n){this._$range.css(n)},_callHandlerMethod:function(n,t){c.getInstance(this._$handle)[n](t)},_repaintHandle:function(){this._callHandlerMethod("repaint")},_fitTooltip:function(){this._callHandlerMethod("fitTooltipPosition")},_optionChanged:function(n){switch(n.name){case"visible":this.callBase(n),this._renderHandle(),this._repaintHandle(),i.triggerShownEvent(this.element());break;case"min":case"max":this._renderLabels(),this._renderAriaMinAndMax(),this.callBase(n),this._fitTooltip();break;case"step":this._renderValue();break;case"keyStep":break;case"showRange":this._renderRangeVisibility();break;case"tooltip":this._renderHandle();break;case"label":this._renderLabels();break;case"rtlEnabled":this._toggleRTLDirection(),this._renderValue();break;default:this.callBase(n)}},_refresh:function(){this._renderDimensions(),this._renderValue(),this._renderHandle(),this._repaintHandle()}});return u("dxSlider",e,p),p}),DevExpress.require(["/ui/widgets/track/ui.slider"]),DevExpress.define("/ui/widgets/track/ui.rangeSlider",["jquery","/utils/utils.string","/ui/widgets/track/ui.sliderHandle","/ui/widgets/track/ui.slider","/componentRegistrator","/ui/uiNamespace","/ui/events/ui.events.utils"],function(n,t,i,r,u,f,e){var s="dx-rangeslider",o=s+"-start-handle",c=s+"-end-handle",h=r.inherit({_supportedKeys:function(){var i=this.option("rtlEnabled"),t=this,r=function(n,i){t.option("start")===t.option("end")&&(t._capturedHandle=i,n.target=t._capturedHandle,t._capturedHandle.focus())},u=function(r,u,f){var h=n(r.target).hasClass(o),e=h?"start":"end",s=t.option(e);u=t._valueStep(u),s+=f*(i?-u:u),t.option(e,s)},f=function(n,f){r(n,i?t._$handleStart:t._$handleEnd),u(n,f,1)},e=function(n,f){r(n,i?t._$handleEnd:t._$handleStart),u(n,f,-1)};return n.extend(this.callBase(),{leftArrow:function(n){n.preventDefault(),n.stopPropagation(),e(n,this.option("step"))},rightArrow:function(n){n.preventDefault(),n.stopPropagation(),f(n,this.option("step"))},pageUp:function(n){n.preventDefault(),n.stopPropagation(),f(n,this.option("step")*this.option("keyStep"))},pageDown:function(n){n.preventDefault(),n.stopPropagation(),e(n,this.option("step")*this.option("keyStep"))},home:function(t){t.preventDefault(),t.stopPropagation();var i=n(t.target).hasClass(o),r=i?"start":"end",u=i?"min":"start",f=this.option(u);this.option(r,f)},end:function(t){t.preventDefault(),t.stopPropagation();var i=n(t.target).hasClass(o),r=i?"start":"end",u=i?"end":"max",f=this.option(u);this.option(r,f)}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{start:40,end:60})},_render:function(){this.callBase(),this.element().addClass(s),this._callHandlerMethod("repaint")},_renderHandle:function(){this._$handleStart=this._renderHandleImpl(this.option("start"),this._$handleStart).addClass(o),this._$handleEnd=this._renderHandleImpl(this.option("end"),this._$handleEnd).addClass(c),this._updateHandleAriaLabels()},_startHandler:function(n){var i=n.jQueryEvent,t=this._$range,r=t.width(),u=e.eventData(i).x-this._$bar.offset().left,f=t.position().left,o=t.position().left+r,s=this.option("rtlEnabled"),h=(s?-1:1)*((f+o)/2-u)>0;this._capturedHandle=h?this._$handleStart:this._$handleEnd,this.callBase(n)},_updateHandleAriaLabels:function(){this.setAria("label",t.format(Globalize.localize("dxRangeSlider-ariaFrom"),this.option("start")),this._$handleStart),this.setAria("label",t.format(Globalize.localize("dxRangeSlider-ariaTill"),this.option("end")),this._$handleEnd)},_activeHandle:function(){return this._capturedHandle},_updateHandlePosition:function(n){var h=this.option("rtlEnabled"),c=h?-1:1,e=this.option("max"),u=this.option("min"),t=this._startOffset+c*n.jQueryEvent.offset/this._swipePixelRatio(),s,f,o,r;t=t.toPrecision(12),s=t*(e-u)+u,this._updateSelectedRangePosition(t,t),i.getInstance(this._activeHandle()).fitTooltipPosition,this._changeValueOnSwipe(t),f=this.option("start"),o=this.option("end"),f===o&&(r=s<f?this._$handleStart:this._$handleEnd,r.focus(),r&&r!==this._capturedHandle&&(this._updateSelectedRangePosition((f-u)/(e-u),(o-u)/(e-u)),this._toggleActiveState(this._activeHandle(),!1),this._toggleActiveState(r,!0),this._capturedHandle=r),this._updateSelectedRangePosition(t,t),this._changeValueOnSwipe(t))},_updateSelectedRangePosition:function(n,t){var i=this.option("rtlEnabled"),r=this._capturedHandle===this._$handleStart&&i||this._capturedHandle===this._$handleEnd&&!i,u=r?"right":"left";i^r?this._$range.css(u,100-t*100+"%"):this._$range.css(u,n*100+"%")},_changeValueOnSwipe:function(n){this._suppressValueChangeAction(),this.callBase(n),this._resumeValueChangeAction();var f=this._capturedHandle===this._$handleStart?"start":"end",t=this.option("start"),u=this.option("end"),r=this.option("value"),i=this.option("max"),e=this.option("min");t>i&&(t=i,this.option("start",i)),t<e&&(t=e,this.option("start",e)),u>i&&(u=i,this.option("end",i)),r>u&&f==="start"&&(r=u),r<t&&f==="end"&&(r=t),this.option(f,r)},_renderValue:function(){var t=this.option("start"),u=this.option("end"),n=this.option("min"),r=this.option("max"),f=this.option("rtlEnabled");t=Math.max(n,Math.min(t,r)),u=Math.max(t,Math.min(u,r)),this.option("start",t),this.option("end",u);var s=r===n?0:(t-n)/(r-n),h=r===n?0:(u-n)/(r-n),e=parseFloat((s*100).toPrecision(12))+"%",o=parseFloat(((1-h)*100).toPrecision(12))+"%";this._needPreventAnimation||this._setRangeStyles({right:f?e:o,left:f?o:e}),i.getInstance(this._$handleStart).option("value",t),i.getInstance(this._$handleEnd).option("value",u)},_callHandlerMethod:function(n,t){i.getInstance(this._$handleStart)[n](t),i.getInstance(this._$handleEnd)[n](t)},_optionChanged:function(n){switch(n.name){case"start":case"end":this._renderValue(),this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})({start:this.option("start"),end:this.option("end"),jQueryEvent:this._valueChangeEventInstance}),this._saveValueChangeEvent(undefined);break;default:this.callBase(n)}}});return u("dxRangeSlider",f,h),h}),DevExpress.require(["/ui/widgets/track/ui.rangeSlider"]),function(n,t,i){var v=t.ui,u=t.fx,s=t.require("/utils/utils.translator"),d=t.require("/utils/utils.common"),y=t.require("/devices"),g=t.require("/componentRegistrator"),nt=t.require("/ui/ui.widget"),f=t.require("/ui/events/ui.events.utils"),r="dx-gallery",tt=r+"-wrapper",p="dx-gallery-loop",it=r+"-container",w=r+"-active",e=r+"-item",o=e+"-loop",rt="."+e,h=e+"-selected",b=r+"-indicator",c=b+"-item",l="."+c,k=c+"-selected",ut="dxGalleryItemData",a=nt.inherit({_supportedKeys:function(){return n.extend(this.callBase(),{pageUp:n.noop,pageDown:n.noop})},_getDefaultOptions:function(){return n.extend(this.callBase(),{direction:"next",onClick:null,hoverStateEnabled:!0,activeStateEnabled:!0})},_render:function(){this.callBase();var t=this,i=this.element(),n=f.addNamespace("dxclick",this.NAME);i.addClass(r+"-nav-button-"+this.option("direction")).off(n).on(n,function(n){t._createActionByOption("onClick")({jQueryEvent:n})})},_optionChanged:function(n){switch(n.name){case"onClick":case"direction":this._invalidate();break;default:this.callBase(n)}}});a.publicName("dxGalleryNavButton"),g("dxGallery",v,v.CollectionWidget.inherit({_activeStateUnit:rt,_getDefaultOptions:function(){return n.extend(this.callBase(),{activeStateEnabled:!1,animationDuration:400,animationEnabled:!0,loop:!1,swipeEnabled:!0,indicatorEnabled:!0,showIndicator:!0,selectedIndex:0,slideshowDelay:0,showNavButtons:!1,wrapAround:!1,initialItemWidth:i,stretchImages:!1,_itemAttributes:{role:"option"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return y.real().generic&&!y.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this.option("loopItemFocus",this.option("loop"))},_dataSourceOptions:function(){return{paginate:!1}},_itemContainer:function(){return this._$container},_itemClass:function(){return e},_itemDataKey:function(){return ut},_actualItemWidth:function(){var n=this.option("wrapAround")?this._itemsPerPage()+1:this._itemsPerPage();return this.option("stretchImages")?1/n:this.option("wrapAround")?this._itemPercentWidth()*this._itemsPerPage()/(this._itemsPerPage()+1):this._itemPercentWidth()},_itemPercentWidth:function(){var n;return n=this.option("initialItemWidth")?this.option("initialItemWidth")/this.element().outerWidth():1},_itemsPerPage:function(){var n=Math.floor(1/this._itemPercentWidth());return Math.min(n,this._itemsCount())},_pagesCount:function(){return Math.ceil(this._itemsCount()/this._itemsPerPage())},_itemsCount:function(){return(this.option("items")||[]).length},_offsetDirection:function(){return this.option("rtlEnabled")?-1:1},_render:function(){this.element().addClass(r),this.element().toggleClass(p,this.option("loop")),this._renderDragHandler(),this._renderWrapper(),this._renderItemsContainer(),this.callBase(),this._renderContainerPosition(),this._renderItemSizes(),this._renderItemPositions(),this._renderNavButtons(),this._renderIndicator(),this._renderSelectedItem(),this._renderUserInteraction(),this._setupSlideShow(),this._reviseDimensions(),this.setAria({role:"listbox",label:"gallery"})},_dimensionChanged:function(){var n=this.option("selectedIndex")||0;this._clearCacheWidth(),this._renderDuplicateItems(),this._renderItemSizes(),this._renderItemPositions(),this._renderIndicator(),this._renderContainerPosition(this._calculateIndexOffset(n))},_renderDragHandler:function(){var n=f.addNamespace("dragstart",this.NAME);this.element().off(n).on(n,"img",function(){return!1})},_renderWrapper:function(){this._$wrapper||(this._$wrapper=n("<div />").addClass(tt).appendTo(this.element()))},_renderItems:function(n){this.callBase(n),this._loadNextPageIfNeeded()},_renderItemsContainer:function(){this._$container||(this._$container=n("<div>").addClass(it).appendTo(this._$wrapper))},_renderDuplicateItems:function(){var r;if(this.option("loop")){var t=this.option("items")||[],i=t.length,u=i-1,n;if(i){for(this.element().find("."+o).remove(),r=Math.min(this._itemsPerPage(),i),n=0;n<r;n++)this._renderItem(0,t[n]).addClass(o);for(n=0;n<r;n++)this._renderItem(0,t[u-n]).addClass(o)}}},_renderItemSizes:function(t){var r=this._itemElements(),u=this._actualItemWidth();t!==i&&(r=r.slice(t)),r.each(function(t){n(r[t]).outerWidth(u*100+"%")})},_renderItemPositions:function(){var u=this._actualItemWidth(),t=this._itemsCount(),i=this._itemsPerPage(),f=this.element().find("."+o).length,e=t+f-1,r=this.option("wrapAround")?.5:0,s=this._itemFreeSpace(),h=this.option("rtlEnabled");this._itemElements().each(function(f){var o=f,c;f>t+i-1&&(o=e-o-i),c=u*(o+r)+s*(o+1-r),n(this).css(h?"right":"left",c*100+"%")}),this._relocateItems(this.option("selectedIndex"),this.option("selectedIndex"),!0)},_itemFreeSpace:function(){var n=this._itemsPerPage();return this.option("wrapAround")&&(n=n+1),(1-this._actualItemWidth()*n)/(n+1)},_renderContainerPosition:function(t,i){t=t||0;var r=this,e=this._actualItemWidth(),o=t,f=this._offsetDirection()*o*(e+this._itemFreeSpace()),u;return d.isDefined(this._animationOverride)&&(i=this._animationOverride,delete this._animationOverride),i?(r._startSwipe(),u=r._animate(f).done(n.proxy(r._endSwipe,r))):(s.move(this._$container,{left:f*this._elementWidth()}),u=n.Deferred().resolveWith(r)),this._deferredAnimate&&u.done(function(){r._deferredAnimate.resolveWith(r)}),u.promise()},_startSwipe:function(){this.element().addClass(w)},_endSwipe:function(){this.element().removeClass(w)},_animate:function(t,i){var r=this,f=this._$container,e=n.Deferred();return u.animate(this._$container,n.extend({type:"slide",to:{left:t*this._elementWidth()},duration:r.option("animationDuration"),complete:function(){r._needMoveContainerForward()&&s.move(f,{left:0}),r._needMoveContainerBack()&&s.move(f,{left:r._maxContainerOffset()*r._elementWidth()}),e.resolveWith(r)}},i||{})),e},_needMoveContainerForward:function(){return this._$container.position().left*this._offsetDirection()<=-this._maxItemWidth()*this._elementWidth()*this._itemsCount()},_needMoveContainerBack:function(){return this._$container.position().left*this._offsetDirection()>=this._actualItemWidth()*this._elementWidth()},_maxContainerOffset:function(){return-this._maxItemWidth()*(this._itemsCount()-this._itemsPerPage())*this._offsetDirection()},_maxItemWidth:function(){return this._actualItemWidth()+this._itemFreeSpace()},_reviseDimensions:function(){var n=this,t=n._itemElements().first().find(".dx-item-content");t&&!t.is(":hidden")&&(n.option("height")||n.option("height",t.outerHeight()),n.option("width")||n.option("width",t.outerWidth()),this._dimensionChanged())},_renderIndicator:function(){var i,t;if(this._cleanIndicators(),this.option("showIndicator")){for(i=this._$indicator=n("<div>").addClass(b).appendTo(this._$wrapper),t=0;t<this._pagesCount();t++)n("<div>").addClass(c).appendTo(i);this._renderSelectedPageIndicator()}},_cleanIndicators:function(){this._$indicator&&this._$indicator.remove()},_renderSelectedItem:function(){var n=this.option("selectedIndex");this._itemElements().removeClass(h).eq(n).addClass(h)},_renderSelectedPageIndicator:function(){if(this._$indicator){var t=this.option("selectedIndex"),i=this._pagesCount()-1,n=Math.ceil(t/this._itemsPerPage());n=Math.min(i,n),this._$indicator.find(l).removeClass(k).eq(n).addClass(k)}},_renderUserInteraction:function(){var t=this.element(),r=this.option("swipeEnabled")&&this._itemsCount()>1,i;this._createComponent(t,"dxSwipeable",{disabled:this.option("disabled")||!r,onStart:n.proxy(this._swipeStartHandler,this),onUpdated:n.proxy(this._swipeUpdateHandler,this),onEnd:n.proxy(this._swipeEndHandler,this),itemSizeFunc:n.proxy(this._elementWidth,this)}),i=this._createAction(this._indicatorSelectHandler);t.off(f.addNamespace("dxclick",this.NAME),l).on(f.addNamespace("dxclick",this.NAME),l,function(n){i({jQueryEvent:n})})},_indicatorSelectHandler:function(t){var f=t.jQueryEvent,i=t.component,u,r;i.option("indicatorEnabled")&&(u=n(f.target).index(),r=i._fitPaginatedIndex(u*i._itemsPerPage()),i._needLongMove=!0,i.option("selectedIndex",r),i._loadNextPageIfNeeded(r))},_renderNavButtons:function(){var t=this;if(!t.option("showNavButtons")){t._cleanNavButtons();return}t._prevNavButton=n("<div>").appendTo(this._$wrapper),t._createComponent(t._prevNavButton,a,{direction:"prev",onClick:function(){t._prevPage()}}),t._nextNavButton=n("<div>").appendTo(this._$wrapper),t._createComponent(t._nextNavButton,a,{direction:"next",onClick:function(){t._nextPage()}}),this._renderNavButtonsVisibility()},_prevPage:function(){var n=this._itemsPerPage(),t=this.option("selectedIndex")-n;return t===-n&&n===this._itemsCount()?this._relocateItems(t,0):this.goToItem(this._fitPaginatedIndex(t))},_nextPage:function(){var n=this._itemsPerPage(),t=this.option("selectedIndex")+n;return t===n&&n===this._itemsCount()?this._relocateItems(t,0):this.goToItem(this._fitPaginatedIndex(t)).done(this._loadNextPageIfNeeded)},_loadNextPageIfNeeded:function(t){t=t===i?this.option("selectedIndex"):t,this._dataSource&&this._dataSource.paginate()&&this._shouldLoadNextPage(t)&&!this._isDataSourceLoading()&&!this._isLastPage()&&this._loadNextPage().done(n.proxy(function(){this._renderIndicator(),this._renderItemPositions(),this._renderNavButtonsVisibility(),this._renderItemSizes(t)},this))},_shouldLoadNextPage:function(n){var t=this._itemsPerPage();return n+2*t>this.option("items").length},_allowDinamicItemsAppend:function(){return!0},_fitPaginatedIndex:function(n){var t=this._itemsPerPage(),i=n<0?t+n:this._itemsCount()-n;return n>this._itemsCount()-1?(n=0,this._goToGhostItem=!0):i<t&&i>0&&(n=n>0?n-(t-i):n+(t-i)),n},_cleanNavButtons:function(){this._prevNavButton&&(this._prevNavButton.remove(),delete this._prevNavButton),this._nextNavButton&&(this._nextNavButton.remove(),delete this._nextNavButton)},_renderNavButtonsVisibility:function(){var n,r;if(this.option("showNavButtons")&&this._prevNavButton&&this._nextNavButton){var i=this.option("selectedIndex"),u=this.option("loop"),t=this._itemsCount();(this._prevNavButton.show(),this._nextNavButton.show(),u)||(n=i===t-this._itemsPerPage(),r=t<2||i===0,n=this._dataSource&&this._dataSource.paginate()?n&&this._isLastPage():n||t<2,r&&this._prevNavButton.hide(),n&&this._nextNavButton.hide())}},_setupSlideShow:function(){var n=this,t=n.option("slideshowDelay");(clearTimeout(n._slideshowTimer),t)&&(n._slideshowTimer=setTimeout(function(){if(n._userInteraction){n._setupSlideShow();return}n.nextItem(!0).done(n._setupSlideShow)},t))},_elementWidth:function(){return this._cacheElementWidth||(this._cacheElementWidth=this.element().width()),this._cacheElementWidth},_clearCacheWidth:function(){delete this._cacheElementWidth},_swipeStartHandler:function(n){var t;if(this._clearCacheWidth(),this._elementWidth(),t=this._itemsCount(),!t){n.jQueryEvent.cancel=!0;return}if(this._stopItemAnimations(),this._startSwipe(),this._userInteraction=!0,!this.option("loop")){var i=this.option("selectedIndex"),r=t-i-this._itemsPerPage(),u=i,f=this.option("rtlEnabled");n.jQueryEvent.maxLeftOffset=f?u:r,n.jQueryEvent.maxRightOffset=f?r:u}},_stopItemAnimations:function(){u.stop(this._$container,!0)},_swipeUpdateHandler:function(n){var i=this.option("wrapAround")?1:0,t=this._offsetDirection()*n.jQueryEvent.offset*(this._itemsPerPage()+i)-this.option("selectedIndex");t<0&&this._loadNextPageIfNeeded(Math.ceil(Math.abs(t))),this._renderContainerPosition(t)},_swipeEndHandler:function(n){var t=n.jQueryEvent.targetOffset*this._offsetDirection()*this._itemsPerPage(),i=this.option("selectedIndex"),r=this._fitIndex(i-t),u=this._fitPaginatedIndex(r);if(Math.abs(t)<this._itemsPerPage()){this._relocateItems(i);return}if(this._itemsPerPage()===this._itemsCount()){t>0?this._relocateItems(-t):this._relocateItems(0);return}this.option("selectedIndex",u)},_setFocusOnSelect:function(){this._userInteraction=!0;var n=this.itemElements().filter("."+h);this.option("focusedElement",n),this._userInteraction=!1},_flipIndex:function(n){var t=this._itemsCount();return n=n%t,n>(t+1)/2&&(n-=t),n<-(t-1)/2&&(n+=t),n},_fitIndex:function(n){if(!this.option("loop"))return n;var t=this._itemsCount();return(n>=t||n<0)&&(this._goToGhostItem=!0),n>=t&&(n=t-n),n=n%t,n<0&&(n+=t),n},_clean:function(){this.callBase(),this._cleanIndicators(),this._cleanNavButtons()},_dispose:function(){clearTimeout(this._slideshowTimer),this.callBase()},_updateSelection:function(n,t){this._stopItemAnimations(),this._renderNavButtonsVisibility(),this._renderSelectedItem(),this._relocateItems(n[0],t[0]),this._renderSelectedPageIndicator()},_relocateItems:function(n,t,r){t===i&&(t=n);var u=this._calculateIndexOffset(n,t);this._renderContainerPosition(u,this.option("animationEnabled")&&!r).done(function(){this._setFocusOnSelect(),this._userInteraction=!1,this._setupSlideShow()})},_focusInHandler:function(){u.isAnimating(this._$container)||this._userInteraction||this.callBase.apply(this,arguments)},_focusOutHandler:function(){u.isAnimating(this._$container)||this._userInteraction||this.callBase.apply(this,arguments)},_selectFocusedItem:n.noop,_moveFocus:function(){this._stopItemAnimations(),this.callBase.apply(this,arguments);var t=this.itemElements().index(this.option("focusedElement"));this.goToItem(t,this.option("animationEnabled"))},_visibilityChanged:function(n){n&&this._reviseDimensions()},_calculateIndexOffset:function(n,t){t===i&&(t=n);var r=t-n;return this.option("loop")&&!this._needLongMove&&this._goToGhostItem&&(this._isItemOnFirstPage(n)&&this._isItemOnLastPage(t)?r=-this._itemsPerPage():this._isItemOnLastPage(n)&&this._isItemOnFirstPage(t)&&(r=this._itemsPerPage()),this._goToGhostItem=!1),this._needLongMove=!1,r=r-t},_isItemOnLastPage:function(n){return n>=this._itemsCount()-this._itemsPerPage()},_isItemOnFirstPage:function(n){return n<=this._itemsPerPage()},_optionChanged:function(n){var t=n.value;switch(n.name){case"width":case"initialItemWidth":this.callBase.apply(this,arguments),this._dimensionChanged();break;case"animationDuration":this._renderNavButtonsVisibility();break;case"animationEnabled":break;case"loop":this.option("loopItemFocus",t),this.element().toggleClass(p,t),this._renderDuplicateItems(),this._renderItemPositions(),this._renderNavButtonsVisibility();return;case"showIndicator":this._renderIndicator();return;case"showNavButtons":this._renderNavButtons();return;case"slideshowDelay":this._setupSlideShow();return;case"wrapAround":case"stretchImages":this._renderItemSizes(),this._renderItemPositions();break;case"swipeEnabled":case"indicatorEnabled":this._renderUserInteraction();return;default:this.callBase(n)}},goToItem:function(t,r){var u=this.option("selectedIndex"),f=this._itemsCount();return(r!==i&&(this._animationOverride=r),t=this._fitIndex(t),this._deferredAnimate=n.Deferred(),t>f-1||t<0||u===t)?this._deferredAnimate.resolveWith(this).promise():(this.option("selectedIndex",t),this._deferredAnimate.promise())},prevItem:function(n){return this.goToItem(this.option("selectedIndex")-1,n)},nextItem:function(n){return this.goToItem(this.option("selectedIndex")+1,n)}}))}(jQuery,DevExpress),function(n,t,i){var g=t.ui,l=t.fx,u=t.require("/utils/utils.translator"),e=t.require("/utils/utils.version").compare,a=t.require("/utils/utils.viewPort"),nt=a.value,v=a.changeCallback,y=t.require("/utils/utils.topOverlay").hideCallback,o=t.require("/utils/utils.position"),f=t.require("/utils/utils.math").fitIntoRange,s=t.require("/utils/utils.dom"),tt=t.require("/utils/utils.common"),h=t.require("/devices"),it=t.require("/componentRegistrator"),rt=t.require("/ui/ui.widget"),ut=t.require("/ui/ui.keyboardProcessor"),ft=t.require("/integration/jquery/jquery.selectors"),r=t.require("/ui/events/ui.events.utils"),et=t.require("/ui/events/pointer/ui.events.pointer"),ot="dx-overlay",st="dx-overlay-wrapper",ht="dx-overlay-content",ct="dx-overlay-shader",lt="dx-overlay-modal",at="dx-state-invisible",vt="content",yt="dx-rtl",p=["onShowing","onShown","onHiding","onHidden","onPositioning","onPositioned","onResizeStart","onResize","onResizeEnd"],w=1e3,pt=[],wt="dx-state-disabled",bt=9,c=h.real(),b=c.version,k=c.platform==="ios",kt=k&&e(b,[7,1])<0,dt=c.platform==="android"&&e(b,[4,0],2)===0&&navigator.userAgent.indexOf("Chrome")===-1,gt=function(n){if(kt&&n.width(),dt){var t=n.parents(),i=t.is(".dx-scrollable-native");i||(t.css("backface-visibility","hidden"),t.css("backface-visibility"),t.css("backface-visibility","visible"))}},d=function(t){return t&&n(t instanceof n.Event?t.target:t)};it("dxOverlay",g,rt.inherit({_supportedKeys:function(){var t=5,i=function(n,t,i){if(this.option("dragEnabled")){i.preventDefault(),i.stopPropagation();var r=this._allowedOffsets(),u={top:f(n,-r.top,r.bottom),left:f(t,-r.left,r.right)};this._changePosition(u)}};return n.extend(this.callBase(),{escape:function(){this.hide()},upArrow:n.proxy(i,this,-t,0),downArrow:n.proxy(i,this,t,0),leftArrow:n.proxy(i,this,0,-t),rightArrow:n.proxy(i,this,0,t)})},_getDefaultOptions:function(){return n.extend(this.callBase(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",position:{my:"center",at:"center"},width:function(){return n(window).width()*.8},minWidth:null,maxWidth:null,height:function(){return n(window).height()*.8},minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,to:{opacity:0,scale:.55},from:{opacity:1,scale:1}}},closeOnOutsideClick:!1,closeOnBackButton:!0,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",dragEnabled:!1,resizeEnabled:!1,onResizeStart:null,onResize:null,onResizeEnd:null,target:i,container:i,hideTopOverlayHandler:i,closeOnTargetScroll:!1,onPositioning:null,onPositioned:null,boundaryOffset:{h:0,v:0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var t=h.real(),i=t.platform,r=t.version;return i==="android"&&e(r,[4,2])<0},options:{animation:{show:{type:"fade",duration:400},hide:{type:"fade",duration:400,to:{opacity:0},from:{opacity:1}}}}}])},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{animation:!0})},_getAnonymousTemplateName:function(){return vt},_wrapper:function(){return this._$wrapper},_container:function(){return this._$content},_eventBindingTarget:function(){return this._$content},_init:function(){this.callBase(),this._initActions(),this._initCloseOnOutsideClickHandler(),this._$wrapper=n("<div>").addClass(st),this._$content=n("<div>").addClass(ht);var t=this.element();this._$wrapper.addClass(t.attr("class")),t.addClass(ot),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true");this._$wrapper.on("MSPointerDown",n.noop);this._toggleViewPortSubscriptiion(!0)},_initOptions:function(n){this._initTarget(n.target),this._initContainer(n.container),this._initHideTopOverlayHandler(n.hideTopOverlayHandler),this.callBase(n)},_initTarget:function(t){if(tt.isDefined(t)){var i=this.option();n.each(["position.of","animation.show.from.position.of","animation.show.to.position.of","animation.hide.from.position.of","animation.hide.to.position.of"],function(r,u){for(var e=u.split("."),f=i;f;)if(e.length===1){n.isPlainObject(f)&&(f[e.shift()]=t);break}else f=f[e.shift()]})}},_initContainer:function(t){t=t===i?nt():t;var u=this.element(),r=u.closest(t);r.length||(r=n(t).first()),this._$container=r.length?r:u.parent()},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t!==i?t:n.proxy(this._defaultHideTopOverlayHandler,this)},_defaultHideTopOverlayHandler:function(){this.hide()},_initActions:function(){this._actions={},n.each(p,n.proxy(function(t,i){this._actions[i]=this._createActionByOption(i,{excludeValidators:["disabled","readOnly"]})||n.noop},this))},_initCloseOnOutsideClickHandler:function(){this._proxiedDocumentDownHandler=n.proxy(function(){this._documentDownHandler.apply(this,arguments)},this)},_documentDownHandler:function(t){var i,r,u;if(this._isTopOverlay()){if(this._showAnimationProcessing){this._stopAnimation();return}i=this.option("closeOnOutsideClick"),n.isFunction(i)&&(i=i(t)),i&&(r=this._$content,u=!r.is(t.target)&&!n.contains(r.get(0),t.target),u&&(this.option("shading")&&t.preventDefault(),this.hide()))}},_isTopOverlay:function(){var n=this._zIndexStack();return n[n.length-1]===this._zIndex},_zIndexStack:function(){return pt},_zIndexInitValue:function(){return w},_toggleViewPortSubscriptiion:function(t){v.remove(this._viewPortChangeHandle),t&&(this._viewPortChangeHandle=n.proxy(this._viewPortChangeHandler,this),v.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._initContainer(this.option("container")),this._refresh()},_renderVisibilityAnimate:function(n){return this._stopAnimation(),n?this._show():this._hide()},_normalizePosition:function(){this._position=this.option("position")},_show:function(){if(this._isParentHidden())return n.Deferred().resolve();if(this._currentVisible)return n.when().promise();this._currentVisible=!0,this._normalizePosition();var t=this,r=n.Deferred(),u=t.option("animation")||{},i=this._normalizeAnimation(u.show,"to"),f=i&&i.start||n.noop,e=i&&i.complete||n.noop;return this._isHidingActionCancelled?(delete this._isHidingActionCancelled,r.resolve()):(this._renderVisibility(!0),this._animate(i,function(){t.option("focusStateEnabled")&&t._focusTarget().focus(),e.apply(this,arguments),t._showAnimationProcessing=!1,t._actions.onShown(),r.resolve()},function(){f.apply(this,arguments),t._showAnimationProcessing=!0})),r.promise()},_normalizeAnimation:function(t,i){return t&&t[i]&&(t=n.extend({type:"slide"},t),n.extend(t[i],{position:this._position})),t},_hide:function(){if(!this._currentVisible)return n.when().promise();this._currentVisible=!1;var r=this,t=n.Deferred(),f=this.option("animation")||{},i=this._normalizeAnimation(f.hide,"from"),e=i&&i.complete||n.noop,u={cancel:!1};this._actions.onHiding(u);return u.cancel?(this._isHidingActionCancelled=!0,this.option("visible",!0),t.resolve()):(this._toggleShading(!1),this._animate(i,function(){r._renderVisibility(!1),e.apply(this,arguments),r._actions.onHidden(),t.resolve()})),t.promise()},_animate:function(t,i,r){if(t){r=r||t.start||n.noop;var u=this._$content;l.animate(this._$content,n.extend({},t,{start:function(){u.css("pointer-events","none"),r.apply(this,arguments)},complete:function(){u.css("pointer-events",""),i.apply(this,arguments)}}))}else i()},_stopAnimation:function(){l.stop(this._$content,!0)},_renderVisibility:function(n){n&&this._isParentHidden()||(this._currentVisible=n,this._stopAnimation(),n||s.triggerHidingEvent(this._$content),this._toggleVisibility(n),this._$content.toggleClass(at,!n),this._updateZIndexStackPosition(n),n?(this._renderContent(),this._actions.onShowing(),this._moveToContainer(),this._renderGeometry(),s.triggerShownEvent(this._$content),s.triggerResizeEvent(this._$content)):this._moveFromContainer(),this._toggleShading(n),this._toggleSubscriptions(n))},_updateZIndexStackPosition:function(t){var i=this._zIndexStack(),r,u;t?(this._zIndex||(r=i.length,this._zIndex=(r?i[r-1]:this._zIndexInitValue())+1,i.push(this._zIndex)),this._$wrapper.css("z-index",this._zIndex),this._$content.css("z-index",this._zIndex)):this._zIndex&&(u=n.inArray(this._zIndex,i),i.splice(u,1),delete this._zIndex)},_toggleShading:function(n){this._$wrapper.toggleClass(lt,this.option("shading")&&!this.option("container")),this._$wrapper.toggleClass(ct,n&&this.option("shading")),this._$wrapper.css("background-color",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(n&&this.option("shading"))},_toggleTabTerminator:function(t){var i=r.addNamespace("keydown",this.NAME);if(t)n(document).on(i,n.proxy(this._tabKeyHandler,this));else n(document).off(i)},_tabKeyHandler:function(t){if(t.keyCode===bt){var i=this._$wrapper.find(ft.tabbable),r=i.first(),u=i.last(),f=!t.shiftKey&&t.target===u.get(0),e=t.shiftKey&&t.target===r.get(0),o=i.length===0,s=n.inArray(t.target,i)===-1;(f||e||o||s)&&(t.preventDefault(),(t.shiftKey?u:r).focusin().focus())}},_toggleSubscriptions:function(n){this._toggleHideTopOverlayCallback(n),this._toggleDocumentDownHandler(n),this._toggleParentsScrollSubscription(n)},_toggleHideTopOverlayCallback:function(n){this._hideTopOverlayHandler&&(n&&this.option("closeOnBackButton")?y.add(this._hideTopOverlayHandler):y.remove(this._hideTopOverlayHandler))},_toggleDocumentDownHandler:function(t){var i=r.addNamespace(et.down,this.NAME);if(t)n(document).on(i,this._proxiedDocumentDownHandler);else n(document).off(i,this._proxiedDocumentDownHandler)},_toggleParentsScrollSubscription:function(t){if(this._position){var f=this._position.of||n(),e=this.option("closeOnTargetScroll"),i=d(f).parents(),u=r.addNamespace("scroll",this.NAME);if(h.real().platform==="generic"&&(i=i.add(window)),this._proxiedTargetParentsScrollHandler=this._proxiedTargetParentsScrollHandler||n.proxy(function(n){this._targetParentsScrollHandler(n)},this),n().add(this._$prevTargetParents).off(u,this._proxiedTargetParentsScrollHandler),t&&e){i.on(u,this._proxiedTargetParentsScrollHandler);this._$prevTargetParents=i}}},_targetParentsScrollHandler:function(t){var i=!1,r=this.option("closeOnTargetScroll");n.isFunction(r)&&(i=r(t)),i||this.hide()},_render:function(){this.callBase(),this._renderVisibility(this.option("visible"))},_renderContent:function(){var n=!this.option("visible")&&this.option("deferRendering"),t=this.option("visible")&&this._isParentHidden();this._contentAlreadyRendered||n||t||(this._contentAlreadyRendered=!0,this.callBase())},_isParentHidden:function(){var t=this.element().parent(),i;return t.is(":visible")?!1:(i=!1,t.add(t.parents()).each(function(){var t=n(this);if(t.css("display")==="none")return i=!0,!1}),i||!n.contains(document,t.get(0)))},_renderContentImpl:function(){var t=this.element(),n;this._$content.appendTo(t),n=this._getTemplate(this.option("contentTemplate")),n&&n.render(this.content()),this._renderDrag(),this._renderResize(),this._renderScrollTerminator()},_renderDrag:function(){var t=this._getDragTarget(),i,u;if(t&&(i=r.addNamespace("dxdragstart",this.NAME),u=r.addNamespace("dxdrag",this.NAME),t.off(i).off(u),this.option("dragEnabled")))t.on(i,n.proxy(this._dragStartHandler,this)).on(u,n.proxy(this._dragUpdateHandler,this))},_renderResize:function(){this._createComponent(this._$content,"dxResizable",{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:n.proxy(this._resizeEndHandler,this),onResize:n.proxy(this._actions.onResize,this),onResizeStart:n.proxy(this._actions.onResizeStart,this),minHeight:100,minWidth:100,area:this._$container})},_resizeEndHandler:function(){this._geometryChangeHandled=!0,this._actions.onResizeEnd()},_renderScrollTerminator:function(){var i=this._wrapper(),t=r.addNamespace("dxscroll",this.NAME);i.off(t).on(t,{validate:function(){return!0},getDirection:function(){return"both"},_toggleGestureCover:n.noop,_clearSelection:n.noop,isNative:!0},function(n){n.originalEvent.originalEvent.type!=="mousemove"&&n.preventDefault()})},_getDragTarget:function(){return this.content()},_dragStartHandler:function(n){n.targetElements=[],this._prevOffset={x:0,y:0};var t=this._allowedOffsets();n.maxTopOffset=t.top,n.maxBottomOffset=t.bottom,n.maxLeftOffset=t.left,n.maxRightOffset=t.right},_deltaSize:function(){var n=this._$content,t=this._$container,i=n.outerWidth(),r=n.outerHeight(),u=t.width(),f=t.height();return{width:u-i,height:f-r}},_dragUpdateHandler:function(n){var t=n.offset,i=this._prevOffset,r={top:t.y-i.y,left:t.x-i.x};this._changePosition(r),this._prevOffset=t},_changePosition:function(n){var t=u.locate(this._$content);u.move(this._$content,{left:t.left+n.left,top:t.top+n.top}),this._geometryChangeHandled=!0},_allowedOffsets:function(){var n=u.locate(this._$content),t=this._deltaSize(),i=t.height>=0&&t.width>=0,r=this.option("boundaryOffset");return{top:i?n.top+r.v:0,bottom:i?-n.top+t.height-r.v:0,left:i?n.left+r.h:0,right:i?-n.left+t.width-r.h:0}},_fireContentReadyAction:function(){this.option("visible")&&this._moveToContainer(),this.callBase.apply(this,arguments)},_moveFromContainer:function(){this._$content.appendTo(this.element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._attachWrapperToContainer(),this._$content.appendTo(this._$wrapper)},_attachWrapperToContainer:function(){var n=this.element();this._$container&&this._$container[0]!==n.parent()[0]?this._$wrapper.appendTo(this._$container):this._$wrapper.appendTo(n)},_renderGeometry:function(){this.option("visible")&&this._renderGeometryImpl()},_renderGeometryImpl:function(){this._stopAnimation(),this._normalizePosition(),this._renderShading(),this._renderDimensions(),this._renderPosition()},_renderShading:function(){var n=this._$wrapper,t=this._getContainer();n.css("position",this._isWindow(t)&&!k?"fixed":"absolute"),this.option("shading")&&n.show(),this._renderShadingDimensions(),this._renderShadingPosition()},_renderShadingPosition:function(){if(this.option("shading")){var n=this._getContainer();o.setup(this._$wrapper,{my:"top left",at:"top left",of:n})}},_renderShadingDimensions:function(){if(this.option("shading")){var n=this._getContainer(),t=this._isWindow(n)?"100%":n.outerWidth(),i=this._isWindow(n)?"100%":n.outerHeight();this._$wrapper.css({width:t,height:i})}},_isWindow:function(t){return!!t&&n.isWindow(t.get(0))},_getContainer:function(){var n=this._position,t=this.option("container"),i=n?n.of||window:null;return d(t||i)},_renderDimensions:function(){if(this._$content.css({minWidth:this.option("minWidth"),maxWidth:this.option("maxWidth"),minHeight:this.option("minHeight"),maxHeight:this.option("maxHeight")}),this._geometryChangeHandled){var n=this._$content,t=this._$container;n.outerWidth(Math.min(n.outerWidth(),t.width())).outerHeight(Math.min(n.outerHeight(),t.height()))}else this._$content.outerWidth(this.option("width")).outerHeight(this.option("height"))},_renderPosition:function(){var t,i,n,r,e;if(this._geometryChangeHandled)r=this._$content,t=u.locate(r),n=this._allowedOffsets(),this._changePosition({top:f(0,-n.top,n.bottom),left:f(0,-n.left,n.right)});else{u.resetPosition(this._$content),this._renderOverlayBoundaryOffset(),t=this._position,i=o.calculate(this._$content,t);this._actions.onPositioning({position:i});e=o.setup(this._$content,i);this._actions.onPositioned({position:e});gt(this._$content)}},_renderOverlayBoundaryOffset:function(){var n=this.option("boundaryOffset");this._$content.css("margin",n.v+"px "+n.h+"px")},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardProcessor=new ut({element:this._$content,handler:this._keyboardHandler,context:this})},_keyboardHandler:function(t){var i=t.originalEvent,r=n(i.target);r.is(this._$content)&&this.callBase.apply(this,arguments)},_isVisible:function(){return this.content().parent().length?this.content().is(":visible")||this.element().is(".dx-state-invisible"):this.callBase()},_visibilityChanged:function(n){n?this.option("visible")&&this._renderVisibilityAnimate(n):this._renderVisibilityAnimate(n)},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){this._contentAlreadyRendered||this.content().empty(),this._cleanFocusState()},_dispose:function(){t.fx.stop(this._$content,!1),this._toggleViewPortSubscriptiion(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._actions=null,this.callBase(),this._$wrapper.remove(),this._$content.remove()},_toggleDisabledState:function(n){this.callBase.apply(this,arguments),this._$content.toggleClass(wt,Boolean(n))},_toggleRTLDirection:function(n){this._$content.toggleClass(yt,n)},_optionChanged:function(t){var i=t.value;if(n.inArray(t.name,p)>-1){this._initActions();return}switch(t.name){case"dragEnabled":this._renderDrag(),this._renderGeometry();break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"shading":case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"minWidth":case"maxWidth":case"height":case"minHeight":case"maxHeight":case"position":case"boundaryOffset":this._renderGeometry();break;case"visible":this._renderVisibilityAnimate(i).done(n.proxy(function(){this._animateDeferred&&this._animateDeferred.resolveWith(this)},this));break;case"target":this._initTarget(i),this._invalidate();break;case"container":this._initContainer(i),this._invalidate();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._invalidate();break;case"closeOnBackButton":this._toggleHideTopOverlayCallback(this.option("visible"));break;case"closeOnOutsideClick":this._toggleDocumentDownHandler(this.option("visible"));break;case"closeOnTargetScroll":this._toggleParentsScrollSubscription(this.option("visible"));break;case"animation":break;default:this.callBase(t)}},toggle:function(t){if(t=t===i?!this.option("visible"):t,t===this.option("visible"))return n.Deferred().resolve().promise();var r=n.Deferred();return this._animateDeferred=r,this.option("visible",t),r.promise().done(n.proxy(function(){delete this._animateDeferred},this))},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return this._$content},repaint:function(){this._renderGeometry()}})),DevExpress.ui.dxOverlay.baseZIndex=function(n){w=n}}(jQuery,DevExpress),function(n,t){var f=t.ui,o=t.require("/utils/utils.common"),s=t.require("/componentRegistrator"),e="dx-toast",r=e+"-",h=r+"wrapper",c=r+"content",l=r+"message",a=r+"icon",v="dxToast",y=["info","warning","error","success"],p=[],w=8e3,u=null,b={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}};s(v,f,f.dxOverlay.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,to:0}},shading:!1,height:"auto",closeOnBackButton:!1,closeOnSwipe:!0,closeOnClick:!1,resizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(n){return n.platform==="win"&&n.version&&n.version[0]===8},options:{position:"top center",width:function(){return n(window).width()}}},{device:function(n){return n.platform==="win"&&n.version&&n.version[0]===10},options:{position:"bottom right",width:"auto"}},{device:{platform:"android"},options:{closeOnOutsideClick:!0,width:"auto",position:{at:"bottom left",my:"bottom left",offset:"20 -20"},animation:{show:{type:"slide",duration:200,from:{top:n(window).height()}},hide:{type:"slide",duration:200,to:{top:n(window).height()}}}}},{device:function(n){var t=n.deviceType==="phone",i=n.platform==="android",r=n.platform==="win"&&n.version&&n.version[0]===10;return t&&(i||r)},options:{width:function(){return n(window).width()},position:{at:"bottom center",my:"bottom center",offset:"0 0"}}}])},_init:function(){this.callBase(),this._posStringToObject()},_renderContentImpl:function(){this.option("message")&&(this._message=n("<div>").addClass(l).text(this.option("message")).appendTo(this.content())),this.setAria("role","alert",this._message),n.inArray(this.option("type").toLowerCase(),y)>-1&&this.content().prepend(n("<div>").addClass(a)),this.callBase()},_render:function(){this.callBase(),this.element().addClass(e),this._wrapper().addClass(h),this._$content.addClass(r+String(this.option("type")).toLowerCase()),this.content().addClass(c),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")},_toggleCloseEvents:function(t){var i="dx"+t.toLowerCase();this._$content.off(i),this.option("closeOn"+t)&&this._$content.on(i,n.proxy(this.hide,this))},_posStringToObject:function(){if(o.isString(this.option("position"))){var i=this.option("position").split(" ")[0],t=this.option("position").split(" ")[1];this.option("position",n.extend({},b[i]));switch(t){case"center":case"left":case"right":this.option("position").at+=" "+t,this.option("position").my+=" "+t}}},_show:function(){return u&&(clearTimeout(u._hideTimeout),u.hide()),u=this,this.callBase.apply(this,arguments).done(n.proxy(function(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(n.proxy(this.hide,this),this.option("displayTime"))},this))},_hide:function(){return u=null,this.callBase.apply(this,arguments)},_zIndexStack:function(){return p},_zIndexInitValue:function(){return this.callBase()+w},_dispose:function(){clearTimeout(this._hideTimeout),u=null,this.callBase()},_optionChanged:function(n){switch(n.name){case"type":this._$content.removeClass(r+n.previousValue),this._$content.addClass(r+String(n.value).toLowerCase());break;case"message":this._message&&this._message.text(n.value);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":case"position":break;default:this.callBase(n)}}}))}(jQuery,DevExpress),function(n,t,i){var f=t.ui,v=t.require("/utils/utils.translator"),y=t.require("/utils/utils.inflector").camelize,e=t.require("/utils/utils.common"),r=t.require("/devices"),p=t.require("/componentRegistrator"),o=t.require("/ui/widgets/ui.button"),s=t.require("/ui/ui.themes"),u="dx-popup",w="dx-popup-wrapper",h="dx-popup-fullscreen",b="dx-popup-fullscreen-width",k="dx-popup-normal",d="dx-popup-content",g="dx-popup-draggable",c="dx-popup-title",nt="dx-closebutton",l="dx-popup-bottom",tt="dx-template-wrapper",a=["cancel","clear","done"],it=function(n){var u=r.current(),i=u.platform,f="bottom",t="before";if(i==="ios")switch(n){case"cancel":f="top";break;case"clear":f="top",t="after";break;case"done":t="after"}else if(i==="win")t="after";else if(i==="android"&&u.version&&parseInt(u.version[0])>4)switch(n){case"cancel":t="after";break;case"done":t="after"}else i==="android"&&(t="center");return{toolbar:f,location:t}};p("dxPopup",f,f.dxOverlay.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragEnabled:!1,buttons:[],showCloseButton:!1,bottomTemplate:"bottom"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var n=(s.current()||"").split(".")[0];return n==="win8"},options:{width:function(){return n(window).width()}}},{device:function(n){var t=(s.current()||"").split(".")[0];return n.phone&&t==="win8"},options:{position:{my:"top center",at:"top center",offset:"0 0"}}},{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:function(n){return r.real().platform==="generic"&&n.platform==="generic"},options:{dragEnabled:!0}},{device:function(){return r.real().generic&&!r.isSimulator()},options:{focusStateEnabled:!0}}])},_iosAnimation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}},_init:function(){this.callBase(),this.element().addClass(u),this._wrapper().addClass(w),this._$popupContent=this._$content.wrapInner(n("<div>").addClass(d)).children().eq(0)},_render:function(){var n=this.option("fullScreen");this._$content.toggleClass(h,n).toggleClass(k,!n),this.callBase()},_renderContentImpl:function(){this.callBase(),this._renderTitle(),this._renderBottom()},_renderTitle:function(){var t=this._getToolbarItems("top"),i=this.option("title"),u=this.option("showTitle"),f;u&&!!i&&t.unshift({location:r.current().ios?"center":"before",text:i}),u||t.length>0?(this._$title&&this._$title.remove(),f=n("<div>").addClass(c).insertBefore(this.content()),this._$title=this._renderTemplateByType("titleTemplate",t,f).addClass(c),this._renderDrag(),this._executeTitleRenderAction(this._$title)):this._$title&&this._$title.detach()},_renderTemplateByType:function(n,t,i){var u=this._getTemplateByOption(n),f=u.owner()===this.option("templateProvider"),r;return f?(r=u.render(t,i),i.replaceWith(r),r):(r=u.render(i),r.hasClass(tt)&&(i.replaceWith(r),i=r),i)},_executeTitleRenderAction:function(n){this._getTitleRenderAction()({titleElement:n})},_getTitleRenderAction:function(){return this._titleRenderAction||this._createTitleRenderAction()},_createTitleRenderAction:function(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["designMode","disabled","readOnly"]})},_getCloseButton:function(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}},_getCloseButtonRenderer:function(){return n.proxy(function(t,r,u){var f=n("<div>").addClass(nt);this._createComponent(f,o,{icon:"close",onClick:this._createButtonAction(i),_templates:{}}),u.append(f)},this)},_getToolbarItems:function(t){var o=this.option("buttons"),i=[],u,f;return this._buttonsClasses=[],u=r.current().platform,f=0,n.each(o,n.proxy(function(r,o){var h=e.isDefined(o.shortcut),s=h?it(o.shortcut):o,c;h&&u==="ios"&&f<2&&(s.toolbar="top",f++),n.extend(s,e.isDefined(o.toolbar)?{toolbar:o.toolbar}:{}),s&&s.toolbar===t&&(h&&n.extend(s,{location:o.location},this._getButtonByAlias(o)),c=u==="win"||u==="generic",o.shortcut==="done"&&c||o.shortcut==="cancel"&&!c?i.unshift(s):i.push(s))},this)),t==="top"&&this.option("showCloseButton")&&this.option("showTitle")&&i.push(this._getCloseButton()),i},_getButtonByAlias:function(t){var e=this,i=t.shortcut,f,r;return n.inArray(i,a)<0?!1:(f=n.extend({text:Globalize.localize(y(i,!0)),onClick:this._createButtonAction(t.onClick),_templates:{}},t.options||{}),r=u+"-"+i,this._buttonsClasses.push(r),{template:function(t,i,u){var s=n("<div>").addClass(r).appendTo(u);e._createComponent(s,o,f)}})},_createButtonAction:function(n){return this._createAction(n,{afterExecute:function(n){n.component.hide()}})},_renderBottom:function(){var t=this._getToolbarItems("bottom"),i;t.length?(this._$bottom&&this._$bottom.remove(),i=n("<div>").addClass(l).insertAfter(this.content()),this._$bottom=this._renderTemplateByType("bottomTemplate",t,i).addClass(l),this._toggleClasses()):this._$bottom&&this._$bottom.detach()},_toggleClasses:function(){var t=a;n.each(t,n.proxy(function(t,i){var r=u+"-"+i;n.inArray(r,this._buttonsClasses)>=0?(this._wrapper().addClass(r+"-visible"),this._$bottom.addClass(r)):(this._wrapper().removeClass(r+"-visible"),this._$bottom.removeClass(r))},this))},_getDragTarget:function(){return this._$title},_renderGeometryImpl:function(){this._resetContentHeight(),this.callBase.apply(this,arguments),this._setContentHeight()},_resetContentHeight:function(){this._$popupContent.css({height:"auto"})},_renderDrag:function(){this.callBase(),this._$content.toggleClass(g,this.option("dragEnabled"))},_renderResize:function(){this.callBase(),this._$content.dxResizable("option","onResize",n.proxy(this._setContentHeight,this))},_setContentHeight:function(){if(!this._disallowUpdateContentHeight()){var n=this._$content.height();this._$title&&this._$title.is(":visible")&&(n-=this._$title.outerHeight(!0)||0),this._$bottom&&this._$bottom.is(":visible")&&(n-=this._$bottom.outerHeight(!0)||0),this._$popupContent.css({height:n})}},_disallowUpdateContentHeight:function(){var n=this.option("height")==="auto",t=this._$content.css("maxHeight")!=="none",i=parseInt(this._$content.css("minHeight"))>0;return n&&!(t||i)},_renderDimensions:function(){this.option("fullScreen")?this._$content.css({width:"100%",height:"100%"}):this.callBase.apply(this,arguments),this._renderFullscreenWidthClass()},_renderFullscreenWidthClass:function(){this.overlayContent().toggleClass(b,this.overlayContent().outerWidth()===n(window).width())},_renderShadingDimensions:function(){this.option("fullScreen")?this._wrapper().css({width:"100%",height:"100%"}):this.callBase.apply(this,arguments)},_renderPosition:function(){this.option("fullScreen")?v.move(this._$content,{top:0,left:0}):this.callBase.apply(this,arguments)},_optionChanged:function(n){switch(n.name){case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry();break;case"bottomTemplate":this._renderBottom(),this._renderGeometry();break;case"onTitleRendered":this._createTitleRenderAction(n.value);break;case"buttons":this._renderTitle(),this._renderBottom(),this._renderGeometry();break;case"dragEnabled":this._renderDrag();break;case"fullScreen":this._$content.toggleClass(h,n.value),this._refresh();break;case"showCloseButton":this._renderTitle();break;default:this.callBase(n)}},bottomToolbar:function(){return this._$bottom},content:function(){return this._$popupContent},overlayContent:function(){return this._$content}}))}(jQuery,DevExpress),function(n,t){var f=t.ui,o=t.require("/utils/utils.translator"),s=t.require("/utils/utils.string"),u=t.require("/utils/utils.position"),h=t.require("/utils/utils.common"),c=t.require("/componentRegistrator"),l="dx-popover",a="dx-popover-wrapper",v="dx-popover-arrow",y="dx-popover-without-title",e={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},r={left:-1,top:-1,center:0,right:1,bottom:1},p={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}};c("dxPopover",f,f.dxPopup.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{target:window,shading:!1,position:"bottom",closeOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,closeOnTargetScroll:!0,arrowPosition:"",arrowOffset:0,boundaryOffset:{h:10,v:10}})},_defaultOptionsRules:function(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}}]},_init:function(){this.callBase(),this._renderArrow(),this.element().addClass(l),this._wrapper().addClass(a)},_renderArrow:function(){this._$arrow=n("<div>").addClass(v).prependTo(this.overlayContent())},_documentDownHandler:function(n){this._isOutsideClick(n)&&this.callBase(n)},_isOutsideClick:function(t){return!n(t.target).closest(this.option("target")).length},_animate:function(t){t&&t.to&&n.extend(t.to,{position:this._contentPosition}),this.callBase.apply(this,arguments)},_stopAnimation:function(){this.callBase.apply(this,arguments)},_renderTitle:function(){this._wrapper().toggleClass(y,!this.option("showTitle")),this.callBase()},_renderPosition:function(){this.callBase(),this._renderOverlayPosition()},_renderOverlayBoundaryOffset:n.noop,_renderOverlayPosition:function(){this._resetOverlayPosition(),this._updateContentSize();var i=this._getContainerPosition(),n=u.setup(this._$content,i),t=this._getSideByLocation(n);this._togglePositionClass("dx-position-"+t),this._toggleFlippedClass(n.h.flip,n.v.flip),this._renderArrowPosition(t)},_resetOverlayPosition:function(){this._setContentHeight(!0),this._togglePositionClass("dx-position-"+this._positionSide),o.move(this._$content,{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})},_updateContentSize:function(){var n,t,i,r;this._$popupContent&&(n=u.calculate(this._$content,this._getContainerPosition()),n.h.oversize>0&&this._isHorizontalSide()&&!n.h.fit&&(t=this._$content.width()-n.h.oversize,this._$content.width(t)),n.v.oversize>0&&this._isVerticalSide()&&!n.v.fit&&(i=this._$content.height()-n.v.oversize,r=this._$popupContent.height()-n.v.oversize,this._$content.height(i),this._$popupContent.height(r)))},_getContainerPosition:function(){var t=s.pairToObject(this._position.offset||""),i=t.h,u=t.v,o=this._isPopoverInside(),f=(o?-1:1)*r[this._positionSide],e=this._getContentBorderWidth(this._positionSide);return this._isVerticalSide()?u+=f*(this._$arrow.height()-e):this._isHorizontalSide()&&(i+=f*(this._$arrow.width()-e)),n.extend({},this._position,{offset:i+" "+u})},_getContentBorderWidth:function(n){var t=this._$content.css("border-"+n+"-width");return parseInt(t)||0},_getSideByLocation:function(n){var t=n.v.flip,i=n.h.flip;return this._isVerticalSide()&&t||this._isHorizontalSide()&&i||this._isPopoverInside()?e[this._positionSide]:this._positionSide},_togglePositionClass:function(n){this._$wrapper.removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(n)},_toggleFlippedClass:function(n,t){this._$wrapper.toggleClass("dx-popover-flipped-horizontal",n).toggleClass("dx-popover-flipped-vertical",t)},_renderArrowPosition:function(t){this._$arrow.css(e[t],-(this._isVerticalSide(t)?this._$arrow.height():this._$arrow.width()));var u=this._isVerticalSide(t)?"left":"top",f=this._isVerticalSide(t)?"outerWidth":"outerHeight",o=n(this._position.of),a=o.offset()||{top:0,left:0},v=this._$content.offset(),s=this._$arrow[f](),i=v[u],y=this._$content[f](),h=a[u],p=o.get(0).preventDefault?0:o[f](),c=Math.max(i,h),l=Math.min(i+y,h+p),r;r=this.option("arrowPosition")==="start"?c-i:this.option("arrowPosition")==="end"?l-i-s:(c+l)/2-i-s/2,this._$arrow.css(u,r-this._getContentBorderWidth(t)+this.option("arrowOffset"))},_isPopoverInside:function(){var n=this._getPosition(),t=u.setup.normalizeAlign(n.my),i=u.setup.normalizeAlign(n.at);return t.h===i.h&&t.v===i.v},_getPosition:function(){var t=this.option("position");return h.isString(t)&&(t=n.extend({},p[t])),t},_setContentHeight:function(n){n&&this.callBase()},_renderShadingPosition:function(){this.option("shading")&&this._$wrapper.css({top:0,left:0})},_renderShadingDimensions:function(){this.option("shading")&&this._$wrapper.css({width:"100%",height:"100%"})},_normalizePosition:function(){var n=this._getPosition();n.of||(n.of=this.option("target")),n.collision||(n.collision="flip"),n.boundaryOffset||(n.boundaryOffset=this.option("boundaryOffset")),this._positionSide=this._getDisplaySide(n),this._position=n},_getDisplaySide:function(n){var i=u.setup.normalizeAlign(n.my),t=u.setup.normalizeAlign(n.at),f=r[i.h]===r[t.h]&&r[i.v]===r[t.v]?-1:1,e=Math.abs(r[i.h]-f*r[t.h]),o=Math.abs(r[i.v]-f*r[t.v]);return e>o?t.h:t.v},_isVerticalSide:function(n){return n=n||this._positionSide,n==="top"||n==="bottom"},_isHorizontalSide:function(n){return n=n||this._positionSide,n==="left"||n==="right"},_optionChanged:function(n){switch(n.name){case"showTitle":case"title":case"titleTemplate":this.callBase(n),this._renderGeometry();break;case"target":case"boundaryOffset":case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":n.value&&this.option("fullScreen",!1);break;default:this.callBase(n)}},show:function(n){return n&&this.option("target",n),this.callBase()}}))}(jQuery,DevExpress),function(n,t,i){var r=t.ui,u=t.require("/componentRegistrator"),f="dx-tooltip",e="dx-tooltip-wrapper",o=[],s=-500;u("dxTooltip",r,r.dxPopover.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{buttons:[],showCloseButton:!1,showTitle:!1,title:null,titleTemplate:null,onTitleRendered:null,bottomTemplate:null})},_render:function(){this.element().addClass(f),this._wrapper().addClass(e),this.callBase()},_renderContent:function(){this.callBase(),this._contentId=new DevExpress.data.Guid,this._$content.attr({id:this._contentId,role:"tooltip"}),this._toggleAriaDescription(!0)},_toggleAriaDescription:function(t){var r=n(this.option("target")),u=t?this._contentId:i;this.setAria("describedby",u,r)},_zIndexStack:function(){return o},_zIndexInitValue:function(){return this.callBase()+s}}))}(jQuery,DevExpress),function(n,t,i){var f=t.ui,r=t.require("/devices"),e=t.require("/componentRegistrator"),o=t.require("/ui/ui.widget"),s=t.require("/ui/widgets/ui.button"),h=t.require("/ui/ui.dataHelper"),c="dx-dropdownmenu",u="dx-dropdownmenu-popup",l=u+"-wrapper",a="dx-dropdownmenu-list",v="dx-dropdownmenu-button",y={popupWidth:"width",popupHeight:"height"},p={buttonIcon:"icon",buttonText:"text",buttonWidth:"width",buttonHeight:"height",buttonTemplate:"template"};e("dxDropDownMenu",f,o.inherit({_supportedKeys:function(){return n.extend(this.callBase(),{tab:function(){this._popup.hide()}})},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{buttonIconSrc:{since:"15.1",alias:"buttonIcon"}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",buttonText:"",buttonIcon:"overflow",buttonWidth:i,buttonHeight:i,buttonTemplate:"content",onButtonClick:null,usePopover:!1,popupWidth:"auto",popupHeight:"auto",activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,popupPosition:"bottom",popupAnimation:i,onItemRendered:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:[{platform:"ios"}],options:{usePopover:!0}},{device:function(){return r.real().generic&&!r.isSimulator()},options:{focusStateEnabled:!0}},{device:[{platform:"android"}],options:{popupPosition:{my:"top "+(this.option("rtlEnabled")?"left":"right"),at:"top "+(this.option("rtlEnabled")?"left":"right"),collision:"flipfit"},popupAnimation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])},_initOptions:function(n){r.current().platform==="android"&&(n.popupPosition||(n.popupPosition={at:(n.usePopover?"bottom ":"top ")+(n.rtlEnabled?"left":"right")})),this.callBase(n)},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this.element().addClass(c),this._initDataSource(),this._initItemClickAction(),this._initButtonClickAction()},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initButtonClickAction:function(){this._buttonClickAction=this._createActionByOption("onButtonClick")},_render:function(){this._renderButton(),this.callBase(),this.setAria({role:"menubar",haspopup:!0,expanded:this.option("opened")})},_clean:function(){this._cleanFocusState(),this._popup.element().remove()},_renderContentImpl:function(){this._renderPopup()},_renderButton:function(){var r=this.element().addClass(v),u=this._buttonOptions(),t,i;this._button=this._createComponent(r,s,u),t=this._supportedKeys(),i=this._button._supportedKeys(),this._supportedKeys=function(){return n.extend(t,i)}},_buttonOptions:function(){return{text:this.option("buttonText"),icon:this.option("buttonIcon"),width:this.option("buttonWidth"),height:this.option("buttonHeight"),template:this.option("buttonTemplate"),focusStateEnabled:!1,onClick:n.proxy(function(n){this.option("opened",!this.option("opened")),this._buttonClickAction(n)},this)}},_toggleMenuVisibility:function(n){var t=n===i?!this._popup.option("visible"):n;this._popup.toggle(t),this.setAria("expanded",t)},_renderPopup:function(){var t=this._$popup=n("<div>").appendTo(this.element()),i=this._popupOptions(),r=!this.option("usePopover");this._popup=this._createComponent(t,"dxPopover",i),this._popup._wrapper().addClass(l),this._popup._wrapper().toggleClass(u,r)},_popupOptions:function(){return{onContentReady:n.proxy(this._popupContentReadyHandler,this),deferRendering:!1,position:this.option("popupPosition"),animation:this.option("popupAnimation"),onOptionChanged:n.proxy(function(n){n.name==="visible"&&this.option("opened",n.value)},this),target:this.element(),height:this.option("popupHeight"),width:this.option("popupWidth")}},_popupContentReadyHandler:function(){var n=this._$popup.dxPopover("instance");this._renderList(n)},_renderList:function(t){var i=t.content(),u=this._listOptions(),r;i.addClass(a),this._list=this._createComponent(i,"dxList",u),this._list._getAriaTarget=n.proxy(function(){return this.element()},this),this._setListDataSource(),r=n(window).height()*.5,i.height()>r&&i.height(r)},_listOptions:function(){return{_keyboardProcessor:this._listProcessor,pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:this._getTemplateByOption("itemTemplate"),onItemClick:n.proxy(function(n){this.option("opened",!1),this._itemClickAction(n)},this),tabIndex:-1,focusStateEnabled:this.option("focusStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),onItemRendered:this.option("onItemRendered"),_itemAttributes:{role:"menuitem"}}},_setListDataSource:function(){this._list&&this._list.option("dataSource",this._dataSource||this.option("items"))},_attachKeyboardEvents:function(){this.callBase.apply(this,arguments),this._listProcessor=this._keyboardProcessor.attachChildProcessor(),this._list&&this._list.option("_keyboardProcessor",this._listProcessor)},_cleanFocusState:function(){this.callBase.apply(this,arguments),delete this._listProcessor},_toggleVisibility:function(n){this.callBase(n),this._button.option("visible",n)},_optionChanged:function(n){var t=n.name,i=n.value;switch(t){case"items":case"dataSource":this._refreshDataSource(),this._setListDataSource();break;case"itemTemplate":this._list&&this._list.option(t,this._getTemplate(i));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"buttonIcon":case"buttonText":case"buttonWidth":case"buttonHeight":case"buttonTemplate":this._button.option(p[t],i),this._renderPopup();break;case"popupWidth":case"popupHeight":this._popup.option(y[t],i);break;case"usePopover":this._invalidate();break;case"focusStateEnabled":case"activeStateEnabled":this._list&&this._list.option(t,i),this.callBase(n);break;case"onItemRendered":this._list&&this._list.option(t,i);break;case"opened":this._toggleMenuVisibility(i);break;case"popupPosition":break;default:this.callBase(n)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)}}).include(h))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/date/ui.dateUtils",["jquery"],function(n){var i=function(){return["year","day","month","day"]},r=6e4,u=r*1440,f=u*365,t=DevExpress.ui.dateUtils={SUPPORTED_FORMATS:["date","time","datetime"],DEFAULT_FORMATTER:function(n){return n},DATE_COMPONENT_TEXT_FORMATTER:function(t,i){var r=n("<div>").addClass("dx-dateview-formatter-container");return n("<span>").text(t).addClass("dx-dateview-value-formatter").appendTo(r),n("<span>").text(i).addClass("dx-dateview-name-formatter").appendTo(r),r},ONE_MINUTE:r,ONE_DAY:u,ONE_YEAR:f,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,1,1),MAX_DATEVIEW_DEFAULT_DATE:new Date((new Date).setHours(23,59,59)+50*f),FORMATS_INFO:{date:{standardPattern:"yyyy-MM-dd",components:i()},time:{standardPattern:"HH:mm",components:["hours","minutes"]},datetime:{standardPattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss'Z'",components:i().concat(["hours","minutes","seconds","milliseconds"])},"datetime-local":{standardPattern:"yyyy'-'MM'-'dd'T'HH':'mm",components:i().concat(["hours","minutes","seconds"])}},FORMATS_MAP:{date:"d",time:"t",datetime:"S","datetime-local":"f"},toStandardDateFormat:function(n,i,r){return r=r||t.FORMATS_INFO[i].standardPattern,Globalize.format(n,r)},fromStandardDateFormat:function(n){return Globalize.parseDate(n,t.FORMATS_INFO.datetime.standardPattern)||Globalize.parseDate(n,t.FORMATS_INFO["datetime-local"].standardPattern)||Globalize.parseDate(n,t.FORMATS_INFO.time.standardPattern)||Globalize.parseDate(n,t.FORMATS_INFO.date.standardPattern)||Date.parse&&Date.parse(n)&&new Date(Date.parse(n))},getMaxMonthDay:function(n,t){return new Date(n,t+1,0).getDate()},mergeDates:function(i,r,u){if(!r)return undefined;isNaN(i.getTime())&&(i=new Date(0,0,0,0,0,0));var f=t.FORMATS_INFO[u];return n.each(f.components,function(){var n=t.DATE_COMPONENTS_INFO[this];i[n.setter](r[n.getter]())}),i},getLongestCaptionIndex:function(n){for(var i=0,r=0,t=0;t<n.length;++t)n[t].length>r&&(i=t,r=n[t].length);return i},expandPattern:function(n){return n.length===1?Globalize.culture().calendar.patterns[n]:n},formatUsesMonthName:function(n){return t.expandPattern(n).indexOf("MMMM")!==-1},formatUsesDayName:function(n){return t.expandPattern(n).indexOf("dddd")!==-1},getLongestDate:function(n,i,r){var u=new Date(1888,t.formatUsesMonthName(n)?t.getLongestCaptionIndex(i):9,21,23,59,59,999);return t.formatUsesDayName(n)&&u.setDate(u.getDate()-u.getDay()+t.getLongestCaptionIndex(r)),u},calculateMaximumDateFormatWidth:function(i,r,u){if(!u||n(u).is(":visible")){var e,o=2,f=n("<div>"+Globalize.format(t.getLongestDate(i,Globalize.culture().calendar.months.names,Globalize.culture().calendar.days.names),i)+"<\/div>").css({visibility:"hidden","white-space":"nowrap",position:"absolute",float:"left"});return r&&f.css(r),f.appendTo(u?n(u):n("body")),e=f.width()+o,f.remove(),e}}};return t.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",possibleFormats:["yy","yyyy"],formatter:t.DEFAULT_FORMATTER,startValue:undefined,endValue:undefined},day:{getter:"getDate",setter:"setDate",possibleFormats:["d","dd"],formatter:function(n,i,r){if(!i)return n;var u=new Date(r.getTime());return u.setDate(n),t.DATE_COMPONENT_TEXT_FORMATTER(n,Globalize.culture().calendar.days.names[u.getDay()])},startValue:1,endValue:undefined},month:{getter:"getMonth",setter:"setMonth",possibleFormats:["M","MM","MMM","MMMM"],formatter:function(n,i){var r=Globalize.culture().calendar.months.names[n];return i?t.DATE_COMPONENT_TEXT_FORMATTER(n+1,r):r},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",possibleFormats:["H","HH","h","hh"],formatter:function(n){return Globalize.format(new Date(0,0,0,n),"HH")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",possibleFormats:["m","mm"],formatter:function(n){return Globalize.format(new Date(0,0,0,0,n),"mm")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",possibleFormats:["s","ss"],formatter:function(n){return Globalize.format(new Date(0,0,0,0,0,n),"ss")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",possibleFormats:["f","ff","fff"],formatter:function(n){return Globalize.format(new Date(0,0,0,0,0,0,n),"fff")},startValue:0,endValue:999}},function(){var i="yyyy'-'MM'-'dd'T'HH':'mm'Z'",r=n("<input>").attr("type","datetime");r.val(t.toStandardDateFormat(new Date,"datetime",i)),r.val()&&(t.FORMATS_INFO.datetime.standardPattern=i)}(),t}),DevExpress.define("/ui/widgets/date/ui.calendar.navigator",["jquery","/ui/ui.widget","/ui/widgets/ui.button","/componentRegistrator"],function(n,t,i){var u="dx-calendar-navigator",f="dx-calendar-navigator-previous-month",e="dx-calendar-navigator-next-month",o="dx-calendar-navigator-previous-view",s="dx-calendar-navigator-next-view",h="dx-calendar-disabled-navigator-link",c="dx-calendar-caption-button";return t.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_render:function(){this.callBase(),this.element().addClass(u),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var t=this,r=this.option("rtlEnabled")?-1:1,u,h,l;this._prevButton=this._createComponent(n("<a>"),i,{focusStateEnabled:!1,icon:"chevronleft",onClick:function(n){t._clickAction({direction:-r,jQueryEvent:n})},_templates:{}}),u=this._prevButton.element().addClass(o).addClass(f),this._nextButton=this._createComponent(n("<a>"),i,{focusStateEnabled:!1,icon:"chevronright",onClick:function(n){t._clickAction({direction:r,jQueryEvent:n})},_templates:{}}),h=this._nextButton.element().addClass(s).addClass(e),this._caption=this._createComponent(n("<a>").addClass(c),i,{focusStateEnabled:!1,onClick:function(n){t._captionClickAction({jQueryEvent:n})},_templates:{}}),l=this._caption.element(),this.element().append(u,l,h)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(n,t){var r="_"+n+"Button",i=this[r];i&&(i.option("disabled",t),i.element().toggleClass(h,t))},_optionChanged:function(n){var t=n.value;switch(n.name){case"text":this._renderCaption(t);break;default:this.callBase(n)}}})}),DevExpress.define("/ui/widgets/date/ui.calendar.baseView",["jquery","/utils/utils.inflector","/utils/utils.date","/ui/ui.widget","/ui/events/ui.events.utils"],function(n,t,i,r,u){var f=r.abstract,l="dx-calendar-other-view",a="dx-calendar-cell",o="dx-calendar-empty-cell",v="dx-calendar-today",s="dx-calendar-selected-date",e="dx-calendar-contoured-date",h=u.addNamespace("dxclick","dxCalendar"),c="dxDateValueKey";return r.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return n.extend(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0})},_init:function(){this.callBase();var n=this.option("value");this.option("value",new Date(n)),this.option("value").valueOf()||this.option("value",new Date(0,0,0,0,0,0))},_render:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this._$table=n("<table>"),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents(),this.element().append(this._$table)},_renderBody:function(){function s(f){var s=t._getCellData(r,f),h=n("<td>").appendTo(e).addClass(a).toggleClass(v,t._isTodayCell(s)).toggleClass(o,t._isDateOutOfRange(s)).toggleClass(l,t._isOtherView(s)).attr("data-value",i.getShortDate(s)).data(c,s);t.setAria({role:"option",label:t.getCellAriaLabel(s)},h),u?u.render({text:t._getCellText(s),date:s,view:t._getViewName()},h,f):h.text(t._getCellText(s))}var t,u,r,f,e;for(this.$body=n("<tbody>").appendTo(this._$table),t=this,u=this.option("cellTemplate"),r=0,f=this.option("rowCount");r<f;r++)e=n("<tr>").appendTo(this.$body),this._iterateCells(s)},_iterateCells:function(n){for(var i=this.option("rtl"),r=this.option("colCount"),t=i?r-1:0;i?t>=0:t<r;)n(t),i?--t:++t},_renderEvents:function(){this._createCellClickAction();this._$table.off(h).on(h,"td",n.proxy(function(t){n(t.currentTarget).hasClass(o)||this._cellClickAction({jQueryEvent:t,value:n(t.currentTarget).data(c)})},this));this.element().off("beforeactivate").on("beforeactivate",function(n){n.preventDefault()})},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_isTodayCell:f,_isDateOutOfRange:f,_isOtherView:f,_getCellText:f,_getCellData:f,_renderContouredDate:function(n){if(this.option("focusStateEnabled")){n=n||this.option("contouredDate");var t=this._$table.find("."+e),i=this._getCellByDate(n);t.removeClass(e),i.addClass(e)}},_dispose:function(){this._keyboardProcessor=undefined,this.callBase()},_changeValue:function(n){if(n){var i=this.option("value"),t=i?new Date(i):new Date;t.setDate(n.getDate()),t.setMonth(n.getMonth()),t.setFullYear(n.getFullYear()),t.setDate(n.getDate()),this.option("value",t)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value"),n=this._getCellByDate(t);this._selectedCell&&this._selectedCell.removeClass(s),n.addClass(s),this._selectedCell=n}},getCellAriaLabel:function(n){return this._getCellText(n)},_getFirstAvailableDate:function(){var n=this.option("date"),t=this.option("min");return n=i.getFirstDateView(this._getViewName(),n),new Date(t&&n<t?t:n)},_getCellByDate:f,isBoundary:f,_optionChanged:function(n){var t=n.name;switch(t){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(n.value);break;case"onCellClick":this._createCellClickAction();break;case"cellTemplate":this._invalidate();break;default:this.callBase(n)}}})}),DevExpress.define("/ui/widgets/date/ui.calendar.views",["jquery","/utils/utils.date","/utils/utils.common","/ui/widgets/date/ui.calendar.baseView"],function(n,t,i,r){var u="dx-calendar-other-month",f="dx-calendar-other-view";return{month:r.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return n.extend(this.callBase(),{firstDayOfWeek:undefined,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find("."+f).addClass(u)},_renderFocusTarget:n.noop,getCellAriaLabel:function(n){return Globalize.format(n,"D")},_renderHeader:function(){var t=this,i=n("<thead>").prependTo(this._$table),r=n("<tr>").appendTo(i);this._iterateCells(function(i){n("<th>").text(t._getDayCaption(t._getFirstDayOfWeek()+i)).appendTo(r)})},getNavigatorCaption:function(){var n=Globalize.culture().calendar.months.names[this.option("date").getMonth()],t=this.option("date").getFullYear();return this.option("rtl")?t+" "+n:n+" "+t},_isTodayCell:function(n){var i=new Date;return t.sameMonthAndYear(n,i)&&n.getDate()===i.getDate()},_isDateOutOfRange:function(n){var i=this.option("min"),r=this.option("max");return!t.dateInRange(n,i,r,"date")},_isOtherView:function(n){return n.getMonth()!==this.option("date").getMonth()},_getCellText:function(n){return n.getDate()},_getDayCaption:function(n){var t=this.option("colCount");return Globalize.culture().calendar.days.namesAbbr[n%t]},_getCellData:function(n,i){var r=t.getFirstMonthDate(this.option("date")),f=r.getDay()-this._getFirstDayOfWeek(),e=this.option("colCount"),u=e*n-f;return u=f<0?u-e:u,r.setDate(r.getDate()+u+i),r},_getFirstDayOfWeek:function(){return this.option("firstDayOfWeek")||Globalize.culture().calendar.firstDay},_getCellByDate:function(n){return this._$table.find("td[data-value='"+t.getShortDate(n)+"']")},isBoundary:function(n){return t.sameMonthAndYear(n,this.option("min"))||t.sameMonthAndYear(n,this.option("max"))}}),year:r.inherit({_getViewName:function(){return"year"},_isTodayCell:function(n){return t.sameMonthAndYear(n,new Date)},_isDateOutOfRange:function(n){return!t.dateInRange(n,t.getFirstMonthDate(this.option("min")),t.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(n){return Globalize.culture().calendar.months.names[n.getMonth()].slice(0,3)},_getCellData:function(n,t){var i=new Date(this.option("date")),r=this.option("colCount");return i.setDate(1),i.setMonth(n*r+t),i},_getCellByDate:function(n){var i=new Date(n);return i.setDate(1),this._$table.find("td[data-value='"+t.getShortDate(i)+"']")},getCellAriaLabel:function(n){return Globalize.format(n,"Y")},getNavigatorCaption:function(){return this.option("date").getFullYear()},isBoundary:function(n){return t.sameYear(n,this.option("min"))||t.sameYear(n,this.option("max"))}}),decade:r.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(n){return t.sameYear(n,new Date)},_isDateOutOfRange:function(n){var i=this.option("min"),r=this.option("max");return!t.dateInRange(n.getFullYear(),i&&i.getFullYear(),r&&r.getFullYear())},_isOtherView:function(n){var i=new Date(n);return i.setMonth(1),!t.sameDecade(i,this.option("date"))},_getCellText:function(n){return n.getFullYear()},_getCellData:function(n,i){var r=this.option("colCount"),u=t.getFirstYearInDecade(this.option("date"))-1+n*r+i;return new Date(u,0,1)},getNavigatorCaption:function(){var n=t.getFirstYearInDecade(this.option("date"));return n+"-"+(n+9)},_isValueOnCurrentView:function(n,i){return t.sameDecade(n,i)},_getCellByDate:function(n){var i=new Date(n);return i.setDate(1),i.setMonth(0),this._$table.find("td[data-value='"+t.getShortDate(i)+"']")},isBoundary:function(n){return t.sameDecade(n,this.option("min"))||t.sameDecade(n,this.option("max"))}}),century:r.inherit({_getViewName:function(){return"century"},_isTodayCell:function(n){return t.sameDecade(n,new Date)},_isDateOutOfRange:function(n){var i=t.getFirstYearInDecade(n),r=t.getFirstYearInDecade(this.option("min")),u=t.getFirstYearInDecade(this.option("max"));return!t.dateInRange(i,r,u)},_isOtherView:function(n){var i=new Date(n);return i.setMonth(1),!t.sameCentury(i,this.option("date"))},_getCellText:function(n){var t=n.getFullYear();return t+" - "+(t+9)},_getCellData:function(n,i){var r=this.option("colCount"),u=t.getFirstDecadeInCentury(this.option("date"))+(-1+n*r+i)*10;return new Date(u,0,1)},_getCellByDate:function(n){var i=new Date(n);return i.setDate(1),i.setMonth(0),i.setFullYear(t.getFirstYearInDecade(i)),this._$table.find("td[data-value='"+t.getShortDate(i)+"']")},getNavigatorCaption:function(){var n=t.getFirstDecadeInCentury(this.option("date"));return n+"-"+(n+99)},isBoundary:function(n){return t.sameCentury(n,this.option("min"))||t.sameCentury(n,this.option("max"))}})}}),DevExpress.define("/ui/widgets/date/ui.calendar",["jquery","/ui/uiNamespace","/utils/utils.translator","/utils/utils.browser","/utils/utils.date","/utils/utils.common","/devices","/ui/widgets/ui.button","/ui/ui.editor","/componentRegistrator","/ui/ui.keyboardProcessor","/ui/widgets/date/ui.calendar.navigator","/ui/widgets/date/ui.calendar.views"],function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v=DevExpress.fx,k="dx-calendar",d="dx-calendar-body",g="dx-calendar-cell",nt="dx-calendar-footer",tt="dx-calendar-today-button",it="dx-calendar-with-footer",rt="dx-calendar-views-wrapper",w="dx-calendar-view",ut="dx-state-focused",p=250,ft=.6,et=1,ot="dxDateValueKey",y={month:3,year:2,decade:1,century:0},b=s.inherit({_activeStateUnit:"."+g,_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:undefined,zoomLevel:"month",maxZoomLevel:"month",minZoomLevel:"century",showTodayButton:!1,cellTemplate:"cell",onCellClick:null,onContouredChanged:null,hasFocus:function(n){return n.hasClass(ut)}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return e.real().generic&&!e.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return n.extend(this.callBase(),{rightArrow:function(n){n.preventDefault(),n.ctrlKey?this._waitRenderView(1):this._moveCurrentDate(1*this._getRtlCorrection())},leftArrow:function(n){n.preventDefault(),n.ctrlKey?this._waitRenderView(-1):this._moveCurrentDate(-1*this._getRtlCorrection())},upArrow:function(n){if(n.preventDefault(),n.ctrlKey)this._navigateUp();else{if(v.isAnimating(this._view.element()))return;this._moveCurrentDate(-1*this._view.option("colCount"))}},downArrow:function(n){if(n.preventDefault(),n.ctrlKey)this._navigateDown();else{if(v.isAnimating(this._view.element()))return;this._moveCurrentDate(1*this._view.option("colCount"))}},home:function(n){n.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),r=this.option("min"),f=u.sameView(t,i,r)?r:u.getViewFirstCellDate(t,i);this.option("currentDate",f)},end:function(n){n.preventDefault();var t=this.option("zoomLevel"),i=this.option("currentDate"),r=this.option("max"),f=u.sameView(t,i,r)?r:u.getViewLastCellDate(t,i);this.option("currentDate",f)},pageUp:function(n){n.preventDefault(),this._waitRenderView(-1)},pageDown:function(n){n.preventDefault(),this._waitRenderView(1)},tab:n.noop,enter:function(){if(this._isMaxZoomLevel()){var t=this._updateTimeComponent(this.option("currentDate"));this.option("value",t)}else this._navigateDown()}})},_moveCurrentDate:function(n){var t=new Date(this.option("currentDate")),i=new Date(t),r=this.option("zoomLevel"),f;switch(r){case"month":i.setDate(t.getDate()+n);break;case"year":i.setMonth(t.getMonth()+n);break;case"decade":i.setFullYear(t.getFullYear()+n);break;case"century":i.setFullYear(t.getFullYear()+10*n)}f=2*n/Math.abs(n),Math.abs(n)>1&&!u.sameView(r,t,i)&&(r==="decade"&&i.setFullYear(t.getFullYear()+n-f),r==="century"&&i.setFullYear(t.getFullYear()+10*(n-f))),this.option("currentDate",i)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var n=this.option("minZoomLevel"),t=this.option("maxZoomLevel"),i=this.option("zoomLevel");y[t]<y[n]||(y[i]>y[t]?this.option("zoomLevel",t):y[i]<y[n]&&this.option("zoomLevel",n))},_initCurrentDate:function(){this.option("currentDate",this._getNormalizedDate(this.option("value"))||this._getNormalizedDate(this.option("currentDate")))},_getNormalizedDate:function(n){return n=u.normalizeDate(n,this._getMinDate(),this._getMaxDate()),f.isDefined(n)?new Date(n):n},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_updateCurrentDate:function(n){var r=this._getMinDate(),u=this._getMaxDate(),t,i;if(r>u){this.option("currentDate",new Date);return}if(t=this._getNormalizedDate(n),n.getTime()!==t.getTime()){this.option("currentDate",new Date(t));return}i=this._getViewsOffset(this._view.option("date"),t),this._view&&i!==0?this._navigate(i,t):(this._renderNavigator(),this._setViewContoured(t))},_setViewContoured:function(n){this.option("hasFocus")(this._focusTarget())&&this._view.option("contouredDate",n)},_getMinDate:function(){return this.option("min")||new Date(1e3,0)},_getMaxDate:function(){return this.option("max")||new Date(3e3,0)},_getViewsOffset:function(n,t){var r=this.option("zoomLevel"),i;if(r==="month")return this._getMonthsOffset(n,t);switch(r){case"century":i=100;break;case"decade":i=10;break;default:i=1}return parseInt(t.getFullYear()/i)-parseInt(n.getFullYear()/i)},_getMonthsOffset:function(n,t){var i=t.getFullYear()-n.getFullYear(),r=t.getMonth()-n.getMonth();return i*12+r},_waitRenderView:function(t){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var i=this._getDateByOffset(t*this._getRtlCorrection());this.option("currentDate",i),setTimeout(n.proxy(function(){this._alreadyViewRender=!1},this))}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(n,t){var i,f,r;return t=new Date(t||this.option("currentDate")),i=t.getDate(),f=u.getDifferenceInMonth(this.option("zoomLevel"))*n,t.setDate(1),t.setMonth(t.getMonth()+f),r=u.getLastMonthDate(t).getDate(),t.setDate(i>r?r:i),t},_focusTarget:function(){return this.element()},_render:function(){this.callBase(),this.element().addClass(k),this._renderBody(),this._renderViews(),this._renderNavigator(),this._renderSwipeable(),this._renderFooter(),this.setAria({role:"listbox",label:Globalize.localize("dxCalendar-ariaWidgetName")}),this._updateAriaSelected(),this._updateAriaId(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){if(!this._$viewsWrapper){var t=n("<div>").addClass(d);this._$viewsWrapper=n("<div>").addClass(rt),t.append(this._$viewsWrapper),this.element().append(t)}},_renderViews:function(){var n,t,i;this.element().addClass(w+"-"+this.option("zoomLevel")),n=this.option("currentDate"),this._view=this._renderSpecificView(n),this._view.option("_keyboardProcessor",this._viewKeyboardProcessor),t=this._getDateByOffset(-1,n),this._beforeView=this._isViewAvailable(t)?this._renderSpecificView(t):null,i=this._getDateByOffset(1,n),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null,this._translateViews()},_renderSpecificView:function(t){var i=a[this.option("zoomLevel")],r=n("<div>").appendTo(this._$viewsWrapper),u=this._viewConfig(t);return new i(r,u)},_viewConfig:function(t){return{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this.option("value"),rtl:this.option("rtlEnabled"),disabled:this.option("disabled")||DevExpress.designMode,tabIndex:undefined,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),onCellClick:n.proxy(this._cellClickHandler,this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel()}},_isViewAvailable:function(n){var t=this.option("zoomLevel"),i=u.getViewMinBoundaryDate(t,this._getMinDate()),r=u.getViewMaxBoundaryDate(t,this._getMaxDate());return u.dateInRange(n,i,r)},_translateViews:function(){i.move(this._view.element(),{left:0}),this._beforeView&&i.move(this._beforeView.element(),{left:this._getViewPosition(-1)}),this._afterView&&i.move(this._afterView.element(),{left:this._getViewPosition(1)})},_getViewPosition:function(n){var t=this.option("rtlEnabled")&&!(r.msie&&r.version[0]!=="8")?-1:1;return n*100*t+"%"},_cellClickHandler:function(n){var r=this.option("zoomLevel"),f=u.getViewDown(r),e=this._isMaxZoomLevel(),t,i;f&&!e?(t=n.jQueryEvent.currentTarget,this._navigateDown(t)):(i=this._updateTimeComponent(n.value),this.option("value",i),this._cellClickAction(n))},_updateTimeComponent:function(n){var t=new Date(n),i=this.option("value");return i&&(t.setHours(i.getHours()),t.setMinutes(i.getMinutes()),t.setSeconds(i.getSeconds()),t.setMilliseconds(i.getMilliseconds())),t},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var f=this.option("zoomLevel"),r,i;this._isMaxZoomLevel()||(r=u.getViewDown(f),r)&&(i=this._view.option("contouredDate")||this._view.option("date"),t&&(i=n(t).data(ot)),this.option("currentDate",i),this.option("zoomLevel",r),this._renderNavigator(),this._animateShowView(),this._setViewContoured(this._getNormalizedDate(i)))},_renderNavigator:function(){if(!this._navigator){var t=n("<div>").prependTo(this.element());this._navigator=new l(t,this._navigatorConfig())}this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:n.proxy(this._navigatorClickHandler,this),onCaptionClick:n.proxy(this._navigateUp,this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(n){var t=this._getDateByOffset(n.direction,this.option("currentDate"));this.option("currentDate",t)},_navigateUp:function(){var i=this.option("zoomLevel"),r=u.getViewUp(i),t;r&&!this._isMinZoomLevel(i)&&(t=this._view.option("contouredDate"),this.option("zoomLevel",r),this.option("currentDate",t||this._view.option("date")),this._renderNavigator(),this._animateShowView().done(n.proxy(function(){this._setViewContoured(t)},this)))},_isMinZoomLevel:function(n){var t=this._getMinDate(),i=this._getMaxDate();return u.sameView(n,t,i)||this.option("minZoomLevel")===n},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!f.isDefined(this._afterView)),this._navigator.toggleButton("prev",!f.isDefined(this._beforeView))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.element(),"dxSwipeable",{onStart:n.proxy(this._swipeStartHandler,this),onUpdated:n.proxy(this._swipeUpdateHandler,this),onEnd:n.proxy(this._swipeEndHandler,this),itemSizeFunc:n.proxy(this._viewWidth,this)}))},_swipeStartHandler:function(n){v.stop(this._$viewsWrapper,!0),n.jQueryEvent.maxLeftOffset=this._afterView?1:0,n.jQueryEvent.maxRightOffset=this._beforeView?1:0},_swipeUpdateHandler:function(n){var t=n.jQueryEvent.offset;i.move(this._$viewsWrapper,{left:t*this._viewWidth()}),this._updateNavigatorCaption(t)},_swipeEndHandler:function(n){var i=n.jQueryEvent.targetOffset,r=i?i/Math.abs(i):0,t;if(r===0){this._animateWrapper(0,p);return}t=this._getDateByOffset(-r*this._getRtlCorrection()),this._isDateInInvalidRange(t)&&(t=r>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",t)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=this.element().width()),this._viewWidthValue},_updateNavigatorCaption:function(n){n*=this._getRtlCorrection();var t=this._view;n>.5&&this._beforeView?t=this._beforeView:n<-.5&&this._afterView&&(t=this._afterView),this._navigator.option("text",t.getNavigatorCaption())},_isDateInInvalidRange:function(n){if(!this._view.isBoundary(n)){var t=this._getMinDate(),i=this._getMaxDate(),r=u.normalizeDate(n,t,i);return r===t||r===i}},_renderFooter:function(){var t=this.option("showTodayButton"),i;t&&(i=this._createComponent(n("<a>"),o,{focusStateEnabled:!1,text:Globalize.localize("dxCalendar-todayButtonText"),onClick:n.proxy(function(){this._toTodayView()},this),_templates:{}}).element().addClass(tt),this._$footer=n("<div>").addClass(nt).append(i),this.element().append(this._$footer)),this.element().toggleClass(it,t)},_animateShowView:function(){return v.stop(this._view.element(),!0),this._popAnimationView(this._view,ft,et,p).promise()},_popAnimationView:function(n,t,i,r){return v.animate(n.element(),{type:"pop",from:{scale:t,opacity:t},to:{scale:i,opacity:i},duration:r})},_navigate:function(t,i){var r;v.isAnimating(this._$viewsWrapper)&&v.stop(this._$viewsWrapper,!0),t!==0&&Math.abs(t)!==1&&this._isViewAvailable(i)&&(r=this._renderSpecificView(i),t>0?(this._afterView&&this._afterView.element().remove(),this._afterView=r):(this._beforeView&&this._beforeView.element().remove(),this._beforeView=r),this._translateViews());var f=this._getRtlCorrection(),e=t>0?1:t<0?-1:0,u=-f*e*this._viewWidth(),o=this._$viewsWrapper.position().left;o!==u&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,i):this._animateWrapper(u,p).done(n.proxy(this._wrapperAnimationEndHandler,this,t,i)))},_animateWrapper:function(n,t){return v.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:n},duration:t})},_toTodayView:function(){var n=new Date;if(this._isMaxZoomLevel()){this.option("value",n);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this.option("value",n),this._animateShowView(),this._preventViewChangeAnimation=!1},_wrapperAnimationEndHandler:function(n,t){this._rearrangeViews(n),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t)},_rearrangeViews:function(n){var r,t,i,u,f;n!==0&&(n<0?(r=1,t="_beforeView",i="_afterView"):(r=-1,t="_afterView",i="_beforeView"),this[t])&&(u=this[t].option("date"),this[i]&&this[i].element().remove(),n===r?this[i]=this._view:(this[i]=this._renderSpecificView(this._getDateByOffset(r,u)),this._view.element().remove()),this._view=this[t],f=this._getDateByOffset(-r,u),this[t]=this._isViewAvailable(f)?this._renderSpecificView(f):null)},_resetLocation:function(){i.move(this._$viewsWrapper,{left:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.element().remove(),this._beforeView&&this._beforeView.element().remove(),this._afterView&&this._afterView.element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(n){var t=n?new Date(n):null;this._view.option("value",t),this._beforeView&&this._beforeView.option("value",t),this._afterView&&this._afterView.option("value",t)},_updateAriaSelected:function(n,t){n=n||this.option("value");var i=this._view._getCellByDate(t),r=this._view._getCellByDate(n);this.setAria("selected",undefined,i),this.setAria("selected",!0,r),n&&this.option("currentDate").getTime()===n.getTime()&&this._updateAriaId(n,t)},_updateAriaId:function(n,t){n=n||this.option("currentDate");var i=new DevExpress.data.Guid,r=this._view._getCellByDate(t),u=this._view._getCellByDate(n);this.setAria("id",undefined,r),this.setAria("id",i,u),this.setAria("activedescendant",i),this._onContouredChanged(i)},_optionChanged:function(n){var t=n.value,i=n.previousValue;switch(n.name){case"width":this.callBase(n),this._clearViewWidthCache();break;case"min":case"max":this.option("currentDate",this._getNormalizedDate(this.option("value"))||this._getNormalizedDate(this.option("currentDate"))),this._refreshViews(),this._updateButtonsVisibility();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this._updateCurrentDate(t),this._updateAriaId(t,i);break;case"zoomLevel":this.element().removeClass(w+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":this._updateAriaSelected(t,i),this.option("currentDate",f.isDefined(t)?new Date(t):new Date),this._updateViewsValue(t),this.callBase(n);break;case"disabled":this._view.option("disabled",t),this.callBase(n);break;case"showTodayButton":this._invalidate();break;case"onCellClick":this._view.option("onCellClick",t);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"cellTemplate":this._invalidate();break;case"hasFocus":break;default:this.callBase(n)}}});return h("dxCalendar",t,b),b}),DevExpress.require(["/ui/widgets/date/ui.calendar"]),DevExpress.define("/ui/widgets/date/ui.timeView",["jquery","/ui/uiNamespace","/utils/utils.support","/componentRegistrator","/ui/ui.editor","/ui/widgets/ui.numberBox"],function(n,t,i,r,u,f){var s="dx-timeview",h="dx-timeview-clock",c="dx-timeview-field",l="dx-timeview-hourarrow",a="dx-timeview-minutearrow",e=function(n,t,r){i.transform?y(n,t,r):v(n,t,r)},v=function(n,t,i){var u,f,e,r;t=t/180*Math.PI,u=Math.sin(t),f=Math.cos(t),n.css("filter","none"),e=n.width(),r=n.height(),n.css("filter",'progid:DXImageTransform.Microsoft.Matrix(sizingMethod="auto expand", M11 = '+f+", M12 = "+-u+", M21 = "+u+", M22 = "+f+")");var o=n.width(),s=n.height(),h=(o-e)/2,c=(s-r)/2;n.css("margin-left",-e/2+(r/2-i)*u-h),n.css("margin-top",r/2-(r/2-i)*f-c)},y=function(n,t,i){n.css("transform","rotate("+t+"deg) translate(0,"+i+"px)")},o=u.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{value:new Date(n.now()),_arrowOffset:0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{_arrowOffset:15}},{device:{platform:"generic"},options:{_arrowOffset:5}}])},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.element().addClass(s)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=n("<div>").appendTo(this.element());this._createComponent(t,"dxBox",{height:"100%",width:"100%",direction:"col",items:[{ratio:1,shrink:0,baseSize:"auto",template:n.proxy(this._renderClock,this)},{ratio:0,shrink:0,baseSize:50,template:n.proxy(this._renderField,this)}]})},_renderClock:function(t,i,r){this._$hourArrow=n("<div>").addClass(l),this._$minuteArrow=n("<div>").addClass(a),r.addClass(h).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",r)},_updateClock:function(){var n=this._getValue(),t=n.getHours()*30+n.getMinutes()/2,i=n.getMinutes()*6;e(this._$hourArrow,t,this.option("_arrowOffset")),e(this._$minuteArrow,i,this.option("_arrowOffset"))},_renderField:function(){return this._createHourBox(),this._createMinuteBox(),this._createComponent(n("<div>").addClass(c),"dxBox",{direction:"row",align:"center",crossAlign:"center",items:[{ratio:0,shrink:0,baseSize:"auto",template:n.proxy(function(){return this._hourBox.element()},this)},{ratio:0,shrink:0,baseSize:"auto",template:Globalize.culture().calendar[":"]},{ratio:0,shrink:0,baseSize:"auto",template:n.proxy(function(){return this._minuteBox.element()},this)}]}).element()},_createHourBox:function(){this._hourBox=this._createComponent(n("<div>"),f,n.extend({min:-1,max:24,value:this._getValue().getHours(),onValueChanged:n.proxy(function(n){var i=(24+n.value)%24,t;this._hourBox.option("value",i),t=new Date(this._getValue()),t.setHours(i),this.option("value",t)},this)},this._getNumberBoxConfig())),this._hourBox.setAria("label","hours")},_createMinuteBox:function(){this._minuteBox=this._createComponent(n("<div>"),f,n.extend({min:-1,max:60,value:this._getValue().getMinutes(),onValueChanged:n.proxy(function(n){var i=(60+n.value)%60,t;this._minuteBox.option("value",i),t=new Date(this._getValue()),t.setMinutes(i),this.option("value",t)},this)},this._getNumberBoxConfig())),this._minuteBox.setAria("label","minutes")},_getNumberBoxConfig:function(){return{showSpinButtons:!0,disabled:this.option("disabled"),valueFormat:function(n){return(n<10?"0":"")+n}}},_updateField:function(){this._hourBox&&this._hourBox.option("value",this._getValue().getHours()),this._minuteBox&&this._minuteBox.option("value",this._getValue().getMinutes())},_updateTime:function(){this._updateClock(),this._updateField()},_visibilityChanged:function(n){n&&this._updateTime()},_toggleDisabledState:function(n){this._hourBox&&this._hourBox.option("disabled",n),this._minuteBox&&this._minuteBox.option("disabled",n)},_optionChanged:function(n){switch(n.name){case"value":this._updateTime(),this.callBase(n);break;case"_arrowOffset":break;default:this.callBase(n)}}});return r("dxTimeView",t,o),o}),DevExpress.define("/ui/widgets/date/ui.dateViewRoller",["jquery","/ui/uiNamespace","/ui/widgets/date/ui.dateUtils","/utils/utils.date","/ui/ui.editor","/componentRegistrator","/ui/events/ui.events.utils"],function(n,t,i,r,u,f,e){var h="dx-dateviewroller",c="dx-state-active",l="dx-dateviewroller-current",o="dx-dateview-item",a="dx-dateview-item-selected",v="dx-dateview-item-selected-frame",y="dx-dateview-item-selected-border",s=DevExpress.ui.dxScrollable.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{showScrollbar:!1,useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(n){return n.platform==="win"&&n.version&&n.version[0]===8},options:{showOnClick:!0}},{device:{platform:"generic"},options:{scrollByContent:!0}}])},_init:function(){this.callBase(),this._renderSelectedItemFrame()},_render:function(){this.callBase(),n.each(this._strategy._scrollers,function(t,i){i._correctLocation=n.noop}),this.element().addClass(h),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._wrapAction("_endAction",n.proxy(this._endActionHandler,this)),this._renderSelectedIndexChanged()},_renderSelectedIndexChanged:function(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")},_renderContainerClick:function(){if(this.option("showOnClick")){var n=e.addNamespace("dxclick",this.NAME),t=this._createActionByOption("onClick");this._$container.off(n).on(n,function(n){t({jQueryEvent:n})})}},_wrapAction:function(n,t){var i=this._strategy,r=i[n];i[n]=function(){return t.apply(this,arguments),r.apply(this,arguments)}},_renderItems:function(){var i=this.option("items")||[],t=n();this._$content.empty(),n.each(i,function(){t=t.add(n("<div>").addClass(o).append(this))}),this._$content.append(t),this._$items=t,this.update()},_renderSelectedItemFrame:function(){n("<div>").addClass(v).append(n("<div>").addClass(y)).appendTo(this._$container)},_renderSelectedValue:function(n){var t=this._fitIndex(n||this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()},_fitIndex:function(n){var i=this.option("items")||[],t=i.length;return n>=t?t-1:n<0?0:n},_getItemPosition:function(n){return Math.round(this._itemHeight()*n)},_renderItemsClick:function(){var t=this._getItemSelector(),i=e.addNamespace("dxclick",this.NAME);this.element().off(i,t);this.element().on(i,t,n.proxy(this._itemClickHandler,this))},_getItemSelector:function(){return"."+o},_itemClickHandler:function(n){this.option("selectedIndex",this._itemElementIndex(n.currentTarget))},_itemElementIndex:function(n){return this._itemElements().index(n)},_itemElements:function(){return this.element().find(this._getItemSelector())},_renderActiveStateItem:function(){var t=this.option("selectedIndex");n.each(this._$items,function(i){n(this).toggleClass(a,t===i)})},_moveTo:function(n){n=this._normalizeLocation(n);var i=this._location(),t={x:-(i.left-n.left),y:-(i.top-n.top)};this._isVisible()&&(t.x||t.y)&&(this._strategy._prepareDirections(!0),this._animation?(DevExpress.fx.stop(this._$content),DevExpress.fx.animate(this._$content,{duration:200,type:"slide",to:{top:n.top}}),delete this._animation):this._strategy.handleMove({delta:t}))},_validate:function(n){return this._strategy.validate(n)},_endActionHandler:function(){var t=this.option("selectedIndex"),i=-this._location().top/this._itemHeight(),n=Math.round(i);this._animation=!0,n===t?this._renderSelectedValue(n):this.option("selectedIndex",n)},_itemHeight:function(){var n=this._$items.first();return n.outerHeight()+parseFloat(n.css("margin-top")||0)},_toggleActive:function(n){this.element().toggleClass(c,n)},_isVisible:function(){return this._$container.is(":visible")},_fireSelectedIndexChanged:function(n,t){this._selectedIndexChanged({value:n,previousValue:t,jQueryEvent:undefined})},_visibilityChanged:function(n){this.callBase(n),n?this._renderSelectedValue(this.option("selectedIndex")):this.toggleActiveState(!1)},toggleActiveState:function(n){this.element().toggleClass(l,n)},_refreshSelectedIndex:function(){var n=this.option("selectedIndex"),t=this._fitIndex(n);t===n?this._renderActiveStateItem():this.option("selectedIndex",t)},_optionChanged:function(n){switch(n.name){case"selectedIndex":this._fireSelectedIndexChanged(n.value,n.previousValue),this._renderSelectedValue(n.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:this.callBase(n)}}});return f("dxDateViewRoller",t,s),s}),DevExpress.define("/ui/widgets/date/ui.dateView",["jquery","/ui/uiNamespace","/ui/widgets/date/ui.dateUtils","/utils/utils.date","/ui/ui.editor","/componentRegistrator","/ui/widgets/date/ui.dateViewRoller"],function(n,t,i,r,u,f,e){var h="dx-dateview",l="dx-dateview-wrapper",a="dx-dateview-rollers",v="dx-dateviewroller",s={date:"date",datetime:"datetime",time:"time"},o={year:"year",month:"month",day:"day"},c=u.inherit({_valueOption:function(){return new Date(this.option("value"))==="Invalid Date"?new Date:new Date(this.option("value"))},_getDefaultOptions:function(){return n.extend(this.callBase(),{minDate:i.MIN_DATEVIEW_DEFAULT_DATE,maxDate:i.MAX_DATEVIEW_DEFAULT_DATE,format:s.date,value:new Date,culture:Globalize.culture().name,showNames:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(n){return n.platform==="win"&&n.version&&n.version[0]===8},options:{showNames:!0}}])},_render:function(){this.callBase(),this.element().addClass(h),this._toggleFormatClasses(this.option("format"))},_toggleFormatClasses:function(n,t){this.element().addClass(h+"-"+n),t&&this.element().removeClass(h+"-"+t)},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=n("<div>").addClass(l),this._renderRollers(),this._$wrapper.appendTo(this.element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=n("<div>").addClass(a)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;n.each(t._rollerConfigs,function(i){var r=n("<div>").appendTo(t._$rollersContainer).addClass(v+"-"+t._rollerConfigs[i].type);t._rollers[t._rollerConfigs[i].type]=t._createComponent(r,e,{items:t._rollerConfigs[i].displayItems,selectedIndex:t._rollerConfigs[i].selectedIndex,showScrollbar:!1,onStart:function(n){var r=n.component;r._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[i],r.option("selectedIndex"))},onEnd:function(n){var t=n.component;t._toggleActive(!1)},onClick:function(n){var r=n.component;r._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[i],r.option("selectedIndex")),t._setRollerState(t._rollerConfigs[i],r.option("selectedIndex")),r._toggleActive(!1)},onSelectedIndexChanged:function(n){var r=n.component;t._setRollerState(t._rollerConfigs[i],r.option("selectedIndex"))}})}),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var r=this;t=t||r.option("format"),r._rollerConfigs={},n.each(r._getFormatPattern(t).split(/\W+/),function(t,u){n.each(i.DATE_COMPONENTS_INFO,function(t,i){n.inArray(u,i.possibleFormats)>-1&&r._createRollerConfig(t)})})},_createRollerConfig:function(n){for(var u=i.DATE_COMPONENTS_INFO[n],f=this._calculateRollerConfigValueRange(n),e=f.startValue,s=f.endValue,h=u.formatter,c=this.option("showNames"),o=this._getCurrentDate(),t={type:n,setValue:u.setter,valueItems:[],displayItems:[],getIndex:function(n){return n[u.getter]()-e}},r=e;r<=s;r++)t.valueItems.push(r),t.displayItems.push(h(r,c,o));t.selectedIndex=t.getIndex(o),this._rollerConfigs[n]=t},_setActiveRoller:function(t){var i=t&&this._rollers[t.type];n.each(this._rollers,function(){this.toggleActiveState(this===i)})},_updateRollersPosition:function(){var t=this;n.each(this._rollers,function(n){var i=t._rollerConfigs[n].getIndex(t._getCurrentDate());this.option("selectedIndex",i)})},_setRollerState:function(n,t){if(t!==n.selectedIndex){var f=n.valueItems[t],e=n.setValue,r=new Date(this._getCurrentDate()),u=r.getDate();n.type===o.month?u=Math.min(u,i.getMaxMonthDay(r.getFullYear(),f)):n.type===o.year&&(u=Math.min(u,i.getMaxMonthDay(f,r.getMonth()))),r.setDate(u),r[e](f),this.option("value",r),n.selectedIndex=t}n.type===o.year&&(this._refreshMonthRoller(),this._refreshDayRoller()),n.type===o.month&&this._refreshDayRoller()},_refreshMonthRoller:function(){var t=this._rollers[o.month],n;t&&(this._createRollerConfig(o.month),n=this._rollerConfigs[o.month],n.displayItems.length!==t.option("items").length&&t.option({items:n.displayItems,selectedIndex:n.selectedIndex}))},_refreshDayRoller:function(){var t=this._rollers[o.day],n;t&&(this._createRollerConfig(o.day),n=this._rollerConfigs[o.day],t.option({items:n.displayItems,selectedIndex:n.selectedIndex}))},_getFormatPattern:function(n){var t=Globalize.culture(this.option("culture"));return n===s.date?t.calendar.patterns.d:n===s.time?t.calendar.patterns.t:n===s.datetime?[t.calendar.patterns.d,t.calendar.patterns.t].join(" "):""},_getCurrentDate:function(){var n=this.option("value"),t=this.option("minDate"),i=this.option("maxDate");return t&&n.getTime()<=t.getTime()?n=t:i&&n.getTime()>=i.getTime()&&(n=i),n},_calculateRollerConfigValueRange:function(n){var t=this._getCurrentDate(),u=this.option("minDate"),f=this.option("maxDate"),h=r.sameYear(t,u),a=h&&t.getMonth()===u.getMonth(),c=r.sameYear(t,f),v=c&&t.getMonth()===f.getMonth(),l=i.DATE_COMPONENTS_INFO[n],s=l.startValue,e=l.endValue;return n===o.year&&(s=u.getFullYear(),e=f.getFullYear()),n===o.month&&(h&&(s=u.getMonth()),c&&(e=f.getMonth())),n===o.day&&(e=i.getMaxMonthDay(t.getFullYear(),t.getMonth()),h&&a&&(s=u.getDate()),c&&v&&(e=f.getDate())),{startValue:s,endValue:e}},_refreshRollers:function(){this._refreshMonthRoller(),this._refreshDayRoller()},_optionChanged:function(n){switch(n.name){case"showNames":case"minDate":case"maxDate":case"culture":case"format":this._renderRollers(),this._toggleFormatClasses(n.value,n.previousValue);break;case"visible":this.callBase(n),n.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(n)}},_clean:function(){this.callBase(),delete this._$rollersContainer},_dispose:function(){clearTimeout(this._deferredRenderDayTimeout),clearTimeout(this._deferredRenderMonthTimeout),this.callBase()}});return f("dxDateView",t,c),c}),DevExpress.define("/ui/widgets/date/ui.dateBox",["jquery","/utils/utils.support","/devices","/ui/ui.errors","/utils/utils.date","/ui/widgets/date/ui.dateUtils","/utils/utils.version","/utils/utils.common","/componentRegistrator","/ui/widgets/ui.dropDownEditor","/ui/uiNamespace"],function(n,t,i,r,u,f,e,o,s,h,c){var b=e.compare,y="dx-datebox",p="dx-datebox-wrapper",l={calendar:"calendar",rollers:"rollers",list:"list","native":"native"},a={date:"date",datetime:"datetime",time:"time"},v={calendar:"Calendar",dateview:"DateView","native":"Native",calendarWithTime:"CalendarWithTime",list:"List"},k=function(n){var t=n[0].style.width;return t&&t!=="auto"&&t!=="inherit"?!0:!1},d=function(t,i,r){var e=10,o=48,u=n("<div>").text(t).css({"font-style":i.css("font-style"),"font-variant":i.css("font-variant"),"font-weight":i.css("font-weight"),"font-size":i.css("font-size"),"font-family":i.css("font-family"),"letter-spacing":i.css("letter-spacing"),"padding-left":i.css("padding-left"),"padding-right":i.css("padding-right"),border:i.css("border"),visibility:"hidden","white-space":"nowrap",position:"absolute",float:"left"}),f;return u.appendTo(r),f=u.outerWidth()+e+(i.prop("type")!=="text"?o:0),u.remove(),f},w=h.inherit({_supportedKeys:function(){return n.extend(this.callBase(),this._strategy.supportedKeys())},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{useNative:{since:"15.1",message:"'useNative' option is deprecated in 15.1. Use the 'pickerType' option instead"},useCalendar:{since:"15.1",message:"'useCalendar' option is deprecated in 15.1. Use the 'pickerType' option instead"}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{format:"date",value:new Date,min:undefined,max:undefined,useCalendar:!1,formatString:"d",interval:30,maxZoomLevel:"month",minZoomLevel:"century",useNative:!0,pickerType:l["native"],invalidDateMessage:Globalize.localize("dxDateBox-validation-datetime"),dateOutOfRangeMessage:Globalize.localize("validation-range")})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showPopupTitle:!0}},{device:function(n){return n.platform==="android"},options:{buttonsLocation:"bottom after"}},{device:function(n){return n.platform==="win"&&n.version&&n.version[0]===8},options:{buttonsLocation:"bottom after"}},{device:function(n){return n.platform==="win"&&n.version&&n.version[0]===10},options:{buttonsLocation:"bottom center"}},{device:function(){var t=i.real(),n=t.platform,r=t.version;return n==="generic"||n==="win"||n==="android"&&b(r,[4,4])<0},options:{pickerType:l.rollers}},{device:{platform:"generic",deviceType:"desktop"},options:{pickerType:l.calendar,buttonsLocation:"bottom after"}},{device:function(){var n=i.real(),t=n.platform,r=n.phone;return t==="win"&&!r},options:{pickerType:l.calendar}}])},_initOptions:function(t){this._userOptions=n.extend({},t),this.callBase(t),this._updatePickerOptions(this._userOptions)},_updatePickerOptions:function(n){var t=this._getPickerTypeByDepricatedOptions(n),r=this.option("format");t===l.list&&(r===a.datetime||r===a.date)&&(t=l.calendar),r===a.time&&t===l.calendar&&(t=l.list),this.option("showDropButton",i.real().platform!=="generic"||t!==l["native"]),this._pickerType=t},_getPickerTypeByDepricatedOptions:function(n){return n.pickerType?n.pickerType:o.isDefined(n.useCalendar)||o.isDefined(n.useNative)?this._getPickerType():this._pickerType||this.option("pickerType")},_getPickerType:function(){return this.option().useCalendar?this.option("format")===a.time?l.list:l.calendar:this.option().useNative?l["native"]:l.rollers},_init:function(){this._initStrategy(),this.option(n.extend({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(n){return n.charAt(0).toLowerCase()+n.substr(1)},_initStrategy:function(){var n=this._getStrategyName(this._getFormatType()),t=DevExpress.require("/ui/widgets/date/ui.dateBox.strategy."+this._toLowerCaseFirstLetter(n));this._strategy&&this._strategy.NAME===n||(this._strategy=new t(this))},_getFormatType:function(){var t=this.option("format"),i=/h|m|s/g.test(t),r=/d|M|Y/g.test(t),n="";return r&&(n+=a.date),i&&(n+=a.time),n},_getStrategyName:function(n){var t=this._pickerType;return t===l.rollers?this.option().useCalendar?v.calendar:v.dateview:t===l["native"]?v["native"]:n===a.date?v.calendar:n===a.datetime?v.calendarWithTime:v.list},_render:function(){this.element().addClass(y),this._refreshFormatClass(),this._refreshPickerTypeClass(),this.callBase(),this._updateSize(),this._strategy.renderInputMinMax(this._input())},_refreshFormatClass:function(){var t=this.element();n.each(a,n.proxy(function(n,i){t.removeClass(y+"-"+i)},null)),t.addClass(y+"-"+this.option("format"))},_refreshPickerTypeClass:function(){var t=this.element();n.each(l,n.proxy(function(n,i){t.removeClass(y+"-"+i)},null)),t.addClass(y+"-"+this._pickerType)},_updateSize:function(){var n=this.element(),u=this.option("width"),e=o.isDefined(u)||k(n)&&!this._isSizeUpdatable,s=n.is(":visible"),h=this._pickerType,c=h!==l.rollers&&i.current().platform==="generic";if(!e&&c&&s){var a=this._input(),t=Globalize.culture().calendar,r=this.option("formatString"),v=Globalize.format(f.getLongestDate(r,t.months.names,t.days.names),r);n.width(d(v,a,this.element())),this._isSizeUpdatable=!0}},_attachChildKeyboardEvents:function(){this._strategy.attachKeyboardEvents(this._keyboardProcessor)},_renderPopup:function(){this.callBase(),this._popup._wrapper().addClass(p),this._renderPopupWrapper()},_popupConfig:function(){var t=this.callBase();return n.extend(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.element(),i=n.extend({},a,l);n.each(i,n.proxy(function(n,i){t.removeClass(p+"-"+i)},this)),this._popup._wrapper().addClass(p+"-"+this.option("format")).addClass(p+"-"+this._pickerType)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupHiddenHandler:function(){this.callBase(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(n){n&&this._updateSize()},_readOnlyPropValue:function(){return this.callBase()||this._pickerType===l.rollers},_clearButtonVisibility:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var n=this.option("mode"),t=this.dateOption("value"),i=f.FORMATS_MAP[n],r=this._getPattern(i);this._validateValue(t),n!=="text"?this.option("text",f.toStandardDateFormat(t,n,r)):this.option("text",Globalize.format(t,this.option("formatString"))),this._strategy.renderValue(),this.callBase()},_getPattern:function(n){return t.inputType(this.option("mode"))?null:Globalize.culture().calendar.patterns[n]},_valueChangeEventHandler:function(){var t=this._strategy.getParsedText(this.option("text"),this.option("formatString")),i=this.dateOption("value"),e=new Date(i&&i.valueOf()),r=this.option("mode"),u=(r!=="text"?f.mergeDates(e,t,r):t)||null;this._validateValue(t)?this.dateOption("value",u):this.option().value=null,this.validationRequest.fire({value:u,editor:this})},_validateValue:function(n){var o=this.option("text"),r=!!o,f=!!n,e=f&&u.dateInRange(n,this.dateOption("min"),this.dateOption("max"),this.option("format")),t=!r||!r&&!n||e,i="";return f?e||(i=this.option("dateOutOfRangeMessage")):i=this.option("invalidDateMessage"),this.option({isValid:t,validationError:t?null:{editorSpecific:!0,message:i}}),t},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.renderOpenedState()},_getPopupTitle:function(){var t=this.option("placeholder"),n;return t?t:(n=this.option("format"),n===a.time)?Globalize.localize("dxDateBox-simulatedDataPickerTitleTime"):n===a.date||n===a.datetime?Globalize.localize("dxDateBox-simulatedDataPickerTitleDate"):""},_renderPlaceholder:function(){this._popup&&this._popup.option("title",this._getPopupTitle()),this.callBase()},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(){this.dateOption("value",this._strategy.getValue()),this.callBase()},_dispose:function(){this._strategy&&this._strategy.dispose(),this.callBase()},_isNativeType:function(){return this._pickerType===l["native"]},_optionChanged:function(n){switch(n.name){case"useCalendar":this._updatePickerOptions({useCalendar:n.value}),this._refreshStrategy();break;case"useNative":this._updatePickerOptions({useNative:n.value}),this._refreshStrategy();break;case"showClearButton":this.callBase.apply(this,arguments),this._updateSize();break;case"pickerType":this._updatePickerOptions({pickerType:n.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"format":this._updatePickerOptions({format:n.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._updateSize();break;case"placeholder":this._renderPlaceholder();break;case"readOnly":case"min":case"max":case"interval":case"minZoomLevel":case"maxZoomLevel":this._invalidate();break;case"type":throw r.Error("E1020");case"formatString":this._updateValue();break;case"formatWidthCalculator":break;case"closeOnValueChange":var t=n.value?"instantly":"useButtons";this.option("applyValueMode",t);break;case"applyValueMode":this._suppressDeprecatedWarnings(),this.option("closeOnValueChange",n.value==="instantly"),this._resumeDeprecatedWarnings(),this.callBase.apply(this,arguments);break;case"text":this._strategy.textChangedHandler(n.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._updateSize();break;case"showDropButton":case"invalidDateMessage":case"dateOutOfRangeMessage":break;default:this.callBase.apply(this,arguments)}},_getSerializtionFormat:function(){var n=this.option("value");return o.isNumber(n)?"number":o.isString(n)?this.option("format")==="date"?"yyyy/MM/dd":"yyyy/MM/dd HH:mm:ss":void 0},dateOption:function(n,t){var i=this._getSerializtionFormat();if(arguments.length===1)return u.deserializeDate(this.option(n),i);this.option(n,u.serializeDate(t,i))},reset:function(){this.callBase(),this._updateValue()}});return s("dxDateBox",c,w),w}),DevExpress.require(["/ui/widgets/date/ui.dateBox"]),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy",["jquery","/class"],function(n,t){var i=t.abstract;return t.inherit({ctor:function(n){this.dateBox=n},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||n("<div>"),this._widget=this._createWidget(t),this._widget.element().appendTo(this._getWidgetContainer())},_createWidget:function(n){var t=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(n,t,i)},_getWidgetOptions:i,_getWidgetName:i,getDefaultOptions:function(){return{mode:"text"}},_getDateTimeFormatString:function(){return Globalize.culture().calendar.patterns.d+" "+Globalize.culture().calendar.patterns.t},supportedKeys:n.noop,attachKeyboardEvents:function(n){this._widgetKeyboardProcessor=n.attachChildProcessor()},getParsedText:function(n,t){return Globalize.parseDate(n,t)},renderInputMinMax:n.noop,renderOpenedState:function(){this.dateBox.option("opened")&&this._updateValue()},popupConfig:i,renderPopupContent:function(){var t=this._getPopup();this._renderWidget();t.content().parent().off("mousedown").on("mousedown",n.proxy(this._preventFocusOnPopup,this))},_preventFocusOnPopup:function(n){n.preventDefault()},_getWidgetContainer:function(){return this._getPopup().content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:n.noop,popupHiddenHandler:n.noop,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},_valueChangedHandler:function(n){this.dateBox.option("opened")&&this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(n.value)},textChangedHandler:n.noop,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},dispose:function(){var n=this._getPopup();n&&n.content().empty()},dateBoxValue:function(){var n=["value"];return arguments.length&&n.push(arguments[0]),this.dateBox.dateOption.apply(this.dateBox,n)}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.calendar",["jquery","/utils/utils.date","/utils/utils.common","/ui/widgets/date/ui.calendar","/ui/widgets/date/ui.dateBox.strategy"],function(n,t,i,r,u){return u.inherit({NAME:"Calendar",supportedKeys:function(){return{tab:function(){this.close()},rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:n.proxy(function(n){if(this.dateBox.option("opened"))if(n.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var t=this._widget._view.option("contouredDate");t&&this.dateBoxValue(t),this.dateBox.close(),this.dateBox._valueChangeEventHandler(n)}else return!0},this)}},getDefaultOptions:function(){return n.extend(this.callBase(),{formatString:Globalize.culture().calendar.patterns.d})},_getWidgetName:function(){return r.publicName()},_getWidgetOptions:function(){return n.extend(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue(),_keyboardProcessor:this._widgetKeyboardProcessor,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:n.proxy(this._valueChangedHandler,this),onCellClick:n.proxy(this._cellClickHandler,this),tabIndex:null,maxZoomLevel:this.dateBox.option("maxZoomLevel"),minZoomLevel:this.dateBox.option("minZoomLevel"),onContouredChanged:n.proxy(this._refreshActiveDescendant,this),hasFocus:function(){return!0}})},_refreshActiveDescendant:function(n){this.dateBox.setAria("activedescendant",n.actionValue)},popupConfig:function(t){var u=t.buttons,f=this.dateBox.option("buttonsLocation"),r=[];return r=f!=="default"?i.splitPair(f):["bottom","center"],this.dateBox.option("applyValueMode")==="useButtons"&&u.unshift({widget:"button",toolbar:r[0],location:r[1]==="after"?"before":r[1],options:{onClick:n.proxy(function(){this._widget._toTodayView()},this),text:Globalize.localize("dxCalendar-todayButtonText"),type:"today"}}),n.extend(!0,t,{buttons:u,position:{collision:"flipfit flip"}})},_valueChangedHandler:function(n){var u=this.dateBox,i=n.value,r=n.previousValue,f=t.sameMonthAndYear(i,r)&&i.getDate()===r.getDate();f||u.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue())},_getParsedValue:function(){return this.getParsedText(this.dateBox.option("text"),this.dateBox.option("formatString"))},_updateValue:function(){var i=this._getParsedValue(),t;this._widget&&(t=this.dateBoxValue(),i&&this._widget.option("value",t))},textChangedHandler:function(){this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(){var n=this.dateBox;n.option("applyValueMode")==="instantly"&&(n.option("opened",!1),this.dateBoxValue(this.getValue()))},dispose:function(){this.dateBox.off("optionChanged"),this.callBase()}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.calendarWithTime",["jquery","/ui/widgets/date/ui.dateBox.strategy.calendar","/ui/widgets/date/ui.timeView"],function(n,t,i){return t.inherit({NAME:"CalendarWithTime",supportedKeys:function(){return n.extend(this.callBase(),{tab:function(n){this.option("opened")===!0&&(n.preventDefault(),this._strategy._timeView._hourBox.focus())}})},getDefaultOptions:function(){return n.extend(this.callBase(),{formatString:this._getDateTimeFormatString(),applyValueMode:"useButtons",buttonsLocation:"bottom after",showPopupTitle:!1})},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent(n("<div>"),i,{value:this.dateBoxValue(),onValueChanged:n.proxy(this._valueChangedHandler,this)})},_updateValue:function(n){var t=this._getParsedValue();t||n||(t=new Date),this.callBase.apply(this,arguments),this._timeView&&t&&this._timeView.option("value",t)},renderPopupContent:function(){this.callBase();var t=this._getPopup().content(),i=this.dateBox._createComponent(n("<div>").appendTo(t),"dxBox",{direction:"row",crossAlign:"start",items:[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"},{ratio:0,shrink:0,baseSize:"auto",name:"time"}],itemTemplate:n.proxy(function(t){switch(t.name){case"calendar":return n("<div>").append(this._widget.element());case"time":return n("<div>").append(this._timeView.element())}},this)});this._removeMinWidthTimer=setTimeout(function(){i.option("_layoutStrategy")==="fallback"&&t.find(".dx-timeview-clock").css("minWidth",0)},0),this._attachTabHandler()},_attachTabHandler:function(){var n=this.dateBox,t=function(t){t.shiftKey&&(t.preventDefault(),n.focus())};this._timeView._hourBox.registerKeyHandler("tab",t)},_preventFocusOnPopup:function(t){n(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},getValue:function(){var n=this._widget.option("value"),t=this._timeView.option("value");return n=n?new Date(n):new Date,n.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),n},dispose:function(){clearTimeout(this._removeMinWidthTimer),this.callBase()}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.dateView",["jquery","/ui/widgets/date/ui.dateUtils","/utils/utils.support","/ui/ui.themes","/ui/widgets/date/ui.dateView","/ui/widgets/date/ui.dateBox.strategy"],function(n,t,i,r,u,f){return f.inherit({NAME:"DateView",getDefaultOptions:function(){var i=this.dateBox.option("format"),t="d";return i==="datetime"?t=this._getDateTimeFormatString():i==="time"&&(t="t"),n.extend(this.callBase(),{openOnFieldClick:!0,applyButtonText:Globalize.localize("Done"),formatString:t})},popupConfig:function(){return{showTitle:!0,buttons:this.dateBox._popupButtonsConfig(),defaultOptionsRules:[{device:function(n){return n.platform==="win"&&n.version&&n.version[0]===8},options:{showNames:!0}},{device:function(n){return n.platform==="win"&&n.phone&&n.version&&n.version[0]===8},options:{animation:null}},{device:function(){var n=(r.current()||"").split(".")[0];return n==="win8"},options:{fullScreen:!0}},{device:{platform:"android"},options:{width:333,height:331}},{device:function(n){var t=n.platform,i=n.version;return t==="generic"||t==="ios"||t==="win"&&i&&i[0]===10},options:{width:"auto",height:"auto"}},{device:function(n){var t=(r.current()||"").split(".")[0];return n.phone&&t==="win10"},options:{width:333,height:"auto"}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:window}}}]}},_renderWidget:function(){var t,r;if(i.inputType(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.element().remove(),this._widget=null);return}t=this._getPopup(),this._widget?this._widget.option(this._getWidgetOptions()):(r=n("<div>").appendTo(t.content()),this._widget=this._createWidget(r)),this._widget.element().appendTo(this._getWidgetContainer())},_getWidgetName:function(){return u.publicName()},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,format:this.dateBox.option("format"),minDate:this.dateBox.dateOption("min")||new Date(1900,1,1),maxDate:this.dateBox.dateOption("max")||new Date(n.now()+50*t.ONE_YEAR),onDisposing:n.proxy(function(){this._widget=null},this)}},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue()||new Date)}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.native",["jquery","/utils/utils.support","/ui/widgets/date/ui.dateUtils","/ui/widgets/date/ui.dateBox.strategy"],function(n,t,i,r){return r.inherit({NAME:"Native",popupConfig:n.noop,getParsedText:function(n){return i.fromStandardDateFormat(n)},renderPopupContent:n.noop,_getWidgetName:n.noop,_getWidgetOptions:n.noop,getDefaultOptions:function(){var r=this.dateBox.option("format");n.inArray(r,i.SUPPORTED_FORMATS)===-1?r="date":r!=="datetime"||t.inputType(r)||(r="datetime-local"),this.dateBox.option({mode:r,formatString:i.FORMATS_MAP[r]})},renderInputMinMax:function(n){n.attr({min:Globalize.format(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:Globalize.format(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}})}),DevExpress.define("/ui/widgets/date/ui.dateBox.strategy.list",["jquery","/utils/utils.common","/devices","/ui/widgets/date/ui.dateUtils","/ui/widgets/date/ui.dateBox.strategy"],function(n,t,i,r,u){return u.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){this.option("opened")&&this.close()},space:n.noop,home:n.noop,end:n.noop}},getDefaultOptions:function(){return n.extend(this.callBase(),{formatString:Globalize.culture().calendar.patterns.t,applyValueMode:"instantly"})},popupConfig:function(t){var u=i.current(),r=n.extend(t,{width:this._getPopupWidth()});return u.platform==="android"&&n.extend(r,{position:{offset:{h:-16,v:-10}}}),r},_getPopupWidth:function(){var t=i.current(),n=this.dateBox.element().outerWidth();return t.platform==="android"&&(n+=32),n},popupShowingHandler:function(){this._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return"dxList"},_getWidgetOptions:function(){var t=this.dateBox._keyboardProcessor;return{_keyboardProcessor:t?t.attachChildProcessor():null,itemTemplate:n.proxy(this._timeListItemTemplate,this),onItemClick:n.proxy(this._listItemClickHandler,this),tabIndex:-1,onFocusedItemChanged:n.proxy(this._refreshActiveDescendant,this),selectionMode:"single"}},_refreshActiveDescendant:function(n){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",n.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("focusedElement",null)},_updateValue:function(){if(this._widget){var n=this.dateBoxValue(),t=this._getDateIndex(n);this._widget.option("selectedIndex",t)}},_getDateIndex:function(n){for(var i=-1,t=0,r=this._widgetItems.length;t<r;t++)if(this._areDatesEqual(n,this._widgetItems[t])){i=t;break}return i},_areDatesEqual:function(n,i){return t.isDate(n)&&t.isDate(i)&&n.getHours()===i.getHours()&&n.getMinutes()===i.getMinutes()},_getTimeListItems:function(){var i=this.dateBox.dateOption("min")||new Date(0,0,0,0,0),f=this.dateBox.dateOption("max")||new Date(0,0,0,23,59),e=this.dateBox.option("interval"),u=[],n=new Date(i),t=f-i;if(t<0)return[];for(t>r.ONE_DAY&&(t=r.ONE_DAY);n-i<t;)u.push(new Date(n)),n.setMinutes(n.getMinutes()+e);return u},_timeListItemTemplate:function(n){return Globalize.format(n,this.dateBox.option("formatString"))},_listItemClickHandler:function(n){this.dateBox.option("opened",!1),this.dateBoxValue(n.itemData)},attachKeyboardEvents:function(n){var t=n.attachChildProcessor();this._widget&&this._widget.option("_keyboardProcessor",t)},_dimensionChanged:function(){this._getPopup()&&this._updatePopupDimensions()},_updatePopupDimensions:function(){this._updatePopupWidth(),this._updatePopupHeight()},_updatePopupWidth:function(){this.dateBox._setPopupOption("width",this._getPopupWidth())},_updatePopupHeight:function(){this.dateBox._setPopupOption("height","auto");var t=this._widget.element().outerHeight(),i=n(window).height()*.45;this.dateBox._setPopupOption("height",Math.min(t,i)),this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()}})}),function(n,t){var e=t.ui,o=t.require("/utils/utils.support"),r=t.require("/utils/utils.browser"),u=t.require("/devices"),s=t.require("/componentRegistrator"),h=t.require("/ui/ui.widget"),c="dx-loadindicator",l="dx-loadindicator-wrapper",a="dx-loadindicator-content",v="dx-loadindicator-icon",f="dx-loadindicator-segment",y="dx-loadindicator-segment-inner",p="dx-loadindicator-image";s("dxLoadIndicator",e,h.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var n=u.real(),t=n.platform==="android"&&!/chrome/i.test(navigator.userAgent);return r.msie&&r.version<10||t},options:{viaImage:!0}},{device:{platform:"win"},options:{_animatingSegmentCount:5}},{device:function(n){return n.platform==="ios"},options:{_animatingSegmentCount:11}},{device:[{platform:"android"}],options:{_animatingSegmentCount:2}},{device:[{platform:"generic"}],options:{_animatingSegmentCount:7}}])},_init:function(){this.callBase(),this.element().addClass(c)},_render:function(){this._renderWrapper(),this._renderContent(),this._renderMarkup(),this.callBase()},_renderWrapper:function(){this._$wrapper=n("<div>").addClass(l),this.element().append(this._$wrapper)},_renderContent:function(){this._$content=n("<div>").addClass(a),this._$wrapper.append(this._$content)},_renderMarkup:function(){!o.animation||this.option("viaImage")||this.option("indicatorSrc")?this._renderMarkupForImage():this._renderMarkupForAnimation()},_renderMarkupForAnimation:function(){var r=u.current(),t,i;for(this._$indicator=n("<div>").addClass(v),this._$content.append(this._$indicator),t=this.option("_animatingSegmentCount");t>=0;--t)i=n("<div>").addClass(f).addClass(f+t),r.platform==="android"&&i.append(n("<div>").addClass(y)),this._$indicator.append(i)},_renderMarkupForImage:function(){var n=this.option("indicatorSrc");this._$wrapper.addClass(p),n&&this._$wrapper.css("background-image","url("+n+")")},_renderDimensions:function(){this.callBase(),this._updateContentSizeForAnimation()},_updateContentSizeForAnimation:function(){var n,t,i;this._$indicator&&(n=this.option("width"),t=this.option("height"),(n||t)&&(n=this.element().width(),t=this.element().height(),i=Math.min(t,n),this._$wrapper.css({height:i,width:i,"font-size":i})))},_clean:function(){this.callBase(),this._removeMarkupForAnimation(),this._removeMarkupForImage()},_removeMarkupForAnimation:function(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)},_removeMarkupForImage:function(){this._$wrapper.css("background-image","none")},_optionChanged:function(n){switch(n.name){case"_animatingSegmentCount":case"indicatorSrc":this._invalidate();break;default:this.callBase(n)}}}))}(jQuery,DevExpress),function(n,t){var r=t.ui,e=t.require("/componentRegistrator"),o="dx-loadpanel",s="dx-loadpanel-wrapper",u="dx-loadpanel-indicator",f="dx-loadpanel-message",h="dx-loadpanel-content",c="dx-loadpanel-content-wrapper",l="dx-loadpanel-pane-hidden";e("dxLoadPanel",r,r.dxOverlay.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{message:Globalize.localize("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,closeOnBackButton:!1,resizeEnabled:!1})},_init:function(){this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.element().addClass(o),this._wrapper().addClass(s)},_renderContentImpl:function(){this.callBase(),this.content().addClass(h),this._$contentWrapper=n("<div>").addClass(c),this._$contentWrapper.appendTo(this._$content),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()},_show:function(){var i=this.option("delay"),t,r;return i?(t=n.Deferred(),r=n.proxy(this.callBase,this),this._clearShowTimeout(),this._showTimeout=setTimeout(function(){r().done(function(){t.resolve()})},i),t.promise()):this.callBase()},_hide:function(){return this._clearShowTimeout(),this.callBase()},_clearShowTimeout:function(){clearTimeout(this._showTimeout)},_renderMessage:function(){var t,i;this._$contentWrapper&&(t=this.option("message"),t)&&(i=n("<div>").addClass(f).text(t),this._$contentWrapper.append(i))},_renderLoadIndicator:function(){this._$contentWrapper&&this.option("showIndicator")&&(this._$indicator=n("<div>").addClass(u).appendTo(this._$contentWrapper),this._createComponent(this._$indicator,"dxLoadIndicator",{indicatorSrc:this.option("indicatorSrc")}))},_cleanPreviousContent:function(){this.content().find("."+f).remove(),this.content().find("."+u).remove()},_togglePaneVisible:function(){this.content().toggleClass(l,!this.option("showPane"))},_optionChanged:function(n){switch(n.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._$indicator&&this._createComponent(this._$indicator,"dxLoadIndicator",{indicatorSrc:this.option("indicatorSrc")});break;default:this.callBase(n)}},_dispose:function(){this._clearShowTimeout(),this.callBase()}}))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/ui.lookup",["jquery","/utils/utils.string","/utils/utils.version","/utils/utils.support","/utils/utils.browser","/utils/utils.common","/utils/utils.inkRipple","/devices","/componentRegistrator","/ui/events/ui.events.utils","/ui/widgets/ui.dropDownList","/ui/uiNamespace"],function(n,t,i,r,u,f,e,o,s,h,c,l){var w=i.compare,b="dx-lookup",a="dx-lookup-selected",k="dx-lookup-search",d="dx-lookup-search-wrapper",g="dx-lookup-field",nt="dx-lookup-arrow",v="dx-lookup-field-wrapper",tt="dx-lookup-popup",it="dx-lookup-popup-wrapper",rt="dx-lookup-popup-search",ut="dx-lookup-popover-mode",ft="dx-lookup-empty",et="dx-lookup-validation-message",y="dx-lookup-invalid",ot=".dx-list-item",st="dxListItemData",ht={popupWidth:"width",popupHeight:"height"},p=c.inherit({_supportedKeys:function(){return n.extend(this.callBase(),{space:function(){this._validatedOpening()},enter:function(){this._validatedOpening()}})},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{showNextButton:{since:"15.1",message:"Use the 'pageLoadMode' option instead"},pagingEnabled:{since:"15.1",message:"Use the 'dataSource.paginate' option instead"}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{title:"",titleTemplate:"title",onTitleRendered:null,placeholder:Globalize.localize("Select"),searchPlaceholder:Globalize.localize("Search"),searchEnabled:!0,cleanSearchOnOpening:!0,fullScreen:!1,showCancelButton:!0,cancelButtonText:Globalize.localize("Cancel"),showClearButton:!1,clearButtonText:Globalize.localize("Clear"),applyButtonText:Globalize.localize("Done"),popupWidth:function(){return n(window).width()*.8},popupHeight:function(){return n(window).height()*.8},shading:!0,closeOnOutsideClick:!1,position:undefined,animation:undefined,pullRefreshEnabled:!1,useNativeScrolling:!0,pullingDownText:Globalize.localize("dxList-pullingDownText"),pulledDownText:Globalize.localize("dxList-pulledDownText"),refreshingText:Globalize.localize("dxList-refreshingText"),pageLoadingText:Globalize.localize("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",showNextButton:undefined,nextButtonText:Globalize.localize("dxList-nextButtonText"),grouped:!1,groupTemplate:"group",usePopover:!1,showDropButton:!1,showPopupTitle:!0,focusStateEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!r.nativeScrolling},options:{useNativeScrolling:!1}},{device:function(n){return!r.nativeScrolling&&!o.isSimulator()&&o.real().platform==="generic"&&n.platform==="generic"},options:{pageLoadMode:"nextButton",usePopover:!0}},{device:function(){return u.msie&&w(u.version,9)<0},options:{usePopover:!1}},{device:function(n){return n.platform==="win"&&n.phone&&n.version&&n.version[0]===8},options:{showCancelButton:!1,fullScreen:!0}},{device:function(n){return n.platform==="win"&&!n.phone&&n.version&&n.version[0]===8},options:{popupWidth:function(){return n(window).width()}}},{device:{platform:"ios",phone:!0},options:{fullScreen:!0}},{device:{platform:"ios",tablet:!0},options:{popupWidth:function(){return Math.min(n(window).width(),n(window).height())*.4},popupHeight:function(){return Math.min(n(window).width(),n(window).height())*.4},usePopover:!0,useInkRipple:!1}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}},{device:function(){return o.real().generic&&!o.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"android"},options:{useInkRipple:!0}}])},_dataSourceOptions:function(){this._suppressDeprecatedWarnings();var t=f.ensureDefined(this.option("pagingEnabled"),!0);return t=f.isDefined(this.option("showNextButton"))?t||this.option("showNextButton"):t,this._resumeDeprecatedWarnings(),n.extend(this.callBase(),{paginate:t})},_inputWrapper:function(){return this.element().find("."+v)},_render:function(){this.callBase(),this.element().addClass(b).toggleClass(ut,this.option("usePopover"))},_fireContentReadyAction:n.noop,_popupWrapperClass:function(){return""},_renderInput:function(){var i=this._createAction(n.proxy(function(){this._validatedOpening()},this)),t;this._$field=n("<div>").addClass(g).on(h.addNamespace("dxclick",this.NAME),function(n){i({jQueryEvent:n})}),t=n("<div>").addClass(nt),this._$fieldWrapper=n("<div>").addClass(v).append(this._$field).append(t).appendTo(this.element()),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=e.render()},_toggleActiveState:function(n,t,i){if(this.callBase.apply(this,arguments),this._inkRipple){var r={element:this._inputWrapper(),jQueryEvent:i};t?this._inkRipple.renderWave(r):this._inkRipple.removeWave(r)}},_renderField:function(){var n=this._getTemplateByOption("fieldTemplate"),t;n&&this.option("fieldTemplate")&&(this._$field.empty(),t=this._fieldRenderData(),n.render(t,this._$field))},_popupShowingHandler:function(){var n;this._$popupValidationMessage&&(n=this.option("validationError"),n&&n.message?(this._$popupValidationMessage.text(n.message),this._popup.content().addClass(y)):this._popup.content().removeClass(y)),this.callBase.apply(this,arguments),this.option("cleanSearchOnOpening")&&(this.option("searchEnabled")&&this._searchBox.option("value")&&(this._searchBox.option("value",""),this._searchCanceled(),this._searchDataSource()),this._list&&this._list.option("focusedElement",null)),this._attachSearchChildProcessor()},_popupPositionedHandler:function(){this.option("usePopover")&&this._updatePopoverHeight()},_updatePopoverHeight:function(){var t;if(this._isInitialOptionValue("popupHeight")){var n=0,i=this._popup.content().position().top,r=this._popup.bottomToolbar()?this._popup.bottomToolbar().outerHeight(!0):0,u=i+r;this._list&&(n+=this._list.element().position().top,n+=this._list.element().outerHeight()-this._list.clientHeight(),n+=this._list.scrollHeight()),this._popup.overlayContent().css("maxHeight","none"),t=Math.min(n+u,this._popup.overlayContent().outerHeight()),this._popup.overlayContent().css("maxHeight",t),this._list&&this._list.updateDimensions()}},_renderPopup:function(){this.option("usePopover")&&!this.option("fullScreen")?this._renderPopover():this.callBase(),this._$popup.addClass(tt),this._popup._wrapper().addClass(it)},_popupOptionMap:function(n){return ht[n]||n},_renderPopover:function(){this._popup=this._createComponent(this._$popup,"dxPopover",n.extend(this._popupConfig(),{target:this.element(),fullScreen:!1,shading:!1,closeOnTargetScroll:!0,closeOnOutsideClick:!0,width:this._isInitialOptionValue("popupWidth")?n.proxy(function(){return this.element().outerWidth()},this):this._popupConfig().width}));this._popup.on({showing:n.proxy(this._popupShowingHandler,this),shown:n.proxy(this._popupShownHandler,this),hiding:n.proxy(this._popupHidingHandler,this),hidden:n.proxy(this._popupHiddenHandler,this),positioned:n.proxy(this._popupPositionedHandler,this)});this._popup.option("onContentReady",n.proxy(this._contentReadyHandler,this)),this._contentReadyHandler()},_popupHidingHandler:function(){this.callBase(),this.option("focusStateEnabled")&&this.focus()},_preventFocusOnPopup:n.noop,_popupConfig:function(){var t=n.extend(this.callBase(),{onShowing:null,showTitle:this.option("showPopupTitle"),title:this.option("title"),titleTemplate:this._getTemplateByOption("titleTemplate"),onTitleRendered:this.option("onTitleRendered"),buttons:this._getPopupButtons(),fullScreen:this.option("fullScreen"),shading:this.option("shading"),closeOnTargetScroll:!1,closeOnOutsideClick:this.option("closeOnOutsideClick")});return delete t.animation,delete t.position,n.each(["position","animation","popupWidth","popupHeight"],n.proxy(function(n,i){this.option(i)!==undefined&&(t[this._popupOptionMap(i)]=this.option(i))},this)),t},_getPopupButtons:function(){var n=this.option("applyValueMode")==="useButtons"?this._popupButtonsConfig():[],i=this._getCancelButtonConfig(),t;return i&&n.push(i),t=this._getClearButtonConfig(),t&&n.push(t),this._applyButtonsLocation(n)},_popupButtonsConfig:function(){return[{shortcut:"done",options:{onClick:n.proxy(this._applyButtonHandler,this),text:this.option("applyButtonText")}}]},_getCancelButtonConfig:function(){return this.option("showCancelButton")?{shortcut:"cancel",onClick:n.proxy(this._cancelButtonHandler,this),options:{text:this.option("cancelButtonText")}}:null},_getClearButtonConfig:function(){return this.option("showClearButton")?{shortcut:"clear",onClick:n.proxy(this._resetValue,this),options:{text:this.option("clearButtonText")}}:null},_applyButtonHandler:function(){this.option("value",this._valueGetter(this._currentSelectedItem())),this.callBase()},_cancelButtonHandler:function(){this._refreshSelected(),this.callBase()},_refreshPopupVisibility:n.noop,_dimensionChanged:function(){this.option("usePopover")&&!this.option("popupWidth")&&this.option("popupWidth",this.element().width())},_input:function(){return this._$searchBox||this.callBase()},_renderPopupContent:function(){this._popup.NAME==="dxPopup"&&(this._$popupValidationMessage=n("<div>").addClass(et).appendTo(this._popup.content())),this._renderSearch(),this.callBase(),this._attachSearchChildProcessor()},_attachSearchChildProcessor:function(){this.option("searchEnabled")&&this._searchBox?(this._listKeyboardProcessor=this._searchBox._keyboardProcessor.attachChildProcessor(),this._setListOption("_keyboardProcessor",this._listKeyboardProcessor)):this._setListOption("_keyboardProcessor",undefined)},_renderSearch:function(){var t=this._$searchWrapper=n("<div>").addClass(d),r=this._$searchBox=n("<div>").addClass(k).appendTo(t),i=o.current(),u=i.android&&i.version[0]>=5?"text":"search";this._searchBox=this._createComponent(r,"dxTextBox",{mode:u,showClearButton:!0,valueChangeEvent:this.option("valueChangeEvent"),onValueChanged:n.proxy(this._search,this)}),this._registerSearchKeyHandlers(),t.appendTo(this._popup.content()),this._renderSearchVisibility(),this._setSearchPlaceholder()},_registerSearchKeyHandlers:function(){var t=this,i=function(n){var i=t._list.option("focusedElement");i&&t._selectListItem(n.itemData,i)};this._searchBox.registerKeyHandler("escape",n.proxy(function(){this.close()},this)),this._searchBox.registerKeyHandler("enter",n.proxy(function(n){i(n)},this)),this._searchBox.registerKeyHandler("space",n.proxy(function(n){i(n)},this))},_renderSearchVisibility:function(){if(this._popup){var n=this.option("searchEnabled");this._popup._wrapper().toggleClass(rt,n),this._$searchWrapper.toggle(n)}},_setSearchPlaceholder:function(){if(this._$searchBox){var i=this.option("minSearchLength"),n=this.option("searchPlaceholder");i&&n===Globalize.localize("Search")&&(n=t.format(Globalize.localize("dxLookup-searchPlaceholder"),i)),this._searchBox.option("placeholder",n)}},_setAriaTargetForList:n.noop,_renderList:function(){this.callBase(),this._list.registerKeyHandler("escape",n.proxy(function(){this.close()},this))},_listConfig:function(){return n.extend(this.callBase(),{tabIndex:0,grouped:this.option("grouped"),groupTemplate:this._getTemplateByOption("groupTemplate"),pullRefreshEnabled:this.option("pullRefreshEnabled"),useNativeScrolling:this.option("useNativeScrolling"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),pageLoadingText:this.option("pageLoadingText"),onScroll:this.option("onScroll"),onPullRefresh:this.option("onPullRefresh"),onPageLoading:this.option("onPageLoading"),pageLoadMode:this._getPageLoadMode(),nextButtonText:this.option("nextButtonText"),_keyboardProcessor:this._listKeyboardProcessor,onFocusIn:n.proxy(this._onFocusInHandler,this)})},_onFocusInHandler:function(){this._setListOption("_keyboardProcessor",undefined)},_listContentReadyHandler:function(){this.option("usePopover")&&this._popup.repaint(),this.callBase.apply(this,arguments)},_getPageLoadMode:function(){this._suppressDeprecatedWarnings();var n=f.isDefined(this.option("showNextButton"))?"nextButton":this.option("pageLoadMode");return this._resumeDeprecatedWarnings(),n},_setFocusPolicy:function(){this.option("focusStateEnabled")&&(this.option("searchEnabled")?this._searchBox.focus():this._$list.focus())},_attachChildKeyboardEvents:n.noop,_focusTarget:function(){return this._$field},_keyboardEventBindingTarget:function(){return this._$field},_selectedItemClass:function(){return a},_listItemClickHandler:function(n){this._selectListItem(n.itemData,n.jQueryEvent.target)},_selectListItem:function(n,t){this._currentSelectedItem()===n&&this._applyButtonHandler(),this._setCurrentSelectedClass(t),this.option("applyValueMode")==="instantly"&&this._applyButtonHandler()},_currentSelectedItem:function(){return this._listSelectedItemElements().data(st)},_setCurrentSelectedClass:function(t){this._listSelectedItemElements().removeClass(a),n(t).closest(ot).addClass(a)},_resetValue:function(){this.option("value",null),this.option("opened",!1)},_searchValue:function(){return this.option("searchEnabled")?this._searchBox.option("value"):""},_renderInputValue:function(){return this.callBase().always(n.proxy(function(){this._refreshField()},this))},_refreshField:function(){this._$field.text(this.option("displayValue")||this.option("placeholder")),this.element().toggleClass(ft,!this.option("selectedItem"))},_renderPlaceholder:function(){},_clean:function(){this._$fieldWrapper.remove(),this._$searchBox=null,this.callBase()},_optionChanged:function(n){var i=n.name,t=n.value;switch(i){case"searchEnabled":this._renderSearchVisibility(),this._attachSearchChildProcessor();break;case"searchPlaceholder":this._setSearchPlaceholder();break;case"minSearchLength":this._setSearchPlaceholder(),this.callBase.apply(this,arguments);break;case"title":case"titleTemplate":case"onTitleRendered":case"shading":case"animation":case"position":case"closeOnOutsideClick":this._setPopupOption(i);break;case"fullScreen":case"usePopover":case"placeholder":this._invalidate();break;case"clearButtonText":case"showClearButton":case"showCancelButton":this._setPopupOption("buttons",this._getPopupButtons());break;case"applyValueMode":this.callBase.apply(this,arguments);break;case"popupWidth":this._setPopupOption("popupWidth",t==="auto"?this.initialOption("popupWidth"):t);break;case"popupHeight":this._setPopupOption("popupHeight",t==="auto"?this.initialOption("popupHeight"):t);break;case"pullRefreshEnabled":case"useNativeScrolling":case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"onScroll":case"onPullRefresh":case"onPageLoading":case"nextButtonText":case"grouped":case"groupTemplate":this._setListOption(i);break;case"showNextButton":case"pageLoadMode":this._setListOption("pageLoadMode",this._getPageLoadMode());break;case"cleanSearchOnOpening":break;default:this.callBase.apply(this,arguments)}},focus:function(){this.option("opened")?this._setFocusPolicy():this._focusTarget().focus()},field:function(){return this._$field}});return s("dxLookup",l,p),p}),DevExpress.require(["/ui/widgets/ui.lookup"]),DevExpress.define("/ui/widgets/ui.autocomplete",["jquery","/componentRegistrator","/ui/widgets/ui.dropDownList","/ui/uiNamespace"],function(n,t,i,r){var f="dx-autocomplete",e="dx-autocomplete-popup-wrapper",o={"9":"tab","13":"enter","16":"shift","17":"ctrl","18":"alt","27":"escape","33":"pageUp","34":"pageDown","35":"end","36":"home","37":"leftArrow","38":"upArrow","39":"rightArrow","40":"downArrow"},u=i.inherit({_supportedKeys:function(){var t=this._list?this._list.option("focusedElement"):null;return n.extend(this.callBase(),{upArrow:function(n){return(n.preventDefault(),n.stopPropagation(),t&&!t.prev().length)?(this._clearFocusedItem(),!1):!0},downArrow:function(n){return(n.preventDefault(),n.stopPropagation(),t&&!t.next().length)?(this._clearFocusedItem(),!1):!0},enter:function(){return t||this.close(),!0}})},_setOptionAliases:function(){this.callBase(),n.extend(this._optionAliases,{displayExpr:"valueExpr"})},_getDefaultOptions:function(){return n.extend(this.callBase(),{minSearchLength:1,maxItemCount:10,noDataText:"",showDropButton:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(n){return n.platform==="android"},options:{popupPosition:{offset:{h:-16,v:-9}}}}])},_render:function(){this.callBase(),this.element().addClass(f),this.setAria("autocomplete","inline")},_loadValue:function(){return n.Deferred().resolve(this.option("value"))},_displayGetterExpr:function(){return this.option("valueExpr")},_setSelectedItem:function(n){this.callBase(n),this.option("displayValue",this.option("value"))},_popupConfig:function(){return n.extend(this.callBase(),{closeOnOutsideClick:n.proxy(function(t){return!n(t.target).closest(this.element()).length},this)})},_renderDimensions:function(){this.callBase(),this._setPopupOption("width")},_popupWrapperClass:function(){return this.callBase()+" "+e},_listConfig:function(){return n.extend(this.callBase(),{pageLoadMode:"none",indicateLoading:!1})},_listItemClickHandler:function(n){var t=this._displayGetter(n.itemData);this.option("value",t),this.close()},_refreshSelected:n.noop,_searchCanceled:function(){this.callBase(),this.close()},_dataSourceOptions:function(){return{paginate:!0}},_searchDataSource:function(){this._dataSource.pageSize(this.option("maxItemCount")),this.callBase(),this._clearFocusedItem()},_clearFocusedItem:function(){this._list&&(this._list.option("focusedElement",null),this._list.option("selectedIndex",-1))},_renderValueEventName:function(){return"input keyup"},_keyPressHandler:function(n){o[n.which||n.keyCode]||(this.callBase.apply(this,arguments),this._search())},_optionChanged:function(n){n.name==="maxItemCount"?this._searchDataSource():this.callBase(n)}});return t("dxAutocomplete",r,u),u}),DevExpress.require(["/ui/widgets/ui.autocomplete"]),DevExpress.define("/ui/widgets/ui.selectBox",["jquery","/utils/utils.common","/utils/utils.inkRipple","/componentRegistrator","/ui/events/ui.events.utils","/ui/widgets/ui.dropDownList","/ui/uiNamespace"],function(n,t,i,r,u,f,e){var s="dx-selectbox",h="dx-selectbox-popup",c="dx-selectbox-selected",l="dx-selectbox-container",a="dx-selectbox-popup-wrapper",v={"9":"tab","13":"enter","16":"shift","17":"ctrl","18":"alt","27":"escape","33":"pageUp","34":"pageDown","35":"end","36":"home","37":"leftArrow","38":"upArrow","39":"rightArrow","40":"downArrow"},o=f.inherit({_supportedKeys:function(){var t=this.callBase(),i=function(n){this.option("showClearButton")&&!this._isEditable()&&(n.preventDefault(),this.reset())};return n.extend({},t,{tab:function(){this.close()},upArrow:function(){if(t.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(-1),!0},downArrow:function(){if(t.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(1),!0},enter:function(n){if(this._input().val()==="")this.option({selectedItem:null,value:null}),this.close();else if(this.option("fieldEditEnabled")&&n.preventDefault(),t.enter.apply(this,arguments))return this.option("opened")},backspace:i,del:i})},_selectFirstItem:function(){this._isEditable()&&this.callBase()},_getDefaultOptions:function(){return n.extend(this.callBase(),{placeholder:Globalize.localize("Select"),fieldTemplate:null,valueChangeEvent:"keyup",fieldEditEnabled:!1,showSelectionControls:!1,tooltipEnabled:!1,openOnFieldClick:!0,showDropButton:!0,displayCustomValue:!1,_isAdaptablePopupPosition:!1,useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(n){return n.platform==="win"&&n.version&&n.version[0]===8},options:{_isAdaptablePopupPosition:!0,popupPosition:{at:"left top",offset:{h:0,v:0}}}},{device:function(n){return n.platform==="android"},options:{_isAdaptablePopupPosition:!0,popupPosition:{offset:{h:-16,v:-9}}}},{device:{platform:"android"},options:{useInkRipple:!0}}])},_selectedItemClass:function(){return c},_render:function(){this.callBase(),this.element().addClass(s),this.option("useInkRipple")&&this._renderInkRipple(),this._renderTooltip()},_renderInkRipple:function(){this._inkRipple=i.render()},_toggleActiveState:function(n,t,i){if(this.callBase.apply(this,arguments),this._inkRipple){var r={element:this._inputWrapper(),jQueryEvent:i};t?this._inkRipple.renderWave(r):this._inkRipple.removeWave(r)}},_createPopup:function(){this.callBase(),this._updatePopupPosition(),this._popup.element().addClass(h)},_popupWrapperClass:function(){return this.callBase()+" "+a},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._updatePopupHeight(),this._scrollToSelectedItem())},_updatePopupPosition:function(){if(this.option("_isAdaptablePopupPosition")&&this.option("popupPosition")===this.initialOption("popupPosition"))if(this._isEditable()){var t=n.extend(this._getDefaultPopupPosition(),{offset:{h:this.option("popupPosition").offset.h,v:-4}});this._setPopupOption("position",t)}else this._setPopupOption("position",this.initialOption("popupPosition"))},_scrollToSelectedItem:function(){this._dataSource.paginate()&&this._isEditable()?this._list.scrollTo(0):this._list.scrollToItem(this._$list.find("."+this._selectedItemClass()))},_renderInputValue:function(){return this.callBase().always(n.proxy(function(){this._renderTooltip(),this._renderInputAddons()},this))},_fitIntoRange:function(n,t,i){return n>i?t:n<t?i:n},_setNextValue:function(t){var i=this._dataSource.isLoaded()?n.Deferred().resolve():this._dataSource.load();i.done(n.proxy(function(){var n=this._valueGetter(this._calcNextItem(t));this._setValue(n)},this))},_calcNextItem:function(n){var t=this._dataSource.items(),i=this._fitIntoRange(this._getSelectedIndex()+n,0,t.length-1);return t[i]},_getSelectedIndex:function(){var i=this._dataSource.items(),r=this.option("selectedItem"),t=-1;return n.each(i,n.proxy(function(n,i){if(this._isValueEquals(i,r))return t=n,!1},this)),t},_setSelectedItem:function(n){var t=!this._isCustomValueAllowed()&&n===undefined;this.callBase(t?null:n)},_isCustomValueAllowed:function(){return this.option("fieldEditEnabled")||this.callBase()},_displayValue:function(n){return n=!t.isDefined(n)&&this._isCustomValueAllowed()?this.option("value"):n,this.callBase(n)},_listConfig:function(){var t=n.extend(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectionMode:"single"});return this.option("showSelectionControls")&&n.extend(t,{showSelectionControls:!0}),t},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?n.proxy(this._selectionChangeHandler,this):n.noop},_selectionChangeHandler:function(t){n.each(t.addedItems||[],n.proxy(function(n,t){this._setValue(this._valueGetter(t))},this))},_toggleOpenState:function(){if(this.option("disabled")||!this._wasSearch()||this.option("opened")||!this._isEditable()){this.callBase.apply(this,arguments);return}this._wasSearch(!1),this._filterDataSource(null),this._input().focus()},_renderTooltip:function(){this.option("tooltipEnabled")&&this.element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._setPopupOption("width")},_renderInput:function(){this.callBase(),this._$container.addClass(l);var t=u.addNamespace("blur",this.NAME);this._input().off(t).on(t,n.proxy(this._fieldBlurHandler,this))},_fieldBlurHandler:function(){if(this.option("searchEnabled")&&!this.option("fieldEditEnabled")){var t=this.option("selectedItem");this._renderInputValue().always(n.proxy(function(){this._setSelectedItem(t),this._renderDisplayText(this._displayGetter(this.option("selectedItem")))},this))}},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_isEditable:function(){return this.option("fieldEditEnabled")||this.option("searchEnabled")},_fieldRenderData:function(){return this.option("selectedItem")},_readOnlyPropValue:function(){return!this._isEditable()||this.option("readOnly")},_isSelectedValue:function(n){return this._isValueEquals(n,this.option("value"))},_listItemClickHandler:function(n){var t=this.option("value");this._completeSelection(this._valueGetter(n.itemData)),this.option("searchEnabled")&&t===this._valueGetter(n.itemData)&&this._renderDisplayText(this._displayGetter(n.itemData))},_completeSelection:function(n){n===undefined&&(n=this.option("fieldEditEnabled")&&this._searchValue()?this._searchValue():this.option("value")),this.option("opened",!1),this._wasSearch()&&this._clearFilter(),this._setValue(n)},_setValue:function(n){this.option("value",n)},_clearValueHandler:function(){this.reset()},_valueChangeEventHandler:function(n){v[n.which||n.keyCode]||(this.option("fieldEditEnabled")&&(this._valueUpdateSuppressed=!0,this.callBase.apply(this,arguments),this._valueUpdateSuppressed=!1),this.option("searchEnabled")&&this._search())},_createClearButton:function(){var n=u.addNamespace("dxclick",this.NAME);return this.callBase().on(n,function(){return!1})},_search:function(){this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase()},_wasSearch:function(n){if(!arguments.length)return this._wasSearchValue;this._wasSearchValue=n},_filterDataSource:function(n){this.callBase(n),this._setCollectionWidgetOption("noDataText",n?"":this._list&&this._list.initialOption("noDataText"))},_optionChanged:function(n){switch(n.name){case"_isAdaptablePopupPosition":break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"fieldEditEnabled":case"showSelectionControls":case"useInkRipple":this._invalidate();break;default:this.callBase(n)}}});return r("dxSelectBox",e,o),o}),DevExpress.require(["/ui/widgets/ui.selectBox"]),DevExpress.define("/ui/widgets/tagBox/ui.tagBox.removeButton",["jquery","/ui/ui.widget"],function(n,t){var i="dx-tag-remove-button";return t.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{activeStateEnabled:!0})},_render:function(){this.callBase(),this.element().addClass(i)}})}),DevExpress.define("/ui/widgets/ui.tagBox",["jquery","/utils/utils.common","/componentRegistrator","/ui/templates/ui.template.function","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer","/ui/widgets/ui.selectBox","/ui/uiNamespace","/ui/widgets/tagBox/ui.tagBox.removeButton"],function(n,t,i,r,u,f,e,o,s){var h="dxTagData",a="dx-tagbox",v="dx-tag-container",c="dx-tag",y="dx-tag-content",p="dx-tag-remove-button",w="dx-tagbox-only-select",b="dx-texteditor-empty",l=e.inherit({_supportedKeys:function(){var t=this.callBase();return n.extend(t,{backspace:function(n){if(!this._searchValue().length){n.preventDefault(),n.stopPropagation();var t=this._values();this._removeTagWithUpdate(t[t.length-1])}},enter:function(n){this.option("fieldEditEnabled")&&!this._$list.find(".dx-state-focused").length?(n.preventDefault(),this._completeSelection()):(this.option("opened")&&n.preventDefault(),this._keyboardProcessor._childProcessors[0].process(n))}})},_setNextValue:n.noop,_getDefaultOptions:function(){return n.extend(this.callBase(),{values:[],onValuesChanged:null,showDropButton:!1,tagTemplate:"tag",selectAllText:Globalize.localize("dxList-selectAll")})},_init:function(){this.callBase(),this._initValuesChangedAction(),this._initDynamicTagTemplate(),this._values(this.option("values")),this._updateValues()},_initValuesChangedAction:function(){this._valuesChangedAction=this._createActionByOption("onValuesChanged",{excludeValidators:["disabled","readonly"]}),this._removeTagAction=this._createAction(n.proxy(this._removeTagHandler,this))},_initDynamicTagTemplate:function(){this._displayGetterExpr()?this._dynamicTemplates.tag=new r(n.proxy(function(n){return this._displayGetter(n)},this)):delete this._dynamicTemplates.tag},_render:function(){this.callBase(),this.element().addClass(a),this.element().toggleClass(w,!(this.option("searchEnabled")||this.option("fieldEditEnabled")));var t=u.addNamespace("dxclick","dxTagBoxTagRemove");this.element().find(".dx-texteditor-container").off(t).on(t,"."+p,n.proxy(function(n){this._removeTagAction({jQueryEvent:n})},this))},_renderInputValue:function(){return this.callBase().always(n.proxy(function(){this._renderMultiSelect()},this))},_listContentReadyHandler:function(){this._suppressingSelectionChanged(function(){this._valuesChangedAction=n.noop,this._setListOption("selectedItems",this._selectedItems)}),this.callBase(),this._initValuesChangedAction()},_suppressingSelectionChanged:function(t){this._setListOption("onSelectionChanged",n.noop),t.call(this),this._setListOption("onSelectionChanged",this._getSelectionChangeHandler())},_listConfig:function(){var t=this.callBase();return this.option("showSelectionControls")&&n.extend(t,{selectionMode:"all",selectAllText:this.option("selectAllText")}),t},_renderMultiSelect:function(){this._$tagsContainer=this.element().find(".dx-texteditor-container").addClass(v),this._renderInputSize(),this._clearFilter(),this._renderTags(),this._popup&&this._popup.repaint()},_renderInputSize:function(){var n=this._input();n.prop("size",n.val()?n.val().length+2:1)},_renderTags:function(){var t,i;this._cleanTags(),t=n("<div>"),this._selectedItems=[],i=n.map(this._values(),n.proxy(function(n){return this._renderTag(n,t)},this)),t.children().insertBefore(this._input()),n.when.apply(n,i).done(n.proxy(this._renderInputAddons,this)),this._renderEmptyState()},_renderEmptyState:function(){var n=!this._values().length;this.element().toggleClass(b,n),this._placeholder().toggle(n),this._renderDisplayText()},_renderDisplayText:function(){this._input().val(""),this._renderInputSize()},_cleanTags:function(){var t=this._tagElements(),i=this._values();n.each(t,function(t,r){var u=n(r);n.inArray(u.data(h),i)<0&&u.remove()})},_tagElements:function(){return this.element().find("."+c)},_renderTag:function(i,r){if(this._isTagRendered(i))return n.Deferred().resolve();var u=n("<div>").addClass(c).data(h,i).appendTo(r),f=this._getTemplateByOption("tagTemplate"),e=n("<div>").addClass(y).appendTo(u);return new s(n("<div>")).element().appendTo(u),this._loadItem(i).always(n.proxy(function(n){n=t.isDefined(n)?n:i,f.render(n,e),this._selectedItems.push(n)},this))},_isTagRendered:function(t){var r=this._tagElements(),i=!1;return n.each(r,function(r,u){var f=n(u);if(t===f.data(h))return i=!0,!1}),i},_toggleEmptinessEventHandler:function(){this._toggleEmptiness(!this._values().length&&!this._searchValue().length)},_removeTagHandler:function(t){var i=t.jQueryEvent,r,u;i.stopPropagation(),r=n(i.target).closest("."+c),u=r.data(h),this._removeTagWithUpdate(u)},_removeTagWithUpdate:function(n){this._removeTag(n),this.option("values",this._values())},_selectionChangeHandler:function(t){n.each(t.removedItems||[],n.proxy(function(n,t){this._removeTag(this._valueGetter(t))},this)),n.each(t.addedItems||[],n.proxy(function(n,t){this._addTag(this._valueGetter(t))},this)),this.callBase(t),this._suppressingSelectionChanged(function(){this.option("values",this._values())}),this._valuesChangedAction(t)},_removeTag:function(n){this.option().value=n;var i=this._values(),t=this._valueIndex(n);t>=0&&i.splice(t,1)},_addTag:function(n){var t=this._values(),i=this._valueIndex(n);i<0&&t.push(n)},_fieldRenderData:function(){return this._selectedItems},_setValue:function(n){if(n!==null&&!this._isSelectedValue(n)){var t=this._values();t.push(n),this.option("values",t)}},_isSelectedValue:function(n){return this._valueIndex(n)>-1},_valueIndex:function(t){var i=-1;return n.each(this._values(),n.proxy(function(n,r){if(this._isValueEquals(t,r))return i=n,!1},this)),i},_values:function(n){if(!arguments.length)return this._valuesData||[];this._valuesData=n.slice()},_optionValuesEqual:function(n,t,i){if(n==="value")return!1;this.callBase(n,t,i)},reset:function(){this.option("values",[]),this.callBase()},_updateValues:function(){var n=this._lastValue()===undefined?null:this._lastValue();this.option("value",n)},_lastValue:function(){return this._values().slice(-1).pop()},_valueChangeEventHandler:function(n){(this._renderInputSize(),!this.option("fieldEditEnabled")&&(this._searchValue().length||this._dataSource.searchValue()))&&this.callBase(n)},_valueChangeArgs:function(){var t=this.callBase.apply(this,arguments);return delete t.previousValue,n.extend(t,{values:this._values()})},_refreshSelected:function(){this._list&&this._suppressingSelectionChanged(function(){this._setListOption("selectedItems",this._selectedItems),this.callBase()})},_setSelectedElement:function(n){this.callBase(n),this._setValue(this.option("value"))},_optionChanged:function(n){switch(n.name){case"displayExpr":this.callBase(n),this._initDynamicTagTemplate(),this._invalidate();break;case"tagTemplate":this._initDynamicTagTemplate(),this._invalidate();break;case"values":this._values(n.value),this._updateValues();break;case"onValuesChanged":this._initValuesChangedAction();break;case"selectAllText":this._setListOption("selectAllText",this.option("selectAllText"));break;default:this.callBase(n)}}});return i("dxTagBox",o,l),l}),DevExpress.require(["/ui/widgets/ui.tagBox"]),function(n,t,i){var f=t.ui,e=t.fx,o=t.require("/utils/utils.translator"),s=t.require("/utils/utils.math"),a=t.require("/utils/utils.common"),h=t.require("/devices"),v=t.require("/componentRegistrator"),y="dx-multiview",p="dx-multiview-wrapper",w="dx-multiview-item-container",c="dx-multiview-item",b="dx-multiview-item-hidden",k="dxMultiViewItemData",d=200,l=function(n){return+n},g=function(n){return o.locate(n).left},r=function(n,t){o.move(n,{left:t})},u={moveTo:function(n,t,i,r){e.animate(n,{type:"slide",to:{left:t},duration:i,complete:r})},complete:function(n){e.stop(n,!0)}};v("dxMultiView",f,f.CollectionWidget.inherit({_activeStateUnit:"."+c,_supportedKeys:function(){return n.extend(this.callBase(),{pageUp:n.noop,pageDown:n.noop})},_getDefaultOptions:function(){return n.extend(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return h.real().generic&&!h.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return c},_itemDataKey:function(){return k},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=this._$wrapper.width()),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(n){var t=this._itemsCount();return n<0&&(n=n+t),n>=t&&(n=n-t),n},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.element();t.addClass(y),this._$wrapper=n("<div>").addClass(p),this._$wrapper.appendTo(t),this._$itemContainer=n("<div>").addClass(w),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_render:function(){this._deferredItems=[],this.callBase()},_renderItemContent:function(t,i,r){var f=n.Deferred(),e=this,o=this.callBase,u=n.Deferred();return u.done(function(){var n=o.call(e,t,i,r);f.resolve(n)}),this._deferredItems.push(u),this.option("deferRendering")||u.resolve(),f.promise()},_renderSelection:function(n){this._updateItems(n[0])},_updateItems:function(n,t){this._updateItemsPosition(n,t),this._updateItemsVisibility(n,t)},_updateItemsPosition:function(n,t){var i=this._itemElements(),u=-this._animationDirection(t,n),f=i.eq(n);r(f,0),r(i.eq(t),u*100+"%")},_updateItemsVisibility:function(t,r){var u=this._itemElements();u.each(n.proxy(function(u,f){var o=n(f),e=u!==t&&u!==r;e||this._renderSpecificItem(u),o.toggleClass(b,e),this.setAria("hidden",e||i,o)},this))},_renderSpecificItem:function(n){var t=this._itemElements().eq(n).find(this._itemContentClass()).length>0;a.isDefined(n)&&!t&&this._deferredItems[n].resolve()},_setAriaSelected:n.noop,_updateSelection:function(t,i){var f=t[0],e=i[0],o;u.complete(this._$itemContainer),this._updateItems(e,f),o=this._animationDirection(f,e),this._animateItemContainer(o*this._itemWidth(),n.proxy(function(){r(this._$itemContainer,0),this._updateItems(f),this._$itemContainer.width()},this))},_animateItemContainer:function(n,t){var i=this.option("animationEnabled")?d:0;u.moveTo(this._$itemContainer,n,i,t)},_animationDirection:function(n,t){var i=g(this._$itemContainer),r=(t-n)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),u=i!==0,f=u?i:r;return s.sign(f)},_initSwipeable:function(){this._createComponent(this.element(),"dxSwipeable",{disabled:!this.option("swipeEnabled"),elastic:!1,itemSizeFunc:n.proxy(this._itemWidth,this),onStart:n.proxy(function(n){this._swipeStartHandler(n.jQueryEvent)},this),onUpdated:n.proxy(function(n){this._swipeUpdateHandler(n.jQueryEvent)},this),onEnd:n.proxy(function(n){this._swipeEndHandler(n.jQueryEvent)},this)})},_swipeStartHandler:function(n){u.complete(this._$itemContainer);var t=this.option("selectedIndex"),i=this.option("loop"),r=this._itemsCount()-1,f=this.option("rtlEnabled");n.maxLeftOffset=l(i||(f?t>0:t<r)),n.maxRightOffset=l(i||(f?t<r:t>0)),this._swipeDirection=null},_swipeUpdateHandler:function(n){var u=n.offset,t=s.sign(u)*this._getRTLSignCorrection(),i,f;r(this._$itemContainer,u*this._itemWidth()),t!==this._swipeDirection&&(this._swipeDirection=t,i=this.option("selectedIndex"),f=this._normalizeIndex(i-t),this._updateItems(i,f))},_swipeEndHandler:function(t){var i=t.targetOffset*this._getRTLSignCorrection(),r;i?(this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-i)),r=this.itemElements().filter(".dx-item-selected"),this.option("focusStateEnabled")&&this.option("focusedElement",r)):this._animateItemContainer(0,n.noop)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(n){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(n.last()),t},_nextItem:function(n){var t=this.callBase.apply(this,arguments);return this._itemFocusLooped=t.is(n.first()),t},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(n){n&&this._dimensionChanged()},_optionChanged:function(n){var t=n.value;switch(n.name){case"loop":this.option("loopItemFocus",t);break;case"animationEnabled":break;case"swipeEnabled":this.element().dxSwipeable("option","disabled",!t);break;case"deferRendering":this._invalidate();break;default:this.callBase(n)}}}))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/validation/ui.defaultAdapter",["jquery","/class"],function(n,t){return t.inherit({ctor:function(t,i){var r=this,u;r.editor=t,r.validator=i,r.validationRequestsCallbacks=n.Callbacks(),u=function(){r.validationRequestsCallbacks.fire()},t.validationRequest.add(u);t.on("disposing",function(){t.validationRequest.remove(u)})},getValue:function(){return this.editor.option("value")},getCurrentValidationError:function(){return this.editor.option("validationError")},bypass:function(){return this.editor.option("disabled")},applyValidationResults:function(n){this.editor.option({isValid:n.isValid,validationError:n.brokenRule})},reset:function(){this.editor.reset()},focus:function(){this.editor.focus()}})}),DevExpress.define("/ui/widgets/ui.validator",["jquery","/ui/ui.errors","/componentRegistrator","/domComponent","/ui/ui.validationMixin","/ui/widgets/validation/ui.defaultAdapter","/ui/uiNamespace"],function(n,t,i,r,u,f,e){var s="dx-validator",o=r.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{validationRules:[]})},_init:function(){this.callBase(),this._initGroupRegistration(),this.focused=n.Callbacks(),this._initAdapter()},_initGroupRegistration:function(){var n=this._findGroup();if(!this._groupWasInit)this.on("disposing",function(n){DevExpress.validationEngine.removeRegistredValidator(n.component._validationGroup,n.component)});this._groupWasInit&&this._validationGroup===n||(DevExpress.validationEngine.removeRegistredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=n,DevExpress.validationEngine.registerValidatorInGroup(n,this))},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{validationGroup:!0})},_initAdapter:function(){var i=this,r=i.element().data("dx-validation-target"),n=i.option("adapter");if(!n){if(r){n=new f(r,this),n.validationRequestsCallbacks.add(function(){i.validate()}),this.option("adapter",n);return}throw t.Error("E0120");}n.validationRequestsCallbacks&&n.validationRequestsCallbacks.add(function(){i.validate()})},_render:function(){this.element().addClass(s),this.callBase()},_visibilityChanged:function(n){n&&this._initGroupRegistration()},_optionChanged:function(n){switch(n.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":return;case"adapter":this._initAdapter();break;default:this.callBase(n)}},validate:function(){var r=this,t=r.option("adapter"),f=r.option("name"),e=t.bypass&&t.bypass(),o=t.getValue(),u=t.getCurrentValidationError&&t.getCurrentValidationError(),s=n.map(r.option("validationRules"),function(n){return n.validator=r,n}),i;return e?i={isValid:!0}:u&&u.editorSpecific?(u.validator=this,i={isValid:!1,brokenRule:u}):i=DevExpress.validationEngine.validate(o,s,f),this._applyValidationResult(i,t),i},reset:function(){var t=this,n=t.option("adapter"),i={isValid:!0,brokenRule:null};n.reset(),this._applyValidationResult(i,n)},_applyValidationResult:function(n,t){var i=this._createActionByOption("onValidated");n.validator=this,t.applyValidationResults&&t.applyValidationResults(n),this.option({isValid:n.isValid}),i(n)},focus:function(){var n=this.option("adapter");n.focus()}}).include(u);return i("dxValidator",e,o),o}),DevExpress.require(["/ui/widgets/ui.validator"]),DevExpress.define("/ui/widgets/ui.validationSummary",["jquery","/componentRegistrator","/ui/ui.validationMixin","/ui/uiNamespace"],function(n,t,i,r){var u="dx-validationsummary",e=u+"-item",o=u+"-item-data",f=DevExpress.ui.CollectionWidget.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{validationGroup:!0})},_init:function(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration:function(){var t=this._findGroup(),i=DevExpress.validationEngine.addGroup(t);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=t,this.groupSubscription=n.proxy(this._groupValidationHandler,this);i.on("validated",this.groupSubscription)},_unsubscribeGroup:function(){var n=DevExpress.validationEngine.getGroupConfig(this._validationGroup);n&&n.off("validated",this.groupSubscription)},_getOrderedItems:function(t,i){var r=[];return n.each(t,function(t,u){var f=n.grep(i,function(n){if(n.validator===u)return!0})[0];f&&r.push(f)}),r},_groupValidationHandler:function(t){var i=this,r=i._getOrderedItems(t.validators,n.map(t.brokenRules,function(n){return{text:n.message,validator:n.validator}}));i.validators=t.validators,n.each(i.validators,function(t,r){if(r._validationSummary!==this){var u=n.proxy(i._itemValidationHandler,i),f=function(){r.off("validated",u),r._validationSummary=null,u=null};r.on("validated",u);r.on("disposing",f);r._validationSummary=this}}),i.option("items",r)},_itemValidationHandler:function(t){var i=this.option("items"),o=t.isValid,f,r=!1,e=t.brokenRule&&t.brokenRule.message,u=t.validator;o?(n.each(i,function(n,t){if(t.validator===u)return f=n,r=!0,!1}),r&&i.splice(f,1)):(n.each(i,function(n,t){if(t.validator===u)return t.text=e,r=!0,!1}),r||i.push({text:e,validator:u})),i=this._getOrderedItems(this.validators,i),this.option("items",i)},_render:function(){this.element().addClass(u),this.callBase()},_optionChanged:function(n){switch(n.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(n)}},_itemClass:function(){return e},_itemDataKey:function(){return o},_postprocessRenderItem:function(n){n.itemElement.on("click",function(){n.itemData.validator.focus()})},_dispose:function(){this.callBase(),this._unsubscribeGroup()}}).include(i);return t("dxValidationSummary",r,f),f}),DevExpress.require(["/ui/widgets/ui.validationSummary"]),DevExpress.define("/ui/widgets/ui.validationGroup",["jquery","/componentRegistrator","/domComponent","/ui/widgets/ui.validationSummary","/ui/widgets/ui.validator","/ui/uiNamespace"],function(n,t,i,r,u,f){var e="dx-validationgroup",o=i.inherit({_getDefaultOptions:function(){return this.callBase()},_init:function(){this.callBase()},_render:function(){var t=this.element();t.addClass(e),t.find(".dx-validator").each(function(t,i){u.getInstance(n(i))._initGroupRegistration()}),t.find(".dx-validationsummary").each(function(t,i){r.getInstance(n(i))._initGroupRegistration()}),this.callBase()},validate:function(){return DevExpress.validationEngine.validateGroup(this)},reset:function(){return DevExpress.validationEngine.resetGroup(this)},_optionChanged:function(n){switch(n.name){default:this.callBase(n)}},_dispose:function(){DevExpress.validationEngine.removeGroup(this),this.element().removeClass(e),this.callBase()}});return t("dxValidationGroup",f,o),o}),DevExpress.require(["/ui/widgets/ui.validationGroup"]),DevExpress.define("/ui/widgets/ui.fileUploader",["jquery","/utils/utils.browser","/utils/utils.common","/devices","/componentRegistrator","/ui/ui.editor","/ui/widgets/ui.button","/ui/widgets/track/ui.progressBar","/ui/uiNamespace","/ui/events/ui.events.utils"],function(n,t,i,r,u,f,e,o,s,h){var d="dx-fileuploader",y="dx-fileuploader-empty",g="dx-fileuploader-show-file-list",l="dx-fileuploader-dragover",nt="<input type='file'>",tt="dx-fileuploader-wrapper",it="dx-fileuploader-container",rt="dx-fileuploader-content",ut="dx-fileuploader-input-wrapper",ft="dx-fileuploader-input-container",et="dx-fileuploader-input-label",ot="dx-fileuploader-input",st="dx-fileuploader-files-container",ht="dx-fileuploader-file-container",ct="dx-fileuploader-file-info",lt="dx-fileuploader-file-status-message",at="dx-fileuploader-file",p="dx-fileuploader-file-name",w="dx-fileuploader-file-size",c="dx-fileuploader-button",a="dx-fileuploader-button-container",vt="dx-fileuploader-cancel-button",b="dx-fileuploader-upload-button",v=400,yt=function(){return!!window.FormData},pt=function(){return FormData},wt=function(){return XMLHttpRequest},k=f.inherit({_supportedKeys:function(){var t=function(n){n.preventDefault();var t=this._selectButton.element();t.trigger("dxclick")};return n.extend(this.callBase(),{space:t,enter:t})},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{value:!0})},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{buttonText:{since:"15.1",alias:"selectButtonText"}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{value:null,values:[],selectButtonText:Globalize.localize("dxFileUploader-selectFile"),uploadButtonText:Globalize.localize("dxFileUploader-upload"),labelText:Globalize.localize("dxFileUploader-dropFile"),name:"files[]",multiple:!1,accept:"",uploadUrl:"/",allowCanceling:!0,showFileList:!0,progress:0,readyToUploadMessage:Globalize.localize("dxFileUploader-readyToUpload"),uploadedMessage:Globalize.localize("dxFileUploader-uploaded"),uploadFailedMessage:Globalize.localize("dxFileUploader-uploadFailedMessage"),uploadMode:"instantly",onUploaded:null,onProgress:null,onUploadError:null,validationMessageMode:"always",validationTooltipOffset:{h:0,v:0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.real().generic&&!r.isSimulator()},options:{focusStateEnabled:!0}},{device:{platform:"generic"},options:{validationTooltipOffset:{h:3}}},{device:[{platform:"android"},{platform:"win"}],options:{validationTooltipOffset:{v:0}}}])},_init:function(){this.option("value",null),this.option("values",[]),this.callBase.apply(this,arguments),this._initFileInput(),this._initLabel(),this._createFiles(),this._createUploadedAction(),this._createProgressAction(),this._createUploadErrorAction(),this.element().addClass(d)},_initFileInput:function(){if(!this._$fileInput){this._$fileInput=n(nt);this._$fileInput.on("change",n.proxy(this._inputChangeHandler,this)).on("click",n.proxy(function(){return this._isCustomClickEvent},this))}this._$fileInput.prop({multiple:this.option("multiple"),name:this.option("name"),accept:this.option("accept"),tabindex:-1})},_inputChangeHandler:function(){if(!this._doPreventInputChange){var u=this._$fileInput.val().replace(/^.*\\/,""),i=this._$fileInput.prop("files"),r=[];(!i||i.length)&&(i?n.each(i,function(n,t){r.push(t)}):r=[{name:u}],this._shouldChangeValue=!0,this.option("values",r),delete this._shouldChangeValue,this.option("uploadMode")==="instantly"&&this._uploadFiles())}},_initLabel:function(){this._$inputLabel||(this._$inputLabel=n("<div>")),this._$inputLabel.text(this.option("labelText"))},_focusTarget:function(){return this.element().find("."+c)},_render:function(){this._renderWrapper(),this._renderInputWrapper(),this._renderDragEvents(),this._renderSelectButton(),this._renderInputContainer(),this._renderFiles(),this._renderUploadButton(),this.callBase.apply(this,arguments)},_createFiles:function(){this._files=[],n.each(this.option("values"),n.proxy(function(n,t){this._files.push(this._createFile(t))},this))},_createUploadedAction:function(){this._uploadedAction=this._createActionByOption("onUploaded")},_createProgressAction:function(){this._progressAction=this._createActionByOption("onProgress")},_createUploadErrorAction:function(){this._uploadErrorAction=this._createActionByOption("onUploadError")},_createFile:function(t){return{value:t,loadedSize:0,onProgress:n.Callbacks(),onLoad:n.Callbacks(),onError:n.Callbacks(),onLoadStart:n.Callbacks()}},_renderFiles:function(){var t,i;this._$filesContainer?this._$filesContainer.empty():this._$filesContainer=n("<div>").addClass(st).appendTo(this._$content),t=this.option("showFileList"),t&&(i=this,n.each(this._files,function(n,t){i._renderFile(t)})),this.element().toggleClass(g,t),this.element().toggleClass(y,!this._files.length),this._updateFileNameMaxWidth(),this._$validationMessage&&this._$validationMessage.dxTooltip("repaint")},_renderFile:function(t){var r=t.value,f=n("<div>").addClass(ht).appendTo(this._$filesContainer),u;this._renderFileButtons(t,f),t.$file=n("<div>").addClass(at).appendTo(f),u=n("<div>").addClass(ct).appendTo(t.$file),t.$statusMessage=n("<div>").addClass(lt).text(this.option("readyToUploadMessage")).appendTo(t.$file),n("<div>").addClass(p).text(r.name).appendTo(u),i.isDefined(r.size)&&n("<div>").addClass(w).text(this._getFileSize(r.size)).appendTo(u)},_updateFileNameMaxWidth:function(){var i=this.option("allowCanceling")?1:0,r=this.option("uploadMode")==="useButtons"?1:0,u=this._$filesContainer.width(),f=this._$filesContainer.find("."+a).eq(0),e=f.width()*(i+r),n=this._$filesContainer.find("."+w).eq(0),o=n.text(),t;n.text("1000 Mb"),t=n.width(),n.text(o),this._$filesContainer.find("."+p).css("max-width",u-e-t)},_renderFileButtons:function(t,i){t.cancelButton=this._createComponent(n("<div>").addClass(c+" "+vt),e,{onClick:n.proxy(function(){this._removeFile(t)},this),icon:"close",visible:this.option("allowCanceling"),_templates:{}}),n("<div>").addClass(a).append(t.cancelButton.element()).appendTo(i),this.option("uploadMode")==="useButtons"&&(t.uploadButton=this._createComponent(n("<div>").addClass(c+" "+b),e,{onClick:n.proxy(function(){this._uploadFile(t)},this),icon:"upload"}),n("<div>").addClass(a).append(t.uploadButton.element()).appendTo(i),t.onLoadStart.add(n.proxy(function(){t.uploadButton.element().remove()},this)))},_removeFile:function(t){t.$file.parent().remove(),this._files.splice(n.inArray(t,this._files),1);var i=this.option("values").slice();i.splice(n.inArray(t.value,i),1),this._shouldChangeValue=this._doPreventRecreatingFiles=!0,this.option("values",i),this._shouldChangeValue=this._doPreventRecreatingFiles=!1,this.element().toggleClass(y,!this._files.length),this._doPreventInputChange=!0,this._$fileInput.val(""),this._doPreventInputChange=!1},_getFileSize:function(n){for(var t=0,i=[Globalize.localize("dxFileUploader-bytes"),Globalize.localize("dxFileUploader-kb"),Globalize.localize("dxFileUploader-Mb"),Globalize.localize("dxFileUploader-Gb")],r=i.length-1;t<r&&n>=1024;)n/=1024,t++;return Math.round(n)+" "+i[t]},_renderSelectButton:function(){var t=n("<div>").addClass(c).appendTo(this._$inputWrapper);if(this._selectButton=this._createComponent(t,e,{text:this.option("selectButtonText"),focusStateEnabled:!1,_templates:{}}),r.real().deviceType==="desktop")this._selectButton.option("onClick",n.proxy(this._selectButtonClickHandler,this));else t.off("click").on("click",n.proxy(this._selectButtonClickHandler,this))},_selectButtonClickHandler:function(){if(this.option("disabled"))return!1;this._isCustomClickEvent=!0,this._$fileInput.click(),this._isCustomClickEvent=!1},_renderUploadButton:function(){if(this.option("uploadMode")==="useButtons"){var t=n("<div>").addClass(c).addClass(b).appendTo(this._$content);this._uploadButton=this._createComponent(t,e,{text:this.option("uploadButtonText"),onClick:n.proxy(this._uploadButtonClickHandler,this),_templates:{}})}},_uploadButtonClickHandler:function(){this._uploadFiles()},_renderInputContainer:function(){this._$inputContainer=n("<div>").addClass(ft).appendTo(this._$inputWrapper),t.msie&&this._$inputContainer.css("display","none"),this._$fileInput.addClass(ot).appendTo(this._$inputContainer),this._$inputLabel.addClass(et).appendTo(this._$inputContainer)},_renderInputWrapper:function(){this._$inputWrapper=n("<div>").addClass(ut).appendTo(this._$content)},_renderDragEvents:function(){if(r.real().platform==="generic"&&!t.msie){this._dragEventsCount=0;this._$inputWrapper.off("."+this.NAME).on(h.addNamespace("dragenter",this.NAME),n.proxy(this._dragEnterHandler,this)).on(h.addNamespace("dragleave",this.NAME),n.proxy(this._dragLeaveHandler,this)).on(h.addNamespace("drop",this.NAME),n.proxy(this._dropHandler,this))}},_dragEnterHandler:function(){if(this.option("disabled"))return!1;this._dragEventsCount++,this.element().addClass(l)},_dragLeaveHandler:function(){this._dragEventsCount--,this._dragEventsCount<=0&&this.element().removeClass(l)},_dropHandler:function(){this._dragEventsCount=0,this.element().removeClass(l)},_renderWrapper:function(){var t=n("<div>").addClass(tt).appendTo(this.element()),i=n("<div>").addClass(it).appendTo(t);this._$content=n("<div>").addClass(rt).appendTo(i)},_clean:function(){this._$fileInput.detach(),delete this._$filesContainer,this.callBase.apply(this,arguments)},_uploadFiles:function(){yt()&&n.each(this._files,n.proxy(function(n,t){this._uploadFile(t)},this))},_uploadFile:function(t){if(!t.progressBar){var i=t.$file,r=t.value;this._initUploadRequest(t),i&&(t.progressBar=this._createProgressBar(r.size),t.progressBar.element().appendTo(i),this._initStatusMessage(t),this._initCancelButton(t)),t.onLoad.add(n.proxy(this._onLoadedHandler,this,t)),t.onError.add(n.proxy(this._onErrorHandler,this,t)),t.onProgress.add(n.proxy(this._onProgressHandler,this,t)),t.request.send(this._createFormData(this.option("name"),r))}},_onErrorHandler:function(n,t){var i=this;setTimeout(function(){i.option("showFileList")&&(n.$statusMessage.text(i.option("uploadFailedMessage")),n.$statusMessage.css("display",""),n.progressBar.element().remove())},v),this._uploadErrorAction({file:n,jQueryEvent:t})},_onLoadedHandler:function(n,t){var i=this;setTimeout(function(){i.option("showFileList")&&(n.$statusMessage.text(i.option("uploadedMessage")),n.$statusMessage.css("display",""),n.progressBar.element().remove())},v),this._uploadedAction({file:n,jQueryEvent:t})},_onProgressHandler:function(n,t){var f=this._getTotalSize(),i=0,r=this._getLoadedSize(),e=0,u;n&&(i=Math.min(t.loaded,n.value.size),u=i-n.loadedSize,r+=u,n.progressBar&&n.progressBar.option({value:i,showStatus:!0}),this._progressAction({file:n,segmentSize:u,bytesLoaded:t.loaded,jQueryEvent:t}),n.loadedSize=i),f&&(e=Math.round(r/f*100)),this.option("progress",e),this._setLoadedSize(r)},_initStatusMessage:function(n){n.$statusMessage.css("display","none")},_initCancelButton:function(t){var r=n.proxy(function(){t.request.abort(),this._removeFile(t)},this),i;t.cancelButton.option("onClick",r),i=function(){setTimeout(function(){t.cancelButton.option({visible:!1})},v)},t.onLoad.add(i),t.onError.add(i)},_initUploadRequest:function(t){var i=this;t.request=this._createRequest(this.option("uploadUrl")),t.loadedSize=0,t.request.onreadystatechange=n.proxy(function(n){if(n.currentTarget.readyState===4){var t=n.currentTarget.status;i._isStatusSuccess(t)?this.onLoad.fire(n):(i._isStatusError(t)||!this._isProgressStarted)&&(this._isError=!0,this.onError.fire(n))}},t),t.request.upload.onprogress=n.proxy(function(n){this._isError||(this._isProgressStarted=!0,this.onProgress.fire(n))},t),t.request.upload.onloadstart=n.proxy(function(n){this.onLoadStart.fire(n)},t)},_isStatusSuccess:function(n){return 200<=n&&n<300},_isStatusError:function(n){return 400<=n&&n<500},_createRequest:function(n){var i=wt(),t=new i;return t.open("POST",n,!0),t},_createFormData:function(n,t){var r=pt(),i=new r;return i.append(n,t),i},_createProgressBar:function(t){return this._createComponent(n("<div>"),o,{value:undefined,min:0,max:t,statusFormat:function(n){return Math.round(n*100)+"%"},showStatus:!1,statusPosition:"right"})},_getTotalSize:function(){if(!this._totalSize){var i=this.option("values"),t=0;n.each(i,function(n,i){t+=i.size}),this._totalSize=t}return this._totalSize},_getLoadedSize:function(){if(!this._loadedSize){var t=0;n.each(this._files,function(n,i){t+=i.loadedSize}),this._loadedSize=t}return this._loadedSize},_setLoadedSize:function(n){this._loadedSize=n},_recalculateProgress:function(){delete this._totalSize,delete this._loadedSize,this._onProgressHandler()},_getValidationTooltipTarget:function(){return this._$inputWrapper},_optionChanged:function(n){var t=n.value;switch(n.name){case"height":case"width":this._updateFileNameMaxWidth(),this.callBase(n);break;case"value":this._shouldChangeValue||(this._$fileInput.val(""),this.option("values",[])),this.callBase(n);break;case"values":t.length&&!this._shouldChangeValue?this.option("values",[]):(this._doPreventRecreatingFiles||(this._createFiles(),this._renderFiles()),this.option("value",t[0]||null),this._recalculateProgress());break;case"name":case"accept":this._initFileInput();break;case"multiple":this._initFileInput(),n.value||this.option("values",[]);break;case"selectButtonText":this._selectButton.option("text",t);break;case"uploadButtonText":this._uploadButton&&this._uploadButton.option("text",t);break;case"readyToUploadMessage":case"uploadedMessage":case"uploadFailedMessage":this._invalidate();break;case"labelText":this._$inputLabel.text(t);break;case"showFileList":this._renderFiles();break;case"uploadUrl":case"progress":break;case"allowCanceling":case"uploadMode":this.reset(),this._invalidate();break;case"onUploaded":this._createUploadedAction();break;case"onProgress":this._createProgressAction();break;case"onUploadError":this._createUploadErrorAction();break;default:this.callBase(n)}},_valueChangeArgs:function(){return n.extend(this.callBase.apply(this,arguments),{values:this.option("values")})}});return u("dxFileUploader",s,k),k}),DevExpress.require(["/ui/widgets/ui.fileUploader"]),function(n,t,i){var r=t.ui,f=t.require("/utils/utils.support"),u=t.require("/devices"),e=t.require("/componentRegistrator"),o="dx-tabpanel",s="dx-tabpanel-tabs",h="dx-tabpanel-container";e("dxTabPanel",r,r.dxMultiView.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return u.real().generic&&!u.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!f.touch},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.element().addClass(o),this.setAria("role","tabpanel"),this._renderLayout()},_renderLayout:function(){var t=this.element(),i;this._$tabContainer=n("<div>").addClass(s).appendTo(t),i=n("<div>").appendTo(this._$tabContainer),this._tabs=this._createComponent(i,"dxTabs",this._tabConfig()),this._$container=n("<div>").addClass(h).appendTo(t),this._$container.append(this._$wrapper),this._updateLayout()},_updateLayout:function(){var n=this._$tabContainer.outerHeight();this._$container.css({"margin-top":-n,"padding-top":n})},_refreshActiveDescendant:function(){var t=this._tabs,r=t.itemElements(),u=n(r[t.option("selectedIndex")]),f=this.getFocusedItemId();this.setAria("controls",i,n(r)),this.setAria("controls",f,u)},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),onItemClick:this.option("onTitleClick"),onItemHold:this.option("onTitleHold"),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:n.proxy(function(n){this.option("selectedIndex",n.component.option("selectedIndex")),this._refreshActiveDescendant()},this),onItemRendered:this.option("onTitleRendered"),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:n.proxy(function(n){var u=n.name,t=n.value,i,r;u==="focusedElement"&&(i=t?t.index():t,r=t?this._itemElements().eq(i):t,this.option("focusedElement",r))},this),onFocusIn:n.proxy(function(n){this._focusInHandler(n.jQueryEvent)},this),onFocusOut:n.proxy(function(n){this._focusOutHandler(n.jQueryEvent)},this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabindex",-1),this._refreshActiveDescendant()},_updateFocusState:function(n,t){this.callBase(n,t),n.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(t,this._focusTarget())},_setTabsOption:function(n,t){this._tabs&&this._tabs.option(n,t)},_visibilityChanged:function(n){n&&(this._tabs._dimensionChanged(),this._updateLayout())},_optionChanged:function(n){var i=n.name,t=n.value,r,u;switch(i){case"dataSource":this.callBase(n);break;case"items":case"selectedIndex":case"selectedItem":case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(i,t),this.callBase(n);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(i,t);break;case"focusedElement":r=t?t.index():t,u=t?this._tabs._itemElements().eq(r):t,this._setTabsOption("focusedElement",u),this.callBase(n),this._tabs.focus();break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._setTabsOption("onItemClick",t);break;case"onTitleHold":this._setTabsOption("onItemHold",t);break;case"onTitleRendered":this._setTabsOption("onItemRendered",t);break;case"loop":this._setTabsOption("loopItemFocus",t);break;default:this.callBase(n)}}}))}(jQuery,DevExpress),DevExpress.define("/ui/widgets/ui.colorView",["jquery","/utils/utils.translator","/utils/utils.browser","/color","/devices","/componentRegistrator","/ui/ui.editor","/ui/uiNamespace","/ui/widgets/ui.numberBox","/ui/widgets/ui.textBox"],function(n,t,i,r,u,f,e,o,s,h){var y="dx-colorview",p="dx-colorview-container",c="dx-colorview-container-row",w="dx-colorview-container-cell",b="dx-colorview-palette",k="dx-colorview-palette-cell",d="dx-colorview-palette-handle",l="dx-colorview-palette-gradient",g="dx-colorview-palette-gradient-white",nt="dx-colorview-palette-gradient-black",tt="dx-colorview-hue-scale",it="dx-colorview-hue-scale-cell",rt="dx-colorview-hue-scale-handle",ut="dx-colorview-hue-scale-wrapper",ft="dx-colorview-controls-container",et="dx-colorview-label-red",ot="dx-colorview-label-green",st="dx-colorview-label-blue",ht="dx-colorview-label-hex",ct="dx-colorview-alpha-channel-scale",lt="dx-colorview-alpha-channel-row",at="dx-colorview-alpha-channel-wrapper",vt="dx-colorview-alpha-channel-label",yt="dx-colorview-alpha-channel-handle",pt="dx-colorview-alpha-channel-cell",wt="dx-colorview-alpha-channel-border",a="dx-colorview-color-preview",bt="dx-colorview-color-preview-container",kt="dx-colorview-color-preview-container-inner",dt="dx-colorview-color-preview-color-current",gt="dx-colorview-color-preview-color-new",v=e.inherit({_supportedKeys:function(){var r=this.option("rtlEnabled"),i=this,u=function(n){var t=100/i._paletteWidth;return n.shiftKey&&(t=t*i.option("keyStep")),t=t>1?t:1,Math.round(t)},f=function(n){var t=i._currentColor.hsv.s+n;t>100?t=100:t<0&&(t=0),i._currentColor.hsv.s=t,s()},e=function(n){var t=100/i._paletteHeight;return n.shiftKey&&(t=t*i.option("keyStep")),t=t>1?t:1,Math.round(t)},o=function(n){var t=i._currentColor.hsv.v+n;t>100?t=100:t<0&&(t=0),i._currentColor.hsv.v=t,s()},s=function(){i._placePaletteHandle(),i._updateColorFromHsv(i._currentColor.hsv.h,i._currentColor.hsv.s,i._currentColor.hsv.v)},h=function(n){var t=360/(i._hueScaleWrapperHeight-i._hueScaleHandleHeight);return n.shiftKey&&(t=t*i.option("keyStep")),t=t>1?t:1},c=function(n){i._currentColor.hsv.h+=n,i._placeHueScaleHandle();var r=t.locate(i._$hueScaleHandle);i._updateColorHue(r.top+i._hueScaleHandleHeight/2)},l=function(n){var t=1/i._alphaChannelScaleWorkWidth;return n.shiftKey&&(t=t*i.option("keyStep")),t=t>.01?t:.01,t=r?-t:t},a=function(n){i._currentColor.a+=n,i._placeAlphaChannelHandle();var r=t.locate(i._$alphaChannelHandle);i._calculateColorTransparenceByScaleWidth(r.left+i._alphaChannelHandleWidth/2)};return n.extend(this.callBase(),{upArrow:function(n){n.preventDefault(),n.stopPropagation(),n.ctrlKey?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&c(h(n)):this._currentColor.hsv.v<100&&o(e(n))},downArrow:function(n){n.preventDefault(),n.stopPropagation(),n.ctrlKey?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),c(-h(n))):this._currentColor.hsv.v>0&&o(-e(n))},rightArrow:function(n){n.preventDefault(),n.stopPropagation(),n.ctrlKey?(r?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&a(-l(n)):this._currentColor.hsv.s<100&&f(u(n))},leftArrow:function(n){n.preventDefault(),n.stopPropagation(),n.ctrlKey?(r?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&a(l(n)):this._currentColor.hsv.s>0&&f(-u(n))},enter:function(){this.option("applyValueMode")==="useButtons"&&this.applyColor()}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{value:null,editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return u.real().generic&&!u.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity()},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(n){n=n||"#000000";var t=new r(n);t.colorIsInvalid?this.option("value",this._currentColor.baseColor):this._currentColor&&this._makeRgba(this._currentColor)===this._makeRgba(t)||(this._currentColor=t,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,t))},_render:function(){this.callBase(),this.element().addClass(y),this._renderColorPickerContainer()},_enterKeyHandler:function(){this.option("applyValueMode")==="useButtons"&&this.applyColor()},_makeTransparentBackground:function(n,t){t instanceof r||(t=new r(t)),i.msie&&i.version==="8.0"?n.css({background:t.toHex(),filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+t.a*100+")"}):n.css("backgroundColor",this._makeRgba(t))},_makeRgba:function(n){return n instanceof r||(n=new r(n)),"rgba("+[n.r,n.g,n.b,n.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var t=this.element();this._$colorPickerContainer=n("<div>",{"class":p,appendTo:t}),this._renderHtmlRows(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_renderHtmlRows:function(t){var f=this._$colorPickerContainer.find("."+c),r=f.length,h=this._calculateRowsCount(),i=r-h,o,u,e,s;if(i>0&&(o=this._calculateRemovedHtmlRowIndex(r,t),f.eq(o).remove()),i<0){for(i=Math.abs(i),u=[],e=0;e<i;e++)u.push(n("<div>",{"class":c}));r?(s=this._calculateHtmlRowIndex(r,t),f.eq(s).after(u)):this._$colorPickerContainer.append(u)}},_renderHtmlCellInsideRow:function(t,i,r){return n("<div>",{"class":w,addClass:r,appendTo:i.find("."+c+t)})},_calculateRowsCount:function(){return this.option("editAlphaChannel")?this.option("applyValueMode")==="instantly"?2:3:this.option("applyValueMode")==="instantly"?1:2},_calculateRemovedHtmlRowIndex:function(n,t){var i=-1;return n===3&&(t==="editAlphaChannel"&&(i=-2),t==="applyValueMode"&&(i=-1)),i},_calculateHtmlRowIndex:function(n,t){var i=0;return n===2&&t==="applyValueMode"&&(i=1),i},_renderPalette:function(){var t=this._renderHtmlCellInsideRow(":first",this._$colorPickerContainer,k),i=n("<div>",{"class":[l,g].join(" ")}),r=n("<div>",{"class":[l,nt].join(" ")});this._$palette=n("<div>",{"class":b,css:{backgroundColor:this._currentColor.getPureColor().toHex()},appendTo:t}),this._paletteHeight=this._$palette.height(),this._paletteWidth=this._$palette.width(),this._renderPaletteHandle(),this._$palette.append([i,r])},_renderPaletteHandle:function(){this._createComponent(this._$paletteHandle=n("<div>",{"class":d,appendTo:this._$palette}),"dxDraggable",{area:this._$palette,allowMoveByClick:!0,boundOffset:n.proxy(function(){return-this._paletteHandleHeight/2},this),onDrag:n.proxy(function(){var i=t.locate(this._$paletteHandle);this._updateByDrag=!0,this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(i),this._calculateColorValue(i))},this)}),this._paletteHandleWidth=this._$paletteHandle.width(),this._paletteHandleHeight=this._$paletteHandle.height(),this._placePaletteHandle()},_placePaletteHandle:function(){t.move(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(n){var t=Math.floor(n.top+this._paletteHandleHeight/2);return 100-Math.round(t*100/this._paletteHeight)},_calculateColorSaturation:function(n){var t=Math.floor(n.left+this._paletteHandleWidth/2);return Math.round(t*100/this._paletteWidth)},_updateColorFromHsv:function(n,t,i){var u=this._currentColor.a;this._currentColor=new r("hsv("+[n,t,i].join(",")+")"),this._currentColor.a=u,this._updateColorParamsAndColorPreview(),this.option("applyValueMode")==="instantly"&&this.applyColor()},_renderHueScale:function(){var t=this._renderHtmlCellInsideRow(":first",this._$colorPickerContainer,it);this._$hueScaleWrapper=n("<div>",{"class":ut,appendTo:t}),this._$hueScale=n("<div>",{"class":tt,appendTo:this._$hueScaleWrapper}),this._hueScaleHeight=this._$hueScale.height(),this._hueScaleWrapperHeight=this._$hueScaleWrapper.outerHeight(),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){this._createComponent(this._$hueScaleHandle=n("<div>",{"class":rt,appendTo:this._$hueScaleWrapper}),"dxDraggable",{area:this._$hueScaleWrapper,allowMoveByClick:!0,direction:"vertical",onDrag:n.proxy(function(){this._updateByDrag=!0,this._updateColorHue(t.locate(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)},this)}),this._hueScaleHandleHeight=this._$hueScaleHandle.height(),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var i=this._hueScaleWrapperHeight,r=this._hueScaleHandleHeight,n=(i-r)*(360-this._currentColor.hsv.h)/360;i<n+r&&(n=i-r),n<0&&(n=0),t.move(this._$hueScaleHandle,{top:Math.round(n)})},_updateColorHue:function(n){var t=360-Math.round((n-this._hueScaleHandleHeight/2)*360/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),i=this._currentColor.hsv.s,r=this._currentColor.hsv.v;this._isTopColorHue=!1,t=t<0?0:t,t>=360&&(this._isTopColorHue=!0,t=0),this._updateColorFromHsv(t,i,r),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var t=this._renderHtmlCellInsideRow(":first",this._$colorPickerContainer);this._$controlsContainer=n("<div>",{"class":ft,appendTo:t})},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var t=n("<div>",{"class":bt,appendTo:this._$controlsContainer}),i=n("<div>",{"class":kt,appendTo:t});this._$currentColor=n("<div>",{"class":[a,dt].join(" ")}),this._$newColor=n("<div>",{"class":[a,gt].join(" ")}),this._makeTransparentBackground(this._$currentColor,this._currentColor),this._makeTransparentBackground(this._$newColor,this._currentColor),i.append([this._$currentColor,this._$newColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+c).eq(1).addClass(lt),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:s.publicName(),value:this._currentColor.r,onValueChanged:n.proxy(this._updateColor,this,!1),labelText:"R",labelAriaText:Globalize.localize("dxColorView-ariaRed"),labelClass:et}),this._renderEditorWithLabel({editorType:s.publicName(),value:this._currentColor.g,onValueChanged:n.proxy(this._updateColor,this,!1),labelText:"G",labelAriaText:Globalize.localize("dxColorView-ariaGreen"),labelClass:ot}),this._renderEditorWithLabel({editorType:s.publicName(),value:this._currentColor.b,onValueChanged:n.proxy(this._updateColor,this,!1),labelText:"B",labelAriaText:Globalize.localize("dxColorView-ariaBlue"),labelClass:st})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")],n.each(this._rgbInputs,n.proxy(function(n,t){this._attachEnterKeyHandler(t)},this))},_renderEditorWithLabel:function(t){var r=n("<div>"),f=n("<label>",{"class":t.labelClass,text:t.labelText+":",append:r}).off("dxclick").on("dxclick",function(n){n.preventDefault()}),u=t.editorType,i={value:t.value,onValueChanged:t.onValueChanged};return u===s.publicName()&&(i.min=t.min||0,i.max=t.max||255,i.step=t.step||1),r[u](i),this.setAria("label",t.labelAriaText,r),f},hexInputOptions:function(){return{editorType:h.publicName(),value:this._currentColor.toHex().replace("#",""),onValueChanged:n.proxy(this._updateColor,this,!0),labelClass:ht,labelText:"#",labelAriaText:Globalize.localize("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=h.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox")),this._attachEnterKeyHandler(this._hexInput)},_attachEnterKeyHandler:function(t){t.registerKeyHandler("enter",n.proxy(function(n){this._enterKeyHandler(n)},this))},_renderAlphaChannelScale:function(){var t=this._renderHtmlCellInsideRow(":eq(1)",this._$colorPickerContainer,pt),i=n("<div>",{"class":wt,appendTo:t}),r=n("<div>",{"class":at,appendTo:i});this._$alphaChannelScale=n("<div>",{"class":ct,appendTo:r}),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(t)},_makeCSSLinearGradient:function(n){var t=this._currentColor,i=[t.r,t.g,t.b].join(","),r=t.toHex().replace("#",""),u=function(n,t){var u=this.option("rtlEnabled"),i="rgba("+n+", "+(u?"1":"0")+")",r="rgba("+n+", "+(u?"0":"1")+")",f="'#"+(u?"00":"")+t+"'",e="'#"+(u?"":"00")+t+"'";return["background-image: -webkit-linear-gradient(180deg, "+i+", "+r+")","background-image: -moz-linear-gradient(-90deg, "+i+", "+r+")","background-image: -ms-linear-gradient(-90deg, "+i+", "+r+")","background-image: -o-linear-gradient(-90deg, "+i+", "+r+")","background-image: linear-gradient(-90deg, "+i+", "+r+")","filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+f+", endColorstr="+e+")","-ms-filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+f+", endColorstr="+e+")"].join(";")};n.attr("style",u.call(this,i,r))},_renderAlphaChannelInput:function(){var n=this,t=this._renderHtmlCellInsideRow(":eq(1)",this._$colorPickerContainer);n._alphaChannelInput=this._renderEditorWithLabel({editorType:s.publicName(),value:this._currentColor.a,max:1,step:.1,onValueChanged:function(t){var i=t.value;i=n._currentColor.isValidAlpha(i)?i:n._currentColor.a,n._updateColorTransparence(i),n._placeAlphaChannelHandle()},labelClass:vt,labelText:"Alpha",labelAriaText:Globalize.localize("dxColorView-ariaAlpha")}).appendTo(t).find(".dx-numberbox").dxNumberBox("instance"),this._attachEnterKeyHandler(n._alphaChannelInput)},_updateColorTransparence:function(n){this._currentColor.a=n,this._makeTransparentBackground(this._$newColor,this._currentColor),this.option("applyValueMode")==="instantly"&&this.applyColor()},_renderAlphaChannelHandle:function(i){this._createComponent(this._$alphaChannelHandle=n("<div>",{"class":yt,appendTo:i}),"dxDraggable",{area:i,allowMoveByClick:!0,direction:"horizontal",onDrag:n.proxy(function(){this._updateByDrag=!0;var i=this._$alphaChannelHandle,r=t.locate(i).left+this._alphaChannelHandleWidth/2;this._calculateColorTransparenceByScaleWidth(r)},this)}),this._alphaChannelHandleWidth=this._$alphaChannelHandle.width(),this._alphaChannelScaleWorkWidth=i.width()-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparenceByScaleWidth:function(n){var t=(n-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,i=this.option("rtlEnabled");t=i?t:1-t,n>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?t=i?1:0:t<1&&(t=t.toFixed(2)),this._alphaChannelInput.option("value",t)},_placeAlphaChannelHandle:function(){var n=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);n<0&&(n=0),this._alphaChannelScaleWorkWidth<n&&(n=this._alphaChannelScaleWorkWidth),t.move(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-n:n})},applyColor:function(){var n=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),this.option("value",n)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(n){var t,i;n?i=this._validateHex("#"+this._hexInput.option("value")):(t=this._validateRgb(),this._alphaChannelInput?(t.push(this._alphaChannelInput.option("value")),i="rgba("+t.join(", ")+")"):i="rgb("+t.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new r(i),this._refreshMarkup(),this.option("applyValueMode")==="instantly"&&this.applyColor())},_validateHex:function(n){return this._currentColor.isValidHex(n)?n:this._currentColor.toHex()},_validateRgb:function(){var n=this._rgbInputs[0].option("value"),t=this._rgbInputs[1].option("value"),i=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(n,t,i)||(n=this._currentColor.r,t=this._currentColor.g,i=this._currentColor.b),[n,t,i]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparence(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this._makeTransparentBackground(this._$newColor,this._currentColor),this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(n){var t=n.value;switch(n.name){case"value":this._setCurrentColor(t),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(n);break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"applyValueMode":this._$colorPickerContainer&&this._renderHtmlRows("applyValueMode");break;case"keyStep":break;default:this.callBase(n)}}});return f("dxColorView",o,v),v}),DevExpress.define("/ui/widgets/ui.colorBox",["jquery","/color","/componentRegistrator","/ui/widgets/ui.colorView","/ui/uiNamespace","/ui/events/ui.events.utils","/ui/widgets/ui.dropDownEditor"],function(n,t,i,r,u,f,e){var s="dx-colorbox",c=s+"-input",v=c+"-container",y=s+"-color-result-preview",l=s+"-color-is-not-defined",p=s+"-overlay",w="dx-colorview-container-cell",b="dx-colorview-button-cell",k="dx-colorview-buttons-container",d="dx-colorview-apply-button",g="dx-colorview-cancel-button",h=r.prototype,o={makeTransparentBackground:n.proxy(h._makeTransparentBackground,h),makeRgba:n.proxy(h._makeRgba,h)},a=e.inherit({_supportedKeys:function(){var t=function(n){return n.stopPropagation(),this.option("opened")?(n.preventDefault(),!0):void 0},i=function(n){return this.option("opened")?n.altKey?(this.close(),!1):!0:(n.preventDefault(),!1)},r=function(n){return!this.option("opened")&&!n.altKey?(n.preventDefault(),!1):!this.option("opened")&&n.altKey?(this._validatedOpening(),!1):!0};return n.extend(this.callBase(),{tab:function(n){this.option("opened")&&(n.preventDefault(),this._colorView._rgbInputs[0].focus())},enter:this._enterKeyHandler,leftArrow:t,rightArrow:t,upArrow:i,downArrow:r})},_getDefaultOptions:function(){return n.extend(this.callBase(),{editAlphaChannel:!1,applyButtonText:Globalize.localize("OK"),cancelButtonText:Globalize.localize("Cancel"),applyValueMode:"useButtons",keyStep:1,onApplyButtonClick:null,onCancelButtonClick:null,buttonsLocation:"bottom after"})},_popupConfig:function(){return n.extend(this.callBase(),{height:"auto",width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var n=this._popup.bottomToolbar();n&&(n.addClass(w).addClass(b).find(".dx-toolbar-items-container").addClass(k),n.find(".dx-popup-done").addClass(d),n.find(".dx-popup-cancel").addClass(g))},_createColorView:function(){this._popup.overlayContent().addClass(p);var t=n("<div>").appendTo(this._popup.content());this._colorView=this._createComponent(t,r,this._colorViewConfig()),this._colorView._enterKeyHandler=n.proxy(this._enterKeyHandler,this);t.on("focus",n.proxy(function(){this.focus()},this))},_colorViewConfig:function(){var n=this;return{value:n.option("value"),editAlphaChannel:n.option("editAlphaChannel"),applyValueMode:n.option("applyValueMode"),focusStateEnabled:n.option("focusStateEnabled"),onValueChanged:function(t){var i=t.value;n.option("value",i),i&&o.makeTransparentBackground(n._$colorResultPreview,i)},_keyboardProcessor:n._colorViewProccessor}},_enterKeyHandler:function(n){var i=this._input().val(),r=this.option("editAlphaChannel")?o.makeRgba(this.option("value")):this.option("value"),u=new t(i);if(u.colorIsInvalid&&i!==""){this._input().val(r);return}return i&&i!==r?(this._applyColorFromInput(i),this.option("value",this.option("editAlphaChannel")?o.makeRgba(i):i),!1):(this._colorView&&this.option("applyValueMode")==="useButtons"&&this._colorView.applyColor(),this.option("opened")&&(n.preventDefault(),this.close()),!1)},_applyButtonHandler:function(){this._colorView.applyColor(),n.isFunction(this.option("onApplyButtonClick"))&&this.option("onApplyButtonClick")(),this.callBase()},_cancelButtonHandler:function(){this._colorView.cancelColor(),n.isFunction(this.option("onCancelButtonClick"))&&this.option("onCancelButtonClick")(),this.callBase()},_attachChildKeyboardEvents:function(){if(this._colorViewProccessor=this._keyboardProcessor.attachChildProcessor(),this._colorView){this._colorView.option("_keyboardProcessor",this._colorViewProccessor);return}},_init:function(){this.callBase()},_render:function(){this.callBase(),this.element().addClass(s)},_renderInput:function(){this.callBase(),this._input().addClass(c),this._renderColorPreview()},_renderColorPreview:function(){this.element().wrapInner(n("<div/>").addClass(v)),this._$colorBoxInputContainer=this.element().children().eq(0),this._$colorResultPreview=n("<div>",{"class":y,appendTo:this._$colorBoxInputContainer}),this.option("value")?o.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(l)},_renderValue:function(){var n=this.option("value");this.option("text",this.option("editAlphaChannel")?o.makeRgba(n):n),this.callBase()},_valueChangeEventHandler:function(n){var t=this._input().val();t&&(t=this._applyColorFromInput(t),this._colorView&&(this._colorView._setCurrentColor(t),this._colorView._refreshMarkup())),this.callBase(n,t)},_applyColorFromInput:function(n){var i=new t(n);return i.colorIsInvalid&&(n=this.option("value"),this._input().val(n)),n},_optionChanged:function(n){var t=n.value,i=n.name;switch(i){case"value":this._$colorBoxInputContainer.toggleClass(l,!t),t?o.makeTransparentBackground(this._$colorResultPreview,t):this._$colorResultPreview.removeAttr("style"),this._colorView&&this._colorView.option("value",t),this.callBase(n);break;case"applyButtonText":case"cancelButtonText":this.callBase(n),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"onCancelButtonClick":case"onApplyButtonClick":case"keyStep":this._colorView&&this._colorView.option(i,t);break;case"applyValueMode":this._colorView&&this._colorView.option(i,t),this.callBase(n);break;case"rtlEnabled":this._colorView&&this._colorView.option(i,t),this.callBase(n);break;default:this.callBase(n)}}});return i("dxColorBox",u,a),a}),DevExpress.require(["/ui/widgets/ui.colorBox"]),function(n,t){var f=t.ui,a=t.require("/ui/ui.errors"),i=t.require("/utils/utils.common"),v=t.require("/componentRegistrator"),y=t.require("/ui/ui.widget"),rt=t.require("/ui/widgets/ui.validationSummary"),ut=t.require("/ui/widgets/ui.validationGroup"),e="dx-form",p="dx-field-item",w="dx-field-item-label-text",r="dx-form-group",b="dx-form-group-content",k="dx-form-group-with-caption",o="dx-form-group-caption",d="dx-layout-manager-hidden-label",g="dx-field-item-label",nt="dx-field-item-label-content",s="dx-field-item-tab",u="dx-col-",h="dx-group-colcount-",tt="dx-field-item-content",c="dx-form-validation-summary",l="dx-state-readonly",it="dx-widget";v("dxForm",f,y.inherit({_init:function(){this.callBase(),this._groupsColCount=[]},_getDefaultOptions:function(){return n.extend(this.callBase(),{formData:{},colCount:1,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:Globalize.localize("dxForm-optionalMark"),showValidationSummary:!1,items:undefined,scrollingEnabled:!1})},_getColCount:function(n){for(var t=0,i=!0,r;i;)r=n.find("."+u+t),r.length?t++:i=!1;return t},_createHiddenElement:function(t){this._$hiddenElement=n("<div/>").addClass(it).addClass(d).appendTo(document.body);var i=t._renderLabel({text:" ",location:this.option("labelLocation")}).appendTo(this._$hiddenElement);this._hiddenLabelText=i.find("."+w).first()},_removeHiddenElement:function(){this._$hiddenElement.remove(),this._hiddenLabelText=null},_getLabelWidthByText:function(n){return this._hiddenLabelText.text(n).width()},_getLabelsSelectorByCol:function(n,t){t=t||{};var i=t.excludeTabbed?":not(."+s+")":"";return"."+(t.inOneColumn?p:u+n)+i+"> ."+g+" > ."+nt},_applyLabelsWidthByCol:function(n,t,i){for(var u=n.find(this._getLabelsSelectorByCol(t,i)),f,e=0,r=0;r<u.length;r++)f=this._getLabelWidthByText(u.eq(r).text()),f>e&&(e=f);u.width(e)},_applyLabelsWidth:function(n,t,i){for(var u=i?1:this._getColCount(n),f={excludeTabbed:t,inOneColumn:i},r=0;r<u;r++)this._applyLabelsWidthByCol(n,r,f)},_getGroupElementsInColumn:function(n,t,f){var e=i.isDefined(f)?"."+h+f:"";return n.find("."+u+t+" > ."+tt+" > ."+r+e)},_applyLabelsWidthWithGroups:function(n,t,i){var l=this.option("alignItemLabelsInAllGroups"),u,e,s,h={excludeTabbed:i},c,f,o;if(l)for(u=0;u<t;u++)for(f=this._getGroupElementsInColumn(n,u),this._applyLabelsWidthByCol(f,0,h),e=0;e<this._groupsColCount.length;e++)for(f=this._getGroupElementsInColumn(n,u,this._groupsColCount[e]),c=this._getColCount(f),o=1;o<c;o++)this._applyLabelsWidthByCol(f,o,h);else for(s=this.element().find("."+r),u=0;u<s.length;u++)this._applyLabelsWidth(s.eq(u),i)},_alignLabelsInColumn:function(n){this._createHiddenElement(n.layoutManager),n.inOneColumn?this._applyLabelsWidth(n.$container,n.excludeTabbed,!0):this._checkGrouping(n.items)?this._applyLabelsWidthWithGroups(n.$container,n.layoutManager._getColCount(),n.excludeTabbed):this._applyLabelsWidth(n.$container,n.excludeTabbed),this._removeHiddenElement()},_render:function(){this._clearEditorInstances(),this.callBase(),this.element().addClass(e),this._toggleReadOnlyState()},_clearEditorInstances:function(){this._editorInstancesByField={}},_alignLabels:function(n,t){this._alignLabelsInColumn({$container:this.element(),layoutManager:n,excludeTabbed:!0,items:this.option("items"),inOneColumn:t})},_clean:function(){this.callBase(),this._groupsColCount=[]},_renderContentImpl:function(){this.callBase(),this._renderForm(),this._renderValidationGroup(),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary()},_renderScrollable:function(){var n=this.option("useNativeScrolling");this._scrollable=this._$form.dxScrollable({useNative:!!n,useSimulatedScrollbar:!n,useKeyboard:!1,direction:"both",bounceEnabled:!1}).data("dxScrollable")},_getContent:function(){return this.option("scrollingEnabled")?this._scrollable.content():this._$form},_renderForm:function(){this._$form=n("<form>").appendTo(this.element()),this.setAria("role","form")},_renderValidationGroup:function(){this._$form.dxValidationGroup()},_renderValidationSummary:function(){var t=this,i=t._$form.find("."+c);i.length>0&&i.remove(),this.option("showValidationSummary")&&n("<div/>").addClass(c).dxValidationSummary({validationGroup:t}).appendTo(t._getContent())},_prepareItems:function(t,r){if(t){for(var o=this,h=[],f,u,e=0;e<t.length;e++)f=t[e],u=i.isObject(f)?n.extend({},f):f,o._prepareGroupItem(u),o._prepareTabbedItem(u),o._prepareItemTemplate(u),i.isObject(u)&&(r&&(u.cssItemClass=s),u.items=this._prepareItems(u.items,r)),h.push(u);return h}},_prepareGroupItem:function(t){t.itemType==="group"&&(t.alignItemLabels=i.ensureDefined(t.alignItemLabels,!0),t.template&&(t.groupContentTemplate=this._getTemplate(t.template)),t.template=n.proxy(this._itemGroupTemplate,this,t))},_prepareTabbedItem:function(t){t.itemType==="tabbed"&&(t.template=n.proxy(this._itemTabbedTemplate,this,t),t.tabs=this._prepareItems(t.tabs,!0))},_prepareItemTemplate:function(n){n.template&&(n.template=this._getTemplate(n.template))},_checkGrouping:function(n){var t,i;if(n)for(t=0;t<n.length;t++)if(i=n[t],i.itemType==="group")return!0},_renderLayout:function(){var t=this,i=t.option("items"),r=t._getContent();i=t._prepareItems(i),t._testResultItems=i,t._rootLayoutManager=t._renderLayoutManager(i,r,{colCount:t.option("colCount"),width:this.option("width"),alignItemLabels:t.option("alignItemLabels"),onLayoutChanged:function(i){n.proxy(t._alignLabels,t)(t._rootLayoutManager,i)},onContentReady:function(n){t._alignLabels(n.component,n.component.isLayoutChanged())}})},_itemTabbedTemplate:function(t,r,u){var f=this,e=n.extend({},t.tabPanelOptions,{dataSource:t.tabs,itemTemplate:function(t){var r=n("<div/>"),u,e=i.ensureDefined(t.alignItemLabels,!0);return u=f._renderLayoutManager(t.items,r,{colCount:t.colCount,alignItemLabels:e,cssItemClass:t.cssItemClass,onLayoutChanged:function(i){n.proxy(f._alignLabelsInColumn,f)({$container:r,layoutManager:u,items:t.items,inOneColumn:i})}}),e&&n.proxy(f._alignLabelsInColumn,f)({$container:r,layoutManager:u,items:t.items,inOneColumn:u.isLayoutChanged()}),r}});n("<div/>").appendTo(u).dxTabPanel(e)},_itemGroupTemplate:function(t,u,f){var s=n("<div/>").appendTo(f).toggleClass(k,i.isDefined(t.caption)&&t.caption.length).addClass(r),c,e,l,a;t.caption&&n("<span/>").addClass(o).text(t.caption).appendTo(s),c=n("<div/>").addClass(b).appendTo(s),t.groupContentTemplate?(a={formData:this.option("formData"),component:this},t.groupContentTemplate.render(a,c)):(l=this._renderLayoutManager(t.items,c,{colCount:t.colCount,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass}),e=l._getColCount(),n.inArray(e,this._groupsColCount)===-1&&this._groupsColCount.push(e),s.addClass(h+e))},_renderLayoutManager:function(t,i,r){var f=n("<div />"),u=this,e=n.extend({items:t,showRequiredMark:this.option("showRequiredMark"),showOptionalMark:this.option("showOptionalMark"),requiredMark:this.option("requiredMark"),optionalMark:this.option("optionalMark"),form:u,layoutData:this.option("formData"),labelLocation:this.option("labelLocation"),customizeItem:this.option("customizeItem"),minColWidth:this.option("minColWidth"),showColonAfterLabel:this.option("showColonAfterLabel"),onEditorEnterKey:this.option("onEditorEnterKey"),onContentReady:function(n){u._updateEditorInstancesFromLayoutManager(n.component._editorInstancesByField),r.onContentReady&&r.onContentReady(n)},onFieldDataChanged:function(n){u._updateFieldValue(n.dataField,n.value)}},{colCount:r.colCount,alignItemLabels:r.alignItemLabels,cssItemClass:r.cssItemClass,onLayoutChanged:r.onLayoutChanged,width:r.width});return f.appendTo(i),u._createComponent(f,"dxLayoutManager",e)},_updateEditorInstancesFromLayoutManager:function(t){n.extend(this._editorInstancesByField,t)},_createComponent:function(n,t,i){var r=this,u;return i=i||{},r._extendConfig(i,{readOnly:r.option("readOnly")}),u=r.callBase(n,t,i),r._attachSyncSubscriptions(u),u},_attachSyncSubscriptions:function(n){this.on("optionChanged",function(t){var i="formData.",r;t.fullName.search(i)===0&&(r=t.fullName.replace(i,"layoutData."),n.option(r,t.value)),t.name==="readOnly"&&n.option(t.fullName,t.value)})},_toggleReadOnlyState:function(n){this.element().toggleClass(l,n||this.option("readOnly"))},_optionChanged:function(n){var t=this._getRootLevelOfExpectedComplexOption(n.fullName,["formData","items"]);if(t){this._customHandlerOfComplexOption(n,t);return}switch(n.name){case"formData":this._options[n.name]=n.value,this._triggerOnFieldDataChangedByDataSet(n.value),this._invalidate();break;case"items":case"colCount":case"onFieldDataChanged":case"onEditorEnterKey":case"labelLocation":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"scrollingEnabled":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":this.option("colCount")==="auto"&&this._invalidate();break;case"readOnly":this._toggleReadOnlyState(n.value);break;case"width":this.callBase(n),this._rootLayoutManager.option(n.name,n.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isLayoutChanged());break;default:this.callBase(n)}},_getRootLevelOfExpectedComplexOption:function(n,t){var r=n.split("."),u,i,f;if(r.length>1)for(f=r[0],i=0;i<t.length;i++)f.search(t[i])!==-1&&(u=t[i]);return u},_customHandlerOfComplexOption:function(n,t){var i=n.fullName.split(".");switch(t){case"items":if(n.fullName.search("editorOptions")!==-1){var f=this._getItemPath(i),r=this.option(f),u=this.getEditor(r.dataField);u&&u.option(r.editorOptions)}break;case"formData":this._triggerOnFieldDataChanged({dataField:i[i.length-1],value:n.value})}},_getItemPath:function(n){for(var i=n[0],t=1;t<n.length;t++)if(n[t].search("items")!==-1)i+="."+n[t];else break;return i},_triggerOnFieldDataChanged:function(n){this._createActionByOption("onFieldDataChanged")(n)},_triggerOnFieldDataChangedByDataSet:function(t){var r=this;t&&i.isObject(t)&&n.each(t,function(n,t){r._triggerOnFieldDataChanged({dataField:n,value:t})})},_updateFieldValue:function(n,t){this.option("formData."+n,t)},_generateItemsFromData:function(t){var u=this.option("formData"),r=[];return i.isDefined(u)&&n.each(u,function(i){(!t||t&&n.inArray(i,t)>-1)&&r.push({dataField:i})}),t&&n.each(t,function(n,t){i.isObject(t)&&r.push(t)}),r},_getItemByField:function(t,r){var u=this,o=i.isObject(t)?t:u._getFieldParts(t),f=o.fieldName,e=o.fieldPath,s;return r.length&&n.each(r,function(n,t){var r=t.itemType,i;return e.length?(i=e.slice(),t=u._getItemByFieldPath(i,f,t)):r!=="group"||t.caption||(t.items=u._generateItemsFromData(t.items),t=u._getItemByField({fieldName:f,fieldPath:e},t.items)),t&&(t.dataField===f||t.name===f||t.itemType==="group"&&u._getTextWithoutSpaces(t.caption)===f||u._getTextWithoutSpaces(t.title)===f)?(s=t,!1):void 0}),s},_getFieldParts:function(n){for(var r=".",t=n,i=t.indexOf(r),u=[];i!==-1;)u.push(t.substr(0,i)),t=t.substr(i+1),i=t.indexOf(r);return{fieldName:t,fieldPath:u.reverse()}},_getItemByFieldPath:function(n,t,r){var u=this,s=r.itemType,f=u._getSubItemField(s),l=s==="group"||s==="tabbed"||r.title,e,o,h,c;do if(l){if(o=i.isDefined(r.caption||r.title),h=u._getTextWithoutSpaces(r.caption||r.title),r[f]=u._generateItemsFromData(r[f]),o&&(c=n.pop()),!n.length&&(e=u._getItemByField(t,r[f]),e))break;(!o||o&&h===c)&&n.length&&(e=u._searchItemInEverySubitem(n,t,r[f]))}else break;while(n.length);return e},_getSubItemField:function(n){return n==="tabbed"?"tabs":"items"},_searchItemInEverySubitem:function(t,i,r){var f=this,u;return n.each(r,function(n,r){return u=f._getItemByFieldPath(t,i,r),u?!1:void 0}),u},_getTextWithoutSpaces:function(n){return n?n.replace(" ",""):undefined},_changeItemOption:function(n,t,r){i.isObject(n)&&(n[t]=r)},_dimensionChanged:function(){this.option("colCount")==="auto"&&this._refresh()},updateData:function(t,r){var u=this;i.isObject(t)?n.each(t,function(n,t){u._updateFieldValue(n,t)}):typeof t=="string"&&u._updateFieldValue(t,r)},getEditor:function(n){return this._editorInstancesByField[n]},updateDimensions:function(){var t=this,i=n.Deferred();return t._scrollable?t._scrollable.update().done(function(){i.resolveWith(t)}):i.resolveWith(t),i.promise()},itemOption:function(t,r,u){var f=this,o=arguments.length,s=f._generateItemsFromData(f.option("items")),e=f._getItemByField(t,s);if(o===1)return e;o===3?f._changeItemOption(e,r,u):i.isObject(r)&&n.each(r,function(n,t){f._changeItemOption(e,n,t)}),this.option("items",s)},validate:function(){try{return t.validationEngine.validateGroup(this)}catch(n){a.log("E1036",n.message)}}})),f.dxForm.__internals={FORM_CLASS:e,FORM_GROUP_CLASS:r,FORM_GROUP_CAPTION_CLASS:o,READONLY_STATE_CLASS:l,FORM_FIELD_ITEM_COL_CLASS:u}}(jQuery,DevExpress),function(n,t){var u=t.ui,ut=t.require("/utils/utils.array").normalizeIndexes,ft=t.require("/ui/ui.errors"),f=t.require("/utils/utils.inflector"),i=t.require("/utils/utils.common"),et=t.require("/componentRegistrator"),ot=t.require("/ui/ui.widget"),st=t.require("/ui/widgets/ui.validator"),ht="dxTextBox",e="dx-field-item",o="dx-field-empty-item",s="dx-field-item-required",h="dx-field-item-optional",c="dx-field-item-required-mark",l="dx-field-item-optional-mark",a="dx-field-item-label",v="dx-field-item-label-baseline",y="dx-field-item-label-content",p="dx-field-item-label-text",w="dx-field-item-label-location-",b="dx-field-item-content",k="dx-field-item-content-location-",d="dx-field-item-content-wrapper",g="dx-field-item-help-text",nt="dx-layout-manager",tt="dx-label-h-align",it="dx-label-v-align",ct="dx-first-row",lt="dx-first-col",at="dx-last-col",r="dx-layout-manager-one-col",rt="dx-state-readonly";et("dxLayoutManager",u.dxForm,ot.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:Globalize.localize("dxForm-optionalMark")})},_init:function(){this.callBase(),this._syncDataWithItems(),this._updateItems(this.option("layoutData"))},_syncDataWithItems:function(){var t=this,r=t.option("items");i.isDefined(r)&&n.each(r,function(n,i){var r;i.dataField&&t._getDataByField(i.dataField)===undefined&&(i.editorOptions&&(r=i.editorOptions.value),t._updateFieldValue(i.dataField,r))})},_getDataByField:function(n){return n?this.option("layoutData."+n):null},_updateFieldValue:function(n,t){i.isDefined(n)&&(this.option("layoutData."+n,t),this._triggerOnFieldDataChanged({dataField:n,value:t}))},_triggerOnFieldDataChanged:function(n){this._createActionByOption("onFieldDataChanged")(n)},_updateItems:function(t){var r=this,e=this.option("items"),o=r.option("customizeItem"),u,f;u=i.isDefined(e)?e:this._generateItemsByData(t),i.isDefined(u)&&(f=[],n.each(u,function(t,u){var e,s;typeof u=="string"&&(u={dataField:u}),typeof u!="object"||u.itemType||(u.itemType="simple"),!i.isDefined(u.editorType)&&i.isDefined(u.dataField)&&(e=r._getDataByField(u.dataField),u.editorType=i.isDefined(e)?r._getEditorTypeByDataType(n.type(e)):ht),o&&o(u),s=i.isDefined(u.visible),(i.isObject(u)&&!s||s&&u.visible)&&f.push(u)}),this._items=f,this._sortItems())},_generateItemsByData:function(t){var r=[];return i.isDefined(t)&&n.each(t,function(n){r.push({dataField:n})}),r},_getEditorTypeByDataType:function(n){switch(n){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){ut(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort(function(n,t){var r=n.visibleIndex,u=t.visibleIndex,i;return i=r>u?1:r<u?-1:0})},_render:function(){this._clearEditorInstances(),this.element().addClass(nt),this.callBase(),this._toggleReadOnlyState()},_clearEditorInstances:function(){this._editorInstancesByField={}},_renderContentImpl:function(){this.callBase(),this._renderResponsiveBox()},_renderResponsiveBox:function(){var t=this,i=t._getColCount(),u;t._items&&t._items.length&&(t._prepareItemsWithMerging(i),u=t._generateLayoutItems(),t._responsiveBox=n("<div />").appendTo(t.element()).dxResponsiveBox({onLayoutChanged:function(){var n=t.option("onLayoutChanged"),i=t.isLayoutChanged();n&&(t.element().toggleClass(r,i),n(i))},onContentReady:function(n){t.option("onLayoutChanged")&&t.element().toggleClass(r,t.isLayoutChanged(n.component)),t._fireContentReadyAction()},itemTemplate:function(r,u,f){if(r.location){var s=r.location.row*i,o=t._items[r.location.col+s],e=n("<div/>").addClass(o.cssClass).appendTo(f);r.location.row===0&&e.addClass(ct),r.location.col===0&&e.addClass(lt),(r.location.col===i-1||r.location.col+r.location.colspan===i)&&e.addClass(at),o.itemType==="empty"?t._renderEmptyItem(e):t._renderFieldItem(o,e)}},cols:t._generateRatio(i),rows:t._generateRatio(t._getRowsCount(),!0),dataSource:u}).data("dxResponsiveBox"))},_getColCount:function(){var n=this.option("colCount");if(n==="auto"){if(!!this._cashedColCount)return this._cashedColCount;var r=this.option("minColWidth"),u=this.element().width(),t=this._items.length,i=Math.floor(u/r)||1;this._cashedColCount=n=t<i?t:i}return n<1?1:n},_prepareItemsWithMerging:function(n){for(var e=this._items.slice(0),t,u,i=[],f,r=0;r<e.length;r++)if(t=e[r],i.push(t),(this.option("alignItemLabels")||t.alignItemLabels||t.colSpan)&&(t.col=this._getColByIndex(i.length-1,n)),t.colSpan>1&&t.col+t.colSpan<=n){for(u=[],f=0;f<t.colSpan-1;f++)u.push({merged:!0});i=i.concat(u)}else delete t.colSpan;this._items=i},_getColByIndex:function(n,t){return n%t},_generateLayoutItems:function(){for(var u=this._items,f=this._getColCount(),e=[],n,r,t=0;t<u.length;t++)n=u[t],n.merged||(r={location:{row:parseInt(t/f),col:this._getColByIndex(t,f)}},i.isDefined(n.colSpan)&&(r.location.colspan=n.colSpan),i.isDefined(n.rowSpan)&&(r.location.rowspan=n.rowSpan),e.push(r));return e},_renderEmptyItem:function(n){return n.addClass(o).html("&nbsp;")},_renderFieldItem:function(r,u){var v=this._getName(r),y=v||new t.data.Guid,l=i.isDefined(r.isRequired)?r.isRequired:!!r.validationRules,f=n.extend({showColon:this.option("showColonAfterLabel"),location:this.option("labelLocation"),id:y,visible:!0,isRequired:l,hasBaselineAlign:this._isLabelNeedBaselineAlign(r)},r?r.label:{}),o=n("<div/>"),c,a;u.addClass(e).addClass(l?s:h).addClass(this.option("cssItemClass")).addClass(i.isDefined(r.col)?"dx-col-"+r.col:""),this._prepareLabelOptions(r.dataField,f),f.visible&&f.text&&(c=this._renderLabel(f),c.appendTo(u)),r.helpText&&(a=new t.data.Guid),this._appendEditorToField({$fieldItem:u,$label:c,$editor:o,labelOptions:f}),this._renderEditor({$container:o,dataField:v,editorType:r.editorType,editorOptions:r.editorOptions,template:this._getTemplateByFieldItem(r),isRequired:l,helpID:a,id:y}),this._renderValidator(o.children().first(),r),this._renderHelpText(r,o,a),this._attachClickHandler(c,o,r.editorType)},_getName:function(n){return n.dataField||n.name},_isLabelNeedBaselineAlign:function(t){var i=["dxTextArea","dxRadioGroup","dxCalendar"];return!!t.helpText||n.inArray(t.editorType,i)!==-1},_prepareLabelOptions:function(n,t){!t.text&&n&&(t.text=f.captionize(n)),t.text&&(t.text+=t.showColon?":":"")},_renderLabel:function(t){if(i.isDefined(t.text)&&t.text.length>0){var f=a+" "+w+t.location,r=n("<label />").addClass(f).attr("for",t.id),u=n("<span/>").addClass(y).appendTo(r);return n("<span />").addClass(p).text(t.text).appendTo(u),t.alignment&&r.css("text-align",t.alignment),t.location!=="top"&&this._toggleBaselineLabelAlignment(t.hasBaselineAlign,r),u.append(this._renderLabelMark(t.isRequired)),r}},_toggleBaselineLabelAlignment:function(n,t){n&&t.addClass(v)},_renderLabelMark:function(t){var u,i=this._getRequiredMarksConfig(),r=i.showRequiredMark&&t,o=i.showOptionalMark&&!t,f,e;return(r||o)&&(f=r?c:l,e=r?i.requiredMark:i.optionalMark,u=n("<span />").addClass(f).html("&nbsp"+e)),u},_getRequiredMarksConfig:function(){return this._cashedRequiredConfig||(this._cashedRequiredConfig={showRequiredMark:this.option("showRequiredMark"),showOptionalMark:this.option("showOptionalMark"),requiredMark:this.option("requiredMark"),optionalMark:this.option("optionalMark")}),this._cashedRequiredConfig},_renderEditor:function(t){var i=this._getDataByField(t.dataField),u=t.editorType==="dxTagBox"?{values:i||[]}:{value:i},r;r=n.extend(u,t.editorOptions,{attr:{id:t.id}}),this._createEditor(t.$container,{editorType:t.editorType,dataField:t.dataField,template:t.template,name:t.name,helpID:t.helpID,isRequired:t.isRequired},r)},_renderValidator:function(n,t){var u=this._getFieldLabelName(t),r=this._prepareValidationRules(t.validationRules,t.isRequired,t.itemType,u);i.isArray(r)&&this._createComponent(n,st,{validationRules:r,validationGroup:this.option("form")})},_getFieldLabelName:function(n){var t=n.label&&n.label.text,i=t?null:this._getName(n);return t?n.label.text:i&&f.captionize(i)},_prepareValidationRules:function(n,t,i,r){var f=i==="simple",u;return f&&(u=n?n:t?[{type:"required",message:r+" is required"}]:null),u},_createEditor:function(t,i,r){var f=this,e=i.template,u,o,s;if(f._addItemContentClasses(t),e)o={dataField:i.dataField,editorOptions:r,component:e.owner()},e.render(o,t);else{s=n("<div/>").appendTo(t);try{if(u=f._createComponent(s,i.editorType,r),u.setAria("describedby",i.helpID),u.setAria("required",i.isRequired),i.dataField){u.on("enterKey",function(t){f._createActionByOption("onEditorEnterKey")(n.extend(t,{dataField:i.dataField}))});f._registerEditorInstance(u,i.dataField),f.linkEditorToDataField(u,i.dataField,i.editorType)}}catch(h){ft.log("E1035",h.message)}}},_addItemContentClasses:function(n){var t=this._getItemContentLocationSpecificClass();n.addClass([b,t].join(" "))},_getItemContentLocationSpecificClass:function(){var n=this.option("labelLocation"),t={right:"left",left:"right",top:"bottom"};return k+t[n]},_registerEditorInstance:function(n,t){this._editorInstancesByField[t]=n},_createComponent:function(n,t,i){var u=this,f=this.option("readOnly"),r;r=u.callBase(n,t,i),f&&r.option("readOnly",f);u.on("optionChanged",function(n){n.name==="readOnly"&&r.option(n.name,n.value)});return r},_getTemplateByFieldItem:function(n){return n.template?this._getTemplate(n.template):null},_appendEditorToField:function(n){if(n.$label){var t=n.labelOptions.location;(t==="top"||t==="left")&&n.$fieldItem.append(n.$editor),t==="right"&&n.$fieldItem.prepend(n.$editor),this._addInnerItemAlignmentClass(n.$fieldItem,t)}else n.$fieldItem.append(n.$editor)},_addInnerItemAlignmentClass:function(n,t){t==="top"?n.addClass(it):n.addClass(tt)},_renderHelpText:function(t,i,r){var u=t.helpText,f;u&&(f=n("<div>").addClass(d),i.wrap(f),n("<div>").addClass(g).attr("id",r).text(u).appendTo(i.parent()))},_attachClickHandler:function(n,t,i){var r=i==="dxCheckBox"||i==="dxSwitch";if(n&&r)n.on("dxclick",function(){t.children().trigger("dxclick")})},_generateRatio:function(n,t){for(var u=[],i,r=0;r<n;r++)i={ratio:1},t&&(i.baseSize="auto"),u.push(i);return u},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_toggleReadOnlyState:function(){this.element().toggleClass(rt,this.option("readOnly"))},_optionChanged:function(n){if(n.fullName.search("layoutData.")!==0)switch(n.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":case"items":this._syncDataWithItems(),this._updateItems(n.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":this.option("colCount")==="auto"&&this._resetColCount();break;case"readOnly":this._toggleReadOnlyState();break;case"width":this.callBase(n),this.option("colCount")==="auto"&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(n)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField:function(n,t,i){var u="layoutData."+t,r=this;r.on("optionChanged",function(t){if(t.fullName===u)switch(i){case"dxTagBox":r._managedUpdateEditorOption(n,"values",t.value);break;case"dxSelectBox":r._managedUpdateEditorOption(n,"value",t.value);break;default:n.option("value",t.value)}});n.on("valueChanged",function(n){switch(i){case"dxTagBox":r._managedUpdateFieldValue(t,n.values);break;case"dxSelectBox":r._managedUpdateFieldValue(t,n.value);break;default:r._updateFieldValue(t,n.value)}})},_managedUpdateEditorOption:function(n,t,i){this._isValueChangedCalled||(this._isFieldValueChanged=!0,n.option(t,i),this._isFieldValueChanged=!1)},_managedUpdateFieldValue:function(n,t){this._isValueChangedCalled=!0,this._isFieldValueChanged||this._updateFieldValue(n,t),this._isValueChangedCalled=!1},updateData:function(t,r){var u=this;i.isObject(t)?n.each(t,function(n,t){u._updateFieldValue(n,t)}):typeof t=="string"&&u._updateFieldValue(t,r)},getEditor:function(n){return this._editorInstancesByField[n]},isLayoutChanged:function(n){var t=this._responsiveBox||n;if(t)return t.option("currentScreenFactor")===t.option("singleColumnScreen")}})),n.extend(u.dxForm.__internals,{FIELD_ITEM_CLASS:e,FIELD_EMPTY_ITEM_CLASS:o,FIELD_ITEM_CONTENT_CLASS:b,FIELD_ITEM_CONTENT_LOCATION_CLASS:k,FIELD_ITEM_LABEL_CLASS:a,FIELD_ITEM_LABEL_BASELINE_CLASS:v,FIELD_ITEM_LABEL_LOCATION_CLASS:w,LABEL_HORIZONTAL_ALIGNMENT_CLASS:tt,LABEL_VERTICAL_ALIGNMENT_CLASS:it,FORM_LAYOUT_MANAGER_CLASS:nt,READONLY_STATE_CLASS:rt,FIELD_ITEM_CONTENT_WRAPPER_CLASS:d,FIELD_ITEM_HELP_TEXT_CLASS:g,FIELD_ITEM_LABEL_CONTENT_CLASS:y,FIELD_ITEM_LABEL_TEXT_CLASS:p,FIELD_ITEM_REQUIRED_CLASS:s,FIELD_ITEM_OPTIONAL_CLASS:h,FIELD_ITEM_REQUIRED_MARK_CLASS:c,FIELD_ITEM_OPTIONAL_MARK_CLASS:l,LAYOUT_MANAGER_ONE_COLUMN:r})}(jQuery,DevExpress),DevExpress.MOD_WIDGETS_BASE=!0}if(!window.DevExpress||!DevExpress.MOD_WIDGETS_WEB){if(!window.DevExpress||!DevExpress.MOD_WIDGETS_BASE)throw Error("Required module is not referenced: widgets-base");(function(n,t,i){var s=t.ui,e=t.fx,h=t.require("/devices"),l=t.require("/componentRegistrator"),a=t.require("/ui/events/ui.events.utils"),v="dx-accordion",y="dx-accordion-wrapper",c="dx-accordion-item",r="dx-accordion-item-opened",o="dx-accordion-item-closed",u="dx-accordion-item-title",f="dx-accordion-item-body",p="dxAccordionItemData",w="dxAccordionItemTitleData",b="dxAccordionItemContentData";l("dxAccordion",s,s.CollectionWidget.inherit({_activeStateUnit:"."+c,_getDefaultOptions:function(){return n.extend(this.callBase(),{hoverStateEnabled:!0,height:i,itemTitleTemplate:"title",onItemTitleClick:null,onItemTitleHold:null,selectedIndex:0,collapsible:!1,multiple:!1,animationDuration:300,deferRendering:!0,selectionByClick:!0,activeStateEnabled:!0,_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return h.real().generic&&!h.isSimulator()},options:{focusStateEnabled:!0}}])},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_init:function(){this.callBase(),this.option("selectionRequired",!this.option("collapsible")),this.option("selectionMode",this.option("multiple")?"multi":"single");var t=this.element();t.addClass(v),this._$container=n("<div>").addClass(y),t.append(this._$container)},_render:function(){this._deferredItems=[],this.callBase(),this.setAria({role:"tablist",multiselectable:this.option("multiple")}),this._attachItemTitleClickAction()},_itemDataKey:function(){return p},_itemClass:function(){return c},_itemContainer:function(){return this._$container},_itemTitles:function(){return this._itemElements().find("."+u)},_itemContents:function(){return this._itemElements().find("."+f)},_getItemData:function(t){return n(t).parent().data(this._itemDataKey())||this.callBase.apply(this,arguments)},_executeItemRenderAction:function(n){n.type||this.callBase.apply(this,arguments)},_itemSelectHandler:function(t){n(t.target).closest("."+f).length||this.callBase.apply(this,arguments)},_renderItemContent:function(t,i,r){r=r||this._itemContainer();var u=this.callBase.apply(this,[t,n.extend({type:"title",titleTemplate:this._getTemplateByOption("itemTitleTemplate")},i),r]),f=u.parent();this._deferredItems.push(n.Deferred()),this._deferredItems[t].done(n.proxy(this._renderItemBody,this,this.callBase,t,i,f)),this.option("deferRendering")||this._deferredItems[t].resolve()},_renderItemBody:function(t,i,r,u){var f=n("<div>").appendTo(u);t.apply(this,[i,n.extend({type:"content",template:this._getTemplateByOption("itemTemplate")},r),f])},_getItemTemplateName:function(n){var t=this.option("itemTemplateProperty");return n.type==="title"&&(t="titleTemplate"),n&&n[t]||this.option("itemTemplate")},_addItemContentClasses:function(n,t){switch(t.type){case"title":n.addClass(u).data(w,t);break;case"content":n.addClass(f).data(b,t);break;default:this.callBase.apply(this,arguments)}},_attachItemTitleClickAction:function(){var t="."+u,i=a.addNamespace("dxclick",this.NAME);this._itemContainer().off(i,t).on(i,t,n.proxy(this._itemTitleClickHandler,this))},_itemTitleClickHandler:function(n){this._itemJQueryEventHandler(n,"onItemTitleClick")},_renderSelection:function(n,t){this._itemElements().addClass(o),this._updateItems(n,t,!0)},_updateSelection:function(n,t){this._updateItems(n,t,!1)},_updateItems:function(t,i,u){var e=this._itemElements(),s=this;n.each(t,function(n,t){var i=e.eq(t);i.find("."+f).length===0&&s._deferredItems[t].resolve(),i.addClass(r),i.removeClass(o)}),n.each(i,function(n,t){e.eq(t).removeClass(r)}),this._updateItemHeights(u)},_updateItemHeights:function(t){var i=this,r=this._splitFreeSpace(this._calculateFreeSpace());return n.when.apply(n,n.map(this._itemElements(),function(u){return i._updateItemHeight(n(u),r,t)}))},_updateItemHeight:function(n,t,i){var o=n.children("."+u),s,f;return e.isAnimating(n)&&e.stop(n),s=n.outerHeight(),f=n.hasClass(r)?t+o.outerHeight()||n.height("auto").outerHeight():o.outerHeight(),i?n.css("height",f):this._animateItem(n,s,f)},_animateItem:function(t,i,u){return e.animate(t,{type:"slide",from:{height:i},to:{height:u},duration:this.option("animationDuration"),complete:n.proxy(function(){this._deferredAnimate&&this._deferredAnimate.resolveWith(this),this._itemElements().not("."+r).addClass(o)},this)})},_splitFreeSpace:function(n){return n?n/this.option("selectedItems").length:n},_calculateFreeSpace:function(){var r=this.option("height"),u,t;if(r!==i&&r!=="auto")return u=this._itemTitles(),t=0,n.each(u,function(i,r){t+=n(r).outerHeight()}),this.element().height()-t},_visibilityChanged:function(n){n&&this._dimensionChanged()},_dimensionChanged:function(){this._updateItemHeights(!0)},_optionChanged:function(n){switch(n.name){case"animationDuration":case"onItemTitleClick":break;case"collapsible":this.option("selectionRequired",!this.option("collapsible"));break;case"itemTitleTemplate":case"onItemTitleHold":case"height":case"deferRendering":this._invalidate();break;case"multiple":this.option("selectionMode",n.value?"multi":"single");break;default:this.callBase(n)}},expandItem:function(t){return this._deferredAnimate=n.Deferred(),this.selectItem(t),this._deferredAnimate.promise()},collapseItem:function(t){return this._deferredAnimate=n.Deferred(),this.unselectItem(t),this._deferredAnimate.promise()},updateDimensions:function(){return this._updateItemHeights(!1)}}))})(jQuery,DevExpress),function(n,t,i){var a=t.ui,v=t.require("/utils/utils.string"),y=DevExpress.require("/class"),r=t.require("/utils/utils.common"),p=t.require("/componentRegistrator"),w=t.require("/ui/ui.widget"),e=t.require("/ui/events/ui.events.utils"),u=4,b="dx-pager",o="dx-page",k="dx-pages",s="dx-selection",d="dx-separator",g="dx-page-sizes",h="dx-page-size",nt="dx-navigate-button",c="dx-prev-button",l="dx-next-button",tt="dx-info",it="dx-button-disable",f=y.inherit({ctor:function(t,i){var r=this;r.index=i,r._$page=n("<div />").text(t).addClass(o)},value:function(n){var i=this,t;if(r.isDefined(n))i._$page.text(n);else return t=i._$page.text(),r.isNumber(t)?parseInt(t):t},element:function(){return this._$page},select:function(n){this._$page.toggleClass(s,n)},render:function(n,t){t?this._$page.prependTo(n):this._$page.appendTo(n)}});p("dxPager",a,w.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{visible:!0,pagesNavigatorVisible:"auto",pageIndex:1,maxPagesCount:10,pageCount:10,totalCount:0,pageSize:5,showPageSizes:!0,pageSizes:[5,10],hasKnownLastPage:!0,showNavigationButtons:!1,showInfo:!1,infoText:Globalize.localize("dxPager-infoText"),rtlEnabled:!1,pageIndexChanged:n.noop,pageSizeChanged:n.noop})},_toggleVisibility:function(n){var t=this.element();t&&t.css("display",n?"":"none")},_getPages:function(n,t){var r=[],e=!this.option("hasKnownLastPage"),o,i;if(t>0||e)if(t<=this.option("maxPagesCount")){for(i=1;i<=t;i++)r.push(new f(i,i-1));e&&r.push(new f(">",i-1))}else{for(r.push(new f(1,0)),o=n?n.value()-n.index:1,i=1;i<=u;i++)r.push(new f(o+i,i));r.push(new f(t,u+1)),e&&r.push(new f(">",u+1))}return r},_getPageByValue:function(n){for(var r=this,i,t=0;t<r._pages.length;t++)if(i=r._pages[t],i.value()===n)return i},_processSelectedPage:function(t,i,e){var o=this,s=!1,h;o._pages&&(n.each(o._pages,function(n,t){i===t.value()&&(s=!0)}),s||(o.selectedPage=null)),r.isDefined(o.selectedPage)?i===e&&e>t&&o.selectedPage.index!==u+1&&(o.selectedPage.index=u+1):i>u&&i<e&&(h=e-u<i?u-(e-i)+1:2,o.selectedPage=new f(i,h))},_selectPageByValue:function(n){var u=this,f,t=u._getPageByValue(n),h=u._pages,o=h.length,s,e,c;if(r.isDefined(t)){if(s=u._pages[t.index-1],e=u._pages[t.index+1],e&&e.value()===">"&&(c=e,e=i,o--,h.pop()),u.selectedPage&&u.selectedPage.select(!1),t.select(!0),u.selectedPage=t,e&&e.value()-n>1)if(t.index!==0)for(s.value(n+1),u._pages.splice(t.index,1),u._pages.splice(t.index-1,0,t),u._pages[t.index].index=t.index,t.index=t.index-1,f=t.index-1;f>0;f--)u._pages[f].value(u._pages[f+1].value()-1);else for(f=0;f<o-1;f++)u._pages[f].value(f+1);if(s&&n-s.value()>1)if(t.index!==o-1)for(e.value(n-1),u._pages.splice(t.index,1),u._pages.splice(t.index+1,0,t),u._pages[t.index].index=t.index,t.index=t.index+1,f=t.index+1;f<o-1;f++)u._pages[f].value(u._pages[f-1].value()+1);else for(f=1;f<=o-2;f++)u._pages[o-1-f].value(u._pages[o-1].value()-f);c&&h.push(c)}},_nextPage:function(n){var t=this.selectedPage&&this.selectedPage.value(),i=this.option("pageCount");r.isDefined(t)&&(t=n==="next"?++t:--t,t>0&&t<=i&&this.option("pageIndex",t))},_renderPages:function(t){var i=this,f,s=t.length,h=i._createAction(function(t){var u=t.jQueryEvent,r=n(u.target).text(),f=r===">"?i.option("pageCount")+1:Number(r);i.option("pageIndex",f)}),u,r;if(s>1){i._pageClickHandler=function(n){h({jQueryEvent:n})};i.$pagesChooser.on(e.addNamespace("dxclick",i.Name+"Pages"),"."+o,i._pageClickHandler)}for(r=0;r<s;r++)u=t[r],u.render(i.$pagesChooser,i.option("rtlEnabled")),i.setAria({role:"button",label:"Page "+u.value()},u.element()),t[r+1]&&t[r+1].value()-u.value()>1&&(f=n("<div>. . .<\/div>").addClass(d),i.option("rtlEnabled")?f.prependTo(i.$pagesChooser):f.appendTo(i.$pagesChooser))},_renderPagesChooser:function(){var t=this,i=t.option("pagesNavigatorVisible"),u=t.element();if(u){if(!i){t.$pagesChooser&&t.$pagesChooser.remove();return}if(t._pages.length===0){t.selectedPage=null;return}r.isDefined(t.$pagesChooser)?t.$pagesChooser.empty():t.$pagesChooser=n("<div />").addClass(k),i==="auto"&&t.$pagesChooser.css("visibility",t._pages.length===1?"hidden":""),t._renderInfo(),t._renderNavigateButton("prev"),t._renderPages(t._pages),t._renderNavigateButton("next"),r.isDefined(t.$pagesChooser[0].parentElement)||t.$pagesChooser.appendTo(u)}},_renderPagesSizeChooser:function(){var t=this,i,f,a=t.option("pageSize"),u=t.option("pageSizes"),v=t.option("showPageSizes"),o,c=u&&u.length,l=t.element();if(l&&(t._clickPagesSizeAction=t._createAction(function(i){var r=i.jQueryEvent;o=parseInt(n(r.target).text()),t.option("pageSize",o)}),r.isDefined(t.pagesSizeChooserElement)?t.pagesSizeChooserElement.empty():t.pagesSizeChooserElement=n("<div />").addClass(g).on(e.addNamespace("dxclick",t.Name+"PageSize"),"."+h,function(n){t._clickPagesSizeAction({jQueryEvent:n})}),v&&c)){for(i=0;i<c;i++)f=n("<div />").text(u[i]).addClass(h),t.setAria({role:"button",label:"Display "+u[i]+" items on page"},f),a===u[i]&&f.addClass(s),t.pagesSizeChooserElement.append(f);r.isDefined(t.pagesSizeChooserElement[0].parentElement)||t.pagesSizeChooserElement.appendTo(l)}},_renderInfo:function(){var t=this.option("infoText");this.option("showInfo")&&r.isDefined(t)&&n("<div>").addClass(tt).text(v.format(t,this.selectedPage&&this.selectedPage.value(),this.option("pageCount"),this.option("totalCount"))).appendTo(this.$pagesChooser)},_renderNavigateButton:function(t){var i=this,u,o=i._createAction(function(){i._nextPage(t)}),r,f;i.option("showNavigationButtons")&&(u=i.option("pageIndex"),f=u>1&&t==="prev"||u<i.option("pageCount")&&t==="next",r=n("<div>").addClass(nt).addClass(f?"":it).on(e.addNamespace("dxclick",i.Name+"Pages"),function(n){o({jQueryEvent:n})}),i.setAria({role:"button",label:t==="prev"?"Previous page":" Next page"},r),i.option("rtlEnabled")?(r.addClass(t==="prev"?l:c),r.prependTo(this.$pagesChooser)):(r.addClass(t==="prev"?c:l),r.appendTo(this.$pagesChooser)))},_render:function(){this.callBase(),this._update(),this.element().addClass(b),this._toggleVisibility(this.option("visible")),this._renderPagesSizeChooser(),this._renderPagesChooser()},_update:function(){var n=this.option("pageCount"),t=this.option("pageIndex");this._processSelectedPage(this.option("maxPagesCount"),t,n),this._pages=this._getPages(this.selectedPage,n),this._selectPageByValue(t)},_optionChanged:function(n){var t,i;switch(n.name){case"visible":this._toggleVisibility(n.value);break;case"pageIndex":t=this.option("pageIndexChanged"),t&&t(n.value),this._update(),this._renderPagesChooser();break;case"maxPagesCount":case"pageCount":case"totalCount":case"hasKnownLastPage":case"pagesNavigatorVisible":case"showNavigationButtons":this._update(),this._renderPagesChooser();break;case"pageSize":i=this.option("pageSizeChanged"),i&&i(n.value),this._renderPagesSizeChooser();break;case"pageSizes":this._renderPagesSizeChooser();break;default:this._invalidate()}},_clean:function(){this.$pagesChooser&&this.$pagesChooser.off(e.addNamespace("dxclick",this.Name+"Pages"),"."+o,this._pageClickHandler)},getHeight:function(){return this.option("visible")?this.element().outerHeight():0}}))}(jQuery,DevExpress),DevExpress.define("/ui/hierarchicalCollectionWidget/ui.hierarchicalCollectionWidget",["jquery","/devices","/ui/templates/ui.template.function","/utils/utils.icon"],function(n,t,i,r){var u=DevExpress.ui,f=DevExpress.data.utils,e="dx-state-disabled";return u.CollectionWidget.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return t.real().generic&&!t.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()},_initDataAdapter:function(){var t=this._createDataAdapterAccessors();this._dataAdapter=new u.HierarchicalDataAdapter(n.extend({dataAccessors:{getters:t.getters,setters:t.setters},items:this.option("items")},this._getDataAdapterOptions()))},_getDataAdapterOptions:n.noop,_initDynamicTemplates:function(){if(!this._useCustomExpressions()){delete this._dynamicTemplates.item;return}this._dynamicTemplates.item=new i(n.proxy(function(t){return n("<div>").append(this._getIconContainer(t)).append(this._getTextContainer(t)).append(this._getPopuotContainer(t))},this))},_useCustomExpressions:function(){return this.option("displayExpr")!=="text"&&this.option("displayExpr")!=="html"},_getIconContainer:function(n){var t=n.icon||n.iconSrc;return t?r.getImageContainer(t):undefined},_getTextContainer:function(t){return n("<span>").text(this._displayGetter(t))},_getPopuotContainer:n.noop,_initAccessors:function(){var t=this;n.each(this._getAccessors(),function(n,i){t._compileAccessor(i)})},_getAccessors:function(){return["key","display","selected","items","disabled","parentId","expanded"]},_getChildNodes:function(t){var r=this,i=[];return n.each(t.internalFields.childrenKeys,function(n,t){var u=r._dataAdapter.getNodeByKey(t);i.push(u)}),i},_hasChildren:function(n){return n.internalFields.childrenKeys.length},_compileAccessor:function(t){var r="_"+t+"Getter",u="_"+t+"Setter",i=this.option(t+"Expr");if(n.isFunction(i)){this[u]=function(n,t){n[i()]=t},this[r]=function(n){return n[i()]};return}this[r]=f.compileGetter(i),this[u]=f.compileSetter(i)},_createDataAdapterAccessors:function(){var i=this,t={getters:{},setters:{}};return n.each(this._getAccessors(),function(n,r){var f="_"+r+"Getter",e="_"+r+"Setter",u=r==="parentId"?"parentKey":r;t.getters[u]=i[f],t.setters[u]=i[e]}),t},_render:function(){this.callBase(),this._focusTarget().addClass(this._widgetClass())},_widgetClass:n.noop,_renderItemFrame:function(n,t){var i=this.callBase.apply(this,arguments);return i.toggleClass(e,!!this._disabledGetter(t)),i},_optionChanged:function(n){switch(n.name){case"displayExpr":case"keyExpr":this._dynamicTemplates.item||this._initDynamicTemplates(),this._initAccessors(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this.repaint();break;case"items":this._initDataAdapter(),this.callBase(n);break;default:this.callBase(n)}}})}),function(n,t,i){var u=t.require("/class"),f=t.data.DataSource,r=t.require("/utils/utils.common"),e=u.inherit({ctor:function(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes:function(t,i){var u=this;n.each(t,function(n,t){var e=r.isDefined(i)?i:u._getParentId(t),f=u._convertItemToNode(t,e);u._dataStructure.push(f),u._indexByKey[f.internalFields.key]=u._dataStructure.length-1,u._itemHasChildren(t)&&u._convertItemsToNodes(u._dataAccessors.getters.items(t),f.internalFields.key)})},_getParentId:function(n){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(n):i},_itemHasChildren:function(n){var t=this._dataAccessors.getters.items(n);return t&&t.length},_convertItemToNode:function(t,i){this._itemsCount++,t.visible!==!1&&this._visibleItemsCount++;var u=this,f={internalFields:{disabled:u._dataAccessors.getters.disabled(t)||!1,expanded:u._dataAccessors.getters.expanded(t)||!1,selected:u._dataAccessors.getters.selected(t)||!1,key:r.isDefined(u._dataAccessors.getters.key(t))?u._dataAccessors.getters.key(t):u.getItemsCount(),parentKey:r.isDefined(i)?i:u._rootValue,item:u._makeObjectFromPrimitive(t),childrenKeys:[]}};return n.extend(!0,f,t),delete f.items,f},setChildrenKeys:function(){var t=this;new f({store:this._dataStructure,map:function(n){return n.internalFields.key},group:"internalFields.parentKey"}).load().done(function(i){n.each(i,function(n,i){i.key!==t._rootValue&&(t._getByKey(i.key).internalFields.childrenKeys=i.items)})})},_makeObjectFromPrimitive:function(n){if(r.isPrimitive(n)){var t=n;n={},this._dataAccessors.setters.key(n,t)}return n},_convertToPublicNode:function(n,t){if(!n)return null;var i={text:this._dataAccessors.getters.display(n),key:n.internalFields.key,selected:n.internalFields.selected,expanded:n.internalFields.expanded,disabled:n.internalFields.disabled,parent:t||null,itemData:n.internalFields.item,children:[],items:[]};return i.parent&&(i.parent.children.push(i),i.parent.items.push(i)),i},convertToPublicNodes:function(t,i){if(!t.length)return[];var u=this,f=[];return n.each(t,function(n,t){t=r.isPrimitive(t)?u._getByKey(t):t;var e=u._convertToPublicNode(t,i);e.children=u.convertToPublicNodes(t.internalFields.childrenKeys,e),f.push(e),t.internalFields.publicNode=e}),f},setDataAccessors:function(n){this._dataAccessors=n},_getByKey:function(n){return this._dataStructure[this._indexByKey[n]]||null},getByKey:function(t,i){var r=null,u=this,f=function(t,i){return n.each(t,function(n,t){var o=t.internalFields&&t.internalFields.key||u._dataAccessors.getters.key(t),e=u._dataAccessors.getters.items(t);if(o===i)return r=t,!1;e&&f(e,i)}),r};return f(t,i)},getItemsCount:function(){return this._itemsCount},getVisibleItemsCount:function(){return this._visibleItemsCount},createPlainStructure:function(n,t,i){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=t,this._dataType=i,this._indexByKey={},this._convertItemsToNodes(n),this.setChildrenKeys(),this._dataStructure}});t.ui.HierarchicalDataConverter=e}(jQuery,DevExpress),function(n,t,i){var f=t.ui,e=t.data,o=t.require("/class"),s=t.require("/utils/utils.common"),u="expanded",r="selected",h=o.inherit({ctor:function(t){this.options={},n.extend(this.options,this._defaultOptions(),t),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure()},_defaultOptions:function(){return{dataAccessors:i,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",dataConverter:new f.HierarchicalDataConverter}},_createInternalDataStructure:function(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection:function(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(r)},_updateExpansion:function(n){this.options.recursiveExpansion&&(n?this._updateOneBranch(n):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(u)},_updateNodesKeysArray:function(t){var r=this,i=[];return n.each(this._dataStructure,function(n,f){r._isNodeVisible(f)&&(!f.internalFields[t]||(t===u||r.options.multipleSelection?i.push(f.internalFields.key):i=[f.internalFields.key]))}),i},_isNodeVisible:function(n){return n.internalFields.item.visible!==!1},_getByKey:function(n,t){return n===this._dataStructure?this.options.dataConverter._getByKey(t):this.options.dataConverter.getByKey(n,t)},_setChildrenSelection:function(){var t=this;n.each(this._dataStructure,function(n,i){if(i.internalFields.childrenKeys.length){var r=i.internalFields.selected;r===!0&&t._toggleChildrenSelection(i,r)}})},_setParentSelection:function(){for(var f=this._dataStructure.length,t,i,u,n=f-1;n>=0;n--)t=this._dataStructure[n],i=this.options.dataConverter._getByKey(t.internalFields.parentKey),t.internalFields.parentKey!==this.options.rootValue&&(u=this._calculateSelectedState(i),this._setFieldState(i,u,r))},_setParentExpansion:function(){var i=this;n.each(this._dataStructure,function(n,t){t.internalFields.expanded&&i._updateOneBranch(t.internalFields.key)})},_updateOneBranch:function(n){var t=this,i=this.getNodeByKey(n);t._iterateParents(i,function(n){t._setFieldState(n,!0,u)})},_iterateChildren:function(t,i,r){var u=this;n.each(t.internalFields.childrenKeys,function(t,f){var e=u.options.dataConverter._getByKey(f);n.isFunction(r)&&r(e),e.internalFields.childrenKeys.length&&i&&u._iterateChildren(e,i,r)})},_iterateParents:function(t,i){if(t.internalFields.parentKey!==this.options.rootValue){var r=this.options.dataConverter._getByKey(t.internalFields.parentKey);n.isFunction(i)&&i(r),r.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(r,i)}},_calculateSelectedState:function(n){for(var u=n.internalFields.childrenKeys.length,t=0,f=0,e=!1,r=0;r<=u-1;r++){var o=this.options.dataConverter._getByKey(n.internalFields.childrenKeys[r]),h=o.internalFields.item.visible===!1,s=o.internalFields.selected;if(h){f++;continue}s?t++:s===i&&(t+=.5)}return t&&(e=t===u-f?!0:i),e},_toggleChildrenSelection:function(n,t){var i=this;this._iterateChildren(n,!0,function(n){i._isNodeVisible(n)&&i._setFieldState(n,t,r)})},_setFieldState:function(n,t,i){n.internalFields[i]=t,this.options.dataAccessors.setters[i](n.internalFields.item,t)},getSelectedNodesKeys:function(){return this._selectedNodesKeys},getExpandedNodesKeys:function(){return this._expandedNodesKeys},getData:function(){return this._dataStructure},getNodeByItem:function(t){var i=null;return n.each(this._dataStructure,function(n,r){if(r.internalFields.item===t)return i=r,!1}),i},getNodeByKey:function(n){return this._getByKey(this._dataStructure,n)},getTreeNodes:function(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount:function(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount:function(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:function(n){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes()),n.internalFields.publicNode},getRootNodes:function(){return e.query(this._dataStructure).filter(["internalFields.parentKey",this.options.rootValue]).toArray()},toggleSelection:function(n,t){var i=this._getByKey(this._dataStructure,n);this._setFieldState(i,t,r),this.options.recursiveSelection&&(t?this._setChildrenSelection():this._toggleChildrenSelection(i,t),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(r)},toggleSelectAll:function(t){if(s.isDefined(t)){var i=this;n.each(this._dataStructure,function(n,u){i._isNodeVisible(u)&&(i._setFieldState(u,t,r),i._selectedNodesKeys=i._updateNodesKeysArray(r))})}},isAllSelected:function(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:i:!1},toggleExpansion:function(n,t){var i=this._getByKey(this._dataStructure,n);this._setFieldState(i,t,u),t&&this._updateExpansion(n),this._expandedNodesKeys=this._updateNodesKeysArray(u)},search:function(t){function o(t,i){while(i<t.length){var f=t[i].internalFields.parentKey,r=h._getByKey(f);if(!r||n.inArray(r,t)>-1){i+=1;continue}r.internalFields.expanded||e._setFieldState(r,!0,u),t.splice(i,0,r),o(t,i)}}var e=this,i=[],f=this._initialDataStructure,h=this.options.dataConverter,r,s;for(this.options.dataConverter._newIndexByKey={},r=0,s=f.length;r<s;r++)this.options.dataAccessors.getters.display(f[r]).toLowerCase().indexOf(t.toLowerCase())>-1&&i.push(f[r]);return o(i,0),this.options.dataConverter._indexByKey={},n.each(i,function(n,t){t.internalFields.childrenKeys=[],e.options.dataConverter._indexByKey[t.internalFields.key]=n}),this.options.dataConverter._dataStructure=i,this.options.dataConverter.setChildrenKeys(),i=this.options.dataConverter._dataStructure}});t.ui.HierarchicalDataAdapter=h}(jQuery,DevExpress),function(n,t){var e=t.ui,o=t.require("/utils/utils.common"),l=t.require("/utils/utils.inkRipple"),a=t.require("/ui/hierarchicalCollectionWidget/ui.hierarchicalCollectionWidget"),v=t.require("/devices"),u="dx-menu",y="dx-menu-base",r=u+"-item",f=r+"-selected",s=r+"-wrapper",p=u+"-items-container",w=r+"-expanded",b=u+"-separator",k=u+"-last-group-item",d=r+"-has-text",g=r+"-has-icon",nt=r+"-has-submenu",h=r+"-popout",tt=h+"-container",it=r+"-text",rt="single",ut={show:50,hide:300},c=a.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectionByClick:!1,focusOnSelectedItem:!1,_remoteSelectionSync:!1,_itemAttributes:{role:"menuitem"},useInkRipple:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{useInkRipple:!0}}])},_activeStateUnit:"."+r,_itemDataKey:function(){return"dxMenuItemDataKey"},_itemClass:function(){return r},_setAriaSelected:n.noop,_selectedItemClass:function(){return f},_widgetClass:function(){return y},_focusTarget:function(){return this._itemContainer()},_eventBindingTarget:function(){return this._itemContainer()},_supportedKeys:function(){var t=function(){var t=this.option("focusedElement");t&&this._isSelectionEnabled()&&this.selectItem(t[0])};return n.extend(this.callBase(),{space:t,pageUp:n.noop,pageDown:n.noop})},_isSelectionEnabled:function(){return this.option("selectionMode")===rt},_init:function(){this.callBase(),this._renderSelectedItem(),this._initActions()},_useCustomExpressions:function(){return this.callBase()||this.option("itemsExpr")!=="items"},_getTextContainer:function(t){var i=this._displayGetter(t),r=n("<span>").addClass(it),u=n.isPlainObject(t)?i:String(t);return i&&r.html(u)},_getPopuotContainer:function(t){var i=this._itemsGetter(t),r,u;return i&&i.length&&(u=n("<div>").addClass(h),r=n("<span>").addClass(tt).append(u)),r},_getDataAdapterOptions:function(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}},_selectByItem:function(n){if(n){var t=this._dataAdapter.getNodeByItem(n);this._dataAdapter.toggleSelection(t.internalFields.key,!0)}},_renderSelectedItem:function(){var r=this._dataAdapter.getSelectedNodesKeys(),i=r.length&&r[0],n=this.option("selectedItem"),t;if(!i){this._selectByItem(n);return}if(t=this._dataAdapter.getNodeByKey(i),t.selectable!==!1){if(!n){this.option("selectedItem",t.internalFields.item);return}n!==t.internalFields.item&&(this._dataAdapter.toggleSelection(i,!1),this._selectByItem(n))}},_initActions:n.noop,_render:function(){this.callBase(),this._addCustomCssClass(this.element()),this.option("useInkRipple")&&this._renderInkRipple()},_renderInkRipple:function(){this._inkRipple=l.render()},_toggleActiveState:function(n,t,i){if(this.callBase.apply(this,arguments),this._inkRipple){var r={element:n,jQueryEvent:i};t?this._inkRipple.renderWave(r):this._inkRipple.removeWave(r)}},_getShowSubmenuMode:function(){var t="onClick",n=this.option("showSubmenuMode");return n=o.isObject(n)?n.name:n,this._isDesktopDevice()?n:t},_initSelectedItems:n.noop,_isDesktopDevice:function(){return v.real().deviceType==="desktop"},_initEditStrategy:function(){var n=e.CollectionWidget.MenuBaseEditStrategy;this._editStrategy=new n(this)},_addCustomCssClass:function(n){n.addClass(this.option("cssClass"))},_itemWrapperSelector:function(){return"."+s},_hoverStartHandler:function(t){var i=this,r=i._getItemElementByEventArgs(t);r&&!i._isItemDisabled(r)&&(t.stopPropagation(),i.option("focusedElement",r),i._getShowSubmenuMode()==="onHover"&&(this._showSubmenusTimeout=setTimeout(n.proxy(i._showSubmenu,i,r),i._getSubmenuDelay("show"))))},_isItemDisabled:function(n){return this._disabledGetter(n.data(this._itemDataKey()))},_showSubmenu:function(n){clearTimeout(this._showSubmenusTimeout),this._hasFocusClass(n)&&this._addExpandedClass(n)},_addExpandedClass:function(n){n.addClass(w)},_getSubmenuDelay:function(n){var t=this.option("showSubmenuMode").delay;return t?o.isObject(t)?t[n]:t:ut[n]},_getItemElementByEventArgs:function(t){var i=n(t.target);if(i.hasClass(this._itemClass())||i.get(0)===t.currentTarget)return i;while(!i.hasClass(this._itemClass()))if(i=i.parent(),i.hasClass("dx-submenu"))return null;return i},_hoverEndHandler:n.noop,_hasSubmenu:function(n){return n.internalFields.childrenKeys.length},_renderContentImpl:function(){this._renderItems(this._dataAdapter.getRootNodes())},_renderItems:function(t,i){var u=this,r;t.length&&(r=this._renderContainer(this.element(),i),n.each(t,function(n,t){u._renderItem(n,t,r)}))},_renderContainer:function(t){return n("<ul>").appendTo(t).addClass(p)},_createDOMElement:function(t){return n("<li>").appendTo(t).addClass(s)},_renderItem:function(n,t,i){var e=this.option("items"),r,u;(this._renderSeparator(t,n,i),t.internalFields.item.visible!==!1)&&(u=this._createDOMElement(i),e[n+1]&&e[n+1].beginGroup&&u.addClass(k),r=this.callBase(n,t.internalFields.item,u),t.internalFields.item===this.option("selectedItem")&&r.addClass(f),this._addContentClasses(t,r),this._hasSubmenu(t)&&this.setAria("haspopup","true",r))},_addContentClasses:function(n,t){this._displayGetter(n)&&t.addClass(d),(n.icon||n.iconSrc)&&t.addClass(g),this._hasSubmenu(n)&&t.addClass(nt)},_postprocessRenderItem:function(t){var i=n(t.itemElement),r=this._dataAdapter.getSelectedNodesKeys(),u;if(!r.length||!this._selectedGetter(t.itemData)||!this._isItemSelectable(t.itemData)){this._setAriaSelected(i,"false");return}u=this._dataAdapter.getNodeByItem(t.itemData),u.internalFields.key===r[0]?(i.addClass(this._selectedItemClass()),this._setAriaSelected(i,"true")):this._setAriaSelected(i,"false")},_isItemSelectable:function(n){return n.selectable!==!1},_renderSeparator:function(t,i,r){t.beginGroup&&i>0&&(this._needSeparate=!0),t.visible!==!1&&this._needSeparate&&(n("<li>").appendTo(r).addClass(b),this._needSeparate=!1)},_itemClickHandler:function(t){var i=this._createAction(n.proxy(this._updateSubmenuVisibilityOnClick,this));this._itemJQueryEventHandler(t,"onItemClick",{},{afterExecute:n.proxy(i,this)})},_updateSubmenuVisibilityOnClick:function(n){this._updateSelectedItemOnClick(n),this._getShowSubmenuMode()==="onClick"&&this._addExpandedClass(n.args[0].itemElement)},_updateSelectedItemOnClick:function(n){var i=n.args?n.args[0]:n,r,t;this._isItemSelectionAllowed(i.itemData)&&(r=this._dataAdapter.getSelectedNodesKeys(),t=r.length&&this._dataAdapter.getNodeByKey(r[0]),t&&this._toggleItemSelection(t,!1),t&&t.internalFields.item===i.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionSilent("selectedItem",null)):this.selectItem(i.itemData))},_isItemSelectionAllowed:function(n){var t=this._isSelectionEnabled()&&this.option("selectionByClick");return this._itemContainer()&&t&&this._isItemSelectable(n)&&!this._itemsGetter(n)},_syncSelectionOptions:n.noop,_optionChanged:function(n){if(!this._cancelOptionChange)switch(n.name){case"showSubmenuMode":break;case"selectedItem":var r=n.value,t=this._dataAdapter.getNodeByItem(r),i=this._dataAdapter.getSelectedNodesKeys()[0];if(t&&t.internalFields.key!==i){if(t.selectable===!1)break;i&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(i),!1),this._toggleItemSelection(t,!0),this._updateSelectedItems()}break;case"_remoteSelectionSync":case"cssClass":case"position":case"selectionByClick":case"animation":case"useInkRipple":this._invalidate();break;default:this.callBase(n)}},_toggleItemSelection:function(t,i){var r=this._getElementByItem(t.internalFields.item);r&&n(r).toggleClass(f),this._dataAdapter.toggleSelection(t.internalFields.key,i)},_getElementByItem:function(t){var u=this,i;return n.each(this._itemContainer().find("."+r),function(r,f){return n(f).data(u._itemDataKey())!==t?!0:(i=f,!1)}),i},_updateSelectedItems:function(n,t){(n||t)&&(this._updateSelection(t,n),this._fireSelectionChangeEvent(t,n))},_fireSelectionChangeEvent:function(n,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[n],removedItems:[t]})},selectItem:function(n){var t=n.nodeType?this._getItemData(n):n,r=this._dataAdapter.getNodeByItem(t),i=this._dataAdapter.getSelectedNodesKeys()[0],u=this.option("selectedItem");r.internalFields.key!==i&&(i&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(i),!1),this._toggleItemSelection(r,!0),this._updateSelectedItems(u,t),this._setOptionSilent("selectedItem",t))},unselectItem:function(n){var i=n.nodeType?this._getItemData(n):n,t=this._dataAdapter.getNodeByItem(i),r=this.option("selectedItem");t.internalFields.selected&&(this._toggleItemSelection(t,!1),this._updateSelectedItems(r,null),this._setOptionSilent("selectedItem",null))}});c.publicName("dxMenuBase"),e.dxMenuBase=c}(jQuery,DevExpress),function(n,t){var r=t.ui,u=DevExpress.require("/ui/ui.errors");r.CollectionWidget.MenuBaseEditStrategy=r.CollectionWidget.PlainEditStrategy.inherit({_getPlainItems:function(){return n.map(this._collectionWidget.option("items"),function t(i){return i.items?[i].concat(n.map(i.items,t)):i})},_stringifyItem:function(n){var t=this;return JSON.stringify(n,function(n,i){return n==="template"?t._getTemplateString(i):i})},_getTemplateString:function(t){var i;return i=typeof t=="object"?n(t).text():t.toString()},selectedItemIndices:function(){var r=[],t=this._collectionWidget._dataAdapter,f=t.getData(),u=t.getNodeByKey(t.getSelectedNodesKeys()[0]),i;return u&&(i=n.inArray(u,f),i!==-1&&r.push(i)),r},fetchSelectedItems:function(t){t=t||this._collectionWidget._selectedItemIndices;var r=this._getPlainItems(),i=[];return n.each(t,function(n,t){i.push(r[t])}),i}})}(jQuery,DevExpress),function(n,t,i){var s=t.ui,h=t.fx,d=t.require("/utils/utils.position"),g=t.require("/utils/utils.common"),nt=t.require("/devices"),tt=t.require("/componentRegistrator"),o=t.require("/ui/events/ui.events.utils"),c="dx-menu",e=c+"-item",r=e+"-expanded",it="dx-menu-phone-overlay",f=c+"-items-container",rt=e+"-wrapper",u="dx-submenu",l="dx-context-menu",ut="dx-has-context-menu",ft="dx-state-disabled",a="up",v="down",y="left",p="right",w="first",b="last",k=["onShowing","onShown","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],et=[a,v,w,b];tt("dxContextMenu",s,s.dxMenuBase.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{alternativeInvocationMode:{enabled:!1,invokingElement:null},position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:window,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})},_initActions:function(){this._actions={},n.each(k,n.proxy(function(t,i){this._actions[i]=this._createActionByOption(i)||n.noop},this))},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{animation:!0,position:!0,selectedItem:!0})},_itemContainer:function(){return this._overlay&&this._overlay.content()},_supportedKeys:function(){var t=function(){var t=this.option("focusedElement");(this.hide(),t&&this._isSelectionEnabled())&&this.selectItem(t[0])};return n.extend(this.callBase(),{space:t,esc:this.hide})},_moveFocus:function(n){var t=this._getItemsByLocation(n),r=this._getActiveItem(!0),i,u=this.option("focusedElement");switch(n){case a:if(i=u?this._prevItem(t):t.last(),r.is(t.first()))this._actions.onLeftFirstItem(r);break;case v:if(i=u?this._nextItem(t):t.first(),r.is(t.last()))this._actions.onLeftLastItem(r);break;case p:i=this.option("rtlEnabled")?this._hideSubmenuHandler(t):this._expandSubmenuHandler(t,n);break;case y:i=this.option("rtlEnabled")?this._expandSubmenuHandler(t,n):this._hideSubmenuHandler(t);break;case w:i=t.first();break;case b:i=t.last();break;default:return this.callBase(n)}i.length!==0&&this.option("focusedElement",i)},_getItemsByLocation:function(t){var i,r=this._getActiveItem(!0),u=this.option("rtlEnabled")?y:p;return n.inArray(t,et)>=0?i=r.closest("."+f).children().children():(i=this._itemElements(),t!==u&&(i=i.filter(":visible"))),i},_getAriaTarget:function(){return this.element()},_refreshActiveDescendant:function(){var n=this._overlay.content(),t=this.getFocusedItemId();if(!n)return this.callBase();this.setAria("activedescendant","",n),this.setAria("activedescendant",t,n)},_hideSubmenuHandler:function(){var t=this._getActiveItem(!0),i=t.parents("."+r).first();if(i.length)return this._hideSubmenusOnSameLevel(i),i;this._actions.onCloseRootSubmenu(t);return t},_expandSubmenuHandler:function(n,t){var i=this._getActiveItem(!0),f=this._dataAdapter.getNodeByItem(this._getItemData(i)),e=this._hasSubmenu(f),r=i.children("."+u);if(e&&!i.hasClass(ft))return r.length&&r.css("visibility")!=="hidden"||this._showSubmenu(i),this._nextItem(this._getItemsByLocation(t));this._actions.onExpandLastSubmenu(i);return i},_render:function(){this.element().addClass(ut),this.callBase(),this.setAria("role","menu")},_renderContentImpl:function(){this._renderContextMenuOverlay(),this._detachShowContextMenuEvents(this.option("target")),this._attachShowContextMenuEvents(),this._attachInvokeContextMenuEvents(),this.callBase()},_renderContextMenuOverlay:function(){var i=this._getOverlayOptions(),r=n("<div>"),t;this._overlay=this._createComponent(r.appendTo(this._$element),"dxOverlay",i),t=this._overlay.content(),t.addClass(l),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._overlay.option("visible")&&this._show()},_addPlatformDependentClass:function(n){nt.current().phone&&n.addClass(it)},_detachShowContextMenuEvents:function(t){var i=o.addNamespace("dxcontextmenu",this.NAME);n(t).off(i),this._overlay&&this._overlay.content().off(i)},_attachShowContextMenuEvents:function(){var i=this,r=o.addNamespace("dxcontextmenu",this.NAME),t=this._createAction(n.proxy(function(n){i.option("alternativeInvocationMode").enabled||i._show(n.jQueryEvent)},this),{validatingTargetName:"target"});t=this._createAction(t),this._overlay&&this._overlay.content().on(r,n.noop);n(this.option("target")).on(r,n.proxy(function(i){t({jQueryEvent:i,target:n(i.currentTarget)})},this))},_attachInvokeContextMenuEvents:function(){var i=this,t=o.addNamespace("dxclick",this.NAME),r=this._createAction(n.proxy(function(){i.toggle()},this));if(this.option("alternativeInvocationMode").enabled&&this._getInvokeTarget())n(this._getInvokeTarget()).off(t).on(t,n.proxy(function(n){r({jQueryEvent:n})},this))},_getInvokeTarget:function(){return this.option("alternativeInvocationMode").invokingElement},_hoverEndHandler:function(n){n.stopPropagation()},_renderDimensions:n.noop,_renderContainer:function(t,i){var r,f=i||this._itemContainer();return(t=n("<div>"),t.appendTo(f).addClass(u).css("visibility",i?"hidden":"visible"),r=this.callBase(t),i)?r:this.option("width")?r.css("min-width",this.option("width")):this.option("height")?r.css("min-height",this.option("height")):r},_renderSubmenuItems:function(n,t){this._renderItems(this._getChildNodes(n),t)},_getOverlayOptions:function(){var t=this.option("position"),i=this.option("animation");return{focusStateEnabled:this.option("focusStateEnabled"),animation:i,closeOnOutsideClick:n.proxy(this._closeOnOutsideClickHandler,this),closeOnTargetScroll:!0,deferRendering:!1,position:{at:t.at,my:t.my,of:this.option("target"),collision:"fit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShowing:n.proxy(this._overlayShowingActionHandler,this),onShown:n.proxy(this._overlayShownActionHandler,this),onHiding:n.proxy(this._overlayHidingActionHandler,this),onHidden:n.proxy(this._overlayHiddenActionHandler,this),onPositioned:n.proxy(this._overlayPositionedActionHandler,this),onPositioning:n.proxy(this._overlayPositioningActionHandler,this)}},_overlayShowingActionHandler:function(n){this._actions.onShowing(n);this._clearFocusedItem()},_overlayShownActionHandler:function(n){this._actions.onShown(n);this._clearFocusedItem()},_clearFocusedItem:function(){this._removeFocusedItem(),this.option("focusedElement",null)},_overlayHidingActionHandler:function(n){this._actions.onHiding(n);n.cancel||this._hideAllShownSubmenus()},_overlayHiddenActionHandler:function(n){this._actions.onHidden(n);this._setOptionSilent("visible",!1)},_overlayPositionedActionHandler:n.noop,_overlayPositioningActionHandler:n.noop,_closeOnOutsideClickHandler:function(t){var i,u,f,r,o,s,h=n(t.target).closest(this._getInvokeTarget());return t.target===document?!0:h&&h.length?!1:(u=this._getActiveItemsContainer(t.target),f=this._getItemsContainers(),i=this._searchActiveItem(t.target),r=this.element().parents("."+e),o=i[0]===r[0]&&i.length&&r.length,s=this._isIncludeOverlay(u,f)&&i.length,s||o)?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(i),!1):!0},_getActiveItemsContainer:function(t){return n(t).closest("."+f)},_getItemsContainers:function(){return this._overlay._$content.find("."+f)},_searchActiveItem:function(t){return n(t).closest("."+e).eq(0)},_isIncludeOverlay:function(t,i){var r=!1;return n.each(i,function(n,i){t.is(i)&&!r&&(r=!0)}),r},_hideAllShownChildSubmenus:function(t){var r=this,f=t.find("."+u),e=n.extend([],this._shownSubmenus),i;f.length>0&&n.each(e,function(n,u){i=r._searchActiveItem(u.context).parent(),i.parent().is(t.parent().parent())&&!i.is(t.parent())&&r._hideSubmenu(u)})},_showSubmenu:function(n){var t=this._dataAdapter.getNodeByItem(this._getItemData(n)),e=this._hasSubmenu(t),i;this._hideSubmenusOnSameLevel(n),e&&(this.callBase(n),n.closest("."+f).find("."+r).removeClass(r),n.children("."+u).length||this._renderSubmenuItems(t,n,2),i=this._isSubmenuVisible(n.children("."+u)),i||(n.addClass(r),this._drawSubmenu(n)))},_hideSubmenusOnSameLevel:function(n){var t=n.closest("."+f).find("."+r);t.length&&(t.removeClass(r),this._hideSubmenu(t.find("."+u)))},_hideSubmenuGroup:function(n){this._isSubmenuVisible(n)&&this._hideSubmenuCore(n)},_isSubmenuVisible:function(n){return n.css("visibility")==="visible"},_drawSubmenu:function(t){var r=this.option("animation")?this.option("animation").show:{},i=t.children("."+u);this._overlay&&this._overlay.option("visible")&&(g.isDefined(this._shownSubmenus)||(this._shownSubmenus=[]),n.inArray(i,this._shownSubmenus)&&this._shownSubmenus.push(i),d.setup(i,this._getSubmenuPosition(t)),r&&this._animate(i,r),i.css("visibility","visible"))},_animate:function(n,t){h.animate(n,t)},_getSubmenuPosition:function(n){var i=this.option("submenuDirection").toLowerCase(),r=n.parent("."+rt),t={collision:"flip",of:r,offset:{h:0,v:-1}};switch(i){case"left":t.at="left top",t.my="right top";break;case"right":t.at="right top",t.my="left top";break;default:this.option("rtlEnabled")?(t.at="left top",t.my="right top"):(t.at="right top",t.my="left top")}return t},_updateSubmenuVisibilityOnClick:function(t){var i,f,e,o,r,s,h;if(t.args.length&&t.args[0]){if(t.args[0].jQueryEvent.stopPropagation(),i=t.args[0].itemElement,f=t.args[0].itemData,e=this._dataAdapter.getNodeByItem(f),!e)return;if(o=i.find("."+l).length?this._getSubmenuInstanceByRootElement(i):e.internalFields.childrenKeys.length&&this._renderSubmenuItems(e,i,2),s=f&&f.closeMenuOnClick===!1,r=i.children("."+u),i.context===r.context&&r.css("visibility")==="visible")return;if(!f||f.disabled||s)return;this._updateSelectedItemOnClick(t),r.length===0?(h=n(i.parents("."+u)[0]),this._hideSubmenu(h),!t.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)):(this._shownSubmenus&&this._shownSubmenus.length>0&&(this._shownSubmenus[0].is(r)||this._shownSubmenus[0].has(r).length===1?this._hideSubmenu(r):this._hideAllShownSubmenus()),this._showSubmenu(i))}},_hideSubmenu:function(t){var i=this,u=n.extend([],i._shownSubmenus);n.each(u,function(n,u){(t.is(u)||t.has(u).length)&&(u.parent().removeClass(r),i._hideSubmenuCore(u))})},_hideSubmenuCore:function(t){var i=n.inArray(t,this._shownSubmenus),r=this.option("animation")?this.option("animation").hide:null;i>=0&&this._shownSubmenus.splice(i,1),this._stopAnimate(t),r&&this._animate(t,r),t.css("visibility","hidden")},_stopAnimate:function(n){h.stop(n,!0)},_hideAllShownSubmenus:function(){var t=this,i=n.extend([],t._shownSubmenus),u=this._overlay.content().find("."+r);u.removeClass(r),n.each(i,function(n,i){t._hideSubmenuCore(i)})},_visibilityChanged:function(n){n&&(this._detachShowContextMenuEvents(this.option("target")),this._attachShowContextMenuEvents(),this._attachInvokeContextMenuEvents())},_optionChanged:function(t){if(!this._cancelOptionChange){if(n.inArray(t.name,k)>-1){this._initActions();return}switch(t.name){case"visible":this._toggleVisibility(t.value);break;case"alternativeInvocationMode":this._invalidate();break;case"items":this._overlay.option("visible")&&this._overlay.hide(),this.callBase(t);break;case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(n(t.previousValue)),this._invalidate();break;case"focusedElement":this.callBase(t);break;default:this._overlay&&this._overlay.option("visible")&&this._overlay.hide(),this.callBase(t)}}},_toggleVisibility:function(n){n?this._show():this._hide()},_show:function(t){var u=!(this._overlay&&this._positionContextMenu(t)),i=new DevExpress.data.Guid,r;return u&&this._overlay&&(this.option("focusedElement",this._itemElements().first()),r=this._overlay.show(),this._overlay.content().attr({id:i,role:"menu"}),this.setAria("owns",i),this._setOptionSilent("visible",!0)),r||n.Deferred().reject().promise()},_positionContextMenu:function(n){var t=this.option("position"),r=this._createActionByOption("onPositioning",i),i;return n&&n.preventDefault&&(t={at:"top left",my:"top left",of:n}),t.of||(t.of=this.option("target")),i={position:t,jQueryEvent:n},r(i),!i.canceled&&this._overlay?t&&this._overlay.option("position",t):i.jQueryEvent.cancel=!0,i.canceled},_hide:function(){var t;return this._overlay&&(this._overlay.content().removeAttr("id"),t=this._overlay.hide(),this._setOptionSilent("visible",!1)),this.setAria("owns",i),t||n.Deferred().reject().promise()},_clean:function(){this._overlay&&(this._overlay.element().remove(),this._overlay=null),this._detachShowContextMenuEvents(n(this.option("target")))},toggle:function(n){var t=this.option("visible");return n=n===i?!t:n,n?this._show():this._hide()},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)}}))}(jQuery,DevExpress),function(n,t,i){var h=t.ui,b=t.require("/utils/utils.position"),e=t.require("/utils/utils.common"),a=t.require("/componentRegistrator"),v=t.require("/ui/events/ui.events.utils"),k=t.require("/ui/events/pointer/ui.events.pointer"),d=t.require("/ui/events/ui.events.hover"),o="dx-menu",g=o+"-vertical",nt=o+"-horizontal",tt=o+"-item",y=o+"-items-container",c=tt+"-expanded",r="dx-context-menu",l=r+"-container-border",p="dx-context-menu-content-delimiter",w="dx-submenu",it="dx-state-disabled",rt="dx-state-focused",ut="dx-state-hover",ft="up",et="down",ot="left",st="right",s="showSubmenu",f="nextItem",u="prevItem",ht=50,ct=300,lt=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden"],at=h.dxContextMenu.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{orientation:"horizontal"})},_initDataAdapter:function(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter?this._dataAdapter.options.rooValue=this.option("_parentKey"):this.callBase()},_renderContentImpl:function(){this._renderContextMenuOverlay(),this._detachShowContextMenuEvents(this.option("target")),this._attachShowContextMenuEvents(),this._attachInvokeContextMenuEvents();var n=this._dataAdapter.getNodeByKey(this.option("_parentKey"));n&&this._renderItems(this._getChildNodes(n)),this.option("_hideDelimiter")||this._renderDelimiter()},_renderDelimiter:function(){this.$contentDelimiter=n("<div>").appendTo(this._itemContainer()).addClass(p)},_overlayPositionedActionHandler:function(n){this._showDelimiter(n)},_hoverEndHandler:function(n){this._toggleFocusClass(!1,n.currentTarget)},_hoverStartHandler:function(n){this.callBase(n),this._toggleFocusClass(!0,n.currentTarget)},_showDelimiter:function(n){var u=this._itemContainer().children("."+w).eq(0),f=this.option("position").of,t={of:u},i,r;this.$contentDelimiter&&(i=n.position,r=f.offset(),this.$contentDelimiter.css("display","block"),this.option("orientation")==="horizontal"?(this.$contentDelimiter.width(f.width()<u.width()?f.width()-2:u.width()-2),this.$contentDelimiter.height(2),i.v.location>r.top?Math.round(i.h.location)===Math.round(r.left)?(t.offset="1 -1",t.at="left top",t.my="left top"):(t.offset="-1 -1",t.at="right top",t.my="right top"):(this.$contentDelimiter.height(5),Math.round(i.h.location)===Math.round(r.left)?(t.offset="1 4",t.at="left bottom",t.my="left bottom"):(t.offset="-1 2",t.at="right bottom",t.my="right bottom"))):this.option("orientation")==="vertical"&&(this.$contentDelimiter.width(2),this.$contentDelimiter.height(f.height()<u.height()?f.height()-2:u.height()-2),i.h.location>r.left?Math.round(i.v.location)===Math.round(r.top)?(t.offset="-1 1",t.at="left top",t.my="left top"):(t.offset="-1 -1",t.at="left bottom",t.my="left bottom"):Math.round(i.v.location)===Math.round(r.top)?(t.offset="1 1",t.at="right top",t.my="right top"):(t.offset="1 -1",t.at="right bottom",t.my="right bottom")),b.setup(this.$contentDelimiter,t))}});a("dxMenu",h,h.dxMenuBase.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null})},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{animation:!0,selectedItem:!0})},_focusTarget:function(){return this.element()},_eventBindingTarget:function(){return this.element()},_getOrientation:function(){return this.option("orientation")==="vertical"?"vertical":"horizontal"},_isMenuHorizontal:function(){return this._getOrientation()==="horizontal"},_moveFocus:function(n){var h=this._itemElements().filter(":visible"),t=this._isMenuHorizontal(),i,c=this._getActiveItem(!0),r,e,o;switch(n){case ft:r=t?s:this._getItemsNavigationOperation(u),i=t?c:h,e=this._getKeyboardNavigationAction(r,i),o=e();break;case et:r=t?s:this._getItemsNavigationOperation(f),i=t?c:h,e=this._getKeyboardNavigationAction(r,i),o=e();break;case st:r=t?this._getItemsNavigationOperation(f):s,i=t?h:c,e=this._getKeyboardNavigationAction(r,i),o=e();break;case ot:r=t?this._getItemsNavigationOperation(u):s,i=t?h:c,e=this._getKeyboardNavigationAction(r,i),o=e();break;default:return this.callBase(n)}o&&o.length!==0&&this.option("focusedElement",o)},_getItemsNavigationOperation:function(n){var t=n;return this.option("rtlEnabled")&&(t=n===u?f:u),t},_getKeyboardNavigationAction:function(t,i){var r=n.noop;switch(t){case s:i.hasClass(it)||(r=n.proxy(this._showSubmenu,this,i));break;case f:r=n.proxy(this._nextItem,this,i);break;case u:r=n.proxy(this._prevItem,this,i)}return r},_init:function(){this.callBase(),this._submenus=[]},_initActions:function(){this._actions={},n.each(lt,n.proxy(function(t,i){this._actions[i]=this._createActionByOption(i)||n.noop},this))},_render:function(){this._visibleSubmenu=null,this.callBase(),this.element().addClass(o),this.setAria("role","menubar")},_getHideDelay:function(){var n=this.option("showFirstSubmenuMode").delay;return n?e.isObject(n)?n.hide:n:ct},_getShowDelay:function(){var n=this.option("showFirstSubmenuMode").delay,t;return t=n?e.isObject(n)?n.show:n:ht},_renderContainer:function(){var i=this.option("orientation")==="vertical",t=n("<div>");return t.appendTo(this.element()).addClass(i?g:nt),this.callBase(t).css("min-height",this._getValueHeight(t))},_getValueHeight:function(t){var i=n("<div>").html("Jj").css({width:"auto",position:"fixed",top:"-3000px",left:"-3000px"}).appendTo(t),r=i.height();return i.remove(),r},_renderSubmenuItems:function(n,t){var i=this._createSubmenu(n,t);return this._submenus.push(i),this._renderBorderElement(t),i},_createSubmenu:function(t,i){var f=n("<div>").addClass(r).appendTo(i),e=this._getChildNodes(t),u=this._createComponent(f,"dxSubmenu",n.extend(this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:t.internalFields.key,items:e,position:this.getSubmenuPosition(i)}));return this._attachSubmenuHandlers(i,u),u},_getSubmenuOptions:function(){var i=n("<div>"),t=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),templateProvider:this.option("templateProvider"),target:i,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),selectionByClick:this.option("selectionByClick"),cssClass:this.option("cssClass"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),showSubmenuMode:this.option("showSubmenuMode"),displayExpr:this.option("displayExpr"),disabledExpr:this.option("disabledExpr"),selectedExpr:this.option("selectedExpr"),itemsExpr:this.option("itemsExpr"),onSelectionChanged:n.proxy(this._nestedItemOnSelectionChangedHandler,this),onItemClick:n.proxy(this._nestedItemOnItemClickHandler,this),onItemRendered:this.option("onItemRendered"),onLeftFirstItem:t?null:n.proxy(this._moveMainMenuFocus,this,u),onLeftLastItem:t?null:n.proxy(this._moveMainMenuFocus,this,f),onCloseRootSubmenu:t?n.proxy(this._moveMainMenuFocus,this,u):null,onExpandLastSubmenu:t?n.proxy(this._moveMainMenuFocus,this,f):null,_remoteSelectionSync:!0,_hideDelimiter:this.option("_hideDelimiter")}},_getShowFirstSubmenuMode:function(){var n;return n=e.isObject(this.option("showFirstSubmenuMode"))?this._isDesktopDevice()?this.option("showFirstSubmenuMode").name:"onClick":this._isDesktopDevice()?this.option("showFirstSubmenuMode"):"onClick"},_moveMainMenuFocus:function(n){var i=this.element().find("."+c).first(),t;switch(n){case u:t=i.parent().prev(),t.length||(t=i.parent().siblings().last()),t=t.children();break;case f:t=i.parent().next(),t.length||(t=i.parent().siblings().first()),t=t.children()}this._visibleSubmenu&&this._hideSubmenu(this._visibleSubmenu),this.focus(),this.option("focusedElement",t)},_nestedItemOnSelectionChangedHandler:function(n){var t=n.addedItems.length&&n.addedItems[0],i=n.element.dxSubmenu("instance"),r=this._createActionByOption("onSelectionChanged",{});r(n),t&&this._clearSelectionInSubmenus(t[0],i),this._clearRootSelection(),this._setOptionSilent("selectedItem",t)},_clearSelectionInSubmenus:function(t,i){var r=this,u=!arguments.length;n.each(this._submenus,function(n,t){var o=t._itemContainer(),s=!o.is(i&&i._itemContainer()),f=o.find("."+r._selectedItemClass()),e;(s&&f.length||u)&&(f.removeClass(r._selectedItemClass()),e=r._getItemData(f),e&&(e.selected=!1),t._clearSelectedItems())})},_clearRootSelection:function(){var n=this.element().find("."+y).first().children().children().filter("."+this._selectedItemClass()),t;n.length&&(t=this._getItemData(n),t.selected=!1,n.removeClass(this._selectedItemClass()))},_nestedItemOnItemClickHandler:function(n){var t=this._createActionByOption("onItemClick",{});t(n)},_attachSubmenuHandlers:function(t,i){var r=this,f=i._overlay.content(),e=f.find("."+w),u=v.addNamespace(d.end,this.NAME+"_submenu");i.option({onShowing:n.proxy(this._submenuOnShowingHandler,this,t,i),onShown:n.proxy(this._submenuOnShownHandler,this,t,i),onHiding:n.proxy(this._submenuOnHidingHandler,this,t,i),onHidden:n.proxy(this._submenuOnHiddenHandler,this,t,i)}),n.each(e,function(i,f){n(f).off(u).on(u,null,n.proxy(r._submenuMouseLeaveHandler,r,t))})},_submenuOnShowingHandler:function(n,t){var r=n.children("."+l);this._actions.onSubmenuShowing({rootItem:n,submenu:t});this._options.width!==i&&(this._options.rtlEnabled?r.css("width",this._$element.width()-n.position().right):r.css("width",this._$element.width()-n.position().left)),r.show(),n.addClass(c)},_submenuOnShownHandler:function(n,t){this._actions.onSubmenuShown({rootItem:n,submenu:t})},_submenuOnHidingHandler:function(n,t,i){var u=n.children("."+l),r=i;r.rootItem=n,r.submenu=t;this._actions.onSubmenuHiding(r);i=r,i.cancel||(u.hide(),n.removeClass(c))},_submenuOnHiddenHandler:function(n,t){this._actions.onSubmenuHidden({rootItem:n,submenu:t})},_submenuMouseLeaveHandler:function(t,i){var u=this,f=n(i.relatedTarget).parents("."+r)[0],e=this._getSubmenuElementByRootElement(t).dxSubmenu("instance")._overlay.content()[0];this.option("hideSubmenuOnMouseLeave")&&f!==e&&(clearTimeout(this._showSubmenuTimer),clearTimeout(this._hideSubmenuTimer),setTimeout(n.proxy(this._hideSubmenuAfterTimeout,this),u._getHideDelay(),t))},_hideSubmenuAfterTimeout:function(t){var i=this._getSubmenuElementByRootElement(t),r=this._visibleSubmenu,u=r&&n(this._visibleSubmenu.context).hasClass(ut);!r||this._getFocusedSubmenuItem(this._visibleSubmenu).length||u||i.length&&this._getSubmenuInstance(i).hide()},_getFocusedSubmenuItem:function(n){return n._overlay.content().find("."+rt)},_getSubmenuInstance:function(n){return n.data().dxSubmenu},_getSubmenuElementByRootElement:function(n){return n&&n.children("."+r)},_getSubmenuInstanceByRootElement:function(n){var t=this._getSubmenuElementByRootElement(n);return t.length&&this._getSubmenuInstance(t)},getSubmenuPosition:function(n){var i=this.option("orientation").toLowerCase()==="vertical",u=this.option("submenuDirection").toLowerCase(),r=this.option("rtlEnabled"),t={collision:"flip",of:n};switch(u){case"leftortop":t.at=i?"left top":"left top",t.my=i?"right top":"left bottom";break;case"rightorbottom":t.at=i?"right top":"left bottom",t.my=i?"left top":"left top";break;default:i?(t.at=r?"left top":"right top",t.my=r?"right top":"left top"):(t.at=r?"right bottom":"left bottom",t.my=r?"right top":"left top")}return t},_renderBorderElement:function(t){n("<div>").appendTo(t).addClass(l).hide()},_hoverStartHandler:function(t){var o=v.addNamespace(k.move,this.NAME),i=this._getItemElementByEventArgs(t),f=this._dataAdapter.getNodeByItem(this._getItemData(i)),s=e.isDefined(t.buttons)&&t.buttons===1||!e.isDefined(t.buttons)&&t.which===1,u;if(!this._isItemDisabled(i)&&(i.off(o),this._getShowFirstSubmenuMode()==="onHover"&&f.internalFields.childrenKeys.length&&!s)){if(u=i.find("."+r).length?this._getSubmenuInstanceByRootElement(i):f.internalFields.childrenKeys.length&&this._renderSubmenuItems(f,i),clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer),!u._overlay.option("visible")){i.on(o,n.proxy(this._itemMouseMoveHandler,this));this._showSubmenuTimer=this._getHideDelay()}u===this._visibleSubmenu&&this._hideSubmenu(this._visibleSubmenu)}},_hoverEndHandler:function(t){var i=this,r=this._getItemElementByEventArgs(t);this._isItemDisabled(r)||n(t.relatedTarget).hasClass(p)||this.option("hideSubmenuOnMouseLeave")&&!n(t.relatedTarget).hasClass(y)&&(clearTimeout(this._showSubmenuTimer),clearTimeout(this._hideSubmenuTimer),this._hideSubmenuTimer=setTimeout(function(){i._hideSubmenuAfterTimeout(r)},i._getHideDelay()))},_showSubmenu:function(n){var i=this._dataAdapter.getNodeByItem(this._getItemData(n)),t;t=n.find("."+r).length?this._getSubmenuInstanceByRootElement(n):i.internalFields.childrenKeys.length&&this._renderSubmenuItems(i,n),this._visibleSubmenu&&this._visibleSubmenu!==t&&this._hideSubmenu(this._visibleSubmenu),t&&t.show(),this._visibleSubmenu=t,this._hoveredRootItem=n},_hideSubmenu:function(n){n&&n.hide(),this._visibleSubmenu&&this._visibleSubmenu===n&&(this._visibleSubmenu=null),this._hoveredRootItem=null},_itemMouseMoveHandler:function(t){if(!t.pointers||!t.pointers.length){var i=this,u=n(t.currentTarget);this._showSubmenuTimer&&(clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer),this._showSubmenuTimer=setTimeout(function(){var t=i._dataAdapter.getNodeByItem(i._getItemData(u)),n;n=u.find("."+r).length?i._getSubmenuInstanceByRootElement(u):t.internalFields.childrenKeys.length&&i._renderSubmenuItems(t,u),n&&!n._overlay.option("visible")&&i._showSubmenu(u)},i._getShowDelay()))}},_updateSubmenuVisibilityOnClick:function(n){var t,u,i,f=n.args.length&&n.args[0];if(f){if(f.jQueryEvent.stopPropagation(),u=this._dataAdapter.getNodeByItem(f.itemData),t=f.itemElement,u.disabled)return;i=t.find("."+r).length?this._getSubmenuInstanceByRootElement(t):u.internalFields.childrenKeys.length&&this._renderSubmenuItems(u,t),this._updateSelectedItemOnClick(n),i?i._overlay.option("visible")?this._getShowFirstSubmenuMode()==="onClick"&&this._hideSubmenu(i):this._showSubmenu(t):this._visibleSubmenu&&this._hideSubmenu(this._visibleSubmenu)}},_optionChanged:function(n){if(!this._cancelOptionChange){this._hideShownSubmenuOnOptionChange(n.name);switch(n.name){case"orientation":case"submenuDirection":case"hideSubmenuOnMouseLeave":case"showFirstSubmenuMode":this._invalidate();break;case"showSubmenuMode":this._changeSubmenusOption(n.name,n.value);break;case"onSubmenuShowing":case"onSubmenuShown":case"onSubmenuHiding":case"onSubmenuHidden":this._initActions();break;default:this.callBase(n)}}},_hideShownSubmenuOnOptionChange:function(n){n!=="focusedElement"&&this._visibleSubmenu&&this._hideSubmenu(this._visibleSubmenu)},_changeSubmenusOption:function(t,i){n.each(this._submenus,function(n,r){r.option(t,i)})},selectItem:function(n){this._hideSubmenu(this._visibleSubmenu),this.callBase(n)},unselectItem:function(n){this._hideSubmenu(this._visibleSubmenu),this.callBase(n)}})),a("dxSubmenu",h.dxMenu,at)}(jQuery,DevExpress),function(n,t,i){var w=t.ui,c=t.require("/utils/utils.common"),b=t.require("/componentRegistrator"),y=t.require("/ui/widgets/ui.checkBox"),k=t.require("/ui/hierarchicalCollectionWidget/ui.hierarchicalCollectionWidget"),s=t.require("/ui/events/ui.events.utils"),a=t.require("/ui/events/pointer/ui.events.pointer"),d="dx-treeview",f="dx-treeview-node-container",e="dx-treeview-node-container-opened",u="dx-treeview-node",r="dx-treeview-item",g="dx-treeview-item-with-checkbox",nt="dx-treeview-item-data",l="dx-treeview-node-is-leaf",o="dx-treeview-toggle-item-visibility",v="dx-treeview-toggle-item-visibility-opened",tt="dx-treeview-select-all-item",h="dx-state-disabled",it="dx-state-selected",p="data-item-id",rt="dxdblclick",ut=n.noop;b("dxTreeView",w,k.inherit({_supportedKeys:function(){var i=function(n){var t=this.option("focusedElement");t&&(n.target=t,n.currentTarget=t,this._itemClickHandler(n,t.find(">."+r)))},u=function(n){n.preventDefault(),this._changeCheckBoxState(this.option("focusedElement"))},f=function(n,t){var i,u;this.option("expandAllEnabled")&&(t.preventDefault(),i=this.option("focusedElement"),i)&&(u=this._getItemData(i.find("."+r)),this._toggleExpandedNestedItems([u],n))};return n.extend(this.callBase(),{enter:this._showCheckboxes()?u:i,space:this._showCheckboxes()?u:i,asterisk:n.proxy(f,this,!0),minus:n.proxy(f,this,!1)})},_changeCheckBoxState:function(n){var t=this._getCheckBoxInstance(n),i=t.option("value");t.option("disabled")||this._updateItemSelection(!i,n.find("."+r).get(0),!0,n)},_toggleExpandedNestedItems:function(n,t){var i,u,r,f;if(n)for(i=0,u=n.length;i<u;i++)r=n[i],f=this._dataAdapter.getNodeByItem(r),this._toggleExpandedState(f,t),this._toggleExpandedNestedItems(r.items,t)},_getNodeElementById:function(n){return this.element().find("["+p+"='"+n+"']")},_activeStateUnit:"."+r,_widgetClass:function(){return d},_getDefaultOptions:function(){return n.extend(this.callBase(),{animationEnabled:!0,dataStructure:"tree",expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",selectAllText:Globalize.localize("dxList-selectAll"),onItemSelected:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",virtualModeEnabled:!1,rootValue:0,searchValue:"",focusStateEnabled:!1,selectionMode:"multi"})},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{showCheckBoxes:{since:"15.2",message:"use 'showCheckBoxesMode' option instead"},selectAllEnabled:{since:"15.2",message:"use 'showCheckBoxesMode' option instead"}})},_initSelectedItems:n.noop,_syncSelectionOptions:n.noop,_fireSelectionChanged:function(){var t=this._selectionChangePromise;n.when(t).done(n.proxy(function(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()},this))},_renderItemFrame:function(n,t){var i=this.callBase.apply(this,arguments);return i.toggleClass(h,!!this._disabledGetter(t)),i},_checkBoxModeChange:function(n,t){if(t==="none"||n==="none"){this.repaint();return}var i=this._$selectAllItem&&this._$selectAllItem.length;switch(n){case"selectAll":i||this._renderSelectAllItem();break;case"normal":i&&(this._$selectAllItem.remove(),delete this._$selectAllItem)}},_optionChanged:function(n){var i=n.name,t=n.value,r=n.previousValue;switch(i){case"showCheckBoxes":this.option("showCheckBoxesMode",t?"normal":"none");break;case"selectAllEnabled":this.option("showCheckBoxesMode",t?"selectAll":"normal");break;case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",t);break;case"showCheckBoxesMode":this._checkBoxModeChange(t,r);break;case"scrollDirection":this._scrollableContainer.option("direction",t);break;case"items":delete this._$selectAllItem,this.callBase(n);break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"dataStructure":case"rootValue":case"searchValue":this._initDataAdapter(),this.repaint();break;case"selectNodesRecursive":case"expandNodesRecursive":case"onItemSelected":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":break;default:this.callBase(n)}},_initDataSource:function(){this.callBase(),this._isVirtualMode()&&this._dataSource.filter(this.option("parentIdExpr"),this.option("rootValue"))},_dataSourceLoadErrorHandler:function(){this._renderEmptyMessage()},_init:function(){this.callBase(),this._initCheckBoxesMode()},_getAccessors:function(){return["key","display","selected","expanded","items","parentId","disabled","hasItems"]},_getDataAdapterOptions:function(){return{rootValue:this.option("rootValue"),recursiveSelection:this.option("selectNodesRecursive"),recursiveExpansion:this.option("expandNodesRecursive"),searchValue:this.option("searchValue"),dataType:this.option("dataStructure")}},_render:function(){var t=this;this.element().off(a.down).on(a.down,function(i){var r=n(i.target).closest(t._activeStateUnit);r.length||i.preventDefault()});this.callBase(),this.setAria("role","tree")},_renderContentImpl:function(){if(this.option("items").length){this._renderScrollableContainer();var n=this._renderNodeContainer();this._scrollableContainer.content().append(n),this._renderItems(n,this._dataAdapter.getRootNodes()),this._selectAllEnabled()&&this._renderSelectAllItem(n)}this._renderEmptyMessage()},_isVirtualMode:function(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&this.option("dataSource")},_isDataStructurePlain:function(){return this.option("dataStructure")==="plain"},_fireContentReadyAction:function(){this.callBase(),this._scrollableContainer&&this._scrollableContainer.content().height()>this.element().height()&&(this._scrollableContainer.update(),ut())},_renderScrollableContainer:function(){this._scrollableContainer=this._createComponent(n("<div>").appendTo(this.element()),"dxScrollable",{direction:this.option("scrollDirection"),useKeyboard:!1})},_renderNodeContainer:function(t){var i=n("<ul>").addClass(f),u;return this.setAria("role","group",i),t&&(u=this._getItemData(t.find("> ."+r)),this._expandedGetter(u)&&i.addClass(e),i.appendTo(t)),i},_createDOMElement:function(t,i){var r=n("<li>").addClass(u).attr(p,i.internalFields.key).prependTo(t);return this.setAria({role:"treeitem",label:this._displayGetter(i.internalFields.item)||"",expanded:i.internalFields.expanded||!1},r),r},_showCheckboxes:function(){return this.option("showCheckBoxesMode")!=="none"},_selectAllEnabled:function(){return this.option("showCheckBoxesMode")==="selectAll"},_initCheckBoxesMode:function(){if(this._suppressDeprecatedWarnings(),this.option("showCheckBoxesMode")==="none"){this._suppressDeprecatedWarnings();var n=this.option("showCheckBoxes"),t=this.option("selectAllEnabled");this._resumeDeprecatedWarnings(),this.option("showCheckBoxesMode",n?t?"selectAll":"normal":"none"),this._resumeDeprecatedWarnings()}},_renderItems:function(n,t){for(var e=t.length-1,i,u,f,r=e;r>=0;r--)i=t[r],u=this._createDOMElement(n,i),this._showCheckboxes()&&this._renderCheckBox(u,i),f=this._renderItem.call(this,i.internalFields.key,i.internalFields.item,u),this._attachDblclickToItem(f,i),this._renderChildren(u,i);this._renderFocusTarget()},_renderChildren:function(n,t){this._hasChildren(t)?(this._renderToggleItemVisibilityIcon(n,t),this._renderSublevel(n,t)):this._addLeafClass(n)},_hasChildren:function(n){return this._isVirtualMode()?this._hasItemsGetter(n.internalFields.item)!==!1:this.callBase(n)},_renderSublevel:function(n,t){var i=this._renderNodeContainer(n,t),r;t.internalFields.expanded&&(r=this._getChildNodes(t),this._renderItems(i,r),i.addClass(e))},_executeItemRenderAction:function(n,t,i){var r=this._dataAdapter.getNodeByItem(t);this._getItemRenderAction()({itemElement:i,itemIndex:n,itemData:t,node:r})},_addLeafClass:function(n){n.addClass(l)},_attachDblclickToItem:function(n,t){var r=this,u=s.addNamespace(rt,r.NAME);n.off(u).on(u,function(n){r._toggleExpandedState(t,i,n)})},_convertItemElementToNode:function(t){if(!t||t.internalFields)return t;var i=n(t).get(0).nodeType?this._getItemData(n(t)):t;return this._dataAdapter.getNodeByItem(i)},_toggleExpandedState:function(n,t,i){var r=this._convertItemElementToNode(n),f,u;(this._isVirtualMode()&&(f=this._getNodeElementById(r.internalFields.key),this._createLoadIndicator(f)),u=r.internalFields.expanded,r.internalFields.disabled||c.isDefined(u)&&u===t)||(c.isDefined(t)||(t=!u),this._dataAdapter.toggleExpansion(r.internalFields.key,t),r.internalFields.expanded=t,this._updateExpandedItemsUI(r,t,i))},_createLoadIndicator:function(n){var t=n.find(">."+o),i=n.find(" > ."+f);!t.hasClass(v)&&i.is(":empty")&&(this._createComponent("<div>","dxLoadIndicator",{}).element().appendTo(n),t.hide())},_renderToggleItemVisibilityIcon:function(t,i){var r=n("<div>").addClass(o).appendTo(t);i.internalFields.expanded&&!this._isVirtualMode()&&(r.addClass(v),t.parent().addClass(e)),i.internalFields.disabled&&r.addClass(h),this._renderToggleItemVisibilityIconClick(r,i)},_renderToggleItemVisibilityIconClick:function(n,t){var r=s.addNamespace("dxclick",this.NAME),u=this;n.off(r).on(r,function(n){u._toggleExpandedState(t,i,n)})},_updateExpandedItemsUI:function(t,i,r){var u=this._getNodeElementById(t.internalFields.key),s=u.find(">."+o),e=u.find(" > ."+f);s.toggleClass(v,i),i?this._renderNestedItems(e).done(n.proxy(function(n){n&&(this._animateNodeContainer(e,i),this.setAria("expanded",i,u),this._fireExpandedStateUpdatedEvt(i,t,r))},this)):(this.setAria("expanded",i,u),this._animateNodeContainer(e,i),this._fireExpandedStateUpdatedEvt(i,t,r))},_animateNodeContainer:function(i,r){var u=i.height();t.fx.stop(i,!0),t.fx.animate(i,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{"max-height":r?0:u},to:{"max-height":r?u:0},start:function(){i.addClass(e)},complete:n.proxy(function(){i.css("max-height","none"),i.toggleClass(e,r),this._scrollableContainer.update()},this)})},_fireExpandedStateUpdatedEvt:function(n,t,i){var r=n?"onItemExpanded":"onItemCollapsed",u,f=this.option(r);f&&(c.isDefined(i)?this._itemJQueryEventHandler(i,r,{node:this._dataAdapter.getPublicNode(t)}):(u=this._getNodeElementById(t.internalFields.key),this._itemEventHandler(u,r,{jQueryEvent:i,node:this._dataAdapter.getPublicNode(t)})))},_renderNestedItems:function(t){var u;if(!t.is(":empty"))return n.Deferred().resolve(!0).promise();var f=t.parent().find(">."+r),e=this._getItemData(f),o=this._dataAdapter.getNodeByItem(e),i=n.Deferred();return this._isVirtualMode()?this._renderVirtualNodes(t).done(function(n){i.resolve(n&&n.length)}):(u=this._getChildNodes(o),this._renderItems(t,u),i.resolve(!0)),i.promise()},_renderVirtualNodes:function(t){var u=t.parent().find(">."+r),e=this._getItemData(u),f=this._dataAdapter.getNodeByItem(e),i=this;return this._dataSource.filter([this.option("parentIdExpr"),f.internalFields.key]),this._dataSource.load().done(function(r){var e=[],o,s;n.each(r,function(n,t){var r=i._dataAdapter.getNodeByItem(t);r&&e.push(r)}),i._renderItems(t,e,!1),e.length&&!f.internalFields.selected&&(o=e[0].internalFields.key,s=i._getNodeElementById(o),i._updateParentsState(i._dataAdapter.getNodeByKey(o),s)),i._normalizeIconState(u,e.length)})},_normalizeIconState:function(n,t){var i=n.siblings(".dx-loadindicator"),r=n.siblings("."+o);i.dxLoadIndicator("instance").option("visible",!1),t?r.show():(n.siblings("."+o).removeClass(o),n.parent().addClass(l))},_dataSourceChangedHandler:function(t){var i=n.inArray(t[0],this.option("items"))+1;this._initialized&&this._isVirtualMode()&&!i?(this.option().items=this.option("items").concat(t),this._initDataAdapter(),this._contentAlreadyRendered||this._renderContent()):this.option("items",t)},_renderContent:function(){this.option("items").length&&(this._contentAlreadyRendered=!0),this.callBase()},_renderSelectAllItem:function(t){t=t||this.element().find("."+f).first(),this._$selectAllItem=n("<div>").addClass(tt);var i=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,y,{value:i,text:this.option("selectAllText"),onValueChanged:n.proxy(this._toggleSelectAll,this)}),this._toggleSelectedClass(this._$selectAllItem,i),t.before(this._$selectAllItem)},_toggleSelectAll:function(n){this._dataAdapter.toggleSelectAll(n.value),this._updateCheckBoxes(),this._fireSelectionChanged()},_renderCheckBox:function(t,i){var r=i.internalFields.selected,u;t.addClass(g),this.setAria("selected",r,t),u=n("<div>").appendTo(t),this._createComponent(u,y,{value:r,onValueChanged:n.proxy(this._changeCheckboxValue,this),focusStateEnabled:!1,disabled:this._disabledGetter(i)}),r!==!1&&this._toggleSelectedClass(t,r),this._attachCheckboxClick(u,i)},_toggleSelectedClass:function(n,t){n.toggleClass(it,!!t)},_attachCheckboxClick:function(t,i){var r=s.addNamespace("dxclick",this.NAME),u=function(n){this._itemJQueryEventHandler(n,"onItemSelected",{node:this._dataAdapter.getPublicNode(i)})};t.off(r).on(r,n.proxy(u,this))},_changeCheckboxValue:function(n){var i=n.element.parent("."+u),e=this._getItemData(i.find("> ."+r)),f=this._dataAdapter.getNodeByItem(e),t=n.value;if(this._toggleSelectedClass(i,t),this.setAria("selected",t,i),f.internalFields.selected!==t){if(this._dataAdapter.toggleSelection(f.internalFields.key,t),n.jQueryEvent&&!this.option("selectNodesRecursive")&&this._fireSelectionChanged(),this._selectAllEnabled())this._$selectAllItem.dxCheckBox("instance").option("value",this._dataAdapter.isAllSelected());else if(!n.jQueryEvent||!this.option("selectNodesRecursive"))return;this._updateCheckBoxes(),this._fireSelectionChanged()}},_updateItemSelection:function(n,t,i,r){var u=t.nodeType?this._getItemData(t):t,f=c.isPrimitive(u)?this._dataAdapter.getNodeByKey(u):this._dataAdapter.getNodeByItem(u),e,o;f.internalFields.selected!==n&&(r||(e=this._getNodeElementById(f.internalFields.key),e.length&&(r=e)),r?this._getCheckBoxInstance(r).option("value",n):this._dataAdapter.toggleSelection(f.internalFields.key,n),this._updateCheckBoxes(),o=this.option("onItemSelected"),o&&o.call(this,{itemData:u,node:this._dataAdapter.getPublicNode(f)}),this._fireSelectionChanged())},_getCheckBoxInstance:function(n){return n.find("> .dx-checkbox").dxCheckBox("instance")},_updateCheckBoxes:function(){var t=this;n.each(this._dataAdapter.getData(),function(n,i){var u=t._getNodeElementById(i.internalFields.key),f,r;u.length&&(f=t._getCheckBoxInstance(u),r=i.internalFields.selected,f.option("value")!==r)&&(f.option("value",r),t._toggleSelectedClass(u,r))})},_updateParentsState:function(t,i){var f=this._dataAdapter.getNodeByKey(t.internalFields.parentKey),e=f.internalFields.selected,r;i&&this._showCheckboxes()&&(r=n(i.parents("."+u)[0]),this._getCheckBoxInstance(r).option("value",e),this._toggleSelectedClass(r,e)),f.parentId&&this._updateParentsState(f,r)},_itemEventHandlerImpl:function(t,i,f){var e=n(t).closest("."+u).find("> ."+r);return i(n.extend(this._extendActionArgs(e),f))},_itemContextMenuHandler:function(n){this._createEventHandler("onItemContextMenu",n)},_itemHoldHandler:function(n){this._createEventHandler("onItemHold",n)},_createEventHandler:function(n,t){var i=this._getItemData(t.currentTarget),r=this._dataAdapter.getNodeByItem(i);this._itemJQueryEventHandler(t,n,{node:this._dataAdapter.getPublicNode(r)})},_itemClass:function(){return r},_itemDataKey:function(){return nt},_selectionEnabled:function(){return!0},_attachClickEvent:function(){var t=this,i=t._itemSelector(),r=s.addNamespace("dxclick",t.NAME),u=s.addNamespace(a.down,this.NAME);t._itemContainer().off(r,i).on(r,i,function(i){t._itemClickHandler(i,n(this))}).off(u,i).on(u,i,n.proxy(this._itemPointerDownHandler,this))},_itemClickHandler:function(n,t){var i=this._getItemData(t),r=this._dataAdapter.getNodeByItem(i);this._itemJQueryEventHandler(n,"onItemClick",{node:this._dataAdapter.getPublicNode(r)})},_updateSelectionToFirstItem:function(t,i){for(var u=i,f;u>=0;)f=n(t[u]),this._updateItemSelection(!0,f.find("."+r).get(0),!0,f),u--},_updateSelectionToLastItem:function(t,i){for(var u=i,e=t.length,f;u<e;)f=n(t[u]),this._updateItemSelection(!0,f.find("."+r).get(0),!0,f),u++},_focusInHandler:function(t){var i=t.currentTarget,f=this._focusTarget(),r;n.inArray(i,f)!==-1&&this._toggleFocusClass(!0,i),this.option("focusedElement")?this._setFocusedItem(this.option("focusedElement")):(r=this._getActiveItem(),this.option("focusedElement",r.closest("."+u)))},_setFocusedItem:function(n){n&&n.length&&(n.children().hasClass(h)||this.callBase(n),this._scrollableContainer.scrollToElement(n.find("."+r).first()))},_itemPointerDownHandler:function(t){if(this.option("focusStateEnabled")){var i=n(t.target).closest("."+u);i.hasClass(u)&&(i.hasClass(h)?this.option("focusedElement",null):this.option("focusedElement",i))}},_findNonDisabledNodes:function(t){return t.not(function(){return n(this).find(">."+r).hasClass(h)})},_moveFocus:function(n,i){var c="up",l="down",a="first",v="last",y=this.option("rtlEnabled")?"right":"left",p=this.option("rtlEnabled")?"left":"right",u,e,o,s,h;if(this.element().find("."+f).each(function(){t.fx.stop(this,!0)}),u=this._findNonDisabledNodes(this._nodeElements()),u&&u.length)switch(n){case c:e=this._prevItem(u),this.option("focusedElement",e),i.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,e.find("."+r).get(0),!0,e);break;case l:o=this._nextItem(u),this.option("focusedElement",o),i.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,o.find("."+r).get(0),!0,o);break;case a:s=u.first(),i.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(u,u.index(this._prevItem(u))),this.option("focusedElement",s);break;case v:h=u.last(),i.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(u,u.index(this._nextItem(u))),this.option("focusedElement",h);break;case p:this._expandFocusedContainer();break;case y:this._collapseFocusedContainer();break;default:this.callBase.apply(this,arguments);return}},_nodeElements:function(){return this.element().find("."+u).not(":hidden")},_expandFocusedContainer:function(){var n=this.option("focusedElement"),t,i,u;if(n&&!n.hasClass(l)){if(t=n.find("."+f).eq(0),t.hasClass(e)){this.option("focusedElement",this._nextItem(this._findNonDisabledNodes(this._nodeElements())));return}i=this._getItemData(n.find(">."+r)),u=this._dataAdapter.getNodeByItem(i),this._toggleExpandedState(u,!0)}},_getClosestNonDisabledNode:function(n){do n=n.parent().closest("."+u);while(n.children(".dx-treeview-item.dx-state-disabled").length);return n},_collapseFocusedContainer:function(){var n=this.option("focusedElement"),i,u,o,t;n&&(i=n.find("."+f).eq(0),!n.hasClass(l)&&i.hasClass(e)?(u=this._getItemData(n.find(">."+r)),o=this._dataAdapter.getNodeByItem(u),this._toggleExpandedState(o,!1)):(t=this._getClosestNonDisabledNode(n),t.length&&this.option("focusedElement",t)))},updateDimensions:function(){var t=this,i=n.Deferred();return t._scrollableContainer?t._scrollableContainer.update().done(function(){i.resolveWith(t)}):i.resolveWith(t),i.promise()},selectItem:function(n){this._updateItemSelection(!0,n)},unselectItem:function(n){this._updateItemSelection(!1,n)},expandItem:function(n){this._toggleExpandedState(n,!0)},collapseItem:function(n){this._toggleExpandedState(n,!1)},getNodes:function(){return this._dataAdapter.getTreeNodes()},selectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})},unselectAll:function(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})}}))}(jQuery,DevExpress),function(n,t){function h(t,i,r){var f=n(t),u=f.offset();if(i>=u.left&&i<=u.left+f.outerWidth(!0)&&r>=u.top&&r<=u.top+f.outerHeight(!0))return!0}function c(t){var i=[];return n.each(t,function(){var t=this;n(t).is(":visible")&&i.push({pos:n(t).offset().top+n(t).outerHeight(!0)/2,item:n(t)})}),i}var u=t.ui,f=t.require("/ui/events/ui.events.utils"),i=f.addNamespace,e=t.require("/componentRegistrator"),o=t.require("/domComponent"),r="dxSortable",s="dx-sortable";e("dxSortable",u,o.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{onChanged:null,onDragging:null,itemRender:null,groupSelector:null,itemSelector:".dx-sort-item",itemContainerSelector:".dx-sortable",sourceClass:"dx-drag-source",dragClass:"dx-drag",targetClass:"dx-drag-target"})},_renderItem:function(n,t){var r=this.option("itemRender"),i;return r?i=r(n,t):(i=n.clone(),i.css({width:n.width(),height:n.height()})),i},_attachEventHandlers:function(){var f=this,b=f.option("itemSelector"),nt=f.option("itemContainerSelector"),y=f.option("groupSelector"),l=f.option("sourceClass"),tt=f.option("dragClass"),a=f.option("targetClass"),k=f.option("onDragging"),t,w,e,u,v,p,d,o=f.element(),g,s;o.off(i("dxdragstart dxdrag dxdragend dxdragenter dxdragleave dxdrop",r)).on(i("dxdragstart",r),b,function(i){t=n(i.currentTarget),v=t.offset(),v.top-=o.offset().top,v.left-=o.offset().left,w=t.index(),g=y?o.find(y):o,d=t.closest(y).attr("group"),p=f._renderItem(t,"drag").appendTo(o),e=f._renderItem(t,"target"),p.addClass(tt),t.addClass(l),e.addClass(a)}).on(i("dxdrag",r),function(i){var o,r,tt,y,f=[];if(t)if(p.css({top:v.top+i.offset.y,left:v.left+i.offset.x}),u&&u.removeClass(a),u=undefined,n.each(g,function(){if(h(this,i.pageX,i.pageY))return u=n(this),!1}),u&&(o={sourceGroup:d,sourceIndex:w,sourceElement:t,targetGroup:u.attr("group"),targetIndex:e.index()},k&&k(o)),o&&o.cancel&&(u=undefined),u){for(u.addClass(a),tt=u.find(nt),y=tt.find(b),f=c(y),s=0;s<f.length;s++)if(i.pageY<f[s].pos){r=f[s]&&f[s].item;break}r?r.hasClass(l)||r.prev().hasClass(l)&&r.prev().is(":visible")?e.detach():e.insertBefore(r):y.last().is(":visible")&&y.last().hasClass(l)||e.appendTo(tt)}else e.detach()}).on(i("dxdragend",r),function(){var r=f.option("onChanged"),n,i;t&&(u&&(u.removeClass(a),i=t.closest(y).attr("group"),n={sourceGroup:i,sourceIndex:w,sourceElement:t,targetGroup:u.attr("group"),targetIndex:e.index(),removeSourceElement:!0},(i!==n.targetGroup||e.parent().length)&&(r&&r(n),n.removeSourceElement&&t.remove())),t.removeClass(l),p.remove(),t=null,e.removeClass(a),e=null)})},_init:function(){this.callBase(),this._attachEventHandlers()},_render:function(){this.callBase(),this.element().addClass(s)},_optionChanged:function(n){var t=this;switch(n.name){case"onDragging":case"onChanged":case"itemRender":case"groupSelector":case"itemSelector":case"itemContainerSelector":case"sourceClass":case"targetClass":case"dragClass":t._attachEventHandlers();break;default:t.callBase(n)}}}))}(jQuery,DevExpress),function(n,t){var r=t.ui,l=t.require("/utils/utils.string"),a=t.require("/utils/utils.browser"),v=t.require("/class"),u=t.require("/ui/ui.errors"),y=t.require("/utils/utils.console").logger,p=t.require("/utils/utils.formatHelper"),i=t.require("/utils/utils.common"),w=t.require("/componentRegistrator"),b=t.require("/ui/ui.widget"),k=".dx-row",d="Specifying grid templates with the name of a jQuery selector is now deprecated. Instead, use the jQuery object that references this selector.",g={year:function(n){return n&&n.getFullYear()},month:function(n){return n&&n.getMonth()+1},day:function(n){return n&&n.getDate()},quarter:function(n){return n&&Math.floor(n.getMonth()/3)+1},dayOfWeek:function(n){return n&&n.getDay()},hour:function(n){return n&&n.getHours()},minute:function(n){return n&&n.getMinutes()},second:function(n){return n&&n.getSeconds()}},nt=["year","month","day"],o=v.inherit({_endUpdateCore:function(){},ctor:function(t){var i=this;i._updateLockCount=0,i.component=t,i._actions={},i._actionConfigs={},n.each(this.callbackNames()||[],function(t,r){var u=i.callbackFlags(r);i[this]=n.Callbacks(u)})},init:function(){},callbackNames:function(){},callbackFlags:function(){},publicMethods:function(){},beginUpdate:function(){this._updateLockCount++},endUpdate:function(){this._updateLockCount--,this._updateLockCount||this._endUpdateCore()},option:function(n){var t=this.component,i=t._optionCache;return arguments.length===1&&i?(n in i||(i[n]=t.option(n)),i[n]):t.option.apply(t,arguments)},localize:function(n){var t=this.component._optionCache;return t?(n in t||(t[n]=Globalize.localize(n)),t[n]):Globalize.localize(n)},on:function(){return this.component.on.apply(this.component,arguments)},off:function(){return this.component.off.apply(this.component,arguments)},optionChanged:function(n){n.name in this._actions&&(this.createAction(n.name,this._actionConfigs[n.name]),n.handled=!0)},getAction:function(n){return this._actions[n]},setAria:function(n,t,i){var r=i.get(0),u=n!=="role"&&n!=="id"?"aria-":"";r.setAttribute?r.setAttribute(u+n,t):i.attr(u+n,t)},_createComponent:function(){return this.component._createComponent.apply(this.component,arguments)},getController:function(n){return this.component._controllers[n]},createAction:function(t,r){var u;if(i.isFunction(t))return u=this.component._createAction(n.proxy(t,this),r),function(n){u({jQueryEvent:n})};this._actions[t]=this.component._createActionByOption(t,r),this._actionConfigs[t]=r},executeAction:function(n,t){var i=this._actions[n];return i&&i(t)},dispose:function(){var t=this;n.each(t.callbackNames()||[],function(){t[this].empty()})}}),e=o,tt=e.inherit({getView:function(n){return this.component._views[n]},getViews:function(){return this.component._views}}),s=o.inherit({_isReady:function(){return this.component.isReady()},_endUpdateCore:function(){this.callBase(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))},_invalidate:function(n,t){this._requireRender=!0,this.component._requireResize=this.component._requireResize||n,this._requireReady=this._requireReady||t},_renderCore:function(){},_resizeCore:function(){},_afterRender:function(){},_parentElement:function(){return this._$parent},ctor:function(t){this.callBase(t),this.renderCompleted=n.Callbacks(),this.resizeCompleted=n.Callbacks()},element:function(){return this._$element},isVisible:function(){return!0},getTemplate:function(n){return this.component._getTemplate(n)},render:function(t,i){var r=this._$element,u=this.isVisible();this._requireReady=!1,r||(r=this._$element=n("<div />").appendTo(t),this._$parent=t),r.toggleClass("dx-hidden",!u),u&&(this.component._optionCache={},this._renderCore(i),this.component._optionCache=undefined,this._afterRender(t),this.renderCompleted.fire())},resize:function(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1},focus:function(){this.element().focus()}}),h=function(t,i){var h=i.modules,r=i.controllerTypes||{},f=i.viewTypes||{},c,o;i.controllerTypes||(n.each(h,function(){var i=this.controllers,t=this.name,o=this.views;i&&n.each(i,function(n,i){if(r[n])throw u.Error("E1001",t,n);else if(!(i&&i.subclassOf&&i.subclassOf(e))){i.subclassOf(e);throw u.Error("E1002",t,n);}r[n]=i}),o&&n.each(o,function(n,i){if(f[n])throw u.Error("E1003",t,n);else if(!(i&&i.subclassOf&&i.subclassOf(s)))throw u.Error("E1004",t,n);f[n]=i})}),n.each(h,function(){var t=this.extenders;t&&(t.controllers&&n.each(t.controllers,function(n,t){r[n]&&(r[n]=r[n].inherit(t))}),t.views&&n.each(t.views,function(n,t){f[n]&&(f[n]=f[n].inherit(t))}))}),i.controllerTypes=r,i.viewTypes=f),c=function(t,i,r){var f=r.publicMethods();f&&n.each(f,function(n,f){if(r[f])if(t[f])throw u.Error("E1005",f);else t[f]=function(){return r[f].apply(r,arguments)};else throw u.Error("E1006",i,f);})},o=function(i){var r={};return n.each(i,function(n,i){var u=new i(t);u.name=n,c(t,n,u),r[n]=u}),r},t._controllers=o(r),t._views=o(f)},f=function(t,i,r){r=r||[],t._controllers&&n.each(t._controllers,function(){this[i]&&this[i].apply(this,r)}),t._views&&n.each(t._views,function(){this[i]&&this[i].apply(this,r)})},c;w("dxDataGrid",r,b.inherit({_activeStateUnit:k,_setDefaultOptions:function(){var t=this;t.callBase(),n.each(r.dxDataGrid.modules,function(){n.isFunction(this.defaultOptions)&&t.option(this.defaultOptions())})},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{"editing.editMode":{since:"15.2",alias:"editing.mode"},"editing.editEnabled":{since:"15.2",alias:"editing.allowUpdating"},"editing.insertEnabled":{since:"15.2",alias:"editing.allowAdding"},"editing.removeEnabled":{since:"15.2",alias:"editing.allowDeleting"}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:function(){return a.webkit},options:{loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}}])},_init:function(){var n=this;n.callBase(),h(n,r.dxDataGrid),f(n,"init")},_clean:n.noop,_optionChanged:function(n){var t=this;f(t,"optionChanged",[n]),n.handled||t.callBase(n)},_dimensionChanged:function(){this.updateDimensions()},_visibilityChanged:function(n){n&&this.updateDimensions()},_renderContentImpl:function(){var n=this;n.getView("gridView").render(n.element())},_renderContent:function(){this._renderContentImpl()},_getTemplate:function(t){var r=t;return i.isString(r)&&r[0]==="#"&&(r=n(t),y.warn(d)),this.callBase(r)},_dispose:function(){var n=this;n.callBase(),f(n,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){var n=this;n.callBase(),f(n,"beginUpdate")},endUpdate:function(){var n=this;f(n,"endUpdate"),n.callBase()},getController:function(n){return this._controllers[n]},getView:function(n){return this._views[n]},focus:function(n){this.callBase(),i.isDefined(n)&&this.getController("keyboardNavigation").focus(n)}})),c=3,n.extend(r.dxDataGrid,function(){var f=function(){var n,u=arguments[1],r,t=this.calculateCellValue(u);if(i.isDefined(t)){if(this.dataType==="date")return r=arguments[0],g[r](t);if(this.dataType==="number")return n=arguments[0],Math.floor(Number(t)/n)*n}else return null},o=function(t){return i.isDate(t)?[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()]:n.map((""+t).split("/"),function(n,t){return t===1?Number(n)-1:Number(n)})},a=function(n,t,i){var c=this,h=u(c,i),e,s,f=o(n),l=r.dxDataGrid.getGroupInterval(c)[f.length-1];switch(l){case"year":e=new Date(f[0],0,1),s=new Date(f[0]+1,0,1);break;case"month":e=new Date(f[0],f[1],1),s=new Date(f[0],f[1]+1,1);break;case"quarter":e=new Date(f[0],3*f[1],1),s=new Date(f[0],3*f[1]+3,1);break;case"hour":e=new Date(f[0],f[1],f[2],f[3]),s=new Date(f[0],f[1],f[2],f[3]+1);break;case"minute":e=new Date(f[0],f[1],f[2],f[3],f[4]),s=new Date(f[0],f[1],f[2],f[3],f[4]+1);break;case"second":e=new Date(f[0],f[1],f[2],f[3],f[4],f[5]),s=new Date(f[0],f[1],f[2],f[3],f[4],f[5]+1);break;default:e=new Date(f[0],f[1],f[2]),s=new Date(f[0],f[1],f[2]+1)}switch(t){case"<":return[h,"<",e];case"<=":return[h,"<",s];case">":return[h,">=",s];case">=":return[h,">=",e];case"<>":return[[h,"<",e],"or",[h,">=",s]];default:return[[h,">=",e],"and",[h,"<",s]]}},v=function(n,t,f){var e=this,c,l,a,o=u(e,f),s=(""+n).split("/"),v=Number(s[s.length-1]),h=e.filterType==="exclude",y=r.dxDataGrid.getGroupInterval(e);return f==="headerFilter"&&y&&i.isDefined(n)?(c=y[s.length-1],l=[o,h?"<":">=",v],a=[o,h?">=":"<",v+c],[l,h?"or":"and",a]):[o,t||"=",n]},u=function(n,t){var i=n.dataField||n.selector;return t==="search"&&(i=n.displayField||n.calculateDisplayValue||i),i},y=function(n){var f=this,u=f.dataField;if(i.isArray(n)&&i.isDefined(n[0])&&i.isDefined(n[1]))return[[u,">=",n[0]],"and",[u,"<=",n[1]]]};return{__internals:{},modules:[],View:s,ViewController:tt,Controller:e,registerModule:function(n,t){for(var r=this.modules,i=0;i<r.length;i++)if(r[i].name===n)return;t.name=n,r.push(t),delete this.controllerTypes,delete this.viewTypes},unregisterModule:function(t){this.modules=n.grep(this.modules,function(n){return n.name!==t}),delete this.controllerTypes,delete this.viewTypes},processModules:h,formatValue:function(n,t){var i=p.format(n,t.format,t.precision)||n&&n.toString()||"",r={value:n,valueText:t.getDisplayFormat?t.getDisplayFormat(i):i,target:t.target||"row",groupInterval:t.groupInterval};return t.customizeText?t.customizeText.call(t,r):r.valueText},getDisplayValue:function(n,t,i){return n.displayValueMap&&n.displayValueMap[t]!==undefined?n.displayValueMap[t]:n.calculateDisplayValue&&i?n.calculateDisplayValue(i):n.lookup?n.lookup.calculateCellValue(t):t},getGroupRowSummaryText:function(n,t){for(var u="(",f,i=0;i<n.length;i++)f=n[i],u+=(i>0?", ":"")+r.dxDataGrid.getSummaryText(f,t);return u+=")"},getSummaryText:function(n,t){var i=n.displayFormat||n.columnCaption&&t[n.summaryType+"OtherColumn"]||t[n.summaryType];return this.formatValue(n.value,{format:n.valueFormat,precision:n.precision,getDisplayFormat:function(t){return i?l.format(i,t,n.columnCaption):t},customizeText:n.customizeText})},equalKeys:function(n,t,u){var f,e;if(u=u||0,u<c){if(i.isObject(n)&&i.isObject(t)){for(f in n)if(n.hasOwnProperty(f)&&!r.dxDataGrid.equalKeys(n[f],t[f],u+1))return!1;for(f in t)if(!(f in n))return!1;return!0}if(i.isArray(n)&&i.isArray(t)){if(n.length!==t.length)return!1;for(e=0;e<n.length;e++)if(!r.dxDataGrid.equalKeys(n[e],t[e],u+1))return!1;return!0}return i.isDate(n)&&i.isDate(t)?n.getTime()===t.getTime():n===t}return!0},getIndexByKey:function(n,t,u){var e=-1,o,f;if(i.isArray(t))for(u=arguments.length<=2&&"key"||u,f=0;f<t.length;f++)if(o=i.isDefined(u)?t[f][u]:t[f],r.dxDataGrid.equalKeys(n,o)){e=f;break}return e},normalizeSortingInfo:function(n){n=n||[];for(var r=t.data.utils.normalizeSortingInfo(n),i=0;i<n.length;i++)n&&n[i]&&n[i].isExpanded!==undefined&&(r[i].isExpanded=n[i].isExpanded);return r},getFormatByDataType:function(n){switch(n){case"date":return"shortDate"}},defaultCalculateFilterExpression:function(n,t,r){var f=this,s=u(f,r),h=f.calculateDisplayValue&&r==="search",e=h&&f.lookup&&f.lookup.dataType||f.dataType,o=null;if(r==="headerFilter"&&n===null)o=[s,t||"=",null];else if(e==="string"&&(!f.lookup||h))o=[s,t||"contains",n];else{if(f.selectedFilterOperation==="between")return y.apply(f,arguments);if(e==="date"&&i.isDefined(n))return a.apply(f,arguments);if(e==="number")return v.apply(f,arguments);e!=="object"&&(o=[s,t||"=",n])}return o},getGroupDataSourceParameters:function(t){var i=[],r=this.getGroupInterval(t);if(r){if(t.dataType==="date")return n.each(r,function(r,u){i.push(n.proxy(f,t,u))}),i;if(t.dataType==="number")return n.each(r,function(r,u){i.push(n.proxy(f,t,u))}),i}return function(n){var i=t.calculateCellValue(n);return i===undefined&&(i=null),i}},getGroupInterval:function(t){var f,u=[],e=["year","month","day","hour","minute","second"],r=t.headerFilter&&t.headerFilter.groupInterval,o=r==="quarter"?"month":r;return t.dataType==="date"?(u=nt,f=n.inArray(o,e),f>=0)?(u=e.slice(0,f),u.push(r),u):u:i.isDefined(r)?i.isArray(r)?r:[r]:void 0}}}())}(jQuery,DevExpress),function(n,t){var r=t.ui,i=r.dxDataGrid,f=t.require("/utils/utils.console").logger,e=t.require("/utils/utils.storage"),o=t.require("/utils/utils.common"),s=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,u=function(t){t&&n.each(t,function(i,r){var f;n.isPlainObject(r)||n.isArray(r)?u(r):typeof r=="string"&&(f=s.exec(r),f&&(t[i]=new Date(Date.UTC(+f[1],+f[2]-1,+f[3],+f[4],+f[5],+f[6]))))})},h=function(t){var u=t.getController("columns"),e=t.getController("selection"),f=t.getController("export"),r=t.getController("data"),o=t.getView("pagerView");u&&u.columnsChanged.add(function(){var r=u.getUserState();i.equalKeys(t._state.columns,r)||(n.extend(t._state,{columns:r}),t.isEnabled()&&t.save())}),e&&e.selectionChanged.add(function(i){n.extend(t._state,{selectedRowKeys:i}),t.isEnabled()&&t.save()}),r&&(t._initialPageSize=t.option("paging.pageSize"),r.changed.add(function(){n.extend(t._state,{searchText:t.option("searchPanel.text"),pageIndex:r.pageIndex(),pageSize:r.pageSize(),allowedPageSizes:o?o.getPageSizes():undefined}),t.isEnabled()&&t.save()})),f&&f.selectionOnlyChanged.add(function(){n.extend(t._state,{exportSelectionOnly:f.selectionOnly()}),t.isEnabled()&&t.save()})},c=function(n,t){var i=t.allowedPageSizes,e=t.searchText,o=t.selectedRowKeys,r=n.getController("export"),u=n.getController("columns"),f=n.option("scrolling.mode");n.component.beginUpdate(),u&&u.setUserState(t.columns),r&&r.selectionOnly(t.exportSelectionOnly),n.option("selectedRowKeys",o||[]),i&&n.option("pager.allowedPageSizes")==="auto"&&(n.option("pager").allowedPageSizes=i),n.option("searchPanel.text",e||""),n.option("paging.pageSize",f!=="virtual"&&f!=="infinite"&&t.pageSize?t.pageSize:n._initialPageSize),n.option("paging.pageIndex",t.pageIndex||0),n.component.endUpdate()};i.StateStoringController=i.ViewController.inherit(function(){var t=function(n){var t=n.type==="sessionStorage"?e.sessionStorage():localStorage;if(!t)throw new Error("E1007");return t},i=function(n){return o.isDefined(n.storageKey)?n.storageKey:"storage"};return{_loadState:function(){var n=this.option("stateStoring");if(n.type==="custom")return n.customLoad&&n.customLoad();try{return JSON.parse(t(n).getItem(i(n)))}catch(r){f.error(r.message)}},_saveState:function(n){var r=this.option("stateStoring");if(r.type==="custom"){r.customSave&&r.customSave(n);return}try{t(r).setItem(i(r),JSON.stringify(n))}catch(u){}},publicMethods:function(){return["state"]},isEnabled:function(){return this.option("stateStoring.enabled")},init:function(){var t=this;return t._state={},t._isLoaded=!1,t._isLoading=!1,t._windowUnloadHandler=function(){t._savingTimeoutID!==undefined&&t._saveState(t.state())},n(window).on("unload",t._windowUnloadHandler),t},isLoaded:function(){return this._isLoaded},isLoading:function(){return this._isLoading},load:function(){var i=this,t;return i._isLoading=!0,t=i._loadState(),t&&n.isFunction(t.done)||(t=n.Deferred().resolve(t)),t.done(function(n){i._isLoaded=!0,i._isLoading=!1,i.state(n)}),t},state:function(t){var i=this;if(arguments.length)i._state=n.extend({},t),u(i._state);else return n.extend(!0,{},i._state)},save:function(){var n=this;clearTimeout(n._savingTimeoutID),n._savingTimeoutID=setTimeout(function(){n._saveState(n.state()),n._savingTimeoutID=undefined},n.option("stateStoring.savingTimeout"))},optionChanged:function(n){var t=this;switch(n.name){case"stateStoring":t.isEnabled()&&t.isLoaded()&&t.load(),n.handled=!0;break;default:t.callBase(n)}},dispose:function(){clearTimeout(this._savingTimeoutID),n(window).off("unload",this._windowUnloadHandler)}}}()),i.registerModule("stateStoring",{defaultOptions:function(){return{stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}},controllers:{stateStoring:r.dxDataGrid.StateStoringController},extenders:{controllers:{stateStoring:{init:function(){this.callBase.apply(this,arguments),h(this)},state:function(t){var i=this.callBase.apply(this,arguments);return t!==undefined&&c(this,n.extend({},t)),i}},columns:{getVisibleColumns:function(){var t=this.callBase(),n=this.getController("stateStoring");return n.isEnabled()&&!n.isLoaded()?[]:t}},data:{_refreshDataSource:function(){var n=this,i=n.callBase,t=n.getController("stateStoring");t.isEnabled()&&!t.isLoaded()?(clearTimeout(n._restoreStateTimeoutID),n._restoreStateTimeoutID=setTimeout(function(){t.load().always(function(){n._restoreStateTimeoutID=null,i.call(n)})})):n._restoreStateTimeoutID||i.call(n)},isLoading:function(){var n=this,t=n.getController("stateStoring");return this.callBase()||t.isLoading()},dispose:function(){clearTimeout(this._restoreStateTimeoutID),this.callBase()}}}}})}(jQuery,DevExpress),function(n,t,i){var c=t.ui,p=t.require("/ui/ui.errors"),f=c.dxDataGrid,o=f.normalizeSortingInfo,s=t.require("/utils/utils.array").normalizeIndexes,l=t.require("/utils/utils.object"),w=t.require("/utils/utils.inflector"),a=t.require("/utils/utils.date"),r=t.require("/utils/utils.common"),b=t.require("/utils/utils.knockout"),e=t.data.utils,u=r.isDefined,v=["filterValues","filterType","fixed","fixedPosition"],y=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","sortIndex","groupIndex","filterValue","selectedFilterOperation"].concat(v),k="dx-command-expand",h;f.checkChanges=function(n,t){for(var r=0,i=0;i<t.length;i++)n[t[i]]&&r++;return n.length&&n.length===r},h=f.Controller.inherit(function(){var kt={visible:!0,showInColumnChooser:!0},dt={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"]},ht={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},c="group",d="columnChooser",ft=function(t,i,u){var f,e;if(i)return r.isString(i)&&(i={dataField:i}),i.command?n.extend(!0,{},i):(f=t.getCommonSettings(),u&&u.name&&u.dataField&&(i=n.extend({},i,{dataField:u.dataField})),e=t._createCalculatedColumnOptions(i),n.extend(!0,{},kt,f,e,i,{selector:null}))},it=function(t,i){var r=[];return i&&n.each(i,function(n,i){var f=t._columnsUserState&&wt(i,t._columnsUserState[n])&&t._columnsUserState[n],u=ft(t,i,f);u&&r.push(u)}),r},ct=function(t){var r=n.type(t);return r!=="string"&&r!=="boolean"&&r!=="number"&&r!=="date"&&r!=="object"&&(r=i),r},lt=function(n,t){switch(n){case"date":if(r.isNumber(t))return"number";if(r.isString(t))return"yyyy/MM/dd";break;case"number":if(r.isString(t))return"string"}},at=function(n,t){n.deserializeValue||(t==="date"&&(n.deserializeValue=function(n){return a.deserializeDate(n,this.serializationFormat)},n.serializeValue=function(n){return a.serializeDate(n,this.serializationFormat)}),t==="number"&&(n.deserializeValue=function(n){return r.isDefined(n)?Number(n):n},n.serializeValue=function(n){return r.isDefined(n)&&this.serializationFormat==="string"?n.toString():n}))},gt=function(n,t){switch(n){case"number":return"right";case"boolean":return"center";default:return r.getDefaultAlignment(t)}},ni=function(n){if(n==="boolean")return function(n){return n.value===!0?this.trueText||"true":n.value===!1?this.falseText||"false":n.valueText||""}},ti=function(n,t){for(var u=vt(t),i,f={},e=[],o,r=0;r<u.length;r++)if(u[r])for(i in u[r])f[i]=!0;for(i in f)i.indexOf("__")!==0&&(o=ft(n,i),e.push(o));return e},rt=f.equalSortParameters=function(t,i){var r;if(t=n.isPlainObject(t)?[t]:t,i=n.isPlainObject(i)?[i]:i,n.isArray(t)&&n.isArray(i)){if(t.length!==i.length)return!1;for(r=0;r<t.length;r++)if(t[r].selector!==i[r].selector||t[r].desc!==i[r].desc||Boolean(t[r].isExpanded)!==Boolean(i[r].isExpanded))return!1;return!0}return(!t||!t.length)==(!i||!i.length)},ii=f.equalFilterParameters=function(t,i){var r;if(n.isArray(t)&&n.isArray(i)){if(t.length!==i.length)return!1;for(r=0;r<t.length;r++)if(!ii(t[r],i[r]))return!1;return!0}return n.isFunction(t)&&t.columnIndex>=0&&n.isFunction(i)&&i.columnIndex>=0?t.columnIndex===i.columnIndex:e.toComparable(t)===e.toComparable(i)},vt=function(n){var t,i=[],r=function(n,t){var i,u;if(!n||!t)return n;for(i=0;i<n.length;i++)if(u=r(n[i].items||n[i].collapsedItems,t-1),u&&u.length)return u};return n&&n.items().length>0&&(t=o(n.group()).length,i=r(n.items(),t)||[]),i},ri=function(t){n.each(t._columns,function(n,t){t.index=n}),n.each(t._commandColumns,function(n,t){t.index=-(n+1)})},et=function(n,t){s(n._columns,"groupIndex",t,function(n){var t=n.grouped;return delete n.grouped,t})},yt=function(t,i){n.each(t._columns,function(n,t){u(t.sortIndex)&&!ut(t.sortOrder)&&delete t.sortIndex}),s(t._columns,"sortIndex",i,function(n){return!u(n.groupIndex)&&ut(n.sortOrder)})},pt=function(n,t){s(n._columns,"visibleIndex",t)},ot=function(n,t,i){var f=i===c?n.getGroupColumns():i===d?n.getChooserColumns():n.getVisibleColumns(),r=f[t];return r&&u(r.index)?r.index:-1},ui=function(n,t,i){var u=n.getGroupColumns(),r;if(i>=0)for(r=0;r<u.length;r++)u[r].groupIndex>=i&&u[r].groupIndex++;else for(i=0,r=0;r<u.length;r++)i=Math.max(i,u[r].groupIndex+1);t.groupIndex=i},wt=function(n,t){return n&&t&&t.name===n.name&&(t.dataField===n.dataField||n.name)},bt=function(t){function h(t,u){n.inArray(u,s)>=0||(u==="dataType"?f[u]=f[u]||r[i][u]:n.inArray(u,v)>=0?u in r[i]&&(f[u]=r[i][u]):f[u]=r[i][u])}var r=t._columnsUserState,s=t._ignoreColumnOptionNames||[],e=t._columns,o=[],f,i;if(r){if(e.length!==r.length)return;for(i=0;i<r.length;i++)if(f=u(r[i].initialIndex)?e[r[i].initialIndex]:e[i],f&&wt(f,r[i]))f=n.extend({},f),n.each(y,h),o.push(f);else return;g(t,o)}},tt=function(n,t){ri(n),et(n,t),yt(n,t),pt(n,t)},g=function(n,t){n._columns=t,n._visibleColumns=i,n.updateColumnDataTypes()},h=function(n,t,r,u){var f=n._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:u},e,o;r=r||"all",e=f.changeTypes,t&&!e[t]&&(e[t]=!0,e.length++),o=f.optionNames,r&&!o[r]&&(o[r]=!0,o.length++),(u===i||u!==f.columnIndex)&&delete f.columnIndex,n._columnChanges=f,n._visibleColumns=i},nt=function(t){var u=t.option("onColumnsChanging"),r=t._columnChanges;t.isInitialized()&&!t._updateLockCount&&r&&(u&&(t._updateLockCount++,u(n.extend({component:t.component},r)),t._updateLockCount--),t._columnChanges=i,r.optionNames&&r.optionNames.dataField&&t.reinit(),t.columnsChanged.firing=!0,t.columnsChanged.fire(r),t.columnsChanged.firing=!1)},st=function(n,t,i,r,u){var o=e.compileGetter(i),f;if(arguments.length===3)return o(t,{functionsAsIs:!0});o(t,{functionsAsIs:!0})!==r&&(f=i==="groupIndex"?"grouping":i==="sortIndex"||i==="sortOrder"?"sorting":"columns",e.compileSetter(i)(t,r,{functionsAsIs:!0}),u||h(n,f,i,t.index))},ut=function(n){return n==="asc"||n==="desc"},fi=function(n){n.addCommandColumn({command:"expand",width:"auto",cssClass:k,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1})},ei=function(n,t){var r=this.dataField.split("."),f=r.length-1,u,i;for(this.serializeValue&&(t=this.serializeValue(t)),i=0;i<f;i++)u=r[i],n=n[u]=n[u]||{};n[r[f]]=t};return{_endUpdateCore:function(){nt(this)},init:function(){var n=this,t=n.option("columns");n._commandColumns=n._commandColumns||[],n._columns=n._columns||[],fi(n),n._isColumnsFromOptions=!!t,n._isColumnsFromOptions?(g(n,t?it(n,t):[]),bt(n)):g(n,n._columnsUserState?it(n,n._columnsUserState):n._columns),n._dataSourceApplied?n.applyDataSource(n._dataSource,!0):tt(n)},callbackNames:function(){return["columnsChanged"]},optionChanged:function(n){switch(n.name){case"columns":n.handled=!0,this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init();break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"editing":n.handled=!0,this.reinit();break;case"rtlEnabled":this.reinit();break;default:this.callBase(n)}},publicMethods:function(){return["addColumn","columnOption","columnCount","clearSorting","clearGrouping"]},applyDataSource:function(n,t){var i=this,r=n&&n.isLoaded();return i._dataSource=n,(!i._dataSourceApplied||i._dataSourceColumnsCount===0||t||i.option("regenerateColumnsByVisibleItems"))&&r?(i._isColumnsFromOptions||(g(i,ti(i,n)),i._dataSourceColumnsCount=i._columns.length,bt(i)),i.updateColumns(n,t)):void 0},reset:function(){this._dataSourceApplied=!1,this._dataSourceColumnsCount=i,this.reinit()},reinit:function(){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=null,this.init()},isInitialized:function(){return!!this._columns.length},isDataSourceApplied:function(){return this._dataSourceApplied},getCommonSettings:function(){var r=this.option("commonColumnSettings")||{},t=this.option("grouping")||{},i=this.option("groupPanel")||{};return n.extend({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing"),allowReordering:this.option("allowColumnReordering"),autoExpandGroup:t.autoExpandAll,allowCollapsing:t.allowCollapsing,allowGrouping:i.allowColumnDragging&&i.visible},r)},isColumnOptionUsed:function(n){for(var t=0;t<this._columns.length;t++)if(this._columns[t][n])return!0},isAllDataTypesDefined:function(){var t=this._columns,n;if(!t.length)return!1;for(n=0;n<t.length;n++)if(!t[n].dataType)return!1;return!0},getColumns:function(){return this._columns},getGroupColumns:function(){var t=[];return n.each(this._columns,function(){var n=this;u(n.groupIndex)&&(t[n.groupIndex]=n)}),t},getVisibleColumns:function(){return this._visibleColumns=this._visibleColumns||this._getVisibleColumnsCore()},getFixedColumns:function(){var e=this,r=[],o=e._isColumnFixing(),t=0,f,i;return o&&(i=e.getVisibleColumns(),n.each(i,function(n,i){i.command||i.fixed||(t++,u(f)||(f=n))}),t<i.length&&(r=i.slice(0),t>0&&r.splice(f,t,{command:"transparent",colspan:t}))),r},_isColumnFixing:function(){var t=this.option("columnFixing.enabled");return t||n.each(this._columns,function(n,i){if(i.fixed)return t=!0,!1}),t},_getExpandColumnsCore:function(){return this.getGroupColumns()},getExpandColumns:function(){var t=this._getExpandColumnsCore(),i;return t.length&&(i=this.columnOption("command:expand")),t=n.map(t,function(t){return n.extend({},t,{visibleWidth:"auto"},i,{index:t.index})})},_getVisibleColumnsCore:function(){var t=this.getExpandColumns(),i=[{},{},{}],f={},e=0,r,o=this.option("rtlEnabled"),s=this._columns.length?this._commandColumns.concat(this._columns):[];return n.each(s,function(){var t=this,h=t.visibleIndex,s;t.visible&&(!u(t.groupIndex)||t.showWhenGrouped)&&(t=n.extend(!0,{},t),h<0?(h=-h,s=f):t.fixed||t.command?(r=t.fixedPosition==="right",o&&(r=!r),s=r||t.command?i[2]:i[0]):s=i[1],s[h]=s[h]||[],s[h].push(t),e++)}),l.orderEach(f,function(n,i){t.unshift.apply(t,i)}),n.each(i,function(n,i){l.orderEach(i,function(n,i){t.push.apply(t,i)})}),!e&&this._columns.length&&t.push({command:"empty"}),t},getHiddenColumns:function(){var t=[];return n.each(this._columns,function(n,i){i.visible||t.push(i)}),t},getChooserColumns:function(){return n.grep(this.getHiddenColumns(),function(n){return n.showInColumnChooser})},allowMoveColumn:function(n,t,i,r){var f=this,e=ot(f,n,i),u=f._columns[e];return u&&(u.allowReordering||u.allowGrouping||u.allowHiding)?i===r?i===d?!1:n!==t&&n+1!==t:i===c&&r!==d||r===c?u&&u.allowGrouping:i===d||r===d?u&&u.allowHiding:!0:!1},moveColumn:function(n,t,r,f){var o=this,a,s,l,y=r===c||f===c,e,v;a=ot(o,n,r),s=ot(o,t,f),a>=0&&(e=o._columns[a],l=s>=0?o._columns[s].groupIndex:-1,u(e.groupIndex)&&r===c&&(l>e.groupIndex&&l--,delete e.groupIndex,delete e.sortOrder,et(o)),f===c?(ui(o,e,l),et(o)):t>=0&&(s<0?e.visibleIndex=i:(v=o._columns[s],e.visibleIndex=e.fixed^v.fixed?i:v.visibleIndex),pt(o,e)),e.visible=f!==d,h(o,y?"grouping":"columns"),nt(o))},changeSortOrder:function(t,i){var f=this,s=f.option("sorting"),o=s&&s.mode,c=o==="single"||!i,l=o==="single"||o==="multiple",r=f._columns[t],a=function(n){if(i==="ctrl"){if(!("sortOrder"in n&&"sortIndex"in n))return!1;delete n.sortOrder,delete n.sortIndex}else n.sortOrder=u(n.groupIndex)||u(n.sortIndex)?n.sortOrder==="desc"?"asc":"desc":"asc";return!0},e=!1;l&&r&&r.allowSorting&&(c&&!u(r.groupIndex)&&n.each(f._columns,function(n){n!==t&&this.sortOrder&&!u(this.groupIndex)&&(delete this.sortOrder,delete this.sortIndex,e=!0)}),ut(i)?r.sortOrder!==i&&(r.sortOrder=i,e=!0):i==="none"?r.sortOrder&&(delete r.sortIndex,delete r.sortOrder,e=!0):e=a(r)),e&&(yt(f),h(f,"sorting"),nt(f))},getSortDataSourceParameters:function(t){var f=this,r=[],i=[];return n.each(f._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&u(this.sortIndex)&&!u(this.groupIndex)&&(r[this.sortIndex]=this)}),n.each(r,function(){var n=this&&this.sortOrder;ut(n)&&i.push({selector:this.calculateSortValue||t&&this.selector||this.dataField||this.calculateCellValue,desc:this.sortOrder==="desc"})}),i.length>0?i:null},getGroupDataSourceParameters:function(t){var i=[];return n.each(this.getGroupColumns(),function(){var n=this.calculateGroupValue||t&&this.selector||this.dataField||this.calculateCellValue;n&&i.push({selector:n,desc:this.sortOrder==="desc",isExpanded:!!this.autoExpandGroup})}),i.length>0?i:null},refresh:function(t){var i=[];return n.each(this._columns,function(){var n=this.lookup;if(n&&!this.calculateDisplayValue){if(t&&n.valueMap)return;n.update&&i.push(n.update())}}),n.when.apply(n,i)},updateColumnDataTypes:function(t){var i=vt(t),o=this.option("rtlEnabled");n.each(this._columns,function(t,s){var l,v,c,y,a,h=s.lookup;if(s.calculateCellValue&&i.length){if(!s.dataType||h&&!h.dataType){for(l=0;l<i.length;l++)v=s.calculateCellValue(i[l]),a=s.dataType||ct(v),c=c||a,c&&a&&c!==a&&(c="string"),h&&(a=h.dataType||ct(f.getDisplayValue(s,v,i[l])),y=y||a,y&&a&&y!==a&&(y="string"));s.dataType=c,h&&(h.dataType=y)}if(!s.serializationFormat||h&&!h.serializationFormat)for(l=0;l<i.length;l++)v=s.calculateCellValue(i[l],!0),s.serializationFormat=s.serializationFormat||lt(s.dataType,v),h&&(h.serializationFormat=h.serializationFormat||lt(h.dataType,h.calculateCellValue(v,!0)))}s.selector=s.selector||function(n){return s.calculateCellValue(n)},n.each(["calculateSortValue","calculateGroupValue"],function(n,t){var i=s[t];r.isFunction(i)&&!i.isProxy&&(s[t]=function(n){return i.call(s,n)},s[t].isProxy=!0)}),r.isString(s.calculateDisplayValue)&&(s.displayField=s.calculateDisplayValue,s.calculateDisplayValue=e.compileGetter(s.displayField)),s.calculateDisplayValue&&(s.displayValueMap=s.displayValueMap||{}),at(s,s.dataType),h&&at(h,h.dataType),c=h?h.dataType:s.dataType,c&&(s.alignment=s.alignment||gt(c,o),s.format=s.format||f.getFormatByDataType(c),s.customizeText=s.customizeText||ni(c),u(s.filterOperations)||(s.filterOperations=!h&&dt[c]||[]),s.defaultFilterOperation=s.filterOperations&&s.filterOperations[0]||"=",s.defaultSelectedFilterOperation=s.selectedFilterOperation,s.showEditorAlways=u(s.showEditorAlways)?s.showEditorAlways:c==="boolean"&&!s.cellTemplate)})},_customizeColumns:function(n){var t=this,i=t.option("customizeColumns");i&&(i(n),g(t,it(t,n)))},updateColumns:function(t,i){var r=this,u,f;return i||r.updateSortingGrouping(t),!t||t.isLoaded()?(u=t?t.sort()||[]:r.getSortDataSourceParameters(),f=t?t.group()||[]:r.getGroupDataSourceParameters(),r._customizeColumns(r._columns),tt(r),n.when(r.refresh(!0)).always(function(){t&&(r.updateColumnDataTypes(t),r._dataSourceApplied=!0),rt(u,r.getSortDataSourceParameters())||h(r,"sorting"),rt(f,r.getGroupDataSourceParameters())||h(r,"grouping"),h(r,"columns"),nt(r)})):void 0},updateSortingGrouping:function(t,r){var u=this,f,e,s,c,l,a=function(t,r,u){var f,e,o;n.each(t,function(n,t){if(delete t[u],r)for(f=0;f<r.length;f++)if(e=r[f].selector,o=r[f].isExpanded,e===t.dataField||e===t.name||e===t.selector||e===t.calculateCellValue||e===t.calculateGroupValue){t.sortOrder=t.sortOrder||(r[f].desc?"desc":"asc"),o!==i&&(t.autoExpandGroup=o),t[u]=f;break}})};t&&(f=o(t.sort()),e=o(t.group()),s=u.getGroupDataSourceParameters(),c=u.getSortDataSourceParameters(),u._columns.length||(n.each(e,function(n,t){u._columns.push(t.selector)}),n.each(f,function(n,t){u._columns.push(t.selector)}),g(u,it(u,u._columns))),!r&&(s||u._hasUserState)||rt(e,s)||(a(u._columns,e,"groupIndex"),r&&(h(u,"grouping"),l=!0)),!r&&(c||u._hasUserState)||rt(f,c)||(a(u._columns,f,"sortIndex"),r&&(h(u,"sorting"),l=!0)),l&&nt(u))},updateFilter:function(n,t,i){var e=this,u,f;if(r.isArray(n))for(i=n.columnIndex||i,t&&r.isString(n[0])?(u=e.columnOption(n[0]),u&&u.selector&&(n[0]=u.selector,n[0].columnIndex=u.index)):r.isFunction(n[0])&&(n[0].columnIndex=i),f=0;f<n.length;f++)e.updateFilter(n[f],t,i)},columnCount:function(){return this._columns.length},columnOption:function(t,u,f,e){var c=this,o,l=r.isString(t)&&t.substr(0,t.indexOf(":")),s=t<0||l==="command"?c._commandColumns:c._columns,a,h;if(t!==i){for(l&&(t=t.substr(l.length+1)),o=0;o<s.length;o++)if(l){if(""+s[o][l]===t){h=s[o];break}}else if(s[o].index===t||s[o].name===t||s[o].dataField===t||s[o].caption===t){h=s[o];break}if(h){if(arguments.length===1)return n.extend({},h);if(r.isString(u)){if(arguments.length===2)return st(c,h,u);a=a||ht[u],st(c,h,u,f,e)}else r.isObject(u)&&n.each(u,function(n,t){a=a||ht[n],st(c,h,n,t,e)});a&&tt(c,h),nt(c)}}},clearSorting:function(){var t=this,r=this.columnCount(),n;for(t.beginUpdate(),n=0;n<r;n++)t.columnOption(n,"sortOrder",i);t.endUpdate()},clearGrouping:function(){var t=this,r=this.columnCount(),n;for(t.beginUpdate(),n=0;n<r;n++)t.columnOption(n,"groupIndex",i);t.endUpdate()},getVisibleIndex:function(n){for(var i=this.getVisibleColumns(),t=0;t<i.length;t++)if(i[t].index===n)return t;return-1},addColumn:function(n){var t=this,i=ft(t,n);t._columns.push(i),tt(t,i),t.updateColumns(t._dataSource)},deleteColumn:function(n){var t=this,i=t.columnOption(n,"index");i>=0&&(t._columns.splice(i,1),tt(t),t.updateColumns(t._dataSource))},addCommandColumn:function(n){for(var i=this._commandColumns,t=0;t<i.length;t++)if(i[t].command===n.command)return;i.push(n)},getUserState:function(){function f(n,f){r[t][f]!==i&&(u[t][f]=r[t][f])}for(var r=this._columns,u=[],t=0;t<r.length;t++)u[t]={},n.each(y,f);return u},setUserState:function(n){var t=this,r,i=t.option("stateStoring.ignoreColumnOptionNames");i||(i=[],r=t.getCommonSettings(),t.option("columnChooser.enabled")||i.push("visible"),t.option("sorting.mode")==="none"&&i.push("sortIndex","sortOrder"),r.allowGrouping||i.push("groupIndex"),r.allowFixing||i.push("fixed","fixedPosition"),r.allowResizing||i.push("width","visibleWidth"),t.option("filterRow.visible")||i.push("filterValue","selectedFilterOperation"),t.option("headerFilter.visible")||i.push("filterValues","filterType")),t._columnsUserState=n,t._ignoreColumnOptionNames=i,t._hasUserState=!!n,t.init()},_createCalculatedColumnOptions:function(i){var u={},o=i.dataField,s;return o?(r.isString(o)&&(s=e.compileGetter(o),u={caption:w.captionize(o),calculateCellValue:function(n,t){var i=s(n);return this.deserializeValue&&!t?this.deserializeValue(i):i},setCellValue:ei,parseValue:function(n){var u=this,t,i;return u.dataType==="number"?r.isString(n)?(i=Globalize.parseFloat(n),r.isNumber(i)&&(t=i)):r.isDefined(n)&&(t=Number(n)):u.dataType==="boolean"?n===u.trueText?t=!0:n===u.falseText&&(t=!1):u.dataType==="date"?(i=Globalize.parseDate(n),i&&(t=i)):t=n,t}}),u.allowFiltering=!0):u.allowFiltering=!!i.calculateFilterExpression,u.calculateFilterExpression=function(){return f.defaultCalculateFilterExpression.apply(this,arguments)},u.createFilterExpression=function(){var n;return this.calculateFilterExpression&&(n=this.calculateFilterExpression.apply(this,arguments)),n&&(n.columnIndex=this.index),n},o&&r.isString(o)||n.extend(!0,u,{allowSorting:!1,allowGrouping:!1,calculateCellValue:function(){return null}}),i.dataType&&(u.userDataType=i.dataType),i.lookup&&(u.lookup={calculateCellValue:function(n,t){return this.valueExpr&&(n=this.valueMap&&this.valueMap[n]),this.deserializeValue&&!t?this.deserializeValue(n):n},updateValueMap:function(){var i,r,t,n;if(this.valueMap={},this.items)for(i=e.compileGetter(this.valueExpr),r=e.compileGetter(this.displayExpr),n=0;n<this.items.length;n++)t=this.items[n],this.valueMap[i(t)]=r(t)},update:function(){var i=this,n=i.dataSource,u;if(n)if(r.isFunction(n)&&!b.isObservable(n)&&(n=n({})),r.isObject(n)||r.isArray(n)){if(i.valueExpr)return u=e.normalizeDataSourceOptions(n),u.paginate=!1,n=new t.data.DataSource(u),n.load().done(function(n){i.items=n,i.updateValueMap&&i.updateValueMap()})}else p.log("E1016");else i.updateValueMap&&i.updateValueMap()}}),u.resizedCallbacks=n.Callbacks(),i.resized&&u.resizedCallbacks.add(n.proxy(i.resized,i)),n.each(u,function(n){var t;r.isFunction(u[n])&&n.indexOf("default")!==0&&(t="default"+n.charAt(0).toUpperCase()+n.substr(1),u[t]=u[n])}),u}}}()),c.dxDataGrid.ColumnsController=h,f.registerModule("columns",{defaultOptions:function(){return{commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:Globalize.localize("dxDataGrid-trueText"),falseText:Globalize.localize("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columns:i,regenerateColumnsByVisibleItems:!1,customizeColumns:null}},controllers:{columns:h}})}(jQuery,DevExpress),function(n,t){var u=t.ui.dxDataGrid,r=t.require("/utils/utils.common"),l=t.require("/ui/events/ui.events.utils"),o="dx-editor-cell",a="dx-row",s="dx-selection",f="dx-select-checkbox",v="dx-select-checkboxes-hidden",h="dx-command-select",y="dx-selection-disabled",c="dx-data-row",i="selection.showCheckBoxesMode",e="selection.mode",p=function(n){return n==="single"||n==="multiple"};u.SelectionController=u.Controller.inherit(function(){var o=function(t,i,u){var f,e=u?t._unselectedItemKeys:t._selectedItemKeys;if(r.isObject(i)){for(f=0;f<e.length;f++)if(a(e[f],i))return f;return-1}return n.inArray(i,e)},s=function(n,t){var i=n.getController("data").keyOf(t);o(n,i)===-1&&(n._selectedItemKeys.push(i),n._addedItemKeys.push(i),n._selectedItems.push(t))},c=function(n,t){var i=o(n,t);i>=0&&(n._selectedItemKeys.splice(i,1),n._removedItemKeys.push(t),n._selectedItems.splice(i,1))},b=function(n){l(n,[],[])},l=function(t,i,r){var u,f=t._selectedItemKeys;for(t._selectedItemKeys=i,t._selectedItems=r,t._unselectedItemKeys=[],u=0;u<f.length;u++)n.inArray(f[u],i)===-1&&t._removedItemKeys.push(f[u]);for(u=0;u<i.length;u++)n.inArray(i[u],f)===-1&&t._addedItemKeys.push(i[u])},a=u.equalKeys,w=function(n){delete n._shiftFocusedItemIndex},f=function(n){return n&&n.rowType==="data"&&!n.inserted},k=function(n,t,i){var e=!1,o,u,l=n.getController("data"),a=i[n._focusedItemIndex]&&n.isRowSelected(l.keyOf(i[n._focusedItemIndex].data)),h=function(n,t,i){i?c(n,l.keyOf(t)):s(n,t)};if(r.isDefined(n._shiftFocusedItemIndex)||(n._shiftFocusedItemIndex=n._focusedItemIndex),n._shiftFocusedItemIndex!==n._focusedItemIndex)for(o=n._focusedItemIndex<n._shiftFocusedItemIndex?1:-1,u=n._focusedItemIndex;u!==n._shiftFocusedItemIndex;u+=o)f(i[u])&&(h(n,i[u].data,!0),e=!0);if(t!==n._shiftFocusedItemIndex)for(o=t<n._shiftFocusedItemIndex?1:-1,u=t;u!==n._shiftFocusedItemIndex;u+=o)f(i[u])&&(h(n,i[u].data,!1),e=!0);return f(i[n._focusedItemIndex])&&!a&&(h(n,i[n._focusedItemIndex].data,!1),e=!0),e},d=function(t,i,r){var o,f,e=t&&t.key(),u=[];return t&&(e?n.each(i,function(t,i){if(u.length>0&&u.push(r?"and":"or"),n.isArray(e)){for(o=[],f=0;f<e.length;f++)f>0&&o.push(r?"or":"and"),o.push([e[f],r?"<>":"=",i[e[f]]]);u.push(o)}else u.push([e,r?"<>":"=",i])}):u=function(n){for(var t=0;t<i.length;t++)if(a(i[t],n))return!r;return r}),u.length>0||n.isFunction(u)?u:void 0},v=function(t){var r=[],u=t.getController("data"),s=t.isSelectionWithCheckboxes(),e,o;u&&(n.each(u.items(),function(n,i){f(i)&&i.isSelected!==t.isRowSelected(i.key)&&r.push(n)}),t.option(i)==="onClick"&&(t._selectedItemKeys.length>1?t.startSelectionWithCheckboxes():t._selectedItemKeys.length===0&&t._removedItemKeys.length&&t.stopSelectionWithCheckboxes()),(r.length||s!==t.isSelectionWithCheckboxes())&&u.updateItems({changeType:"updateSelection",itemIndexes:r}),e=t._addedItemKeys,o=t._removedItemKeys,(e.length||o.length)&&(t._selectedItemsInternalChange=!0,t.option("selectedRowKeys",t._selectedItemKeys.slice(0)),t._selectedItemsInternalChange=!1,t.selectionChanged.fire(t._selectedItemKeys),t._addedItemKeys=[],t._removedItemKeys=[],t.executeAction("onSelectionChanged",{selectedRowsData:t._selectedItems,selectedRowKeys:t._selectedItemKeys,currentSelectedRowKeys:e,currentDeselectedRowKeys:o})))},y=function(n){var t=n.getController("columns"),i=n.isSelectColumnVisible();t.addCommandColumn({command:"select",visible:i,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:h,width:"auto"}),t.columnOption("command:select","visible",i)};return{init:function(){var n=this;n._isSelectionWithCheckboxes=!1,n._focusedItemIndex=-1,n._selectedItemKeys=[],n._unselectedItemKeys=[],n._selectedItems=[],n._addedItemKeys=[],n._removedItemKeys=[],y(n),n.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},callbackNames:function(){return["selectionChanged"]},optionChanged:function(n){var t=this;t.callBase(n);switch(n.name){case"selection":t.init(),t.getController("columns").updateColumns(),n.handled=!0;break;case"selectedRowKeys":r.isArray(n.value)&&!t._selectedItemsInternalChange&&t.selectRows(n.value),n.handled=!0}},publicMethods:function(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]},isRowSelected:function(n){var t=o(this,n);return t!==-1},isSelectColumnVisible:function(){var n=this.option(i);return this.option(e)==="multiple"&&(n==="always"||n==="onClick"||this._isSelectionWithCheckboxes)},isSelectAll:function(){var r=this.getController("data"),u=r.items(),f=r.getCombinedFilter(),n=this.getSelectedRowsData(),i;if(f&&t.data.query(n).filter(f).enumerate().done(function(t){n=t}),n.length){if(n.length>=r.totalCount())return!0}else{for(i=0;i<u.length;i++)if(u[i].selected)return;return!1}},selectAll:function(){return this.option(i)==="onClick"&&this.startSelectionWithCheckboxes(),this.selectedItemKeys([],!0,!1,!0)},deselectAll:function(){return this.selectedItemKeys([],!0,!0,!0)},clearSelection:function(){this.selectedItemKeys([])},refresh:function(){return this.selectedItemKeys(this.option("selectedRowKeys")||[])},selectedItemKeys:function(i,u,f,e){var a=this,k,o,tt,h,g=a.getController("data"),p=g.dataSource(),w=p&&p.store(),b,y,nt=[],it;return r.isDefined(i)?(w&&(k=n.isArray(i)?n.extend([],i):[i],(k.length||e)&&(o=d(p,k,e),tt=n.isFunction(o),(o||e)&&(e&&(b=g.getCombinedFilter()),o&&!tt&&b?(y=[],y.push(o),y.push(b)):b?y=b:o&&!tt&&(y=o),h=n.Deferred(),f&&new t.data.ArrayStore(a._selectedItems).load({filter:y}).done(function(n){nt=n}),it={filter:y,select:p.select()},n.each(w._customLoadOptions()||[],function(n,t){it[t]=p.loadOptions()[t]}),new t.data.ArrayStore(nt.length?nt:p.items()).load({filter:o}).done(function(i){!e&&(nt.length||i.length===k.length)?h.resolve(i):(g.setSelectionLoading(!0),w.load(it).done(function(n){new t.data.ArrayStore(n).load({filter:o}).done(h.resolve)}).fail(n.proxy(h.reject,h)).always(function(){g.setSelectionLoading(!1)}))})))),h=h||n.Deferred().resolve([]),h.done(function(n){var t,i,r,e=[];if(w&&n.length>0)for(t=0;t<n.length;t++)r=n[t],i=w.keyOf(r),u?f?c(a,i):s(a,r):e.push(i);u||l(a,e,n),v(a)}),h):a._selectedItemKeys},getSelectedRowKeys:function(){return this.selectedItemKeys()},selectRows:function(n,t){return this.selectedItemKeys(n,t)},deselectRows:function(n){return this.selectedItemKeys(n,!0,!0)},selectRowsByIndexes:function(t){var u=this.getController("data").items(),i=[];return r.isArray(t)||(t=Array.prototype.slice.call(arguments,0)),n.each(t,function(){var n=u[this];n&&n.rowType==="data"&&i.push(n.key)}),this.selectRows(i)},getSelectedRowsData:function(){return this._selectedItems},changeItemSelection:function(n,t){var i=this,d=i.getController("data"),g=d.items(),o=g[n],h=o&&o.data,y=i.option(e),u,nt,r;return p(y)&&f(o)&&(r=d.keyOf(h),t=t||{},i.isSelectionWithCheckboxes()&&(t.control=!0),t.shift&&y==="multiple"&&i._focusedItemIndex>=0?u=k(i,n,g):t.control?(w(i),nt=i.isRowSelected(r),y==="single"&&b(i),nt?c(i,r):s(i,h),u=!0):(w(i),i._selectedItemKeys.length===1&&a(i._selectedItemKeys[0],r)||(l(i,[r],[h]),u=!0)),u)?(i._focusedItemIndex=n,v(i),!0):!1},focusedItemIndex:function(n){var t=this;if(r.isDefined(n))t._focusedItemIndex=n;else return t._focusedItemIndex},isSelectionWithCheckboxes:function(){var n=this.option(e),t=this.option(i);return n==="multiple"&&(t==="always"||this._isSelectionWithCheckboxes)},startSelectionWithCheckboxes:function(){var n=this,t=n.isSelectColumnVisible();return n.option(e)==="multiple"&&!n.isSelectionWithCheckboxes()?(n._isSelectionWithCheckboxes=!0,y(n),t===n.isSelectColumnVisible()&&n.option(i)==="onClick"&&v(n),!0):!1},stopSelectionWithCheckboxes:function(){var n=this;return n._isSelectionWithCheckboxes?(n._isSelectionWithCheckboxes=!1,y(n),!0):!1}}}()),u.registerModule("selection",{defaultOptions:function(){return{selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0},selectedRowKeys:[]}},controllers:{selection:u.SelectionController},extenders:{controllers:{data:{setDataSource:function(n){this.callBase(n),n&&this.getController("selection").refresh()},setSelectionLoading:function(n){this._isSelectionLoading=n,this._fireLoadingChanged()},isLoading:function(){var n=this.callBase();return n||!!this._isSelectionLoading},pageIndex:function(n){var t=this,i=t._dataSource;return i&&n&&i.pageIndex()!==n&&t.getController("selection").focusedItemIndex(-1),t.callBase(n)},_processDataItem:function(){var i=this,t=i.getController("selection"),r=t.isSelectColumnVisible(),n=this.callBase.apply(this,arguments);return n.isSelected=t.isRowSelected(n.key),r&&n.values&&(n.values[0]=n.isSelected),n},refresh:function(){var i=this,t=n.Deferred();return this.callBase.apply(this,arguments).done(function(){i.getController("selection").refresh().done(t.resolve).fail(t.reject)}).fail(t.reject),t.promise()}}},views:{columnHeadersView:{_renderCore:function(n){var t=this;t.getController("selection").selectionChanged.remove(t._selectionChangedHandler),t.callBase(n)},_getDefaultTemplate:function(t){var i=this,u,r=i.getController("selection"),e=i.getController("data");return t.command==="select"?function(t,s){var h=s.column;if(h.command==="select"){t.addClass(o),u=n("<div />").appendTo(t).addClass(f),i.setAria("label",Globalize.localize("dxDataGrid-ariaSelectAll"),t),i.getController("editorFactory").createEditor(u,n.extend({},h,{parentType:"headerRow",value:r.isSelectAll(),tabIndex:-1,setValue:function(n,t){t.jQueryEvent&&r.isSelectAll()!==n&&((t.previousValue===undefined||t.previousValue)&&(r.deselectAll(),t.component.option("value",!1)),t.previousValue===!1&&(i.option("selection.allowSelectAll")?r.selectAll():t.component.option("value",!1)),t.jQueryEvent.preventDefault())}}));t.on("dxclick",i.createAction(function(t){var i=t.jQueryEvent;n(i.target).closest("."+f).length||n(i.currentTarget).children().trigger("dxclick"),i.preventDefault()}));i._selectionChangedHandler=function(){i.option("selection.mode")==="multiple"&&u.dxCheckBox("instance").option("value",r.isSelectAll())},i._dataChangedHandler=function(n){n&&n.changeType!=="refresh"||i._selectionChangedHandler()},e.changed.add(i._dataChangedHandler),r.selectionChanged.add(i._selectionChangedHandler)}}:i.callBase(t)}},rowsView:{_getDefaultTemplate:function(t){var i=this,r;return t.command==="select"?function(u,e){if(e.rowType==="data"&&!e.row.inserted){u.addClass(o);u.on("dxclick",i.createAction(function(t){var r=i.getController("selection"),u=t.jQueryEvent,f=i.getRowIndex(n(u.currentTarget).closest("."+a));f>=0&&(r.startSelectionWithCheckboxes(),r.changeItemSelection(f,{shift:u.shiftKey}))}));i.setAria("label",Globalize.localize("dxDataGrid-ariaSelectRow"),u),r=n("<div />").addClass(f).appendTo(u),i.getController("editorFactory").createEditor(r,n.extend({},t,{parentType:"dataRow",value:e.value,tabIndex:-1,setValue:function(n,t){t&&t.jQueryEvent&&t.jQueryEvent.type==="keydown"&&u.trigger("dxclick",t)}}))}}:i.callBase(t)},_update:function(t){var i=this,r=i.getTableElements();t.changeType==="updateSelection"?r.length>0&&(n.each(r,function(r,u){n.each(t.itemIndexes||[],function(r,e){var h,o;t.items[e]&&(h=i._getRowElements(n(u)).eq(e),o=!!t.items[e].isSelected,h.toggleClass(s,o).find("."+f).dxCheckBox("option","value",o),i.setAria("selected",o,h))})}),i._updateCheckboxesClass()):i.callBase(t)},_createTable:function(){var t=this,u=t.option("selection.mode"),r=t.callBase.apply(t,arguments);if(u!=="none")r.on(l.addNamespace("dxhold","dxDataGridRowsView"),"."+c,t.createAction(function(r){var u=t.getController("selection"),f=r.jQueryEvent,e=n(f.target).closest("."+c).index();t.option(i)==="onLongTap"?u.isSelectionWithCheckboxes()?u.stopSelectionWithCheckboxes():u.startSelectionWithCheckboxes():(t.option(i)==="onClick"&&u.startSelectionWithCheckboxes(),u.changeItemSelection(e,{control:!0}))})).on("mousedown selectstart",t.createAction(function(n){var t=n.jQueryEvent;t.shiftKey&&t.preventDefault()}));return r},_createRow:function(n){var t=this.callBase(n),i;return n&&(i=!!n.isSelected,t.toggleClass(s,i),this.setAria("selected",i,t)),t},_rowClick:function(t){var u=this,r=t.jQueryEvent,f=n(r.target).closest("."+h).length,e=n(r.target).closest("."+y).length;f||(e||u.option(i)==="always"||u.getController("selection").changeItemSelection(t.rowIndex,{control:r.ctrlKey,shift:r.shiftKey})&&(r.preventDefault(),t.handled=!0),u.callBase(t))},_renderCore:function(n){this.callBase(n),this._updateCheckboxesClass()},_updateCheckboxesClass:function(){var i=this.getTableElements(),t=this.getController("selection"),r=t.isSelectColumnVisible()&&!t.isSelectionWithCheckboxes();n.each(i,function(t,i){n(i).toggleClass(v,r)})}}}}})}(jQuery,DevExpress),function(n,t){var f=t.ui.dxDataGrid,r=t.require("/utils/utils.browser"),c=t.require("/utils/utils.position"),w=t.require("/utils/utils.formatHelper").defaultDateTimeFormat,i=t.require("/utils/utils.common"),b=t.require("/utils/utils.knockout"),l=t.require("/ui/events/ui.events.utils"),e=t.require("/ui/events/pointer/ui.events.pointer"),a=l.addNamespace,k="dx-datagrid-checkbox-size",o="dx-cell-focus-disabled",d="dx-editor-inline-block",v="dxDataGridEditorFactory",y=a(e.down+" focusin dxclick",v),p="dx-datagrid-focus-overlay",s="dx-focused",g="dx-datagrid-content",h="dx-pointer-events-target",nt="dx-pointer-events-none",u="dx-hidden",tt=9;f.EditorFactoryController=f.ViewController.inherit(function(){var f=function(t,i){return n.extend(t,{readOnly:i.readOnly,rtlEnabled:i.rtlEnabled,disabled:i.disabled,placeholder:i.placeholder},i.editorOptions)},it=function(n){var u=r.msie&&parseInt(r.version)<=11,t=!1;return f({placeholder:n.placeholder,width:n.width,value:n.value,onValueChanged:function(r){var u=function(i){t=!1,n&&n.setValue(i.value)};window.clearTimeout(r.component._valueChangeTimeoutID),r.jQueryEvent&&r.jQueryEvent.type==="keyup"?n.parentType==="filterRow"||n.parentType==="searchPanel"?r.component._valueChangeTimeoutID=window.setTimeout(function(){u(r)},i.isDefined(n.updateValueTimeout)?n.updateValueTimeout:0):t=!0:u(r)},onFocusOut:function(i){u&&t&&(t=!1,n.setValue(i.component.option("value")))},onEnterKey:function(i){u&&t&&(t=!1,n.setValue(i.component.option("value")))},valueChangeEvent:"change"+(n.parentType==="filterRow"||u?" keyup":"")},n)},ut=function(n){n.editorName="dxDateBox",n.editorOptions=f({value:n.value,customOverlayCssClass:"dx-datagrid",onValueChanged:function(t){n.setValue(t.value)},formatString:i.isString(n.format)&&w[n.format.toLowerCase()]||n.format,formatWidthCalculator:null,width:"auto"},n)},ft=function(n){var t=it(n),r=n.parentType==="searchPanel",u=function(n){return i.isDefined(n)?n.toString():""};t.value=u(n.value),t.valueChangeEvent+=r?" keyup search":"",t.mode=r?"search":"text",n.editorName="dxTextBox",n.editorOptions=t},et=function(n){var t=it(n);t.value=i.isDefined(n.value)?n.value:null,n.editorName="dxNumberBox",n.editorOptions=t},ot=function(t){t.parentType==="filterRow"?rt(n.extend(t,{lookup:{displayExpr:function(n){return n===!0?t.trueText||"true":n===!1?t.falseText||"false":void 0},dataSource:[!0,!1],rtlEnabled:t.rtlEnabled,disabled:t.disabled}})):st(t)},rt=function(n){var u=n.lookup,o,r,e,s=n.parentType==="filterRow";u&&(o=t.data.utils.compileGetter(u.displayExpr),r=u.dataSource,i.isFunction(r)&&!b.isObservable(r)&&(r=r(n.row||{})),(i.isObject(r)||i.isArray(r))&&(r=t.data.utils.normalizeDataSourceOptions(r),s&&(e=r.postProcess,r.postProcess=function(n){return(this.pageIndex()===0&&(n=n.slice(0),n.unshift(null)),e)?e.call(this,n):n})),n.editorName="dxSelectBox",n.editorOptions=f({searchEnabled:!0,value:n.value,valueExpr:n.lookup.valueExpr,searchExpr:n.lookup.searchExpr||n.lookup.displayExpr,showClearButton:Boolean(u.allowClearing&&!s),displayExpr:function(t){return t===null?n.showAllText:o(t)},dataSource:r,onValueChanged:function(t){n.setValue(t.value,t.component.option("text"))}},n))},st=function(n){n.editorName="dxCheckBox",n.editorOptions=f({value:n.value,hoverStateEnabled:!n.readOnly,focusStateEnabled:!n.readOnly,activeStateEnabled:!1,onValueChanged:function(t){n.setValue&&n.setValue(t.value,t)},tabIndex:n.tabIndex?n.tabIndex:0},n)},ht=function(t,i){i.editorName&&i.editorOptions&&i.editorElement[i.editorName]&&(i.editorName==="dxCheckBox"&&i.editorElement.addClass(k),t._createComponent(i.editorElement,i.editorName,i.editorOptions),i.editorName==="dxTextBox"&&i.editorElement.dxTextBox("instance").registerKeyHandler("enter",n.noop))};return{_getFocusedElement:function(n){return n.find("[tabindex]:focus, input:focus")},_updateFocusCore:function(){var n=this._$focusedElement,i=this.component&&this.component.element(),t,r;if(i&&(n=this._getFocusedElement(i),n.length&&(n.hasClass(o)||(t=n.closest(".dx-row > td, ."+o),r=t.get(0)!==n.get(0)&&t.hasClass(d),n=t),n.length&&!n.hasClass(o)))){this.focus(n,r);return}this.loseFocus()},_updateFocus:function(t){var i=this,r=t&&t.jQueryEvent&&n(t.jQueryEvent.target).hasClass(p);i._isFocusOverlay=i._isFocusOverlay||r,clearTimeout(i._updateFocusTimeoutID),i._updateFocusTimeoutID=setTimeout(function(){delete i._updateFocusTimeoutID,i._isFocusOverlay||i._updateFocusCore(),i._isFocusOverlay=!1})},_updateFocusOverlaySize:function(t,i){var r=c.calculate(t,n.extend({collision:"fit"},i));r.h.oversize>0&&t.outerWidth(t.outerWidth()-r.h.oversize),r.v.oversize>0&&t.outerHeight(t.outerHeight()-r.v.oversize)},callbackNames:function(){return["focused"]},focus:function(t,i){var f=this;if(t===undefined)return f._$focusedElement;t&&setTimeout(function(){var e=f._$focusOverlay=f._$focusOverlay||n("<div>").addClass(p+" "+h),l,a,o;i?f._$focusOverlay&&f._$focusOverlay.addClass(u):(a=r.msie?"left bottom":r.mozilla?"right bottom":"left top",o=t.closest("."+g),e.removeClass(u).appendTo(o).outerWidth(t.outerWidth()+1).outerHeight(t.outerHeight()+1),l={my:a,at:a,of:t,boundary:o.length&&o},f._updateFocusOverlaySize(e,l),c.setup(e,l),e.css("visibility","visible")),f._$focusedElement&&f._$focusedElement.removeClass(s),t.addClass(s),f._$focusedElement=t,f.focused.fire(t)})},resize:function(){var n=this._$focusedElement;n&&this.focus(n)},loseFocus:function(){this._$focusedElement&&this._$focusedElement.removeClass(s),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(u)},init:function(){this.createAction("onEditorPreparing",{excludeValidators:["designMode","disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["designMode","disabled","readOnly"],category:"rendering"}),this._updateFocusHandler=this._updateFocusHandler||this.createAction(n.proxy(this._updateFocus,this));n(document).on(y,this._updateFocusHandler);this._attachContainerEventHandlers()},_attachContainerEventHandlers:function(){var t=this,i=t.component&&t.component.element(),u=r.msie&&parseInt(r.version)<11;if(i){i.on(a("keydown",v),function(n){n.which===tt&&t._updateFocusHandler(n)});u&&i.on([e.down,e.up,"dxclick"].join(" "),"."+h,n.proxy(t._focusOverlayEventProxy,t))}},_focusOverlayEventProxy:function(t){var i=n(t.target),r=n(t.currentTarget),f,o=i.hasClass(h)||i.hasClass(nt),e=this._$focusedElement;o&&!r.hasClass(u)&&(r.addClass(u),f=i.get(0).ownerDocument.elementFromPoint(t.clientX,t.clientY),l.fireEvent({originalEvent:t,target:f}),t.stopPropagation(),r.removeClass(u),e&&e.find("input").focus())},dispose:function(){clearTimeout(this._updateFocusTimeoutID),n(document).off(y,this._updateFocusHandler)},createEditor:function(n,t){if(t.rtlEnabled=this.option("rtlEnabled"),t.disabled=this.option("disabled"),t.cancel=!1,t.editorElement=n,t.lookup)rt(t);else switch(t.dataType){case"date":ut(t);break;case"boolean":ot(t);break;case"number":et(t);break;default:ft(t)}(this.executeAction("onEditorPreparing",t),t.cancel)||(ht(this,t),this.executeAction("onEditorPrepared",t))}}}()),f.registerModule("editorFactory",{defaultOptions:function(){return{}},controllers:{editorFactory:f.EditorFactoryController},extenders:{controllers:{columnsResizer:{_startResizing:function(n){this.callBase(n),this.isResizing()&&this.getController("editorFactory").loseFocus()}}}}})}(jQuery,DevExpress),function(n,t){var h=t.ui,c=t.require("/utils/utils.browser"),r=t.require("/utils/utils.common"),l=t.require("/devices"),u=h.dxDataGrid,o="dx-datagrid-scroll-container",s="dx-row",a="dx-datagrid-group-space",v="dx-group-row",y="dx-master-detail-row",p="dx-datagrid-content",w="dx-datagrid-table",nt="dx-datagrid-text-content",f="dx-column-indicators",b="dx-datagrid-table-fixed",k="dx-indicator-alignment-",tt="dx-header-row",e="dxCellHintVisible",d={sort:"dx-sort",headerFilter:"dx-header-filter"},g={render:function(n,t){t.append(n)}};u.getWidths=function(t){var u,f=[],i,r;return t&&(u=t.children("tbody").children("tr").filter(":not(."+v+")").filter(":not(."+y+")").first().find("> td"),n.each(u,function(n,t){i=t.offsetWidth,t.getBoundingClientRect&&(r=t.getBoundingClientRect(),r.width>i&&(i=Math.ceil(r.width))),f.push(i)})),f},u.ColumnsView=u.View.inherit({_getColumnAlignment:function(n,t){return t=t||this.option("rtlEnabled"),n!=="center"?n:r.getDefaultAlignment(t)},_applyColumnState:function(t){var u=this,f=this.option("rtlEnabled"),i=u._getColumnAlignment(t.column.alignment,f),r=n.extend(!0,{columnAlignment:i},t),e=u._createIndicatorContainer(r),o=n("<span />").addClass(d[t.name]),s=function(){return f?i==="left"?"right":"left":i};return r.container=e,r.indicator=o,u._renderIndicator(r),e[!t.showColumnLines&&s()==="left"?"appendTo":"prependTo"](t.rootElement).addClass(k+i),o},_createIndicatorContainer:function(t){var i=t.rootElement.find("."+f),r=t.columnAlignment==="left"?"right":"left";return i.length||(i=n("<div/>").addClass(f)),i.css("float",t.showColumnLines?r:null)},_getIndicatorContainer:function(n){return n&&n.find("."+f)},_renderIndicator:function(n){var t=n.container,i=n.indicator;t&&i&&t.append(i)},_updateIndicators:function(n){for(var i=this,r=i.getColumns(),f=i.getColumnElements(),u,t=0;t<r.length;t++)u=f.eq(t),i._updateIndicator(u,r[t],n)},_updateIndicator:function(n,t,i){if(!t.command)return this._applyColumnState({name:i,rootElement:n,column:t,showColumnLines:this.option("showColumnLines")})},_updateCell:function(n,t){t.rowType&&this._cellPrepared(n,t)},_createCell:function(t){var f=r.getDefaultAlignment(this.option("rtlEnabled")),e=t.alignment||f,u=window.document.createElement("td"),i;return u.style.textAlign=e,i=n(u),this.setAria("role","gridcell",i),!r.isDefined(t.groupIndex)&&t.cssClass&&i.addClass(t.cssClass),t.command==="expand"&&i.addClass(a),i},_createRow:function(){return n("<tr />").addClass(s).attr("role","row")},_createTable:function(t){var i=this,r=n("<table />").addClass(w).addClass(b).attr("role","grid"),u;if(t&&(r.append(i._createColGroup(t)),l.real().ios&&r.append("<thead><tr><\/tr><\/thead>")),c.mozilla)r.on("mousedown","td",function(n){n.ctrlKey&&n.preventDefault()});if(i.option("cellHintEnabled"))r.on("mousemove",".dx-row > td",this.createAction(function(t){var o=t.jQueryEvent,r=n(o.target),s=n(o.currentTarget),f=s.parent(),h=f.hasClass("dx-data-row"),c=f.hasClass("dx-header-row"),l=f.children(),a=i._columnsController.getVisibleColumns(),v=l.index(s),u=a[v];(!h&&!c||h&&u&&!u.cellTemplate||c&&u&&!u.headerCellTemplate)&&(r.data(e)&&(r.removeAttr("title"),r.data(e,!1)),r[0].scrollWidth>r[0].clientWidth&&!r.attr("title")&&(r.attr("title",r.text()),r.data(e,!0)))}));if(u=function(t){var i=n(t.currentTarget),r=i.parent().data("options"),u=r&&r.cells&&r.cells[i.index()];return n.extend({},u,{cellElement:i,jQueryEvent:t,eventType:t.type})},i.option("onCellClick"))r.on("dxclick",".dx-row > td",function(n){i.executeAction("onCellClick",u(n))});if(i.option("onCellHoverChanged")){r.on("mouseover",".dx-row > td",function(n){i.executeAction("onCellHoverChanged",u(n))});r.on("mouseout",".dx-row > td",function(n){i.executeAction("onCellHoverChanged",u(n))})}r.on("dxclick",".dx-row",i.createAction(function(t){var r=t.jQueryEvent;n(r.target).closest("a").length||(t.rowIndex=i.getRowIndex(r.currentTarget),t.rowElement=n(r.currentTarget),t.columns=i.getColumns(),i._rowClick(t))}));return r},_rowClick:n.noop,_createColGroup:function(t){for(var r,u=n("<colgroup />"),f,e=t.length,i=0;i<e;i++)for(f=t[i].colspan||1,r=0;r<f;r++)u.append(this._createCol(t[i]));return u},_createCol:function(t){return n("<col />").width(t.visibleWidth||t.width)},renderDelayedTemplates:function(){for(var n,t=this._delayedTemplates;t.length;)n=t.shift(),n.template.render(n.options,n.container),n.options.column&&this._updateCell(n.container,n.options)},_processTemplate:function(t){var r=this,u;return t&&t.render?u={allowRenderToDetachedContainer:t.allowRenderToDetachedContainer,render:function(n,i){t.render(i,n)}}:n.isFunction(t)?u={render:function(n,i){t(i,n)}}:(r._templatesCache[t]||(r._templatesCache[t]=r.getTemplate(t)),u=r._templatesCache[t]),u},_renderTemplate:function(n,t,i){var u=this,r=u._processTemplate(t,i);if(r){if(r.allowRenderToDetachedContainer)return r.render(i,n),!0;u._delayedTemplates.push({template:r,container:n,options:i})}return!1},_appendRow:function(n,t){var i=this;i.option("rowTemplate")&&i._delayedTemplates.length&&t?i._delayedTemplates.push({container:n,template:g,options:t}):n.append(t)},_renderCore:function(){var t=this.element().parent();(!t||t.parent().length)&&this.renderDelayedTemplates()},_renderTable:function(n){n=n||{};var t=this,i;return n.columns=t._columnsController.getVisibleColumns(),i=t._createTable(n.columns),t._renderRows(i,n),i},_renderRows:function(t,i){for(var u=this,f=u._getRows(i.change),r=0;r<f.length;r++)u._renderRow(t,n.extend({row:f[r]},i))},_renderRow:function(t,i){var r=this,u;i.row.cells=[],u=r._createRow(i.row),r._renderCells(u,i),r._appendRow(t,u),r._rowPrepared(u,n.extend({columns:i.columns},i.row))},_renderCells:function(t,i){for(var s=this,f=0,o=i.row,e=i.columns,u=0;u<e.length;u++)s._renderCell(t,n.extend({column:e[u],columnIndex:f,value:o.values&&o.values[f]},i)),r.isDefined(e[u].colspan)?f+=e[u].colspan:f++},_renderCell:function(n,t){var i=this,f=i._getCellOptions(t),e=t.column,u;return t.row.cells.push(f),u=i._createCell(e),r.isDefined(e.command)||i.setAria("label",i.localize("dxDataGrid-ariaColumn")+" "+e.caption+", "+i.localize("dxDataGrid-ariaValue")+" "+f.text,u),i._renderCellContent(u,f),n.get(0).appendChild(u.get(0)),u},_renderCellContent:function(n,t){var i=this._getCellTemplate(t);(!i||this._renderTemplate(n,i,t))&&this._updateCell(n,t)},_getCellTemplate:function(){},_getRows:function(){return[]},_getCellOptions:function(n){return{column:n.column,columnIndex:n.columnIndex,rowType:n.row.rowType}},_cellPrepared:function(n,t){t.cellElement=n,this.executeAction("onCellPrepared",t)},_rowPrepared:function(n,t){n.data("options",t),t.rowElement=n,this.executeAction("onRowPrepared",t)},_columnOptionChanged:function(t){var f=t.optionNames,i,r;if(u.checkChanges(f,["width","visibleWidth"])){i=this._columnsController.getVisibleColumns(),r=n.map(i,function(n){return n.visibleWidth||n.width||"auto"}),this.setColumnWidths(r);return}this._requireReady||this.render()},getTableElements:function(){return this._tableElement||n()},_getTableElement:function(){return this._tableElement},_setTableElement:function(n){this._tableElement=n},optionChanged:function(n){this.callBase(n);switch(n.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),n.handled=!0}},init:function(){var t=this;t._scrollLeft=0,t._columnsController=t.getController("columns"),t._dataController=t.getController("data"),t._delayedTemplates=[],t._templatesCache={},t.createAction("onCellClick"),t.createAction("onRowClick"),t.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),t.createAction("onCellPrepared",{excludeValidators:["designMode","disabled","readOnly"],category:"rendering"}),t.createAction("onRowPrepared",{excludeValidators:["designMode","disabled","readOnly"],category:"rendering",afterExecute:function(n){t._afterRowPrepared(n)}}),t._columnsController.columnsChanged.add(n.proxy(t._columnOptionChanged,t)),t._dataController&&t._dataController.changed.add(n.proxy(t._handleDataChanged,t))},_afterRowPrepared:n.noop,_handleDataChanged:function(){},callbackNames:function(){return["scrollChanged"]},scrollTo:function(n){var t=this,i=t.element(),u=i&&i.find("."+o);t._skipScrollChanged=!1,r.isDefined(n)&&r.isDefined(n.left)&&t._scrollLeft!==n.left&&(t._scrollLeft=n.left,u&&u.scrollLeft(Math.round(n.left)),t._skipScrollChanged=!0)},wrapTableInScrollContainer:function(t){var i=this,r;return r=n("<div/>").on("scroll",function(){i._skipScrollChanged||i.scrollChanged.fire({left:r.scrollLeft()},i.name),i._skipScrollChanged=!1}).addClass(p).addClass(o).append(t)},getColumnWidths:function(){var i=this,n=[],t=i._getTableElement();return t&&(n=u.getWidths(t)),n},setColumnWidths:function(t){var o,i,r,u,f,e=this.getTableElements(!0);if(e.length&&t)for(i=0;i<e.length;i++)for(u=0,o=n(e[i]).find("col"),f=this.getColumns(n(e[i])),r=0;r<f.length;r++){if(f[r].colspan){u+=f[r].colspan;continue}o.eq(u).css("width",t[u]||"auto"),u++}},getCellElements:function(n){var t=this._getRowElements().eq(n);return t.children()},getCellElement:function(n,t){var f=this,e=f.getCellElements(n),i,o=f._columnsController,s,u=t;return r.isString(t)&&(s=o.columnOption(t,"index"),u=o.getVisibleIndex(s)),e.length&&u>=0&&(i=e.eq(u)),i&&i.length?i:void 0},getColumnElements:function(){},getColumns:function(){return this._columnsController.getVisibleColumns()},getCell:function(n,t){var r=t||this._getRowElements(),i;if(r.length>0&&n.rowIndex>=0&&(n.rowIndex=n.rowIndex<r.length?n.rowIndex:r.length-1,i=this.getCellElements(n.rowIndex),i&&i.length>0))return i.eq(i.length>n.columnIndex?n.columnIndex:i.length-1)},getRowsCount:function(){var n=this._getTableElement();return n&&n.length===1?n[0].rows.length:0},_getRowElements:function(t){return t=t||this._getTableElement(),t&&t.children("tbody").children("."+s)||n()},getRowIndex:function(n){return this._getRowElements().index(n)},getBoundingRect:function(){},getName:function(){}})}(jQuery,DevExpress),function(n,t){var f=t.ui,i=f.dxDataGrid,e=t.require("/utils/utils.common"),o=t.require("/ui/ui.themes"),s=t.require("/ui/widgets/ui.button"),h="dx-datagrid-column-chooser",r="dx-datagrid-column-chooser-button",c="column-chooser",u="dx-column-chooser-item",l="dx-column-chooser-message",a="dx-datagrid-drag-action";i.ColumnChooserController=i.ViewController.inherit({renderShowColumnChooserButton:function(t){var i=this,e=i.option("columnChooser.enabled"),u=t.find("."+r),f;e?u.length?u.show():(f=n("<div />").addClass(r).appendTo(t),i._createComponent(f,s,{icon:c,onClick:function(){i.getView("columnChooserView").showColumnChooser()},hint:i.option("columnChooser.title"),_templates:{}})):u.hide()},getPosition:function(){var n=this.getView("rowsView");return{my:"right bottom",at:"right bottom",of:n&&n.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}}),i.ColumnChooserView=i.ColumnsView.inherit({_updateItems:function(){var t=this._columnsController.getChooserColumns(),r=this.option("columnChooser"),u=this._popupContainer.content(),f=this._createComponent(u,"dxScrollable",i.createScrollableOptions(this));this._renderColumnChooserItems(u,t),t.length||n("<span />").addClass(l).text(r?r.emptyPanelText:"").appendTo(f.content())},_initializePopupContainer:function(){var t=this,s=t.element().addClass(h),r=t.option("columnChooser"),u=o.current(),f=u&&u.indexOf("generic")>-1,c=u&&u.indexOf("android5")>-1,i={visible:!1,shading:!1,showCloseButton:!1,dragEnabled:!0,buttons:[{text:r.title,toolbar:"top",location:f||c?"before":"center"}],position:t.getController("columnChooser").getPosition(),width:r.width,height:r.height,rtlEnabled:t.option("rtlEnabled"),container:r.container};if(f?n.extend(i,{showCloseButton:!0}):i.buttons[i.buttons.length]={shortcut:"cancel"},e.isDefined(this._popupContainer))this._popupContainer.option(i);else{t._popupContainer=t._createComponent(s,"dxPopup",i);t._popupContainer.on("optionChanged",function(n){n.name==="visible"&&t.renderCompleted.fire()})}},_renderCore:function(){this._popupContainer&&this._updateItems()},_renderColumnChooserItems:function(t,i){var r=t.dxScrollable("instance"),f=r.content(),e;f.empty(),n.each(i,function(t,i){e=n("<div />").addClass(i.cssClass).addClass(u).toggleClass(a,i.allowHiding).text(i.caption).appendTo(f)}),r.update()},getColumnElements:function(){var n=this._popupContainer&&this._popupContainer.content();return n&&n.find("."+u)},getName:function(){return"columnChooser"},getColumns:function(){return this._columnsController.getChooserColumns()},allowDragging:function(n){return this.isColumnChooserVisible()&&n&&n.allowHiding},getBoundingRect:function(){var i=this,n=i._popupContainer&&i._popupContainer._container(),t;return n&&n.is(":visible")?(t=n.offset(),{left:t.left,top:t.top,right:t.left+n.outerWidth(),bottom:t.top+n.outerHeight()}):null},showColumnChooser:function(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show()},hideColumnChooser:function(){this._popupContainer&&this._popupContainer.hide()},isColumnChooserVisible:function(){var n=this._popupContainer;return n&&n.option("visible")},publicMethods:function(){return["showColumnChooser","hideColumnChooser"]}}),i.registerModule("columnChooser",{defaultOptions:function(){return{columnChooser:{enabled:!1,width:250,height:260,title:Globalize.localize("dxDataGrid-columnChooserTitle"),emptyPanelText:Globalize.localize("dxDataGrid-columnChooserEmptyText"),container:undefined}}},controllers:{columnChooser:i.ColumnChooserController},views:{columnChooserView:i.ColumnChooserView},extenders:{views:{headerPanel:{_renderShowColumnChooserButton:function(){this.getController("columnChooser").renderShowColumnChooserButton(this.element())},_renderCore:function(){this.callBase(),this._renderShowColumnChooserButton()},optionChanged:function(n){switch(n.name){case"columnChooser":this._renderShowColumnChooserButton(),n.handled=!0;break;default:this.callBase(n)}},isVisible:function(){var n=this,t=n.option("columnChooser.enabled");return n.callBase()||t}}}}})}(jQuery,DevExpress),function(n,t){function r(t,i){if(t&&(t=t.slice(0),i))for(var u=0;u<t.length;u++)t[u]=n.extend({key:t[u].key},t[u]),t[u].items=r(t[u].items,i-1);return t}var u=t.ui,i=u.dxDataGrid;i.DataSourceAdapter=i.Controller.inherit(function(){function t(n,t){var r={};return t&&(r={sorting:!i.equalSortParameters(n.sort,t.sort),grouping:!i.equalSortParameters(n.group,t.group),filtering:!i.equalFilterParameters(n.filter,t.filter),pageIndex:n.pageIndex!==t.pageIndex,pageSize:n.pageSize!==t.pageSize},r.reload=r.sorting||r.grouping||r.filtering||r.pageSize,r.paging=r.pageIndex||r.pageSize),r}return{init:function(t,i){var r=this;r._dataSource=t,r._remoteOperations=i||{},r._isLastPage=!t.isLastPage(),r._hasLastPage=!1,r._currentTotalCount=0,r.changed=n.Callbacks(),r.loadingChanged=n.Callbacks(),r.loadError=n.Callbacks(),r.customizeStoreLoadOptions=n.Callbacks(),r._dataChangedHandler=n.proxy(r._handleDataChanged,r),r._dataLoadingHandler=n.proxy(r._handleDataLoading,r),r._dataLoadedHandler=n.proxy(r._handleDataLoaded,r),r._loadingChangedHandler=n.proxy(r._handleLoadingChanged,r),r._loadErrorHandler=n.proxy(r._handleLoadError,r);t.on("changed",r._dataChangedHandler);t.on("customizeStoreLoadOptions",r._dataLoadingHandler);t.on("customizeLoadResult",r._dataLoadedHandler);t.on("loadingChanged",r._loadingChangedHandler);t.on("loadError",r._loadErrorHandler);n.each(t,function(t,i){!r[t]&&n.isFunction(i)&&(r[t]=function(){return this._dataSource[t].apply(this._dataSource,arguments)})})},remoteOperations:function(){return this._remoteOperations},dispose:function(n){var t=this,i=t._dataSource;i.off("changed",t._dataChangedHandler),i.off("customizeStoreLoadOptions",t._dataLoadingHandler),i.off("customizeLoadResult",t._dataLoadedHandler),i.off("loadingChanged",t._loadingChangedHandler),i.off("loadError",t._loadErrorHandler),n||i.dispose()},refresh:function(n,t,i){var r=this,u=r._dataSource;(t||i.reload)&&(r._currentTotalCount=0,r._isLastPage=!u.paginate(),r._hasLastPage=r._isLastPage)},_handleDataLoading:function(i){var r=this,u=r._dataSource,s=r._lastLoadOptions,f,e,o;r.customizeStoreLoadOptions.fire(i),i.delay=this.option("loadingTimeout"),i.originalStoreLoadOptions=i.storeLoadOptions,i.remoteOperations=n.extend({},this.remoteOperations()),o=!r.isLoaded()&&!r._isRefreshing,r._lastLoadOptions=f=n.extend({pageIndex:u.pageIndex(),pageSize:u.pageSize()},i.storeLoadOptions),e=t(f,s),r._isRefreshing=!0,n.when(r.refresh(i.storeLoadOptions,o,e)).always(function(){r._lastOperationId===i.operationId&&r.load(),r._isRefreshing=!1}),u.cancel(r._lastOperationId),r._lastOperationId=i.operationId,r._isRefreshing&&u.cancel(r._lastOperationId)},_handleDataLoaded:function(n){n.storeLoadOptions=n.originalStoreLoadOptions},_handleLoadingChanged:function(n){this.loadingChanged.fire(n)},_handleLoadError:function(n){this.changed.fire({changeType:"loadError",error:n}),this.loadError.fire(n)},_handleDataChanged:function(n){var t=this,u,i=t._dataSource,r=t.itemsCount();t._isLastPage=!r||!t.pageSize()||r<t.pageSize(),t._isLastPage&&(t._hasLastPage=!0),i.totalCount()>=0?i.pageIndex()>=t.pageCount()&&(i.pageIndex(t.pageCount()-1),i.load()):(u=i.pageIndex()*t.pageSize()+r,t._currentTotalCount=Math.max(t._currentTotalCount,u),r===0&&i.pageIndex()>=t.pageCount()&&(i.pageIndex(t.pageCount()-1),i.load())),i.isLoading()||(this.component._optionCache={},this.changed.fire(n),this.component._optionCache=undefined)},isLastPage:function(){return this._isLastPage},totalCount:function(){return parseInt(this._currentTotalCount||this._dataSource.totalCount())},itemsCount:function(){return this._dataSource.items().length},totalItemsCount:function(){return this.totalCount()},pageSize:function(){var n=this._dataSource;return!arguments.length&&!n.paginate()?0:n.pageSize.apply(n,arguments)},pageCount:function(){var n=this,t=n.totalItemsCount(),i=n.pageSize();return i&&t>0?Math.max(1,Math.ceil(t/i)):1},hasKnownLastPage:function(){return this._hasLastPage||this._dataSource.totalCount()>=0}}}()),i.DataSourceAdapter=i.DataSourceAdapter.inherit({reload:function(n){return n?this._dataSource.reload():this._dataSource.load()},refresh:function(t,i,r){var u=this,f=u._remoteOperations;u.callBase.apply(u,arguments),i?(u._cachedStoreData=undefined,u._cachedPagingData=undefined):(r.reload&&(u._cachedPagingData=undefined),n.each(r,function(n,t){t&&f[n]&&(u._cachedStoreData=undefined,u._cachedPagingData=undefined)}))},_handleDataLoading:function(n){this.callBase(n),this._handleDataLoadingCore(n)},_handleDataLoadingCore:function(t){var i=t.remoteOperations,r;i.grouping&&t.storeLoadOptions.group&&(i.paging=!1),t.loadOptions={},r={filter:!i.filtering,sort:!i.sorting,group:!i.grouping,summary:!i.summary,skip:!i.paging,take:!i.paging,requireTotalCount:!i.paging},n.each(t.storeLoadOptions,function(n,i){r[n]&&(t.loadOptions[n]=i,delete t.storeLoadOptions[n])}),t.storeLoadOptions.isLoadingAll||(t.data=this._cachedStoreData)},_handleDataLoaded:function(u){var h=this.callBase,f=u.loadOptions,e=u.remoteOperations&&!u.remoteOperations.paging,o=this.option("cacheEnabled")!==!1&&e&&u.storeLoadOptions&&!u.storeLoadOptions.isLoadingAll,s;if(!f){this._dataSource.cancel(u.operationId);return}e&&(u.skip=f.skip,u.take=f.take,delete f.skip,delete f.take),f.group&&(f.group=u.group||f.group),s=i.normalizeSortingInfo(u.storeLoadOptions.group||f.group).length,o&&this._cachedPagingData?u.data=r(this._cachedPagingData,s):(o&&!this._cachedStoreData&&(this._cachedStoreData=r(u.data,i.normalizeSortingInfo(u.storeLoadOptions.group).length)),new t.data.ArrayStore(u.data).load(f).done(function(n){u.data=n}),o&&(this._cachedPagingData=r(u.data,s))),f.requireTotalCount&&e&&(u.extra=n.isPlainObject(u.extra)?u.extra:{},u.extra.totalCount=u.data.length),this._handleDataLoadedCore(u),h.apply(this,arguments)},_handleDataLoadedCore:function(n){n.remoteOperations&&!n.remoteOperations.paging&&(n.skip!==undefined&&(n.data=n.data.slice(n.skip)),n.take!==undefined&&(n.data=n.data.slice(0,n.take)))}})}(jQuery,DevExpress),function(n,t){var l=t.ui,i=l.dxDataGrid,a=DevExpress.require("/ui/ui.errors"),r=t.require("/utils/utils.common"),v=t.require("/class"),u=t.data.utils.normalizeSortingInfo,f="dx-datagrid-group-panel",y="dx-group-panel-message",o="dx-group-panel-item",p="dx-datagrid-group-opened",w="dx-datagrid-group-closed",s="dx-datagrid-expand",b="dx-selection-disabled",k=function(){return{init:function(){this.callBase.apply(this,arguments),this._grouping=this._createGroupingHelper()},_createGroupingHelper:function(){var n=this.remoteOperations();return n.filtering&&n.sorting&&n.paging&&!n.grouping?new i.ExpandedGroupingHelper(this):new i.CollapsedGroupingHelper(this)},totalItemsCount:function(){var n=this,t=n.callBase();return t>0&&n._dataSource.group()&&n._dataSource.requireTotalCount()?t+n._grouping.totalCountCorrection():t},itemsCount:function(){return this._dataSource.group()?this._grouping.itemsCount()||0:this.callBase()},allowCollapseAll:function(){return this._grouping.allowCollapseAll()},isRowExpanded:function(n){var t=this._grouping.findGroupInfo(n);return t?t.isExpanded:!this._grouping.allowCollapseAll()},collapseAll:function(n){return this._grouping.allowCollapseAll()?this._collapseExpandAll(n,!1):(a.log("E1018"),!1)},expandAll:function(n){return this._collapseExpandAll(n,!0)},_collapseExpandAll:function(n,t){var e=this,o=e._dataSource,f=o.group(),r=u(f||[]),i;if(r.length){for(i=0;i<r.length;i++)n===undefined||n===i?r[i].isExpanded=t:f&&f[i]&&(r[i].isExpanded=f[i].isExpanded);o.group(r),e._grouping.foreachGroups(function(i,r){(n===undefined||n===r.length-1)&&(i.isExpanded=t)},!1,!0)}return!0},refresh:function(){return this.callBase.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)},changeRowExpand:function(n){var i=this,t=i._dataSource;if(t.group())return t._changeLoadingCount(1),i._changeRowExpandCore(n).always(function(){t._changeLoadingCount(-1)})},_changeRowExpandCore:function(n){return this._grouping.changeRowExpand(n)},_handleDataLoading:function(t){return this._grouping.handleDataLoading(t,n.proxy(this.callBase,this))},_handleDataLoaded:function(t){return this._grouping.handleDataLoaded(t,n.proxy(this.callBase,this))},_handleDataLoadedCore:function(t){return this._grouping.handleDataLoadedCore(t,n.proxy(this.callBase,this))}}}(),h,e,c;i.GroupingHelper=v.inherit(function(){var t=function(n,t){var i=n.hash;return i&&i[t]},i=function(n,t){for(var i=0;i<n.length;i++)if(n[i].offset>t)break;return i},r=function(n,t){for(var r,e,f,u=0;u<n.length;u++)if(r=n[u],r.data&&r.data.offset!==r.offset){for(n.splice(u,1),r.offset=r.data.offset,f=0;f<t.length;f++)t[f].offset=r.offset;e=i(n,r.offset),n.splice(e,0,r),e>u&&u--}},f=function(n,t,i){for(var r=0;r<n.length;r++)t+1>=i?n[r].children=[]:f(n[r].children,t+1,i)};return{ctor:function(n){this._dataSource=n,this.reset()},reset:function(){this._groupsInfo=[],this._totalCountCorrection=0,this._itemsCount=0},totalCountCorrection:function(){return this._totalCountCorrection},updateTotalItemsCount:function(n){this._totalCountCorrection=n||0},_isGroupItemCountable:function(n){return!this._isVirtualPaging()||!n.isContinuation},_isVirtualPaging:function(){var n=this._dataSource.option("scrolling.mode");return n==="virtual"||n==="infinite"},itemsCount:function(){return this._itemsCount},updateItemsCount:function(n,t){function i(n,t,r){var u,f=0;if(t)if(r)for(u=0;u<t.length;u++)n._isGroupItemCountable(t[u])&&f++,f+=i(n,t[u].items,r-1);else f=t.length;return f}this._itemsCount=i(this,n,t)},foreachGroups:function(t,i,u,f){function e(t,i,o,s){function a(n,t,i,r){var u=t&&n(t,i);return r.push(u),u}for(var l,c=[],v,h=0;h<t.length;h++){if((s.push(t[h].data),!o&&a(i,t[h].data,s,c)===!1)||(!t[h].data||t[h].data.isExpanded||u)&&(l=e(t[h].children,i,o,s),c.push(l),l===!1)||o&&a(i,t[h].data,s,c)===!1)return!1;t[h].data&&t[h].data.offset===t[h].offset||(f=!0),s.pop()}return v=s.slice(0),f&&n.when.apply(n,c).always(function(){r(t,v)})}var o=this;return e(o._groupsInfo,t,i,[])},findGroupInfo:function(n){for(var f=this,i,u=f._groupsInfo,r=0;u&&r<n.length;r++)i=t(u,n[r]),u=i&&i.children;return i&&i.data},addGroupInfo:function(n){for(var h=this,s,u,o=n.path,f=h._groupsInfo,e=0;e<o.length;e++)u=t(f,o[e]),u||(u={key:o[e],offset:n.offset,data:{offset:n.offset,isExpanded:!0,path:o.slice(0,e+1)},children:[]},s=i(f,n.offset),f.splice(s,0,u),f.hash=f.hash||{},f.hash[u.key]=u),e===o.length-1&&(u.data=n,u.offset!==n.offset&&r(f)),f=u.children},allowCollapseAll:function(){return!0},refresh:function(n){var i=this,t,e=u(i._group||[]),o=u(n.group||[]),r=Math.min(e.length,o.length);for(i._group=n.group,t=0;t<r;t++)if(e[t].selector!==o[t].selector){r=t;break}r?f(i._groupsInfo,0,r):i.reset()},handleDataLoading:function(n,t){t(n)},handleDataLoaded:function(n,t){t(n)},handleDataLoadedCore:function(n,t){t(n)}}}()),i.DataSourceAdapter=i.DataSourceAdapter.inherit(k),h=function(){return{init:function(){var n=this;n.callBase(),n.createAction("onRowExpanding"),n.createAction("onRowExpanded"),n.createAction("onRowCollapsing"),n.createAction("onRowCollapsed")},_processItems:function(n,t){var i=this._columnsController.getGroupColumns();return n.length&&i.length&&(n=this._processGroupItems(n,i.length)),this.callBase(n,t)},_processItem:function(n,t){return r.isDefined(n.groupIndex)&&r.isString(n.rowType)&&n.rowType.indexOf("group")===0?(n=this._processGroupItem(n,t),t.dataIndex=0):n=this.callBase.apply(this,arguments),n},_processGroupItem:function(n){return n},_processGroupItems:function(n,t,i){var s=this,o,e,u,f,r;if(i||(o=s.option("scrolling.mode"),i={collectContinuationItems:o!=="virtual"&&o!=="infinite",resultItems:[],path:[]}),f=i.resultItems,r=i.path,i.data&&(i.collectContinuationItems||!i.data.isContinuation)&&f.push({rowType:"group",data:i.data,groupIndex:r.length-1,isExpanded:!!i.data.items,key:r,values:r}),n)if(t===0)f.push.apply(f,n);else for(e=0;e<n.length;e++)u=n[e],u&&(i.data=u,i.path=r.concat(u.key),s._processGroupItems(u.items,t-1,i),i.data=undefined,i.path=r);return f},publicMethods:function(){return this.callBase().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])},collapseAll:function(n){var t=this._dataSource;t&&t.collapseAll(n)&&(t.pageIndex(0),t.reload(!0))},expandAll:function(n){var t=this._dataSource;t&&t.expandAll(n)&&(t.pageIndex(0),t.reload(!0))},changeRowExpand:function(t){var i=this,r=i.isRowExpanded(t),u={key:t,expanded:r};return i.executeAction(r?"onRowCollapsing":"onRowExpanding",u),u.cancel?void 0:n.when(i._changeRowExpandCore(t)).done(function(){u.expanded=!r,i.executeAction(r?"onRowCollapsed":"onRowExpanded",u)})},_changeRowExpandCore:function(t){var u=this,r=this._dataSource,i;if(r)return i=n.Deferred(),n.when(r.changeRowExpand(t)).done(function(){u.load().done(i.resolve).fail(i.reject)}).fail(i.reject),i},isRowExpanded:function(n){var t=this._dataSource;return t&&t.isRowExpanded(n)},expandRow:function(n){this.isRowExpanded(n)||this.changeRowExpand(n)},collapseRow:function(n){this.isRowExpanded(n)&&this.changeRowExpand(n)},optionChanged:function(n){n.name==="grouping"&&(n.name="dataSource"),this.callBase(n)}}}(),e=function(){return{_renderGroupPanel:function(){var i=this,u=i.element(),r=i.option("groupPanel"),t,e=i.getController("columns").getGroupColumns();t=u.find("."+f),r&&r.visible?(t.length?t.show():t=n("<div />").addClass(f).prependTo(u),i._renderGroupPanelItems(t,e),r.allowColumnDragging&&!e.length&&n("<div />").addClass(y).text(r.emptyPanelText).appendTo(t)):t.hide()},_renderGroupPanelItems:function(t,i){var r=this;t.empty(),n.each(i,function(n,i){r._createGroupPanelItem(t,i)})},_createGroupPanelItem:function(t,i){return n("<div />").addClass(i.cssClass).addClass(o).appendTo(t).text(i.caption)},_renderCore:function(){this.callBase.apply(this,arguments),this._renderGroupPanel()},allowDragging:function(n){var t=this.option("groupPanel");return t&&t.visible&&t.allowColumnDragging&&n&&n.allowGrouping},getColumnElements:function(){var n=this.element();return n&&n.find("."+o)},getColumns:function(){return this.getController("columns").getGroupColumns()},getBoundingRect:function(){var i=this,n=i.element(),t;return n&&n.find("."+f).length?(t=n.offset(),{top:t.top,bottom:t.top+n.height()}):null},getName:function(){return"group"},isVisible:function(){return this.callBase()||this.option("groupPanel.visible")},optionChanged:function(n){n.name==="groupPanel"?(this._renderGroupPanel(),n.handled=!0):this.callBase(n)}}}(),i.GroupingHeaderPanelExtender=e,c=function(){return{_rowClick:function(t){var i=this,r=i.getController("data"),f=n(t.jQueryEvent.target).closest("."+s),u;f.length&&(u=r.getKeyByRowIndex(t.rowIndex),r.changeRowExpand(u),t.jQueryEvent.preventDefault(),t.handled=!0),i.callBase(t)},_getDefaultTemplate:function(t){var i=this;return t.command==="expand"?function(t,u){!r.isDefined(u.value)||u.data&&u.data.isContinuation||u.row.inserted||(t.addClass(s).addClass(b),n("<div>").addClass(u.value?p:w).appendTo(t),i.setAria("label",u.value?i.localize("dxDataGrid-ariaCollapse"):i.localize("dxDataGrid-ariaExpand"),t))}:i.callBase(t)}}}(),i.registerModule("grouping",{defaultOptions:function(){return{grouping:{autoExpandAll:!0,allowCollapsing:!0,groupContinuesMessage:Globalize.localize("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:Globalize.localize("dxDataGrid-groupContinuedMessage")},groupPanel:{visible:!1,emptyPanelText:Globalize.localize("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}},extenders:{controllers:{data:h},views:{headerPanel:e,rowsView:c}}})}(jQuery,DevExpress),function(n,t){var u=t.data.utils,i=t.ui.dxDataGrid,r=i.normalizeSortingInfo,e=u.keysEqual,f=function(t,i){var r=n.Deferred(),u=n.extend({skip:0,take:1,requireTotalCount:!0},i);return t.load(u).done(function(u,f){f&&isFinite(f.totalCount)?r.resolve(f.totalCount):t.totalCount(i).done(n.proxy(r.resolve,r)).fail(n.proxy(r.reject,r))}).fail(n.proxy(r.reject,r)),r};i.ExpandedGroupingHelper=i.GroupingHelper.inherit(function(){var o=function(n,t,i){return n.foreachGroups(function(n){if(!n.isExpanded)return t(n)},!1,!1,i)},h=function(n,t){var i=0,r=t||0;return t&&(o(n,function(n){if(n.offset-i>=t)return!1;i+=n.count-1}),r+=i),r},c=function(n,t,i,r,u,f){for(var e,s,o=0,h=!1,a,l=0;l<t.length;l++)e=t[l],e.items!==undefined?(i.push(e.key),a=n.findGroupInfo(i),a&&!a.isExpanded?(e.collapsedItems=e.items,e.items=null,r+=a.count,f--,f<0&&o++,u&&(h=!0)):e.items&&(s=c(n,e.items,i,r,u,f),u&&(s.offset-r>1?e.isContinuation=!0:h=!0),r=s.offset,f=s.take,f<0&&(e.items.length?e.isContinuationOnNextPage=!0:o++)),i.pop()):(u&&(h=!0),r++,f--,f<0&&o++),u=!1;return h&&t.splice(0,1),o&&t.splice(-o,o),{offset:r,take:f}},a=function(n,t){var i;if(n.length!==t.length)return!1;for(i=0;i<n.length;i++)if(!e(null,n[i],t[i]))return!1;return!0},s=function(n,t,i,r,u){var o,f,e;if(t){for(o=0;o<t.length;o++)f=t[o],"key"in f&&f.items!==undefined?(i.push(f.key),u&&a(u.path,i)&&!f.isContinuation&&(u.offset=r),e=n.findGroupInfo(i),e&&!e.isExpanded?f.isContinuation||(e.offset=r,r+=e.count):r=s(n,f.items,i,r,u),i.pop()):r++;return r}},v=function(n,t){var i,f;t.group&&(i=r(t.group),f=r(n.sort),n.sort=u.arrangeSortingInfo(i,f),delete t.group)},l=i.createGroupFilter=function(n,t){for(var e=r(t.group),f=[],u=0;u<n.length;u++)f.push([e[u].selector,"=",n[u]]);return t.filter&&f.push(t.filter),i.combineFilters(f)},y=function(n,t,u){for(var h=r(u||t.group),f,s,o=[],e=0;e<n.length;e++){for(s=[],f=0;f<=e;f++)s.push([h[f].selector,e===f?"<>":"=",n[f]]);o.push(i.combineFilters(s))}return o=i.combineFilters(o,"or"),i.combineFilters([o,t.filter])},p=function(n,t){for(var s=r(t.group),u,o,e=[],f=0;f<n.length;f++){for(o=[],u=0;u<=f;u++)o.push([s[u].selector,f===u?s[u].desc?">":"<":"=",n[u]]);e.push(i.combineFilters(o))}return e=i.combineFilters(e,"or"),i.combineFilters([e,t.filter])};return{handleDataLoading:function(t,i){i(t);var c=this,u=t.storeLoadOptions,r,e=[],l=0,a=!1,p,f=t.loadOptions.group,s=0;(v(u,t.loadOptions),t.group=t.group||f,u.isLoadingAll)||(r=n.extend({},u),r.skip=h(c,u.skip),r.skip&&r.take&&f&&(r.skip--,r.take++,a=!0),r.take&&f&&(p=r.take,r.take++),o(c,function(n){if(n.offset>=r.skip+r.take+s)return!1;n.offset>=r.skip+s&&n.count&&(s+=n.count-1,e.push(n.path),l+=n.count)}),n.each(e,function(){r.filter=y(this,r,f)}),t.storeLoadOptions=r,t.collapsedPaths=e,t.collapsedItemsCount=l,t.skip=r.skip||0,t.skipFirstItem=a,t.take=p)},handleDataLoaded:function(n,i){function v(n,t,i){if(n&&t.length&&i.length){for(var f,e=u.toComparable(t[0],!0),r=0;r<n.length;r++)if(f=u.toComparable(n[r].key,!0),i[0].desc?e>=f:e<=f)break;n.length&&e===f||n.splice(r,0,{key:t[0],items:[]}),v(n[r].items,t.slice(1),i.slice(1))}}var h=this,f=n.data,e,l,o=n.collapsedPaths,s=r(n.group),a=s.length;if(i(n),a){if(l=t.data.query(f),t.data.utils.multiLevelGroup(l,s).enumerate().done(function(n){f=n}),o)for(e=0;e<o.length;e++)v(f,o[e],s);n.storeLoadOptions.isLoadingAll||(c(h,f,[],n.skip,n.skipFirstItem,n.take),h.updateItemsCount(f,a)),n.data=f,n.collapsedItemsCount&&n.extra&&n.extra.totalCount>=0&&(n.extra.totalCount+=n.collapsedItemsCount)}},updateTotalItemsCount:function(){var n=0;o(this,function(t){t.count&&(n-=t.count-1)}),this.callBase(n)},changeRowExpand:function(t){var u=this,r=u._dataSource,a=r.beginPageIndex?r.beginPageIndex():r.pageIndex(),o=r.items(),c=h(u,a*r.pageSize()),i=u.findGroupInfo(t),e;return e=i&&!i.isExpanded?n.Deferred().resolve(i.count):f(r.store(),{filter:l(t,{filter:r.filter(),group:r.group()})}),n.when(e).done(function(n){n=parseInt(n.length?n[0]:n),i?(s(u,o,[],c),i.isExpanded=!i.isExpanded,i.count=n):(i={offset:-1,count:n,path:t,isExpanded:!1},s(u,o,[],c,i),i.offset>=0&&u.addGroupInfo(i)),u.updateTotalItemsCount()}).fail(function(){r.fireEvent("loadError",arguments)})},allowCollapseAll:function(){return!1},refresh:function(t,i,r){var e=this,u=e._dataSource,s=u.store();return this.callBase.apply(this,arguments),i||r.reload?o(e,function(i){var r=f(s,{filter:l(i.path,t)}),o=f(s,{filter:p(i.path,t)});return u._changeLoadingCount(1),n.when(o,r).done(function(n,t){n=parseInt(n.length?n[0]:n),t=parseInt(t.length?t[0]:t),i.offset=n,i.count!==t&&(i.count=t,e.updateTotalItemsCount())}).fail(function(){u.fireEvent("loadError",arguments)}).always(function(){u._changeLoadingCount(-1)})},!0):void 0}}}())}(jQuery,DevExpress),function(n,t){var i=t.ui.dxDataGrid,r=i.normalizeSortingInfo;i.CollapsedGroupingHelper=i.GroupingHelper.inherit(function(){var u=function(n,t){return n.foreachGroups(function(n,i){if(n.isExpanded)return t(n,i)},!0)},o=function(n,t,i,r,u){var s,f,e;if(r.items=r.items||[],r.paths=r.paths||[],r.count=r.count||0,r.lastCount=r.lastCount||0,i)for(s=0;s<t.length;s++)f=t[s],f.items!==undefined&&(u.push(f.key),e=n.findGroupInfo(u),e&&e.isExpanded?f.items?o(n,f.items,i-1,r,u):e&&e.isExpanded&&i===1&&f.count&&(r.items.push(f),r.paths.push(u.slice(0)),r.count+=r.lastCount,r.lastCount=f.count):(f.collapsedItems=f.items,f.items=null),u.pop())},c=function(n,t,i,r){return s(n,t,0,i,[],r)},s=function(n,t,i,r,u,f){var e,c=0,o,h;if(i>=r)return t.length;for(o=0;o<t.length;o++)e=t[o],e&&(u.push(e.key),h=n.findGroupInfo(u),h?(h.count=e.count>0?e.count:e.items.length,h.offset=f+o):n.addGroupInfo({isExpanded:n._isGroupExpanded(i),path:u.slice(0),offset:f+o,count:e.count>0?e.count:e.items.length}),c+=e.items||!e.count?s(n,e.items,i+1,r,u,0):e.count,u.pop());return c},f=function(n,t){return n&&n.length&&n[t]&&!!n[t].isExpanded},h=function(n,t,i){for(var u,f=i,r=0;r<n.length;r++)u=n[r].offset+1,r>0&&(u+=n[r-1].childrenTotalCount,t&&(u+=e(f,t,u,r-1)*r)),f+=u;return f},e=function(n,t,i,r){if(r=r||0,t>1&&i>0){var u=n-Math.floor(n/t)*t||t;return u+=i-r-2,u<0&&(u+=t),Math.floor(u/(t-r-1))}return 0};return{updateTotalItemsCount:function(n){var t=0,f=n.extra&&n.extra.totalCount||0,o=n.extra&&n.extra.totalGroupCount||0,i=this._dataSource.pageSize(),r=this._isVirtualPaging();u(this,function(n){n.childrenTotalCount=0}),u(this,function(n,u){var o=h(u,r?0:i,t),f=n.count+n.childrenTotalCount;r||(f+=e(o,i,f,u.length-1)),u[u.length-2]?u[u.length-2].childrenTotalCount+=f:t+=f}),this.callBase(t-f+o)},_isGroupExpanded:function(n){var t=this._dataSource.group();return f(t,n)},_updatePagingOptions:function(n){var i=this,s=i._isVirtualPaging(),t=i._dataSource.pageSize(),c=[],r=[],f=0,o=0;n.take&&(u(this,function(n){n.childrenTotalCount=0,n.skipChildrenTotalCount=0}),u(i,function(i,u){var a,y,b=0,k=0,v=h(u,s?0:t,o),d=0,p=0,l=i.count+i.childrenTotalCount,w=l;a=n.skip-v,v<=n.skip+n.take&&l&&(y=n.take,s||(d=e(v,t,l,u.length-1),l+=d*u.length,w+=d,t&&a>=0&&(b=u.length,k=u.length-1,p=Math.floor(a/t))),a>=0?(v+l>n.skip&&c.unshift(a-p*b-i.skipChildrenTotalCount),v+l>=n.skip+y&&r.unshift(y-b-i.childrenTotalCount+i.skipChildrenTotalCount)):v+l>=n.skip+y&&r.unshift(y+a-i.childrenTotalCount)),v<=n.skip&&(u[u.length-2]?u[u.length-2].skipChildrenTotalCount+=Math.min(w,a+1-p*k):f+=Math.min(w,a+1)),v<=n.skip+y&&(l=Math.min(w,a+y-(p+1)*k),u[u.length-2]?u[u.length-2].childrenTotalCount+=l:o+=l)}),n.skip-=f,n.take-=o-f),n.skips=c,n.takes=r},changeRowExpand:function(t){var r=this,i=r.findGroupInfo(t);return i?(i.isExpanded=!i.isExpanded,n.Deferred().resolve()):n.Deferred().reject()},handleDataLoadedCore:function(u,f){var h=this,s=r(u.storeLoadOptions.group||u.loadOptions.group).length,y,e,v,l,a;if(u.storeLoadOptions.isLoadingAll){f(u);return}y=c(h,u.data,s,0),u.remoteOperations.paging||s&&u.extra&&(u.extra.totalCount=y,u.extra.totalGroupCount=u.data.length),h.updateTotalItemsCount(u),h._updatePagingOptions(u),f(u),h._processPaging(u,s),e={},o(h,u.data,s,e,[]),e.skip=u.skips[s-1],u.takes[s-1]!==undefined&&(e.take=e.count?e.count-(e.skip||0):0,e.take+=u.takes[s-1]),v=u.data,e.paths.length&&u.storeLoadOptions.group&&(l=[],n.each(e.paths,function(n,t){l.push(i.createGroupFilter(t,{group:u.storeLoadOptions.group}))}),a=i.combineFilters(l,"or"),a=i.combineFilters([u.storeLoadOptions.filter,a]),u.data=n.Deferred(),n.when(e.take===0?[]:h._dataSource.store().load({filter:a,sort:u.storeLoadOptions.sort,skip:e.skip,take:e.take})).done(function(i){n.each(e.items,function(n,r){t.data.query(i).filter(l[n]).enumerate().done(function(n){r.items=n})}),u.data.resolve(v)}).fail(u.data.reject)),h.updateItemsCount(v,s)},_processPaging:function(n,t){var f,e,u,r,i,o;for(f=n.skips,e=n.takes,i=n.data,u=0;i&&u<t;u++)r=i[0],i=r&&r.items,f[u]!==undefined&&(r.isContinuation=!0,i&&(i=i.slice(f[u]),r.items=i));for(i=n.data,u=0;i&&u<t;u++)r=i[i.length-1],i=r&&r.items,r&&(o=r.count-(r.isContinuation&&f[u]||0)||i.length,e[u]!==undefined&&o>e[u]&&(r.isContinuationOnNextPage=!0,i&&(i=i.slice(0,e[u]),r.items=i)))},refresh:function(n){function o(n,i){i.length===t+1&&(n.isExpanded=u)}for(var i=this,e=r(i._group),u,t=0;t<e.length;t++)u=f(n.group,t),f(i._group,t)!==u&&i.foreachGroups(o);i.callBase.apply(this,arguments),i.foreachGroups(function(n){n.count=0})}}}())}(jQuery,DevExpress),function(n,t){var f=t.ui,i=f.dxDataGrid,r=t.require("/utils/utils.common"),u="dx-master-detail-cell",e="dx-master-detail-row",o="dx-row-lines";i.registerModule("masterDetail",{defaultOptions:function(){return{masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}},extenders:{controllers:{editorFactory:{focus:function(n,t){if(n&&n.hasClass(u))this.loseFocus();else return this.callBase(n,t)}},columns:{_getExpandColumnsCore:function(){var n=this.callBase();return this.option("masterDetail.enabled")&&n.push({}),n}},data:function(){var t=function(n){n._expandedItems=[],n._isExpandAll=n.option("masterDetail.autoExpandAll")};return{init:function(){var n=this;t(n),n.callBase()},expandAll:function(n){var t=this;n<0?(t._isExpandAll=!0,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},collapseAll:function(n){var t=this;n<0?(t._isExpandAll=!1,t._expandedItems=[],t.updateItems()):t.callBase.apply(t,arguments)},isRowExpanded:function(n){var t=this,u=i.getIndexByKey(n,t._expandedItems);return r.isArray(n)?t.callBase.apply(t,arguments):!!(t._isExpandAll^(u>=0&&t._expandedItems[u].visible))},_changeRowExpandCore:function(n){var t=this,u,f,e;if(r.isArray(n))return t.callBase.apply(t,arguments);u=i.getIndexByKey(n,t._expandedItems),u>=0?(e=t._expandedItems[u].visible,t._expandedItems[u].visible=!e):t._expandedItems.push({key:n,visible:!0}),f=t.getRowIndexByKey(n),t.updateItems({changeType:"update",rowIndices:[f,f+1]})},_processDataItem:function(t,i){var f=this,u=f.callBase.apply(f,arguments);return u.isExpanded=f.isRowExpanded(u.key),i.detailColumnIndex===undefined&&(i.detailColumnIndex=-1,n.each(i.visibleColumns,function(n,t){if(t.command==="expand"&&!r.isDefined(t.groupIndex))return i.detailColumnIndex=n,!1})),i.detailColumnIndex>=0&&(u.values[i.detailColumnIndex]=u.isExpanded),u},_processItems:function(t,r){var u=this,e,f=[];return(t=u.callBase.apply(u,arguments),this._isLoadingAll)?t:(r==="refresh"&&(u._expandedItems=n.grep(u._expandedItems,function(n){return n.visible})),n.each(t,function(n,t){f.push(t),e=i.getIndexByKey(t.key,u._expandedItems),t.rowType==="data"&&(t.isExpanded||e>=0)&&!t.inserted&&f.push({visible:t.isExpanded,rowType:"detail",key:t.key,data:t.data,values:[]})}),f)},optionChanged:function(n){var e=this,i,r,u,f;if(n.name==="masterDetail"){n.name="dataSource";switch(n.fullName){case"masterDetail":i=n.value||{},r=n.previousValue||{},u=i.enabled!==r.enabled,f=i.autoExpandAll!==r.autoExpandAll;break;case"masterDetail.enabled":u=!0;break;case"masterDetail.autoExpandAll":f=!0}(u||f)&&t(e)}e.callBase(n)},refresh:function(){var n=this;return t(n),n.callBase.apply(n,arguments)}}}()},views:{rowsView:function(){return{_getColumnTemplate:function(n){var t=this,r=n.column,i;return i=r.command==="detail"?t.option("masterDetail.template")||t._getDefaultTemplate(r):t.callBase.apply(t,arguments)},_createRow:function(n){var t=this.callBase(n);return n&&n.rowType==="detail"&&(this.option("showRowLines")&&t.addClass(o),t.addClass(e).toggle(n.visible)),t},_getGroupCellOptions:function(n){var t=n.row,u=this._columnsController.getGroupColumns(),i=u.length+n.columnsCountBeforeGroups,r=i+Number(this.option("masterDetail.enabled"));return t&&t.rowType==="detail"?{columnIndex:i,emptyCellsCount:r,colspan:n.columns.length-r}:this.callBase(n)},_renderCells:function(n,t){var i=t.row,e,r,f;if(i.rowType==="detail"){for(r=this._getGroupCellOptions(t),f=0;f<r.emptyCellsCount;f++)this._renderCell(n,{value:null,row:i,rowIndex:i.rowIndex,column:t.columns[f]});e=this._renderCell(n,{value:null,row:i,rowIndex:i.rowIndex,column:{command:"detail"},columnIndex:r.columnIndex}),e.addClass(u).attr("colspan",r.colspan)}else this.callBase.apply(this,arguments)}}}()}}})}(jQuery,DevExpress),function(n,t){var s=t.ui.dxDataGrid,ft=t.require("/ui/events/ui.events.utils"),w=ft.addNamespace,et=t.require("/utils/utils.object"),v=t.require("/utils/utils.common"),ot=t.require("/ui/ui.dialog"),p=t.require("/ui/widgets/ui.button"),b=DevExpress.require("/ui/ui.errors"),e=s.getIndexByKey,st="dx-link",k="dx-editor-cell",d="dx-selection",g="dx-edit-row",ht="dx-datagrid-edit-form",nt="dx-edit-button",y="__DX_INSERT_INDEX__",tt="dx-row",ct="dx-row-removed",lt="dx-row-inserted",at="dx-row-modified",it="dx-cell-modified",rt="dx-highlight-outline",vt="dxDataGridEditing",yt="dx-datagrid-focus-overlay",pt="dx-datagrid-readonly",wt="dx-data-row",bt="dx-checkbox",kt="dx-editor-inline-block",ut="dx-cell-focus-disabled",r="batch",h="row",o="cell",c="form",u="insert",l="update",a="remove",dt="dx-pointer-events-none",gt="dx-pointer-events-target",i=function(n){var t=n.option("editing.mode");return t===r||t===o||t===c?t:h},f=function(n){var t=i(n);return t===h||t===c};s.EditingController=s.ViewController.inherit(function(){var s=function(t){return function(i,r){var u=n("<div/>").appendTo(i);t.getController("editorFactory").createEditor(u,n.extend({},r.column,{value:r.value,setValue:r.setValue,row:r.row,parentType:"dataRow",width:null,readOnly:!r.setValue}))}};return{init:function(){var t=this;if(t._insertIndex=1,t._editRowIndex=-1,t._editData=[],t._editColumnIndex=-1,t._columnsController=t.getController("columns"),t._dataController=t.getController("data"),t._dataChangedHandler||(t._dataChangedHandler=n.proxy(t._handleDataChanged,t),t._dataController.changed.add(t._dataChangedHandler)),!t._saveEditorHandler){t.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),t.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),t.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),t._saveEditorHandler=t.createAction(function(i){var r=i.jQueryEvent,o,h,c,l,u,a,e,s,v;f(t)||!t.isEditing()||t._editCellInProgress||(h=n(r.target).closest(".dx-dropdowneditor-overlay").length,c=n(r.target).closest(document).length,l=n(r.target).hasClass(yt),s=n(r.target).closest("."+wt).length,o=t._columnsController.getVisibleColumns(),u=n(r.target).closest("."+tt+"> td"),e=u[0]&&u[0].cellIndex,v=t.getView("rowsView").getRowIndex(u.parent()),a=o[e]&&o[e].allowEditing,s&&(!s||a||t.isEditCell(v,e))||h||l||!c||t.closeEditCell())});n(document).on("dxclick",t._saveEditorHandler)}t._updateEditColumn(),t._updateEditButtons()},_handleDataChanged:function(t){this.option("scrolling.mode")==="standard"&&this.resetRowAndPageIndeces(),t.changeType==="prepend"&&n.each(this._editData,function(n,i){i.rowIndex+=t.items.length,i.type===u&&(i.key.rowIndex+=t.items.length)})},getEditMode:function(){return i(this)},getFirstEditableColumnIndex:function(){var i=this.getController("columns"),r=i.getVisibleColumns(),t;return n.each(r,function(n,i){if(i.allowEditing)return t=n,!1}),t},getFirstEditableCellInRow:function(n){return this.getView("rowsView").getCellElement(n?n:0,this.getFirstEditableColumnIndex())},getFocusedCellInRow:function(n){return this.getFirstEditableCellInRow(n)},getIndexByKey:function(n,t){return e(n,t)},hasChanges:function(){for(var t=this,i=!1,n=0;n<t._editData.length;n++)if(t._editData[n].type){i=!0;break}return i},dispose:function(){this.callBase(),n(document).off("dxclick",this._saveEditorHandler)},optionChanged:function(n){n.name==="editing"?(this.init(),n.handled=!0):this.callBase(n)},publicMethods:function(){return["insertRow","addRow","removeRow","deleteRow","undeleteRow","editRow","editCell","closeEditCell","saveEditData","cancelEditData","hasEditData"]},refresh:function(){i(this)!==r?this.init():(this._editRowIndex=-1,this._editColumnIndex=-1)},isEditing:function(){return this._editRowIndex>-1},isEditRow:function(n){return(i(this)===h||i(this)===c)&&this._editRowIndex===n},getEditFormRowIndex:function(){return i(this)===c?this._editRowIndex:-1},isEditCell:function(n,t){return this._editRowIndex===n&&this._editColumnIndex===t},_needInsertItem:function(n,t){var u=this,i=u._dataController.dataSource(),o=u.option("scrolling.mode"),r=i.pageIndex(),f=i.beginPageIndex?i.beginPageIndex():r,e=i.endPageIndex?i.endPageIndex():r;if(o!=="standard")switch(t){case"append":return n.key.pageIndex===e;case"prepend":return n.key.pageIndex===f;case"refresh":n.key.rowIndex=0,n.key.pageIndex=0;break;default:return n.key.pageIndex>=f&&n.key.pageIndex<=e}return n.key.pageIndex===r},processItems:function(n,t){var e=this,i,r,o,f=e._editData;for(e.update(),i=0;i<f.length;i++)r=f[i].key,o={key:r},f[i].type===u&&e._needInsertItem(f[i],t)&&(o[y]=r[y],n.splice(r.rowIndex,0,o));return n},processDataItem:function(t,f,o){var h=this,c,v,s,p=t.data[y]?t.data.key:t.key,w;if(c=e(p,h._editData),c>=0){w=i(h),v=h._editData[c],s=v.data;switch(v.type){case u:t.inserted=!0,t.key=p,t.data=s;break;case l:t.modified=!0,t.data=n.extend(!0,{},t.data,s),t.modifiedValues=o(s,f);break;case a:w===r&&(t.data=n.extend(!0,{},t.data,s)),t.removed=!0}}},insertRow:function(){return b.log("W0002","dxDataGrid","insertRow","15.2","Use the 'addRow' method instead"),this.addRow()},addRow:function(){var n=this,s=n._dataController,h=s.store(),v=h&&h.key(),c=n.getView("rowsView"),e={data:{}},f={pageIndex:s.pageIndex(),rowIndex:c?c.getTopVisibleItemIndex():0},p=n._editRowIndex,l=i(n),a;if(l===o&&n.hasChanges()&&n.saveEditData(),n.refresh(),l!==r){if(n._insertIndex>1)return;n._editRowIndex=f.rowIndex}v||(e.data.__KEY__=String(new t.data.Guid)),n.executeAction("onInitNewRow",e),f[y]=n._insertIndex++,n._addEditData({key:f,data:e.data,type:u}),s.updateItems({changeType:"update",rowIndices:[p,f.rowIndex]}),a=n.getFirstEditableCellInRow(f.rowIndex),n._delayedInputFocus(a,function(){var t=n.getFirstEditableCellInRow(f.rowIndex);t&&t.trigger("dxclick")}),n._afterInsertRow({key:f,data:e.data})},_isEditingStart:function(n){return this.executeAction("onEditingStart",n),n.cancel},_beforeEditCell:function(n,t,r){if(i(this)===o&&!r.inserted&&this.hasChanges()&&(this.saveEditData(),this.hasChanges()))return!0},editRow:function(n){var t=this,f=t._dataController,e=f.items(),r=e[n],o={data:r.data,cancel:!1},s=t._editRowIndex,u;if(n===s)return!0;(r.inserted||(o.key=r.key),t._isEditingStart(o))||(t.init(),t._pageIndex=f.pageIndex(),t._editRowIndex=e[0].inserted?n-1:n,t._addEditData({data:{},key:r.key,oldData:r.data}),f.updateItems({changeType:"update",rowIndices:[s,n]}),(i(t)===h||i(t)===c)&&(u=t.getFocusedCellInRow(t._editRowIndex),t._delayedInputFocus(u,function(){u&&t.component.focus(u)})))},editCell:function(n,t){var i=this,e=i._columnsController,o=i._dataController,l=o.items(),r=l[n],u={data:r&&r.data,cancel:!1},a=i._editRowIndex,s=i._editColumnIndex,h=e.getVisibleColumns(),c;return(v.isString(t)&&(t=e.columnOption(t,"index"),t=e.getVisibleIndex(t)),u.column=e.getVisibleColumns()[t],c=u.column&&u.column.showEditorAlways,u.column&&r&&r.rowType==="data"&&!r.removed&&!f(i))?this.isEditCell(n,t)?!0:i._beforeEditCell(n,t,r)?!0:(r.inserted||(u.key=r.key),i._isEditingStart(u))?!0:(i._editRowIndex=n,i._editColumnIndex=t,i._pageIndex=o.pageIndex(),i._addEditData({data:{},key:r.key,oldData:r.data}),c&&(!h[s]||h[s].showEditorAlways)||(i._editCellInProgress=!0,i.getController("editorFactory").loseFocus(),o.updateItems({changeType:"update",rowIndices:[a,i._editRowIndex]})),i._focusEditingCell(function(){i._editCellInProgress=!1}),!0):!1},_delayedInputFocus:function(n,t){setTimeout(function(){t&&t(),n.find("[tabindex], input").first().focus()})},_focusEditingCell:function(n){var t=this,i=t.getView("rowsView").getCellElement(t._editRowIndex,t._editColumnIndex);t._delayedInputFocus(i,n)},removeRow:function(n){return b.log("W0002","dxDataGrid","removeRow","15.2","Use the 'deleteRow' method instead"),this.deleteRow(n)},deleteRow:function(n){var t=this,i=t.option("editing"),f=i&&i.texts,s=f&&f.confirmDeleteTitle,c=i&&i.mode===r,l=f&&f.confirmDeleteMessage,y=t._dataController,h,p,b=t._editRowIndex,o=y.items()[n],w=o&&o.key;o&&(h=function(i){t.refresh();var r=e(i,t._editData);r>=0?t._editData[r].type===u?t._editData.splice(r,1):t._editData[r].type=a:t._addEditData({key:i,oldData:o.data,type:a}),c?y.updateItems({changeType:"update",rowIndices:[b,n]}):t.saveEditData()},c||!l?h(w):(p=v.isDefined(s)&&s.length>0,ot.confirm(l,s,p).done(function(n){n&&h(w)})))},undeleteRow:function(t){var i=this,o=i._dataController,u=o.items()[t],s=i._editRowIndex,h=u&&u.key,r,f;u&&(r=e(h,i._editData),r>=0&&(f=i._editData[r],n.isEmptyObject(f.data)?i._editData.splice(r,1):f.type=l,o.updateItems({changeType:"update",rowIndices:[s,t]})))},_saveEditDataCore:function(t,i){function e(t,i,u){function e(n){return function(t){var i=t instanceof Error?t:new Error(t&&String(t)||"Unknown error");n.reject(i)}}var f=n.Deferred();return r.executeAction(t,i),n.when(i.cancel).done(function(n){n?f.resolve("cancel"):u(i).done(f.resolve).fail(e(f))}).fail(e(f)),f}var r=this,f=r._dataController.store(),o=!1;return n.each(r._editData,function(o,s){var p=s.data,w=s.oldData,c=s.key,b=s.type,v,y,h;if(!r._beforeSaveEditData(s,o)){switch(b){case a:h={data:w,key:c,cancel:!1},v=e("onRowRemoving",h,function(){return f.remove(c)});break;case u:h={data:p,cancel:!1},v=e("onRowInserting",h,function(){return f.insert(h.data)});break;case l:h={newData:p,oldData:w,key:c,cancel:!1},v=e("onRowUpdating",h,function(){return f.update(c,h.newData)})}v&&(y=n.Deferred(),v.always(function(){i.push(c)}).always(y.resolve),t.push(y.promise()))}}),o},_processSaveEditDataResult:function(n,t){for(var u=this,c=u._dataController,f,s,h,l=i(u),o=0;o<n.length;o++)if(f=n[o],s=e(t[o],u._editData),u._editData[s])if(h=f&&f instanceof Error,h){if(u._editData[s].error=f,c.dataErrorOccurred.fire(f),l!==r)return!1}else if(f!=="cancel")u._editData.splice(s,1);else return!1;return!0},_fireSaveEditDataEvents:function(t){var i=this;n.each(t,function(t,r){var e=r.data,o=r.key,s=r.type,f={key:o,data:e};r.error&&(f.error=r.error);switch(s){case a:i.executeAction("onRowRemoved",n.extend({},f,{data:r.oldData}));break;case u:i.executeAction("onRowInserted",f);break;case l:i.executeAction("onRowUpdated",f)}})},saveEditData:function(){var t=this,s=[],e=[],h=t._dataController,c=t._editRowIndex,v=n.extend({},t._editData),l=i(t),u=n.Deferred(),a=function(n){n._editColumnIndex=-1,n._editRowIndex=-1};if(t._beforeSaveEditData()){t._afterSaveEditData();return}return(t._saveEditDataCore(e,s),e.length)?(n.when.apply(n,e).done(function(){t._processSaveEditDataResult(arguments,s)&&(a(t),n.when(h.refresh()).always(function(){t._fireSaveEditDataEvents(v),t._afterSaveEditData(),u.resolve()}))}).fail(u.resolve),u.promise()):(f(t)?t.hasChanges()||t.cancelEditData():l===r||l===o?(a(t),h.updateItems(c>=0&&{changeType:"update",rowIndices:[c]})):t._focusEditingCell(),t._afterSaveEditData(),u.resolve().promise())},_updateEditColumn:function(){var n=this,t=n.option("editing"),i=t&&((t.allowUpdating||t.allowAdding)&&f(n)||t.allowDeleting);n._columnsController.addCommandColumn({command:"edit",visible:i,cssClass:"dx-command-edit",width:"auto"}),n._columnsController.columnOption("command:edit","visible",i)},_updateEditButtons:function(){var n=this,t=n._saveChangesButton,i=n._cancelChangesButton,r=n.hasChanges();t&&t.option("disabled",!r),i&&i.option("disabled",!r)},cancelEditData:function(){var n=this,t=n._dataController;n._beforeCancelEditData(),n.init(),t.updateItems()},hasEditData:function(){return this.hasChanges()},closeEditCell:function(){var n=this,r=i(n),t=n._editRowIndex,u=n._dataController;f(n)||setTimeout(function(){r===o&&n.hasChanges()?n.saveEditData():t>=0&&(n._editRowIndex=-1,n._editColumnIndex=-1,u.updateItems({changeType:"update",rowIndices:[t]}))})},update:function(){var n=this,t=n._dataController;t&&n._pageIndex!==t.pageIndex()&&(n.refresh(),n._pageIndex=t.pageIndex()),n._updateEditButtons()},updateFieldValue:function(n,t,u){var f=this,e={},s=n.key,h=n.cellElement,a=i(f),c;s!==undefined&&n.column.setCellValue&&(a===r&&h&&h.addClass(it),n.value=t,n.column.setCellValue(e,t,u),u&&n.column.displayValueMap&&(n.column.displayValueMap[t]=u),c={data:e,key:s,oldData:n.data,type:l},f._addEditData(c),f._updateEditButtons(),n.column.showEditorAlways&&i(f)===o&&n.row&&!n.row.inserted?f.saveEditData().always(function(){f._editColumnIndex=n.columnIndex,f._editRowIndex=n.row.rowIndex,f._focusEditingCell()}):n.row&&(u!==undefined||n.column.setCellValue!==n.column.defaultSetCellValue)&&f._dataController.updateItems({changeType:"update",rowIndices:[n.row.rowIndex]}))},_addEditData:function(n){var t=this,i=e(n.key,t._editData);return i<0&&(i=t._editData.length,t._editData.push(n)),t._editData[i]&&(n.type=t._editData[i].type||n.type,et.deepExtendArraySafe(t._editData[i],{data:n.data,type:n.type})),i},_formEditorPrepared:function(){},getFormEditorTemplate:function(t,i,r){var u=this;return function(f,e){var o=n.extend({},t,{value:i.calculateCellValue(t.data),column:n.extend({},i,{editorOptions:r.editorOptions}),columnIndex:i.index,setValue:i.allowEditing&&function(n){u.updateFieldValue(o,n)}}),h=i.editCellTemplate||s(u);h(e,o),u._formEditorPrepared(o,e)}},getEditFormTemplate:function(){var i=this;return function(t,r){var s=i.option("editing.form"),u=i.option("editing.form.items"),e=i.option("editing.form.customizeItem"),o,f;u||(o=i.getController("columns").getColumns(),u=[],n.each(o,function(n,t){u.push({column:t,name:t.name,dataField:t.dataField})})),i._createComponent(n("<div>").appendTo(t),"dxForm",n.extend({},s,{items:u,customizeItem:function(t){var u=t.column||i._columnsController.columnOption(t.name||t.dataField);u&&(t.label=t.label||{},t.label.text=t.label.text||u.caption,t.template=t.template||i.getFormEditorTemplate(r,u,t),t.column=u,u.formItem&&n.extend(t,u.formItem)),e&&e.call(this,t)}})),f=n("<div>").addClass("dx-datagrid-form-buttons-container").appendTo(t),i._createComponent(n("<div>").appendTo(f),p,{text:i.option("editing.texts.cancelRowChanges"),onClick:n.proxy(i.cancelEditData,i)}),i._createComponent(n("<div>").appendTo(f),p,{text:i.option("editing.texts.saveRowChanges"),onClick:n.proxy(i.saveEditData,i)})}},getColumnTemplate:function(t){var i=this,r=t.column,a=t.row&&t.row.rowIndex,e,o,u,y,h=f(i),c=i.isEditRow(a),p=i.isEditCell(a,t.columnIndex),l;return(r.showEditorAlways||r.setCellValue&&(c&&r.allowEditing||p))&&t.rowType==="data"&&!v.isDefined(r.command)?(y=i.option("editing.allowUpdating"),((y||c)&&r.allowEditing||p)&&(h&&c||!h)&&(r.showEditorAlways&&(l={cancel:!1,key:t.row.key,data:t.row.data,column:r},i._isEditingStart(l)),l&&l.cancel||(t.setValue=function(n,r){i.updateFieldValue(t,n,r)})),e=r.editCellTemplate||s(i)):r.command==="edit"&&t.rowType==="data"?e=function(t,r){var f=function(t,r,u,f){var e=n("<a />").addClass(st).text(r).on(w("dxclick",vt),i.createAction(function(n){var t=n.jQueryEvent;t.stopPropagation(),setTimeout(function(){f.row&&i[u](f.row.rowIndex)})}));f.rtlEnabled?t.prepend(e,"&nbsp;"):t.append(e,"&nbsp;")};t.css("text-align","center"),r.rtlEnabled=i.option("rtlEnabled"),o=i.option("editing")||{},u=o.texts||{},r.row&&r.row.rowIndex===i._editRowIndex&&h?(f(t,u.saveRowChanges,"saveEditData",r),f(t,u.cancelRowChanges,"cancelEditData",r)):(o.allowUpdating&&h&&f(t,u.editRow,"editRow",r),o.allowDeleting&&(r.row.removed?f(t,u.undeleteRow,"undeleteRow",r):f(t,u.deleteRow,"deleteRow",r)))}:r.command==="detail"&&t.rowType==="detail"&&c&&(e=i.getEditFormTemplate(t)),e},renderEditButtons:function(t){var u=this,s=t.find("."+nt),f=u.option("editing")||{},e=u.option("editing.texts")||{},h={cancel:e.cancelAllChanges,save:e.saveAllChanges,addrow:e.addRow},o=function(t,i,r){return u._createComponent(n("<div />").addClass(nt).addClass("dx-datagrid-"+i+"-button").appendTo(t),p,{icon:"edit-button-"+i,onClick:function(n){var t=n.jQueryEvent;t.stopPropagation(),u[r]()},hint:h&&h[i]})};s.length&&s.remove(),(f.allowUpdating||f.allowAdding||f.allowDeleting)&&i(u)===r&&(u._cancelChangesButton=o(t,"cancel","cancelEditData"),u._saveChangesButton=o(t,"save","saveEditData"),u._updateEditButtons()),f.allowAdding&&o(t,"addrow","addRow")},createHighlightCell:function(t){var i=t.find("."+rt);i.length||t.wrapInner(n("<div>").addClass(rt+" "+gt))},resetRowAndPageIndeces:function(t){var i=this;n.each(i._editData,function(n,r){(r.pageIndex!==i._pageIndex||t)&&(delete r.pageIndex,delete r.rowIndex)})},_afterInsertRow:function(){},_beforeSaveEditData:function(){},_afterSaveEditData:function(){},_beforeCancelEditData:function(){}}}()),s.registerModule("editing",{defaultOptions:function(){return{editing:{mode:"row",allowAdding:!1,allowUpdating:!1,allowDeleting:!1,texts:{editRow:Globalize.localize("dxDataGrid-editingEditRow"),saveAllChanges:Globalize.localize("dxDataGrid-editingSaveAllChanges"),saveRowChanges:Globalize.localize("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:Globalize.localize("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:Globalize.localize("dxDataGrid-editingCancelRowChanges"),addRow:Globalize.localize("dxDataGrid-editingAddRow"),deleteRow:Globalize.localize("dxDataGrid-editingDeleteRow"),undeleteRow:Globalize.localize("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:Globalize.localize("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:Globalize.localize("dxDataGrid-editingConfirmDeleteTitle")},form:{colCount:2}}}},controllers:{editing:s.EditingController},extenders:{controllers:{data:{init:function(){this._editingController=this.getController("editing"),this.callBase()},reload:function(n){var t,i=this.getController("editing");return this._editingController.refresh(),t=this.callBase(n),t&&t.done(function(){i.resetRowAndPageIndeces(!0)})},_updateItemsCore:function(n){this.callBase(n);var t=this.items()[this.getController("editing").getEditFormRowIndex()];t&&(t.rowType="detail")},_processItems:function(n,t){return n=this._editingController.processItems(n,t),this.callBase(n,t)},_processDataItem:function(n,t){return this._editingController.processDataItem(n,t.visibleColumns,this.generateDataValues),this.callBase(n,t)},_processItem:function(n,t){return n=this.callBase(n,t),n.inserted&&(t.dataIndex--,delete n.dataIndex),n}},columnsResizer:{_startResizing:function(n){var t=this,i=t.getController("editing"),r=function(){var n=t.option("editing");return n&&n.mode!==h&&i.isEditing()};t.callBase(n),t.isResizing()&&r()&&i.closeEditCell()}}},views:{rowsView:{publicMethods:function(){return this.callBase().concat(["cellValue"])},_getColumnTemplate:function(n){var t=this,i=t.getController("editing").getColumnTemplate(n);return i||t.callBase(n)},_createTable:function(){var n=this,t=n.option("editing"),i=n.callBase.apply(n,arguments);if(t&&!f(n)&&t.allowUpdating)i.on(w("dxhold","dxDataGridRowsView"),"td:not(."+k+")",n.createAction(function(){var i=n.getController("editing");i.isEditing()&&i.closeEditCell()}));return i},_createRow:function(n){var t=this.callBase(n),o,u,f,e,s;return n&&(o=this.getController("editing"),u=o.isEditRow(n.rowIndex),f=!!n.removed,e=!!n.inserted,s=!!n.modified,i(this)===r?f&&t.addClass(ct):u&&t.addClass(g),e&&t.addClass(lt),s&&t.addClass(at),(u||e||f)&&t.removeClass(d),u&&n.rowType==="detail"&&t.addClass(ht)),t},_rowClick:function(t){var i=this,r=i.getController("editing"),f=n(t.jQueryEvent.target).closest("."+tt+"> td"),u=i.getCellIndex(f),o=i.option("editing.allowUpdating"),e=i._columnsController.getVisibleColumns()[u],s=e&&(e.allowEditing||r.isEditCell(t.rowIndex,u));f.hasClass(dt)||o&&s&&r.editCell(t.rowIndex,u)||r.isEditRow(t.rowIndex)||i.callBase(t)},_cellPrepared:function(n,t){var s=t.columnIndex,i=this.getController("editing"),o=!!t.column.command,r=t.setValue,f,u,e;t.isEditing=i.isEditCell(t.rowIndex,t.columnIndex)||i.isEditRow(t.rowIndex)&&t.column.allowEditing,!v.isDefined(t.column.command)&&(t.isEditing||t.column.showEditorAlways)&&(f=t.column.alignment,n.addClass(k).toggleClass(pt,!r).toggleClass(ut,!r),f&&n.find("input").first().css("text-align",f)),u=n.get(0).firstChild,u&&u.className&&u.className.indexOf(bt)>=0&&n.addClass(kt).toggleClass(ut,o||!r),e=t.row&&(t.row.inserted?t.row.values:t.row.modifiedValues),e&&e[s]!==undefined&&t.column&&!o?(i.createHighlightCell(n),n.addClass(it)):r&&i.createHighlightCell(n,!0),this.callBase.apply(this,arguments)},_update:function(n){this.callBase(n),n.changeType==="updateSelection"&&this.getTableElements().children("tbody").children("."+g).removeClass(d)},cellValue:function(n,t,i,r){var u=this.getCellOptions(n,t);if(u){if(i===undefined)return u.value;this.getController("editing").updateFieldValue(u,i,r||"")}}},headerPanel:{_renderCore:function(){this.callBase(),this.getController("editing").renderEditButtons(this.element())},isVisible:function(){var t=this,n=t.getController("editing").option("editing");return t.callBase()||n&&(n.allowAdding||(n.allowUpdating||n.allowDeleting)&&n.mode===r)}}}}})}(jQuery,DevExpress),function(n,t){var i=t.ui.dxDataGrid,f=t.require("/utils/utils.common"),s=t.require("/ui/widgets/ui.button"),h=t.require("/ui/events/pointer/ui.events.pointer"),c=t.require("/ui/widgets/ui.validator"),l="dx-datagrid-invalid",a="dx-invalid-message",v="dx-invalid-message-always",y="dx-revert-button",p="dx-datagrid-revert-tooltip",w="dx-highlight-outline",e="__DX_INSERT_INDEX__",r="row",o="batch",u="cell";i.ValidatingController=i.Controller.inherit(function(){return{init:function(){this._editingController=this.getController("editing"),this.createAction("onRowValidating")},_rowValidating:function(n,t){var r=this,u=t?t.brokenRules||t.brokenRule&&[t.brokenRule]:[],f=t?t.isValid:n.isValid,i={brokenRules:u,isValid:f,key:n.key,newData:n.data,oldData:n.oldData,errorText:null};return r.executeAction("onRowValidating",i),n.isValid=i.isValid,n.errorText=i.errorText,i},validate:function(t){var i=this,u=!0,f=i._editingController;return(t=t||f.getEditMode()===r,i._isValidationInProgress)?!1:(i._isValidationInProgress=!0,t?n.each(f._editData,function(t,r){var e;r.type&&(e=i.validateGroup(r),e.isValid||n.each(e.brokenRules,function(){var n=this.validator.option("adapter").getValue();n===undefined&&(n=null),this.column&&f.updateFieldValue({key:r.key,column:this.column},n,!0)}),u=u&&e.isValid)}):i._currentCellValidator&&(u=i.validateGroup(i._currentCellValidator._findGroup()).isValid),i._isValidationInProgress=!1,u)},validateGroup:function(n){var u=this,i=t.validationEngine.getGroupConfig(n),r;return i&&i.validators.length&&(r=t.validationEngine.validateGroup(n)),u._rowValidating(n,r)},updateEditData:function(n){this.setDisableApplyValidationResults(!0),n.isValid=t.validationEngine.getGroupConfig(n)?t.validationEngine.validateGroup(n).isValid:!0,this.setDisableApplyValidationResults(!1)},setValidator:function(n){this._currentCellValidator=n},getValidator:function(){return this._currentCellValidator},removeValidators:function(i){var r=this,u=r._editingController;n.each(u._editData,function(n,r){var e=t.validationEngine.getGroupConfig(r),u;if((!f.isDefined(i)||i===n)&&e)for(u=0;u<e.validators.length;u++)e.validators[u]._dispose(),u--})},createValidator:function(t,i){var s=this,u=s._editingController,r=t.column,o,e=u.getIndexByKey(t.key,u._editData),a=function(n){if(n.brokenRule&&(n.brokenRule.columnIndex=r.index,n.brokenRule.column=r),i&&!s.getDisableApplyValidationResults()){if(!n.isValid){var t=i.find(":focus");u.createHighlightCell(i,!0),t.is(":focus")||t.focus().trigger(h.down)}i.toggleClass(l,!n.isValid)}};if(f.isArray(r.validationRules))return e<0&&r.showEditorAlways&&(e=u._addEditData({key:t.key})),e>=0?(o=u._editData[e],new c(i||{},{name:r.caption,validationRules:n.extend(!0,[],r.validationRules),validationGroup:o,adapter:i&&i.hasClass("dx-widget")?null:{getValue:function(){var n=r.calculateCellValue(o.data||{});return n!==undefined?n:t.value},applyValidationResults:a}})):void 0},setDisableApplyValidationResults:function(n){this._disableApplyValidationResults=n},getDisableApplyValidationResults:function(){return this._disableApplyValidationResults}}}()),i.registerModule("validating",{defaultOptions:function(){return{editing:{texts:{validationCancelChanges:Globalize.localize("dxDataGrid-validationCancelChanges")}}}},controllers:{validating:i.ValidatingController},extenders:{controllers:{editing:{_addEditData:function(n){var t=this,u=t.getController("validating"),i=t.callBase(n),r;return i>=0&&(r=t._editData[i],u.updateEditData(r)),i},_updateRowAndPageIndices:function(){var t=this,i=t.getView("rowsView").getTopVisibleItemIndex(),r=i;n.each(t._editData,function(n,u){u.isValid||u.pageIndex===t._pageIndex||(u.pageIndex=t._pageIndex,u.rowIndex=u.type==="insert"?i:r,r++)})},processItems:function(t,r){var u=this,l=u.getController("data"),f,s=u._editData,h=t.length,c=0,a=function(t,r){var u=-1,f=t.type==="insert",e=t.key;return n.each(r,function(n,t){if(i.equalKeys(e,f?t:l.keyOf(t)))return u=n,!1}),u},v=function(n){var f={key:n.key},i=a(n,t),r;i>=0&&u.option("scrolling.mode")==="standard"||(n.rowIndex=n.rowIndex>h?n.rowIndex%h:n.rowIndex,r=n.rowIndex,f[e]=1,i>=0&&(t.splice(i,1),r-=c),t.splice(r,0,f),c++)};if(u.update(),u.getEditMode()===o&&r!=="prepend"&&r!=="append")for(f=0;f<s.length;f++)s[f].type&&s[f].pageIndex===u._pageIndex&&s[f].key.pageIndex!==u._pageIndex&&v(s[f]);return u.callBase(t,r)},processDataItem:function(t){var f=this,h,s,l=t.data[e],c=l?t.data.key:t.key,a=f.getEditMode();a===o&&l&&c&&(h=i.getIndexByKey(c,f._editData),h>=0&&(s=f._editData[h],s.type!=="insert"&&(t.data=n.extend(!0,{},s.oldData,s.data),t.key=c))),f.callBase.apply(f,arguments)},_afterInsertRow:function(t){var i=this.getController("validating"),r=this.getController("columns").getHiddenColumns();n.each(r,function(n,r){i.createValidator({column:r,key:t.key,value:r.calculateCellValue(t.data)})}),this.callBase(t)},_beforeSaveEditData:function(n,t){var i=this,e,o,f=i.callBase.apply(i,arguments),s=i.getController("validating");return n?(e=n.type==="remove"||n.isValid,e&&s.removeValidators(t),f=f||!e):(o=s.validate(!0),i._updateRowAndPageIndices(),i.getEditMode()===u?o||(i._focusEditingCell(),f=!0):i.getEditMode()===r&&(f=!o)),f},_beforeEditCell:function(n,t,i){var f=this.callBase(n,t,i),e=this.component.getCellElement(n,t),r=e.data("dxValidator");if(this.getEditMode(this)===u&&(!r||r.validate().isValid))return f},_afterSaveEditData:function(){var t=this;n.each(t._editData,function(n,i){t._showErrorRow(i)})},_beforeCancelEditData:function(){var n=this.getController("validating");n.removeValidators(),this.callBase()},_showErrorRow:function(n){var t=this.getController("errorHandling"),r=this.getController("data").items(),i=this.getIndexByKey(n.key,r);!n.isValid&&n.errorText&&i>=0&&t&&t.renderErrorRow(n.errorText,i)},updateFieldValue:function(){var i=this,u;i.callBase.apply(i,arguments),i.getEditMode()===r&&(u=i.getController("validating").getValidator(),u&&u.validate())},createHighlightCell:function(n,t){var r=!0,i;t||(i=n.data("dxValidator"),i&&(r=i.validate().isValid)),r&&this.callBase(n)},_formEditorPrepared:function(n,t){this.callBase.apply(this,arguments),this.getController("validating").createValidator(n,t.children(".dx-widget"))}},editorFactory:{_showRevertButton:function(t){var i=this,r=t.find("."+w).first();n("<div>").addClass(p).appendTo(t).dxTooltip({animation:null,visible:!0,target:r,closeOnOutsideClick:!1,closeOnTargetScroll:!1,boundary:i._rowsView.element(),contentTemplate:function(){return new s(n("<div>").addClass(y),{icon:"revert",hint:i.option("editing.texts.validationCancelChanges"),onClick:function(){i._editingController.cancelEditData()}}).element()},position:{my:"left top",at:"right top",of:r,offset:"1 0",collision:"flip"}})},_showValidationMessage:function(t,i,r){var u=this;n("<div/>").addClass(a).addClass(v).text(i).appendTo(t).dxTooltip({target:t,container:t,visible:!0,closeOnOutsideClick:!1,closeOnTargetScroll:!1,position:{collision:"fit flip",boundary:u._rowsView.element(),boundaryOffset:"0 0",offset:"1 -10",my:"top "+r,at:"bottom "+r},onPositioned:function(){u._rowsView.element()&&u._rowsView.updateFreeSpaceRowHeight()}})},init:function(){this.callBase(),this._editingController=this.getController("editing"),this._rowsView=this.getView("rowsView")},loseFocus:function(n){n||this.getController("validating").setValidator(null),this.callBase()},focus:function(n,t){var i=this,r=n&&n.closest("td"),f=r&&r.data("dxValidator"),e,o=r&&r.closest(".dx-datagrid-rowsview").find(".dx-editor-cell .dx-tooltip"),s=r&&i.getController("columns").getVisibleColumns()[r.index()];return o&&o.remove(),f&&s&&(i.getController("validating").setValidator(f),f.option("adapter").getValue()!==undefined&&(e=f.validate(),e.isValid||(t=!0,i._showValidationMessage(r,e.brokenRule.message,s.alignment),i._editingController.getEditMode()===u&&i._showRevertButton(r)))),!t&&i._rowsView.element()&&i._rowsView.updateFreeSpaceRowHeight(),i.callBase(n,t)}}},views:{rowsView:{updateFreeSpaceRowHeight:function(){var n=this,u=n._getRowElements(),t=n._getFreeSpaceRowElements(),i=t.first(),r=n.element().find(".dx-invalid-message .dx-overlay-content");n.callBase(),r.length&&i&&u.length===1&&(!i.is(":visible")||r.outerHeight()>i.outerHeight())&&(t.show(),t.height(r.outerHeight()))},_cellPrepared:function(n,t){this.getController("validating").createValidator(t,n),this.callBase.apply(this,arguments)}}}}})}(jQuery,DevExpress),function(n,t,i){var f=t.ui,r=f.dxDataGrid,e=DevExpress.require("/ui/ui.errors"),u=t.require("/utils/utils.common"),o=t.require("/ui/ui.dataHelper");r.proxyMethod=function(n,t,i){n[t]||(n[t]=function(){var n=this._dataSource;return n?n[t].apply(n,arguments):i})},r.combineFilters=function(n,t){var i=[],r;for(t=t||"and",r=0;r<n.length;r++)n[r]&&(i.length&&i.push(t),i.push(n[r]));return i.length===1&&(i=i[0]),i.length?i:void 0},r.DataController=r.Controller.inherit({}).include(o).inherit(function(){var f={init:function(){var t=this;t._items=[],t._columnsController=t.getController("columns"),t._columnsChangedHandler=n.proxy(t._handleColumnsChanged,t),t._dataChangedHandler=n.proxy(t._handleDataChanged,t),t._loadingChangedHandler=n.proxy(t._handleLoadingChanged,t),t._loadErrorHandler=n.proxy(t._handleLoadError,t),t._customizeStoreLoadOptionsHandler=n.proxy(t._handleCustomizeStoreLoadOptions,t),t._columnsController.columnsChanged.add(t._columnsChangedHandler),t._isLoading=!1,t._isCustomLoading=!1,t._refreshDataSource(),t.createAction("onDataErrorOccurred"),t.dataErrorOccurred.add(function(n){return t.executeAction("onDataErrorOccurred",{error:n})})},callbackNames:function(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged"]},callbackFlags:function(n){if(n==="dataErrorOccurred")return"stopOnFalse"},publicMethods:function(){return["beginCustomLoading","endCustomLoading","refresh","filter","clearFilter","getCombinedFilter","keyOf","byKey","getDataByKeys","pageIndex","pageSize","pageCount","totalCount","_disposeDataSource","getKeyByRowIndex","getRowIndexByKey"]},optionChanged:function(n){function i(){n.handled=!0}function r(){t._columnsController.reset(),t._refreshDataSource()}var t=this;if(n.name==="dataSource"&&n.name===n.fullName&&n.value===n.previousValue){i(),t.refresh();return}switch(n.name){case"cacheEnabled":case"loadingTimeout":case"remoteOperations":i();break;case"dataSource":case"scrolling":case"paging":i(),r();break;case"rtlEnabled":r();break;default:t.callBase(n)}},isReady:function(){return!this._isLoading},getCombinedFilter:function(){return this.combinedFilter()},combinedFilter:function(n){var t=this,u=t._dataSource,f=t._columnsController,e;return u&&(n===i&&(n=u.filter()),e=t._calculateAdditionalFilter(),e&&(f.isDataSourceApplied()||f.isAllDataTypesDefined())&&(n=r.combineFilters([e,n])),f.updateFilter(n,!u.remoteOperations().filtering)),n},_handleCustomizeStoreLoadOptions:function(n){var i=this._columnsController,r=this._dataSource,t=n.storeLoadOptions;this._isLoadingAll&&(t.isLoadingAll=!0,delete t.skip,delete t.take),t.filter=this.combinedFilter(t.filter),i.isDataSourceApplied()||i.updateColumnDataTypes(r),this._columnsUpdating=!0,i.updateSortingGrouping(r,!this._isFirstLoading),this._columnsUpdating=!1,t.sort=i.getSortDataSourceParameters(),t.group=i.getGroupDataSourceParameters(),r.sort(t.sort),r.group(t.group),t.sort=i.getSortDataSourceParameters(!r.remoteOperations().sorting),n.group=i.getGroupDataSourceParameters(!0),this._isFirstLoading=!1},_handleColumnsChanged:function(n){var t=this,e=n.changeTypes,f=n.optionNames,o,s,h=function(){t._columnsController.columnsChanged.remove(h),t.updateItems()};e.sorting||e.grouping?(t._dataSource&&!t._columnsUpdating&&(t._dataSource.group(t._columnsController.getGroupDataSourceParameters()),t._dataSource.sort(t._columnsController.getSortDataSourceParameters()),t.reload()),t.pageChanged.fire()):e.columns&&((f.filterValues||f.filterValue||f.selectedFilterOperation)&&(this.option("filterRow.applyFilter")!=="onClick"||f.filterValues)&&(o=t._columnsController.columnOption(n.columnIndex,"filterValue"),s=t._columnsController.columnOption(n.columnIndex,"filterValues"),(u.isArray(s)||n.columnIndex===i||u.isDefined(o)||!f.selectedFilterOperation||f.filterValue)&&t._applyFilter()),t._needApplyFilter||r.checkChanges(f,["width","visibleWidth","filterValue","selectedFilterOperation","filterValues"])||t._columnsController.columnsChanged.add(h))},_handleDataChanged:function(t){var i=this,r=i._dataSource,u=i._columnsController,f=u.isAllDataTypesDefined();!r||i._isDataSourceApplying||i._isLoadingAll||(i._isDataSourceApplying=!0,n.when(i._columnsController.applyDataSource(r)).done(function(){i._isLoading&&i._handleLoadingChanged(!1),i._isDataSourceApplying=!1;var n=i._calculateAdditionalFilter(),r=i._needApplyFilter;i._needApplyFilter=!1,r&&n&&n.length&&!f?(e.log("W1005",i.component.NAME),i._applyFilter()):i.updateItems(t)}),i._isDataSourceApplying&&i._handleLoadingChanged(!0),i._needApplyFilter=!i._columnsController.isDataSourceApplied())},_handleLoadingChanged:function(n){this._isLoading=n,this._fireLoadingChanged()},_handleLoadError:function(n){this.dataErrorOccurred.fire(n)},_initDataSource:function(){var n=this,t=this.option("dataSource"),r=this.option("paging.pageIndex"),u=this.option("paging.pageSize"),f=n.option("scrolling.mode"),e=this.option("paging.enabled"),o=f==="infinite",h=f==="virtual",s=this._dataSource;n.callBase(),t=n._dataSource,n._isFirstLoading=!0,t?(t.requireTotalCount(!o),e!==i&&t.paginate(e||h||o),u!==i&&t.pageSize(u),r!==i&&t.pageIndex(r),n._dataSource=s,n.setDataSource(t)):s&&n.updateItems()},_loadDataSource:function(){var n=this._dataSource;n&&n.load()},_processItems:function(t){var i=this,f=i._columnsController.getVisibleColumns(),e={visibleColumns:f,dataIndex:0},r=[];return n.each(t,function(n,t){u.isDefined(t)&&(t=i._processItem(t,e),r.push(t))}),r},_processItem:function(n,t){return n=this._generateDataItem(n),n=this._processDataItem(n,t),n.dataIndex=t.dataIndex++,n},_generateDataItem:function(n){return{rowType:"data",data:n,key:this.keyOf(n)}},_processDataItem:function(n,t){return n.values=this.generateDataValues(n.data,t.visibleColumns),n},generateDataValues:function(n,t){for(var f=[],i,r,u=0;u<t.length;u++)i=t[u],r=null,i.command?r=null:i.calculateCellValue?r=i.calculateCellValue(n):i.dataField&&(r=n[i.dataField]),f.push(r);return f},_updateItemsCore:function(t){var i=this,u,l=i._dataSource,f=t.changeType||"refresh",e,s;if(t.changeType=f,l){u=t.items||l.items(),u=i._processItems(u.slice(0),f),t.items=u;switch(f){case"prepend":i._items.unshift.apply(i._items,u);break;case"append":i._items.push.apply(i._items,u);break;case"update":var h=-1,o=t.rowIndices.slice(0),c=0;for(o.sort(function(n,t){return n-t}),e=0;e<o.length;e++)o[e]<0&&(o.splice(e,1),e--);t.items=[],t.rowIndices=[],t.changeTypes=[],s=function(n,t,i){return r.equalKeys(n.key,t.key)&&(!i||n.rowType===t.rowType)},n.each(o,function(n,r){var o,e,l,a;(r+=c,h!==r)&&(t.rowIndices.push(r),h=r,o=i._items[r],l=i._items[r+1],e=u[r],a=u[r+1],e&&t.items.push(e),o&&e&&s(o,e)?(f="update",i._items[r]=e,o.visible!==e.visible&&t.items.splice(-1,1,{visible:e.visible})):e&&!o||a&&s(o,a,!0)?(f="insert",i._items.splice(r,0,e),c++):(o&&!e||l&&s(e,l,!0))&&(f="remove",i._items.splice(r,1),c--,h=-1),t.changeTypes.push(f))});break;default:i._items=u.slice(0)}n.each(i._items,function(n,t){t.rowIndex=n})}else i._items=[]},updateItems:function(n){n=n||{},this._updateItemsCore(n),this.changed.fire(n)},isLoading:function(){return this._isLoading||this._isCustomLoading},_fireLoadingChanged:function(n){this.loadingChanged.fire(this.isLoading(),n)},_calculateAdditionalFilter:function(){return null},_applyFilter:function(){var t=this,i=t._dataSource;if(i)return i.pageIndex(0),t.reload().done(n.proxy(t.pageChanged,"fire"))},filter:function(n){var t=this._dataSource;if(arguments.length===0)return t?t.filter():i;n=arguments.length>1?Array.prototype.slice.call(arguments,0):n,t&&t.filter(n),this._applyFilter()},clearFilter:function(n){var t=this,u=t._columnsController,r=function(n){for(var r=u.columnCount(),t=0;t<r;t++)u.columnOption(t,n,i)};if(t.component.beginUpdate(),arguments.length>0)switch(n){case"dataSource":t.filter(null);break;case"search":t.searchByText("");break;case"header":r("filterValues");break;case"row":r("filterValue")}else t.filter(null),t.searchByText(""),r("filterValue"),r("filterValues");t.component.endUpdate()},_fireDataSourceChanged:function(){var n=this,t=function(){n.changed.remove(t),n.dataSourceChanged.fire()};n.changed.add(t)},_createDataSourceAdapterCore:function(n,t){var i=new r.DataSourceAdapter(this.component);return i.init(n,t),i},_createDataSourceAdapter:function(n){var i=this.option("remoteOperations");return i==="auto"&&(i=n.store()instanceof t.data.ArrayStore?{}:{filtering:!0,sorting:!0,paging:!0}),i===!0&&(i={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0}),this._createDataSourceAdapterCore(n,i)},setDataSource:function(n){var t=this,i=t._dataSource;i&&(i.changed.remove(t._dataChangedHandler),i.loadingChanged.remove(t._loadingChangedHandler),i.loadError.remove(t._loadErrorHandler),i.customizeStoreLoadOptions.remove(t._customizeStoreLoadOptionsHandler),i.dispose(t._isSharedDataSource)),n&&(n=t._createDataSourceAdapter(n)),t._dataSource=n,n&&(t._fireDataSourceChanged(),t._isLoading=!n.isLoaded(),t._needApplyFilter=!0,n.changed.add(t._dataChangedHandler),n.loadingChanged.add(t._loadingChangedHandler),n.loadError.add(t._loadErrorHandler),n.customizeStoreLoadOptions.add(t._customizeStoreLoadOptionsHandler))},items:function(){return this._items},isEmpty:function(){return!this.items().length},pageCount:function(){return this._dataSource?this._dataSource.pageCount():1},dataSource:function(){return this._dataSource},store:function(){var n=this._dataSource;return n&&n.store()},loadAll:function(t){var i=this,r=n.Deferred(),u=i._dataSource,f;return u?t?(f={data:t,storeLoadOptions:{isLoadingAll:!0},loadOptions:{group:u.group(),sort:u.sort()}},u._handleDataLoaded(f),r.resolve(i._processItems(f.data),f.totalAggregates)):i.isLoading()?r.reject():(i._isLoadingAll=!0,u.load(!0).done(function(n){n=i._processItems(n.slice(0)),r.resolve(n)}).fail(r.reject).always(function(){i._isLoadingAll=!1})):r.resolve([]),r},getKeyByRowIndex:function(n){var t=this.items()[n];if(t)return t.key},getRowIndexByKey:function(n){return r.getIndexByKey(n,this.items())},keyOf:function(n){var t=this.store();if(t)return t.keyOf(n)},byKey:function(t){var i=this.store(),r=this.getRowIndexByKey(t),u;if(i)return r>=0&&(u=n.Deferred().resolve(this.items()[r].data)),u||i.byKey(t)},getDataByKeys:function(t){var f=this,i=n.Deferred(),r=[],u=[];return n.each(t,function(n,t){r.push(f.byKey(t).done(function(t){u[n]=t}))}),n.when.apply(n,r).always(function(){i.resolve(u)}),i},pageIndex:function(t){var u=this,f=u.option("paging"),r=u._dataSource;return r?t!==i&&r.pageIndex()!==t?(r.pageIndex(t),f&&(f.pageIndex=t),r.load().done(n.proxy(u.pageChanged,"fire"))):r.pageIndex():0},pageSize:function(t){var u=this,f=u.option("paging"),r=u._dataSource;return t===i?r?r.pageSize():0:r&&r.pageSize()!==t?(r.pageIndex(0),r.pageSize(t),f&&(f.pageSize=t),r.reload().done(n.proxy(u.pageChanged,"fire"))):void 0},beginCustomLoading:function(n){this._isCustomLoading=!0,this._fireLoadingChanged(n)},endCustomLoading:function(){this._isCustomLoading=!1,this._fireLoadingChanged()},refresh:function(){var i=this,t=n.Deferred();return n.when(this._columnsController.refresh()).always(function(){n.when(i.reload(!0)).done(t.resolve).fail(t.reject)}),t},_disposeDataSource:function(){this.setDataSource(null)}};return r.proxyMethod(f,"load"),r.proxyMethod(f,"reload"),r.proxyMethod(f,"itemsCount",0),r.proxyMethod(f,"totalItemsCount",0),r.proxyMethod(f,"hasKnownLastPage",!0),r.proxyMethod(f,"isLoaded",!0),r.proxyMethod(f,"totalCount",0),f}()),r.registerModule("data",{defaultOptions:function(){return{loadingTimeout:0,dataSource:null,cacheEnabled:!0,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:i,pageIndex:i}}},controllers:{data:f.dxDataGrid.DataController}})}(jQuery,DevExpress),function(n,t){var s=t.ui,u=s.dxDataGrid,w=t.require("/utils/utils.translator"),b=DevExpress.require("/class"),k="dx-datagrid-table",d="dx-row",g="dx-freespace-row",h="dx-column-lines",c="dx-datagrid-bottom-load-panel",l="dx-datagrid-table-content",nt="dx-datagrid-group-space",tt="dx-scrollable-container",it="dx-scrollable-content",rt="dx-datagrid-content",e="infinite",a="virtual",o=25e4,f=15e6,i=function(n){return!n._isLoadingAll&&n.option("scrolling.mode")===a},r=function(n){return!n._isLoadingAll&&n.option("scrolling.mode")===e},v=b.inherit(function(){var c=function(n){var t=n._dataSource.pageSize();return t&&n._viewportSize>=0?Math.ceil(n._viewportSize/t):1},u=function(n){var i=n.option("scrolling.preloadEnabled"),t=c(n);return t&&(i&&t++,r(n)&&t--),t},t=function(n){return n._cache.length?n._cache[0].pageIndex:-1},e=function(n){return n._cache.length?n._cache[n._cache.length-1].pageIndex:-1},o=function(n,t,i){n._isChangedFiring=!0,t(i),n._isChangedFiring=!1},s=function(n,t){if(n._isDelayChanged)return n._isDelayChanged=!1,o(n,t),!0},h=function(n,t,i,r){var e=n._dataSource,f=e.items(),s,u;i&&!n._isDelayChanged&&(s={changeType:i,items:f}),u=n._dataSource.viewportItems(),i==="append"?u.push.apply(u,f):i==="prepend"?u.unshift.apply(u,f):n._dataSource.viewportItems(f),e.updateLoading(),n._lastPageIndex=n.pageIndex(),n._isDelayChanged=r,n._isLoadingAll=!1,r||o(n,t,s)};return{ctor:function(n,t){var i=this;i._dataSource=t,i.component=n,i._pageIndex=i._lastPageIndex=t.pageIndex(),i._cache=[],i._viewportSize=0,i._viewportItemSize=20,i._viewportItemIndex=-1,i._sizeRatio=1,i._items=[],i._cache=[]},option:function(){return this.component.option.apply(this.component,arguments)},virtualItemsCount:function(){var n=this,r,f=0,u,e;if(i(n))return r=t(n),r<0&&(r=0),u=r*n._dataSource.pageSize(),f=n._cache.length*n._dataSource.pageSize(),e=Math.max(0,n._dataSource.totalItemsCount()-f-u),{begin:u,end:e}},setViewportPosition:function(n){var t=this,i=t.option("scrolling.timeout")||0;t._position=n,clearTimeout(t._scrollTimeoutID),i>0?t._scrollTimeoutID=setTimeout(function(){t._setViewportPositionCore(n)},i):t._setViewportPositionCore(n)},getViewportPosition:function(){return this._position||0},_setViewportPositionCore:function(n){var t=this,i=t.virtualItemsCount(),f=t._sizeRatio||1,r=t._viewportItemSize,u=i?Math.floor(i.begin*r*f):0;i&&n>=u&&n<=u+t._contentSize?t.setViewportItemIndex(i.begin+(n-u)/r):t.setViewportItemIndex(n/(r*f))},setContentSize:function(n){var t=this,i=t.virtualItemsCount(),r;t._contentSize=n,i&&(r=(i.begin+i.end+t.itemsCount())*t._viewportItemSize,t._sizeRatio=r>f?f/r:1)},getContentOffset:function(){var n=this,t=n.virtualItemsCount();return t?Math.floor(t.begin*n._viewportItemSize*n._sizeRatio):0},getVirtualContentSize:function(){var n=this,t=n.virtualItemsCount();return t?(t.begin+t.end)*n._viewportItemSize*n._sizeRatio+n._contentSize:0},getViewportItemIndex:function(){return this._viewportItemIndex},setViewportItemIndex:function(n){var t=this,f=t._dataSource.pageSize(),e=t._dataSource.pageCount(),c=i(t),l=r(t),o=t._dataSource.totalItemsCount(),a=t._viewportItemIndex<0,s,h,u;t._viewportItemIndex=n,f&&(c||l)&&o>=0&&(t._viewportSize&&n+t._viewportSize>=o?t._dataSource.hasKnownLastPage()?(u=e-1,s=o%f,u>0&&s>0&&s<f/2&&u--):u=e:(u=Math.floor(n/f),h=e-1,u=Math.max(u,0),u=Math.min(u,h)),(t.pageIndex()!==u||a)&&(t.pageIndex(u),t.load()))},viewportItemSize:function(n){return n!==undefined&&(this._viewportItemSize=n),this._viewportItemSize},viewportSize:function(n){return n!==undefined&&(this._viewportSize=n),this._viewportSize},pageIndex:function(n){return i(this)||r(this)?(n!==undefined&&(this._pageIndex=n),this._pageIndex):this._dataSource.pageIndex(n)},beginPageIndex:function(n){var i=t(this);return i<0&&(i=n!==undefined?n:this.pageIndex()),i},endPageIndex:function(){var n=e(this);return n>0?n:this._lastPageIndex},load:function(f){var o=t(this),s=-1,c=this._dataSource,h,l=function(n,t){var i=n._dataSource;if(t===n.pageIndex()||!i.isLoading()&&t<i.pageCount()||!i.hasKnownLastPage()&&t===i.pageCount())return i.pageIndex(t),i.load()};if(this._isLoadingAll=f,i(this)||r(this)?((o<0||!this._cache[this._pageIndex-o])&&(s=this._pageIndex),o>=0&&s<0&&this._viewportSize>=0&&(o>0&&e(this)+1===c.pageCount()&&this._cache.length<u(this)+1?s=o-1:o+this._cache.length<=this._pageIndex+u(this)&&(s=o+this._cache.length)),s>=0&&(h=l(this,s)),c.updateLoading()):h=c.load(),!h&&this._lastPageIndex!==this.pageIndex())this._dataSource.onChanged({changeType:"pageIndex"});return h||n.Deferred().resolve()},loadIfNeed:function(){var n=this;(i(n)||r(n))&&!n._dataSource.isLoading()&&!n._isChangedFiring&&n.load()},handleDataChanged:function(n){var u=this,f,e=u._dataSource,a=u._cache.length,c,o,l;i(u)||r(u)?(f=t(u),f>=0&&(i(u)&&f+u._cache.length!==e.pageIndex()&&f-1!==e.pageIndex()&&(u._cache=[]),r(u)&&e.pageIndex()===0&&(u._cache=[])),l={pageIndex:e.pageIndex(),itemsCount:u.itemsCount(!0)},u.option("scrolling.removeInvisiblePages")?o=u._cache.length>2:s(u,n),o=u.option("scrolling.removeInvisiblePages")&&u._cache.length>2,f===e.pageIndex()+1?(o?u._cache.pop():c="prepend",u._cache.unshift(l)):(o?u._cache.shift():c="append",u._cache.push(l)),h(u,n,u._cache.length>1?c:undefined,a===0),u.load().done(function(){s(u,n)&&u.load()})):h(u,n)},itemsCount:function(t){var r=0;return!t&&i(this)?n.each(this._cache,function(){r+=this.itemsCount}):r=this._dataSource.itemsCount(),r},reset:function(){this._cache=[]},dispose:function(){clearTimeout(this._scrollTimeoutID)}}}()),y,p;s.dxDataGrid.VirtualScrollController=v,y=function(){var t=function(n){var t=n._virtualScrollController.beginPageIndex(-1);i(n)&&(t<0||n.viewportSize()>=0&&n.getViewportItemIndex()>=0&&(t*n.pageSize()>n.getViewportItemIndex()||t*n.pageSize()+n.itemsCount()<n.getViewportItemIndex()+n.viewportSize())&&n._dataSource.isLoading()?n._isLoading||(n._isLoading=!0,n.loadingChanged.fire(!0)):n._isLoading&&(n._isLoading=!1,n.loadingChanged.fire(!1)))};return{init:function(n){var i=this;i.callBase.apply(i,arguments),i._isLoading=!0,i._items=[],i._isLoaded=!0,i._virtualScrollController=new v(i.component,{pageSize:function(){return i.pageSize()},totalItemsCount:function(){return i.totalItemsCount()},hasKnownLastPage:function(){return i.hasKnownLastPage()},pageIndex:function(t){return n.pageIndex(t)},isLoading:function(){return n.isLoading()},pageCount:function(){return i.pageCount()},load:function(){return n.load()},updateLoading:function(){t(i)},itemsCount:function(){return i.itemsCount(!0)},items:function(){return n.items()},viewportItems:function(n){return n&&(i._items=n),i._items},onChanged:function(n){i.changed.fire(n)}})},_handleLoadingChanged:function(n){var t=this;i(t)||(t._isLoading=n,t.callBase.apply(t,arguments))},_handleLoadError:function(){var n=this;n._isLoadingAll=!1,n._isLoading=!1,n.loadingChanged.fire(!1),n.callBase.apply(n,arguments)},_handleDataChanged:function(){var t=n.proxy(this.callBase,this);this._virtualScrollController.handleDataChanged(t)},items:function(){return this._items},itemsCount:function(n){return n?this.callBase():this._virtualScrollController.itemsCount()},virtualItemsCount:function(){return this._virtualScrollController.virtualItemsCount()},getViewportItemIndex:function(){return this._virtualScrollController.getViewportItemIndex()},setViewportItemIndex:function(n){return this._virtualScrollController.setViewportItemIndex(n)},viewportSize:function(n){return this._virtualScrollController.viewportSize(n)},pageIndex:function(n){return this._virtualScrollController.pageIndex(n)},beginPageIndex:function(){return this._virtualScrollController.beginPageIndex()},endPageIndex:function(){return this._virtualScrollController.endPageIndex()},load:function(n){return this._virtualScrollController.load(n)},loadIfNeed:function(){return this._virtualScrollController.loadIfNeed()},isLoading:function(){return this._isLoading},isLoaded:function(){return this._dataSource.isLoaded()&&this._isLoaded},_changeRowExpandCore:function(){var n=this.callBase.apply(this,arguments);return this._virtualScrollController.reset(),t(this),n},refresh:function(n,i,u){var f=this,e=f._dataSource;return(i||u.reload)&&(f._virtualScrollController.reset(),f._isLoaded=!1,t(f),f._isLoaded=!0,r(f)?(f.pageIndex(0),e.pageIndex(0),n.pageIndex=0,n.skip=0):(e.pageIndex(f.pageIndex()),e.paginate()&&(n.skip=f.pageIndex()*f.pageSize()))),f.callBase.apply(f,arguments)}}}(),u.DataSourceAdapter=u.DataSourceAdapter.inherit(y),p=function(){return{_renderCore:function(){var n=this,t=new Date;n.callBase.apply(n,arguments),n._updateContentPosition(),n._renderTime=new Date-t},_renderContent:function(n,t){var i=this,r=i._dataController.virtualItemsCount();return r?(t.addClass(l),n.children().length?n.children().first().replaceWith(t):n.append(t),n.children("table").length===1&&(n.append(i._createTable()),i._contentHeight=0),n):i.callBase.apply(i,arguments)},_updateContent:function(n,t,i){var r=this,f,u=t&&t.changeType;u==="append"||u==="prepend"?(f=n.children().first(),i.children("tbody").children("tr")[u==="append"?"appendTo":"prependTo"](f),i.remove(),r._getFreeSpaceRowElements().not(":last").remove()):r.callBase.apply(r,arguments),r._updateBottomLoading()},_updateContentPosition:function(){var n=this,o,t,e,r,u,s=n._rowHeight||20,i=n._dataController.virtualItemsCount(),h;return i?(o=n._findContentElement(),e=o.children(),r=e.eq(0),u=e.eq(1),n._contentTableHeight=r.outerHeight(),t=(i.begin+i.end+n._dataController.itemsCount())*n._rowHeight,n._heightRatio=t>f?f/t:1,t=(i.begin+i.end)*s*n._heightRatio+n._contentTableHeight,w.move(r,{top:Math.floor(i.begin*s*n._heightRatio)}),h=n._contentHeight!==t||t===0||!n._isTableLinesDisplaysCorrect(u)||!n._isColumnElementsEqual(r.find("col"),u.find("col")),h&&(n._contentHeight=t,n._renderVirtualTableContent(u,t)),!0):!1},_isTableLinesDisplaysCorrect:function(n){var t=n.find("."+h).length>0;return t===this.option("showColumnLines")},_isColumnElementsEqual:function(t,i){var r=t.length===i.length;return r&&n.each(t,function(n,t){if(t.style.width!==i[n].style.width)return r=!1}),r},_renderVirtualTableContent:function(n,t){for(var r=this,u=r._columnsController.getVisibleColumns(),f=r._createColGroup(u).prop("outerHTML"),e="",c=r.option("showColumnLines")?h:"",s=function(n){return"<tr style='height:"+n+"px;' class='"+g+" "+d+" "+c+"' >"+e+"<\/tr>"},i=0;i<u.length;i++)e+=u[i].command==="expand"?"<td class='"+nt+"'/>":"<td />";while(t>o)f+=s(o),t-=o;f+=s(t),n.addClass(k),n.html(f)},_findBottomLoadPanel:function(){var t=this.element(),n=t&&t.find("."+c);if(n&&n.length)return n},_updateBottomLoading:function(){var t=this,r=t.option("scrolling.mode"),u=r===a,f=r===e,o=!t._dataController.hasKnownLastPage()&&t._dataController.isLoaded()&&(u||f),i=t._findBottomLoadPanel();o?i||n("<div />").addClass(c).append(t._createComponent(n("<div />"),"dxLoadIndicator").element()).appendTo(t._findContentElement()):i&&i.remove()},_handleScroll:function(n){var t=this;t._hasHeight&&t._rowHeight&&t._setViewportScrollTop(n.scrollOffset.top),t.callBase.apply(t,arguments)},_setViewportScrollTop:function(n){var t=this,i=Math.min(t.option("scrolling.timeout")||0,t._renderTime||0);clearTimeout(t._scrollTimeoutID),i>0?t._scrollTimeoutID=setTimeout(function(){t._setViewportScrollTopCore(n)},i):t._setViewportScrollTopCore(n)},_setViewportScrollTopCore:function(n){var t=this,i=t._dataController.virtualItemsCount(),f=t._heightRatio||1,r=t._rowHeight,u=i?Math.floor(i.begin*r*f):0;i&&n>=u&&n<=u+t._contentTableHeight?t._dataController.setViewportItemIndex(i.begin+(n-u)/r):t._dataController.setViewportItemIndex(n/(r*f))},_renderScrollableCore:function(n){var t=this;t.callBase.apply(t,arguments),t._subscribeToWindowScrollEvents(n)},_subscribeToWindowScrollEvents:function(t){var i=this,e=i.component.element(),r,u,f;if(e&&!i._windowScrollEvents)for(i._windowScrollEvents=!0,u=function(n,r){var u=function(){var u=n.scrollTop();!i._hasHeight&&i._rowHeight&&(u-=t.offset().top,u=u>0?u:0,i._scrollTop=u,i._setViewportScrollTop(u))};return r?function(n){u(n),r(n)}:u},f=function(t){var f=t.data("dxScrollable"),o=t.get(0).nodeName==="#document",r,e;if(f){e=f.option("onScroll"),r=u(t,e),f.option("onScroll",r);i.on("disposing",function(){f.option("onScroll")===r&&f.option("onScroll",e)})}else if(o||t.css("overflow-y")==="auto"){o&&(t=n(window)),r=u(t);t.on("scroll",r);i.on("disposing",function(){t.off("scroll",r)})}},r=i.component.element().parent();r.length;r=r.parent())f(r)},_needUpdateRowHeight:function(n){var t=this;return t.callBase.apply(t,arguments)||n>0&&t.option("scrolling.mode")===e},_updateRowHeight:function(){var t=this,i;t.callBase.apply(t,arguments),t._rowHeight&&(t._updateContentPosition(),i=t._hasHeight?t.element().outerHeight():n(window).outerHeight(),t._dataController.viewportSize(Math.round(i/t._rowHeight)))},setLoading:function(n,t){var i=this,r=i.callBase,u=!!i._findBottomLoadPanel()&&i._dataController.isLoaded();u&&(n=!1),r.call(i,n,t)},_resizeCore:function(){this.callBase();var n=this._dataController.dataSource();n&&n.loadIfNeed&&n.loadIfNeed()},getTableElements:function(n){var t=this.callBase();return n&&this.option("scrolling.mode")==="virtual"&&(t=t.add(this.element().find("> ."+tt+" > ."+it+"> ."+rt).children(":not(."+l+")"))),t},dispose:function(){clearTimeout(this._scrollTimeoutID),this.callBase()}}}(),u.registerModule("virtualScrolling",{defaultOptions:function(){return{scrolling:{timeout:300,mode:"standard",preloadEnabled:!1,useNative:"auto"}}},extenders:{controllers:{data:function(){var n={};return u.proxyMethod(n,"virtualItemsCount"),u.proxyMethod(n,"viewportSize"),u.proxyMethod(n,"setViewportItemIndex"),n}()},views:{rowsView:p}}})}(jQuery,DevExpress),function(n,t){var o=t.ui,i=o.dxDataGrid,u=t.require("/utils/utils.common"),f="dx-datagrid-text-content",s="dx-datagrid-headers",r="dx-header-row",h="dx-datagrid-nowrap",c="dx-column-lines",l="context-menu-sort-asc",a="context-menu-sort-desc",v="context-menu-sort-none",y="dx-cell-focus-disabled",p="dx-column-indicators",e=function(t){return n("<div />").addClass(f).appendTo(t)};i.ColumnHeadersView=i.ColumnsView.inherit({_getDefaultTemplate:function(n){var i=this,t,r=i.option("showColumnLines");return t=n.command?function(n,t){var i=t.column;n.html("&nbsp;"),n.addClass(i.cssClass)}:function(t){var u=e(t,r);u.text(n.caption)}},_getHeaderTemplate:function(n){return!u.isDefined(n.command)&&n.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this._getDefaultTemplate(n)}},_processTemplate:function(n,t){var u=this,i,f=t.column,r=this.callBase(n);return i=r&&f.headerCellTemplate?{render:function(n,t){var i=e(t,u.option("showColumnLines"));r.render(n,i)}}:r},_handleDataChanged:function(){(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())},_renderCell:function(n,t){var i=this.callBase(n,t);return t.row.rowType==="header"&&(i.addClass(y),u.isDefined(t.column.command)||(this.setAria("role","columnheader",i),this.setAria("label",t.column.caption+" "+Globalize.localize("dxDataGrid-ariaColumn"),i))),i},_createRow:function(n){var t=this.callBase(n).toggleClass(c,this.option("showColumnLines"));return n.rowType==="header"&&t.addClass(r),t},_renderCore:function(){var n=this,t=n.element();n._dataController.isLoaded()&&(t.addClass(s).toggleClass(h,!n.option("wordWrapEnabled")).empty(),n._setTableElement(n._renderTable()),n.callBase.apply(n,arguments))},_resizeCore:function(){var n=this,t=n._scrollLeft;n.callBase(),n._scrollLeft=0,n.scrollTo({left:t})},_renderTable:function(){var n=this.callBase.apply(this,arguments),t=this.element();return this.wrapTableInScrollContainer(n).appendTo(t),n},_getRows:function(){var n=[];return this.option("showColumnHeaders")&&n.push({rowType:"header"}),n},_getCellTemplate:function(n){if(n.rowType==="header")return this._getHeaderTemplate(n.column)},_columnOptionChanged:function(n){var i=n.changeTypes,t=n.optionNames,r=this.option("showColumnLines");if(i.grouping){this._isGroupingChanged=!0;return}this.callBase(n),(t.width||t.visibleWidth)&&(r||this._updateColumnTextWidths(),this.resizeCompleted.fire())},_updateColumnTextWidths:function(){var u=this,t=[],i,e,o=u.getColumns(),r=u.getColumnElements();r&&(n.each(o,function(f,o){i=0,e=u._getIndicatorContainer(n(r[f])),e.length&&(i=e.outerWidth()),t[f]=n(r[f]).width()-(o.alignment==="center"?i*2:i)}),n.each(r,function(i,r){t.length&&t[i]>0&&n(r).find("."+f).css("max-width",t[i])}))},_isElementVisible:function(n){return n&&n.visible},getHeadersRowHeight:function(){var t=this._getTableElement(),n;return t?(n=t.find("."+r).first(),n&&n.height()):0},getHeaderElement:function(n){var t=this.getColumnElements();return t&&t.eq(n)},getColumnElements:function(){if(this.option("showColumnHeaders"))return this.getCellElements(0)},getColumnWidths:function(){var i=this,r,u,e=i.getColumns(),f=i.getColumnElements(),t=i.callBase();return f&&t&&f.length===t.length&&n.each(f,function(i,f){u=n(f).find("."+p),u.length&&(r=u.outerWidth(!0),t[i]+=e[i].alignment==="center"?r*2:r)}),t},allowDragging:function(n,t){for(var u=this.getColumns(),f=0,r,e=function(n){return n.allowReordering||n.allowGrouping||n.allowHiding},i=0;i<u.length;i++)e(u[i])&&f++;if(f<=1)return!1;if(!t)return(this.option("allowColumnReordering")||this._columnsController.isColumnOptionUsed("allowReordering"))&&n&&n.allowReordering;for(i=0;i<t.length;i++)if(r=t[i],r&&r.allowDragging(n))return!0;return!1},getBoundingRect:function(){var n=this,t,i=n.getColumnElements();return i&&i.length?(t=n._getTableElement().offset(),{top:t.top}):null},getName:function(){return"headers"},getColumnCount:function(){var n=this.getColumnElements();return n?n.length:0},init:function(){var n=this;n.callBase(),n._scrollerWidth=0},isVisible:function(){return this.option("showColumnHeaders")},setScrollerSpacing:function(n){var t=this,i=t.element(),r=t.option("rtlEnabled");t._scrollerWidth=n,i&&i.css(r?{paddingLeft:n}:{paddingRight:n})},optionChanged:function(n){var t=this;switch(n.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":t._invalidate(!0,!0),n.handled=!0;break;default:t.callBase(n)}},getHeight:function(){var t=this,n=t.element();return n?n.height():0},getContextMenuItems:function(n){var f=this,e,t,u,i;if(n.closest("."+r).length)return(e=n.closest("td"),t=e.length&&f.getColumns(n)[e[0].cellIndex],i=f.option("sorting"),i&&i.mode!=="none"&&t&&t.allowSorting)?(u=function(n){setTimeout(function(){f._columnsController.changeSortOrder(t.index,n.itemData.value)})},[{text:i.ascendingText,value:"asc",disabled:t.sortOrder==="asc",icon:l,onItemClick:u},{text:i.descendingText,value:"desc",disabled:t.sortOrder==="desc",icon:a,onItemClick:u},{text:i.clearText,value:"none",disabled:!t.sortOrder,icon:v,onItemClick:u}]):[]}}),i.registerModule("columnHeaders",{defaultOptions:function(){return{showColumnHeaders:!0,cellHintEnabled:!0}},views:{columnHeadersView:i.ColumnHeadersView}})}(jQuery,DevExpress),function(n,t){var p=t.ui,r=t.require("/utils/utils.common"),i=p.dxDataGrid,w=t.require("/ui/ui.editor"),o={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal","default":"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},b=700,k="dx-datagrid",d="dx-first-cell",s="dx-datagrid-filter-row",l="dx-menu",rt="dx-menu-image",ut="dx-datagrid-text-content",e="dx-editor-with-menu",u="dx-editor-container",g="dx-editor-cell",nt="dx-filter-menu",tt="dx-apply-button",h="dx-highlight-outline",a="dx-focused",it="dx-cell-focus-disabled",f="dx-datagrid-filter-range-popup",c="dx-filter-range-content",v=function(){var v=function(n){var t=n&&n.children(),i=t&&t.data("dxComponents"),r=i&&i.length&&t.data(i[0]);if(r instanceof w)return r},h=function(n){var t=n.filterValue,u="";return r.isArray(t)?(u=i.formatValue(t[0],n),i.formatValue(t[1],n)!==""&&(u+=" - "+i.formatValue(t[1],n))):r.isDefined(t)&&(u=i.formatValue(t,n)),u===""?"&nbsp;":u},t=function(n,t,i){var e=n._columnsController.columnOption(t),u=e&&e.filterValue,o=i.closest("."+f).length;return u&&r.isArray(u)?o?u[1]:u[0]:o?undefined:u},y=function(n,t,i){return t.selectedFilterOperation==="between"?i.closest("."+f).length?[r.isArray(t.filterValue)?t.filterValue[0]:t.filterValue,n]:[n,r.isArray(t.filterValue)?t.filterValue[1]:undefined]:n},p=function(n,i){var u=i.value===""?undefined:i.value,f=i.container,e=n._columnsController.columnOption(i.column.index),o=t(n,e.index,f);(r.isDefined(o)||r.isDefined(u))&&(o!==u&&(n._applyingFilter=!n._applyFilterViewController._isOnClick()),n._applyFilterViewController.setHighLight(f,o!==u),n._columnsController.columnOption(e.index,"filterValue",y(u,e,f)))};return{_updateEditorValue:function(n,i){var u=this,r=v(i);r&&r.option("value",t(u,n.index,i))},_columnOptionChanged:function(n){var t=this,a=n.optionNames,v,y,r,e,o,b,p,w;if(i.checkChanges(a,["filterValue","selectedFilterOperation"])&&n.columnIndex!==undefined){y=t.getController("columns").getVisibleIndex(n.columnIndex),r=t.getController("columns").columnOption(n.columnIndex),e=t.element().find("."+s).children().eq(y),p=e.find("."+c),o=e.find("."+u).first(),a.filterValue&&(t._updateEditorValue(r,o),v=e.find("."+f).data("dxPopup"),v&&(b=v.content().find("."+u).first(),t._updateEditorValue(r,b)),p.length&&p.html(h(r))),a.selectedFilterOperation&&y>=0&&r&&(w=e.find("."+l),w.length&&(t._updateFilterOperationChooser(w,r,o),r.selectedFilterOperation==="between"?t._showFilterRangePopup(e,r):o.find("."+c).length&&(t._renderEditor(o,t._getEditorOptions(o,r)),t._hideFilterRangePopup())));return}t.callBase(n)},_resizeCore:function(){this.callBase.apply(this,arguments),this._filterRangePopupInstance&&this._filterRangePopupInstance.repaint()},isFilterRowVisible:function(){return this._isElementVisible(this.option("filterRow"))},isVisible:function(){return this.callBase()||this.isFilterRowVisible()},init:function(){this.callBase(),this._applyFilterViewController=this.getController("applyFilter")},_initFilterRangePopup:function(t,i){var r=this,o=n("<div/>").addClass(f).appendTo(t);return this._createComponent(o,"dxPopup",{height:"auto",shading:!1,showTitle:!1,closeOnTargetScroll:!0,closeOnOutsideClick:function(i){return!t.find(n(i.target)).length},animation:!1,position:{my:"top",at:"bottom",of:t,offset:"0 1"},contentTemplate:function(f){var e=n("<div/>").addClass(u).appendTo(f);r._renderEditor(e,r._getEditorOptions(e,i));e.find("input").on("keydown",function(n){var i=t.find("[tabindex]").not(n.target).first();n.which===9&&(n.preventDefault(),r._hideFilterRangePopup(),n.shiftKey?(i.length||(i=t.prev().find("[tabindex]").last()),i.focus()):t.next().find("[tabindex]").first().focus())});return f},onShowing:function(n){var o=n.component.overlayContent().find("input"),f=t.find("."+u).first(),s=r._columnsController.columnOption(i.index);f.closest("."+e).removeClass(e),r._renderEditor(f,r._getEditorOptions(f,s));f.find("input").on("keydown",function(n){n.which===9&&(n.preventDefault(),o.focus())})},onShown:function(){var n=t.find("."+u).first();r._focusEditor(n)},onHidden:function(){var n=r._columnsController.columnOption(i.index);t.find("."+l).parent().addClass(e),n.selectedFilterOperation==="between"&&(r._renderFilterRangeContent(t,n),r.component.updateDimensions())}})},_updateFilterRangePopup:function(n){var t=this._filterRangePopupInstance;t&&t.option(n)},_showFilterRangePopup:function(n,t){var i=this,u=n.children("."+f),r=u.length&&u.data("dxPopup");!r&&t&&(r=i._initFilterRangePopup(n,t)),r.option("visible")||(i._filterRangePopupInstance&&i._filterRangePopupInstance.hide(),i._filterRangePopupInstance=r,i._updateFilterRangePopup({width:n.outerWidth(!0)}),i._filterRangePopupInstance&&i._filterRangePopupInstance.show())},_hideFilterRangePopup:function(){var n=this._filterRangePopupInstance;n&&n.hide()},getFilterRangePopupInstance:function(){return this._filterRangePopupInstance},_createRow:function(n){var t=this.callBase(n);return n.rowType==="filter"&&t.addClass(s),t},_getRows:function(){var n=this.callBase();return this.isFilterRowVisible()&&n.push({rowType:"filter"}),n},_renderCellContent:function(t,i){var f=this,r=i.column,o,e;i.rowType==="filter"&&(t.toggleClass(d,i.columnIndex===0),r.command?t.html("&nbsp;"):r.allowFiltering&&(f.setAria("label",Globalize.localize("dxDataGrid-ariaColumn")+" "+r.caption+", "+Globalize.localize("dxDataGrid-ariaFilterCell"),t),t.addClass(g),o=n("<div />").appendTo(t),e=n("<div />").addClass(u).appendTo(o),r.selectedFilterOperation==="between"?f._renderFilterRangeContent(t,r):f._renderEditor(e,f._getEditorOptions(e,r)),r.alignment&&t.find("input").first().css("text-align",r.alignment),r.filterOperations&&r.filterOperations.length&&f._renderFilterOperationChooser(o,r,e))),f.callBase(t,i)},_getEditorOptions:function(i,r){var u=this,e=n.extend({},r,{value:t(u,r.index,i),parentType:"filterRow",showAllText:u.option("filterRow.showAllText"),updateValueTimeout:u.option("filterRow.applyFilter")==="onClick"?0:b,width:null,setValue:function(n){p(u,{column:r,value:n,container:i})}});return r.selectedFilterOperation==="between"&&(e.placeholder=i.closest("."+f).length?u.option("filterRow.betweenEndText"):u.option("filterRow.betweenStartText")),e},_renderEditor:function(t,i){return t.empty(),this.getController("editorFactory").createEditor(n("<div />").appendTo(t),i)},_renderFilterRangeContent:function(t,i){var f=this,r=t.find("."+u).first();r.empty(),n("<div/>").addClass(c).attr("tabindex",0).html(h(i)).on("focusin",function(){f._showFilterRangePopup(t,i)}).appendTo(r)},_updateFilterOperationChooser:function(n,t,i){var r=this,u;r._createComponent(n,"dxMenu",{_templates:{},activeStateEnabled:!1,selectionMode:"single",cssClass:k+" "+it+" "+nt,showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{disabled:t.filterOperations&&t.filterOperations.length?!1:!0,icon:o[t.selectedFilterOperation||"default"],selectable:!1,items:r._getFilterOperationMenuItems(t)}],onItemClick:function(n){var u=n.itemData.name;n.itemData.items||u===t.selectedFilterOperation||(u?r._columnsController.columnOption(t.index,"selectedFilterOperation",u):r._columnsController.columnOption(t.index,{selectedFilterOperation:t.defaultSelectedFilterOperation,filterValue:undefined}),r._applyFilterViewController.setHighLight(i,!0),r._focusEditor(i))},onSubmenuShown:function(){u=r._isEditorFocused(i),r.getController("editorFactory").loseFocus()},onSubmenuHiding:function(){n.blur(),n.dxMenu("instance").option("focusedElement",null),u&&r._focusEditor(i)},rtlEnabled:r.option("rtlEnabled")})},_isEditorFocused:function(n){return n.hasClass(a)||n.parents("."+a).length},_focusEditor:function(n){this.getController("editorFactory").focus(n),n.find("input").focus()},_renderFilterOperationChooser:function(t,i,r){var u=this,f;u.option("filterRow.showOperationChooser")&&(t.addClass(e),f=n("<div />").prependTo(t),u._updateFilterOperationChooser(f,i,r))},_getFilterOperationMenuItems:function(t){var u=this,r=[{}],i=u.option("filterRow"),f=i&&i.operationDescriptions||{};return t.filterOperations&&t.filterOperations.length&&(r=n.map(t.filterOperations,function(n){return{name:n,selected:(t.selectedFilterOperation||t.defaultFilterOperation)===n,text:f[n],icon:o[n]}}),r.push({name:null,text:i&&i.resetOperationText,icon:o["default"]})),r},optionChanged:function(n){var t=this;switch(n.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),n.handled=!0;break;default:t.callBase(n)}}}}(),y={_calculateAdditionalFilter:function(){var t=this,u=[t.callBase()],f=t._columnsController.getVisibleColumns();return n.each(f,function(){var n;this.allowFiltering&&this.calculateFilterExpression&&r.isDefined(this.filterValue)&&(n=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow"),u.push(n))}),i.combineFilters(u)}};i.ApplyFilterViewController=i.ViewController.inherit({_isOnClick:function(){return this.option("filterRow.applyFilter")==="onClick"},_getHeaderPanel:function(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel},setHighLight:function(n,t){this._isOnClick()&&(n&&n.toggleClass(h,t),this._getHeaderPanel().enableApplyButton(t))},removeHighLights:function(){if(this._isOnClick()){var n=this.getView("columnHeadersView");n.element().find("."+s+" ."+h).removeClass(h),this._getHeaderPanel().enableApplyButton(!1)}}}),i.registerModule("filterRow",{defaultOptions:function(){return{filterRow:{visible:!1,showOperationChooser:!0,showAllText:Globalize.localize("dxDataGrid-filterRowShowAllText"),resetOperationText:Globalize.localize("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:Globalize.localize("dxDataGrid-applyFilterText"),operationDescriptions:{"=":Globalize.localize("dxDataGrid-filterRowOperationEquals"),"<>":Globalize.localize("dxDataGrid-filterRowOperationNotEquals"),"<":Globalize.localize("dxDataGrid-filterRowOperationLess"),"<=":Globalize.localize("dxDataGrid-filterRowOperationLessOrEquals"),">":Globalize.localize("dxDataGrid-filterRowOperationGreater"),">=":Globalize.localize("dxDataGrid-filterRowOperationGreaterOrEquals"),startswith:Globalize.localize("dxDataGrid-filterRowOperationStartsWith"),contains:Globalize.localize("dxDataGrid-filterRowOperationContains"),notcontains:Globalize.localize("dxDataGrid-filterRowOperationNotContains"),endswith:Globalize.localize("dxDataGrid-filterRowOperationEndsWith"),between:Globalize.localize("dxDataGrid-filterRowOperationBetween")},betweenStartText:Globalize.localize("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:Globalize.localize("dxDataGrid-filterRowOperationBetweenEndText")}}},controllers:{applyFilter:i.ApplyFilterViewController},extenders:{controllers:{data:y,columnsResizer:{_startResizing:function(){var n=this,i,t;n.callBase.apply(n,arguments),n.isResizing()&&(t=n._columnHeadersView.getFilterRangePopupInstance(),t&&(i=t.element().closest("td").index(),(i===n._targetPoint.columnIndex||i===n._targetPoint.columnIndex+1)&&t.overlayContent().hide()))},_endResizing:function(){var t=this,r,i;t.isResizing()&&(i=t._columnHeadersView.getFilterRangePopupInstance(),i&&(r=i.element().closest("td"),t._columnHeadersView._updateFilterRangePopup({width:r.outerWidth(!0)}),i.overlayContent().show())),t.callBase.apply(t,arguments)}}},views:{columnHeadersView:v,headerPanel:{_isShowApplyFilterButton:function(){var n=this.option("filterRow");return n&&n.visible&&n.applyFilter==="onClick"},_renderCore:function(){var t=this,i=t._applyButton?t._applyButton.option("disabled"):!0;t.callBase(),t._$applyButton&&t._$applyButton.remove(),t._isShowApplyFilterButton()&&(t._applyButton=t._createComponent(n("<div>").addClass(tt).appendTo(t.element()),"dxButton",{disabled:i,hint:t.option("filterRow.applyFilterText"),icon:"apply-filter",onClick:function(){t._dataController._applyFilter(),t._applyFilterViewController.removeHighLights()}}),t._$applyButton=t._applyButton.element())},init:function(){this.callBase(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")},enableApplyButton:function(n){this._applyButton&&this._applyButton.option("disabled",!n)},isVisible:function(){return this.callBase()||this._isShowApplyFilterButton()},optionChanged:function(n){n.name==="filterRow"?(this._invalidate(),n.handled=!0):this.callBase(n)}}}}}),i.ColumnHeadersViewFilterRowExtender=v,i.DataControllerFilterRowExtender=y}(jQuery,DevExpress),function(n,t){var r=t.ui,i=r.dxDataGrid,u="dx-datagrid-header-panel";i.HeaderPanel=i.ColumnsView.inherit({_renderCore:function(){this.element().addClass(u)},getHeaderPanel:function(){return this.element()},getHeight:function(){var n=this.element();return n?n.outerHeight(!0):0},isVisible:function(){return!1}}),i.registerModule("headerPanel",{defaultOptions:function(){return{}},views:{headerPanel:i.HeaderPanel}})}(jQuery,DevExpress),function(n,t){var s=t.ui,i=s.dxDataGrid,r=t.require("/utils/utils.common"),f="dx-header-filter",e="dx-header-filter-menu",h="dx-datagrid-text-content",c={month:{format:"month",dateType:"full"},quarter:{format:"quarter",dateType:"full"},dayOfWeek:{format:"dayOfWeek",dateType:"full"}},u=function(n){return r.isDefined(n.allowHeaderFiltering)?n.allowHeaderFiltering:n.allowFiltering};i.HeaderFilterController=i.ViewController.inherit(function(){var u=function(t,r,u){var f=i.getGroupInterval(r),e=n.extend({target:"headerFilter"},r);return f&&(e.groupInterval=f[u],r.dataType==="date"?e.format=c[f[u]]:r.dataType==="number"&&(e.getDisplayFormat=function(){var n={format:r.format,precision:r.precision},e=i.formatValue(t,n),s=t+f[u],o=i.formatValue(s,n);return e&&o?e+" - "+o:""})),e};return{init:function(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")},_updateSelectedState:function(n,t){for(var r=n.length;r--;)i.getIndexByKey(n[r].value,t.filterValues,null)>-1^t.filterType==="exclude"&&(n[r].selected=!0),"items"in n[r]&&this._updateSelectedState(n[r].items,t)},_normalizeGroupItem:function(n,t,f){var e,o,s=f.path,h=f.valueSelector,c=f.displaySelector,l=f.column;return h&&c?(e=h(n),o=c(n)):(e=n.key,o=e),n=r.isObject(n)?n:{},s.push(e),n.value=s.length===1?s[0]:s.join("/"),n.text=i.formatValue(o,u(o,l,t)),n.text||(n.text=f.headerFilterOptions.texts.emptyValue),delete n.key,n},_processGroupItems:function(n,i,u,f){var s=this,h,c,l=f.column,o=l.lookup,a=f.level,e;for(u=u||[],i=i||0,o&&(h=t.data.utils.compileGetter(o.displayExpr),c=t.data.utils.compileGetter(o.valueExpr)),e=0;e<n.length;e++)n[e]=s._normalizeGroupItem(n[e],i,{column:f.column,headerFilterOptions:f.headerFilterOptions,displaySelector:h,valueSelector:c,path:u}),"items"in n[e]&&(i!==a&&r.isDefined(n[e].value)?s._processGroupItems(n[e].items,i+1,u,f):delete n[e].items),u.pop()},getDataSource:function(u){var f=this,l,c,o=n.proxy(u.calculateGroupValue,u)||i.getGroupDataSourceParameters(u),e=f._dataController.dataSource(),h=u.headerFilter&&u.headerFilter.dataSource,v=e.store(),a=f.option("headerFilter"),s={component:f.component};return r.isDefined(h)&&!r.isFunction(h)?(e=t.data.utils.normalizeDataSourceOptions(h),e.postProcess=function(n){return f._updateSelectedState(n,u),n},e):(u.lookup?(e=t.data.utils.normalizeDataSourceOptions(u.lookup.dataSource),e.postProcess=function(n){return this.pageIndex()===0&&(n=n.slice(0),n.unshift(null)),f._processGroupItems(n,null,null,{level:0,column:u,headerFilterOptions:a}),f._updateSelectedState(n,u),n},s.dataSource=e):(l=r.isArray(o)?o.length-1:0,f._currentColumn=u,o=u.dataType==="date"?o:o,s.dataSource={filter:f._dataController.getCombinedFilter(),group:o,load:function(i){var r=n.Deferred();return n.when(i.userData.data||v.load({filter:i.filter,expand:e.loadOptions().expand,dataField:u.dataField||u.name})).done(function(n){i.userData.data=n,new t.data.ArrayStore(n).load(i).done(function(n){f._processGroupItems(n,null,null,{level:l,column:u,headerFilterOptions:a}),f._updateSelectedState(n,u),f._currentColumn=null,r.resolve(n)}).fail(r.reject)}).fail(r.reject),r}}),r.isFunction(h)&&(h.call(u,s),c=s.dataSource.postProcess,s.dataSource.postProcess=function(n){var t=c&&c.apply(this,arguments)||n;return f._updateSelectedState(t,u),t}),s.dataSource)},getCurrentColumn:function(){return this._currentColumn},showHeaderFilterMenu:function(t){var u=this,f=n.extend(!0,{},u._columnsController.getColumns()[t]);if(f){var h=u._columnsController.getVisibleIndex(t),o=f&&r.isDefined(f.groupIndex),c=o?u.getView("headerPanel"):u.getView("columnHeadersView"),l=c.getColumnElements().eq(o?f.groupIndex:h),s=i.getGroupInterval(f),e=n.extend(f,{type:s&&s.length>1?"tree":"list",apply:function(){u._columnsController.columnOption(t,{filterValues:this.filterValues,filterType:this.filterType})},onShowing:function(n){var t=n.component.overlayContent().dxResizable("instance");t&&t.option("onResizeEnd",function(n){var i=u.getController("columns"),t=i.columnOption(e.dataField,"headerFilter");t=t||{},t.width=n.width,t.height=n.height,i.columnOption(e.dataField,"headerFilter",t,!0)})}});e.dataSource=u.getDataSource(e),u._headerFilterView.showHeaderFilterMenu(l,e)}},hideHeaderFilterMenu:function(){this._headerFilterView.hideHeaderFilterMenu()}}}()),i.HeaderFilterView=i.View.inherit({getPopupContainer:function(){return this._popupContainer},getListContainer:function(){return this._listContainer},applyHeaderFilter:function(t){var i=this,u=i.getListContainer(),o=u.element().find(".dx-checkbox").eq(0).hasClass("dx-checkbox-checked"),f=[],e=function(t,i,r){n.each(i,function(){!!this.selected^r?t.push(this.value):this.items&&this.items.length&&e(t,this.items)})};o?r.isArray(t.filterValues)&&(t.filterValues=[],t.apply()):(t.type==="tree"&&(e(f,u.option("items"),t.filterType==="exclude"),t.filterValues=f),t.apply()),i.hideHeaderFilterMenu()},showHeaderFilterMenu:function(n,t){var i=this,r;t&&(i._initializePopupContainer(t),r=i.getPopupContainer(),i.hideHeaderFilterMenu(),i.updatePopup(n,t),r.show())},hideHeaderFilterMenu:function(){var n=this.getPopupContainer();n&&n.hide()},updatePopup:function(n,t){var i=this,r=t.alignment==="right"?"left":"right";i._popupContainer&&(i._cleanPopupContent(),i._popupContainer.option("position",{my:r+" top",at:r+" bottom",of:n,collision:"flip fit"}))},_cleanPopupContent:function(){this._popupContainer&&this._popupContainer.content().empty()},_initializePopupContainer:function(n){var t=this,f=t.element(),i=t.option("headerFilter"),e=n.headerFilter&&n.headerFilter.width||i&&i.width,o=n.headerFilter&&n.headerFilter.height||i&&i.height,u={width:e,height:o,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,closeOnTargetScroll:!0,closeOnOutsideClick:!0,onShown:function(){t._initializeListContainer(n)},buttons:[{toolbar:"bottom",location:"after",widget:"button",options:{text:i.texts.ok,onClick:function(){t.applyHeaderFilter(n)}}},{toolbar:"bottom",location:"after",widget:"button",options:{text:i.texts.cancel,onClick:function(){t.hideHeaderFilterMenu()}}}],resizeEnabled:!0,onShowing:n.onShowing};r.isDefined(t._popupContainer)?t._popupContainer.option(u):t._popupContainer=t._createComponent(f,"dxPopup",u)},_initializeListContainer:function(t){var r=this,u=r._popupContainer.content(),f={dataSource:t.dataSource,onContentReady:function(){r.renderCompleted.fire()}};r._listContainer=t.type==="tree"?r._createComponent(n("<div/>").appendTo(u),"dxTreeView",n.extend(f,{showCheckBoxesMode:"selectAll",keyExpr:"id"})):r._createComponent(n("<div/>").appendTo(u),"dxList",n.extend(f,{pageLoadMode:"scrollBottom",pullRefreshEnabled:!0,showSelectionControls:!0,selectionMode:"all",itemTemplate:function(n,t,i){return i.text(n.text)},onSelectionChanged:function(r){var u=r.component.option("items"),f=r.component.option("selectedItems");r.component._selectedItemsUpdating||(f.length===0&&u.length?(t.filterType="include",t.filterValues=[]):f.length===u.length&&(t.filterType="exclude",t.filterValues=[])),n.each(u,function(n,r){var u=i.getIndexByKey(r,f,null)>=0,o=!!r.selected,e;o!==u&&(r.selected=u,t.filterValues=t.filterValues||[],e=i.getIndexByKey(r.value,t.filterValues,null),e>=0&&t.filterValues.splice(e,1),u^t.filterType==="exclude"&&t.filterValues.push(r.value))})},onContentReady:function(i){var r=i.component,f=r.option("items"),u=[],e=i.element.find(".dx-list-select-all-checkbox").dxCheckBox("instance");n.each(f,function(){this.selected&&u.push(this)}),r._selectedItemsUpdating=!0,r.option("selectedItems",u),r._selectedItemsUpdating=!1,t.filterValues&&t.filterValues.length&&e.option("value",undefined)}}))},_renderCore:function(){this.element().addClass(e)},init:function(){this._headerFilterController=this.getController("headerFilter")}});var o=i.headerFilterMixin={_applyColumnState:function(n){var i,r=n.rootElement,t=n.column;return n.name==="headerFilter"?(r.find("."+f).remove(),u(t)&&(i=this.callBase(n).toggleClass("dx-header-filter-empty",!t.filterValues||!t.filterValues.length)),i):this.callBase(n)},_renderIndicator:function(n){var t,i=n.container,r=n.indicator;if(n.name==="headerFilter"&&(t=this.option("rtlEnabled"),i.children().length&&(!t&&n.columnAlignment==="right"||t&&n.columnAlignment==="left"))){i.prepend(r);return}this.callBase(n)},optionChanged:function(n){n.name==="headerFilter"?(this._invalidate(),n.handled=!0):this.callBase(n)}},l=n.extend({},o,{_renderCellContent:function(n,t){var i=this,e,f=t.column;i.callBase(n,t),!f.command&&!r.isDefined(f.groupIndex)&&u(f)&&i.option("headerFilter.visible")&&t.rowType==="header"&&(e=i._applyColumnState({name:"headerFilter",rootElement:n,column:f,showColumnLines:i.option("showColumnLines")}),e&&i._subscribeToIndicatorEvent(e,f,"headerFilter"))},_subscribeToIndicatorEvent:function(n,t,i){var r=this;if(i==="headerFilter")n.on("dxclick",r.createAction(function(n){var i=n.jQueryEvent;i.stopPropagation(),r.getController("headerFilter").showHeaderFilterMenu(t.index)}))},_updateIndicator:function(n,t,i){var r=this.callBase(n,t,i);r&&this._subscribeToIndicatorEvent(r,t,i)},_columnOptionChanged:function(n){var t=n.optionNames;if(i.checkChanges(t,["filterValues","filterType"])){this._updateIndicators("headerFilter");return}this.callBase(n)}}),a=n.extend({},o,{_createGroupPanelItem:function(n,t){var i=this,e=i.callBase.apply(i,arguments),f;return!t.command&&u(t)&&i.option("headerFilter.visible")&&(f=i._applyColumnState({name:"headerFilter",rootElement:e,column:{alignment:r.getDefaultAlignment(i.option("rtlEnabled")),filterValues:t.filterValues,allowHeaderFiltering:!0},showColumnLines:!0}),f&&f.on("dxclick",i.createAction(function(n){var r=n.jQueryEvent;r.stopPropagation(),i.getController("headerFilter").showHeaderFilterMenu(t.index)}))),e}}),v={_calculateAdditionalFilter:function(){var t=this,f=[t.callBase()],o=t._columnsController.getVisibleColumns(),s=t.getController("headerFilter"),e=s.getCurrentColumn();return n.each(o,function(t,i){var s,o,h;e&&e.index===i.index||u(i)&&i.calculateFilterExpression&&r.isArray(i.filterValues)&&i.filterValues.length&&(o=[],h=i.filterType==="exclude",n.each(i.filterValues,function(n,t){r.isArray(t)?s=t:(i.deserializeValue&&i.dataType!=="date"&&i.dataType!=="number"&&(t=i.deserializeValue(t)),s=i.createFilterExpression(t,h?"<>":"=","headerFilter")),s.columnIndex=i.index,o.length>0&&o.push(h?"and":"or"),o.push(s)}),f.push(o))}),i.combineFilters(f)}};i.registerModule("headerFilter",{defaultOptions:function(){return{headerFilter:{visible:!1,width:252,height:300,texts:{emptyValue:Globalize.localize("dxDataGrid-headerFilterEmptyValue"),ok:Globalize.localize("dxDataGrid-headerFilterOK"),cancel:Globalize.localize("dxDataGrid-headerFilterCancel")}}}},controllers:{headerFilter:i.HeaderFilterController},views:{headerFilterView:i.HeaderFilterView},extenders:{controllers:{data:v},views:{columnHeadersView:l,headerPanel:a}}}),n.extend(i.__internals,{DATAGRID_HEADER_FILTER_CLASS:f,DATAGRID_HEADER_FILTER_MENU_CLASS:e,DATAGRID_CELL_CONTENT_CLASS:h})}(jQuery,DevExpress),function(n,t){var l=t.ui,i=l.dxDataGrid,r=t.require("/utils/utils.common"),u=t.require("/ui/events/ui.events.utils"),f="dx-sort",e="dx-sort-up",o="dx-sort-down",s="dx-datagrid-action",a="dx-column-indicators",h="dx-datagrid-text-content",v="dxDataGridColumnHeadersView",c=i.sortingMixin={_applyColumnState:function(n){var t=this,c,v=t.option("sorting.mode"),i=n.rootElement,u=n.column,y=i.find("."+a),p,l;if(n.name==="sort"){if(c=t.option("rtlEnabled")?"right":"left",(v==="single"||v==="multiple")&&u.allowSorting&&n.rootElement.addClass(s),i.find("."+f).remove(),y.children().length||y.remove(),i.children("."+h).css("margin-"+c,""),r.isDefined(u.sortOrder))return p=u.sortOrder==="asc"?"ascending":"descending",t.setAria("sort",p,i),l=t.callBase(n).toggleClass(e,u.sortOrder==="asc").toggleClass(o,u.sortOrder==="desc"),u.alignment==="center"&&i.children("."+h).css("margin-"+c,l.outerWidth(!0)),l;t.setAria("sort","none",i)}else return t.callBase(n)},_renderIndicator:function(n){var t,i=n.container,r=n.indicator;if(n.name==="sort"&&(t=this.option("rtlEnabled"),i.children().length&&(!t&&n.columnAlignment==="left"||t&&n.columnAlignment==="right"))){i.prepend(r);return}this.callBase(n)},_updateIndicator:function(n,t,i){i==="sort"&&r.isDefined(t.groupIndex)||this.callBase.apply(this,arguments)}},y=n.extend({},c,{_createRow:function(t){var i=this,f=i.callBase(t);if(t.rowType==="header")f.on(u.addNamespace("dxclick",v),"> td",i.createAction(function(t){var f=null,e=t.jQueryEvent,o=n(e.currentTarget),s=o.index(),h=i._columnsController.getVisibleColumns(),u=h[s];!u||r.isDefined(u.groupIndex)||u.command||(e.shiftKey?f="shift":e.ctrlKey&&(f="ctrl"),setTimeout(function(){i._columnsController.changeSortOrder(u.index,f)}))}));return f},_renderCellContent:function(n,t){var i=this,r=t.column;i.callBase(n,t),r.command||t.rowType!=="header"||i._applyColumnState({name:"sort",rootElement:n,column:r,showColumnLines:i.option("showColumnLines")})},_columnOptionChanged:function(n){var t=n.changeTypes;if(t.length===1&&t.sorting){this._updateIndicators("sort");return}this.callBase(n)},optionChanged:function(n){var t=this;switch(n.name){case"sorting":t._invalidate(),n.handled=!0;break;default:t.callBase(n)}}}),p=n.extend({},c,{_createGroupPanelItem:function(n,t){var i=this,r=i.callBase.apply(i,arguments);r.on(u.addNamespace("dxclick","dxDataGridHeaderPanel"),i.createAction(function(){setTimeout(function(){i.getController("columns").changeSortOrder(t.index)})}));return i._applyColumnState({name:"sort",rootElement:r,column:{alignment:i.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:t.sortOrder==="desc"?"desc":"asc"},showColumnLines:!0}),r},optionChanged:function(n){var t=this;switch(n.name){case"sorting":t._invalidate(),n.handled=!0;break;default:t.callBase(n)}}});i.registerModule("sorting",{defaultOptions:function(){return{sorting:{mode:"single",ascendingText:Globalize.localize("dxDataGrid-sortingAscendingText"),descendingText:Globalize.localize("dxDataGrid-sortingDescendingText"),clearText:Globalize.localize("dxDataGrid-sortingClearText")}}},extenders:{views:{columnHeadersView:y,headerPanel:p}}}),n.extend(i.__internals,{DATAGRID_SORT_CLASS:f,DATAGRID_SORTUP_CLASS:e,DATAGRID_SORTDOWN_CLASS:o,DATAGRID_HEADERS_ACTION_CLASS:s})}(jQuery,DevExpress),function(n,t){function u(n){return o.isDefined(n.allowSearch)?n.allowSearch:n.allowFiltering}function f(n,t){var i=n.lookup;return i?n.parseValue.call(i,t):n.parseValue?n.parseValue(t):t}var e=t.ui,i=e.dxDataGrid,o=t.require("/utils/utils.common"),s=t.require("/integration/jquery/jquery.selectors"),h="dx-datagrid-search-panel",r="dx-datagrid-search-text",c=700;i.registerModule("search",{defaultOptions:function(){return{searchPanel:{visible:!1,width:160,placeholder:Globalize.localize("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,text:""}}},extenders:{controllers:{data:function(){var n=function(n,r){function a(n){for(var u=t.data.utils.compileGetter(o.valueExpr),r,i=0;i<n.length;i++)r=u(n[i]),c.push(e.createFilterExpression(r,null,"search"))}var s,e,l=n._columnsController.getColumns(),h,o,c=[];if(!r)return null;for(s=0;s<l.length;s++)e=l[s],u(e)&&e.calculateFilterExpression&&(o=e.lookup,h=f(e,r),o&&o.items?t.data.query(o.items).filter(e.createFilterExpression.call({dataField:o.displayExpr,dataType:o.dataType,calculateFilterExpression:e.calculateFilterExpression},h,null,"search")).enumerate().done(a):h!==undefined&&c.push(e.createFilterExpression(h,null,"search")));return i.combineFilters(c,"or")};return{publicMethods:function(){return this.callBase().concat(["searchByText"])},_calculateAdditionalFilter:function(){var t=this,r=t.callBase(),u=n(t,t.option("searchPanel.text"));return i.combineFilters([r,u])},searchByText:function(n){this.option("searchPanel.text",n)},optionChanged:function(n){var t=this;switch(n.fullName){case"searchPanel.text":case"searchPanel":t._applyFilter(),n.handled=!0;break;default:t.callBase(n)}}}}()},views:{headerPanel:function(){var t=function(n){return n.option("searchPanel")};return{_renderSearchPanel:function(){var i=this,u=i.element(),f=i.getController("data"),r=t(i);r&&r.visible?(i._$searchPanel?i._$searchPanel.show():(i._$searchPanel=n("<div/>").addClass(h).prependTo(u),i.setAria("label",Globalize.localize("dxDataGrid-ariaSearchInGrid"),i._$searchPanel)),i.getController("editorFactory").createEditor(i._$searchPanel,{width:r.width,placeholder:r.placeholder,parentType:"searchPanel",value:i.option("searchPanel.text"),updateValueTimeout:c,setValue:function(n){f.searchByText(n)}}),i.resize()):i._$searchPanel&&i._$searchPanel.hide()},_renderCore:function(){this.callBase(),this._renderSearchPanel()},focus:function(){var n=this._$searchPanel.dxTextBox("instance");n&&n.focus()},isVisible:function(){var n=t(this);return this.callBase()||n&&n.visible},optionChanged:function(n){n.name==="searchPanel"?(this._renderSearchPanel(),n.handled=!0):this.callBase(n)}}}(),rowsView:{_highlightSearchText:function(t,u,e){var c=this,h,a,o=c.option("searchPanel.text"),l;if(o&&c.option("searchPanel.highlightSearchText")){if(u&&e&&(l=f(e,o),o=i.formatValue(l,e),!o))return;a=n("<div>").text(o).html(),h=t.parent(),h.length||(h=n("<div>").append(t)),n.each(h.find(s.icontains+"('"+o+"')"),function(t,i){n.each(n(i).contents(),function(t,i){if(i.nodeType===3){var f=function(t,i){var o=n("<span />").addClass(r),u=t.text(),e=u.toLowerCase().indexOf(i.toLowerCase());if(e>=0)return t[0].textContent?t[0].textContent=u.substr(0,e):t[0].nodeValue=u.substr(0,e),t.after(o.text(u.substr(e,i.length))),t=n(document.createTextNode(u.substr(e+i.length))).insertAfter(o),f(t,i)};u?n(i).text().toLowerCase()===o.toLowerCase()&&n(this).replaceWith(n("<span />").addClass(r).text(n(i).text())):f(n(i),o)}})})}},_renderCore:function(){this.callBase.apply(this,arguments),this.option("rowTemplate")&&this._highlightSearchText(this._getTableElement())},_updateCell:function(n,t){var r=this,i=t.column,f=i.dataType!=="string";u(i)&&r._highlightSearchText(n,f,i),r.callBase(n,t)}}}}})}(jQuery,DevExpress),function(n,t){var c=t.ui,r=c.dxDataGrid,i=t.require("/utils/utils.common"),l=t.require("/utils/utils.support"),a=t.require("/ui/events/ui.events.remove"),v=window.ko,tt="dx-datagrid-text-content",f="dx-group-row",y="dx-datagrid-rowsview",it="dx-datagrid-table",p="dx-data-row",u="dx-freespace-row",e="dx-datagrid-nodata",o="dx-datagrid-content",w="dx-datagrid-nowrap",b="dx-row-lines",s="dx-column-lines",k="dx-row-alt",d="dx-last-row-border",g=200,nt=/\s/g,h=function(t){var u=t.option("scrolling"),i=t.option("scrolling.useNative"),r=n.extend({},u,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return i===undefined&&(i=!0),i==="auto"?(delete r.useNative,delete r.useSimulatedScrollbar):(r.useNative=!!i,r.useSimulatedScrollbar=!i),r};r.createScrollableOptions=h,r.RowsView=r.ColumnsView.inherit({_getDefaultTemplate:function(n){switch(n.command){case"empty":return function(n){n.html("&nbsp;")};default:return function(t,i){var f=(!i.text||!i.text.replace(nt,""))&&i.rowType==="data",u=f?"&nbsp;":i.text,r=t.get(0);n.encodeHtml&&!f?"textContent"in r?r.textContent=u:r.innerText=u:r.innerHTML=u}}},_getDefaultGroupTemplate:function(){var n=this,t=n.option("summary.texts");return function(n,i){var f=i.data,u=i.column.caption+": "+i.text;i.summaryItems&&i.summaryItems.length&&(u+=" "+r.getGroupRowSummaryText(i.summaryItems,t)),f&&(i.groupContinuedMessage&&i.groupContinuesMessage?u+=" ("+i.groupContinuedMessage+". "+i.groupContinuesMessage+")":i.groupContinuesMessage?u+=" ("+i.groupContinuesMessage+")":i.groupContinuedMessage&&(u+=" ("+i.groupContinuedMessage+")")),n.addClass("dx-group-cell"),n.text(u)}},_update:function(){},_getColumnTemplate:function(n){var r=this,t=n.column,i;return i=n.rowType!=="group"||t.groupIndex===undefined||t.showWhenGrouped?t.cellTemplate||{allowRenderToDetachedContainer:!0,render:r._getDefaultTemplate(t)}:t.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:r._getDefaultGroupTemplate()}},_getCellTemplate:function(n){return this._getColumnTemplate(n)},_createRow:function(n){var t=this.callBase(n),e,r,u;return n&&(e=n.rowType==="group",r=n.rowType==="data",r&&t.addClass(p),r&&n.dataIndex%2==1&&this.option("rowAlternationEnabled")&&t.addClass(k),r&&this.option("showRowLines")&&t.addClass(b),this.option("showColumnLines")&&t.addClass(s),e&&(t.addClass(f),u=n.isExpanded,this.setAria("role","rowgroup",t),this.setAria("expanded",i.isDefined(u)&&u.toString(),t))),t},_afterRowPrepared:function(n){var t=n.args[0],u=n.context,i=this._dataController,f,r;if(t.data&&t.rowType==="data"&&this.option("twoWayBindingEnabled"))if(u.$watch){r=u.$watch(function(){return i.generateDataValues(t.data,t.columns)},function(n,u){n!==u&&(r(),i.updateItems({changeType:"update",rowIndices:[t.rowIndex]}))},!0);t.rowElement.on(a.name,function(){r()})}else l.hasKo&&v.computed(function(){f&&i.updateItems({changeType:"update",rowIndices:[t.rowIndex]}),f=i.generateDataValues(t.data,t.columns)},null,{disposeWhenNodeIsRemoved:t.rowElement.get(0)})},_renderScrollable:function(){var i=this,t=i.element();t.children().length||t.append("<div />"),i._renderLoadPanel(t),i._renderScrollableCore(t)},_handleScroll:function(n){var t=this;t._scrollTop=n.scrollOffset.top,t._scrollLeft=n.scrollOffset.left,t.scrollChanged.fire(n.scrollOffset,t.name)},_renderScrollableCore:function(t){var i=this,r=h(i),u=n.proxy(i._handleScroll,i);r.onScroll=u,r.onStop=u,i._scrollable=i._createComponent(t,"dxScrollable",r),i._scrollableContainer=i._scrollable._$container},_renderLoadPanel:function(t){var r=this,i;t.dxLoadPanel&&(r._loadPanel&&r._loadPanel.element().remove(),i=r.option("loadPanel"),i&&i.enabled?(i=n.extend({shading:!1,message:i.text,position:{of:t},container:t},i),r._loadPanel=r._createComponent(n("<div />").appendTo(t.parent()),"dxLoadPanel",i)):r._loadPanel=null)},_renderContent:function(t,i){return t.replaceWith(n("<div>").addClass(o).append(i)),this._findContentElement()},_updateContent:function(t,r,u){var f=this,s=f._getTableElement(),h=r&&r.changeType,e=[];switch(h){case"update":n.each(r.rowIndices,function(n,t){var o=f._getRowElements(u).eq(n),c=r.changeTypes[n],h=r.items&&r.items[n];e.push(function(){var r=f._getRowElements(),n=r.eq(t);switch(c){case"update":i.isDefined(h.visible)&&h.visible!==n.is(":visible")?n.toggle(h.visible):n.replaceWith(o);break;case"insert":r.length?n.length?o.insertBefore(n):o.insertAfter(r.last()):o.prependTo(s);break;case"remove":n.remove()}})}),n.each(e,function(){this()}),u.remove();break;default:f._setTableElement(u),t.addClass(o),f._renderContent(t,u)}},_renderFreeSpaceRow:function(n){var t=this,i,r=t._createRow(),f=this.getColumns();for(r.addClass(u).toggleClass(s,t.option("showColumnLines")),i=0;i<f.length;i++)r.append(t._createCell(f[i]));t._appendRow(n,r)},_needUpdateRowHeight:function(n){return n>0&&!this._rowHeight},_updateRowHeight:function(){var n=this,r=n._getTableElement(),i,u=n._dataController.items().length,t;r&&n._needUpdateRowHeight(u)&&(i=r.outerHeight(),t=n._getFreeSpaceRowElements().first(),t&&t.is(":visible")&&(i-=t.outerHeight()),n._rowHeight=i/u)},_findContentElement:function(){var t=this.element(),n;if(t)return n=t.find(".dx-scrollable-content"),n||(n=t),n.children().first()},_getRowElements:function(n){var t=this.callBase(n);return t&&t.not("."+u)},_getFreeSpaceRowElements:function(){var n=this.getTableElements();return n&&n.children("tbody").children("."+u)},_getNoDataText:function(){return this.option("noDataText")},_updateNoDataText:function(t){t=t||this.element();var i=t.find("."+e),u=this._dataController.isEmpty(),f=this._dataController.isLoading(),r=this.option("rtlEnabled");i.length||(i=n("<span>").addClass(e).appendTo(t)),u&&!f?i.text(this._getNoDataText()).css({marginTop:-Math.floor(i.height()/2),marginRight:r?-Math.floor(i.width()/2):0,marginLeft:r?0:-Math.floor(i.width()/2)}).removeClass("dx-hidden"):i.addClass("dx-hidden")},_rowClick:function(i){var r=this._dataController.items()[i.rowIndex]||{};this.executeAction("onRowClick",n.extend({evaluate:function(n){var i=t.data.utils.compileGetter(n);return i(r.data)}},i,r))},_getGroupCellOptions:function(n){var t=(n.row.groupIndex||0)+n.columnsCountBeforeGroups;return{columnIndex:t,colspan:n.columns.length-t-1}},_renderCells:function(n,t){t.row.rowType==="group"?this._renderGroupedCells(n,t):t.row.values&&this.callBase(n,t)},_renderGroupedCells:function(t,r){for(var h,f=r.row,o=r.columns,c=f.rowIndex,s,l,a,e=this._getGroupCellOptions(r),u=0;u<=e.columnIndex;u++)s=u===e.columnIndex&&o[u].allowCollapsing&&r.scrollingMode!=="infinite"?!!f.isExpanded:null,this._renderCell(t,{value:s,row:f,rowIndex:c,column:{command:"expand",cssClass:o[u].cssClass},columnIndex:u});a=i.getDefaultAlignment(this.option("rtlEnabled")),l=n.extend({},o[e.columnIndex],{command:null,cssClass:null,showWhenGrouped:!1,alignment:a}),h=this._renderCell(t,{value:f.values[f.groupIndex],row:f,rowIndex:c,column:l,columnIndex:e.columnIndex}),h.attr("colspan",e.colspan)},_renderRows:function(t,i){for(var u=this,f=i.columns,e=0,o=u.option("scrolling.mode"),r=0;r<f.length;r++)if(f[r].command==="expand"){e=r;break}u.callBase(t,n.extend({scrollingMode:o,columnsCountBeforeGroups:e},i)),u._renderFreeSpaceRow(t)},_renderRow:function(t,r){var f=this,u=r.row,e=f.option("rowTemplate");(u.rowType==="data"||u.rowType==="group")&&!i.isDefined(u.groupIndex)&&e?f._renderTemplate(t,e,n.extend({columns:r.columns},u)):f.callBase(t,r)},_renderTable:function(n){var t=this.callBase(n);return i.isDefined(this._getTableElement())||(this._setTableElement(t),this._renderScrollable(t)),t},_renderCore:function(n){var t=this,i,r,u=t.element();u.addClass(y).toggleClass(w,!t.option("wordWrapEnabled")),i=t._renderTable({change:n}),r=t._findContentElement(),t._updateContent(r,n,i),t.callBase(n),t._lastColumnWidths=null},_getRows:function(n){return n&&n.items||this._dataController.items()},_getCellOptions:function(t){var h=this,o,e=t.column,u=t.row,f=u.data,c=u&&u.summaryCells,l=t.value,a=r.getDisplayValue(e,l,f),s=h.option("grouping"),v=h.option("scrolling.mode");return o=n.extend(this.callBase(t),{value:l,displayValue:a,row:u,key:u.key,data:f,rowType:u.rowType,values:u.values,text:!i.isDefined(e.command)&&r.formatValue(a,e),rowIndex:u.rowIndex,summaryItems:c&&c[t.columnIndex],resized:e.resizedCallbacks}),i.isDefined(e.groupIndex)&&v!=="virtual"&&v!=="infinite"&&(o.groupContinuesMessage=f&&f.isContinuationOnNextPage&&s&&s.groupContinuesMessage,o.groupContinuedMessage=f&&f.isContinuation&&s&&s.groupContinuedMessage),o},getCellOptions:function(n,t){var o=this._getRowElements().eq(n),r=o.data("options"),e=this.getCellElement(n,t),f=e&&r&&r.cells&&r.cells[e.index()],u;return r&&!f&&i.isString(t)&&(u=this._columnsController.columnOption(t),u&&(f=this._getCellOptions({value:u.calculateCellValue(r.data),rowIndex:r.rowIndex,row:r,column:u}))),f},getRow:function(t){var i=this._getRowElements();if(i.length>t)return n(i[t])},getCellIndex:function(n){return n.length?n[0].cellIndex:-1},updateFreeSpaceRowHeight:function(){var n=this,f,e=n._findContentElement(),t=n._getFreeSpaceRowElements(),o=0,i,r,u;t&&e&&(t.hide(),f=n.element().height(),o=e.outerHeight(),u=f-o-n.getScrollbarWidth(!0),n._dataController.items().length>0?u>0||!n._dataController.items().length?(t.height(u),t.show()):n._hasHeight||(i=n._dataController.pageSize()-n._dataController.items().length,r=n.option("scrolling.mode"),i>0&&n._dataController.pageCount()>1&&r!=="virtual"&&r!=="infinite"&&(t.height(i*n._rowHeight),t.show())):(t.height(0),t.show()))},_columnOptionChanged:function(n){var t=n.optionNames;n.changeTypes.grouping||(t.width||t.visibleWidth)&&(this.callBase(n),this._fireColumnResizedCallbacks())},getScrollable:function(){return this._scrollable},init:function(){var n=this,t=n.getController("data"),i;n.callBase(),n._editorFactoryController=n.getController("editorFactory"),n._rowHeight=0,n._scrollTop=0,n._scrollLeft=0,n._hasHeight=!1,t.loadingChanged.add(function(t,i){n.setLoading(t,i)}),i=function(){n.scrollToPage(t.pageIndex())},t.pageChanged.add(i),t.dataSourceChanged.add(function(){n._handleScroll({scrollOffset:{top:n._scrollTop,left:n._scrollLeft}})})},_handleDataChanged:function(n){var t=this;switch(n.changeType){case"refresh":case"prepend":case"append":case"update":t.render(null,n);break;default:t._update(n)}},publicMethods:function(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement"]},contentWidth:function(){return this.element().width()-this.getScrollbarWidth()},getScrollbarWidth:function(n){var t=this._scrollableContainer&&this._scrollableContainer.get(0),i=0;return t&&(i=n?t.offsetHeight-t.clientHeight:t.offsetWidth-t.clientWidth),i},_fireColumnResizedCallbacks:function(){for(var u=this,f=u._lastColumnWidths||[],r=[],t=u.getColumns(),n=0;n<t.length;n++)r[n]=t[n].visibleWidth,t[n].resizedCallbacks&&!i.isDefined(t[n].groupIndex)&&f[n]!==r[n]&&t[n].resizedCallbacks.fire(r[n]);u._lastColumnWidths=r},_updateLastRowBorder:function(){var n=this._getFreeSpaceRowElements().first(),t=n.css("display")==="none";this.option("showBorders")&&this.option("showRowLines")&&t&&this.element().addClass(d)},_updateScrollable:function(){var n=this.element().data("dxScrollable");n&&n._visibilityChanged(!0)},_resizeCore:function(){var n=this;n.callBase(),n._fireColumnResizedCallbacks(),n._updateRowHeight(),n._updateNoDataText(),n.updateFreeSpaceRowHeight(),n._updateLastRowBorder(),n._updateScrollable(),n.setLoading(n._dataController.isLoading())},scrollToPage:function(n){var t=this,r=t.option("scrolling.mode"),u=t._dataController,f=u?u.pageSize():0,i;i=r==="virtual"||r==="infinite"?n*t._rowHeight*f:0,t.scrollTo({y:i,x:t._scrollLeft})},scrollTo:function(n){var t=this.element(),i=t&&t.data("dxScrollable");i&&i.scrollTo(n)},height:function(n){var u=this,t=this.element(),r;if(i.isDefined(n))u._hasHeight=n!=="auto",t&&t.height(n),r=this._getFreeSpaceRowElements(),r&&r.hide();else return t?t.height():0},setLoading:function(n,t){var i=this,r=i._loadPanel,e=i._dataController,f=i.option("loadPanel")||{},o=e.isLoaded()?f.animation:null,u;r&&(u={message:t||f.text,animation:o,visible:n},clearTimeout(i._hideLoadingTimeoutID),r.option("visible")&&!n?i._hideLoadingTimeoutID=setTimeout(function(){r.option(u)},g):r.option(u),i._updateNoDataText())},isScrollbarVisible:function(){var n=this.element();return n?this._findContentElement().outerHeight()-n.height()>0:!1},setRowsOpacity:function(t,i){var r=this,u=r._getRowElements().not("."+f)||[];n.each(u,function(u,e){n(e).hasClass(f)||r.getCellElements(u).eq(t).css({opacity:i})})},getTopVisibleItemIndex:function(){var t=this,n=0,e=0,i=0,o,r,s=t._scrollTop,c=t._findContentElement().offset().top,f=t._dataController.items(),h=t._getTableElement();if(f.length&&h){for(o=h.children("tbody").children(".dx-row:visible, .dx-error-row").not("."+u),n=0;n<f.length;n++)if(e=i,r=o.eq(n),r.length&&(i=r.offset().top-c,i>s)){s*2<i+e&&n&&n--;break}n&&n===f.length&&n--}return n},getTopVisibleRowData:function(){var n=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[n])return t[n].data},optionChanged:function(n){var t=this;t.callBase(n);switch(n.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"twoWayBindingEnabled":t._invalidate(!0,!0),n.handled=!0;break;case"scrolling":t._rowHeight=null,t._tableElement=null,n.handled=!0;break;case"rtlEnabled":t._rowHeight=null,t._tableElement=null;break;case"loadPanel":t._tableElement=null,t._invalidate(!0,!0),n.handled=!0;break;case"noDataText":t._updateNoDataText(),n.handled=!0}},dispose:function(){clearTimeout(this._hideLoadingTimeoutID)},setScrollerSpacing:function(){}}),r.registerModule("rows",{defaultOptions:function(){return{hoverStateEnabled:!1,loadPanel:{enabled:!0,text:Globalize.localize("Loading"),width:200,height:70,showIndicator:!0,indicatorSrc:"",showPane:!0},rowTemplate:null,columnAutoWidth:!1,noDataText:Globalize.localize("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}},views:{rowsView:r.RowsView}})}(jQuery,DevExpress),function(n,t){var u=t.ui,i=u.dxDataGrid,r=t.require("/utils/utils.common"),f="dx-datagrid-pager",e=10;i.PagerView=i.View.inherit({init:function(){var n=this,t=n.getController("data");n._isVisible=!1,t.changed.add(function(t){t&&t.changeType==="update"||n.render()})},_getPager:function(){var n=this.element();return n&&n.data("dxPager")},_renderCore:function(){var i=this,o=i.element().addClass(f),t=i.option("pager")||{},n=i.getController("data"),u={maxPagesCount:e,pageIndex:1+(parseInt(n.pageIndex())||0),pageCount:n.pageCount(),pageSize:n.pageSize(),showPageSizes:t.showPageSizeSelector,showInfo:t.showInfo,pagesNavigatorVisible:t.visible,showNavigationButtons:t.showNavigationButtons,pageSizes:i.getPageSizes(),totalCount:n.totalCount(),hasKnownLastPage:n.hasKnownLastPage(),pageIndexChanged:function(t){n.pageIndex()!==t-1&&setTimeout(function(){n.pageIndex(t-1)})},pageSizeChanged:function(t){setTimeout(function(){n.pageSize(t)})}};r.isDefined(t.infoText)&&(u.infoText=t.infoText),i._createComponent(o,"dxPager",u)},getPageSizes:function(){var t=this,e=t.getController("data"),u=t.option("pager"),f=u&&u.allowedPageSizes,i=e.pageSize();return r.isDefined(t._pageSizes)&&n.inArray(i,t._pageSizes)!==-1||(t._pageSizes=[],u&&(n.isArray(f)?t._pageSizes=f:f&&i>1&&(t._pageSizes=[Math.floor(i/2),i,i*2]))),t._pageSizes},isVisible:function(){var n=this,i=n.getController("data"),u=n.option("pager"),t=u&&u.visible,r=n.option("scrolling");return n._isVisible?!0:(t==="auto"&&(t=r&&(r.mode==="virtual"||r.mode==="infinite")?!1:i.pageCount()>1||i.isLoaded()&&!i.hasKnownLastPage()),n._isVisible=t,t)},getHeight:function(){var n=this._getPager();return n&&this.isVisible()?n.getHeight():0},optionChanged:function(n){var t=this,i=n.name,r=i==="pager",u=i==="paging",f=i==="dataSource",e=i==="scrolling";(r||u||e||f)&&((r||u)&&(t._pageSizes=null),(r||u||e)&&(t._isVisible=!1),f||(t._invalidate(),r&&t.component&&t.component.resize()),n.handled=!0)}}),i.registerModule("pager",{defaultOptions:function(){return{pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto"}}},views:{pagerView:i.PagerView}})}(jQuery,DevExpress),function(n,t){var d=t.ui,s=t.require("/utils/utils.common"),e=t.require("/ui/events/ui.events.utils"),f=t.require("/ui/events/pointer/ui.events.pointer"),r=e.addNamespace,i=d.dxDataGrid,c=t.fx,g="dx-datagrid-columns-separator",l="dx-datagrid-columns-separator-transparent",a="dx-datagrid-drag-header",nt="dx-datagrid-text-content",h="dx-datagrid-drag-action",v="dx-datagrid-tracker",y="dx-block-separator",p="dx-datagrid-drop-highlight",w="dx-header-row",tt="dx-widget",u="dxDataGridResizingReordering",it=10,b=5,o=function(n){return n.option("allowColumnResizing")||n.getController("columns").isColumnOptionUsed("allowResizing")},k=function(n){return n.option("allowColumnReordering")||n.getController("columns").isColumnOptionUsed("allowReordering")};i.getPointsByColumns=function(n,t,i){for(var e=n.length,h=!1,o,u,f,c=[],l,s=0,r=0;r<=e;r++)r<e&&(u=n.eq(s),f=u.offset(),l=u.css("direction")==="rtl"),o={index:r,x:f?f.left+(!i&&l^r===e?u.outerWidth():0):0,y:f?f.top+(i&&r===e?u.outerHeight():0):0,columnIndex:s},t&&(h=t(o)),h||c.push(o),s++;return c},i.TrackerView=i.View.inherit({_renderCore:function(){this.callBase(),this.element().addClass(v),this.hide()},init:function(){var t=this,n;t.callBase(),t.getController("tablePosition").positionChanged.add(function(i){n=t.element(),n&&n.hasClass(v)&&(n.css({top:i.top}),n.height(i.height))})},isVisible:function(){return o(this)},show:function(){this.element().show()},hide:function(){this.element().hide()},setHeight:function(n){this.element().height(n)}}),i.SeparatorView=i.View.inherit({_renderSeparator:function(){},_renderCore:function(n){this.callBase(n),this._isShown=!0,this._renderSeparator(),this.hide()},show:function(){this._isShown=!0},hide:function(){this._isShown=!1},height:function(n){var t=this.element();if(t)if(s.isDefined(n))t.height(n);else return t.height()},width:function(n){var t=this.element();if(t)if(s.isDefined(n))t.width(n);else return t.width()}}),i.ColumnsSeparatorView=i.SeparatorView.inherit({_renderSeparator:function(){this.callBase();var n=this.element();n.addClass(g)},_subscribeToEvent:function(){var t=this,n;t.getController("tablePosition").positionChanged.add(function(i){n=t.element(),n&&(n.css({top:i.top}),n.height(i.height))})},isVisible:function(){return this.option("showColumnHeaders")&&(k(this)||o(this))},init:function(){this.callBase(),this._isTransparent=o(this),this.isVisible()&&this._subscribeToEvent()},show:function(){var t=this,n=this.element();n&&!t._isShown&&(t._isTransparent?n.removeClass(l):n.show()),this.callBase()},hide:function(){var n=this.element();n&&this._isShown&&(this._isTransparent?n.addClass(l):n.hide()),this.callBase()},moveByX:function(n){var t=this.element();t&&t.css("left",n-this._parentElement().offset().left)},changeCursor:function(n){n=s.isDefined(n)?n:"";var t=this.element();t&&t.css("cursor",n)}}),i.BlockSeparatorView=i.SeparatorView.inherit({_renderSeparator:function(){this.callBase(),this.element().addClass(y).html("&nbsp;")},hide:function(){var t=this,n=this._parentElement(),i=this.element();i&&this._isShown&&i.hide(),n&&!n.children("."+y).length&&n.prepend(t.element()),t.callBase()},isVisible:function(){var n=this.option("groupPanel"),t=this.option("columnChooser");return n&&n.visible||t&&t.enabled},show:function(n){var i=this,t=this.element(),r=function(n){c.stop(t,!0),c.animate(t,{type:"slide",from:{width:0,display:n.display},to:n,duration:300,easing:"swing"})};if(t&&!i._isShown)switch(n){case"group":r({width:"50px",display:"inline-block"});break;case"columnChooser":r({width:"100%",display:"block"});break;default:t.show()}i.callBase()}}),i.DraggingHeaderView=i.View.inherit({_isDragging:!1,_getDropOptions:function(){var n=this;if(n._dragOptions)return{sourceColumnIndex:n._dragOptions.columnIndex,sourceColumnElement:n._dragOptions.columnElement,sourceLocation:n._dragOptions.sourceLocation,targetColumnIndex:n._dropColumnIndex,targetLocation:n._dropLocation}},_getDraggingPanelByPos:function(t){var r=this,i;return n.each(r._dragOptions.draggingPanels,function(n,r){if(r){var u=r.getBoundingRect();if(u&&(u.bottom===undefined||t.y<u.bottom)&&(u.top===undefined||t.y>u.top)&&(u.left===undefined||t.x>u.left)&&(u.right===undefined||t.x<u.right))return i=r,!1}}),i},_renderCore:function(){this.element().addClass(a+" "+nt+" "+tt).css("display","none")},dispose:function(){var n=this.element();this._dragOptions=null,n&&n.parent().find("."+a).remove()},isVisible:function(){var t=this.getController("columns"),n=t.getCommonSettings();return this.option("showColumnHeaders")&&(k(this)||n.allowGrouping||n.allowHiding)},init:function(){this.callBase(),this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer")},dragHeader:function(t){var r=this,i=t.columnElement;r._dragOptions=t,r._isDragging=!0,r._dropColumnIndex=t.columnIndex,r._dropLocation=t.sourceLocation,r._onSelectStart=document.onselectstart,document.onselectstart=function(){return!1},r.element().css({textAlign:i&&i.css("text-align"),height:i&&i.height(),width:i&&i.width(),whiteSpace:i&&i.css("white-space")}).addClass(h).text(t.sourceColumn.caption),r.element().appendTo(n(document.body))},moveHeader:function(n){var u=n.jQueryEvent,t=u.data.that,f,o,s,h,r=e.eventData(u),c=t._columnsResizerViewController?t._columnsResizerViewController.isResizing():!1,i=t._dragOptions;t._isDragging&&!c&&(s=Math.abs(r.x-i.columnElement.offset().left-i.deltaX),h=Math.abs(r.y-i.columnElement.offset().top-i.deltaY),(t.element().is(":visible")||s>b||h>b)&&(t.element().show(),f=r.x-i.deltaX,o=r.y-i.deltaY,t.element().offset({left:f,top:o}),t.dockHeader(r)),u.preventDefault())},dockHeader:function(t){var r=this,e=r._getDraggingPanelByPos(t),c=r._controller,i,u,s;if(e){var a=r.option("rtlEnabled"),l=e.getName()==="columnChooser",o=l?"y":"x",h=e.getColumnElements()||[],f=c._generatePointsByColumns(n.extend({},r._dragOptions,{targetDraggingPanel:e,columns:e.getColumns(),columnElements:h,isVerticalOrientation:l}));if(r._dropLocation=e.getName(),f.length>0){for(i=0;i<f.length;i++)if(s=f[i+1]&&(f[i][o]+f[i+1][o])/2,s===undefined||(a&&o==="x"?t[o]>s:t[o]<s)){r._dropColumnIndex=f[i].columnIndex,u=r._getDropOptions(),h[i]?u.targetColumnElement=h.eq(i):(u.targetColumnElement=h.last(),u.isLast=!0),u.posX=f[i].x,c.dock(u);break}}else r._dropColumnIndex=-1,u=r._getDropOptions(),c.dock(u)}},dropHeader:function(n){var r=n.jQueryEvent,t=r.data.that,i=t._controller;t.element().hide(),i&&t._isDragging&&i.drop(t._getDropOptions()),t.element().appendTo(t._parentElement()),t._dragOptions=null,t._isDragging=!1,document.onselectstart=t._onSelectStart||null}}),i.ColumnsResizerViewController=i.ViewController.inherit({_isHeadersRowArea:function(n){if(this._columnHeadersView){var i=this._columnHeadersView.element(),r,t;if(i)return t=i.offset().top,r=this._columnHeadersView.getHeadersRowHeight(),n>=t&&n<=t+r}return!1},_pointCreated:function(n,t,i){var r,u;return n.index>0&&n.index<t?(n.columnIndex-=1,r=i[n.columnIndex]||{},u=i[n.columnIndex+1]||{},!(r.allowResizing&&u.allowResizing)):!0},_getTargetPoint:function(n,t,i){if(n)for(var r=0;r<n.length;r++)if(n[r].x-i<=t&&t<=n[r].x+i)return n[r];return null},_moveSeparator:function(n){var r=n.jQueryEvent,t=r.data,s=t._pointsByColumns,u=t._columnsSeparatorView.width(),f=t._columnsSeparatorView.element().offset(),h=u/2,o=t._$parentContainer.offset().left,i=e.eventData(r);t._isResizing?o<=i.x&&i.x<=o+t._$parentContainer.width()&&t._updateColumnsWidthIfNeeded(t._targetPoint.columnIndex,i.x)&&(t._columnsSeparatorView.moveByX(t._targetPoint.x+(i.x-t._resizingInfo.startPosX)),t._tablePositionController.update(),r.preventDefault()):t._isHeadersRowArea(i.y)?(t._targetPoint=t._getTargetPoint(s,i.x,u),t._isReadyResizing=!1,t._columnsSeparatorView.changeCursor(),t._targetPoint&&f.top<=i.y&&f.top+t._columnsSeparatorView.height()>=i.y&&(t._columnsSeparatorView.changeCursor("col-resize"),t._columnsSeparatorView.moveByX(t._targetPoint.x-h),t._isReadyResizing=!0,r.preventDefault())):(t._isReadyResizing=!1,t._columnsSeparatorView.changeCursor())},_endResizing:function(n){var i=n.jQueryEvent,t=i.data;t._isResizing&&(t._generatePointsByColumns(),t._resizingInfo=null,t._columnsSeparatorView.hide(),t._columnsSeparatorView.changeCursor(),t._trackerView.hide(),t._isReadyResizing=!1,t._isResizing=!1)},_setupResizingInfo:function(n){var t=this,i=t._columnHeadersView.getHeaderElement(t._targetPoint.columnIndex),r=t._columnHeadersView.getHeaderElement(t._targetPoint.columnIndex+1);t._resizingInfo={startPosX:n,currentColumnWidth:i&&i.length>0?i.outerWidth():0,nextColumnWidth:r&&r.length>0?r.outerWidth():0}},_startResizing:function(n){var i=n.jQueryEvent,t=i.data,r=e.eventData(i);e.isTouchEvent(i)&&(t._isHeadersRowArea(r.y)?(t._targetPoint=t._getTargetPoint(t._pointsByColumns,r.x,it),t._targetPoint&&(t._columnsSeparatorView.moveByX(t._targetPoint.x-t._columnsSeparatorView.width()/2),t._isReadyResizing=!0)):t._isReadyResizing=!1),t._isReadyResizing&&(t._targetPoint,t._setupResizingInfo(r.x),t._columnsSeparatorView.show(),t._trackerView.show(),t._isResizing=!0,i.preventDefault(),i.stopPropagation())},_generatePointsByColumns:function(){var n=this,u=n._columnsController?n._columnsController.getVisibleColumns():[],t=n._columnHeadersView.getColumnElements(),r=[];t&&t.length>0&&(r=i.getPointsByColumns(t,function(i){return n._pointCreated(i,t.length,u)})),n._pointsByColumns=r},_unsubscribeFromEvents:function(){this._moveSeparatorHandler&&this._$parentContainer.off(r(f.move,u),this._moveSeparatorHandler),this._startResizingHandler&&this._$parentContainer.off(r(f.down,u),this._startResizingHandler),this._endResizingHandler&&(this._columnsSeparatorView.element().off(r(f.up,u),this._endResizingHandler),n(document).off(r(f.up,u),this._endResizingHandler))},_subscribeToEvents:function(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing);this._$parentContainer.on(r(f.move,u),this,this._moveSeparatorHandler);this._$parentContainer.on(r(f.down,u),this,this._startResizingHandler);this._columnsSeparatorView.element().on(r(f.up,u),this,this._endResizingHandler);n(document).on(r(f.up,u),this,this._endResizingHandler)},_updateColumnsWidthIfNeeded:function(n,t){var r,e=!1,o,i=this._columnsController,h=i.getVisibleColumns(),c=this._columnsSeparatorView.width(),u,f,s;return r=t-this._resizingInfo.startPosX,this.option("rtlEnabled")&&(r=-r),s=this._resizingInfo.currentColumnWidth+r,o=this._resizingInfo.nextColumnWidth-r,e=!(s<=c||o<=c),e&&(u=h[n],f=h[n+1],i.beginUpdate(),u&&i.columnOption(u.index,"visibleWidth",undefined),f&&i.columnOption(f.index,"visibleWidth",undefined),u&&i.columnOption(u.index,"width",Math.floor(s)),f&&i.columnOption(f.index,"width",Math.floor(o)),i.endUpdate()),e},isResizing:function(){return this._isResizing},init:function(){var n=this,i,t,r=function(t){n._scrollLeft!==t.left&&(n._scrollLeft=t.left,n._generatePointsByColumns())},u=function(){n._generatePointsByColumns()};n.callBase(),o(n)&&(n._columnsSeparatorView=n.getView("columnsSeparatorView"),n._columnHeadersView=n.getView("columnHeadersView"),n._trackerView=n.getView("trackerView"),n._rowsView=n.getView("rowsView"),n._columnsController=n.getController("columns"),n._tablePositionController=n.getController("tablePosition"),n._$parentContainer=n._columnsSeparatorView.component.element(),n._columnHeadersView.renderCompleted.add(u),n._columnHeadersView.resizeCompleted.add(u),n._columnsSeparatorView.renderCompleted.add(function(){n._unsubscribeFromEvents(),n._subscribeToEvents()}),n._rowsView.renderCompleted.add(function(){n._rowsView.scrollChanged.remove(r),n._rowsView.scrollChanged.add(r)}),i=n.getView("gridView"),t=n._rowsView.getScrollbarWidth()!==0,n.getController("tablePosition").positionChanged.add(function(){if(n._isResizing&&!n._rowsView.isResizing){var r=n._rowsView.getScrollbarWidth()!==0;t!==r?(t=r,i.resize()):n._rowsView.updateFreeSpaceRowHeight()}}))},dispose:function(){this._unsubscribeFromEvents()}}),i.TablePositionViewController=i.ViewController.inherit({update:function(){var n=this._columnHeadersView.element(),t=this._columnHeadersView?this._columnHeadersView.getHeight():0,i=this._rowsView?this._rowsView.height()-this._rowsView.getScrollbarWidth(!0):0;this.positionChanged.fire({height:t+i,top:n&&n.length>0?Math.floor(n[0].offsetTop):0})},init:function(){var n=this;n.callBase(),n._columnHeadersView=this.getView("columnHeadersView"),n._rowsView=this.getView("rowsView"),n._pagerView=this.getView("pagerView"),n._rowsView.resizeCompleted.add(function(){n.update()})},ctor:function(t){this.callBase(t),this.positionChanged=n.Callbacks()}}),i.DraggingHeaderViewController=i.ViewController.inherit({_generatePointsByColumns:function(n){var t=this;return i.getPointsByColumns(n.columnElements,function(i){return t._pointCreated(i,n.columns,n.targetDraggingPanel.getName(),n.sourceColumn)},n.isVerticalOrientation)},_pointCreated:function(n,t,i,r){var u=t[n.columnIndex],f=t[n.columnIndex-1];switch(i){case"columnChooser":return!0;case"headers":return r&&!r.allowReordering||(!u||!u.allowReordering)&&(!f||!f.allowReordering);default:return t.length===0}},_subscribeToEvents:function(t,i){var f=this;n.each(i,function(o,s){if(s){var l=s.getColumnElements()||[],a=s.getName(),c=s.getColumns()||[];n.each(l,function(o,l){var v=n(l);if(s.allowDragging(c[o],i)){v.addClass(h);v.on(r("dxdragstart",u),f.createAction(function(r){var u=r.jQueryEvent,f=e.eventData(u);t.dragHeader({deltaX:f.x-n(u.currentTarget).offset().left,deltaY:f.y-n(u.currentTarget).offset().top,sourceColumn:c[o],columnIndex:o,columnElement:v,sourceLocation:a,draggingPanels:i})}));v.on(r("dxdrag",u),{that:t},f.createAction(t.moveHeader));v.on(r("dxdragend",u),{that:t},f.createAction(t.dropHeader))}})}})},_unsubscribeFromEvents:function(t,i){n.each(i,function(t,i){if(i){var f=i.getColumnElements()||[];n.each(f,function(t,i){var f=n(i);f.off(r("dxdragstart",u)),f.off(r("dxdrag",u)),f.off(r("dxdragend",u)),f.removeClass(h)})}})},_getSeparator:function(n){return n==="headers"?this._columnsSeparatorView:this._blockSeparatorView},hideSeparators:function(){var n=this._blockSeparatorView,t=this._columnsSeparatorView;this._animationColumnIndex=null,n&&n.hide(),t&&t.hide()},init:function(){var n=this,t;n.callBase(),n._columnsController=n.getController("columns"),n._columnHeadersView=n.getView("columnHeadersView"),n._columnsSeparatorView=n.getView("columnsSeparatorView"),n._draggingHeaderView=n.getView("draggingHeaderView"),n._rowsView=n.getView("rowsView"),n._blockSeparatorView=n.getView("blockSeparatorView"),n._headerPanelView=n.getView("headerPanel"),n._columnChooserView=n.getView("columnChooserView"),t=function(){if(n._draggingHeaderView){var t=[n._columnChooserView,n._columnHeadersView,n._headerPanelView];n._unsubscribeFromEvents(n._draggingHeaderView,t),n._subscribeToEvents(n._draggingHeaderView,t)}},n._columnHeadersView.renderCompleted.add(t),n._headerPanelView&&n._headerPanelView.renderCompleted.add(t),n._columnChooserView&&n._columnChooserView.renderCompleted.add(t)},allowDrop:function(n){return this._columnsController.allowMoveColumn(n.sourceColumnIndex,n.targetColumnIndex,n.sourceLocation,n.targetLocation)},dock:function(n){var t=this,u=n.targetColumnIndex,f=n.sourceLocation,s=n.sourceColumnIndex,e=n.sourceColumnElement,r=n.targetLocation,i=t._getSeparator(r),o=u>=0,h=function(){t._animationColumnIndex!==u&&(t.hideSeparators(),i.element()[n.isLast?"insertAfter":"insertBefore"](n.targetColumnElement),t._animationColumnIndex=u,i.show(r))};t._columnHeadersView.element().find("."+w).toggleClass(p,f!=="headers"&&r==="headers"&&!o),i&&(e&&(e.css({opacity:.5}),f==="headers"&&t._rowsView.setRowsOpacity(s,.5)),t.allowDrop(n)&&o?r==="group"||r==="columnChooser"?h():(t.hideSeparators(),i.moveByX(n.posX-i.width()),i.show()):t.hideSeparators())},drop:function(n){var i=n.sourceColumnElement,t;i&&(i.css({opacity:""}),this._rowsView.setRowsOpacity(n.sourceColumnIndex,""),this._columnHeadersView.element().find("."+w).removeClass(p)),this.allowDrop(n)&&(t=this._getSeparator(n.targetLocation),t&&t.hide(),this._columnsController.moveColumn(n.sourceColumnIndex,n.targetColumnIndex,n.sourceLocation,n.targetLocation))},dispose:function(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}}),i.registerModule("columnsResizingReordering",{views:{columnsSeparatorView:i.ColumnsSeparatorView,blockSeparatorView:i.BlockSeparatorView,draggingHeaderView:i.DraggingHeaderView,trackerView:i.TrackerView},controllers:{draggingHeader:i.DraggingHeaderViewController,tablePosition:i.TablePositionViewController,columnsResizer:i.ColumnsResizerViewController}})}(jQuery,DevExpress),function(n,t){var r=t.ui,i=r.dxDataGrid,u="dx-datagrid",f="dx-context-menu",e={columnHeadersView:"header",rowsView:"content",footerView:"footer"},o=["columnHeadersView","rowsView","footerView"];i.ContextMenuController=i.ViewController.inherit({init:function(){this.createAction("onContextMenuPreparing")},getContextMenuItems:function(t){var c=this,i,u,f,s,l,r,h;return n.each(o,function(){return i=c.getView(this),i&&i.element().find(t).length&&(r=t.closest("td"),l=r.closest(".dx-row"),f=i.getRowIndex(l),s=r[0]&&r[0].cellIndex,u={targetElement:t,target:e[this],rowIndex:f,row:i._getRows()[f],columnIndex:s,column:i.getColumns()[s],items:i.getContextMenuItems&&i.getContextMenuItems(t)},c.executeAction("onContextMenuPreparing",u),h=u.items,h)?!1:void 0}),h}}),i.ContextMenuView=i.View.inherit({_renderCore:function(){var t=this;this._createComponent(t.element().addClass(f),"dxContextMenu",{onPositioning:function(i){var r=i.jQueryEvent,f=n(r.target),e=i.component,u=t.getController("contextMenu").getContextMenuItems(f);u?(e.option("items",u),r.stopPropagation()):i.canceled=!0},onItemClick:function(n){n.itemData.onItemClick&&n.itemData.onItemClick(n)},cssClass:u,target:t.component.element()})}}),i.registerModule("contextMenu",{defaultOptions:function(){return{onContextMenuPreparing:null}},controllers:{contextMenu:i.ContextMenuController},views:{contextMenuView:i.ContextMenuView}})}(jQuery,DevExpress),function(n,t){var h=t.ui,i=h.dxDataGrid,r=t.require("/utils/utils.common"),c=t.require("/ui/ui.keyboardProcessor"),u=t.require("/ui/events/ui.events.utils"),f=t.require("/ui/events/pointer/ui.events.pointer"),e="dx-row",l="dx-group-row",a="dx-datagrid-rowsview",o="dx-master-detail-row",v="dx-datagrid-group-footer",y="dx-command-expand",p=".dx-datagrid",w=".dx-checkbox, .dx-menu, input, textarea",b=["rowsView"],s="row",k="form";i.KeyboardNavigationController=i.ViewController.inherit({_isRowEditMode:function(){var n=this._editingController.getEditMode();return n===s||n===k},_focusView:function(n,t){this._focusedViews.viewIndex=t,this._focusedView=n},_focusInteractiveElement:function(n){var t=n.find(w).first();t.focus()},_updateFocus:function(){var t=this,i=t._getFocusedCell();i&&(t._hasSkipRow(i.parent())&&(i=t._getNextCell(this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow")),i&&i.length>0&&setTimeout(function(){t.getController("editorFactory").focus()&&t._focus(i),t._editingController.isEditing()&&n.proxy(t._focusInteractiveElement,t)(i)}))},_clickHandler:function(t){var i=t.jQueryEvent,r=n(i.currentTarget),u=n(i.target).closest(p).parent();u.is(this.component.element())&&this._isCellValid(r,!0)?(this._focusView(i.data.view,i.data.viewIndex),this._updateFocusedCellPosition(r),this._editingController.isEditing()||r.focus()):this._resetFocusedCell(this)},_initFocusedViews:function(){var t=this,i=t.createAction(t._clickHandler);t._focusedViews=[],n.each(b,function(n,i){var r=t.getView(i);r&&r.isVisible()&&t._focusedViews.push(r)}),n.each(t._focusedViews,function(n,r){r&&r.renderCompleted.add(function(){var o=r.element();o.off(u.addNamespace(f.down,"dxDataGridKeyboardNavigation"),i);o.on(u.addNamespace(f.down,"dxDataGridKeyboardNavigation"),"."+e+" td",{viewIndex:n,view:r},i);t._initKeyDownProcessor(t,o,t._keyDownHandler),t._focusedView&&t._focusedView.name===r.name&&t._isNeedFocus&&t._updateFocus()})})},_initKeyDownProcessor:function(n,t,i){this._keyDownProcessor&&(this._keyDownProcessor.dispose(),this._keyDownProcessor=null),this._keyDownProcessor=new c({element:t,context:n,handler:i})},_getFocusedCell:function(){if(this._focusedView&&this._focusedCellPosition)return this._focusedView.getCell(this._focusedCellPosition)},_updateFocusedCellPosition:function(n){var t=this,i=t.getView("rowsView");n.length>0&&(this._focusedCellPosition={columnIndex:i.getCellIndex(n),rowIndex:n.parent().length>0&&t._focusedView?t._focusedView.getRowIndex(n.parent()):null})},_isCellValid:function(n,t){var o;if(r.isDefined(n)){var u=this.getView("rowsView"),f=this._columnsController.getVisibleColumns(),h=u.getRowIndex(n.parent()),e=u.getCellIndex(n),i=f[e],c=this._editingController.getEditMode(),l=c===s?this._editingController.isEditRow(h):this._editingController.isEditing(),a=function(){return i&&!r.isDefined(i.groupIndex)||parseInt(n.attr("colspan"))>1};if(f.length>e&&a())return o=t?!1:i.command==="expand",i&&!r.isDefined(i.command)&&(!l||i.allowEditing)||o}},_isCellByPositionValid:function(n,t){var i=this._focusedView&&this._focusedView.getCell(n);return this._isCellValid(i,t)},_isGroupRow:function(n){return n&&n.hasClass(l)},_focus:function(n){var i=n.parent(),r=this._getFocusedCell(),t;r&&r.attr("tabindex",null),this._isGroupRow(i)?(t=i,this._focusedCellPosition.rowIndex=this._focusedView.getRowIndex(i)):(t=n,this._updateFocusedCellPosition(n)),t.attr("tabindex",0),t.focus(),this.getController("editorFactory").focus(t)},_hasSkipRow:function(n){return n&&(n.hasClass(o)||n.hasClass(v))},_enterKeyHandler:function(t,i){var o=this._getFocusedCell(),s=this.option("editing"),r=this._focusedCellPosition?this._focusedCellPosition.rowIndex:null,h=this._focusedView&&this._focusedView.getRow(r),f,u,e;this.option("grouping.allowCollapsing")&&this._isGroupRow(h)||this.option("masterDetail.enabled")&&o.hasClass(y)?(f=this._dataController.getKeyByRowIndex(r),u=this._dataController.items()[r],f!==undefined&&u&&u.data&&!u.data.isContinuation&&this._dataController.changeRowExpand(f)):i?(this._updateFocusedCellPosition(this._getCellElementFromTarget(t.originalEvent.target)),this._isRowEditMode()?setTimeout(n.proxy(this._editingController.saveEditData,this._editingController)):this._editingController.closeEditCell()):(e=this._columnsController.getVisibleColumns()[this._focusedCellPosition.columnIndex],s.allowUpdating&&e.allowEditing&&(this._isRowEditMode()?this._editingController.editRow(r):this._focusedCellPosition&&this._editingController.editCell(r,this._focusedCellPosition.columnIndex)))},_leftRightKeysHandler:function(n,t){var u=this._focusedCellPosition?this._focusedCellPosition.rowIndex:null,f=this._focusedView&&this._focusedView.getRow(u),r,i;t||this._isGroupRow(f)||(r=this._getDirectionCodeByKey(n.key),i=this._getNextCell(r),i&&this._isCellValid(i)&&this._focus(i),n.originalEvent.preventDefault())},_getDirectionCodeByKey:function(n){var t;return t=this.option("rtlEnabled")?n==="leftArrow"?"nextInRow":"previousInRow":n==="leftArrow"?"previousInRow":"nextInRow"},_upDownKeysHandler:function(n,t){var r=this._focusedCellPosition?this._focusedCellPosition.rowIndex:null,i;t||(r===0||this._focusedView&&r===this._focusedView.getRowsCount()-1,i=this._getNextCell(n.key),i&&this._isCellValid(i)&&this._focus(i),n.originalEvent.preventDefault())},_pageUpKeyHandler:function(n){var t=this.option("scrolling.mode"),i=this._dataController.pageIndex(),r=t==="virtual"||t==="infinite";i>0&&!r&&(this._dataController.pageIndex(i-1),n.originalEvent.preventDefault())},_pageDownKeyHandler:function(n){var t=this.option("scrolling.mode"),r=t==="virtual"||t==="infinite",i=this._dataController.pageIndex(),u=this._dataController.pageCount();i<u-1&&!r&&(this._dataController.pageIndex(i+1),n.originalEvent.preventDefault())},_spaceKeyHandler:function(n,t){var i=this._focusedCellPosition?this._focusedCellPosition.rowIndex:null;this.option("selection")&&this.option("selection").mode!=="none"&&!t&&(this._selectionController.changeItemSelection(i,{shift:n.shift,control:n.ctrl}),n.originalEvent.preventDefault())},_crtlAKeyHandler:function(n){n.ctrl&&this.option("selection.mode")==="multiple"&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),n.originalEvent.preventDefault())},_tabKeyHandler:function(t,i){var e=this.option("editing"),u=t.shift?"previous":"next",s=!t.shift&&this._isLastValidCell(this._focusedCellPosition)||t.shift&&this._isFirstValidCell(this._focusedCellPosition),r,h,f;if(n(t.originalEvent.target).closest("."+o).length){r=this._getNextCell(u,null,null,!0),r.attr("tabindex",0),this._updateFocusedCellPosition(r);return}e&&t.originalEvent.target&&!s&&(i?(this._updateFocusedCellPosition(this._getCellElementFromTarget(t.originalEvent.target)),r=this._getNextCell(u),h=this._columnsController.getVisibleColumns()[this.getView("rowsView").getCellIndex(r)],f=e.allowUpdating&&h.allowEditing,f||this._editingController.closeEditCell(),this._focusCell(r)&&(!this._isRowEditMode()&&f?this._editingController.editCell(this._focusedCellPosition.rowIndex,this._focusedCellPosition.columnIndex):this._focusInteractiveElement(r))):(r=this._getNextCell(u,this._getElementType(t.originalEvent.target)),this._focusCell(r))),s?this._editingController.isEditing()&&this._editingController.getEditMode()!==this._isRowEditMode()&&this._editingController.closeEditCell():t.originalEvent.preventDefault()},_focusCell:function(n){if(this._isCellValid(n))return this._focus(n),!0},_getElementType:function(t){return n(t).is("tr")?"row":"cell"},_escapeKeyHandler:function(n,t){if(t){var i=this._getCellElementFromTarget(n.originalEvent.target);this._updateFocusedCellPosition(i),this._isRowEditMode()?this._editingController.cancelEditData():this._editingController.closeEditCell(),n.originalEvent.preventDefault()}},_ctrlFKeyHandler:function(n){n.ctrl&&this.option("searchPanel")&&this.option("searchPanel").visible&&(this._headerPanel.focus(),n.originalEvent.preventDefault())},_keyDownHandler:function(n){var t=this._editingController.isEditing(),i={handled:!1,jQueryEvent:n.originalEvent};if((this.executeAction("onKeyDown",i),!n.originalEvent.isDefaultPrevented())&&(this._isNeedFocus=!0,this._isNeedScroll=!0,!i.handled)){switch(n.key){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(n,t);break;case"upArrow":case"downArrow":this._upDownKeysHandler(n,t);break;case"pageUp":this._pageUpKeyHandler(n);break;case"pageDown":this._pageDownKeyHandler(n);break;case"space":this._spaceKeyHandler(n,t);break;case"A":this._crtlAKeyHandler(n);break;case"tab":this._tabKeyHandler(n,t);break;case"enter":this._enterKeyHandler(n,t);break;case"escape":this._escapeKeyHandler(n,t);break;case"F":this._ctrlFKeyHandler(n)}n.originalEvent.stopPropagation()}},_isLastRow:function(n){return n===this.getController("data").items().length-1},_getNextCell:function(t,i,r){var f=r||this._focusedCellPosition,h=n.inArray(t,["next","previous"])>-1,o,e,u,s;if(this._focusedView&&f){if(e=this._getNewPositionByCode({columnIndex:f.columnIndex,rowIndex:f.rowIndex},i,t),u=this._focusedView.getCell(e),!this._isCellValid(u)&&this._isCellInRow(e.columnIndex,h)&&(u=this._getNextCell(t,"cell",e)),s=u&&u.parent(),this._hasSkipRow(s)){if(o=this._focusedView.getRowIndex(s),this._isLastRow(o))return null;u=this._getNextCell(t,"row",{columnIndex:f.columnIndex,rowIndex:o})}return u}return null},_getNewPositionByCode:function(n,t,i){var u=n.columnIndex,r=n.rowIndex,f=this.getController("columns").getVisibleColumns().length;switch(i){case"nextInRow":case"next":u<f-1&&!this._isLastValidCell({columnIndex:u,rowIndex:r})&&t!=="row"?u++:this._isLastRow(r)||i!=="next"||(u=0,r++);break;case"previousInRow":case"previous":u>0&&!this._isFirstValidCell({columnIndex:u,rowIndex:r})&&t!=="row"?u--:r>0&&i==="previous"&&(u=f-1,r--);break;case"upArrow":r=r>0?r-1:r;break;case"downArrow":r=this._isLastRow(r)?r:r+1}return{columnIndex:u,rowIndex:r}},_isFirstValidCell:function(n){var t=!1;return n.rowIndex===0&&n.columnIndex>=0&&(t=t||!this._haveValidCellBeforePosition(n)),t},_haveValidCellBeforePosition:function(n){for(var i=n.columnIndex,t=!1,r;i>0&&!t;)r={columnIndex:--i,rowIndex:n.rowIndex},t=this._isCellByPositionValid(r);return t},_isLastValidCell:function(n){var t={columnIndex:n.columnIndex+1,rowIndex:n.rowIndex},i=this.getController("columns").getVisibleColumns().length,r=this._isCellByPositionValid(t);return!this._isLastRow(n.rowIndex)||r?!1:n.columnIndex===i-1?!0:this._isLastValidCell(t)},_isCellInRow:function(n,t){var i=this.getController("columns").getVisibleColumns().length;return t?n>=0&&n<=i-1:n>0&&n<i-1},_resetFocusedCell:function(n){var t=n._getFocusedCell();t&&t.attr("tabindex",null),n._isNeedFocus=!1,n._isNeedScroll=!1},_getCellElementFromTarget:function(t){return n(t).closest("."+e+"> td")},init:function(){var t=this;if(t.option("useKeyboard")){t._dataController=t.getController("data"),t._selectionController=t.getController("selection"),t._editingController=t.getController("editing"),t._headerPanel=t.getView("headerPanel"),t._columnsController=t.getController("columns"),t.getController("editorFactory").focused.add(function(n){t.setupFocusedView(),t._isNeedScroll&&n.is(":visible")&&t._focusedView&&t._focusedView.getScrollable&&(t._scrollToElement(n),t._isNeedScroll=!1)}),t._focusedCellPosition={columnIndex:0,rowIndex:0},t._dataController.changed.add(function(n){t._focusedCellPosition&&n&&n.changeType==="prepend"&&(t._focusedCellPosition.rowIndex+=n.items.length)}),t._initFocusedViews(),t._documentClickHandler=t.createAction(function(i){n(i.jQueryEvent.target).closest("."+a).length||t._resetFocusedCell(t)}),t.createAction("onKeyDown");n(document).on(u.addNamespace(f.down,"dxDataGridKeyboardNavigation"),t._documentClickHandler)}},_scrollToElement:function(n,t){this._focusedView.getScrollable().scrollToElement(n,t)},focus:function(n){var t=this._getFocusedViewByElement(n);t&&(this._focusView(t.view,t.viewIndex),this._isNeedFocus=!0,this._isNeedScroll=!0,this._focus(n),this._isHeaderView(t.view.name)&&this._focusInteractiveElement(n))},getFocusedView:function(){return this._focusedView},_getFocusedViewByElement:function(n){var t=function(t){return n.closest(t._$element).length};return this._getFocusedViewByCondition(t)},_getFocusedViewByCondition:function(t){var i;return n.each(this._focusedViews,function(n,r){if(t(r))return i={viewIndex:n,view:r},!1}),i},_isHeaderView:function(n){return n==="columnHeadersView"},focusViewByName:function(n){var t=this._getFocusedViewByName(n);this._focusView(t.view,t.viewIndex)},setupFocusedView:function(){r.isDefined(this._focusedView)||this.focusViewByName("rowsView")},_getFocusedViewByName:function(n){var t=function(t){return t.name===n};return this._getFocusedViewByCondition(t)},optionChanged:function(n){var t=this;switch(n.name){case"useKeyboard":n.handled=!0;break;default:t.callBase(n)}},dispose:function(){this.callBase(),this._focusedView=null,this._focusedViews=null,this._keyDownProcessor&&this._keyDownProcessor.dispose(),n(document).off(u.addNamespace(f.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}}),i.registerModule("keyboardNavigation",{defaultOptions:function(){return{useKeyboard:!0}},controllers:{keyboardNavigation:i.KeyboardNavigationController},extenders:{views:{rowsView:{_renderCore:function(n){this.callBase(n),this.element().attr("tabindex",this.option("useKeyboard")?0:null),n&&n.changeType==="update"&&(this.getController("keyboardNavigation")._isNeedFocus=!0)}}},controllers:{editing:{editCell:function(n,t){var i=this.callBase(n,t),r=this.getController("keyboardNavigation");return i&&r.setupFocusedView(),i},getFocusedCellInRow:function(n){var i=this.getController("keyboardNavigation"),t=this.callBase(n);return this.option("useKeyboard")&&i._focusedCellPosition.rowIndex===n&&(t=i._getFocusedCell()||t),t}}}}})}(jQuery,DevExpress),function(n,t){var u=t.ui,i=u.dxDataGrid,r="dx-error-row",f="dx-error-message",e="dx-closebutton",o="dx-datagrid-action";i.ErrorHandlingController=i.ViewController.inherit({init:function(){var n=this;n._columnHeadersView=n.getView("columnHeadersView"),n._rowsView=n.getView("rowsView")},_createErrorRow:function(t,i){var u=this,s=n("<tr />").addClass(r),c=n("<div/>").addClass(f).text(t),h=n("<div/>").addClass(e).addClass(o);h.on("dxclick",u.createAction(function(t){var f=t.jQueryEvent,e,o=n(f.currentTarget).closest("."+r).index();f.stopPropagation(),n.each(i,function(t,i){e=n(i).find("tbody > tr").eq(o),u.removeErrorRow(e)})}));return n("<td/>").attr({colspan:u._columnHeadersView.getColumnCount(),role:"presentation"}).prepend(h).append(c).appendTo(s),s},renderErrorRow:function(t,i){var r=this,u,f,e,o=i>=0?r._rowsView:r._columnHeadersView,s=o.getTableElements();n.each(s,function(h,c){f=r._createErrorRow(t,s),e=n(c).find("tr"),i>=0?(u=o._getRowElements(n(c)).eq(i),r.removeErrorRow(e.eq(u.index()+1)),f.insertAfter(u)):(r.removeErrorRow(e.last()),n(c).append(f))})},removeErrorRow:function(n){n.hasClass(r)&&n.remove()},optionChanged:function(n){var t=this;switch(n.name){case"errorRowEnabled":n.handled=!0;break;default:t.callBase(n)}}}),i.registerModule("errorHandling",{defaultOptions:function(){return{errorRowEnabled:!0}},controllers:{errorHandling:i.ErrorHandlingController},extenders:{controllers:{data:{init:function(){var n=this,t=n.getController("errorHandling");n.callBase(),n.dataErrorOccurred.add(function(i){var r=i&&i.message||i;n.option("errorRowEnabled")&&t.renderErrorRow(r)})}}}}})}(jQuery,DevExpress),function(n,t){var c=t.ui,l=DevExpress.require("/ui/ui.errors"),i=t.require("/utils/utils.common"),r=c.dxDataGrid,a=t.data.utils.normalizeSortingInfo,v="dx-datagrid-total-footer",y="dx-datagrid-summary-item",p="dx-datagrid-text-content",w="dx-datagrid-group-footer",b="dx-datagrid-group-text-content",u="groupFooter",e=function(t,i){var u,o=i.column,e=i.summaryItems,f,s=[];if(!o.command&&e){for(u=0;u<e.length;u++)f=e[u],s.push(n("<div>").css("text-align",f.alignment||o.alignment).addClass(y).addClass(p).addClass(f.cssClass).toggleClass(b,i.rowType==="group").text(r.getSummaryText(f,i.summaryTexts)));t.append(s)}},o=function(n,t){var i=n.option("summary.texts");return{totalItem:t.row,summaryItems:t.row.summaryCells[t.columnIndex],summaryTexts:i}},f=function(n){return n.summary||n.aggregates||[]},s,h;r.FooterView=r.ColumnsView.inherit(function(){return{_getRows:function(){return this._dataController.footerItems()},_getCellOptions:function(t){return n.extend(this.callBase(t),o(this,t))},_renderCellContent:function(n,t){e(n,t),this.callBase(n,t)},_renderCore:function(){var n=this._dataController.footerItems()[0];this.element().empty().addClass(v),n&&n.summaryCells&&n.summaryCells.length&&this._setTableElement(this._renderTable())},_renderTable:function(){var n=this.callBase.apply(this,arguments),t=this.element();return this.wrapTableInScrollContainer(n).appendTo(t),n},_rowClick:function(t){var i=this._dataController.footerItems()[t.rowIndex]||{};this.executeAction("onRowClick",n.extend({},t,i))},_columnOptionChanged:function(n){var t=n.optionNames;n.changeTypes.grouping||(t.width||t.visibleWidth)&&this.callBase(n)},_handleDataChanged:function(n){n.changeType==="refresh"&&this.render()},getHeight:function(){var n=this.element();return n?n.outerHeight():0},isVisible:function(){return!!this._dataController.footerItems().length}}}()),s=function(){return{init:function(){this.callBase.apply(this,arguments),this._totalAggregates=[]},summary:function(n){if(!arguments.length)return this._summary;this._summary=n},totalAggregates:function(){return this._totalAggregates}}}(),h=function(){var r=function(n,i,r,u){var f;i&&(f=new t.data.AggregateCalculator({totalAggregates:i.totalAggregates,groupAggregates:i.groupAggregates,data:r,groupLevel:u}),f.calculate()),n._totalAggregates=f?f.totalAggregates():[]},i=function(r,u,f){if(!r||!u.length)return r;var s=u[0],o=f[0],e;return s&&o&&o.length&&(e=t.data.query(r),n.each(o,function(n){e=n===0?e.sortBy(this.selector,this.desc):e.thenBy(this.selector,this.desc)}),e.enumerate().done(function(n){r=n})),u=u.slice(1),f=f.slice(1),u.length&&f.length&&n.each(r,function(){this.items=i(this.items,u,f)}),r},u=function(n,t,r){var u=r&&r.sortByGroups&&r.sortByGroups();return u&&u.length?i(n,t,u):n};return{_handleDataLoadingCore:function(n){var t=this.summary();t&&(n.remoteOperations.summary?(n.storeLoadOptions.groupSummary=t.groupAggregates,n.storeLoadOptions.totalSummary=t.totalAggregates):(t.totalAggregates.length||t.groupAggregates.length&&n.storeLoadOptions.group)&&(n.remoteOperations.paging=!1)),this.callBase(n)},_handleDataLoadedCore:function(n){var t=this,i=a(n.loadOptions.group||[]),f=t.summary(),e=n.remoteOperations||{};e.summary?t._totalAggregates=n.extra&&n.extra.summary||t._totalAggregates:e.paging||(r(t,f,n.data,i.length),n.data=u(n.data,i,f),n.totalAggregates=t._totalAggregates),t.callBase(n)}}}(),r.DataSourceAdapter=r.DataSourceAdapter.inherit(s).inherit(h),r.registerModule("summary",{defaultOptions:function(){return{summary:{groupItems:undefined,totalItems:undefined,calculateCustomSummary:undefined,texts:{sum:Globalize.localize("dxDataGrid-summarySum"),sumOtherColumn:Globalize.localize("dxDataGrid-summarySumOtherColumn"),min:Globalize.localize("dxDataGrid-summaryMin"),minOtherColumn:Globalize.localize("dxDataGrid-summaryMinOtherColumn"),max:Globalize.localize("dxDataGrid-summaryMax"),maxOtherColumn:Globalize.localize("dxDataGrid-summaryMaxOtherColumn"),avg:Globalize.localize("dxDataGrid-summaryAvg"),avgOtherColumn:Globalize.localize("dxDataGrid-summaryAvgOtherColumn"),count:Globalize.localize("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:undefined}},views:{footerView:r.FooterView},extenders:{controllers:{data:function(){return{_isDataColumn:function(n){return n&&(!i.isDefined(n.groupIndex)||n.showWhenGrouped)},_isGroupFooterVisible:function(){for(var i=this.option("summary.groupItems")||[],t,r,n=0;n<i.length;n++)if(t=i[n],r=this._columnsController.columnOption(t.column),t.showInGroupFooter&&this._isDataColumn(r))return!0;return!1},_processGroupItems:function(n,t,i){var r=this.callBase.apply(this,arguments);return i&&(i.isGroupFooterVisible===undefined&&(i.isGroupFooterVisible=this._isGroupFooterVisible()),i.data&&i.data.items&&i.isGroupFooterVisible&&r.push({rowType:u,data:i.data,groupIndex:i.path.length-1,values:[]})),r},_processGroupItem:function(t,r){var s=this,e,o;return r.summaryGroupItems||(r.summaryGroupItems=s.option("summary.groupItems")||[]),t.rowType==="group"&&(e=-1,o=-1,n.each(r.visibleColumns,function(n){var i=r.visibleColumns[n-1];t.groupIndex===this.groupIndex&&(e=this.index),n>0&&i.command==="expand"&&this.command!=="expand"&&(o=this.index)}),t.summaryCells=this._calculateSummaryCells(r.summaryGroupItems,f(t.data),r.visibleColumns,function(n,t){return n.showInGroupFooter?-1:n.alignByColumn&&t&&!i.isDefined(t.groupIndex)&&t.index!==o?t.index:e})),t.rowType===u&&(t.summaryCells=this._calculateSummaryCells(r.summaryGroupItems,f(t.data),r.visibleColumns,function(n,t){return n.showInGroupFooter&&s._isDataColumn(t)?t.index:-1})),t},_calculateSummaryCells:function(t,u,f,e){var s=this,h=[],o={};return n.each(t,function(t,f){var h=s._columnsController.columnOption(f.column),a=f.showInColumn&&s._columnsController.columnOption(f.showInColumn)||h,c=e(f,a),l;c>=0&&(o[c]||(o[c]=[]),l=u[t],l===l&&o[c].push(n.extend({},f,{value:l,valueFormat:i.isDefined(f.valueFormat)?f.valueFormat:r.getFormatByDataType(h&&h.dataType),columnCaption:h&&h.index!==c?h.caption:undefined})))}),n.isEmptyObject(o)||n.each(f,function(){h.push(o[this.index]||[])}),h},_getSummaryCells:function(n,t){var i=this,r=i._columnsController;return i._calculateSummaryCells(n,t,r.getVisibleColumns(),function(n,t){return i._isDataColumn(t)?t.index:-1})},_updateItemsCore:function(n){var t=this,i,u,f=t._dataSource,r=t.option("summary.totalItems");t.callBase(n),t._footerItems=[],f&&r&&r.length&&(u=f.totalAggregates(),i=this._getSummaryCells(r,u),i.length&&t._footerItems.push({rowType:"totalFooter",summaryCells:i}))},_getAggregates:function(i,r){var f=this,e=f.getController("columns"),u=f.option("summary.calculateCustomSummary");return n.map(i||[],function(i){var s=e.columnOption(i.column),a=s&&s.calculateCellValue?n.proxy(s,"calculateCellValue"):t.data.utils.compileGetter(s?s.dataField:i.column),h=i.summaryType||"count",c=i.column,o;return r&&r.summary?{selector:i.column,summaryType:i.summaryType}:(c=h==="avg"||h==="sum"?function(n){return Number(a(n))}:a,h==="custom"&&(u||(l.log("E1026"),u=function(){}),o={component:f.component,name:i.name},u(o),o.summaryProcess="calculate",h={seed:function(){return o.summaryProcess="start",o.totalValue=undefined,delete o.value,u(o),o.totalValue},step:function(n,t){return o.summaryProcess="calculate",o.totalValue=n,o.value=t,u(o),o.totalValue},finalize:function(n){return o.summaryProcess="finalize",o.totalValue=n,delete o.value,u(o),o.totalValue}}),{selector:c,aggregator:h})})},_addSortInfo:function(n,t,r,u){var f;t&&(f=t.groupIndex,u=u||t.sortOrder,i.isDefined(f)&&(n[f]=n[f]||[],n[f].push({selector:r,desc:u==="desc"})))},_findSummaryItem:function(t,r){var u=-1,f=function(n){var t=n.summaryType,i=n.column;return t&&i&&t+"_"+i};return i.isDefined(r)&&n.each(t||[],function(n){if(this.name===r||n===r||this.summaryType===r||this.column===r||f(this)===r)return u=n,!1}),u},_getSummarySortByGroups:function(t,r){var u=this,o=u._columnsController,s=o.getGroupColumns(),e=[];if(r&&r.length)return n.each(t||[],function(){var c=this.sortOrder,t=this.groupColumn,l=u._findSummaryItem(r,this.summaryItem),h;l<0||(h=function(n){return f(n)[l]},i.isDefined(t)?(t=o.columnOption(t),u._addSortInfo(e,t,h,c)):n.each(s,function(n,t){u._addSortInfo(e,t,h,c)}))}),e},_createDataSourceAdapterCore:function(n,t){var r=this._getSummaryOptions(t),i=this.callBase(n,t);return i.summary(r),i},_getSummaryOptions:function(n){var t=this,i=t.option("summary.groupItems"),f=t.option("summary.totalItems"),e=t.option("sortByGroupSummaryInfo"),r=t._getAggregates(i,n),u=t._getAggregates(f,n),o=function(){return t._getSummarySortByGroups(e,i)};if(r.length||u.length)return{groupAggregates:r,totalAggregates:u,sortByGroups:o}},publicMethods:function(){var n=this.callBase();return n.push("getTotalSummaryValue"),n},getTotalSummaryValue:function(n){var t=this._findSummaryItem(this.option("summary.totalItems"),n),i=this._dataSource.totalAggregates();if(i.length&&t>-1)return i[t]},optionChanged:function(n){(n.name==="summary"||n.name==="sortByGroupSummaryInfo")&&(n.name="dataSource"),this.callBase(n)},init:function(){this._footerItems=[],this.callBase()},footerItems:function(){return this._footerItems}}}()},views:{rowsView:function(){return{_createRow:function(n){var t=this.callBase(n);return n&&t.addClass(n.rowType===u?w:""),t},_renderCells:function(n,t){this.callBase.apply(this,arguments),t.row.rowType==="group"&&t.row.summaryCells&&t.row.summaryCells.length&&this._renderGroupSummaryCells(n,t)},_hasAlignByColumnSummaryItems:function(n,t){return!i.isDefined(t.columns[n].groupIndex)&&t.row.summaryCells[n].length},_getAlignByColumnCellCount:function(n,t){for(var r=0,u,i=1;i<n;i++)u=t.row.summaryCells.length-i,r=this._hasAlignByColumnSummaryItems(u,t)?i:r;return r},_renderGroupSummaryCells:function(n,t){var i=n.children().last(),r=Number(i.attr("colspan"))||1,u=this._getAlignByColumnCellCount(r,t);this._renderGroupSummaryCellsCore(i,t,r,u)},_renderGroupSummaryCellsCore:function(t,i,r,u){var f,e;if(u>0)for(t.attr("colspan",r-u),f=0;f<u;f++)e=i.columns.length-u+f,this._renderCell(t.parent(),n.extend({column:i.columns[e],columnIndex:e},i))},_getColumnTemplate:function(n){return!n.column.command&&!i.isDefined(n.column.groupIndex)&&n.summaryItems&&n.summaryItems.length?e:this.callBase(n)},_getCellOptions:function(t){var i=this,r=i.callBase(t);return t.row.summaryCells?n.extend(r,o(i,t)):r}}}()}}})}(jQuery,DevExpress),function(n,t){var l=t.ui,a=t.require("/utils/utils.common"),v=t.require("/ui/events/ui.events.wheel"),f=l.dxDataGrid,e="dx-datagrid-content",y="dx-master-detail-cell",p="dx-first-cell",s="dx-state-hover",w="dx-header-row",r="dx-datagrid-content-fixed",b="dx-col-fixed",h="dx-pointer-events-target",u="dx-pointer-events-none",c=function(t){var i=-1;return n.each(t,function(n,t){if(t.command==="transparent")return i=n,!1}),i},o={init:function(){this.callBase(),this._isFixedTableRendering=!1,this._isFixedColumns=!1},_createCol:function(n){return this.callBase(n).toggleClass(b,this._isFixedTableRendering&&(n.fixed||n.command&&n.command!=="transparent"))},_createCell:function(n){var t=this.callBase(n);return n.colspan&&t.attr("colspan",n.colspan),n.command==="transparent"&&t.addClass(u),t},_renderTable:function(t){var i=this,f,o,e=i._columnsController.getFixedColumns();return i._isFixedColumns=!!e.length,o=i.callBase(t),i._isFixedColumns?(i._isFixedTableRendering=!0,i._fixedTableElement=f=i._createTable(e),f.addClass(u),i._renderRows(f,n.extend({},t,{columns:e})),i.wrapTableInScrollContainer(i._fixedTableElement).appendTo(i.element()).addClass(r+" "+h),i._isFixedTableRendering=!1):(i._fixedTableElement&&i._fixedTableElement.remove(),i._fixedTableElement=null),o},_renderCellContent:function(n,t){var i=this,u,r=t.column;if(!i._isFixedTableRendering&&i._isFixedColumns&&(t.rowType!=="group"||!a.isDefined(r.groupIndex))){if(r.fixed||r.command){n.html("&nbsp;").addClass(r.cssClass);return}if(t.rowType==="filter"){i.callBase(n,t),u=c(i._columnsController.getFixedColumns()),n.toggleClass(p,t.columnIndex===u);return}}r.command!=="transparent"&&i.callBase(n,t)},getCellElements:function(t){var i=this,e,r=0,u,f=i.callBase(t);return i._fixedTableElement&&f&&(e=i._columnsController.getFixedColumns(),u=i._fixedTableElement.find(".dx-row").eq(t).children("td"),n.each(e,function(n,t){t.command==="transparent"?(u.eq(n).hasClass(y)&&(f[r]=u.get(n)),r+=t.colspan):(f[r]=u.get(n),r++)})),f},getColumnWidths:function(){var t=this,n,i=0,u,r=t.callBase(),e=t._columnsController.getFixedColumns();if(t._fixedTableElement&&r.length)for(u=f.getWidths(t._fixedTableElement),n=0;n<e.length;n++)e[n].command==="transparent"?i+=e[n].colspan:(r[i]<u[n]&&(r[i]=u[n]),i++);return r},_getTableElement:function(){return this._isFixedTableRendering?this._fixedTableElement:this.callBase()},_setTableElement:function(n){this._isFixedTableRendering?this._fixedTableElement=n:this.callBase(n)},getColumns:function(n){return(n=n||this._getTableElement(),this._isFixedTableRendering||n&&n.closest("table").parent("."+r).length)?this._columnsController.getFixedColumns():this.callBase(n)},getRowIndex:function(n){var t=this._fixedTableElement;return t&&t.find(n).length?this._getRowElements(t).index(n):this.callBase(n)},getTableElements:function(){var n=this.callBase.apply(this,arguments);return this._fixedTableElement&&(n=n.add(this._fixedTableElement)),n},getFixedColumns:function(){return this._columnsController.getFixedColumns()},getFixedColumnsOffset:function(){var i={left:0,right:0},n,t;return this._fixedTableElement&&(n=this.getTransparentColumnElement(),t=n.position(),i={left:t.left,right:this.element().outerWidth(!0)-(n.outerWidth(!0)+t.left)}),i},getTransparentColumnElement:function(){return this._fixedTableElement&&this._fixedTableElement.find("."+u).first()},getFixedTableElement:function(){return this._fixedTableElement},isFixedColumns:function(){return this._isFixedColumns},_resizeCore:function(){this.callBase(),this.synchronizeRows()},setColumnWidths:function(n){this.callBase(n),this.synchronizeRows()},_getClientHeight:function(n){var t=n.getBoundingClientRect&&n.getBoundingClientRect();return t&&t.height?t.height:n.clientHeight},synchronizeRows:function(){var n=this,r,u,e=[],o=[],t,s,h,i,f;if(n._isFixedColumns&&n._tableElement&&n._fixedTableElement&&(s=n._getClientHeight(n._tableElement.get(0)),h=n._getClientHeight(n._fixedTableElement.get(0)),i=n._getRowElements(n._tableElement),f=n._getRowElements(n._fixedTableElement),s!==h)){for(i.css("height",""),f.css("height",""),t=0;t<i.length;t++)e.push(n._getClientHeight(i.get(t))),o.push(n._getClientHeight(f.get(t)));for(t=0;t<i.length;t++)r=e[t],u=o[t],r>u?f.eq(t).css("height",r):r<u&&i.eq(t).css("height",u)}}},k=n.extend({},o,{getContextMenuItems:function(n){var i=this,f,t,r,u=i.option("columnFixing"),e=i.callBase(n);return n.closest("."+w).length&&(f=n.closest("td"),t=f.length&&i.getColumns(n)[f[0].cellIndex],t.allowFixing&&(r=function(n){switch(n.itemData.value){case"none":i._columnsController.columnOption(t.index,"fixed",!1);break;case"left":i._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"left"});break;case"right":i._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"right"})}},e.push({text:u.texts.fix,beginGroup:!0,items:[{text:u.texts.leftPosition,value:"left",disabled:t.fixed&&(!t.fixedPosition||t.fixedPosition==="left"),onItemClick:r},{text:u.texts.rightPosition,value:"right",disabled:t.fixed&&t.fixedPosition==="right",onItemClick:r}]},{text:u.texts.unfix,value:"none",disabled:!t.fixed,onItemClick:r}))),e},setScrollerSpacing:function(n){var t=this,i=t.option("rtlEnabled");t.callBase(n),t.element().children("."+r).css(i?{paddingLeft:n}:{paddingRight:n})},getFixedColumnElements:function(){return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(0).children()}}),d=n.extend({},o,{_detachHoverEvents:function(){this._fixedTableElement&&this._fixedTableElement.off("mouseover mouseout",".dx-data-row"),this._tableElement&&this._tableElement.off("mouseover mouseout",".dx-data-row")},_attachHoverEvents:function(){var t=this,i=function(i){i.on("mouseover mouseout",".dx-data-row",t.createAction(function(i){var r=i.jQueryEvent,u=t.getRowIndex(n(r.target).closest(".dx-row")),f=r.type==="mouseover";t._tableElement&&t._getRowElements(t._tableElement).eq(u).toggleClass(s,f),t._fixedTableElement&&t._getRowElements(t._fixedTableElement).eq(u).toggleClass(s,f)}))};t._fixedTableElement&&t._tableElement&&(i(t._fixedTableElement),i(t._tableElement))},_renderTable:function(t){var i=this,e,o,r,f=i._columnsController.getFixedColumns();return i._isFixedColumns=!!f.length,o=i.callBase(t),i._isFixedColumns?(i._isFixedTableRendering=!0,r=i._createTable(f),r.addClass(u),i._fixedTableElement=i._fixedTableElement||r,i._renderRows(r,n.extend({},t,{columns:f})),e=i._findContentElement(),i._updateContent(e,t.change,r),i._isFixedTableRendering=!1):(i._fixedTableElement&&i._fixedTableElement.remove(),i._fixedTableElement=null),o},_findContentElement:function(){var i=this,u,t,r,f=i.element();return f&&i._isFixedTableRendering?(u=f.children("."+e),u.length||(t=i.getScrollable(),u=n("<div/>").addClass(e).on("scroll",function(u){r=n(u.target).scrollTop(),r&&(n(u.target).scrollTop(0),t.scrollTo({y:i._scrollTop+r}))}).on(v.name,function(n){if(t&&(r=t.scrollTop(),t.scrollTo({y:r-n.delta}),t.scrollTop()>0&&t.scrollTop()+t.clientHeight()<t.scrollHeight()+i.getScrollbarWidth()))return!1}).appendTo(f)),u):i.callBase()},_updateBottomLoading:function(){this._isFixedTableRendering||this.callBase()},_updateScrollable:function(){this.callBase(),this._updateFixedTablePosition(-this._scrollTop)},_renderContent:function(n,t){return this._isFixedTableRendering?n.empty().addClass(e+" "+r+" "+h).append(t):this.callBase(n,t)},_getGroupCellOptions:function(t){return this._isFixedTableRendering?this.callBase(n.extend({},t,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t)},_renderGroupSummaryCells:function(t,i){this._isFixedTableRendering?this.callBase(t,n.extend({},i,{columns:this._columnsController.getVisibleColumns()})):this.callBase(t,i)},_hasAlignByColumnSummaryItems:function(n,t){var i=this.callBase.apply(this,arguments);return i&&Boolean(t.columns[n].fixed)===Boolean(t.isFixed)},_renderGroupSummaryCellsCore:function(n,t,i,r){this._isFixedTableRendering&&(r>0&&n.css("visibility","hidden"),t.isFixed=!0,r=this._getAlignByColumnCellCount(i,t),t.isFixed=!1),this.callBase(n,t,i,r)},_renderCore:function(n){this._detachHoverEvents(),this.callBase(n),this.option("hoverStateEnabled")&&this._isFixedColumns&&this._attachHoverEvents()},optionChanged:function(n){var t=this;t.callBase(n),n.name==="hoverStateEnabled"&&t._isFixedColumns&&(n.value?this._attachHoverEvents():this._detachHoverEvents())},getCellIndex:function(t){var r=this._fixedTableElement,u,i=0;return r&&r.find(t).length?(u=this._columnsController.getFixedColumns(),n.each(u,function(n,r){if(n===t[0].cellIndex)return!1;if(r.colspan){i+=r.colspan;return}i++}),i):this.callBase(t)},_updateFixedTablePosition:function(n){this._fixedTableElement&&this._tableElement&&this._fixedTableElement.css("top",n+this._tableElement.position().top)},setScrollerSpacing:function(){var n=this,t,u,i,f=n.element().children("."+r);f.length&&(t=n.getScrollbarWidth(),u=n.getScrollbarWidth(!0),i=n.option("rtlEnabled")?{marginLeft:t}:{marginRight:t},i.marginBottom=u,f.css(i))},_handleScroll:function(n){this._updateFixedTablePosition(-n.scrollOffset.top),this.callBase(n)},_updateContentPosition:function(){var n=this.callBase();return n&&this._updateFixedTablePosition(-this._scrollTop),n}}),g=o;f.registerModule("fixedColumns",{defaultOptions:function(){return{columnFixing:{enabled:!1,texts:{fix:Globalize.localize("dxDataGrid-columnFixingFix"),unfix:Globalize.localize("dxDataGrid-columnFixingUnfix"),leftPosition:Globalize.localize("dxDataGrid-columnFixingLeftPosition"),rightPosition:Globalize.localize("dxDataGrid-columnFixingRightPosition")}}}},extenders:{views:{columnHeadersView:k,rowsView:d,footerView:g},controllers:function(){var t=function(t,i){var r=c(t);return r>=0&&n.each(i,function(n,i){i.index>r&&(i.columnIndex+=t[r].colspan-1,i.index+=t[r].colspan-1)}),i};return{draggingHeader:{_generatePointsByColumns:function(n){var r,i=n.targetDraggingPanel;return i&&i.getName()==="headers"&&i.isFixedColumns()&&n.sourceColumn.fixed?(n.columnElements=i.getFixedColumnElements(),n.columns=i.getFixedColumns(),r=this.callBase(n),t(n.columns,r)):this.callBase(n)},_pointCreated:function(n,t,i,r){var f=this.callBase.apply(this,arguments),e=this._columnHeadersView.getTransparentColumnElement(),u;return!f&&i==="headers"&&e?(u=e.get(0).getBoundingClientRect(),r&&r.fixed?r.fixedPosition==="right"?n.x<u.right:n.x>u.left:n.x<u.left||n.x>u.right):f}},columnsResizer:{_generatePointsByColumns:function(){var n=this,r=n._columnsController?n._columnsController.getFixedColumns():[],i=n._columnHeadersView.getFixedColumnElements(),u=[];n.callBase(),i&&i.length>0&&(u=f.getPointsByColumns(i,function(t){return n._pointCreated(t,i.length,r)}),n._pointsByFixedColumns=t(r,u))},_pointCreated:function(n,t,i){var r,u;return n.index>0&&n.index<t&&(r=i[n.columnIndex-1]||{},u=i[n.columnIndex]||{},r.fixed||u.fixed)?(n.columnIndex-=1,!((r.allowResizing||r.command==="transparent")&&(u.allowResizing||u.command==="transparent"))):this.callBase.apply(this,arguments)},_getTargetPoint:function(n,t,i){var u=this._columnHeadersView.getTransparentColumnElement(),r;return u&&(r=u.get(0).getBoundingClientRect(),t<=r.left||t>=r.right)?this.callBase(this._pointsByFixedColumns,t,i):this.callBase(n,t,i)}},keyboardNavigation:{_scrollToElement:function(n){var t=this.getFocusedView();this.callBase(n,t&&t.getFixedColumnsOffset())}}}}()}})}(jQuery,DevExpress),function(n,t){var u=t.ui,r=u.dxDataGrid,f=DevExpress.require("/class"),i=t.require("/utils/utils.common"),e=t.require("/ui/widgets/ui.checkBox"),o="dx-datagrid-checkbox-size",s="dx-datagrid-export-menu",h="dx-datagrid-export-button",c="export-to",l="exportxlsx",a="export-excel-button";r.DataProvider=f.inherit({_getGroupValue:function(n){var t=this._options.groupColumns[n.groupIndex],f=r.getDisplayValue(t,n.values[n.groupIndex],n.data),u=t.caption+": "+r.formatValue(f,t),i;return i=this._options.getVisibleIndex(t.index),n.summaryCells&&n.summaryCells.length&&n.summaryCells[i].length&&(u+=" "+r.getGroupRowSummaryText(n.summaryCells[i],this._options.summaryTexts)),u},_correctCellIndex:function(n){var t=this._options.startValueIndex,i=this._options.endValueIndex;return n<=i?t+n:null},ctor:function(n){this._options=n},getColumns:function(){return this._options.columns},getRowsCount:function(){return this._options.items.length},isGroupRow:function(n){return n<this._options.items.length&&this._options.items[n].rowType==="group"},getGroupLevel:function(n){var t=this._options.items[n],r=t.groupIndex;return t.isTotalSummary?0:i.isDefined(r)?r:this._options.groupColumns.length},getCellType:function(n,t){if(t<this._options.columns.length){var u=this._options.items.length&&this._options.items[n],r=this._options.columns[t];return u&&u.rowType==="data"&&isFinite(u.values[this._correctCellIndex(t)])&&!i.isDefined(r.customizeText)?i.isDefined(r.lookup)?r.lookup.dataType:r.dataType:"string"}},ready:function(){var t=this._options;return n.when(t.items).done(function(n){t.items=n})},getCellValue:function(n,t){var e,u,o,s,h=this._correctCellIndex(t),c,f=this._options.items.length&&this._options.items[n];if(f){c=f.values;switch(f.rowType){case"summaryFooter":if(h<c.length&&(u=c[h],i.isDefined(u)))return r.getSummaryText(u,this._options.summaryTexts);break;case"group":if(t<1)return this._getGroupValue(f);if(s=f.values[h],i.isArray(s)){for(u="",o=0;o<s.length;o++)u+=(o>0?" \n ":"")+r.getSummaryText(s[o],this._options.summaryTexts);return u}break;default:if(e=this._options.columns[t],e)return u=r.getDisplayValue(e,c[h],f.data),!isFinite(u)||e.customizeText?r.formatValue(u,e):u}}},isHeadersVisible:function(){return this._options.isHeadersVisible},isTotalCell:function(n,t){var u=this._options.items,i=u[n],r=this._correctCellIndex(t),f=i.summaryCells&&i.summaryCells[r]&&i.summaryCells[r].length>0&&i.summaryCells[r][0].alignByColumn;return i&&i.rowType==="summaryFooter"||f}}),r.ExportController=r.ViewController.inherit({_getColumns:function(){for(var u=[],f=this._columnsController.getVisibleColumns(),e=this._headersView&&this._headersView.isVisible()?this._headersView.getColumnWidths():this._rowsView.getColumnWidths(),r,t=0;t<f.length;t++)r=f[t],i.isDefined(r.command)||u.push(n.extend({},r,{width:e[t]}));return u},_getFooterSummaryItems:function(n,t){var o=[],r=1,u,f,e,i,s=0;do{for(u=[],i=0;i<n.length;i++)e=n[i],f=e.length,r<f&&(r=f),u.push(e[s]);o.push({values:u,rowType:"summaryFooter",isTotalSummary:t})}while(s++<r-1);return o},_hasSummaryGroupFooters:function(){var n,t=this.option("summary.groupItems");if(i.isDefined(t))for(n=0;n<t.length;n++)if(t[n].showInGroupFooter)return!0;return!1},_getItemsWithSummaryGroupFooters:function(n){for(var t,i=[],r=[],f=[],u=0;u<n.length;u++)t=n[u],t.rowType==="groupFooter"?(f=this._getFooterSummaryItems(t.summaryCells),i=i.concat(r,f),r=[]):r.push(t);return i.length?i:r},_updateGroupValuesWithSummaryByColumn:function(t){for(var e,u,o,f=[],s,h,r,c=0;c<t.length;c++)if(e=t[c],u=e.summaryCells,e.rowType==="group"&&u&&u.length>1){for(s=e.values.length,r=1;r<u.length;r++)for(h=0;h<u[r].length;h++)o=u[r][h],o&&o.alignByColumn&&(i.isArray(f[r-s])||(f[r-s]=[]),f[r-s].push(o));f.length>0&&(n.merge(e.values,f),f=[])}},_getAllItems:function(t){var r=this,u=n.Deferred(),f=this.getController("data"),h=f.footerItems(),e=h.length&&h[0],c=r.option("summary.totalItems"),o,s;return f.loadAll(t).done(function(n,t){r._updateGroupValuesWithSummaryByColumn(n),r._hasSummaryGroupFooters()&&(n=r._getItemsWithSummaryGroupFooters(n)),o=e&&e.summaryCells,i.isDefined(t)&&c&&(o=f._getSummaryCells(c,t)),s=e&&r._getFooterSummaryItems(o,!0),s&&(n=n.concat(s)),u.resolve(n)}).fail(u.reject),u},_getSelectedItems:function(){var n=this.getController("selection"),t=n.getSelectedRowsData();return this._getAllItems(t)},_getStartEndValueIndexces:function(n){for(var r,u,f=n.length,t=0;t<f;t++)if(!i.isDefined(n[t].command)){r=t;break}for(t=f-1;t>=0;t--)if(!i.isDefined(n[t].command)){u=t;break}return{startIndex:r,endIndex:u}},init:function(){this._columnsController=this.getController("columns"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onExported",{excludeValidators:["disabled","readOnly"]}),this._clientExporter=new t.dxClientExporter({exportingAction:this.getAction("onExporting"),exportedAction:this.getAction("onExported")})},optionChanged:function(n){this.callBase(n),n.name==="onExporting"&&this._clientExporter.option("exportingAction",this.getAction(n.name)),n.name==="onExported"&&this._clientExporter.option("exportedAction",this.getAction(n.name))},callbackNames:function(){return["selectionOnlyChanged"]},getExportFormat:function(){return["EXCEL"]},getDataProvider:function(){var i=this._columnsController.getGroupColumns(),t=this._getStartEndValueIndexces(this._columnsController.getVisibleColumns());return new r.DataProvider({columns:this._getColumns(),groupColumns:i,items:!this._selectionOnly?this._getAllItems():this._getSelectedItems(),getVisibleIndex:n.proxy(this._columnsController.getVisibleIndex,this._columnsController),startValueIndex:t.startIndex,endValueIndex:t.endIndex,isHeadersVisible:this.option("showColumnHeaders"),summaryTexts:this.option("summary.texts")})},exportToExcel:function(n){this._selectionOnly=n;var t=this.option("export.excelWrapTextEnabled");i.isDefined(this._clientExporter)&&this._clientExporter.exportTo({fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"EXCEL",wrapTextEnabled:i.isDefined(t)?t:!!this.option("wordWrapEnabled"),autoFilterEnabled:!!this.option("export.excelFilterEnabled"),component:this.component})},publicMethods:function(){return["getDataProvider","getExportFormat","exportToExcel"]},selectionOnly:function(n){if(i.isDefined(n))this._isSelectedRows=n,this.selectionOnlyChanged.fire();else return this._isSelectedRows}}),r.registerModule("export",{defaultOptions:function(){return{"export":{enabled:!1,fileName:"DataGrid",excelFilterEnabled:!1,excelWrapTextEnabled:undefined,proxyUrl:undefined,allowExportSelectedData:!1,texts:{exportTo:Globalize.localize("dxDataGrid-exportTo"),exportToExcel:Globalize.localize("dxDataGrid-exportToExcel"),excelFormat:Globalize.localize("dxDataGrid-excelFormat"),selectedRows:Globalize.localize("dxDataGrid-selectedRows")}}}},controllers:{"export":r.ExportController},extenders:{controllers:{editing:{callbackNames:function(){var n=this.callBase();return i.isDefined(n)?n.push("editingChanged"):["editingChanged"]},_updateEditButtons:function(){this.callBase(),this.editingChanged.fire(this.hasChanges())}}},views:{headerPanel:{_isExportButtonVisible:function(){return this.option("export.enabled")},_getButtonOptions:function(){var n=this,t=n.option("export.texts");return n.option("export.allowExportSelectedData")?{hint:t.exportTo,icon:c,onClick:null}:{hint:t.exportToExcel,icon:a,onClick:function(){n._exportController.exportToExcel()}}},_renderExportButton:function(){var t=this;t.option("export.enabled")?t._$exportButton?(t._exportButton.option(t._getButtonOptions()),t._$exportButton.show()):(t._$exportButton=n("<div>").addClass(h).appendTo(t.element()),t._exportButton=t._createComponent(t._$exportButton,"dxButton",t._getButtonOptions())):t._$exportButton&&t._$exportButton.hide()},_renderExportMenu:function(){var t=this,r=t.option("export.texts"),u=[{text:r.excelFormat,icon:l}];i.isDefined(t._exportContextMenu)&&t._exportContextMenu.element().remove(),t.option("export.enabled")&&t.option("export.allowExportSelectedData")&&(u.push({value:"selectionOnly",template:function(){return t._createComponent(n("<div>").addClass(o),e,{text:r.selectedRows,value:!!t._exportController.selectionOnly(),onValueChanged:function(n){t._exportController.selectionOnly(n.value)}}).element()},beginGroup:!0,closeMenuOnClick:!1}),t._exportContextMenu=t._createComponent(n("<div>").appendTo(t.component.element()),"dxContextMenu",{alternativeInvocationMode:{enabled:!0,invokingElement:t._$exportButton},items:u,cssClass:s,onItemClick:function(n){n.itemData.text&&n.itemData.text.indexOf("Excel")>-1&&t._exportController.exportToExcel(t._exportController.selectionOnly())},target:this._$exportButton,position:{at:"left bottom",my:"left top",offset:"0 3",collision:"fit",boundary:t._$parent,boundaryOffset:"1 1"}}))},_renderCore:function(){this.callBase(),this._renderExportButton(),this._renderExportMenu()},optionChanged:function(n){this.callBase(n),n.name==="export"&&(n.handled=!0,this._invalidate())},init:function(){var n=this;this.callBase(),this._exportController=this.getController("export"),this._editingController=this.getController("editing"),this._editingController.editingChanged.add(function(t){i.isDefined(n._exportButton)&&n._exportButton.option("disabled",t)})},isVisible:function(){return this.callBase()||this._isExportButtonVisible()}}}}})}(jQuery,DevExpress),function(n,t){var i=t.ui.dxDataGrid,r=t.require("/utils/utils.common"),u="dx-datagrid",f="dx-hidden",l="dx-datagrid-table",e="dx-datagrid-borders",a="dx-datagrid-table-fixed",p="dx-datagrid-headers-hidden",o="dx-datagrid-important-margin",v=100,y=50,s=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView"],h=function(n){return r.isString(n)&&n.slice(-1)==="%"},c=function(n,t){var r=[],i;if(n&&t&&n.length&&n.length===t.length)for(i=0;i<n.length;i++)r.push(n[i]>t[i]?n[i]:t[i]);else n&&(r=n);return r};i.ResizingController=i.ViewController.inherit({_initPostRenderHandlers:function(){var t=this;t._refreshSizesHandler||(t._refreshSizesHandler=function(i){if(t._dataController.changed.remove(t._refreshSizesHandler),t._columnsController.columnsChanged.firing){(window.setImmediate||setTimeout)(n.proxy(t._refreshSizesHandler,t,i));return}var r=i&&i.changeType;i&&r!=="refresh"&&r!=="prepend"&&r!=="append"&&r!=="append"?r==="update"&&t._rowsView.synchronizeRows&&t._rowsView.synchronizeRows():t.resize(),r&&r!=="updateSelection"&&t.component._fireContentReadyAction()},t._dataController.changed.add(function(){t._dataController.changed.add(t._refreshSizesHandler)}))},_getBestFitWidths:function(){var n=this,i=n._rowsView.getColumnWidths(),r=n._columnHeadersView&&n._columnHeadersView.getColumnWidths(),u=n._footerView&&n._footerView.getColumnWidths(),t;return t=c(i,r),t=c(t,u)},_setVisibleWidths:function(t,i){var r=this._columnsController;r.beginUpdate(),n.each(t,function(n,t){var u=t.command?"command:"+t.command:t.index;r.columnOption(u,"visibleWidth",i[n])}),r.endUpdate()},_toggleBestFitMode:function(n){var t=this.component.element();t.find("."+l).toggleClass(a,!n),t.find("input").toggleClass(f,n),t.find(".dx-group-cell").toggleClass(f,n),t.find(".dx-header-row .dx-datagrid-text-content").css("max-width","")},_synchronizeColumns:function(){var t=this,e=t._columnsController,i=e.getVisibleColumns(),f=t.option("columnAutoWidth"),u=f,o=!1,r=[],s=function(){var t;n.each(i,function(n,i){i.command==="expand"&&(t=r[n])}),n.each(i,function(n,i){i.command==="expand"&&t&&(r[n]=t)})};u||n.each(i,function(n,t){if(t.width==="auto")return u=!0,!1}),t._setVisibleWidths(i,[]),u&&(t._toggleBestFitMode(!0),r=t._getBestFitWidths(),n.each(i,function(n,t){var i=t.command?"command:"+t.command:t.index;e.columnOption(i,"bestFitWidth",r[n],!0)})),n.each(i,function(n){this.width!=="auto"&&(this.width?r[n]=this.width:f||(r[n]=undefined))}),o=t._correctColumnWidths(r,i),f&&(s(),t._processStretch(r,i)),u&&t._toggleBestFitMode(!1),(u||o)&&t._setVisibleWidths(i,r)},_correctColumnWidths:function(t,i){var r=this,s=!1,c=!1,l=!1,f=r.component.element(),a=r._hasWidth,u,e,o;if(n.each(i,function(n){this.width!=="auto"&&(this.width?t[n]=this.width:c=!0),h(this.width)&&(s=!0)}),f&&r._maxWidth&&(delete r._maxWidth,f.css("max-width","")),!c&&t.length&&(e=r._rowsView.contentWidth(),o=r._getTotalWidth(t,e),o<=e)){for(u=t.length-1;u>=0&&i[u]&&i[u].command;)u--;u>=0&&(t[u]="auto",l=!0,a||s||(r._maxWidth=o,f.css("max-width",r._maxWidth)))}return l},_processStretch:function(t,i){var s=this._rowsView.contentWidth(),h=this._getTotalWidth(t,s),u={length:0},f,e,o,r;if(t.length&&(n.each(i,function(n){this.width&&(u[n]=!0,u.length++)}),f=s-h,e=Math.floor(f/(t.length-u.length)),o=f-e*(t.length-u.length),f>=0))for(r=0;r<t.length;r++)u[r]||(t[r]+=e,o&&(t[r]++,o--))},_getTotalWidth:function(n,t){for(var u=0,i,r=0;r<n.length;r++)i=n[r],i&&(u+=h(i)?parseInt(i)*t/100:parseInt(i));return Math.round(u)},updateSize:function(n){var i=this,t,r;i._hasHeight===undefined&&n&&n.closest(document).length&&(t=n.children("."+u),t.length&&t.detach(),i._hasHeight=!!n.height(),r=n.width(),n.addClass(o),i._hasWidth=n.width()===r,n.removeClass(o),t.length&&t.appendTo(n))},publicMethods:function(){return["resize","updateDimensions"]},resize:function(){this.component._requireResize||this.updateDimensions()},updateDimensions:function(){var t=this,o=t._dataController,i=t.component.element(),h=i&&(i.get(0).clientHeight||i.height()),u=t.option("loadPanel"),f=t.option("height"),r,c=t.getController("editorFactory"),e;(t._initPostRenderHandlers(),t.updateSize(i),f&&t._hasHeight^f!=="auto"&&(e=n("<div>").height(f).appendTo(i),t._hasHeight=!!e.height(),e.remove()),t._hasHeight&&h>0&&t.option("scrolling")?(r=h,n.each(t.getViews(),function(){this.isVisible()&&this.getHeight&&(r-=this.getHeight())})):r=t._hasHeight||o.items().length!==0?"auto":u&&u.visible?u.height+y:v,t._rowsView.height(r),o.isLoaded())&&(t._columnHeadersView.setScrollerSpacing(t._rowsView.getScrollbarWidth()),t._rowsView.setScrollerSpacing(),t._synchronizeColumns(),n.each(s,function(n,i){var r=t.getView(i);r&&r.resize()}),c&&c.resize())},optionChanged:function(n){switch(n.name){case"width":case"height":this.component._renderDimensions(),this.resize();default:this.callBase(n)}},init:function(){var n=this;n._dataController=n.getController("data"),n._columnsController=n.getController("columns"),n._columnHeadersView=n.getView("columnHeadersView"),n._footerView=n.getView("footerView"),n._rowsView=n.getView("rowsView")}}),i.SynchronizeScrollingController=i.ViewController.inherit({_scrollChangedHandler:function(n,t,i){for(var r=0;r<n.length;r++)n[r].name!==i&&n[r].scrollTo({left:t.left,top:t.top})},init:function(){for(var i,r=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")],t=0;t<r.length;t++)i=r[t],i&&i.scrollChanged.add(n.proxy(this._scrollChangedHandler,this,r))}}),i.GridView=i.View.inherit({_endUpdateCore:function(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())},init:function(){var n=this;n._resizingController=this.getController("resizing"),n._dataController=n.getController("data")},getView:function(n){return this.component._views[n]},element:function(){return this._groupElement},optionChanged:function(n){var t=this;r.isDefined(t._groupElement)&&n.name==="showBorders"?(t._groupElement.toggleClass(e,!!n.value),n.handled=!0):t.callBase(n)},render:function(t){var i=this,r=i._groupElement||n("<div />").addClass(u).toggleClass(e,!!i.option("showBorders"));i.component.setAria({role:"application",label:Globalize.localize("dxDataGrid-ariaDataGrid")},t),i._rootElement=t||i._rootElement,i._groupElement=r,n.each(s,function(n,t){var u=i.getView(t);u&&u.render(r)}),i.update()},update:function(){var n=this,t=n._rootElement,i=n._groupElement,r=n.getController("resizing");t&&i&&(i.parent().length||(r.updateSize(t),i.appendTo(t),n.getView("columnHeadersView").renderDelayedTemplates(),n.getView("rowsView").renderDelayedTemplates()),r.resize(),n._dataController.isLoaded()&&n.component._fireContentReadyAction())}}),i.registerModule("gridView",{defaultOptions:function(){return{showBorders:!1}},controllers:{resizing:i.ResizingController,synchronizeScrolling:i.SynchronizeScrollingController},views:{gridView:i.GridView}})}(jQuery,DevExpress),function(n,t){function w(n,t){for(var r=[],i=0;i<n.length;i++)r.push(Math.max(n[i]||0,t[i]||0));return r}function e(t){var i=0;return n.each(t,function(n,t){i+=t||0}),i}function o(n,t){for(var r=t/n.length,i=0;i<n.length;i++)n[i]-=r}function s(n){return n.groupElement().data("dxScrollable")}function nt(n,t){var i=s(n);if(i)i.on("scroll",t).on("stop",t)}function h(n,t){var i;n&&(i=s(n),i&&(i.scrollTo(t),i.update()))}function tt(t,i){if(r[i])return r[i];var o=0,f,e={},u=n("<div>").css({position:"absolute",visibility:"hidden",width:100,height:100}).appendTo(t),s=n("<p>").css({width:"100%",height:200}).appendTo(u);return i!=="auto"&&(e.useNative=!!i,e.useSimulatedScrollbar=!i),u.dxScrollable(e),f=u.dxScrollable("instance").option("useNative"),o=f?u.width()-s.width():0,u.remove(),r[i]={scrollBarWidth:o,scrollBarUseNative:f}}var c=t.ui,b=t.require("/utils/utils.string"),u=t.require("/utils/utils.common"),l=t.require("/ui/events/ui.events.wheel"),k=t.require("/componentRegistrator"),d=t.require("/ui/ui.widget"),g=t.require("/ui/events/ui.events.utils"),a="dx-area-data-cell",v="dx-area-row-cell",y="dx-area-column-cell",f="dx-area-description-cell",p="dx-pivotgrid-border",r={},i;k("dxPivotGrid",c,d.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{scrolling:{timeout:30,mode:"standard",useNative:"auto",removeInvisiblePages:!0},encodeHtml:!0,dataSource:null,activeStateEnabled:!1,fieldChooser:{minWidth:250,minHeight:250,enabled:!0,layout:0,title:Globalize.localize("dxPivotGrid-fieldChooserTitle"),width:600,height:600},onContextMenuPreparing:null,allowSorting:!1,allowSortingBySummary:!1,allowFiltering:!1,allowExpandAll:!1,"export":{enabled:!1,fileName:"PivotGrid",proxyUrl:undefined},showRowTotals:!0,showRowGrandTotals:!0,showColumnTotals:!0,showColumnGrandTotals:!0,hideEmptySummaryCells:!0,showTotalsPrior:"none",loadPanel:{enabled:!0,text:Globalize.localize("Loading"),width:200,height:70,showIndicator:!0,indicatorSrc:"",showPane:!0},texts:{grandTotal:Globalize.localize("dxPivotGrid-grandTotal"),total:Globalize.localize("dxPivotGrid-total"),noData:Globalize.localize("dxDataGrid-noDataText"),showFieldChooser:Globalize.localize("dxPivotGrid-showFieldChooser"),expandAll:Globalize.localize("dxPivotGrid-expandAll"),collapseAll:Globalize.localize("dxPivotGrid-collapseAll"),sortColumnBySummary:Globalize.localize("dxPivotGrid-sortColumnBySummary"),sortRowBySummary:Globalize.localize("dxPivotGrid-sortRowBySummary"),removeAllSorting:Globalize.localize("dxPivotGrid-removeAllSorting"),exportToExcel:Globalize.localize("dxDataGrid-exportToExcel")},onCellClick:null,onCellPrepared:null,showBorders:!1,stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3},onExpandValueChanging:null,renderCellCountLimit:2e4,onExporting:null,onExported:null})},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{useNativeScrolling:{since:"15.2",alias:"scrolling.useNative"}})},_getDataControllerOptions:function(){var t=this;return{component:t,dataSource:t.option("dataSource"),texts:t.option("texts"),showRowTotals:t.option("showRowTotals"),showRowGrandTotals:t.option("showRowGrandTotals"),showColumnTotals:t.option("showColumnTotals"),showTotalsPrior:t.option("showTotalsPrior"),showColumnGrandTotals:t.option("showColumnGrandTotals"),hideEmptySummaryCells:t.option("hideEmptySummaryCells"),onFieldsPrepared:function(i){n.each(i,function(i,r){n.each(["allowSorting","allowSortingBySummary","allowFiltering","allowExpandAll"],function(n,i){r[i]===undefined&&(r[i]=t.option(i))})})}}},_initDataController:function(){var n=this,t;n._dataController&&n._dataController.dispose(),n._dataController=new i.DataController(n._getDataControllerOptions()),n._dataController.changed.add(function(){n._render()}),n._dataController.scrollChanged.add(function(t){n._scrollLeft=t.left,n._scrollTop=t.top}),n._dataController.loadingChanged.add(function(){n._updateLoading()}),t=n.option("onExpandValueChanging"),t&&n._dataController.expandValueChanging.add(function(n){t(n)})},_init:function(){var n=this;n.callBase(),n._initDataController(),n._scrollLeft=n._scrollTop=null,n._initActions(),n._clientExporter=new t.dxClientExporter({exportingAction:n._actions.exportingAction,exportedAction:n._actions.exportedAction})},_initActions:function(){this._actions={onContextMenuPreparing:this._createActionByOption("onContextMenuPreparing"),onCellClick:this._createActionByOption("onCellClick"),exportingAction:this._createActionByOption("onExporting"),exportedAction:this._createActionByOption("onExported")}},_trigger:function(n,t){this._actions[n](t)},_optionValuesEqual:function(n,i,r){return n==="dataSource"&&r instanceof t.data.PivotGridDataSource&&i instanceof t.data.PivotGridDataSource?r===i:this.callBase.apply(this,arguments)},_optionChanged:function(n){var t=this;switch(n.name){case"dataSource":case"allowSorting":case"allowFiltering":case"scrolling":case"stateStoring":t._initDataController(),t._fieldChooserPopup.hide(),t._invalidate();break;case"texts":case"showTotalsPrior":case"showRowTotals":case"showRowGrandTotals":case"showColumnTotals":case"showColumnGrandTotals":case"showColumnGrandTotals":case"hideEmptySummaryCells":t._dataController.updateViewOptions(t._getDataControllerOptions());break;case"useNativeScrolling":case"encodeHtml":case"renderCellCountLimit":t._invalidate();break;case"rtlEnabled":t.callBase(n),t._renderFieldChooser(),t._renderContextMenu(),t._renderLoadPanel(t._dataArea.groupElement()),t._invalidate();break;case"export":t._renderDescriptionArea();break;case"onExpandValueChanging":case"onCellPrepared":case"allowSortingBySummary":case"allowExpandAll":break;case"onCellClick":case"onContextMenuPreparing":t._actions[n.name]=t._createActionByOption(n.name);break;case"fieldChooser":t._renderFieldChooser(),t._renderDescriptionArea();break;case"loadPanel":t._renderLoadPanel(t._dataArea.groupElement()),t._invalidate();break;case"showBorders":t._tableElement().toggleClass(p,n.value),t.updateDimensions();break;case"onExporting":t._clientExporter.option("exportingAction",t._actions.exportingAction);break;case"onExported":t._clientExporter.option("exportedAction",t._actions.exportedAction);break;default:t.callBase(n)}},_updateScrollPosition:function(n,t,i){var r=this,u,f,e,o=r._scrollTop||r._scrollLeft;t&&!t.hasScroll()&&(r._scrollTop=null),n&&!n.hasScroll()&&(r._scrollLeft=null),r._scrollTop!==null||r._scrollLeft!==null||o?(u=r._scrollTop||0,f=r._scrollLeft||0,h(i,{x:f,y:u}),h(n,f),h(t,u)):i&&(e=s(i),e&&e.update())},_subscribeToEvents:function(n,t,i){var r=this;nt(i,function(i){var u=i.scrollOffset;((r._scrollLeft||0)!==(u.left||0)||(r._scrollTop||0)!==(u.top||0))&&(r._scrollLeft=i.scrollOffset.left,r._scrollTop=i.scrollOffset.top,r._updateScrollPosition(n,t,null),r.option("scrolling.mode")==="virtual"&&r._dataController.setViewportPosition(r._scrollLeft,r._scrollTop))});t.groupElement().off(l.name).on(l.name,function(n){var t=i.groupElement().data("dxScrollable");t&&t.scrollTo({y:r._scrollTop-Math.floor(n.delta)})})},_clean:n.noop,_needDelayResizing:function(){var n=this._dataController.getCellsInfo(),t=n.length*(n.length?n[0].length:0);return t>this.option("renderCellCountLimit")},_renderFieldChooser:function(){var t=this,u=t._pivotGridContainer,i=t.option("fieldChooser")||{},r={visible:!1,shading:!1,title:i.title,width:i.width,height:i.height,showCloseButton:!0,onShown:function(n){var u=n.component,r=n.component.content();t._createComponent(r,"dxPivotGridFieldChooser",{layout:i.layout,texts:i.texts||{},dataSource:t.getDataSource(),width:undefined,height:undefined}),t._createComponent(r.parent(),"dxResizable",{handles:t.option("rtlEnabled")?"left bottom":"right bottom",onResize:function(){u._setContentHeight(),r.dxPivotGridFieldChooser("updateDimensions")},minWidth:i.minWidth,minHeight:i.minHeight})}};t._fieldChooserPopup?t._fieldChooserPopup.option(r):t._fieldChooserPopup=t._createComponent(n("<div>").addClass("dx-fieldchooser-popup").appendTo(u),"dxPopup",r)},_renderContextMenu:function(){var t=this,r=t._pivotGridContainer;t._contextMenu&&t._contextMenu.element().remove(),t._contextMenu=t._createComponent(n("<div>").appendTo(r),"dxContextMenu",{onPositioning:function(i){var r=i.jQueryEvent,f=r.target.cellIndex>=0?r.target:n(r.target).closest("td").get(0),e,u;if(f&&(e=t._createCellArgs(f,r),u=t._getContextMenuItems(e),u)){i.component.option("items",u);return}i.canceled=!0},onItemClick:function(n){n.itemData.onItemClick&&n.itemData.onItemClick(n)},cssClass:i.cssClassNames.pivotGrid,target:t.element()})},_getContextMenuItems:function(t){var r=this,f=[],s;if(t.area==="row"||t.area==="column"){var c=t[t.area+"Fields"],h=t[t.area==="column"?"rowFields":"columnFields"],o=t.cell.path&&c[t.cell.path.length-1],e=r.getDataSource();o&&o.allowExpandAll&&t.cell.path.length<t[t.area+"Fields"].length&&t.cell.type==="D"&&(f.push({beginGroup:!0,icon:"none",text:r.option("texts.expandAll"),onItemClick:function(){e.expandAll(o.index)}}),f.push({text:r.option("texts.collapseAll"),icon:"none",onItemClick:function(){e.collapseAll(o.index)}})),t.cell.isLast&&(s=0,n.each(h,function(o,h){h.allowSortingBySummary&&n.each(t.dataFields,function(n,o){if(!u.isDefined(t.cell.dataIndex)||t.cell.dataIndex===n){var c=!u.isDefined(t.cell.dataIndex)&&t.dataFields.length>1,l=r.option(t.area==="column"?"texts.sortColumnBySummary":"texts.sortRowBySummary"),a=i.findField(t.dataFields,h.sortBySummaryField)===n&&(t.cell.path||[]).join("/")===(h.sortBySummaryPath||[]).join("/"),v=b.format(l,c?h.caption+" - "+o.caption:h.caption);f.push({beginGroup:s===0,icon:a?h.sortOrder==="desc"?"desc":"asc":"none",text:v,onItemClick:function(){e.field(h.index,{sortBySummaryField:o.caption||o.dataField,sortBySummaryPath:t.cell.path,sortOrder:h.sortOrder==="desc"?"asc":"desc"}),e.load()}}),s++}})}),n.each(h,function(t,i){if(i.allowSortingBySummary&&u.isDefined(i.sortBySummaryField))return f.push({beginGroup:s===0,icon:"none",text:r.option("texts.removeAllSorting"),onItemClick:function(){n.each(h,function(n,t){e.field(t.index,{sortBySummaryField:undefined,sortBySummaryPath:undefined,sortOrder:undefined})}),e.load()}}),!1}))}return r.option("fieldChooser.enabled")&&f.push({beginGroup:!0,icon:"field-chooser",text:r.option("texts.showFieldChooser"),onItemClick:function(){r._fieldChooserPopup.show()}}),t.items=f,r.option("export.enabled")&&f.push({beginGroup:!0,icon:"exportxlsx",text:r.option("texts.exportToExcel"),onItemClick:function(){r.exportToExcel()}}),r._trigger("onContextMenuPreparing",t),f=t.items,f&&f.length?f:void 0},_createCellArgs:function(t,i){var h=this,e=n(t),o=t.cellIndex,r=t.parentElement.rowIndex,s=e.closest("table"),u=h.getDataSource(),f=s.data("data"),c=f&&f[r]&&f[r][o];return{area:s.data("area"),rowFields:u.getAreaFields("row"),columnFields:u.getAreaFields("column"),dataFields:u.getAreaFields("data"),rowIndex:r,columnIndex:o,cellElement:e,cell:c,jQueryEvent:i}},_handleCellClick:function(n){var i=this,t=i._createCellArgs(n.currentTarget,n);!t.area&&(t.rowIndex||t.columnIndex)||i._trigger("onCellClick",t)},_getNoDataText:function(){return this.option("texts.noData")},_updateNoDataText:t.ui.dxDataGrid.RowsView.prototype._updateNoDataText,_renderLoadPanel:t.ui.dxDataGrid.RowsView.prototype._renderLoadPanel,_updateLoading:function(){var n=this;n._loadPanel&&n._loadPanel.option("visible",n._dataController.isLoading())},_renderDescriptionArea:function(){var t=this,i=t.element().find("."+f);i.empty(),t.option("fieldChooser.enabled")&&t._createComponent(n("<div>").appendTo(i).addClass("dx-pivotgrid-field-chooser-button"),"dxButton",{icon:"column-chooser",onClick:function(){t.getFieldChooserPopup().show()}}),t.option("export.enabled")&&t._createComponent(n("<div>").appendTo(i).addClass("dx-pivotgrid-export-button"),"dxButton",{icon:"exportxlsx",onClick:function(){t.exportToExcel()}})},_renderContentImpl:function(){var t=this,s,h,c,r,u=t._dataArea||new i.DataArea(t),o=(t._rowsArea||new i.VerticalHeadersArea(t)).setDataController(t._dataController),e=(t._columnsArea||new i.HorizontalHeadersArea(t)).setDataController(t._dataController),b=tt(t.element(),t.option("scrolling.useNative")),l=!t._pivotGridContainer,w;if(t._scrollBarWidth=b.scrollBarWidth,t._scrollBarUseNative=b.scrollBarUseNative,l){t.element().addClass(i.cssClassNames.pivotGrid).addClass(i.cssClassNames.rowLines),t._pivotGridContainer=n("<div>"),t._renderFieldChooser(),t._renderContextMenu(),s=n("<td>").addClass(y),h=n("<td>").addClass(v),c=n("<td>").addClass(a),r=n("<table>").css({width:"100%"}).toggleClass(p,!!t.option("showBorders")),n("<tr>").append(n("<td>").addClass(f)).append(s).appendTo(r),n("<tr>").addClass(i.cssClassNames.bottomAraesRow).append(h).append(c).appendTo(r),r.appendTo(t._pivotGridContainer),t._pivotGridContainer.appendTo(t.element());r.on(g.addNamespace("dxclick","dxPivotGrid"),"td",n.proxy(t,"_handleCellClick"))}else r=t._tableElement();t._rowsArea=o,t._columnsArea=e,t._dataArea=u,e.render(s,t._dataController.getColumnsInfo()),o.render(h,t._dataController.getRowsInfo()),u.render(c,t._dataController.getCellsInfo()),u.tableElement().prepend(e.headElement()),w=function(){t.updateDimensions(),t._subscribeToEvents(e,o,u)},t._pivotGridContainer.detach(),t._hasHeight=t.element().height()>0,t._pivotGridContainer.appendTo(t.element()),l&&(t._renderLoadPanel(u.groupElement()),t._renderDescriptionArea(),o.processScroll(),e.processScroll()),t._needDelayResizing()&&l?setTimeout(w):w()},_fireContentReadyAction:function(){this._dataController.isLoading()||this.callBase()},getScrollPath:function(n){var t=this;return n==="column"?t._columnsArea.getScrollPath(t._scrollLeft):t._rowsArea.getScrollPath(t._scrollTop)},getDataSource:function(){return this._dataController.getDataSource()},getFieldChooserPopup:function(){return this._fieldChooserPopup},hasScroll:function(n){var t=this;return n==="column"?t._columnsArea.hasScroll():t._rowsArea.hasScroll()},_dimensionChanged:function(){this.updateDimensions()},_visibilityChanged:function(n){n&&this.updateDimensions()},_dispose:function(){var n=this;n.callBase.apply(n,arguments),n._dataController&&n._dataController.dispose()},_tableElement:function(){return this.element().find("table").first()},resize:function(){this.updateDimensions()},isReady:function(){return this.callBase()&&!this._dataController.isLoading()},updateDimensions:function(){var n=this,h,u,c=n._tableElement(),s=n._rowsArea,i=n._columnsArea,t=n._dataArea,et,wt,l,p,ot,tt,st=0,it=0,ht=0,b,d,ct=n.option("loadPanel")||{},g,k=n._scrollBarWidth||0,nt=c.find("."+a),lt=c.find("."+v),at=c.find("."+y),bt=c.find("."+f),rt,vt,yt,ut,pt,ft,r;t.headElement().length||(t.tableElement().prepend(i.headElement()),t.resetColumnsWidth()),t.reset(),s.reset(),i.reset(),p=t.getColumnsWidth(),wt=s.getRowsHeight(),et=t.getRowsHeight(),yt=bt.outerHeight(),pt=n._dataController.getColumnsInfo().length,l=w(wt,et.slice(pt)),ut=et.slice(0,pt),vt=e(ut),ot=s.getColumnsWidth(),n._hasHeight&&(tt=at.outerHeight()-at.height()+nt.outerHeight()-nt.height()+c.outerHeight()-c.height(),u=n.element().height()-(Math.max(t.headElement().height(),at.height())+tt)),st=t.tableElement().width(),it=e(l),ht=e(ot),rt=n.element().width(),tt=lt.outerWidth()-lt.width()+nt.outerWidth()-nt.width()+c.outerWidth()-c.width(),h=rt-ht-tt,b=it-u>=1,d=st-h>=1,b||(u=it+(d?k:0)),i.tableElement().append(t.headElement()),l.length===1&&ct.enabled&&ct.height&&(g=ct.height+50,l[0]<g&&(l[0]=g,u<g&&(u=g))),!d&&b&&k&&o(p,k),yt>vt&&(o(ut,vt-yt),i.setRowsHeight(ut)),i.groupWidth(h),i.processScrollBarSpacing(b?k:0),i.setColumnsWidth(p),s.groupHeight(u),s.processScrollBarSpacing(d?k:0),s.setColumnsWidth(ot),s.setRowsHeight(l),t.setColumnsWidth(p),t.setRowsHeight(l),t.groupWidth(h),t.groupHeight(u),nt.toggleClass("dx-bottom-border",!(b||k)),lt.toggleClass("dx-bottom-border",!(b&&!k)),n._hasHeight||rt===n.element().width()||(ft=rt-n.element().width(),d||(o(p,ft),i.setColumnsWidth(p),t.setColumnsWidth(p)),t.groupWidth(h-ft),i.groupWidth(h-ft)),n.option("scrolling.mode")!=="virtual"||n._dataController.isLoading()||(r=n._dataController.calculateVirtualContentParams({contentWidth:st,contentHeight:it,rowCount:l.length,columnCount:p.length,viewportWidth:h,viewportHeight:u}),t.setVirtualContentParams({top:r.contentTop,left:r.contentLeft,width:r.width,height:r.height}),s.setVirtualContentParams({top:r.contentTop,width:ht,height:r.height}),i.setVirtualContentParams({left:r.contentLeft,width:r.width,height:i.groupElement().height()}),b=u<r.height,d=h<r.width),t.processScroll(k,b,d,n._scrollBarUseNative),n._updateLoading(),n._updateNoDataText(t.groupElement()),n._updateScrollPosition(i,s,t)},applyPartialDataSource:function(n,t,i){this._dataController.applyPartialDataSource(n,t,i)}})),i=n.extend(c.dxPivotGrid,{cssClassNames:{pivotGrid:"dx-pivotgrid",rowLines:"dx-row-lines",area:"dx-pivotgrid-area",areaData:"dx-pivotgrid-area-data",splitter:"dx-pivotgrid-splitter",splitterButton:"dx-button",splitterButtonDisable:"dx-button-disable",splitterExpand:"dx-expand",splitterCollapse:"dx-collapse",bottomAraesRow:"dx-bottom-row",verticalScroll:"dx-vertical-scroll",headersVertical:"dx-pivotgrid-vertical-headers",headersHorizontal:"dx-pivotgrid-horizontal-headers",headersVerticalLastCell:"dx-last-cell",headersVerticalExpandBorder:"dx-expand-border",headersExpandCollapseImage:"dx-expand",headersExpanded:"dx-pivotgrid-expanded",headersCollapsed:"dx-pivotgrid-collapsed",bottomBorder:"dx-pivotgrid-bottom-border",total:"dx-total",grandTotal:"dx-grandtotal",rowTotal:"dx-row-total"},mergeArraysByMaxValue:w})}(jQuery,DevExpress),function(n,t){function h(n,t){var i,r;if(n&&u.isDefined(t))for(i=0;i<n.length;i++)if(r=n[i],r.name===t||r.caption===t||r.dataField===t||r.index===t)return i;return-1}function e(n,t,i,r){r=r||[],n=n||[];for(var f,u=0;u<n.length;u++){if(f=n[u],r.unshift(f),i&&t(r,u)===!1)return;if(f.children&&e(f.children,t,i,r),!i&&t(r,u)===!1)return;r.shift(),n[u]!==f&&u--}}function o(n){for(var i=[],t=n.length-1;t>=0;t--)i.push(n[t].key||n[t].value);return i}function v(n,t){var i={value:n,valueText:b.format(n,t.format,t.precision)||""};return t.customizeText?t.customizeText.call(t,i):i.valueText}function c(n,t,i,r){var u,f;for(i=i||0,r=r||"children",n.length&&t(n,i),f=0;f<n.length;f++)u=n[f],u[r]&&u[r].length&&c(u[r],t,i+1,r)}function l(n){return function(t,i){var r=0;return n(t)>n(i)?r=1:n(t)<n(i)&&(r=-1),r}}function k(n){var t=!1;return i(n.values,function(n,i){if(i.summaryDisplayMode||i.calculateSummaryValue||i.runningTotal)return t=!0,!1}),t}var r=t.ui.dxPivotGrid,u=t.require("/utils/utils.common"),f=u.isDefined,i=n.each,a=DevExpress.require("/class"),y=t.require("/eventsMixin"),p=t.require("/utils/utils.inflector"),w=t.require("/utils/utils.array").normalizeIndexes,b=t.require("/utils/utils.formatHelper"),s={row:"rows",column:"columns",data:"values",filter:"filters"};t.data.PivotGridDataSource=r.DataSource=a.inherit(function(){function yt(i){var f,u;return n.isPlainObject(i)&&i.load?f=new r.LocalStore(i):(i&&!i.store&&(i={store:i}),u=i.store,u.type==="xmla"?f=new r.XmlaStore(u):n.isPlainObject(u)&&u.type||u instanceof t.data.Store||n.isArray(u)?f=new r.LocalStore(i):u instanceof a&&(f=u)),f}function d(n,t,i){var u=[],r=t[i];return e(n[i],function(n){var i=n[0],t=o(n);i.children&&r[t.length-1]&&!r[t.length-1].expanded&&t.length<r.length&&u.push(t.slice())},!0),u}function tt(t,i){return n.each(["area","areaIndex","sortOrder","filterType","filterValues","sortBy","sortBySummaryField","sortBySummaryPath","expanded"],function(n,r){t[r]=i[r]}),t}function pt(t){var i=[];return n.each(t,function(n,t){i.push(tt({},t))}),i}function it(t,i){return t=t||[],n.each(i,function(n,i){tt(i,t[n]||{})}),i}function wt(t,i){return n.map(t,function(t){return t.groupName===i.groupName&&u.isNumber(t.groupIndex)&&t.visible!==!1?n.extend(t,{areaIndex:i.areaIndex,area:i.area,dataField:t.dataField||i.dataField,dataType:t.dataType||i.dataType,sortBy:t.sortBy||i.sortBy,sortOrder:t.sortOrder||i.sortOrder,sortBySummaryField:t.sortBySummaryField||i.sortBySummaryField,sortBySummaryPath:t.sortBySummaryPath||i.sortBySummaryPath,visible:t.visible||i.visible}):null}).sort(function(n,t){return n.groupIndex-t.groupIndex})}function rt(n){n.sort(function(n,t){return n.areaIndex-t.areaIndex})}function ut(n,t){return n.area===t&&!f(n.groupIndex)&&n.visible!==!1}function bt(t){var e=this,f=e.fields(),r={rows:[],columns:[],values:[],filters:[]};return i(["row","column","data","filter"],function(i,r){var u=[];n.each(f,function(n,t){ut(t,r)&&u.push(t)}),w(u,"areaIndex",t)}),i(f||[],function(n,t){var o=s[t.area],i=r[o],e=t.groupName;(e&&!u.isNumber(t.groupIndex)&&(t.levels=wt(f,t)),!i||e&&u.isNumber(t.groupIndex)||t.visible===!1)||(t.levels&&i!==r.filters?(i.push.apply(i,t.levels),t.filterValues&&t.filterValues.length&&r.filters.push(t)):i.push(t))}),i(r,function(n,t){rt(t)}),r}function ft(n){return(n.dataField||n.groupName||"")+(n.groupInterval?n.groupName||"":"NOGROUP")+(n.groupInterval||"")}function et(t,r,u){var f=[],e={},o={},s=[],h=ot(t);return r?(i(r,function(n,t){e[ft(t)]=t}),i(t,function(t,i){var r=ft(i),s=e[r]||o[r],u;s?u=n.extend({},s,i):e[r]=u=i,n.extend(u,{dataType:h[i.dataField]}),delete e[r],o[r]=s,f.push(u)}),u&&i(e,function(n,t){f.push(t)})):f=t,f.push.apply(f,s),f}function kt(n){var i=n.dataField||n.groupName||"",t=(n.summaryType||"").toLowerCase();return u.isString(n.groupInterval)&&(i+="_"+n.groupInterval),t&&t!=="custom"?(t=t.replace(/^./,t[0].toUpperCase()),i.length&&(t=" ("+t+")")):t="",p.titleize(i)+t}function ot(n){var t={};return i(n,function(n,i){t[i.dataField]=t[i.dataField]||i.dataType}),t}function st(t){var i=n.Deferred(),r=t._store,f=r&&r.getFields(ot(t._fields)),u;return n.when(f).done(function(n){t._storeFields=n,u=et(t._fields,n,t._retrieveFields),i.resolve(u)}).fail(function(){i.resolve(t._fields)}),i}function dt(t,i){var u=null,r=(i||[]).join(".");return r.length&&e(t,function(t){var i=t[0],f=o(t).join("."),e=n.map(t,function(n){return n.text}).reverse().join(".");if(r===f||i.key&&e===r)return u=t[0].index,!1}),u}function gt(n,t,i,r){var e=t.values,s=h(i.values,n.sortBySummaryField),u=r==="rows",l=u?t.columns:t.rows,a=u?t.grandTotalRowIndex:t.grandTotalColumnIndex,c=n.sortBySummaryPath||[],o=c.length?dt(l,c):a;if(e&&e.length&&s>=0&&f(o))return function(n){var t=u?n.index:o,i=u?o:n.index;return((e[t]||[[]])[i]||[])[s]||null}}function ni(n,t,i,r,u){var o=u?"asc":n.sortOrder,s=u?"value":n.sortBy==="displayText"?"text":"value",h=n.sortingMethod||l(function(n){return n[s]}),f=!u&&gt(n,t,i,r),e=f&&l(f);return function(n,t){var i=e&&e(n,t)||0;return i===0&&(i=h(n,t)),o==="desc"?-i:i}}function ht(n,t,i,r){var f=t[i]||[],e=t.headerName===i?t.path.length:0,u=[];c(n[i],function(e,o){var s=f[o]||{},h=u[o]=u[o]||ni(s,n,t,i,r);e.sort(h)},e)}function ti(n,t,i){ht(t,n,"rows",i),ht(t,n,"columns",i)}function ct(n,t,i){e(n[i],function(n){var r=n[0];r.text=r.text||v(r.value,t[i][o(n).length-1])})}function lt(n,t){ct(t,n,"columns"),ct(t,n,"rows")}function at(n){var t={};e(n,function(n){var i=o(n).join(".");t[i]=n[0]}),n._cacheByPath=t}var y=function(n,t){if(n._cacheByPath)return n._cacheByPath[t.join(".")]||null},b=function(n,t){var u,i=-1,r;if(n)for(u=0;u<n.length;u++)r=n[u],i=Math.max(i,r.index),r.children?i=Math.max(i,b(r.children)):r.collapsedChildren&&(i=Math.max(i,b(r.collapsedChildren)));return f(t)&&(i=Math.max(i,t)),i},g=function(n,t,i,r){for(var o=b(i)+1,s=b(n,r)+1,f=[],u=0;u<o;u++)f[u]=s++;return t.children=i,e(t.children,function(n){n[0].index=f[n[0].index]}),f},nt=function(n,t){var i=[];return e(n,function(n){delete n[0].collapsedChildren}),e(t,function(t){var r=y(n,o(t));r&&(i[t[0].index]=r.index)}),i},vt=function(n,t,i,r){var e,o,h,c,u,s,l=n.values;if(t)for(e=0;e<=t.length;e++)if(h=t[e],u=i[e],f(u)||(u=n.grandTotalRowIndex),h&&f(u))for(l[u]||(l[u]=[]),o=0;o<=h.length;o++)c=h[o],s=r[o],f(s)||(s=n.grandTotalColumnIndex),f(c)&&f(s)&&(l[u][s]=c)};return{ctor:function(t){t=t||{};var r=this,u=yt(t);r._store=u,r._loadedData={rows:[],columns:[],values:[]},r._data=n.extend(!0,{},r._loadedData),r._loadingCount=0,i(["changed","loadError","loadingChanged","fieldsPrepared","expandValueChanging"],n.proxy(function(n,i){var r="on"+i[0].toUpperCase()+i.slice(1);if(t.hasOwnProperty(r))this.on(i,t[r])},this)),r._retrieveFields=f(t.retrieveFields)?t.retrieveFields:!0,r._fields=t.fields||[],r._descriptions=t.descriptions?n.extend(r._createDescriptions(),t.descriptions):undefined,u||(n.extend(!0,r._loadedData,t.store||t),r._data=n.extend(!0,{},r._loadedData))},getData:function(){return this._data},getAreaFields:function(n,t){var r=[],u;return t||n==="data"?(i(this._fields,function(){ut(this,n)&&r.push(this)}),rt(r)):(u=this._descriptions||{},r=u[s[n]]||[]),r},fields:function(n){var t=this;return n&&(t._fields=et(n,t._storeFields,t._retrieveFields),t._fieldsPrepared(t._fields)),t._fields},field:function(n,t){var f=this,e=f._fields,r=e&&e[u.isNumber(n)?n:h(e,n)],o;return r&&t&&(i(t,function(n,t){if(r[n]=t,n==="sortOrder"){o=r.levels||[];for(var i=0;i<o.length;i++)o[i][n]=t}}),f._descriptions=f._createDescriptions(r)),r},getFieldValues:function(t){var s=this,u=this._fields&&this._fields[t],e=this.store(),o=[],f={columns:o,rows:[],values:this.getAreaFields("data"),filters:[]},r=n.Deferred();return u&&e?(i(u.levels||[u],function(){o.push(n.extend({},this,{expanded:!0,filterValues:null,sortOrder:"asc",sortBySummaryField:null}))}),e.load(f).done(function(n){lt(f,n),s._sort(f,n),r.resolve(n.columns)}).fail(r)):r.reject(),r},reload:function(){return this.load({reload:!0})},filter:function(){var n=this._store;return n.filter.apply(n,arguments)},load:function(t){function f(){i._delayedLoadTask=undefined,i._descriptions?i._loadCore(t,r):n.when(st(i)).done(function(n){i._fieldsPrepared(n),i._loadCore(t,r)}).fail(r.reject).fail(i._loadErrorHandler)}var i=this,r=n.Deferred();return t=t||{},i._changeLoadingCount(1),r.fail(function(n){i.fireEvent("loadError",[n])}).always(function(){i._changeLoadingCount(-1)}),i.store()?i._delayedLoadTask=u.executeAsync(f):f(),r},createDrillDownDataSource:function(t){function r(t){return function(r){var f;return i?f=i[t](r):(f=n.Deferred(),n.when(u).done(function(n){i=new DevExpress.data.ArrayStore(n),i[t](r).done(f.resolve).fail(f.reject)}).fail(f.reject)),f}}var u=this._store.getDrillDownItems(this._descriptions,t),i;return new DevExpress.data.DataSource({load:r("load"),totalCount:r("totalCount"),key:this._store.key()})},_createDescriptions:bt,_fieldsPrepared:function(n){var t=this;t._fields=n,i(n,function(n,t){t.index=n,f(t.caption)||(t.caption=kt(t))}),t.fireEvent("fieldsPrepared",[n]),t._descriptions=t._createDescriptions()},isLoading:function(){return this._loadingCount>0},state:function(t){var i=this;if(t)t=n.extend({},t),i._descriptions?(i._fields=it(t.fields,i._fields),i.load(t)):(i._changeLoadingCount(1),n.when(st(i)).done(function(n){i._fields=it(t.fields,n),i._fieldsPrepared(n),i.load(t)}).always(function(){i._changeLoadingCount(-1)}));else return{fields:pt(i._fields),columnExpandedPaths:d(i._loadedData,i._descriptions,"columns"),rowExpandedPaths:d(i._loadedData,i._descriptions,"rows")}},_changeLoadingCount:function(n){var i=this.isLoading(),t;this._loadingCount+=n,t=this.isLoading(),i^t&&this.fireEvent("loadingChanged",[t])},_loadCore:function(t,i){var r=this,u=this._store,e=this._descriptions,f=s[t.area];t=t||{},u?(n.extend(t,e),t.columnExpandedPaths=t.columnExpandedPaths||d(this._loadedData,t,"columns"),t.rowExpandedPaths=t.rowExpandedPaths||d(this._loadedData,t,"rows"),f&&(t.headerName=f),n.when(u.load(t)).done(function(u){t.path?r.applyPartialDataSource(t.area,t.path,u,i):(n.extend(r._loadedData,u),r._update(i)),i.resolve(r._data)}).fail(i.reject)):(r._update(i),i.resolve(r._data))},_sort:function(n,t,i){var r=this._store;r&&ti(n,t,i)},_update:function(t){var i=this,e=i._descriptions,f=i._loadedData,o=k(e);lt(e,f),at(f.rows),at(f.columns),o&&(i._sort(e,f,o),r.applyDisplaySummaryMode(e,f)),i._sort(e,f),i._data=f,n.when(t).done(function(){i.fireEvent("changed"),u.isDefined(i._data.grandTotalRowIndex)&&(f.grandTotalRowIndex=i._data.grandTotalRowIndex),u.isDefined(i._data.grandTotalColumnIndex)&&(f.grandTotalColumnIndex=i._data.grandTotalColumnIndex)})},store:function(){return this._store},collapseHeaderItem:function(n,t){var i=this,f=n==="column"?i._loadedData.columns:i._loadedData.rows,r=y(f,t),u=i.getAreaFields(n)[t.length-1];return r&&r.children?(i.fireEvent("expandValueChanging",[{area:n,path:t,expanded:!1}]),u&&(u.expanded=!1),r.collapsedChildren=r.children,delete r.children,i._update(),!0):!1},collapseAll:function(t){var r=!1,i=this.field(t)||{},u=n.inArray(i,this.getAreaFields(i.area));i.expanded=!1,e(this._loadedData[i.area+"s"],function(n){var t=n[0],i=o(n);t&&t.children&&u===i.length-1&&(t.collapsedChildren=t.children,delete t.children,r=!0)},!0),r&&this._update()},expandAll:function(n){var t=this.field(n);t&&t.area&&(t.expanded=!0,this.load())},expandHeaderItem:function(n,t){var r=this,u,e=n==="column"?r._loadedData.columns:r._loadedData.rows,i=y(e,t),f;return i&&!i.children?(u=!!i.collapsedChildren,f={area:n,path:t,expanded:!0,needExpandData:!u},r.fireEvent("expandValueChanging",[f]),u?(i.children=i.collapsedChildren,delete i.collapsedChildren,r._update()):r.load(f),u):!1},applyPartialDataSource:function(n,t,i,r){var h=this,u=h._loadedData,e=n==="column"?u.columns:u.rows,f,o,s;i&&i.values&&(i.rows=i.rows||[],i.columns=i.columns||[],f=y(e,t),f&&(n==="column"?(s=g(e,f,i.columns,u.grandTotalColumnIndex),o=nt(u.rows,i.rows)):(o=g(e,f,i.rows,u.grandTotalRowIndex),s=nt(u.columns,i.columns)),vt(u,i.values,o,s),h._update(r)))},dispose:function(){var t=this,n=t._delayedLoadTask;this._disposeEvents(),n&&n.abort(),this._isDisposed=!0},isDisposed:function(){return!!this._isDisposed}}}()).include(y),r.foreachTree=e,r.createPath=o,r.foreachDataLevel=c,r.getCompareFunction=l,r.findField=h,r.formatValue=v}(jQuery,DevExpress),function(n,t){var i=t.ui.dxPivotGrid,c=t.require("/utils/utils.string"),u=t.require("/utils/utils.common"),l=DevExpress.require("/class"),e=i.createPath,r=i.foreachTree,a=i.formatValue,o=Math,h=t.ui.dxDataGrid,f="GT",v="T",s="D";i.proxyMethod=function(n,t,i){n[t]||(n[t]=function(){var n=this._dataSource;return n?n[t].apply(n,arguments):i})},i.DataController=l.inherit(function(){function nt(n,t,i){var r=n.text;return u.isDefined(n.displayText)?r=n.displayText:u.isDefined(n.caption)?r=n.caption:n.type===f&&(r=i.texts.grandTotal),n.isAdditionalTotal&&(r=c.format(i.texts.total||"",r)),r}function b(t,r){var u=[];return n.each(t,function(n,t){var f=i.findField(r,t.sortBySummaryField);f>=0&&u.push((t.sortBySummaryPath||[]).concat([f]))}),u}function y(n,t){for(var f=0,u=[],r,e,o,i=0;i<n.length;i++)for(r=0;r<n[i].length;r++){if(e=n[i][r].rowspan>1?n[i][r].rowspan:0,o=i+e,u[i]&&(f-=u[i],u[i]=0),t(n[i][r],o,i,r,f)===!1)break;u[i+(n[i][r].rowspan||1)]=u[i+(n[i][r].rowspan||1)]||0,u[i+(n[i][r].rowspan||1)]++,f++}}function k(t,i){function l(t,i,r){var u=0;return n.each(t[i],function(n,t){if(t=t||0,n<=r)u+=t,r+=t;else return!1}),u}for(var u=[],h,c,f,e,s,o,r=0;r<t.length;r++)for(h=t[r],c=0,u[r]=u[r]||[],f=0;f<h.length;f++){if(e=h[f],s=f+c,s+=l(u,r,s),e.rowspan)for(o=r+1;o<r+e.rowspan;o++)u[o]=u[o]||[],u[o][s]=e.colspan||1;if(c+=(e.colspan||1)-1,i(e,s,r,f)===!1)break}}function tt(t,i,r,u){var f=[],e=r.values;return e.length&&y(t,function(t,o){var s=f[o]=[],h=e[t.dataSourceIndex>=0?t.dataSourceIndex:r.grandTotalRowIndex]||[];t.isLast&&k(i,function(i,f){var c=i.dataIndex||0,e=u[c],o,l;i.isLast&&e&&(o=h[i.dataSourceIndex>=0?i.dataSourceIndex:r.grandTotalColumnIndex],n.isArray(o)||(o=[o]),l=o[c],s[f]={text:a(l,e),value:l,format:e.format,precision:e.precision,dataType:e.dataType,columnType:i.type,rowType:t.type,rowPath:t.path||[],columnPath:i.path||[],dataIndex:c},e.width&&(s[f].width=e.width))})}),f}function d(t,i,f){var s=0,o=[];return r(t,function(t){var r=t[0],h=e(t),i;r.children&&f.showTotals===!1||(i=n.extend(!0,{},r,{visibleIndex:s++,path:h}),u.isDefined(i.index)?o[i.index]=i:o.push(i))}),o}function g(t,i,r){if(i&&i.option("scrolling.mode")==="virtual")return new h.VirtualScrollController(i,n.extend({hasKnownLastPage:function(){return!0},pageCount:function(){return o.ceil(this.totalItemsCount()/this.pageSize())},updateLoading:function(){},itemsCount:function(){if(this.pageIndex()<this.pageCount()-1)return this.pageSize();this.totalItemsCount()%this.pageSize()},items:function(){return[]},viewportItems:function(){return[]},onChanged:function(){},isLoading:function(){return t.isLoading()}},r))}function l(t){var i=[];return n.each(t,function(n,t){t.showTotals===!1&&i.push(n)}),i}function p(t){var i=[];return n.each(t,function(n,t){t.showGrandTotals===!1&&i.push(n)}),i}var w=function(){function t(n,t,i){var u=n[t]=n[t]||[],r=u[i]={};return n[t+1]&&(r.children=n[t+1],n.length=t+1),r}function p(n,i){var o=i&&i.length||0,f=[],u;return r(n,function(n,i){var r=n[0],h=e(n);u=t(f,h.length,i),u.type=s,u.value=r.value,u.path=h,u.text=r.text,u.index=r.index,u.displayText=r.displayText,u.key=r.key,u.isEmpty=r.isEmpty,h.length<o&&(!r.children||r.children.length!==0)&&(u.expanded=!!r.children)}),t(f,0,0).children||[]}var h=function(n){var t=0;return r(n,function(n){t=o.max(t,n.length)}),t},c=function(n,t,i){var r={type:n.type,text:n.text};return n.path&&(r.path=n.path),n.width&&(r.width=n.width),n.isLast&&(r.isLast=!0),n.sorted&&(r.sorted=!0),n.isMetric&&(r.dataIndex=n.dataIndex),u.isDefined(n.expanded)&&(r.expanded=n.expanded),t>1&&(r[i?"colspan":"rowspan"]=t),n.depthSize&&n.depthSize>1&&(r[i?"rowspan":"colspan"]=n.depthSize),n.index>=0&&(r.dataSourceIndex=n.index),r},l=function(n,t){var i,r=t.lastIndex-t.index||1,u=function(n,t,i,r,u){for(var f=u?r:i;!n[f];)n.push([]);u?n[f].push(t):n[f].unshift(t)};return(i=c(t.headerItem,r,t.isHorizontal),u(n,i,t.index,t.depth,t.isHorizontal),!t.headerItem.children||t.headerItem.children.length===0)?t.lastIndex+1:t.lastIndex},a=function(t,i){var r,o=t[0],h=u.isString(i[0]),s=o.dataIndex>=0?t[1]:o;return r=h&&i[0].indexOf("&[")!==-1&&s.key||!s.key?e(t):n.map(t,function(n){return n.dataIndex>=0?n.value:n.text}).reverse(),o.type===f&&(r=r.slice(1)),r.join("/")===i.join("/")},y=function(t,i,e,o,h){var v=e.length,c=h.showData?p(t,i):[],l;return h.showGrandTotals!==!1&&c[h.showTotalsPrior?"unshift":"push"]({type:f,isEmpty:h.isEmptyGrandTotal}),h.showTotals!==!1&&b(c,i,h.showTotalsPrior),r(c,function(n){var t=n[0];t.children&&t.children.length!==0||(t.depthSize=o-n.length+1)}),v>1&&w(c,e,h.hiddenGrandTotals,h.hiddenTotals),h.showEmpty||k(c),l=0,r(c,function(t){var r=t[0],f=i[t.length-1]||{};r.type===s&&(r.width=f.width),r.isLast=!r.children||!r.children.length,r.isLast&&(n.each(h.sortBySummaryPaths,function(n,i){return u.isDefined(r.dataIndex)||(i=i.slice(0),i.pop()),a(t,i)?(r.sorted=!0,!1):void 0}),l++),r.text=nt(r,f,h)}),c.length||c.push({}),c},w=function(t,i,u,e){r(t,function(t){var r=t[0],o;if(!r.children||r.children.length===0)for(r.children=[],o=0;o<i.length;o++)i.length&&(r.type===f&&n.inArray(o,u)!==-1||r.type!==f&&n.inArray(o,e)!==-1)||r.children.push({caption:i[o].caption,path:r.path,type:r.type,value:o,index:r.index,dataIndex:o,isMetric:!0,isEmpty:r.isEmpty&&r.isEmpty[o]})})},b=function(t,i,u){r(t,function(r,f){var e=r[0],o=(r[1]?r[1].children:t)||[],h=i[r.length-1];e.type===s&&e.expanded&&h.showTotals!==!1&&(f!==-1&&o.splice(u?f:f+1,0,n.extend({},e,{children:null,type:v,expanded:u?!0:null,isAdditionalTotal:!0})),u&&(e.expanded=null))})},i=function(t,r){var u=t[r+1];!t[r].children.length&&u&&u.children&&(u.children.splice(n.inArray(t[r],u.children),1),i(t,r+1))},k=function(n){r([{children:n}],function(t,r){var u=t[0],f=(t[1]?t[1].children:n)||[];u&&!u.children&&(u.isEmpty&&u.isEmpty.length?u.isEmpty[0]:u.isEmpty)&&(f.splice(r,1),i(t,1))})},d=function(n,t,i,u){var o=0,s,e,f=[0];r(t,function(t){var r=t[0];for(e=r.isMetric?i:t.length-1;f.length-1<e;)f.push(f[f.length-1]);s=f[e]||0,o=l(n,{headerItem:r,index:s,lastIndex:o,depth:e,isHorizontal:u}),f.length=e,f.push(o)})};return function(n,t,i,r,u){var f=[],e,o=h(n)||1;return e=y(n,t,i,o,u),d(f,e,o,r),f}}(),t={ctor:function(t){var i=this;t=i._options=t||{},i._dataSource=i._createDataSource(t),i._rowsScrollController=g(i,t.component,{totalItemsCount:function(){return i.totalRowCount()},pageIndex:function(n){return i.rowPageIndex(n)},pageSize:function(){return i.rowPageSize()},load:function(){return i._rowsScrollController.pageIndex()>=this.pageCount()&&i._rowsScrollController.pageIndex(this.pageCount()-1),i._rowsScrollController.handleDataChanged(function(){i.changed&&i.changed.fire()})}}),i._columnsScrollController=g(i,t.component,{totalItemsCount:function(){return i.totalColumnCount()},pageIndex:function(n){return i.columnPageIndex(n)},pageSize:function(){return i.columnPageSize()},load:function(){return i._columnsScrollController.pageIndex()>=this.pageCount()&&i._columnsScrollController.pageIndex(this.pageCount()-1),i._columnsScrollController.handleDataChanged(function(){i.changed&&i.changed.fire()})}}),i._stateStoringController=new h.StateStoringController(t.component).init(),i._columnsInfo=[],i._rowsInfo=[],i._cellsInfo=[],i.expandValueChanging=n.Callbacks(),i.loadingChanged=n.Callbacks(),i.scrollChanged=n.Callbacks(),i.load(),i._update(),i.changed=n.Callbacks()},load:function(){var n=this,t=this._stateStoringController;t.isEnabled()&&!t.isLoaded()?t.load().always(function(t){t?n._dataSource.state(t):n._dataSource.load()}):n._dataSource.load()},calculateVirtualContentParams:function(n){var r=this,t=r._rowsScrollController,i=r._columnsScrollController,e=n.contentHeight/n.rowCount,o=n.contentWidth/n.columnCount,s,h,u,f;if(t&&i)return s=i.viewportItemSize(),h=t.viewportItemSize(),t.viewportItemSize(e),i.viewportItemSize(o),t.viewportSize(n.viewportHeight/t.viewportItemSize()),t.setContentSize(n.contentHeight),i.viewportSize(n.viewportWidth/i.viewportItemSize()),i.setContentSize(n.contentWidth),i.loadIfNeed(),t.loadIfNeed(),u=i.getViewportPosition()*o/s,f=t.getViewportPosition()*e/h,r.setViewportPosition(u,f),r.scrollChanged.fire({left:u,top:f}),{contentTop:t.getContentOffset(),contentLeft:i.getContentOffset(),width:i.getVirtualContentSize(),height:t.getVirtualContentSize()}},setViewportPosition:function(n,t){this._rowsScrollController.setViewportPosition(t||0),this._columnsScrollController.setViewportPosition(n||0)},updateViewOptions:function(t){n.extend(this._options,t),this._update()},_handleChanged:function(){this._update()},_handleExpandValueChanging:function(n){this.expandValueChanging.fire(n)},_handleLoadingChanged:function(n){this.loadingChanged.fire(n)},_handleFieldsPrepared:function(n){this._options.onFieldsPrepared&&this._options.onFieldsPrepared(n)},_createDataSource:function(t){var r=this,f=t.dataSource,u;r._isSharedDataSource=f instanceof i.DataSource,u=r._isSharedDataSource?f:new i.DataSource(f),r._changedHandler=n.proxy(r,"_handleChanged"),r._expandValueChangingHandler=n.proxy(r,"_handleExpandValueChanging"),r._loadingChangedHandler=n.proxy(r,"_handleLoadingChanged"),r._fieldsPreparedHandler=n.proxy(r,"_handleFieldsPrepared");u.on("changed",r._changedHandler);u.on("expandValueChanging",r._expandValueChangingHandler);u.on("loadingChanged",r._loadingChangedHandler);u.on("fieldsPrepared",r._fieldsPreparedHandler);return u},getDataSource:function(){return this._dataSource},isLoading:function(){return this._dataSource.isLoading()},isEmpty:function(){var n=this._dataSource.getAreaFields("data"),t=this._dataSource.getData();return!n.length||!t.values.length},_update:function(){var n=this,f=n._dataSource,i=n._options,e=f.getAreaFields("column"),o=f.getAreaFields("row"),t=f.getAreaFields("data"),r=f.getData(),s={isEmptyGrandTotal:r.isEmptyGrandTotalRow,texts:i.texts||{},hiddenTotals:l(t),hiddenGrandTotals:[],showTotals:i.showRowTotals,showData:t.length>0?l(t).length!==t.length:!0,showGrandTotals:i.showRowGrandTotals!==!1&&(t.length>0?p(t).length!==t.length:!0),sortBySummaryPaths:b(e,t),showTotalsPrior:i.showTotalsPrior==="rows"||i.showTotalsPrior==="both",showEmpty:!i.hideEmptySummaryCells,fields:o},h={isEmptyGrandTotal:r.isEmptyGrandTotalColumn,texts:i.texts||{},hiddenTotals:l(t),showData:t.length>0?l(t).length!==t.length:!0,hiddenGrandTotals:p(t),showTotals:i.showColumnTotals,showTotalsPrior:i.showTotalsPrior==="columns"||i.showTotalsPrior==="both",showGrandTotals:i.showColumnGrandTotals!==!1&&(t.length>0?p(t).length!==t.length:!0),sortBySummaryPaths:b(o,t),showEmpty:!i.hideEmptySummaryCells,fields:e};u.isDefined(r.grandTotalRowIndex)||(r.grandTotalRowIndex=d(r.rows,o.length-1,s).length),u.isDefined(r.grandTotalColumnIndex)||(r.grandTotalColumnIndex=d(r.columns,e.length-1,h).length),n._columnsInfo=w(r.columns,e,t,!0,h),n._rowsInfo=w(r.rows,o,[],!1,s),n._rowsScrollController&&n._columnsScrollController&&n.changed?(n._rowsScrollController.reset(),n._columnsScrollController.reset(),n._rowsScrollController.load(),n._columnsScrollController.load()):n.changed&&n.changed.fire(),n._stateStoringController.isEnabled()&&!n._dataSource.isLoading()&&(n._stateStoringController.state(n._dataSource.state()),n._stateStoringController.save())},getRowsInfo:function(t){var u=this,c=u._rowsInfo,h=u._rowsScrollController,f,l;if(h&&!t){var i=h.beginPageIndex()*u.rowPageSize(),e=h.endPageIndex()*u.rowPageSize()+u.rowPageSize(),r=[],s=1;return y(c,function(t,u,h,c,a){var p=u>=i&&h<e,v=h<i?0:h-i,y=t;if(p)r[v]=r[v]||[],f=h<i?t.rowspan-(i-h)||1:t.rowspan,i+v+f>e&&(f=e-(v+i)||1),f!==t.rowspan&&(y=n.extend({},y,{rowspan:f})),r[v].push(y),s=o.max(s,a+1);else if(l>e)return!1}),y(r,function(t,i,u,f,e){var o=t.colspan||1;e+o>s&&(r[u][f]=n.extend({},t,{colspan:s-e||1}))}),r}return c},getColumnsInfo:function(t){var i=this,e=i._columnsInfo,o=i._columnsScrollController;if(o&&!t){var r=o.beginPageIndex()*i.columnPageSize(),u=o.endPageIndex()*i.columnPageSize()+i.columnPageSize(),f=[];k(e,function(t,i,e){var o=t,s,h=i+(o.colspan-1||0)>=r&&i<u;if(f[e]=f[e]||[],h)i<r?(s=o.colspan-(r-i),i=r):s=o.colspan,i+s>u&&(s=u-i),s!==o.colspan&&(o=n.extend({},o,{colspan:s})),f[e].push(o);else if(i>u)return!1}),e=f}return e},totalRowCount:function(){return this._rowsInfo.length},rowPageIndex:function(n){return n!==undefined&&(this._rowPageIndex=n),this._rowPageIndex||0},totalColumnCount:function(){var t=0,n;if(this._columnsInfo&&this._columnsInfo.length)for(n=0;n<this._columnsInfo[0].length;n++)t+=this._columnsInfo[0][n].colspan||1;return t},rowPageSize:function(n){return n!==undefined&&(this._rowPageSize=n),this._rowPageSize||20},columnPageSize:function(n){return n!==undefined&&(this._columnPageSize=n),this._columnPageSize||20},columnPageIndex:function(n){return n!==undefined&&(this._columnPageIndex=n),this._columnPageIndex||0},getCellsInfo:function(n){var t=this.getRowsInfo(n),i=this.getColumnsInfo(n),r=this._dataSource.getData();return tt(t,i,r,this._dataSource.getAreaFields("data"))},dispose:function(){var n=this;n._isSharedDataSource?(n._dataSource.off("changed",n._changedHandler),n._dataSource.off("expandValueChanging",n._expandValueChangingHandler),n._dataSource.off("loadingChanged",n._loadingChangedHandler)):n._dataSource.dispose(),n._columnsScrollController&&n._columnsScrollController.dispose(),n._rowsScrollController&&n._rowsScrollController.dispose(),n._stateStoringController.dispose(),n.expandValueChanging.empty(),n.changed.empty(),n.loadingChanged.empty(),n.scrollChanged.empty()}};return i.proxyMethod(t,"applyPartialDataSource"),i.proxyMethod(t,"collapseHeaderItem"),i.proxyMethod(t,"expandHeaderItem"),i.proxyMethod(t,"getData"),t}())}(jQuery,DevExpress),function(n,t){var u=DevExpress.require("/class"),r=t.require("/data/data.errors"),i=t.require("/utils/utils.common");t.data.XmlaStore=t.ui.dxPivotGrid.XmlaStore=u.inherit(function(){function o(r,u){var f=n.Deferred(),e=r.beforeSend,o={url:r.url,dataType:"text",data:u,headers:{"Content-Type":"text/xml"},xhrFields:{},method:"POST"};return i.isFunction(e)&&e(o),t.ui.dxPivotGrid.sendRequest(o).fail(function(){f.reject(arguments)}).done(function(t){var i;try{i=n.parseXML(t)}catch(r){f.reject({statusText:r.message,stack:r.stack,responseText:t})}f.resolve(i)}),f}function kt(n,t,i){return t=t?"."+t:"","Descendants({"+n+t+"}, "+i+", SELF_AND_BEFORE)"}function g(n){return(n.hierarchyName||n.dataField)+".[All]"}function l(n){return n.dataField+".allMembers"}function y(n){var t=n.join(",");return n.length>1?f(bt,t):t}function dt(n,t,i,r,u,e,o){for(var rt=[],v=e[o],k,ut,et=[],p,a,b,d,nt,ft,tt,w,it,h=r;h<=t;h++)w=v[h],k=w.dataField,d=v[h-1]&&v[h-1].hierarchyName,p=w.hierarchyName,nt=!p||!v[h+1]||v[h+1].hierarchyName!==p,tt=n.length+i+r,a=null,et.push(w),h<n.length?nt&&(a="("+k+"."+s(n[h])+")"):h<=tt?h===0&&i===0?(ut=g(v[r]),a=p?ut+","+v[r].dataField:l(v[r])):p?(it=s(u[u.length-1]),(nt||h===tt)&&(d===p?(u.length&&(b=v[u.length-1]),b&&b.hierarchyName===p||(b=v[h-1],it=""),a=kt(b.dataField,it,k)):a=l(w))):a=l(w):(ft=!p||d!==p,ft&&(a="("+g(w)+")")),a&&(a=f(c,a),rt.push(a));return y(rt)}function nt(n,t,i,r,u,f,e){var s=-1,h=f[e],o;do s++,o=t.length+s+r,n.push(dt(t,i,s,r,u,f,e));while(h[o]&&h[o+1]&&h[o].expanded)}function tt(n,t,i,r){return i=i||"[DX_Set_"+t.length+"]",r=r||"set",t.push(f(vt,r,i,n)),i}function it(n,t,i,r,e){var o=n[t],l=[],a=[],v=[],p=0,s=0,w=[],b=f(c,i.join(",")),h;if(o&&o.length){for(n.headerName===t?(a=n.path,s=p=a.length):(v=(t==="columns"?n.columnExpandedPaths:n.rowExpandedPaths)||v,u(v,function(n,t){s=Math.max(s,t.length)}));o[s+1]&&o[s].expanded;)s++;for(nt(l,[],s,p,a,n,t),u(v,function(i,r){nt(l,r,s,p,r,n,t)}),h=s;h>=a.length;h--)o[h].hierarchyName&&(e.visibleLevels[o[h].hierarchyName]=e.visibleLevels[o[h].hierarchyName]||[],e.visibleLevels[o[h].hierarchyName].push(o[h].dataField))}return l.length&&w.push(f(pt,tt(f(c,l.join(",")),r,"[DX_"+t+"]"),b)),t==="columns"&&i.length&&w.push(b),f(wt,y(w),t)}function p(n){var t=[];return u(n,function(n,r){var a=r.dataField,o=[],h=r.filterValues||[],e;r.hierarchyName&&i.isNumber(r.groupIndex)||(u(h,function(n,t){var u=a+"."+s(i.isArray(t)?t[t.length-1]:t);r.filterType==="exclude"&&(o.push(u+".parent"),u="Descendants("+u+")"),o.push(u)}),h.length&&(e=f(c,o.join(",")),r.filterType==="exclude"&&(e="Except("+l(r)+","+e+")"),t.push(e)))}),t.length?y(t):""}function gt(n,t,i,r){var e="["+r+"]";return u([n,t,i],function(n,t){t&&(e=f(at,t+"on 0",e))}),e}function rt(n,t,i,r,u,e,o){var s="",h=(t.length?"with "+t.join(" "):"")+" ";return n.length&&(s=h+f(lt,gt(p(i),p(r),p(u||[]),o),e.length?f(yt,e.join(",")):"",n.join(","))),s}function ut(t,r){return n.map(r,function(n){return i.isString(n.expression)&&tt(n.expression,t,n.dataField,"member"),n.dataField})}function ni(n,t,i){var o=n.columns||[],h=n.rows||[],c=n.values&&n.values.length?n.values:[{dataField:"[Measures]"}],l=[],r=[],f=[],e=ut(r,c);return i.measureCount=c.length,i.visibleLevels={},n.headerName&&n.path&&u(n.path,function(t,i){var r=n[n.headerName][t];r.hierarchyName&&r.hierarchyName===n[n.headerName][t+1].hierarchyName||l.push(r.dataField+"."+s(i))}),(o.length||e.length)&&f.push(it(n,"columns",e,r,i)),h.length&&f.push(it(n,"rows",e,r,i)),rt(f,r,o,h,n.filters,l,t)}function ft(n,t,i){u(i,function(i,r){var u=t[i];u.hierarchyName&&(t[i+1]||{}).hierarchyName===u.hierarchyName||n.push(u.dataField+"."+s(r))})}function ti(n,t,i){var r=n.columns||[],o=n.rows||[],a=n.values&&n.values.length?n.values:[{dataField:"[Measures]"}],f=[],s=[],h=[],e=ut(s,a),c=i.maxRowCount,l=i.customColumns||[],v=l.length>0?" return "+l.join(","):"",u;return ft(f,r,i.columnPath||[]),ft(f,o,i.rowPath||[]),(r.length||r.length||e.length)&&h.push([(e[i.dataIndex]||e[0])+" on 0"]),u=rt(h,s,r,o,n.filters,f,t),u?"drillthrough"+(c>0?" maxrows "+c:"")+u+v:u}function a(n){return parseInt(n,10)}function ii(t){return n.isNumeric(t)?parseFloat(t):t}function ri(n,t){return(n.getElementsByTagName(t)||[])[0]}function e(n,t){return w(ri(n,t))}function ui(n){var t=[];for(u(n.getElementsByTagName("Axis"),function(n,r){var f=r.getAttribute("name"),o=[],s=0;f.indexOf("Axis")===0&&i.isNumber(a(f.substr(4)))&&(t.push(o),u(r.getElementsByTagName("Tuple"),function(n,i){var h=i.childNodes,r,c=0,l=[],f,v=h.length-1,y=t.length===1,u;for(y&&v--,o.push(l),u=v;u>=0;u--)r=h[u],f=a(e(r,"LNum")),l[u]={caption:e(r,"Caption"),value:ii(e(r,"MEMBER_VALUE")),level:f,index:s++,hasValue:!c&&(!!f||u===0),name:e(r,"UName"),hierarchyName:h[u].getAttribute("Hierarchy"),parentName:e(r,"PARENT_UNIQUE_NAME"),levelName:e(r,"LName")},c+=f}))});t.length<2;)t.push([[{level:0}]]);return t}function w(n){return n&&n&&(n.textContent||n.text||n.innerHTML)||""}function fi(n,t,i){for(var h=[],e=[],r=0,c,o=[],l=n.getElementsByTagName("Cell"),s,f=0;f<l.length;f++){var v=l[f],p=v.getElementsByTagName("Value")[0],y=parseFloat(w(p));o[a(v.getAttribute("CellOrdinal"))]={value:isNaN(y)?null:y}}return u(t[1],function(){s=[],h.push(s),u(t[0],function(){c=r%i,c===0&&(e=[],s.push(e)),e.push(o[r]?o[r].value:null),r++})}),h}function s(n){if(n)return i.isString(n)&&n.indexOf("&[")!==-1?n:"["+n+"]"}function et(n,t,i,r){var u=n[t];return u||(u={},n[t]=u),!u.value&&i&&(u.text=i.caption,u.value=i.value,u.key=t?t.slice(t.indexOf("&[")):"",u.levelName=i.levelName,u.hierarchyName=i.hierarchyName,u.parentName=i.parentName,u.index=r,u.level=i.level),u}function v(t,i){var e=[],u=t.children&&(t.children.length?t.children:n.map(t.children.grandTotalHash||[],function(n){return n.children})),r=u&&u[0],o,f;if(r&&(i[r.hierarchyName]&&n.inArray(r.levelName,i[r.hierarchyName])!==-1||!i[r.hierarchyName]||r.level===0))return o=n.map(u,function(n){return n.hierarchyName===r.hierarchyName?n:null}),o.grandTotalHash=u.grandTotalHash,o;if(r)for(f=0;f<u.length;f++)u[f].hierarchyName===r.hierarchyName&&e.push.apply(e,v(u[f],i));return e}function ei(n,t,i){var r,u=i.children=i.children||[],e=u.hash=u.hash||{},f=u.grandTotalHash=u.grandTotalHash||{};return t.parentName&&(i=et(e,t.parentName),u=i.children=i.children||[]),r=et(e,t.name,t,n),t.hasValue&&!r.added&&(r.index=n,r.added=!0,u.push(r)),i.value&&i.parentName||!t.parentName?f[i.name]&&delete f[t.parentName]:f[t.parentName]=i,r}function oi(n,t){var i,r;return n.children.length===1&&n.children[0].parentName===""?(i=n.children[0].index,r=n.children.grandTotalHash,n.children=n.children[0].children||[],n.children.grandTotalHash=r,n.children=v(n,t)):n.children.length===0&&(i=0),i}function ot(n,r,f,e){var s,h=[],o;return u(r,function(n,t){var r={children:h},e=i.isDefined(f)?Math.floor(n/f):n;u(t,function(n,t){r=ei(e,t,r)})}),o={children:h},o.children=v(o,e),s=oi(o,e),t.ui.dxPivotGrid.foreachTree(o.children,function(n){var t=n[0],i=v(t,e);i.length?t.children=i:delete t.children,delete t.levelName,delete t.hierarchyName,delete t.added,delete t.parentName,delete t.level},!0),u(o.children||[],function(t,i){n.push(i)}),s}function st(t){var u=n(t).find("Error"),i,f;return u.length?(i=u.attr("Description"),f=new r.Error("E4000",i),r.log("E4000",i),f):null}function si(n,t){var i={columns:[],rows:[]},r,u=t.measureCount;return r=ui(n),i.grandTotalColumnIndex=ot(i.columns,r[0],u,t.visibleLevels),i.grandTotalRowIndex=ot(i.rows,r[1],undefined,t.visibleLevels),i.values=fi(n,r,u),i}function b(n,t,i){var f=[],r=t==="MEASURE",o=r?"MEASUREGROUP_NAME":t+"_DISPLAY_FOLDER";return u(n.getElementsByTagName("row"),function(n,u){var l=t==="LEVEL"?e(u,"HIERARCHY_UNIQUE_NAME"):undefined,s=e(u,"LEVEL_NUMBER"),h,c;(s!=="0"||e(u,t+"_IS_VISIBLE")!=="true")&&e(u,"DIMENSION_TYPE")!==d&&(h=r?k:e(u,"DIMENSION_UNIQUE_NAME"),c=e(u,t+"_UNIQUE_NAME"),f.push({dimension:i.names[h]||h,groupIndex:s?a(s)-1:undefined,dataField:c,caption:e(u,t+"_CAPTION"),hierarchyName:l,groupName:l,displayFolder:e(u,o),isMeasure:r,isDefault:!!i.defaultHierarhies[c]}))}),f}function hi(t){var i={names:{},defaultHierarhies:{}};return u(n(t).find("row"),function(){var t=n(this),r=t.children("DIMENSION_TYPE").text(),u=r===d?k:t.children("DIMENSION_UNIQUE_NAME").text();i.names[u]=t.children("DIMENSION_CAPTION").text(),i.defaultHierarhies[t.children("DEFAULT_HIERARCHY").text()]=!0}),i}function ci(n){n=n.replace(/_x(....)_/g,function(n,t){return String.fromCharCode(parseInt(t,16))});var t=n.match(/\[.+?\]/gi);return t&&t.length&&(n=t[t.length-1]),n.replace(/\[/gi,"").replace(/\]/gi,"").replace(/\$/gi,"").replace(/\./gi," ")}function li(n){for(var e=n.getElementsByTagName("row"),o=[],s={},r,f,t,u,h,i=0;i<e.length;i++){for(r=e[i].childNodes,f={},t=0;t<r.length;t++)u=r[t].tagName,h=s[u]=s[u]||ci(u),f[h]=w(r[t]);o.push(f)}return o}function ht(t,i){return i=n("<div>").text(i).html(),o(t,f(ct,i,t.catalog))}var h='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis"><RequestType>{2}<\/RequestType><Restrictions><RestrictionList><CATALOG_NAME>{0}<\/CATALOG_NAME><CUBE_NAME>{1}<\/CUBE_NAME><\/RestrictionList><\/Restrictions><Properties><PropertyList><Catalog>{0}<\/Catalog><\/PropertyList><\/Properties><\/Discover><\/Body><\/Envelope>',ct='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>{0}<\/Statement><\/Command><Properties><PropertyList><Catalog>{1}<\/Catalog><ShowHiddenCubes>True<\/ShowHiddenCubes><SspropInitAppName>Microsoft SQL Server Management Studio<\/SspropInitAppName><Timeout>3600<\/Timeout><\/PropertyList><\/Properties><\/Execute><\/Body><\/Envelope>',lt="SELECT {2} FROM {0} {1} CELL PROPERTIES VALUE, FORMAT_STRING, LANGUAGE, BACK_COLOR, FORE_COLOR, FONT_FLAGS",at="(SELECT {0} FROM {1})",vt="{0} {1} as {2}",yt="WHERE ({0})",pt="NonEmpty({0}, {1})",wt="{0} DIMENSION PROPERTIES PARENT_UNIQUE_NAME,HIERARCHY_UNIQUE_NAME, MEMBER_VALUE ON {1}",bt="CrossJoin({0})",c="{{0}}",f=t.require("/utils/utils.string").format,u=n.each,k="DX_MEASURES",d="2";return t.ui.dxPivotGrid.sendRequest=function(t){return n.ajax(t)},{ctor:function(n){this._options=n},getFields:function(){var t=this._options,i=t.catalog,r=t.cube,s=o(t,f(h,i,r,"MDSCHEMA_DIMENSIONS")),c=o(t,f(h,i,r,"MDSCHEMA_MEASURES")),l=o(t,f(h,i,r,"MDSCHEMA_HIERARCHIES")),a=o(t,f(h,i,r,"MDSCHEMA_LEVELS")),e=n.Deferred();return n.when(s,c,l,a).done(function(n,t,i,r){var o=hi(n),h=b(i,"HIERARCHY",o),c=b(r,"LEVEL",o),s=b(t,"MEASURE",o).concat(h),f={};u(c,function(n,t){f[t.hierarchyName]=f[t.hierarchyName]||[],f[t.hierarchyName].push(t)}),u(h,function(n,t){f[t.dataField]&&f[t.dataField].length>1&&(t.groupName=t.hierarchyName=t.dataField,s.push.apply(s,f[t.hierarchyName]))}),e.resolve(s)}).fail(e.reject),e},load:function(t){var i=n.Deferred(),r=this._options,u={},f=ni(t,r.cube,u);return f?n.when(ht(r,f)).done(function(n){var t=st(n);t?i.reject(t):i.resolve(si(n,u))}).fail(i.reject):i.resolve({columns:[],rows:[],values:[],grandTotalColumnIndex:0,grandTotalRowIndex:0}),i},supportSorting:function(){return!0},getDrillDownItems:function(t,i){var r=n.Deferred(),u=this._options,f=ti(t,u.cube,i);return f?n.when(ht(u,f)).done(function(n){var t=st(n);t?r.reject(t):r.resolve(li(n))}).fail(r.reject):r.resolve([]),r},key:n.noop,filter:n.noop}}())}(jQuery,DevExpress),function(n,t){var r=t.data.utils,u=t.ui.dxPivotGrid,f=DevExpress.require("/class"),e=t.require("/utils/utils.formatHelper"),i=t.require("/utils/utils.common");u.LocalStore=f.inherit(function(){function u(t){n.each(t||[],function(){var f,s,o=this.dataField,t,h=this.levels;this.selector||(f=o?o.indexOf(".")!==-1?r.compileGetter(o):function(n){return n[o]}:function(n){return n},h?(u(h),this.selector=function(t){var i=[];return n.each(h,function(n,r){i.push(r.selector(t))}),i}):this.dataType==="date"?(s=w[this.groupInterval],this.selector=function(n){var t=f(n);return!t||t instanceof Date||(t=new Date(t)),s?s(t):t},this.format=this.format||b[this.groupInterval]):this.dataType==="number"?(t=i.isNumber(this.groupInterval)&&this.groupInterval>0&&this.groupInterval,t&&(this.customizeText=this.customizeText||function(n){var r=n.value+t,i=e.format(r,this.format,this.precision);return n.valueText&&i?n.valueText+" - "+i:""}),this.selector=function(n){var r=f(n);return i.isString(r)&&(r=Number(r)),t?Math.floor(r/t)*t:r}):this.selector=f)})}function h(n,t,i,r,u){var o=t.dimensions[r],s=t.expandedPathsHash,e,f;o&&(e=o.selector(t.data),u=u?u+"."+e:e,f=k(e,i,u,t.childrenHash),n.push(f.index),(s&&s[u]||o.expanded)&&(f.children||(f.children=[]),h(n,t,f.children,r+1,u)))}function c(n,t,i,r){var u=[0],e=t.headerName===r?t.path.length:0,f=r==="rows"?t.rowExpandedPaths:t.columnExpandedPaths,o={data:n,childrenHash:i[r+"Hash"],dimensions:t[r],expandedPathsHash:t.headerName!==r&&f&&f.hash};return h(u,o,i[r],e),u}function d(n,t,i,r){for(var s=[],f,u,o,h=c(n,r,i,"rows"),l=c(n,r,i,"columns"),e=0;e<h.length;e++)for(u=h[e],t[u]=t[u]||[],f=0;f<l.length;f++)o=l[f],s.push(t[u][o]=t[u][o]||[]);return s}function l(t){t&&(t.hash={},n.each(t,function(){t.hash[this.join(".")]=!0}))}function a(n){n.rows=n.rows||[],n.columns=n.columns||[],n.filters=n.filters||[],l(n.columnExpandedPaths),l(n.rowExpandedPaths),u(n.columns),u(n.rows),u(n.values),u(n.filters)}function v(t){return t.summaryType==="custom"?(t.calculateCustomSummary=t.calculateCustomSummary||n.noop,{seed:function(){var n={summaryProcess:"start",totalValue:undefined};return t.calculateCustomSummary(n),n},step:function(n,i){return n.summaryProcess="calculate",n.value=i,t.calculateCustomSummary(n),n},finalize:function(n){return n.summaryProcess="finalize",delete n.value,t.calculateCustomSummary(n),n.totalValue}}):r.aggregators[t.summaryType]||r.aggregators.count}function g(n,t,r){for(var o,f,u=0;u<n.length;u++){var h=n[u],s=h.selector(r),e=v(h);for(o=0;o<t.length;o++)f=t[o],f.length<=u&&(f[u]=i.isFunction(e.seed)?e.seed():e.seed),f[u]===undefined?f[u]=s:i.isDefined(s)&&(f[u]=e.step(f[u],s))}}function nt(t,i){n.each(t,function(t,r){var u=v(r);u.finalize&&n.each(i,function(i,r){n.each(r,function(n,i){i&&(i[t]=u.finalize(i[t]))})})})}function tt(n,t){if(i.isArray(n)){t=t||[];for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}return n===t}function f(t){var r=[];return n.each(t,function(n,t){var u=t.filterValues||[],e=t.groupName,f;e&&i.isNumber(t.groupIndex)||(f=function(n){for(var f=t.selector(n),r=!1,i=0;i<u.length;i++)if(tt(u[i],f)){r=!0;break}return t.filterType==="exclude"?!r:r},u.length&&r.push(f))}),r}function o(n){var t=f(n.rows).concat(f(n.columns)).concat(f(n.filters)),i=n[n.headerName],r=n.path;return i&&t.push(function(n){for(var u,t=0;t<r.length;t++)if(u=i[t].selector(n),u!==r[t])return!1;return!0}),function(n){for(var i=0;i<t.length;i++)if(!t[i](n))return!1;return!0}}function it(n,t){var u={columns:[],rows:[],columnsHash:{length:1},rowsHash:{length:1}},f=[[[]]],e,s,i,r;for(a(t),s=o(t),r=0;r<n.length;r++)i=n[r],s(i)&&(e=d(i,f,u,t),g(t.values,e,i));return nt(t.values,f),{rows:u.rows,columns:u.columns,values:f,grandTotalRowIndex:0,grandTotalColumnIndex:0}}function rt(t){return n.map(["year","quarter","month"],function(i,r){return n.extend({},t,{groupInterval:i,groupIndex:r})})}function y(t,u,f,e){var o=[];return n.each(u||[],function(u,s){for(var a=1,l=f.length?f+"."+u:u,h=e[l],v=r.compileGetter(l),c;!i.isDefined(s)&&t[a];)s=v(t[a]),a++;!h&&i.isDefined(s)&&(h=n.type(s)),c=[{dataField:l,dataType:h,groupName:h==="date"?u:undefined,groupInterval:undefined,displayFolder:f}],h==="date"?c=c.concat(rt(c[0])):h==="object"&&(c=y(t,s,l,e)),o.push.apply(o,c)}),o}function ut(n,t){return t=t||{},y(n,n[0],"",t)}function s(t,i){var r=n.Deferred(),u;return!t.isLoaded()||i?(u=i?t.load():t.reload(),n.when(u).always(function(){s(t).done(r.resolve).fail(r.reject)})):r.resolve(t.items()),r}function p(t,i){var u=[],r;for(i=i||[],r=0;r<i.length;r++)u.push(n.extend({},t[r],{groupIndex:null,groupName:null,filterType:"include",filterValues:[i[r]]}));return u}var w={year:function(n){return n&&n.getFullYear()},quarter:function(n){return n&&Math.floor(n.getMonth()/3)+1},month:function(n){return n&&n.getMonth()+1},day:function(n){return n&&n.getDate()},dayOfWeek:function(n){return n&&n.getDay()}},b={month:{format:"month",dateType:"full"},quarter:{format:"quarter",dateType:"full"},dayOfWeek:{format:"dayOfWeek",dateType:"full"}},k=function(n,t,i,r){var u=r[i];return u||(u={value:n,index:r.length++},r[i]=u,t.push(u)),u};return{ctor:function(i){i=n.extend(r.normalizeDataSourceOptions(i),{paginate:!1,onChanged:null}),this._dataSource=new t.data.DataSource(i)},getFields:function(t){var r=this,u=r._dataSource,i=n.Deferred();return s(u).done(function(n){i.resolve(ut(n,t))}).fail(i.reject),i},key:function(){return this._dataSource.key()},load:function(t){var r=this,u=r._dataSource,i=n.Deferred();return s(u,t.reload).done(function(n){var r=it(n,t);i.resolve(r)}).fail(i.reject),i},filter:function(){var n=this._dataSource;return n.filter.apply(n,arguments)},supportSorting:function(){return!1},getDrillDownItems:function(n,t){var i,u;n=n||{},t=t||{},a(n);var s=[],r=this._dataSource.items(),f,h=t.maxRowCount,e=t.customColumns,c=o(n),l=o({rows:p(n.rows,t.rowPath),columns:p(n.columns,t.columnPath),filters:[]});for(i=0;i<r.length;i++){if(l(r[i])&&c(r[i])){if(e)for(f={},u=0;u<e.length;u++)f[e[u]]=r[i][e[u]];else f=r[i];s.push(f)}if(h>0&&s.length===h)break}return s}}}())}(jQuery,DevExpress),function(n,t){var i=t.ui.dxPivotGrid,r=DevExpress.require("/class"),u=t.require("/utils/utils.common"),f=function(n){var t=0,i;return n.getBoundingClientRect&&(i=n.getBoundingClientRect(),t=i.width,t||(t=i.right-i.left)),t>0?t:n.offsetWidth};i.AreaItem=r.inherit({_getRowElement:function(n){var t=this;return t._tableElement&&t._tableElement.length>0?t._tableElement[0].rows[n]:null},_createGroupElement:function(){return n("<div>")},_createTableElement:function(){return n("<table>")},_renderTableContent:function(n,t){var f=this,l=n.find("tr"),e=f._getAreaName(),o=f.option("onCellPrepared"),s,h,u,c,i,r;if(n.data("area",e),n.data("data",t),o)for(i=0;i<t.length;i++)for(u=t[i],s=l.eq(i),r=0;r<u.length;r++)c=u[r],h=s.children().eq(r),o({area:e,rowIndex:i,columnIndex:r,cellElement:h,cell:c})},_getRowHeight:function(n){var t=this._getRowElement(n),r,i=0;return t&&t.lastChild?(t.getBoundingClientRect&&(r=t.getBoundingClientRect(),i=r.height),i>0?i:t.offsetHeight):0},_setRowHeight:function(n,t){var i=this._getRowElement(n);i&&(i.style.height=t+"px")},ctor:function(n){this.component=n},option:function(){return this.component.option.apply(this.component,arguments)},getRowsLength:function(){var n=this;return n._tableElement&&n._tableElement.length>0?n._tableElement[0].rows.length:0},getRowsHeight:function(){for(var t=this,i=[],r=t.getRowsLength(),n=0;n<r;n++)i.push(t._getRowHeight(n));return i},setRowsHeight:function(n){for(var r=this,i=0,u=n.length,t=0;t<u;t++)i+=n[t],r._setRowHeight(t,n[t]);this._tableHeight=i,this._tableElement[0].style.height=i+"px"},getColumnsWidth:function(){var o=this.getRowsLength(),n,i,t,r,u=[],e=[],s=function(n,t,i,r,u){for(var e,f=0;f<r;f++)for(e=0;e<u;e++)n[t+f]=n[t+f]||[],n[t+f][i+e]=!0};if(o)for(n=0;n<o;n++)for(u[n]=u[n]||[],i=this._getRowElement(n),t=0;t<i.cells.length;t++){for(r=0;u[n][r];r++);s(u,n,r,i.cells[t].rowSpan,i.cells[t].colSpan),i.cells[t].colSpan===1&&(e[r]=e[r]||f(i.cells[t]))}return e},setColumnsWidth:function(n){for(var i=0,r=this._tableElement[0],u="",t=0;t<n.length;t++)i+=n[t],u+='<col style="width: '+n[t]+'px"/>';this._colgroupElement.html(u),this._tableWidth=i,r.style.width=i+"px",r.style.tableLayout="fixed"},resetColumnsWidth:function(){this._colgroupElement.find("col").width("auto"),this._tableElement.css({width:"",tableLayout:""})},groupWidth:function(n){return n===undefined?this._groupElement.width():n>=0?(this._groupWidth=n,this._groupElement[0].style.width=n+"px"):this._groupElement[0].style.width=n},groupHeight:function(n){if(n===undefined)return this._groupElement.height();n>=0?(this._groupHeight=n,this._groupElement[0].style.height=n+"px"):this._groupElement[0].style.height=n},groupElement:function(){return this._groupElement},tableElement:function(){return this._tableElement},element:function(){return this._rootElement},headElement:function(){return this._tableElement.find("thead")},setVirtualContentParams:function(n){this._virtualContent.css({width:n.width,height:n.height}),this.groupElement().addClass("dx-virtual-mode")},disableVirtualMode:function(){this.groupElement().removeClass("dx-virtual-mode")},_renderVirtualContent:function(){var t=this;t._virtualContent||t.option("scrolling.mode")!=="virtual"||(t._virtualContent=n("<div>").addClass("dx-virtual-content").insertAfter(t._tableElement))},reset:function(){var n=this,t=n._tableElement[0],i;if(n.disableVirtualMode(),n.groupWidth("100%"),n.groupHeight("auto"),n.resetColumnsWidth(),t){for(i=0;i<t.rows.length;i++)t.rows[i].style.height="";t.style.height="",t.style.width="100%"}},render:function(t,i){var r=this,f=r._createTableElement();if(u.isDefined(r._tableElement)){try{r._tableElement[0].innerHTML=""}catch(e){r._tableElement.empty()}r._tableElement.attr("style",""),r._colgroupElement=n("<colgroup>").appendTo(r._tableElement),r._renderTableContent(r._tableElement,i)}else r._groupElement=r._createGroupElement(),r._tableElement=f,r._colgroupElement=n("<colgroup>").appendTo(r._tableElement),r._tableElement.appendTo(r._groupElement),r._groupElement.appendTo(t),r._rootElement=t,r._renderTableContent(r._tableElement,i);r._renderVirtualContent()}})}(jQuery,DevExpress),function(n,t){function r(n,t){if(t){var i=n.data().data,r=t.parentNode.rowIndex,u=t.cellIndex;return i[r]&&i[r][u]&&i[r][u].path}}var u=t.ui,i=u.dxPivotGrid,f=t.require("/utils/utils.common"),e=t.require("/ui/events/ui.events.utils");i.HorizontalHeadersArea=i.AreaItem.inherit({_getAreaName:function(){return"column"},_getAreaClassName:function(){return i.cssClassNames.headersHorizontal},_textCellRender:function(t,i){var r=n("<span>");i?this.option("encodeHtml")?r.text(i):r.html(i):r.html("&nbsp"),r.appendTo(t)},_createGroupElement:function(){return n("<div>").addClass(this._getAreaClassName()).addClass(i.cssClassNames.area)},_createTableElement:function(){return n("<table>")},_createRow:function(){return n("<tr>")},_createCell:function(t){var r=this,u=n("<td>").attr({colspan:t.colspan,rowspan:t.rowspan});if(f.isDefined(t.expanded)){u.addClass(t.expanded?i.cssClassNames.headersExpanded:i.cssClassNames.headersCollapsed).on(e.addNamespace("dxclick",this._getEventsNamespace()),function(){setTimeout(function(){var n=r._getAreaName();t.expanded?r._dataSource.collapseHeaderItem(n,t.path):r._dataSource.expandHeaderItem(n,t.path)})});n("<span>").addClass(i.cssClassNames.headersExpandCollapseImage).appendTo(u)}return u},_applyCustomStyles:function(t){t.cellIndex===t.cellsCount-1&&t.cellElement.css(t.rtlEnabled?"border-left":"border-right","0px"),(t.cell.rowspan===t.rowsCount-t.rowIndex||t.rowIndex+1===t.rowsCount)&&t.cellElement.css("border-bottom-width","0px"),t.cellElement.toggleClass(i.cssClassNames.rowTotal,t.cell.type==="T"||t.cell.type==="GT").toggleClass(i.cssClassNames.total,t.cell.type==="T").toggleClass(i.cssClassNames.grandTotal,t.cell.type==="GT"),t.cell.width&&t.cellElement.css("min-width",t.cell.width),t.cell.sorted&&n("<span>").addClass("dx-icon-sorted").appendTo(t.cellElement)},_renderTableContent:function(t,i){var r=this,c=i.length,e,o,u,f,s,h,a=r.option("rtlEnabled"),l=n("<thead>").addClass(this._getAreaClassName());for(t.width("auto"),u=0;u<c;u++){for(e=i[u],s=r._createRow(),f=0;f<e.length;f++)o=e[f],h=r._createCell(o),r._textCellRender(h,o.text),r._applyCustomStyles({cellElement:h,cell:o,cellsCount:e.length,cellIndex:f,rowElement:s,rowIndex:u,rowsCount:c,rtlEnabled:a}),s.append(h);l.append(s)}t.append(l),r.callBase.apply(r,arguments)},_getEventsNamespace:function(){return"dxHeadersArea"},setVirtualContentParams:function(n){this.callBase(n),this.tableElement().css({left:n.left,top:0}),this._virtualContentWidth=n.width},hasScroll:function(){var n=this._virtualContent?this._virtualContentWidth:this._tableWidth;return this._groupWidth&&n?n-this._groupWidth>=1:!1},processScroll:function(){this._groupElement.data("dxScrollable")||(this._groupElement.dxScrollable({useNative:!0,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"horizontal"}),this._groupElement.find(".dx-scrollable-container").css("overflow","hidden"))},processScrollBarSpacing:function(n){var t=this;t._groupWidth&&t.groupWidth(t._groupWidth-n),t._scrollBarWidth&&t._groupElement.next().remove(),t._groupElement.toggleClass(i.cssClassNames.verticalScroll,n>0),t._groupElement.css("float","left").width(t._groupHeight),t._scrollBarWidth=n},ctor:function(n){this.callBase(n),this._scrollBarWidth=0},getScrollPath:function(t){var i=this.tableElement(),u;return t-=parseInt(i[0].style.left,10)||0,n.each(i.find("td"),function(n,i){if(i.colSpan===1&&i.offsetLeft<t&&i.offsetWidth+i.offsetLeft>t)return u=i,!1}),r(i,u)},setDataController:function(n){return this._dataSource=n,this}}),i.VerticalHeadersArea=i.HorizontalHeadersArea.inherit({_getAreaClassName:function(){return i.cssClassNames.headersVertical},_applyCustomStyles:function(n){var t=n.cellElement;this.callBase(n),t.addClass(n.cellIndex===n.cellsCount-1?i.cssClassNames.headersVerticalLastCell:null),n.rowIndex===n.rowsCount-1&&t.css("border-bottom","0px"),n.rowIndex!==0&&n.cell.expanded&&n.rowElement.addClass(i.cssClassNames.headersVerticalExpandBorder)},_getAreaName:function(){return"row"},_getEventsNamespace:function(){return"dxVerticalHeadersArea"},setVirtualContentParams:function(n){this.callBase(n),this.tableElement().css({top:n.top,left:0}),this._virtualContentHeight=n.height},hasScroll:function(){var n=this._virtualContent?this._virtualContentHeight:this._tableHeight;return this._groupHeight&&n?n-this._groupHeight>=1:!1},processScroll:function(){this._groupElement.data("dxScrollable")||(this._groupElement.dxScrollable({useNative:!0,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"vertical"}),this._groupElement.find(".dx-scrollable-container").css("overflow","hidden"))},processScrollBarSpacing:function(t){var i=this;i._groupHeight&&i.groupHeight(i._groupHeight-t),i._scrollBarWidth&&i._groupElement.next().remove(),t&&i._groupElement.after(n("<div>").width("100%").height(t-1)),i._scrollBarWidth=t},getScrollPath:function(t){var i=this.tableElement(),u;return t-=parseInt(i[0].style.top,10)||0,n.each(i.find("tr"),function(n,i){var r=i.childNodes[i.childNodes.length-1];if(r&&r.rowSpan===1&&r.offsetTop<t&&r.offsetHeight+r.offsetTop>t)return u=r,!1}),r(i,u)}})}(jQuery,DevExpress),function(n,t){var i=t.ui.dxPivotGrid;i.DataArea=i.AreaItem.inherit({_getAreaName:function(){return"data"},_createGroupElement:function(){return n("<div>").addClass(i.cssClassNames.area).addClass(i.cssClassNames.areaData)},_renderTableContent:function(t,r){for(var h,l,u,f,c="",e,a=this.option("encodeHtml"),o,s=0;s<r.length;s++){for(c+="<tr>",l=r[s],h=0;h<l.length;h++)u=l[h],o=[],e="",s===r.length-1&&(e="border-bottom: 0px"),u?((u.rowType==="T"||u.columnType==="T")&&o.push(i.cssClassNames.total),(u.rowType==="GT"||u.columnType==="GT")&&o.push(i.cssClassNames.grandTotal),(u.rowType==="T"||u.rowType==="GT")&&o.push(i.cssClassNames.rowTotal),f=u.text||"",a&&(f.indexOf("<")!==-1||f.indexOf(">")!==-1)&&(f=n("<div>").text(f).html()),u.width&&(e&&(e+="; "),e+="min-width: "+u.width+"px")):f="",c+='<td class="'+o.join(" ")+'" style="'+e+'">'+f+"<\/td>";c+="<\/tr>"}t.append(c),this.callBase.apply(this,arguments)},_processScrollCore:function(n,t,i){var u=this,f=u._groupElement,r={useNative:!!i,useSimulatedScrollbar:!i,direction:"both",bounceEnabled:!1};t&&!n?r.direction="horizontal":t||(r.direction="vertical"),f.dxScrollable(r)},processScroll:function(n,t,i,r){var u=this,f=u._groupElement;f.css("border-top-width",0),u._processScrollCore(t,i,r)},setVirtualContentParams:function(n){this.callBase(n),this.tableElement().css({top:n.top,left:n.left})}})}(jQuery,DevExpress),function(n,t){function l(n,t){var i=[],r;if(n.items)for(r=0;r<n.items.length;r++)i.push.apply(i,l(n.items[r],t));else u.isDefined(n.index)&&i.push(t[n.index]);return i}function h(n,t){var i,r;if(n.items)for(i=0;i<n.items.length;i++)if(r=h(n.items[i],t),r)return r;if(t(n))return n}function nt(n,t){for(var i=0,r=0;!i&&a[r];)i=a[r++](n,t);return i}function v(n){return n.find(".dx-scrollable").dxScrollable("instance")}var s=t.ui,y=t.require("/utils/utils.icon"),u=t.require("/utils/utils.common"),p=t.require("/componentRegistrator"),w=t.require("/ui/ui.widget"),e=s.dxPivotGrid,o=s.dxDataGrid,f=n.inArray,r=n.each,i="<div>",b=o.ColumnsView.inherit(o.sortingMixin).inherit(o.headerFilterMixin),k=o.HeaderFilterView,d="dx-pivotgridfieldchooser",c="dx-pivotgridfieldchooser-container",g=function(t,i){var o=[],s=!!i.groupName;i.filterValues&&r(i.filterValues,function(n,t){o.push(u.isArray(t)?t.join("/"):t)}),e.foreachTree(t,function(t){var r=t[0],u=e.createPath(t),c=s?n.map(t,function(n){return n.text}).reverse().join("/"):r.text,h;r.value=s?u.slice(0):r.key||r.value,h=s?u.join("/"):r.value,(r.key&&f(c,o)>-1||f(h,o)>-1)^i.filterType==="exclude"&&(r.selected=!0),r.children&&(r.items=r.children,r.children=null)})},a=[function(n,t){var i=-!!n.isMeasure,r=+!!t.isMeasure;return i+r},function(n,t){var i=-!!(n.items&&n.items.length),r=+!!(t.items&&t.items.length);return i+r},function(n,t){var i=+!!(n.field&&n.field.levels&&n.field.levels.length),r=-!!(t.field&&t.field.levels&&t.field.levels.length);return i+r},e.getCompareFunction(function(n){return n.text})];p("dxPivotGridFieldChooser",s,w.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{height:400,layout:0,dataSource:null,texts:{columnFields:Globalize.localize("dxPivotGrid-columnFields"),rowFields:Globalize.localize("dxPivotGrid-rowFields"),dataFields:Globalize.localize("dxPivotGrid-dataFields"),filterFields:Globalize.localize("dxPivotGrid-filterFields"),allFields:Globalize.localize("dxPivotGrid-allFields")},headerFilter:{width:252,height:300,texts:{emptyValue:Globalize.localize("dxDataGrid-headerFilterEmptyValue"),ok:Globalize.localize("dxDataGrid-headerFilterOK"),cancel:Globalize.localize("dxDataGrid-headerFilterCancel")}}})},_refreshDataSource:function(){var n=this,t;n._expandedPaths=[],n._changedHandler=n._changedHandler||function(){r(n._dataChangedHandlers,function(n,t){t()})},n._dataSource&&(n._dataSource.off("changed",n._changedHandler),n._dataSource=undefined),t=this.option("dataSource"),t&&t.fields&&t.load&&(n._dataSource=t),n._dataSource&&n._dataSource.on("changed",n._changedHandler)},_init:function(){this.callBase(),this._columnsView=new b(this),this._headerFilterView=new k(this),this._subscribeToEvents(),this._refreshDataSource(),this._dataChangedHandlers=[]},_subscribeToEvents:function(){var i=this;i.element().on("dxclick",".dx-area-field.dx-area-box",function(r){var u=n.extend(!0,{},n(r.currentTarget).data("field")),f=n(r.target).hasClass("dx-header-filter");f?i._headerFilterView.showHeaderFilterMenu(n(r.currentTarget),{type:u.groupName?"tree":"list",dataSource:{load:function(r){var e=r.userData,f;return e.store?e.store.load(r):(f=n.Deferred(),i._dataSource.getFieldValues(u.index).done(function(n){e.store=new t.data.ArrayStore(n),e.store.load(r).done(f.resolve).fail(f.reject)}).fail(f.reject),f)},postProcess:function(n){return g(n,u),n}},filterValues:u.filterValues,filterType:u.filterType,apply:function(){i._dataSource.field(u.index,{filterValues:this.filterValues,filterType:this.filterType}),i._dataSource.load()}}):u.allowSorting&&u.area!=="data"&&(i._dataSource.field(u.index,{sortOrder:u.sortOrder==="desc"?"asc":"desc"}),i._dataSource.load())})},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{dataSource:!0})},_optionChanged:function(n){var t=this;switch(n.name){case"dataSource":t._refreshDataSource(),t._invalidate();break;case"layout":case"texts":case"headerFilter":t._invalidate();break;default:t.callBase(n)}},_clean:function(){this.element().children("."+c).remove()},_renderContentImpl:function(){var e=this,f=this.element(),r,t,u;f.addClass(d),e._dataChangedHandlers=[],e._renderSortable(f),e._headerFilterView.render(f),u=n(i).addClass(c).appendTo(f),this.option("layout")===0?(r=n(i).addClass("dx-col").appendTo(u),t=n(i).addClass("dx-col").appendTo(u),this._renderArea(r,"all"),this._renderArea(r,"filter"),this._renderArea(t,"row"),this._renderArea(t,"column"),this._renderArea(t,"data")):this.option("layout")===1?(r=n(i).addClass("dx-col").appendTo(u),t=n(i).addClass("dx-col").appendTo(u),this._renderArea(r,"all"),this._renderArea(t,"filter"),this._renderArea(t,"row"),this._renderArea(t,"column"),this._renderArea(t,"data")):(this._renderArea(u,"all"),r=n(i).addClass("dx-col").appendTo(u),t=n(i).addClass("dx-col").appendTo(u),this._renderArea(r,"filter"),this._renderArea(r,"row"),this._renderArea(t,"column"),this._renderArea(t,"data")),this.updateDimensions()},_renderSortable:function(t){var r=this;r._createComponent(t,"dxSortable",{itemSelector:".dx-area-field",itemContainerSelector:".dx-area-field-container",groupSelector:".dx-area-fields",itemRender:function(r,u){var f;return r.hasClass("dx-area-box")?(f=r.clone(),f.insertBefore(r)):f=n(i).addClass("dx-area-field").addClass("dx-area-box").text(r.text()),u==="drag"&&f.width(t.find(".dx-area-field-container").first().width()),f},onDragging:function(n){var i=n.sourceElement.data("field"),t=n.targetGroup;n.cancel=!1,i.isMeasure===!0?(t==="column"||t==="row"||t==="filter")&&(n.cancel=!0):i.isMeasure===!1&&t==="data"&&(n.cancel=!0)},onChanged:function(n){var t=r._dataSource,i=n.sourceElement.data("field");n.removeSourceElement=!!n.sourceGroup,i&&(t.field(i.index,{area:n.targetGroup,areaIndex:n.targetIndex}),t.load())}})},_createTreeItems:function(n,t,i){var h=this,o,e=[],c=[],l=t[0],s={};return l?(r(n,function(n,t){var i=t[l]||"";s[i]=s[i]||[],s[i].push(t),o===undefined&&(o=!0),o=o&&t.isMeasure===!0}),r(s,function(n,r){var u=i?i+"."+n:n,o=h._createTreeItems(r,t.slice(1),u);n?c.push({key:n,text:n,path:u,isMeasure:o.isMeasure,expanded:f(u,h._expandedPaths)>=0,items:o}):e=o}),e=c.concat(e),e.isMeasure=o):r(n,function(n,t){var i;t.isMeasure===!0&&(i="measure"),t.isMeasure===!1&&(i=t.groupName?"hierarchy":"dimension"),e.push({index:t.index,field:t,key:t.dataField,selected:u.isDefined(t.area),text:t.caption||t.dataField,icon:i,isMeasure:t.isMeasure,isDefault:t.isDefault})}),e},_createFieldsDataSource:function(t){var i=t&&t.fields()||[],r;return i=n.map(i,function(n){return n.visible===!1||u.isDefined(n.groupIndex)?null:n}),r=this._createTreeItems(i,["dimension","displayFolder"]),e.foreachDataLevel(r,function(n){n.sort(nt)},0,"items"),r},_renderFieldsTreeView:function(t){var i=this,e=i._dataSource,o=i._createComponent(t,"dxTreeView",{dataSource:i._createFieldsDataSource(e),showCheckBoxesMode:"normal",itemTemplate:function(t,i,r){t.icon&&y.getImageContainer(t.icon).appendTo(r),n("<span>").toggleClass("dx-area-field",!t.items).data("field",t.field).text(t.text).appendTo(r)},onItemCollapsed:function(n){var t=f(n.itemData.path,i._expandedPaths);t>=0&&i._expandedPaths.splice(t,1)},onItemExpanded:function(n){var t=f(n.itemData.path,i._expandedPaths);t<0&&i._expandedPaths.push(n.itemData.path)},onItemSelected:function(n){var t=n.itemData,f,i,a=!0,v,s,c;if(t.items){if(t.selected){o.unselectItem(t);return}for(i=l(t,e.fields()),s=0;s<i.length;s++)if(i[s].area){a=!1;break}if(a){c=h(t,function(n){return n.isDefault})||h(t,function(n){return u.isDefined(n.index)}),c&&o.selectItem(c);return}}else f=e.fields()[t.index],t.selected&&(v=f.isMeasure?"data":"column"),f&&(i=[f]);r(i,function(n,t){e.field(t.index,{area:v,areaIndex:undefined})}),e.load()}}),s=function(){var n=v(t),r=n?n.scrollTop():0;o.option({dataSource:i._createFieldsDataSource(e)}),n=v(t),n&&(n.scrollTo({y:r}),n.update())};i._dataChangedHandlers.push(s)},_renderField:function(t){var r=this,f=n(i).addClass("dx-area-field-content").text(t.caption||t.dataField),u=n(i).addClass("dx-area-field").addClass("dx-area-box").data("field",t).append(f);return t.area!=="data"&&(t.allowSorting&&r._columnsView._applyColumnState({name:"sort",rootElement:u,column:{alignment:r.option("rtlEnabled")?"right":"left",sortOrder:t.sortOrder==="desc"?"desc":"asc"},showColumnLines:!0}),r._columnsView._applyColumnState({name:"headerFilter",rootElement:u,column:{alignment:r.option("rtlEnabled")?"right":"left",filterValues:t.filterValues,allowFiltering:t.allowFiltering},showColumnLines:!0})),u},_renderAreaFields:function(n,t){var i=this,u=i._dataSource,f=u?u.getAreaFields(t,!0):[];n.empty(),r(f,function(){i._renderField(this).appendTo(n)})},_renderArea:function(t,r){var f=this,e=n(i).addClass("dx-area").appendTo(t),h=f.option("texts."+r+"Fields"),u,s,o;n("<span>").addClass("dx-area-icon").addClass("dx-area-icon-"+r).appendTo(e),n("<span>").html("&nbsp;").appendTo(e),n("<span>").addClass("dx-area-caption").text(h).appendTo(e),u=n(i).addClass("dx-area-fields").height(0).appendTo(e),r!=="all"?(s=n(i).addClass("dx-area-field-container").appendTo(u),o=function(){f._renderAreaFields(s,r)},f._dataChangedHandlers.push(o),o(),u.attr("group",r).dxScrollable()):(u.addClass("dx-treeview-border-visible"),f._renderFieldsTreeView(u))},updateDimensions:function(){var t=this.element(),u=t.children(".dx-pivotgridfieldchooser-container"),r=t.find(".dx-col"),i=t.find(".dx-area-fields"),f=t.find(".dx-area .dx-scrollable"),n;i.height(0),this.option("layout")===0?(n=Math.floor((t.height()-u.height())/3),i.height(n),i.eq(0).height(r.eq(1).height()-r.eq(0).height()+n)):this.option("layout")===1?(n=Math.floor((t.height()-u.height())/4),i.height(n),i.eq(0).height(r.eq(1).height()-r.eq(0).height()+n)):(n=Math.floor((t.height()-u.height())/4),i.height(n),i.eq(0).height(n*2)),f.dxScrollable("update")}}))}(jQuery,DevExpress),function(n,t){var u=t.ui,f=DevExpress.require("/class"),e=DevExpress.require("/utils/utils.common"),r=t.ui.dxPivotGrid,i={text:"",value:undefined,colspan:1,rowspan:1};r.include({exportToExcel:function(){this._clientExporter&&this._clientExporter.exportTo({fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"EXCEL",component:this})},_getLength:function(n){var t,i=0;for(t in n[0])i+=n[0][t].colspan?n[0][t].colspan:1;return i},_defaultSetter:function(n){return n=parseInt(n,10),n?n:1},_makeRowOffset:function(t){var r=0,e=t.length-1,f=t[e],i=f.length,u;for(n.each(t,function(n){this[i]&&this[i].rowspan+n>t.length-1&&(r=Math.max.apply(this,[this[i].colspan,r]))}),u=0;u<r;u++)f.push(this._cloneItem(t[t.length-2][i&&i-1||0]));r>0&&this._makeRowOffset(t)},_cloneItem:function(t){return n.extend({},t,i)},_prepareItems:function(t,r){var f,u,s,e,o=[];for(e in r){u=[],o.push(u);do for(this._makeRowOffset(o),s=u.length,u.push(r[e].shift()),u[u.length-1]?(u[u.length-1].colspan=this._defaultSetter(u[u.length-1].colspan),u[u.length-1].rowspan=this._defaultSetter(u[u.length-1].rowspan)):u[u.length-1]=n({},i),f=1;f<u[s].colspan;f++)u.push(this._cloneItem(u[u.length-1]));while(r[e].length);while(u.length<t)u.push(this._cloneItem(u[u.length-1]))}return o},_getAllItems:function(t,r,u){for(var s,o=t.concat(u),c=this._getLength(r),l=this._getLength(t),h=t.length,f=0;f<r.length;f++)for(s=r[f].length-1;s>=0;s--)e.isDefined(o[f+h])||(o[f+h]=[]),o[f+h].splice(0,0,n.extend({},r[f][s]));return o[0].splice(0,0,n.extend({},i,{alignment:this._options.rtlEnabled?"right":"left",colspan:c,rowspan:h})),this._prepareItems(c+l,o)},getDataProvider:function(){var t=n.extend(!0,[],this._dataController.getColumnsInfo(!0)),i=n.extend(!0,[],this._dataController.getRowsInfo(!0)),r=this._dataController.getCellsInfo(!0);return new u.dxPivotGrid.DataProvider({columns:t,groupColumns:null,items:this._getAllItems(t,i,r),getVisibleIndex:0})}}),r.DataProvider=f.inherit({_getCellParam:function(n,t,i){var r=this._options.items,u=r[n]&&r[n][t];return u&&u[i]},ctor:function(n){this._options=n},ready:function(){var t=this._options;return n.when(t.items).done(function(n){var u,f=n[0][0].rowspan,i=n[f-1],r;for(r in i)i[r].width=100,i[r].alignment=i[r].alignment||"center",u=t.items[f+1]&&t.items[f+1][r],u?(i[r].dataType=u.dataType||"string",i[r].format=u.format,i[r].precision=u.precision):i[r].dataType="string";t.columns=i,t.items=n})},getColumns:function(){return this._options.columns},getRowsCount:function(){return this._options.items.length},isGroupRow:function(){return!1},isHeadersVisible:function(){return!1},isTotalCell:function(){return!1},getGroupLevel:function(){return 0},getCellMergin:function(n,t){var r=this._options.items,i=r[n]&&r[n][t];return i?{colspan:i.colspan-1,rowspan:i.rowspan-1}:{colspan:0,rowspan:0}},getFrozenArea:function(){var n=this._options.items;return{x:n[0][0].colspan,y:n[0][0].rowspan}},getCellType:function(n,t){var i=this._options.columns[t],r=i&&i.dataType;return r||"string"},getCellValue:function(n,t){return this._getCellParam(n,t,"value","")},getCellText:function(n,t){return this._getCellParam(n,t,"text")}})}(jQuery,DevExpress),function(n,t,i){function y(t,i){var f,r,u={index:-1};return h.isObject(i)||(r=t.columns.concat(t.rows).concat(t.values),f=p(r,i),i=r[f]),i&&(u.area=i.area,u.index=n.inArray(i,t[i.area==="data"?"values":i.area+"s"])),u}function f(n){return n===r?"_rowPath":"_columnPath"}function g(n){var r=n.summaryDisplayMode,u=n.allowCrossGroupCalculation,t=i;return(h.isFunction(n.calculateSummaryValue)?t=n.calculateSummaryValue:r&&(t=r==="absoluteVariation"?v(u):r==="percentVariation"?w(u):b[r],t&&r.indexOf("percent")!==-1&&(n.format=n.format||"percent")),n.runningTotal)?(t=t||d,k(t,u,n.runningTotal)):t}var s=t.ui.dxPivotGrid,l=s.foreachTree,h=t.require("/utils/utils.common"),e=h.isDefined,p=s.findField,u="column",r="row",c=function(n,t){var r=n.grandTotal(t);return e(n.value())?n.value()/r.value():i},a=function(n,t){var r=n.parent(t),u=r?r.value():n.value();return e(n.value())?n.value()/u:i},v=function(n){return function(t){var r=t.prev(u,n),f=r&&r.value();return e(f)&&e(t.value())?t.value()-f:i}},w=function(n){var t=v(n);return function(n){var r=t(n);return r!==i?r/n.value():i}},b={percentOfColumnTotal:function(n){return a(n,r)},percentOfRowTotal:function(n){return a(n,u)},percentOfColumnGrandTotal:function(n){return c(n,r)},percentOfRowGrandTotal:function(n){return c(n,u)},percentOfGrandTotal:function(n){return c(n)}},k=function(n,t,i){return function(f){var e=f.prev(i===u?r:u,t),o=n(f);return(e&&e.value(!0)||0)+(o||0)}},d=function(n){return n.value()},o=function(n,t,i,r,u){this._columnPath=n,this._rowPath=t,this._fieldIndex=u,this._data=i,this._descriptions=r;var f=i.values&&i.values[t[0].index]&&i.values[t[0].index][n[0].index];f&&(f.orginalCell=f.orginalCell||f.slice(),this._cell=f)};o.prototype=n.extend(o.prototype,{_getPath:function(n){return this[f(n)]},_getDimension:function(n){return n=n===r?"rows":"columns",this._descriptions[n]},_getData:function(n){return n=n===r?"rows":"columns",this._data[n]},_createCell:function(n){var t=this;return new o(n._columnPath||t._columnPath,n._rowPath||t._rowPath,t._data,t._descriptions,t._fieldIndex)},parent:function(n){var t=this._getPath(n).slice(),r={};return(t.shift(),t.length)?(r[f(n)]=t,this._createCell(r)):i},children:function(n){var r=this._getPath(n).slice(),i=r[0],u=[],e={},t;if(i.children)for(t=0;t<i.children.length;t++)e[f(n)]=[i.children[t]].concat(r.slice()),u.push(this._createCell(e));return u},grandTotal:function(n){var t={},i=this._rowPath,r=this._columnPath,u=this._getPath(n),e=f(n);return n?t[e]=[u[u.length-1]]:(t._rowPath=[i[i.length-1]],t._columnPath=[r[r.length-1]]),this._createCell(t)},next:function(t,r){var o=this._getPath(t),s=o[0],u=this.parent(t),f,e;if(u&&(e=n.inArray(s,o[1].children),f=u.children(t),f[e+1]))return f[e+1];if(r&&u){do u=u.next(t,r),f=u?u.children(t):[];while(u&&!f.length);return f[0]||i}return i},prev:function(t,r){var o=this._getPath(t),s=o[0],u=this.parent(t),f,e;if(u&&(e=n.inArray(s,o[1].children),f=u.children(t),f[e-1]))return f[e-1];if(r&&u){do u=u.prev(t,r),f=u?u.children(t):[];while(u&&!f.length);return f[f.length-1]||i}return i},cell:function(){return this._cell},field:function(n){var t=this._getPath(n),r=this._getDimension(n),u=r[t.length-2];return u||i},child:function(n,t){for(var u=this.children(n),f,r=0;r<u.length;r++)if(f=f||u[r].field(n),u[r].value(f)===t)return u[r];return i},slice:function(n,t){var k=this,v={},p=y(this._descriptions,n),h=p.area,w=p.index,c,e,b,l,a=i,d=[],o,s;if((h===r||h===u)&&(e=this._getPath(h).slice(),l=w!==-1&&e.length-2-w,e[l])){for(d[e.length-1]=e[e.length-1],o=l;o>=0;o--){if(e[o+1])for(c=e[o+1].children||[],b=o===l?t:e[o].value,e[o]=undefined,s=0;s<c.length;s++)if(c[s].value===b){e[o]=c[s];break}if(e[o]===undefined)return a}v[f(h)]=e,a=k._createCell(v)}return a},value:function(){var r=this._cell,n=this._fieldIndex,t=arguments,o=t[0]===!0||t[0]===!1,u,s=o?i:t[0],h=o&&t[0]||t[1],e,f;return s&&(f=y(this._descriptions,s),n=f.index,f.area!=="data")?(u=this._getPath(f.area),e=n!==-1&&u.length-2-n,u[e]&&u[e].value):r&&r.orginalCell?h?r[n]:r.orginalCell[n]:i}}),s.applyDisplaySummaryMode=function(n,t){var i=[],r=[{index:t.grandTotalColumnIndex,children:t.columns}],u=[{index:t.grandTotalRowIndex,children:t.rows}],f=n.values;l(u,function(u){var e=u[0];e.isEmpty=!0,l(r,function(r){var h=r[0],c,l,a,y,s,v;for(h.isEmpty=h.isEmpty||[],s=0;s<f.length;s++)y=f[s],c=i[s]=i[s]||g(y),c&&(l=new o(r,u,t,n,s),a=l.cell(),a&&(v=a[s]=c(l),h.isEmpty[s]===undefined&&(h.isEmpty[s]=!0),v===null||v===undefined?h.isEmpty[s]=h.isEmpty[s]&&!0:(h.isEmpty[s]=!1,e.isEmpty=!1)))},!1)},!1),t.isEmptyGrandTotalRow=u[0].isEmpty,t.isEmptyGrandTotalColumn=r[0].isEmpty}}(jQuery,DevExpress,null),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.publisherMixin",["jquery"],function(){return{notifyObserver:function(n,t){var i=this.option("observer");i&&i.fire(n,t)}}}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointmentTooltip",["jquery","/ui/ui.tooltip","/ui/widgets/ui.button","/ui/templates/ui.template.function","/ui/templates/ui.template.dynamic","/ui/templates/ui.template.move"],function(n,t,i,r,u,f){var e="dx-scheduler-appointment-tooltip",o="dx-scheduler-appointment-tooltip-title",s="dx-scheduler-appointment-tooltip-date",h="dx-scheduler-appointment-tooltip-buttons";return{show:function(t,i,r,e){var o,s;this.instance=e,o=e.appointmentTakesAllDay(t),this._initDynamicTemplate(t,i),s=e._getTemplateByOption("appointmentTooltipTemplate"),this.hide(),this._$tooltip=n("<div>").appendTo(e.element()),this._tooltip=e._createComponent(this._$tooltip,"dxTooltip",{_templates:e.option("_templates"),templateProvider:e.option("templateProvider"),visible:!0,target:r,rtlEnabled:e.option("rtlEnabled"),contentTemplate:new u(function(n){return new f(s.render(t,n))}),position:{my:"bottom",at:"top",of:r,boundary:o?e.element():e.getWorkSpaceScrollableContainer(),collision:"fit flipfit"}})},hide:function(){this._$tooltip&&(this._$tooltip.remove(),delete this._$tooltip,delete this._tooltip,t.hide())},_initDynamicTemplate:function(n,t){var i=this;this.instance._dynamicTemplates.appointmentTooltip=new r(function(r,u,f){var e=i._tooltipContent(n,t);return e.addClass(f.attr("class")),f.replaceWith(e),f})},_tooltipContent:function(t,i){var r=n("<div>").addClass(e),f=this.instance.appointmentTakesAllDay(t),u;return n("<div>").text(t.text).addClass(o).appendTo(r),n("<div>").addClass(s).text(this._formatTooltipDate(t.startDate,t.endDate,f)).appendTo(r),u=n("<div>").addClass(h).appendTo(r),this.instance._editing.allowDeleting&&this._getDeleteButton(t,i).appendTo(u),this._getOpenButton(t,i).appendTo(u),r},_formatTooltipDate:function(n,t,i){var r=this.instance.option("currentView")==="month"?"DATETIME":"TIME",u="";return i&&(r="DATE"),this.instance.fire("formatDates",{startDate:n,endDate:t,formatType:r,callback:function(n){u=n}}),u},_getDeleteButton:function(t,r){var u=this;return new i(n("<div>"),{icon:"trash",onClick:function(){u.instance._checkRecurringAppointment(t,r,r.startDate,function(){u.instance.deleteAppointment(t)},!0),u.hide()}}).element()},_getOpenButton:function(t,r){var u=this,f=u.instance._editing.allowUpdating;return new i(n("<div>"),{icon:f?"edit":"",text:Globalize.localize("dxScheduler-openAppointment"),onClick:function(){u.instance._checkRecurringAppointment(t,r,r.startDate,function(){u.instance.showAppointmentPopup(t)},!1,!0)}}).element()}}}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointmentModel",["jquery","/class","/utils/utils.recurrence","/utils/utils.date","/utils/utils.common"],function(n,t,i,r,u){return t.inherit({_resourceFilter:function(t,i){for(var u=!0,r,o,e,h,f=0,s=i.length;f<s;f++)if(r=i[f].field,o=i[f].data,t.hasOwnProperty(r)){if(n.isArray(t[r])){for(u=!1,e=0,h=t[r].length;e<h;e++)if(n.inArray(t[r][e],o)>-1){u=!0;break}}else if(n.inArray(t[r],o)===-1){u=!1;break}}else{u=!1;break}return u},ctor:function(n){this.setDataSource(n)},setDataSource:function(n){this._dataSource=n},filterByDate:function(n,t,i,r,u){if(this._dataSource){var f=this._prepareDateFilter(n,t,i,r,u);this._dataSource.filter(f)}},_prepareDateFilter:function(t,u,f,e,o){var s=this._dataSource,h=this;return function(c){var w,a;n.isFunction(s._mapFunc)&&(c=s._mapFunc(c));var l=r.makeDate(c.startDate),y=h._getEndDate(l,c.endDate),p=c.recurrenceRule,v=c.allDay,b=h.appointmentTakesAllDay(l,y,f,e),k=c.recurrenceException,d=function(n){return n=new Date(n),r.correctDateWithUnitBeginning(n,"day"),n};return o&&(v||b)?!1:(w=i.getRecurrenceRule(p).isValid,a=y>t&&l<=u&&!w||r.dateInRange(l,d(t),u)&&v||i.dateInRecurrenceRange(p,l,t,u,k),a&&f&&(a=l.getHours()>=f||y.getHours()>=f||v),a&&e&&(a=l.getHours()<=e||v),a)}},_getEndDate:function(n,t){return u.isDefined(t)||(t=new Date(n.getTime()+.5*36e5)),r.makeDate(t)},appointmentTakesAllDay:function(n,t,i,r){n=new Date(n),t=new Date(t);var u=r-i,f=(t.getTime()-n.getTime())/36e5;return f>=u},filterByResources:function(n){if(this._dataSource){var t=this._prepareResourcesFilter(n);this._dataSource.filter(t)}},_prepareResourcesFilter:function(t){return n.proxy(function(n){return this._resourceFilter(n,t)},this)},_getStoreKey:function(n){var t=this._dataSource.store();return t.keyOf(n)},filterByDateAndResources:function(t){this._dataSource&&this._dataSource.filter(n.proxy(function(n){var i=this._prepareDateFilter(t.min,t.max,t.startDayHour,t.endDayHour,t.excludeAllDayAppointments),r=this._prepareResourcesFilter(t.resources);return i(n)&&r(n)},this))},add:function(t){return this._dataSource.store().insert(t).done(n.proxy(function(){this._dataSource.load()},this))},update:function(t,i){var r=this._getStoreKey(t);return this._dataSource.store().update(r,i).done(n.proxy(function(){this._dataSource.load()},this))},remove:function(t){var i=this._getStoreKey(t);return this._dataSource.store().remove(i).done(n.proxy(function(){this._dataSource.load()},this))}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.resourceManager",["jquery","/class","/utils/utils.array","/utils/utils.common"],function(n,t,i,r){var f=DevExpress.data.utils,u="id",e="text";return t.inherit({_wrapDataSource:function(n){return n instanceof DevExpress.data.DataSource?n:new DevExpress.data.DataSource({store:new DevExpress.data.ArrayStore(n),pageSize:0})},_mapResourceData:function(t,i){var r=f.compileGetter(t.valueExpr||u),o=f.compileGetter(t.displayExpr||e);return n.map(i,function(n){return{id:r(n),text:o(n)}})},_isMultipleResource:function(t){var i=!1;return n.each(this.getResources(),function(n,r){if(r.field===t)return i=r.allowMultiple,!1}),i},ctor:function(n){this.setResources(n)},setResources:function(t){this._resources=t,this._resourceFields=n.map(t||[],function(n){return n.field})},getResources:function(){return this._resources||[]},getEditors:function(){var t=[];return n.each(this.getResources(),function(n,i){t.push({editorOptions:{dataSource:i.dataSource,displayExpr:i.displayExpr||e,valueExpr:i.valueExpr||u},dataField:i.field,editorType:i.allowMultiple?"dxTagBox":"dxSelectBox",label:{text:i.label||i.field}})}),t},getResourceDataByValue:function(t,i){var r=n.Deferred(),f=this;return n.each(this.getResources(),function(n,e){if(e.field===t){var o=f._wrapDataSource(e.dataSource);return o.filter(e.valueExpr||u,i),o.load().done(function(n){r.resolve(n[0])}).fail(function(){r.reject()}),!1}}),r.promise()},getResourcesFromItem:function(t,u){var e=this,f=null;return r.isDefined(u)||(u=!1),n.each(t,function(r){n.inArray(r,e._resourceFields)>-1&&(f||(f={}),f[r]=!u||u&&e._isMultipleResource(r)?i.wrapToArray(t[r]):t[r])}),f},getResourcesValueByFields:function(t){var i=n.Deferred(),r=this,u=[];return n.each(this.getResourcesByFields(t),function(t,i){var f=n.Deferred();r._wrapDataSource(i.dataSource).load().done(function(n){f.resolve({name:i.field,items:r._mapResourceData(i,n)}),u.push(f)}).fail(function(){f.reject()})}),n.when.apply(null,u).done(function(){i.resolve(Array.prototype.slice.call(arguments))}).fail(function(){i.reject()}),i.promise()},getResourceColor:function(t,i){var r=n.Deferred(),u;return this.getResourceDataByValue(t,i).done(function(n){n&&(u=n.color),r.resolve(u)}).fail(function(){r.reject()}),r.promise()},getResourcesByFields:function(t){return n.grep(this.getResources(),function(i){return n.inArray(i.field,t)>-1})},getResourceForPainting:function(t){var i=this.getResources(),r;return n.each(i,function(n,t){if(t.useColorAsDefault||t.mainColor)return r=t,!1}),r||(n.isArray(t)&&t.length&&(i=this.getResourcesByFields(t)),r=i[i.length-1]),r}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.reccurenceEditor",["jquery","/class","/utils/utils.recurrence","/utils/utils.dom","/utils/utils.common","/componentRegistrator","/ui/ui.editor","/ui/widgets/ui.checkBox","/ui/widgets/ui.radioGroup","/ui/widgets/ui.switch","/ui/widgets/ui.numberBox","/ui/widgets/ui.selectBox","/ui/widgets/date/ui.dateBox","/ui/widgets/scheduler/ui.scheduler.publisherMixin"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){var it="dx-recurrence-editor",p="-label",rt="dx-recurrence-editor-container",ut="dx-recurrence-switch",ft="dx-recurrence-switch-repeat-end",et="dx-recurrence-radiogroup-freq",b="dx-recurrence-numberbox-interval",ot="dx-recurrence-interval-field",k="dx-recurrence-repeat-end",st="dx-recurrence-repeat-end-field",ht="dx-recurrence-repeat-end-container",d="dx-recurrence-radiogroup-repeat-type",ct="dx-recurrence-numberbox-repeat-count",lt="dx-recurrence-datebox-until-date",nt="dx-recurrence-repeat-on",at="dx-recurrence-repeat-on-week",vt="dx-recurrence-checkbox-day-of-week",yt="dx-recurrence-repeat-on-month",pt="dx-recurrence-numberbox-day-of-month",wt="dx-recurrence-repeat-on-year",bt="dx-recurrence-selectbox-month-of-year",w="dx-field",g="dx-field-label",y="dx-field-value",kt=[{text:function(){return Globalize.localize("dxScheduler-recurrenceDaily")},value:"DAILY"},{text:function(){return Globalize.localize("dxScheduler-recurrenceWeekly")},value:"WEEKLY"},{text:function(){return Globalize.localize("dxScheduler-recurrenceMonthly")},value:"MONTHLY"},{text:function(){return Globalize.localize("dxScheduler-recurrenceYearly")},value:"YEARLY"}],dt=[{text:function(){return Globalize.localize("dxScheduler-recurrenceRepeatCount")},value:"count"},{text:function(){return Globalize.localize("dxScheduler-recurrenceRepeatOnDate")},value:"until"}],gt=t.inherit({ctor:function(n){this._recurrenceRule=i.getRecurrenceRule(n).rule},makeRules:function(n){var t=this;t._recurrenceRule=i.getRecurrenceRule(n).rule},makeRule:function(n,t){if(!t){delete this._recurrenceRule[n];return}u.isDefined(n)&&(n==="until"&&delete this._recurrenceRule.count,n==="count"&&delete this._recurrenceRule.until,this._recurrenceRule[n]=t)},repeatableRule:function(){var n=this._recurrenceRule;return"count"in n?"count":"until"in n?"until":null},recurrenceString:function(){return i.getRecurrenceString(this._recurrenceRule)},rules:function(){return this._recurrenceRule},daysFromByDayRule:function(){return i.daysFromByDayRule(this._recurrenceRule)}}),tt=e.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{value:null,onValueChanged:null,startDate:new Date})},_createComponent:function(n,t,i){return i=i||{},this._extendConfig(i,{readOnly:this.option("readOnly")}),this.callBase(n,t,i)},_init:function(){this.callBase(),this._recurrenceRule=new gt(this.option("value"))},_render:function(){this.callBase(),this.element().addClass(it),this._renderSwitch(),this._$container=n("<div>").addClass(rt).appendTo(this.element()),this._renderEditors(),this._renderContainerVisibility(!!this.option("value"))},_renderSwitch:function(){var t=n("<div>").addClass(ut);this._switchEditor=this._createComponent(t,h,{value:!!this.option("value"),onValueChanged:n.proxy(this._switchValueChangeHandler,this)}),this.element().append(t)},_switchValueChangeHandler:function(n){var t=n.value;this._renderContainerVisibility(t),!this.option("value")&&t?this._handleDefaults():t||(this._recurrenceRule.makeRules(""),this.option("value",undefined))},_renderContainerVisibility:function(n){n?(this._$container.show(),this.notifyObserver("recurrenceEditorVisibylityChanged",{visible:!0}),r.triggerShownEvent(this._$container)):(this._$container.hide(),this.notifyObserver("recurrenceEditorVisibylityChanged",{visible:!1}))},_handleDefaults:function(){this._recurrenceRule.makeRule("freq","DAILY"),this.option("value",this._recurrenceRule.recurrenceString())},_renderEditors:function(){this._renderFreqEditor(),this._renderIntervalEditor(),this._renderRepeatOnEditor(),this._renderRepeatEndSwitch(),this._renderRepeatEndEditor(),this._renderRepeatEndVisibility(!!this._recurrenceRule.repeatableRule())},_renderFreqEditor:function(){var r=this._recurrenceRule.rules().freq||"DAILY",t=n("<div>").addClass(et).addClass(y),i;this._freqEditor=this._createComponent(t,s,{field:"freq",items:kt,value:r,valueExpr:"value",displayExpr:"text",layout:"horizontal",onValueChanged:n.proxy(this._valueChangedHandler,this)}),i=n("<div>").addClass(w).append(t),this._$container.append(i)},_renderIntervalEditor:function(){var t=this._recurrenceRule.rules().freq||"DAILY",i=n("<div>").addClass(b).addClass(y),r=n("<div>").text(Globalize.localize("dxScheduler-recurrenceEvery")+":").addClass(b+p).addClass(g),u,f;this._$intervalTypeLabel=n("<div>").text(Globalize.localize("dxScheduler-recurrenceRepeat"+t.charAt(0).toUpperCase()+t.substr(1).toLowerCase())).addClass(d+p),u=this._recurrenceRule.rules().interval||1,this._intervalEditor=this._createComponent(i,c,{field:"interval",min:1,value:u,showSpinButtons:!0,useTouchSpinButtons:!1,onValueChanged:n.proxy(this._valueChangedHandler,this)}),f=n("<div>").addClass(w).addClass(ot).append(r,i,this._$intervalTypeLabel),this._$container.append(f),this._setAriaDescribedBy(this._intervalEditor,r)},_renderRepeatOnEditor:function(){var t=this._recurrenceRule.rules().freq;if(u.isDefined(this._$repeatOnEditor)||(this._$repeatOnEditor=n("<div>").addClass(nt).addClass(w).appendTo(this._$container)),!t||t==="DAILY"){this._clearRepeatOnEditor(),this._clearRepeatOnLabel();return}if(u.isDefined(this._$repeatOnLabel)||this._renderRepeatOnLabel(this._$repeatOnEditor),t==="WEEKLY"&&!this._$repeatOnWeek){this._renderRepeatOnWeekEditor();return}if(t==="MONTHLY"&&!this._$repeatOnMonth){this._renderRepeatOnMonthEditor();return}if(t==="YEARLY"&&!this._$repeatOnYear){this._renderRepeatOnYearEditor();return}},_renderRepeatOnLabel:function(t){this._$repeatOnLabel=n("<div>").text(Globalize.localize("dxScheduler-recurrenceOn")+":").addClass(nt+p).addClass(g),t.append(this._$repeatOnLabel)},_clearRepeatOnEditor:function(){u.isDefined(this._$repeatOnWeek)&&(this._$repeatOnWeek.detach(),this._$repeatOnWeek.remove(),delete this._$repeatOnWeek),u.isDefined(this._$repeatOnMonth)&&(this._$repeatOnMonth.detach(),this._$repeatOnMonth.remove(),delete this._$repeatOnMonth),u.isDefined(this._$repeatOnYear)&&(this._$repeatOnYear.detach(),this._$repeatOnYear.remove(),delete this._$repeatOnYear)},_clearRepeatOnEditorValues:function(){this._recurrenceRule.makeRule("bymonth",""),this._recurrenceRule.makeRule("bymonthday",""),this._recurrenceRule.makeRule("byday","")},_clearRepeatOnLabel:function(){u.isDefined(this._$repeatOnLabel)&&(this._$repeatOnLabel.detach(),this._$repeatOnLabel.remove(),delete this._$repeatOnLabel)},_renderRepeatOnWeekEditor:function(){var i,r,t;for(this._clearRepeatOnEditor(),this._$repeatOnWeek=n("<div>").addClass(at).addClass(y).appendTo(this._$repeatOnEditor),i=Globalize.culture().calendar.days.namesShort,r=this._daysOfWeekByRules(),this._daysOfWeek=[],t=0;t<7;t++){var u=i[t].toUpperCase(),f=n("<div>").addClass(vt),e=this._createComponent(f,o,{text:u,value:n.inArray(u,r)>-1?!0:!1,onValueChanged:n.proxy(this._repeatByDayValueChangeHandler,this)});this._daysOfWeek[t]=e,this._$repeatOnWeek.append(f)}},_daysOfWeekByRules:function(){var t=Globalize.culture().calendar.days.namesShort,n=this._recurrenceRule.daysFromByDayRule();return n.length||(n=[t[this.option("startDate").getDay()].toUpperCase()]),n},_repeatByDayValueChangeHandler:function(){var t="";n.each(this._daysOfWeek,function(n,i){if(i.option("value")){var r=i.option("text");t=t?t+","+r:r}}),this._recurrenceRule.makeRule("byday",t),this.option("value",this._recurrenceRule.recurrenceString())},_renderRepeatOnMonthEditor:function(){this._clearRepeatOnEditor(),this._$repeatOnMonth=n("<div>").addClass(yt).addClass(y).appendTo(this._$repeatOnEditor),this._renderDayOfMonthEditor(this._$repeatOnMonth)},_renderRepeatOnYearEditor:function(){var i,r,t;for(this._clearRepeatOnEditor(),this._$repeatOnYear=n("<div>").addClass(wt).addClass(y).appendTo(this._$repeatOnEditor),i=[],r=Globalize.culture().calendar.months.names,t=0;t<12;t++)i[t]={value:String(t+1),text:r[t]};var u=this._monthOfYearByRules(),f=n("<div>").addClass(bt).appendTo(this._$repeatOnYear),e=function(n){var t,i;this._valueChangedHandler.call(this,n),t=parseInt(n.component.option("value")),this._dayEditor&&t&&(i=new Date((new Date).getFullYear(),parseInt(t),0).getDate(),t===2&&(i=29),this._dayEditor.option("max",i))};this._monthEditor=this._createComponent(f,l,{field:"bymonth",items:i,value:u,displayExpr:"text",valueExpr:"value",onValueChanged:n.proxy(e,this)}),this._renderDayOfMonthEditor(this._$repeatOnYear)},_monthOfYearByRules:function(){var n=this._recurrenceRule.rules().bymonth;return n||(n=this.option("startDate").getMonth()),n},_renderDayOfMonthEditor:function(t){var r=this._dayOfMonthByRules(),i=n("<div>").addClass(pt);this._dayEditor=this._createComponent(i,c,{field:"bymonthday",min:1,max:31,showSpinButtons:!0,useTouchSpinButtons:!1,value:r,onValueChanged:n.proxy(this._valueChangedHandler,this)}),t.append(i)},_dayOfMonthByRules:function(){var n=this._recurrenceRule.rules().bymonthday;return n||(n=this.option("startDate").getDate()),n},_setAriaDescribedBy:function(n,t){var i="label-"+new DevExpress.data.Guid;n.setAria("describedby",i),n.setAria("id",i,t)},_renderRepeatEndSwitch:function(){var r=this,t=n("<div>").addClass(ft).addClass(y),i=n("<div>").text(Globalize.localize("dxScheduler-recurrenceEnd")+":").addClass(b+p).addClass(g);this._switchEndEditor=this._createComponent(t,h,{value:r._recurrenceRule.repeatableRule()?!0:!1,onValueChanged:n.proxy(this._repeatEndSwitchValueChangeHandler,this)}),n("<div>").addClass(w).addClass(st).append(i,t).appendTo(this._$container),this._setAriaDescribedBy(this._switchEndEditor,i)},_repeatEndSwitchValueChangeHandler:function(n){var t=n.value;this._renderRepeatEndVisibility(t),this._recurrenceRule.rules().count||this._recurrenceRule.rules().until||!t?t||(this._recurrenceRule.makeRule("count",""),this._recurrenceRule.makeRule("until",""),this.option("value",this._recurrenceRule.recurrenceString())):this._handleRepeatEndDefaults()},_renderRepeatEndVisibility:function(n){n?this._$repeatEndEditor.show():this._$repeatEndEditor.hide()},_handleRepeatEndDefaults:function(){this._recurrenceRule.makeRule("count",1),this.option("value",this._recurrenceRule.recurrenceString())},_renderRepeatEndEditor:function(t){t=u.isDefined(t)?t:this._recurrenceRule.repeatableRule(),t||(t="count"),u.isDefined(this._$repeatEndEditor)||(this._$repeatEndEditor=n("<div>").addClass(ht).addClass(w).appendTo(this._$container),this._renderRepeatEndTypeEditor())},_renderRepeatEndTypeEditor:function(){var t=this._recurrenceRule.repeatableRule()||"count",i=this;this._$repeatTypeEditor=n("<div>").addClass(d).addClass(y).appendTo(this._$repeatEndEditor),this._repeatTypeEditor=this._createComponent(this._$repeatTypeEditor,s,{items:dt,value:t,displayExpr:"text",valueExpr:"value",itemTemplate:function(n){return n.value==="count"?i._renderRepeatCountEditor():i._renderRepeatUntilEditor()},layout:"vertical",onValueChanged:n.proxy(this._repeatTypeValueChangedHandler,this)}),this._disableRepeatEndParts(t)},_repeatTypeValueChangedHandler:function(n){var t=n.value;this._disableRepeatEndParts(t),t==="until"?this._recurrenceRule.makeRule(t,this._repeatUntilDate.option("value")):t==="count"&&this._recurrenceRule.makeRule(t,this._repeatCountEditor.option("value")),this.option("value",this._recurrenceRule.recurrenceString())},_disableRepeatEndParts:function(n){n==="until"?(this._repeatCountEditor.option("disabled",!0),this._repeatUntilDate.option("disabled",!1)):n==="count"&&(this._repeatCountEditor.option("disabled",!1),this._repeatUntilDate.option("disabled",!0))},_renderRepeatCountEditor:function(){var i=this._recurrenceRule.rules().count||1,t=n("<div>");return n("<div>").text(Globalize.localize("dxScheduler-recurrenceAfter")+":").addClass(k+p).appendTo(t),this._$repeatCountEditor=n("<div>").addClass(ct).addClass(y).appendTo(t),n("<div>").text(Globalize.localize("dxScheduler-recurrenceRepeatCount")).addClass(k+p).appendTo(t),this._repeatCountEditor=this._createComponent(this._$repeatCountEditor,c,{field:"count",min:1,showSpinButtons:!0,useTouchSpinButtons:!1,value:i,onValueChanged:n.proxy(this._repeatCountValueChangeHandler,this)}),t},_repeatCountValueChangeHandler:function(n){if(this._recurrenceRule.repeatableRule()==="count"){var t=n.value;this._recurrenceRule.makeRule("count",t),this.option("value",this._recurrenceRule.recurrenceString())}},_renderRepeatUntilEditor:function(){var i=this._recurrenceRule.rules().until||new Date,t=n("<div>");return n("<div>").text(Globalize.localize("dxScheduler-recurrenceOn")+":").addClass(k+p).appendTo(t),this._$repeatDateEditor=n("<div>").addClass(lt).addClass(y).appendTo(t),this._repeatUntilDate=this._createComponent(this._$repeatDateEditor,a,{field:"until",value:i,format:"date",onValueChanged:n.proxy(this._repeatUntilValueChangeHandler,this)}),t},_repeatUntilValueChangeHandler:function(n){this._recurrenceRule.repeatableRule()==="until"&&(this._recurrenceRule.makeRule("until",n.value),this.option("value",this._recurrenceRule.recurrenceString()))},_valueChangedHandler:function(n){var i=n.component.option("value"),t=n.component.option("field");t==="freq"&&this._clearRepeatOnEditorValues(),this._recurrenceRule.makeRule(t,i),this._makeRepeatOnRule(t,i),this.option("value",this._recurrenceRule.recurrenceString())},_makeRepeatOnRule:function(n,t){n==="freq"&&t!=="DAILY"&&(t==="WEEKLY"&&this._recurrenceRule.makeRule("byday",this._daysOfWeekByRules()),t==="MONTHLY"&&this._recurrenceRule.makeRule("bymonthday",this._dayOfMonthByRules()),t==="YEARLY"&&(this._recurrenceRule.makeRule("bymonthday",this._dayOfMonthByRules()),this._recurrenceRule.makeRule("bymonth",this._monthOfYearByRules())))},_optionChanged:function(n){switch(n.name){case"value":this._recurrenceRule.makeRules(n.value),this._switchEditor.option("value",!!n.value),this._switchEndEditor.option("value",!!this._recurrenceRule.repeatableRule()),this._repeatTypeEditor.option("value",this._recurrenceRule.repeatableRule()||"count"),this._renderRepeatEndEditor(),this._renderRepeatOnEditor(),this._changeEditorsValues(this._recurrenceRule.rules()),this.callBase(n);break;case"startDate":this._clearRepeatOnEditor(),this._renderRepeatOnEditor(),this._makeRepeatOnRule("freq",this._recurrenceRule.rules().freq),this.option("value",this._recurrenceRule.recurrenceString());break;default:this.callBase(n)}},_changeEditorsValues:function(n){this._freqEditor.option("value",n.freq),this._changeRepeatTypeLabel(),this._intervalEditor.option("value",n.interval),this._changeRepeatCountValue(),this._changeRepeatUntilValue(),this._changeCheckBoxesValue(),this._changeDayOfMonthValue(),this._changeMonthOfYearValue()},_changeRepeatTypeLabel:function(){var i=this.element().find("."+d+p),t;i.length&&(t=this._recurrenceRule.rules().freq||"DAILY",n.each(i,function(i,r){n(r).text(Globalize.localize("dxScheduler-recurrenceRepeat"+t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()))}))},_changeRepeatCountValue:function(){if(this._$repeatCountEditor){var n=this._recurrenceRule.rules().count||1;this._repeatCountEditor.option("value",n)}},_changeRepeatUntilValue:function(){if(this._$repeatDateEditor){var n=this._recurrenceRule.rules().until||new Date;this._repeatUntilDate.option("value",n)}},_changeCheckBoxesValue:function(){if(this._$repeatOnWeek){var t=this._daysOfWeekByRules();n.each(this._daysOfWeek,function(i,r){r.option("value",n.inArray(r.option("text"),t)>-1)})}},_changeDayOfMonthValue:function(){if(this._$repeatOnMonth||this._$repeatOnYear){var n=this._dayOfMonthByRules()||1;this._dayEditor.option("value",n)}},_changeMonthOfYearValue:function(){if(this._$repeatOnYear){var n=this._monthOfYearByRules()||1;this._monthEditor.option("value",n)}},setAria:function(){this._switchEditor&&this._switchEditor.setAria(arguments[0],arguments[1])}}).include(v);return f("dxSchedulerRecurrenceEditor",{},tt),tt}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.reccurenceEditor"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.navigator",["jquery","/ui/ui.errors","/utils/utils.date","/componentRegistrator","/devices","/ui/ui.widget","/ui/widgets/ui.button","/ui/widgets/date/ui.calendar","/ui/widgets/scheduler/ui.scheduler.publisherMixin"],function(n,t,i,r,u,f,e,o,s){var l="dx-scheduler-navigator",a="dx-scheduler-navigator-calendar",v="dx-scheduler-navigator-next",y="dx-scheduler-navigator-caption",p="dx-scheduler-navigator-previous",h=function(n,t){var u=i.getFirstWeekDate(n,t?this.option("firstDayOfWeek")||1:this.option("firstDayOfWeek")),f=this.option("_useShortDateFormat")?"d MMM yyyy":"d MMMM yyyy",r=new Date(u);return t=t||6,r=new Date(r.setDate(r.getDate()+t)),Globalize.format(u," d")+"-"+Globalize.format(r,f)},w={day:{duration:1,setter:"setDate",getter:"getDate",getCaption:function(n){return Globalize.format(n,"d MMMM yyyy")}},week:{duration:7,setter:"setDate",getter:"getDate",getCaption:h},workWeek:{duration:7,setter:"setDate",getter:"getDate",getCaption:function(n){return h.call(this,n,4)}},month:{duration:1,setter:"setMonth",getter:"getMonth",getCaption:function(n){return Globalize.format(n,"MMMM yyyy")}}},c=f.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{date:new Date,step:"day",min:undefined,max:undefined,firstDayOfWeek:undefined,_useShortDateFormat:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return!u.real().generic||u.isSimulator()},options:{_useShortDateFormat:!0}}])},_optionChanged:function(n){switch(n.name){case"step":case"date":this._updateButtonsState(),this._renderCaption(),this._setCalendarOption("value",this.option("date"));break;case"min":case"max":this._updateButtonsState(),this._setCalendarOption(n.name,n.value);break;case"firstDayOfWeek":this._setCalendarOption(n.name,n.value);break;case"tabIndex":case"focusStateEnabled":this._next.option(n.name,n.value),this._caption.option(n.name,n.value),this._prev.option(n.name,n.value),this._setCalendarOption(n.name,n.value),this.callBase(n);break;case"_useShortDateFormat":break;default:this.callBase(n)}},_init:function(){this.callBase(),this.element().addClass(l),this._initButtons()},_initButtons:function(){var i=n("<div>").addClass(v),r,t;this._next=this._createComponent(i,e,{icon:"chevronnext",onClick:n.proxy(this._updateCurrentDate,this,1),focusStateEnabled:this.option("focusStateEnabled"),tabIndex:this.option("tabIndex"),_templates:{}}),r=n("<div>").addClass(y),this._caption=this._createComponent(r,e,{focusStateEnabled:this.option("focusStateEnabled"),tabIndex:this.option("tabIndex"),_templates:{}}),t=n("<div>").addClass(p),this._prev=this._createComponent(t,e,{icon:"chevronprev",onClick:n.proxy(this._updateCurrentDate,this,-1),focusStateEnabled:this.option("focusStateEnabled"),tabIndex:this.option("tabIndex"),_templates:{}}),this.setAria("label","Next period",i),this.setAria("label","Previous period",t),this._updateButtonsState(),this.element().append(t,r,i)},_updateButtonsState:function(){var n=this._getConfig(),t=this.option("date"),i=this.option("min"),r=this.option("max");this._prev.option("disabled",i&&t[n.getter]()===i[n.getter]()),this._next.option("disabled",r&&t[n.getter]()===r[n.getter]())},_updateCurrentDate:function(n){var r=this._getConfig(),u=r.duration*n,t=new Date(this.option("date"));t[r.setter](t[r.getter]()+u),t=i.normalizeDate(t,this.option("min"),this.option("max")),this.notifyObserver("updateCurrentDate",t)},_renderFocusTarget:n.noop,_render:function(){this.callBase(),this._renderPopover(),this._renderCaption(),this._renderCaptionKeys()},_renderPopover:function(){this._popover=this._createComponent("<div>","dxPopover",{target:this._caption.element(),onContentReady:n.proxy(this._popoverContentReadyHandler,this)}),this._popover.element().appendTo(this.element())},_popoverContentReadyHandler:function(){this._calendar=this._createComponent(n("<div>"),o,this._calendarOptions()),this._calendar.element().addClass(a),this._popover.content().append(this._calendar.element())},_calendarOptions:function(){return{min:this.option("min"),max:this.option("max"),firstDayOfWeek:this.option("firstDayOfWeek"),value:this.option("date"),focusStateEnabled:this.option("focusStateEnabled"),onValueChanged:n.proxy(function(n){this.notifyObserver("updateCurrentDate",n.value),this._popover.hide()},this),_keyboardProcessor:this._calendarKeyboardProcessor}},_renderCaption:function(){var t=this.option("date"),i=this._getConfig().getCaption.call(this,t);this._caption.option({text:i,onClick:n.proxy(function(){this._popover.toggle()},this)})},_renderCaptionKeys:function(){if(this.option("focusStateEnabled")&&!this.option("disabled")){this._calendarKeyboardProcessor=this._caption._keyboardProcessor.attachChildProcessor(),this._setCalendarOption("_keyboardProcessor",this._calendarKeyboardProcessor);var t=n.proxy(function(){if(this._popover.content().is(":hidden"))this._popover.show();else return!0},this);this._caption.registerKeyHandler("enter",t),this._caption.registerKeyHandler("space",t)}},_setCalendarOption:function(n,t){this._calendar&&this._calendar.option(n,t)},_getConfig:function(){var n=this.option("step"),i=w[n];if(!i)throw t.Error("E1033",n);return i}}).include(s);return r("dxSchedulerNavigator",{},c),c}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.navigator"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.header",["jquery","/utils/utils.common","/utils/utils.inflector","/componentRegistrator","/ui/ui.widget","/ui/widgets/scheduler/ui.scheduler.publisherMixin","/ui/widgets/scheduler/ui.scheduler.navigator"],function(n,t,i,r,u,f,e){var o=i.camelize,c="dx-scheduler-header",l="dx-scheduler-view-switcher",a="dx-scheduler-view-switcher-label",s={day:"day",week:"week",workWeek:"workWeek",month:"month",timelineDay:"day",timelineWeek:"week",timelineWorkWeek:"workWeek",timelineMonth:"month"},h=u.inherit({_getDefaultOptions:function(){return n.extend(this.callBase(),{views:[],currentView:"day",firstDayOfWeek:undefined,currentDate:new Date,min:undefined,max:undefined,useDropDownViewSwitcher:!1})},_optionChanged:function(n){var t=n.value;switch(n.name){case"views":this._viewSwitcher.option("items",t);break;case"currentView":this._viewSwitcher.option("selectedItem",t),this._navigator.option("step",s[t]),this._changeViewSwitcherLabelText();break;case"currentDate":this._navigator.option("date",t);break;case"min":case"max":case"firstDayOfWeek":this._navigator.option(n.name,t);break;case"tabIndex":case"focusStateEnabled":this._viewSwitcher.option(n.name,t),this._navigator.option(n.name,t),this.callBase(n);break;case"useDropDownViewSwitcher":this._refreshViewSwitcher();break;default:this.callBase(n)}},_init:function(){this.callBase(),this.element().addClass(c)},_render:function(){this.callBase(),this._renderNavigator(),this._renderViewSwitcher()},_renderNavigator:function(){this._navigator=this._createComponent("<div>",e,{min:this.option("min"),max:this.option("max"),date:this.option("currentDate"),step:s[this.option("currentView")],firstDayOfWeek:this.option("firstDayOfWeek"),tabIndex:this.option("tabIndex"),focusStateEnabled:this.option("focusStateEnabled"),observer:this.option("observer")}),this._navigator.element().appendTo(this.element())},_renderViewSwitcher:function(){var t=n("<div>").addClass(l).appendTo(this.element());this.option("useDropDownViewSwitcher")?this._renderViewSwitcherDropDownMenu(t):this._renderViewSwitcherTabs(t)},_renderViewSwitcherTabs:function(t){this._viewSwitcher=this._createComponent(t,"dxTabs",{selectionRequired:!0,scrollingEnabled:!1,onSelectionChanged:n.proxy(this._updateCurrentView,this),items:this.option("views"),itemTemplate:function(t){return n("<span>").addClass("dx-tab-text").text(Globalize.localize("dxScheduler-switcher"+o(t,!0)))},selectedItem:this.option("currentView"),tabIndex:this.option("tabIndex"),focusStateEnabled:this.option("focusStateEnabled")})},_refreshViewSwitcher:function(){this._viewSwitcher._dispose(),this._viewSwitcher.element().remove(),delete this._viewSwitcher,this._removeViewSwitcherLabel(),this._renderViewSwitcher()},_removeViewSwitcherLabel:function(){t.isDefined(this._$viewSwitcherLabel)&&(this._$viewSwitcherLabel.detach(),this._$viewSwitcherLabel.remove(),delete this._$viewSwitcherLabel)},_renderViewSwitcherDropDownMenu:function(t){this._$viewSwitcherLabel=n("<div>").addClass(a).appendTo(this.element()),this._changeViewSwitcherLabelText(),this._viewSwitcher=this._createComponent(t,"dxDropDownMenu",{onItemClick:n.proxy(this._updateCurrentView,this),items:this.option("views"),itemTemplate:function(t){return n("<span>").addClass("dx-dropdownmenu-item-text").text(Globalize.localize("dxScheduler-switcher"+o(t,!0)))}})},_changeViewSwitcherLabelText:function(){if(t.isDefined(this._$viewSwitcherLabel)){var n=Globalize.localize("dxScheduler-switcher"+o(this.option("currentView"),!0));this._$viewSwitcherLabel.text(n)}},_updateCurrentView:function(n){var t=n.itemData||n.component.option("selectedItem");this.notifyObserver("currentViewUpdated",t)},_renderFocusTarget:n.noop}).include(f);return r("dxSchedulerHeader",{},h),h}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.header"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpace",["jquery","/ui/uiNamespace","/utils/utils.date","/ui/ui.widget","/utils/utils.common","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.publisherMixin","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer"],function(n,t,i,r,u,f,e,o,s){var v=r.abstract,d="dx-scheduler-work-space",g="dx-scheduler-work-space-grouped",nt="dx-scheduler-work-space-both-scrollbar",tt="dx-scheduler-time-panel",it="dx-scheduler-time-panel-cell",rt="dx-scheduler-time-panel-row",ut="dx-scheduler-all-day-panel",ft="dx-scheduler-all-day-table",et="dx-scheduler-fixed-appointments",ot="dx-scheduler-all-day-appointments",st="dx-scheduler-all-day-title",ht="dx-scheduler-all-day-title-hidden",c="dx-scheduler-all-day-table-cell",ct="dx-scheduler-all-day-table-row",lt="dx-scheduler-work-space-all-day",at="dx-scheduler-work-space-all-day-collapsed",vt="dx-scheduler-header-panel",yt="dx-scheduler-header-panel-cell",pt="dx-scheduler-header-row",wt="dx-scheduler-group-row",bt="dx-scheduler-group-header",kt="dx-scheduler-date-table",h="dx-scheduler-date-table-cell",dt="dx-scheduler-date-table-row",gt="dx-scheduler-date-table-current-date",ni="dx-scheduler-date-table-other-month",l="dx-scheduler-date-table-droppable-cell",ti="dx-scheduler-header-scrollable",ii="dx-scheduler-sidebar-scrollable",ri="dx-scheduler-date-table-scrollable",y=o.addNamespace(s.down,"dxSchedulerWorkSpace"),p=o.addNamespace("dxdragenter","dxSchedulerDateTable"),w=o.addNamespace("dxdrop","dxSchedulerDateTable"),b=o.addNamespace("dxclick","dxSchedulerDateTable"),a="dxCellData",k=r.inherit({_supportedKeys:function(){var t=this.option("rtlEnabled"),i=function(n){n.preventDefault(),n.stopPropagation(),this._$focusedCell&&this._$focusedCell.length&&this._showAddAppointmentPopup(this._$focusedCell)};return n.extend(this.callBase(),{enter:i,space:i,downArrow:function(n){n.preventDefault(),n.stopPropagation();var t=this._getFocusedCell().index(),i=this._getFocusedCell().parent(),r=i.next().children().eq(t);this._moveToCell(r)},upArrow:function(n){n.preventDefault(),n.stopPropagation();var t=this._getFocusedCell().index(),i=this._getFocusedCell().parent(),r=i.prev().children().eq(t);this._moveToCell(r)},rightArrow:function(n){n.preventDefault(),n.stopPropagation();var i=t?this._getFocusedCell().prev():this._getFocusedCell().next();this._moveToCell(i)},leftArrow:function(n){n.preventDefault(),n.stopPropagation();var i=t?this._getFocusedCell().next():this._getFocusedCell().prev();this._moveToCell(i)}})},_getFocusedCell:function(){return this._$focusedCell||this._$dateTable.find("."+h).eq(0)},_setFocusedCell:function(n){n.length&&(this._releaseFocusedCell(),this._toggleFocusClass(!0,n),u.isDefined(this._$focusedCell)&&this.setAria("label",undefined,this._$focusedCell),this._$focusedCell=n,this.setAria("label","Add appointment",this._$focusedCell))},_moveToCell:function(n){this._setFocusedCell(n),this._dateTableScrollable.scrollToElement(n)},_releaseFocusedCell:function(){u.isDefined(this._$focusedCell)&&this._toggleFocusClass(!1,this._$focusedCell)},_focusTarget:function(){return this.element()},_focusInHandler:function(t){if(n(t.target).is(this._focusTarget())&&this._isCellClick!==!1){delete this._isCellClick,this.callBase.apply(this,arguments);var i=this._getFocusedCell();this._setFocusedCell(i)}},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._releaseFocusedCell()},_activeStateUnit:"."+h+", ."+c,_getDefaultOptions:function(){return n.extend(this.callBase(),{currentDate:new Date,firstDayOfWeek:undefined,startDayHour:0,endDayHour:24,hoursInterval:.5,activeStateEnabled:!0,hoverStateEnabled:!0,groups:[],showAllDayPanel:!0,allDayExpanded:!1,onCellClick:null,horizontalScrollingEnabled:!1})},_optionChanged:function(n){switch(n.name){case"startDayHour":case"endDayHour":case"hoursInterval":case"firstDayOfWeek":case"currentDate":case"groups":this._cleanView(),this._toggleGroupedClass(),this._renderView();break;case"showAllDayPanel":this._toggleAllDayVisibility();break;case"allDayExpanded":this._changeAllDayVisibility(),this.notifyObserver("allDayPanelToggled"),this._attachTablesEvents();break;case"onCellClick":this._createCellClickAction();break;case"horizontalScrollingEnabled":this._toggleHorizontalScrollClass();break;case"width":this.callBase(n),this._dimensionChanged();break;default:this.callBase(n)}},_init:function(){this.callBase(),this._toggleHorizontalScrollClass(),this.element().addClass(d).addClass(this._getElementClass()),this._createWorkSpaceUnits(),this._createDateTableScrollable(),this._createWorkSpaceElements()},_createWorkSpaceElements:function(){this.option("horizontalScrollingEnabled")?this._createWorkSpaceScrollableElements():this._createWorkSpaceStaticElements()},_toggleHorizontalScrollClass:function(){this.element().toggleClass(nt,this.option("horizontalScrollingEnabled"))},_createWorkSpaceUnits:function(){this._$headerPanel=n("<table>").addClass(vt),this._$thead=n("<thead>").appendTo(this._$headerPanel),this._$fixedContainer=n("<div>").addClass(et),this._$allDayContainer=n("<div>").addClass(ot),this._$allDayTitle=n("<div>").addClass(st).text(Globalize.localize("dxScheduler-allDay")).appendTo(this.element()),this._$allDayTable=n("<table>").addClass(ft),this._$allDayPanel=n("<div>").addClass(ut).append(this._$allDayTable),this._$timePanel=n("<table>").addClass(tt),this._$dateTable=n("<table>").addClass(kt)},_createWorkSpaceStaticElements:function(){this._dateTableScrollable.content().append(this._$timePanel,this._$dateTable),this.element().append(this._$fixedContainer,this._$headerPanel,this._$allDayContainer,this._$allDayPanel,this._dateTableScrollable.element())},_createWorkSpaceScrollableElements:function(){this.element().append(this._$fixedContainer),this._createHeaderScrollable(),this._createSidebarScrollable(),this.element().append(this._dateTableScrollable.element()),this._headerScrollable.content().append(this._$headerPanel,this._$allDayContainer,this._$allDayPanel),this._dateTableScrollable.content().append(this._$dateTable),this._sidebarScrollable.content().append(this._$timePanel)},_createDateTableScrollable:function(){var t=n("<div />").addClass(ri),i=this._createDateTableConfig();this._dateTableScrollable=this._createComponent(t,"dxScrollable",i)},_createDateTableConfig:function(){var t={useKeyboard:!1,useNative:!1,bounceEnabled:!1};return this.option("horizontalScrollingEnabled")&&(t.direction="both",t.onScroll=n.proxy(function(n){this._sidebarScrollable.scrollTo({top:n.scrollOffset.top}),this._headerScrollable.scrollTo({left:n.scrollOffset.left})},this),t.onEnd=n.proxy(function(){this.notifyObserver("updateResizableArea",{})},this)),t},_createHeaderScrollable:function(){var t=n("<div />").addClass(ti).appendTo(this.element());this._headerScrollable=this._createComponent(t,"dxScrollable",{useKeyboard:!1,showScrollbar:!1,direction:"horizontal",useNative:!1,bounceEnabled:!1,onScroll:n.proxy(function(n){this._dateTableScrollable.scrollTo({left:n.scrollOffset.left})},this)})},_createSidebarScrollable:function(){var t=n("<div />").addClass(ii).appendTo(this.element());this._sidebarScrollable=this._createComponent(t,"dxScrollable",{useKeyboard:!1,showScrollbar:!1,direction:"vertical",useNative:!1,bounceEnabled:!1,onScroll:n.proxy(function(n){this._dateTableScrollable.scrollTo({top:n.scrollOffset.top})},this)})},_visibilityChanged:function(n){n&&this.option("horizontalScrollingEnabled")&&this._setTablesWidth()},_setTablesWidth:function(){var i=75,t=this._getWorkSpaceMinWidth(),r=this._$headerPanel.find("tr").last().find("th"),n=i*r.length;n<t&&(n=t),this._$headerPanel.width(n),this._$dateTable.width(n),this._$allDayTable.width(n)},_getWorkSpaceMinWidth:function(){var n=this._getWorkSpaceWidth(),t=this.element().outerWidth()-this.getTimePanelWidth();return n<t&&(n=t),n},_dimensionChanged:function(){this.option("horizontalScrollingEnabled")&&this._setTablesWidth()},_getElementClass:n.noop,_getRowCount:n.noop,_getCellCount:n.noop,_render:function(){this.callBase(),this._toggleGroupedClass(),this._renderView(),this._attachEvents()},_toggleGroupedClass:function(){this.element().toggleClass(g,this.option("groups").length>0)},_renderView:function(){this._setFirstViewDate(),this._renderGroupHeader(),this._renderDateHeader(),this._renderAllDayPanel(),this._renderTimePanel(),this._renderDateTable()},_setFirstViewDate:function(){this._firstViewDate=i.getFirstWeekDate(this.option("currentDate"),this._firstDayOfWeek()),u.isDefined(this.option("startDayHour"))&&this._firstViewDate.setHours(this.option("startDayHour"))},_firstDayOfWeek:function(){return this.option("firstDayOfWeek")},_attachEvents:function(){var t=this,r=this._createAction(function(n){t._pointerDownHandler(n.jQueryEvent)}),i;this._createCellClickAction(),i="."+h+",."+c;this.element().off(y).off(b).on(y,function(n){if(o.isMouseEvent(n)&&n.which>1){n.preventDefault();return}r({jQueryEvent:n})}).on(b,i,function(i){var r=n(i.target);t._cellClickAction({jQueryEvent:i,cellElement:r,cellData:t.getCellData(r)})})},_createCellClickAction:function(){var n=this;this._cellClickAction=this._createActionByOption("onCellClick",{afterExecute:function(t){n._clickHandler(t.args[0].jQueryEvent)}})},_clickHandler:function(t){var i=n(t.target);this._showPopup&&this._hasFocusClass(i)&&(delete this._showPopup,this._showAddAppointmentPopup(i))},_pointerDownHandler:function(t){var i=n(t.target);if(!i.hasClass(h)&&!i.hasClass(c)){this._isCellClick=!1;return}this._isCellClick=!0,this._hasFocusClass(i)?this._showPopup=!0:this._setFocusedCell(i)},_showAddAppointmentPopup:function(t){var i=this.getCellData(t),r=n.extend(i,i.groups);delete r.groups,this.notifyObserver("showAddAppointmentPopup",r)},_getGroupHeaderContainer:function(){return this._$thead},_getDateHeaderContainer:function(){return this._$thead},_renderGroupHeader:function(){var t=this._getGroupHeaderContainer(),i=this._getGroupCount(),n;i&&(n=this._makeGroupRows(this.option("groups")),this._attachGroupCountAttr(n.length),t.append(n))},_attachGroupCountAttr:function(n){this.element().attr("dx-group-row-count",n)},_makeGroupRows:function(t){for(var f=1,e=t.length,l=this._getCellCount()||1,r=[],h,c,u,o,s,i=0;i<e;i++)i>0&&(f=t[i-1].items.length*f),h=this._makeGroupRowCells(t[i].items,f),r.push(n("<tr>").addClass(wt).append(h));for(c=r[e-1].find("th").length,u=0;u<e;u++)o=r[u].find("th"),s=c/o.length*l,s>1&&o.attr("colspan",s);return r},_makeGroupRowCells:function(t,i){for(var f=[],e=t.length,r,u=0;u<i;u++)for(r=0;r<e;r++)f.push(n("<th>").addClass(bt).text(t[r].text));return f},_renderDateHeader:function(){for(var e=this._getDateHeaderContainer(),i=n("<tr>").addClass(pt),o=this._getCellCount(),s=this._calculateHeaderCellRepeatCount(),t,u,f,r=0;r<s;r++)for(t=0;t<o;t++)u=this._getHeaderText(t),f=n("<th>").text(u).addClass(yt).attr("title",u),i.append(f);return e.append(i),i},_calculateHeaderCellRepeatCount:function(){return this._getGroupCount()||1},_renderAllDayPanel:function(){var t=this._getCellCount()*(this._getGroupCount()||1);this._renderTableBody({container:this._$allDayTable,rowCount:1,cellCount:t,cellClass:c,rowClass:ct,dataGenerator:n.proxy(this._setAllDayCellData,this)}),this._toggleAllDayVisibility()},_setAllDayCellData:function(n,t,r){var o=this._getDateByCellIndexes(t,r),e,u,f;for(i.correctDateWithUnitBeginning(o,"day"),e={startDate:o,endDate:new Date(o.getTime()+864e5),allDay:!0},u=this._getCellGroups(this._getGroupIndex(t,r)),u.length&&(e.groups={}),f=0;f<u.length;f++)e.groups[u[f].name]=u[f].id;n.data(a,e)},_toggleAllDayVisibility:function(){var n=this.option("showAllDayPanel");this._$allDayPanel.toggle(n),this._$allDayTitle.toggleClass(ht,!n),this.element().toggleClass(lt,n),this._changeAllDayVisibility()},_changeAllDayVisibility:function(){this.element().toggleClass(at,!this.option("allDayExpanded")&&this.option("showAllDayPanel"))},_renderTimePanel:function(){var t=.5*this._getCellCountInDay();this._renderTableBody({container:this._$timePanel,rowCount:t,cellCount:1,cellClass:it,rowClass:rt,dataGenerator:n.proxy(this._setTimePanelText,this)})},_getCellCountInDay:function(){return Math.ceil(this._calculateDayDuration()/this.option("hoursInterval"))},_calculateDayDuration:function(){return this.option("endDayHour")-this.option("startDayHour")},_setTimePanelText:function(n,t){n.text(this._getTimeText(t))},_getTimeText:function(n){var t=this.option("startDayHour"),i=72e5*this.option("hoursInterval"),r=new Date(+new Date(1970,0)+i*n+t*36e5);return Globalize.format(r,"t")},_renderDateTable:function(){var t=this._getGroupCount()||1;this._renderTableBody({container:this._$dateTable,rowCount:this._getTotalRowCount(t),cellCount:this._getTotalCellCount(t),cellClass:h,rowClass:dt,dataGenerator:n.proxy(this._setCellData,this)}),this._attachTablesEvents()},_getTotalCellCount:function(n){return this._getCellCount()*n},_getTotalRowCount:function(){return this._getRowCount()},_setCellData:function(n,t,i){var f=this._getDateByCellIndexes(t,i),o=this._calculateEndDate(f),e={startDate:f,endDate:o,allDay:this._getTableAllDay()},r,u;for(n.toggleClass(gt,this._isCurrentDate(f)).toggleClass(ni,this._isOtherMonth(f)),r=this._getCellGroups(this._getGroupIndex(t,i)),r.length&&(e.groups={}),u=0;u<r.length;u++)e.groups[r[u].name]=r[u].id;n.data(a,e)},_getGroupIndex:function(n,t){return Math.floor(t/this._getCellCount())},_getTableAllDay:function(){return!1},_isCurrentDate:function(n){var t=new Date;return i.sameMonthAndYear(n,t)&&n.getDate()===t.getDate()},_isOtherMonth:function(n){return n.getMonth()!==this.option("currentDate").getMonth()},_calculateEndDate:function(n){return new Date(n.getTime()+this._getInterval())},_getGroupCount:function(){for(var t=this.option("groups"),i=0,n=0,r=t.length;n<r;n++)n?i*=t[n].items.length:i=t[n].items.length;return i},_getPathToLeaf:function(n){function t(n,i){for(var u,r=0;r<n.length;r++){if(n[r].leafIndex===i)return n[r];if(u=t(n[r].children,i),u)return u}}function i(n,t){return t=t||[],t.push(n.value),n.parent&&i(n.parent,t),t}var r=this._createGroupTree(this.option("groups")[0],0),u=t(r,n);return i(u).reverse()},_getCellGroups:function(n){var r=[],i,u,t;if(this._getGroupCount()){if(i=this.option("groups"),n<0)return;for(u=this._getPathToLeaf(n),t=0;t<i.length;t++)r.push({name:i[t].name,id:u[t]})}return r},_attachTablesEvents:function(){this._attachTableEvents(this._getDateTable()),this._attachTableEvents(this._getAllDayTable())},_attachTableEvents:function(t){var i=this,r,u;t.off(p).off(w).on(p,"td",{itemSizeFunc:function(n){return r||(r=n.height()),u||(u=n.width()),{width:u,height:r}}},function(t){i._$currentTableTarget&&i._$currentTableTarget.removeClass(l),i._$currentTableTarget=n(t.target),i._$currentTableTarget.addClass(l)}).on(w,"td",function(t){n(t.target).removeClass(l),r=0,u=0})},_getDateTables:function(){return this._$dateTable.add(this._$allDayTable)},_getDateTable:function(){return this._$dateTable},_getAllDayTable:function(){return this._$allDayTable},_getInterval:function(){return this.option("hoursInterval")*36e5},_getHeaderText:function(n){return Globalize.format(this._getDateByIndex(n),this._getFormat())},_getDateByIndex:v,_getFormat:v,_getCellText:function(){return""},_calculateCellIndex:function(n,t){t=t%this._getCellCount();var i=this._getVirtualSlotCount();return(this._getRowCount()+i)*t+n},_getVirtualSlotCount:function(){return this.option("startDayHour")/this.option("hoursInterval")+this._getEndDayHours()/this.option("hoursInterval")},_getEndDayHours:function(){return 24-this.option("endDayHour")},_getEndDayMilliseconds:function(){return this._getEndDayHours()*36e5},_renderTableBody:function(t){for(var e=[],u,r,f,i=0;i<t.rowCount;i++){for(u=n("<tr>"),t.rowClass&&u.addClass(t.rowClass),r=0;r<t.cellCount;r++)f=n("<td>").text(this._getCellText(i,r)),t.cellClass&&f.addClass(t.cellClass),n.isFunction(t.dataGenerator)&&t.dataGenerator(f,i,r),u.append(f);e.push(u)}t.container.append(n("<tbody>").append(e))},_cleanView:function(){this._$thead.empty(),this._$dateTable.empty(),this._$timePanel.empty(),this._$allDayTable.empty()},getWorkArea:function(){return this._dateTableScrollable.content()},getScrollable:function(){return this._dateTableScrollable},getScrollableScrollTop:function(){return this._dateTableScrollable.scrollTop()},getScrollableScrollLeft:function(){return this._dateTableScrollable.scrollLeft()},getScrollableContainer:function(){return this._dateTableScrollable._container()},getHeaderPanelHeight:function(){return this._$headerPanel.outerHeight(!0)},getTimePanelWidth:function(){return this._$timePanel.outerWidth()},_getCellCoordinatesByIndex:function(n){var t=Math.floor(n/this._getRowCount()),i=n-this._getRowCount()*t;return{cellIndex:t,rowIndex:i}},_createGroupTree:function(n,t){function r(n,t,u,f){var o,e,s;for(u=u||[],o=0;o<n.items.length;o++)e={name:n.name,value:n.items[o].id,children:[],parent:f?f:null},u.push(e),s=t+1,this.option("groups")[s]&&r.call(this,this.option("groups")[s],s,e.children,e),e.children.length||(e.leafIndex=i,i++);return u}var i=0;return r.call(this,n,t)},_hasGroupItem:function(t,i,r){var u=t[i];return u&&n.inArray(r,u)>-1?!0:!1},_grep:function(n,t,i){i=i||[];for(var r=0;r<n.length;r++)this._hasGroupItem(t,n[r].name,n[r].value)&&(u.isDefined(n[r].leafIndex)&&i.push(n[r].leafIndex),n[r].children&&this._grep(n[r].children,t,i));return i},_getDateByCellIndexes:function(n,t){var i=this._getInterval()*this._calculateCellIndex(n,t);return new Date(this.getFirstViewDate().getTime()+i)},_getCellTimeOffset:function(n){var t=this._getInterval(),i=n%t;return i?i/t:0},_getIntervalBetween:function(n,t,i){var e=this.option("startDayHour"),u=t.getTime(),r,f;return i&&(u=u-e*36e5),r=n.getTime()-u,f=Math.floor(r/864e5),i||(r=r-f*e*36e5-f*this._getEndDayMilliseconds()),r},_getGroupIndexes:function(n){var t=[],i;return n&&this.option("groups").length&&(i=this._createGroupTree(this.option("groups")[0],0),t=this._grep(i,n)),t},_updateIndex:function(n){return n*this._getRowCount()},_getDroppableCell:function(){return this._getDateTables().find("."+l)},_getWorkSpaceWidth:function(){return this.option("horizontalScrollingEnabled")?this._$dateTable.outerWidth():this.element().outerWidth()-this.getTimePanelWidth()},_getCellPositionByIndex:function(n,t,i){var r=this._getCellCoordinatesByIndex(n),u=this._getCellByCoordinates(r,t);return this._getCellPosition(u,i)},_getCellPosition:function(n,t){var r=this.option("rtlEnabled"),i=n.position();return i.top+=n.height()*this._getCellTimeOffset(t),r&&(i.left+=n.outerWidth()),i},_getCellByCoordinates:function(n,t){return this._$dateTable.find("tr").eq(n.rowIndex).find("td").eq(n.cellIndex+t*this._getCellCount())},_getCells:function(n){var t=n?c:h;return this.element().find("."+t)},_getScrollCoordinates:function(n,t){var i=new Date(this.option("currentDate")),r=this.option("startDayHour"),u=this.option("endDayHour");return n<r&&(n=r),n>=u&&(n=u-1),i.setHours(n),i.setMinutes(t),this.getCoordinatesByDate(i)},supportAllDayRow:function(){return!0},getCellData:function(t){return n.extend(!0,{},t.data(a))},getCoordinatesByDate:function(n,t,i){var f=i?864e5:this._getInterval(),u=this._getIntervalBetween(n,this.getFirstViewDate(),i),r;return t=t||0,r=Math.floor(u/f),i&&(r=this._updateIndex(r)),r<0&&(r=0),this._getCellPositionByIndex(r,t,u)},getCoordinatesByDateInGroup:function(n,t,i){var u=this._getGroupIndexes(t),f=[],r;if(u.length)for(r=0;r<u.length;r++)f.push(this.getCoordinatesByDate(n,u[r],i));else f.push(this.getCoordinatesByDate(n,0,i));return f},getDroppableCellIndex:function(){var n=this._getDroppableCell(),t=n.parent(),i=t.index();return i*t.find("td").length+n.index()},getDataByDroppableCell:function(){var n=this.getCellData(this._getDroppableCell());return{date:n.startDate,allDay:n.allDay,groups:n.groups}},getDateRange:function(){return[this.getFirstViewDate(),this.getLastViewDate()]},getCellWidth:function(){return this._getCells().first().outerWidth()},getCellHeight:function(){return this._getCells().first().outerHeight()},getAllDayHeight:function(){return this.option("showAllDayPanel")?this._getCells(!0).first().outerHeight():0},getMaxAllowedPosition:function(){var t=[],i=this.option("rtlEnabled");return this._$dateTable.find("tr").first().find("td:nth-child("+this._getCellCount()+"n)").each(function(r,u){var f=n(u).position().left;i||(f+=n(u).outerWidth()),t.push(Math.floor(f))}),t},getFixedContainer:function(){return this._$fixedContainer},getAllDayContainer:function(){return this._$allDayContainer},getCellIndexByCoordinates:function(n,t){var i=this._getTotalCellCount(this._getGroupCount()||1),u=this.getTimePanelWidth(),f=Math.floor(this._getWorkSpaceWidth()/i),e=this.option("rtlEnabled")||this.option("horizontalScrollingEnabled")?0:u,o=Math.floor(n.top/(t?this.getAllDayHeight():this.getCellHeight())),r=Math.floor((n.left+5-e)/f);return this.option("rtlEnabled")&&(r=i-r-1),i*o+r},getFirstViewDate:function(){return this._firstViewDate},getLastViewDate:function(){var n=this._getDateByCellIndexes(this._getRowCount()-1,this._getCellCount()-1);return new Date(n.getTime()+this._getInterval()-6e4)},getGroupBounds:function(n){var s=this.getCellIndexByCoordinates(n),t=this._getCellCount(),h=Math.floor(s/t),u=this._getCells(),i=this.getCellWidth(),f=h*t,e=u.eq(f).offset().left,o=u.eq(f+t-1).offset().left+i,r={left:e,right:o};return this.option("rtlEnabled")&&(r.left=o-i,r.right=e+i),r},getCellDataByCoordinates:function(n,t){var i=this._getCells(t),r=this.getCellIndexByCoordinates(n,t),u=i.eq(r);return this.getCellData(u)},getVisibleBounds:function(){var n={},u=this.getScrollable().element(),i=this.getCellHeight(),t=this.getScrollableScrollTop()/i,r=t+u.height()/i;return n.top={hours:Math.floor(t/2)+this.option("startDayHour"),minutes:t%2?30:0},n.bottom={hours:Math.floor(r/2)+this.option("startDayHour"),minutes:Math.floor(r)%2?30:0},n},updateScrollPosition:function(n){var r=this.getVisibleBounds(),t=n.getHours(),i=n.getMinutes();this.needUpdateScrollPosition(t,i,r)&&this.scrollToTime(t,i)},needUpdateScrollPosition:function(n,t,i){var r=!1;return(n<i.top.hours||n>i.bottom.hours)&&(r=!0),n===i.top.hours&&t<i.top.minutes&&(r=!0),n===i.bottom.hours&&t>i.top.minutes&&(r=!0),r},getGroupWidth:function(n){var t=this._getCellCount()*this.getCellWidth(),i=this.getMaxAllowedPosition(),r=i[n];return i.length&&r&&(t=this.option("rtlEnabled")?r-i[n+1]:n===0?r:r-i[n-1]),t},scrollToTime:function(n,t){var r=this._getScrollCoordinates(n,t),i=this.getScrollable();i.scrollBy(r.top-i.scrollTop())}}).include(e);return f("dxSchedulerWorkSpace",{},k),k}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpace"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpaceDay",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.workSpace","/utils/utils.common"],function(n,t,i,r){var f="dx-scheduler-work-space-day",u=i.inherit({_getElementClass:function(){return f},_getRowCount:function(){var n=this._calculateDayDuration();return n/this.option("hoursInterval")},_getCellCount:function(){return 1},_setFirstViewDate:function(){this._firstViewDate=this.option("currentDate"),r.isDefined(this.option("startDayHour"))&&this._firstViewDate.setHours(this.option("startDayHour"))},_getDateByIndex:function(){return this._firstViewDate},_getFormat:function(){return"D"},_renderDateHeader:n.noop});return t("dxSchedulerWorkSpaceDay",{},u),u}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpaceDay"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpaceWeek",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.workSpace"],function(n,t,i){var u="dx-scheduler-work-space-week",r=i.inherit({_getElementClass:function(){return u},_getRowCount:function(){var n=this._calculateDayDuration();return n/this.option("hoursInterval")},_getCellCount:function(){return 7},_getDateByIndex:function(n){var t=new Date(this._firstViewDate);return t.setDate(this._firstViewDate.getDate()+n),t},_getFormat:function(){return"ddd d"}});return t("dxSchedulerWorkSpaceWeek",{},r),r}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpaceWeek"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpaceWorkWeek",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.workSpaceWeek"],function(n,t,i){var f="dx-scheduler-work-space-work-week",r=0,u=i.inherit({_getElementClass:function(){return f},_getCellCount:function(){return 5},_firstDayOfWeek:function(){return this.option("firstDayOfWeek")||1},_getDateByIndex:function(n){var t=new Date(this._firstViewDate),i;return t.setDate(this._firstViewDate.getDate()+n+r),i=t.getDay(),i%6==0&&(r=Math.floor(i/6+1),t.setDate(t.getDate()+r)),t},_renderView:function(){r=0,this.callBase()}});return t("dxSchedulerWorkSpaceWorkWeek",{},u),u}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpaceWorkWeek"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.workSpaceMonth",["jquery","/utils/utils.date","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.workSpace"],function(n,t,i,r){var e="dx-scheduler-work-space-month",u=7,o=864e5,f=r.inherit({_getElementClass:function(){return e},_getRowCount:function(){return 6},_getCellCount:function(){return u},_getDateByIndex:function(n){var t=new Date(this._firstViewDate);return t.setDate(this._firstViewDate.getDate()+n),t},_getFormat:function(){return"ddd"},_calculateCellIndex:function(n,t){return t=t%this._getCellCount(),n*this._getCellCount()+t},_getInterval:function(){return o},_calculateEndDate:function(n){var t=new Date(n);return new Date(t.setHours(this.option("endDayHour")))},_getIntervalBetween:function(n,t){return n.getTime()-(t.getTime()-this.option("startDayHour")*36e5)},_getCellCoordinatesByIndex:function(n){var t=Math.floor(n/this._getCellCount()),i=n-this._getCellCount()*t;return{rowIndex:t,cellIndex:i}},_renderTimePanel:n.noop,_renderAllDayPanel:n.noop,_getTableAllDay:n.noop,_toggleAllDayVisibility:n.noop,_changeAllDayVisibility:n.noop,_getCellTimeOffset:function(){return 0},_setFirstViewDate:function(){var n=t.getFirstMonthDate(this.option("currentDate"));this._firstViewDate=t.getFirstWeekDate(n,this.option("firstDayOfWeek")),this.option("startDayHour")&&this._firstViewDate.setHours(this.option("startDayHour"))},_getDate:function(n,t){var i=new Date(this._firstViewDate);return i.setDate(i.getDate()+n*u+t),i},_getCellText:function(n,t){t=t%this._getCellCount();var i=this._getDate(n,t);return Globalize.format(i,"dd")},_updateIndex:function(n){return n},getTimePanelWidth:function(){return 0},getCoordinatesByDates:function(n,i){for(var u=[],r=new Date(n);r<=i;)u.push(this.getCoordinatesByDate(r)),r.setDate(r.getDate()+7),r=t.getFirstWeekDate(r,this.option("firstDayOfWeek"));return u},getCellCountToLastViewDate:function(n){var i=t.makeDate(n).getTime(),r=this.getLastViewDate().getTime(),u=this._calculateDayDuration()*36e5;return Math.ceil((r-i)/u)},supportAllDayRow:function(){return!1},scrollToTime:n.noop});return i("dxSchedulerWorkSpaceMonth",{},f),f}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.workSpaceMonth"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.timeline",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.workSpace"],function(n,t,i){var u="dx-scheduler-timeline",f="dx-scheduler-group-table",e="horizontal",r=i.inherit({_init:function(){this.callBase(),this.element().addClass(u),this._$sidebarTable=n("<table>").addClass(f)},_getRowCount:function(){return 1},_getCellCount:function(){return this._getCellCountInDay()},_getTotalCellCount:function(){return this._getCellCount()},_getTotalRowCount:function(n){return this._getRowCount()*n},_getDateByIndex:function(n){var t=new Date(this._firstViewDate);return t.setTime(this._firstViewDate.getTime()+this._calculateCellIndex(0,n)*this._getInterval()),t},_getFormat:function(){return"t"},_createWorkSpaceElements:function(){this._createWorkSpaceScrollableElements()},_createDateTableConfig:function(){var t=this,i=this.callBase(),r={direction:e,onScroll:function(n){t._headerScrollable.scrollTo({left:n.scrollOffset.left})}};return n.extend(i,r)},_renderTimePanel:n.noop,_renderAllDayPanel:n.noop,_getTableAllDay:function(){return!1},_toggleAllDayVisibility:n.noop,_changeAllDayVisibility:n.noop,_getCellPosition:function(n,t){var u=this.option("rtlEnabled"),i=n.position(),r=n.width()*this._getCellTimeOffset(t);return i.left+=u?n.outerWidth()-r:r,i},supportAllDayRow:function(){return!1},_getGroupHeaderContainer:function(){return this._$sidebarTable},_renderView:function(){this.callBase(),this._$sidebarTable.appendTo(this._sidebarScrollable.content())},_cleanView:function(){this.callBase(),this._$sidebarTable.empty()},_makeGroupRows:function(t){for(var f=1,r=[],h,o,s,u,a,v,i=0;i<t.length;i++)i>0&&(f=t[i-1].items.length*f),h=this._makeGroupRowCells(t[i].items,f),r.push(h);var e=[],c=r.length,l=r[c-1].length;for(i=0;i<l;i++)e.push(n("<tr>").addClass("dx-scheduler-group-row"));for(i=c-1;i>=0;i--)for(o=r[i].length,s=l/o,u=0;u<o;u++)a=u*s,v=e[a],v.prepend(r[i][u].attr("rowspan",s));return e},_attachGroupCountAttr:function(){this.element().attr("dx-group-column-count",this.option("groups").length)},_getCellCoordinatesByIndex:function(n){return{cellIndex:n%this._getCellCount(),rowIndex:0}},_getCellByCoordinates:function(n,t){return this._$dateTable.find("tr").eq(n.rowIndex+t).find("td").eq(n.cellIndex)},_calculateCellIndex:function(n,t){var i=Math.floor(t/this._getCellCountInDay()),r=this._getVirtualSlotCount();return t+i*r},_getGroupIndex:function(n){return n},_getWorkSpaceWidth:function(){return this._$dateTable.outerWidth(!0)},_calculateHeaderCellRepeatCount:function(){return 1},getAllDayContainer:function(){return null},getTimePanelWidth:function(){return 0},getVisibleBounds:function(){var n={},u=this.getScrollable().element(),i=this.getCellWidth(),t=this.getScrollableScrollLeft()/i,r=t+u.width()/i;return n.right={hours:Math.floor(t/2)+this.option("startDayHour"),minutes:t%2?30:0},n.left={hours:Math.floor(r/2)+this.option("startDayHour"),minutes:Math.floor(r)%2?30:0},n},needUpdateScrollPosition:function(n,t,i){var r=!1;return(n<i.right.hours||n>i.left.hours)&&(r=!0),n===i.right.hours&&t<i.right.minutes&&(r=!0),n===i.left.hours&&t>i.right.minutes&&(r=!0),r},scrollToTime:function(n,t){var r=this._getScrollCoordinates(n,t),i=this.getScrollable();i.scrollBy({left:r.left-i.scrollLeft(),top:0})}});return t("dxSchedulerTimeline",{},r),r}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.timeline"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.timelineDay",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.timeline","/utils/utils.common"],function(n,t,i,r){var f="dx-scheduler-timeline-day",u=i.inherit({_getElementClass:function(){return f},_setFirstViewDate:function(){this._firstViewDate=this.option("currentDate"),r.isDefined(this.option("startDayHour"))&&this._firstViewDate.setHours(this.option("startDayHour"))}});return t("dxSchedulerTimelineDay",{},u),u}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.timelineDay"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.timelineWeek",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.timeline"],function(n,t,i){var u="dx-scheduler-timeline-week",f="dx-scheduler-header-panel-cell",e="dx-scheduler-header-row",o=200,r=i.inherit({_getElementClass:function(){return u},_getCellCount:function(){return this.callBase()*this._getWeekDuration()},_renderDateHeader:function(){for(var h=this.callBase(),t=new Date(this._firstViewDate),r=[],u=this._getCellCountInDay(),c=u*o,s,i=0;i<this._getWeekDuration();i++)r.push(n("<th />").addClass(f).text(Globalize.format(t,"ddd d")).attr("colspan",u).width(c)),t.setDate(t.getDate()+1);s=n("<tr />").addClass(e).append(r),h.before(s)},_getWeekDuration:function(){return 7}});return t("dxSchedulerTimelineWeek",{},r),r}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.timelineWeek"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.timelineWorkWeek",["jquery","/componentRegistrator","/ui/widgets/scheduler/ui.scheduler.timelineWeek"],function(n,t,i){var u="dx-scheduler-timeline-work-week",r=i.inherit({_getElementClass:function(){return u},_getWeekDuration:function(){return 5}});return t("dxSchedulerTimelineWorkWeek",{},r),r}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.timelineWorkWeek"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.strategy.base",["jquery","/class","/ui/ui.errors","/utils/utils.date"],function(n,t,i,r){var u=t.abstract,f=20,e=15,o=3;return t.inherit({ctor:function(n){this.instance=n},getAppointmentDefaultSize:function(){return f},resizableConfig:u,getHorizontalResizableHandles:function(n){var t=this._isRtl();return n?n==="increase"?t?"right":"left":t?"left":"right":"right left"},getDeltaTime:u,getAppointmentGeometry:function(n){return this.applyCellBorder(n)},createTaskPositionMap:function(t){var f=t.length,i,r,u,e,o;if(f){for(this.instance.notifyObserver("getCellDimensions",{callback:n.proxy(function(n,t,i){this._defaultWidth=n,this._defaultHeight=t,this._allDayHeight=i},this)}),this.instance.notifyObserver("getMaxAllowedPosition",{callback:n.proxy(function(n){n&&(this._maxAllowedPosition=n)},this)}),i=[],r=0;r<f;r++)u=this._getItemPosition(t[r]),this._isRtl()&&(u=this._correctRtlCoordinates(u)),i.push(u);return e=this._getSortedPositions(i),o=this._getResultPositions(e),this._getExtendedPositionMap(i,o)}},applyCellBorder:function(n){var t=1;return n.left+=t,n.top+=t,n.width-=t,n.height-=t,n},_getDeltaWidth:function(n,t){var i=this._defaultWidth||this.getAppointmentDefaultSize(),r=t.width;return Math.round((n.width-r)/i)},_correctRtlCoordinates:function(n){var t=n[0].width||this._getAppointmentMaxWidth();return n[0].appointmentReduced||(n[0].left-=t),this._correctRtlCoordinatesParts(n,t),n},_correctRtlCoordinatesParts:n.noop,_getAppointmentMaxWidth:function(){return this._defaultWidth},_getItemPosition:function(t){for(var h=this.calculateAppointmentHeight(t),u=this.calculateAppointmentWidth(t),c=u,r=this._getAppointmentCoordinates(t),f=this.isAllDay(t),l=!1,e=[],o=[],s,i=0;i<r.length;i++)f&&(r[i].top=0),(this._needVerifyItemSize()||f)&&this._maxAllowedPosition&&(s=this._getCurrentMaxAllowedPosition(i,t),this.isAppointmentGreaterThan(s,{left:r[i].left,width:c})&&(l={appointmentPart:"head"},u=this._reduceMultiWeekAppointment(u,{left:r[i].left,right:s}),e=this._getMultiWeekAppointmentParts({sourceAppointmentWidth:c,reducedWidth:u,height:h},r[i],f,t.startDate,i),this._isRtl()&&(r[i].left=this._maxAllowedPosition[i]))),n.extend(r[i],{height:h,width:u,allDay:f,appointmentReduced:l}),e.length?(e.unshift(r[i]),o=n.merge(o,e)):o.push(r[i]);return o},_getAppointmentCoordinates:function(n){var i=r.makeDate(n.startDate),t=[{top:0,left:0}];return this.instance.notifyObserver("needCoordinates",{startDate:i,appointmentData:n,callback:function(n){t=n}}),t},_needVerifyItemSize:function(){return!1},_isRtl:function(){return this.instance.option("rtlEnabled")},_getCurrentMaxAllowedPosition:function(n,t){return this.instance.notifyObserver("getItemGroupIndexes",{item:t,callback:function(t){t.length&&(n=t[n])}}),Math.floor(this._maxAllowedPosition[n])},_getMultiWeekAppointmentParts:function(){return[]},_reduceMultiWeekAppointment:function(n,t){return n=this._isRtl()?Math.floor(t.left-t.right):t.right-Math.floor(t.left)},calculateAppointmentHeight:function(){return 0},calculateAppointmentWidth:function(){return 0},isAppointmentGreaterThan:function(n,t){return this._isRtl()?t.left-t.width<n:t.left+t.width>n},isAllDay:function(){return!1},_getSortedPositions:function(t){for(var f=[],u,o,i,r=0,e=t.length;r<e;r++)for(u=0,o=t[r].length;u<o;u++)i=t[r][u],f.push({i:r,j:u,top:i.top,left:i.left,isStart:!0,allDay:i.allDay},{i:r,j:u,top:i.top+i.height,left:i.left+i.width,isStart:!1,allDay:i.allDay});return f.sort(n.proxy(this._sortCondition,this)),f},_sortCondition:u,_rowCondition:function(n,t){var i=this._normalizeCondition(n.left,t.left),r=this._normalizeCondition(n.top,t.top);return i?i:r?r:n.isStart-t.isStart},_columnCondition:function(n,t){var i=this._normalizeCondition(n.left,t.left),r=this._normalizeCondition(n.top,t.top);return r?r:i?i:n.isStart-t.isStart},_normalizeCondition:function(n,t){var i=n-t;return Math.abs(i)>1.001?i:0},_getResultPositions:function(n){for(var r=[],t=[],a=[],e=[],o=0,v=0,f,u,i,l,h,c,s=0;s<n.length;s++)if(u=n[s],u.isStart){for(f=undefined,i=0;i<t.length;i++)if(!t[i]){f=i,t[i]=!0;break}if(f===undefined)for(f=t.length,t.push(!0),i=0;i<r.length;i++)r[i].count++;r.push({index:f,count:t.length,i:u.i,j:u.j,sortedIndex:v++}),o<t.length&&(o=t.length)}else{if(l=this._findIndexByKey(r,"i","j",u.i,u.j),h=r[l],r.splice(l,1),t[h.index]=!1,e.push(h),!r.length){for(t=[],c=0;c<e.length;c++)e[c].count=o;e=[],o=0}a.push(h)}return a.sort(function(n,t){var r=n.j-t.j,i=n.i-t.i;return i?i:r})},_findIndexByKey:function(n,t,i,r,u){for(var e=0,f=0,o=n.length;f<o;f++)if(n[f][t]===r&&n[f][i]===u){e=f;break}return e},_getExtendedPositionMap:function(n,t){for(var u=0,r,e,i=0,f=n.length;i<f;i++)for(r=0,e=n[i].length;r<e;r++)n[i][r].index=t[u].index,n[i][r].sortedIndex=t[u].sortedIndex,n[i][r].count=t[u++].count,n[i][r].groupIndex=n[i][r].top+"-"+n[i][r].left;return n},_startDate:function(n,t){var r=this.instance._getStartDate(n,t);if(isNaN(r.getTime()))throw i.Error("E1032",n.text);return r},_endDate:function(n){var t=this.instance._getEndDate(n),i=this._startDate(n,!0),r=this._startDate(n),u;return(!t||i>=t)&&(t=new Date(i.getTime()+this.instance.option("appointmentDurationInMinutes")*6e4),n.endDate=t),r>=t&&(u=t.getTime()-i.getTime(),t=new Date(r.getTime()+u)),t},_getMaxNeighborAppointmentCount:function(){var n=this.getCompactAppointmentDefaultSize()+this.getCompactAppointmentDefaultOffset();return Math.floor(this.getCompactAppointmentGroupMaxWidth()/n)},_markAppointmentAsVirtual:function(n,t){var i=2;n.count-i>this._getMaxNeighborAppointmentCount()&&(n.virtual={top:n.top,left:n.left,groupIndex:n.groupIndex,isAllDay:t})},getCompactAppointmentGroupMaxWidth:function(){var n=75;return n*this.getDefaultCellWidth()/100},getDefaultCellWidth:function(){return this._defaultWidth},getCompactAppointmentDefaultSize:function(){return e},getCompactAppointmentDefaultOffset:function(){return o}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontal",["jquery","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.base"],function(n,t){var i=100,r=20;return t.inherit({resizableConfig:function(n,t){return{minWidth:this._defaultWidth,minHeight:0,step:this._defaultWidth,handles:this.getHorizontalResizableHandles(t)}},_needVerifyItemSize:function(){return!0},calculateAppointmentWidth:function(n){var u=this._defaultWidth||this.getAppointmentDefaultSize(),t=0,i,r;return n.allDay?t=this.instance.option("dayDuration")*60/this.instance.option("appointmentDurationInMinutes"):(i=this._startDate(n),r=this._endDate(n),t=(r.getTime()-i.getTime())/(this.instance.option("appointmentDurationInMinutes")*6e4)),t*u},getAppointmentGeometry:function(n){var t=this._customizeAppointmentGeometry(n);return this.callBase(t)},_customizeAppointmentGeometry:function(n){var f=(this._defaultHeight||this.getAppointmentDefaultSize())-r,t=f/n.count,u;return t>i&&(t=i),u=n.top+n.index*t,{height:t,width:n.width,top:u,left:n.left}},_correctRtlCoordinatesParts:function(n,t){for(var i=1;i<n.length;i++)n[i].left-=t;return n},_sortCondition:function(n,t){return this._columnCondition(n,t)},_getMaxAppointmentWidth:function(n){var t;return this.instance.notifyObserver("getMaxAppointmentWidth",{date:n,callback:function(n){t=n}}),t},getDeltaTime:function(n,t){var i=this._getDeltaWidth(n,t);return this.instance.option("appointmentDurationInMinutes")*6e4*i},isAllDay:function(n){return n.allDay}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontalMonth",["jquery","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontal","/utils/utils.date"],function(n,t,i){var r=.6;return t.inherit({_skipResizingForReducedAppointments:function(n){var t=!0;return n.appointmentPart==="head"?t={skipDirection:"increase"}:n.appointmentPart==="tail"&&(t={skipDirection:"decrease"}),t},_getMultiWeekAppointmentParts:function(t,i,r,u,f){for(var a=t.sourceAppointmentWidth-t.reducedWidth,v=t.height,e=this._getFullWeekAppointmentWidth(f),p=this._getMaxAppointmentWidth(u),w=Math.floor(a/e),o=a%e,h=[],y=t.reducedWidth+o,c=i.top,s=this._calculateMultiWeekAppointmentLeftOffset(f),l=0;l<w;l++){if(y>p)break;c+=this._defaultHeight,h.push(n.extend(!0,{},i,{top:c,left:s,height:v,width:e,allDay:r,appointmentReduced:{appointmentPart:"body"}})),y+=e}return o&&(this._isRtl()&&(s=s+(e-o)),h.push({top:c+this._defaultHeight,left:s,height:v,width:o,allDay:r,appointmentReduced:{appointmentPart:"tail"}})),h},_calculateMultiWeekAppointmentLeftOffset:function(n){var t=0;return this._isRtl()&&(t=this._maxAllowedPosition[0]),n>0&&(t=this._maxAllowedPosition[n-1],this._isRtl()&&(t=this._maxAllowedPosition[n])),t},_correctRtlCoordinatesParts:n.noop,_getFullWeekAppointmentWidth:function(t){return this.instance.notifyObserver("getFullWeekAppointmentWidth",{groupIndex:t,callback:n.proxy(function(n){this._maxFullWeekAppointmentWidth=n},this)}),this._maxFullWeekAppointmentWidth},_customizeAppointmentGeometry:function(n){var e=this._defaultHeight||this.getAppointmentDefaultSize(),u=n.index,f=r*e/2,o=(1-r)*e+n.top+u*f,s=n.width,h=n.left,t,i;return u>1&&(t=this.getCompactAppointmentDefaultSize(),i=this.getCompactAppointmentDefaultOffset(),o=n.top+i,h=n.left+(u-2)*(t+i)+i,f=t,s=t,n.skipResizing=!0,this._markAppointmentAsVirtual(n)),{height:f,width:s,top:o,left:h}},getAppointmentGeometry:function(n){return n.appointmentReduced&&(n.skipResizing=this._skipResizingForReducedAppointments(n.appointmentReduced)),this.callBase(n)},calculateAppointmentWidth:function(n){var t=new Date(this._startDate(n)),f=this._endDate(n),e=this._defaultWidth||this.getAppointmentDefaultSize(),r,u;return i.correctDateWithUnitBeginning(t,"day"),r=(f.getTime()-t.getTime())/36e5,u=Math.ceil(r/24)*e,u},getDeltaTime:function(n,t){var i=this._getDeltaWidth(n,t);return 864e5*i},isAllDay:function(){return!1}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.strategy.vertical",["jquery","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.base","/utils/utils.date"],function(n,t,i){var r=15;return t.inherit({resizableConfig:function(n,t){return this.isAllDay(n)?{minWidth:this._defaultWidth,minHeight:0,step:this._defaultWidth,handles:this.getHorizontalResizableHandles(t)}:{minHeight:this._defaultHeight,step:this._defaultHeight,handles:"top bottom"}},getDeltaTime:function(n,t,i){var u=0,r;return this.isAllDay(i)?u=this._getDeltaWidth(n,t)*864e5:(r=n.height-t.height,r<0&&(r=this._correctOnePxGap(r)),u=6e4*r/this._defaultHeight*this.instance.option("appointmentDurationInMinutes")),u},getAppointmentGeometry:function(n){var t;return t=n.allDay?this._getAllDayAppointmentGeometry(n):this._getSimpleAppointmentGeometry(n),this.callBase(t)},_correctOnePxGap:function(n){return Math.abs(n)%this._defaultHeight&&n--,n},_getMinuteHeight:function(){return this._defaultHeight/this.instance.option("appointmentDurationInMinutes")},_getAllDayAppointmentGeometry:function(n){var s=this._allDayHeight||this.getAppointmentDefaultSize(),i=n.index,r=n.count,t=s/(r>3?3:r),e=n.width,u=n.top+i*t,o=n.left,f=this.getCompactAppointmentDefaultSize();return this.instance.option("allowResize")&&this.instance.option("allowAllDayResize")||(n.skipResizing=!0),r>3&&(i>1?(u=n.top,o=n.left+(i-2)*f,t=f,e=f,n.skipResizing=!0,this._markAppointmentAsVirtual(n,!0)):u+=t),{height:t,width:e,top:u,left:o}},_getSimpleAppointmentGeometry:function(n){var t=this._getAppointmentMaxWidth()/n.count,i=n.height,r=n.top,u=n.left+n.index*t;return{height:i,width:t,top:r,left:u}},isAllDay:function(n){var t=!1;return this.instance.notifyObserver("appointmentTakesAllDay",{startDate:n.startDate,endDate:n.endDate,callback:function(n){t=n}}),n.allDay||t},_getAppointmentMaxWidth:function(){return this._defaultWidth-r||this.getAppointmentDefaultSize()},calculateAppointmentWidth:function(n){var r,u;if(!this.isAllDay(n))return 0;var t=new Date(this._startDate(n)),f=this._endDate(n),e=this._defaultWidth||this.getAppointmentDefaultSize();return i.correctDateWithUnitBeginning(t,"day"),r=(f.getTime()-t.getTime())/36e5,u=Math.ceil(r/24)*e,u},calculateAppointmentHeight:function(n){if(this.isAllDay(n))return 0;var r=this._startDate(n),u=this._endDate(n),f=(u.getTime()-r.getTime())/6e4,i=this.getAppointmentDefaultSize(),t=Math.round(f*this._getMinuteHeight());return t<i&&(t=i),t},_sortCondition:function(n,t){var i=n.allDay-t.allDay;return i?i:this._rowCondition(n,t)}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments",["jquery","/ui/uiNamespace","/utils/utils.translator","/utils/utils.array","/utils/utils.recurrence","/utils/utils.date","/utils/utils.common","/componentRegistrator","/ui/ui.tooltip","/ui/widgets/scheduler/ui.scheduler.publisherMixin","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.vertical","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontal","/ui/widgets/scheduler/ui.scheduler.appointments.strategy.horizontalMonth","/ui/events/ui.events.utils","/ui/events/pointer/ui.events.pointer"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y){var g=t.CollectionWidget,nt="dx-scheduler-scrollable-appointments",p="dx-scheduler-appointment",tt="dx-scheduler-all-day-appointment",it="dx-scheduler-appointment-recurrence",rt="dx-scheduler-appointment-empty",ut="dx-scheduler-appointment-reduced",ft="dx-scheduler-appointment-reduced-icon",et={head:"dx-scheduler-appointment-head",body:"dx-scheduler-appointment-body",tail:"dx-scheduler-appointment-tail"},w=v.addNamespace(y.enter,"dxSchedulerAppointment"),b=v.addNamespace(y.leave,"dxSchedulerAppointment"),k=v.addNamespace("dxdblclick","dxSchedulerAppointment"),ot=40,st={horizontal:l,horizontalMonth:a,vertical:c},d=g.inherit({_supportedKeys:function(){var i=this.callBase(),r=function(n){var r=this._getAccessAppointments(),u=r.filter(".dx-state-focused"),t=u.attr("sortedIndex"),f=r.length-1,i;(t>0&&n.shiftKey||t<f&&!n.shiftKey)&&(n.preventDefault(),n.shiftKey?t--:t++,i=this._getAppointmentByIndex(t),this._resetTabIndex(i),i.focus())};return n.extend(i,{escape:n.proxy(function(){this.moveAppointmentBack(),this._escPressed=!0},this),del:n.proxy(function(n){var t=this._getItemData(n.target);this.notifyObserver("deleteAppointment",{data:t,target:n.target}),this.notifyObserver("hideAppointmentTooltip")}),tab:r})},_getAppointmentByIndex:function(n){var t=this._getAccessAppointments();return t.filter("[sortedIndex ="+n+"]").eq(0)},_getAccessAppointments:function(){return this._itemElements().filter(":visible").not(".dx-state-disabled")},_resetTabIndex:function(n){this._focusTarget().attr("tabindex",-1),n.attr("tabindex",this.option("tabIndex"))},_moveFocus:n.noop,_focusTarget:function(){return this._itemElements()},_renderFocusTarget:function(){var n=this._getAppointmentByIndex(0);this._resetTabIndex(n)},_focusInHandler:function(t){this.callBase.apply(this,arguments),this._$currentAppointment=n(t.target),this.option("focusedElement",n(t.target))},_focusOutHandler:function(){var t=this._getAppointmentByIndex(0);this.option("focusedElement",t),this.callBase.apply(this,arguments)},_eventBindingTarget:function(){return this._itemContainer()},_getDefaultOptions:function(){return n.extend(this.callBase(),{noDataText:null,activeStateEnabled:!0,hoverStateEnabled:!0,tabIndex:0,appointmentDurationInMinutes:30,fixedContainer:null,allDayContainer:null,renderingStrategy:"vertical",allowDrag:!0,allowResize:!0,allowAllDayResize:!0,onAppointmentDblClick:null,dayDuration:24})},_optionChanged:function(t){switch(t.name){case"renderingStrategy":this._initRenderingStrategy();break;case"fixedContainer":case"allDayContainer":case"onAppointmentDblClick":break;case"allowDrag":case"allowResize":case"allowAllDayResize":case"dayDuration":case"appointmentDurationInMinutes":this.repaint();break;case"focusedElement":this._resetTabIndex(n(t.value)),this.callBase(t);break;default:this.callBase(t)}},_itemClass:function(){return p},_itemContainer:function(){var n=this.callBase(),t=n,i=this.option("allDayContainer");return i&&(t=n.add(i)),t},_cleanItemContainer:function(){this.callBase();var n=this.option("allDayContainer");n&&n.empty(),this._virtualAppointments={}},_clean:function(){this.callBase(),delete this._$currentAppointment,delete this._initialSize,delete this._initialCoordinates},_init:function(){this.callBase(),this._initRenderingStrategy(),this.element().addClass(nt),this._preventSingleAppointmentClick=!1},_initRenderingStrategy:function(){var n=st[this.option("renderingStrategy")];this._renderingStrategy=new n(this)},_executeItemRenderAction:function(n,t,i){var r=this._getItemRenderAction();r&&r({appointmentElement:i,appointmentData:t})},_getStartDate:function(n,t){var i=f.makeDate(n.startDate);return t||this.notifyObserver("updateAppointmentStartDate",{startDate:i,callback:function(n){i=n}}),i},_getEndDate:function(n){var t=n.endDate;return t?f.makeDate(t):t},_itemClickHandler:function(t){this.callBase(t,{},{afterExecute:n.proxy(function(n){this._processItemClick(n.args[0].jQueryEvent)},this)})},_processItemClick:function(t){var i=n(t.currentTarget),r=this._getItemData(i);if(i.is(".dx-state-disabled, .dx-state-disabled *")){t.stopPropagation();return}if(this._normalizeAppointmentDates(r),t.type==="keydown"||v.isFakeClickEvent(t)){this.notifyObserver("showEditAppointmentPopup",{data:r,target:i});return}this._appointmentClickTimeout=setTimeout(n.proxy(function(){this._preventSingleAppointmentClick||this.notifyObserver("showAppointmentTooltip",{data:r,target:i}),this._preventSingleAppointmentClick=!1},this),300)},_normalizeAppointmentDates:function(n){var t=f.makeDate(n.startDate),i=f.makeDate(n.endDate);n.startDate=t,n.endDate=i},_extendActionArgs:function(){var n=this.callBase.apply(this,arguments);return{appointmentData:n.itemData,appointmentElement:n.itemElement}},_render:function(){this.callBase.apply(this,arguments),this._attachAppointmentDblClick()},_attachAppointmentDblClick:function(){var n=this,t=n._itemSelector();this._itemContainer().off(k,t).on(k,t,function(t){n._itemJQueryEventHandler(t,"onAppointmentDblClick",{},{afterExecute:function(t){n._dblClickHandler(t.args[0].jQueryEvent)}})})},_dblClickHandler:function(t){var i=n(t.currentTarget),r=this._getItemData(i);clearTimeout(this._appointmentClickTimeout),this._preventSingleAppointmentClick=!0,this.notifyObserver("showEditAppointmentPopup",{data:r,target:i})},_renderItems:function(n){this._isContainerInvisible()||(this._positionMap=this._renderingStrategy.createTaskPositionMap(n),this.callBase(n))},_renderItem:function(n,t){var i=this.option("allDayContainer"),r=this.itemsContainer().not(i);this._renderingStrategy.isAllDay(t)&&i&&(r=i),this.callBase(n,t,r)},_toggleAllDayClass:function(n,t){n.toggleClass(tt,!!t)},_virtualAppointments:{},_postprocessRenderItem:function(t){var i=t.itemElement,r=t.itemData,f=this._positionMap[t.itemIndex],e;i.attr("title",r.text),this.setAria("role","button",i),this._toggleAllDayClass(i,this._renderingStrategy.isAllDay(r)),e=this._paintAppointment(i,0),u.getRecurrenceRule(r.recurrenceRule).isValid&&i.addClass(it),this._applyResourceDataAttr(i),this._renderAppointmentClones(i,f),this._renderAppointment(i,f[0]),f[0].virtual&&e.done(n.proxy(function(n){this._processVirtualAppointment(f[0],i,r,n)},this))},_renderAppointment:function(n,t){this._renderAppointmentGeometry(n,t),n.attr("sortedIndex",t.sortedIndex),t.sortedIndex===0&&this._resetTabIndex(n),this._renderDraggable(n),(!e.isDefined(t.skipResizing)||e.isObject(t.skipResizing))&&this._renderResizable(n,t),t.appointmentReduced&&this._renderReducedAppointment(n,t.appointmentReduced.appointmentPart)},_processVirtualAppointment:function(n,t,i,r){var u=n.virtual,f=u.groupIndex;e.isDefined(this._virtualAppointments[f])||(this._virtualAppointments[f]={coordinates:{top:u.top,left:u.left},items:[],isAllDay:u.isAllDay,color:r}),this._virtualAppointments[f].items.push(i),t.remove()},_renderContentImpl:function(){this.callBase(),this._renderDropDownAppointments()},_renderDropDownAppointments:function(){var t=this._renderingStrategy.getCompactAppointmentGroupMaxWidth(),i=0;this.option("rtlEnabled")&&(i=this._calculateDropDownButtonRtlOffset(t)),n.each(this._virtualAppointments,n.proxy(function(n){var u=this._virtualAppointments[n],e=u.items,f=u.coordinates,o=u.isAllDay?this.option("allDayContainer"):this.element(),s=f.left;this.notifyObserver("renderDropDownAppointments",{$container:o,coordinates:{top:f.top,left:s+i},items:e,color:u.color,itemTemplate:this.option("itemTemplate"),buttonWidth:t})},this))},_calculateDropDownButtonRtlOffset:function(n){return this._renderingStrategy.getDefaultCellWidth()-n},_renderAppointmentGeometry:function(n,t){var r=this._renderingStrategy.getAppointmentGeometry(t);this.option("allowResize")||(t.skipResizing=!0),i.move(n,{top:r.top,left:r.left}),n.css({width:r.width,height:r.height}),r.width<ot&&n.addClass(rt)},_isContainerInvisible:function(){var n=!1;return this.notifyObserver("checkContainerVisibility",{callback:function(t){n=t}}),n},_applyResourceDataAttr:function(t){this.notifyObserver("getResourcesFromItem",{itemData:this._getItemData(t),callback:function(i){i&&n.each(i,function(n,i){for(var u="data-"+n.toLowerCase()+"-",r=0;r<i.length;r++)t.attr(u+i[r],!0)})}})},_renderDraggable:function(t){if(this.option("allowDrag")){var r=this,f=r._getItemData(t),e=this._renderingStrategy.isAllDay(f),o=this.option("fixedContainer"),u;this.notifyObserver("getDraggableAppointmentArea",{callback:function(n){n&&(u=n)}}),this._createComponent(t,"dxDraggable",{onDragStart:function(u){r.notifyObserver("hideAppointmentTooltip"),r.notifyObserver("getDragEventTargetElements",{callback:function(n){n&&(u.jQueryEvent.targetElements=n)}}),o.append(t),r._$currentAppointment=n(u.element),r._initialSize={width:u.width,height:u.height},r._initialCoordinates=i.locate(u.element)},onDrag:function(n){var u=i.locate(n.element);r.notifyObserver("correctAppointmentCoordinates",{coordinates:u,allDay:e,callback:function(n){n&&(u=n)}}),i.move(t,u)},onDragEnd:function(n){if(r.element().append(t),this._escPressed){n.jQueryEvent.cancel=!0;return}r._dragEndHandler(n)},area:u,boundOffset:r._calculateBoundOffset()})}},_updateDraggablesBoundOffsets:function(){this.option("allowDrag")&&this.element().find("."+p).each(n.proxy(function(t,i){var r=n(i),u=this._getItemData(r);this._renderingStrategy.isAllDay(u)||r.dxDraggable("instance").option("boundOffset",this._calculateBoundOffset())},this))},_calculateBoundOffset:function(){var n=this.option("observer");return{top:n?-n.getWorkSpaceAllDayHeight():0}},_renderResizable:function(t,r){var u=this._getItemData(t),e=r.skipResizing?r.skipResizing.skipDirection:null,f=this._renderingStrategy.resizableConfig(u,e);n.extend(f,{area:this._calculateResizableArea(r,u),onResizeStart:n.proxy(function(t){this._$currentAppointment=n(t.element),this._initialSize={width:t.width,height:t.height},this._initialCoordinates=i.locate(t.element)},this),onResizeEnd:n.proxy(function(n){if(this._escPressed){n.jQueryEvent.cancel=!0;return}this._resizeEndHandler(n)},this)}),this._createComponent(t,"dxResizable",f)},_calculateResizableArea:function(n,t){var i=this.element().closest(".dx-scrollable-content"),r=this._renderingStrategy.isAllDay(t);return this.notifyObserver("getResizableAppointmentArea",{coordinates:{left:n.left,top:0},allDay:r,callback:function(n){n&&(i=n)}}),i},_paintAppointment:function(t,i){var r=n.Deferred();return this.notifyObserver("getAppointmentColor",{itemData:this._getItemData(t),resourceIndex:i,callback:function(n){n.done(function(n){n&&t.css("background-color",n),r.resolve(n)})}}),r.promise()},_renderReducedAppointment:function(n,t){n.toggleClass(ut,!0).toggleClass(et[t],!0),this._renderAppointmentReducedIcon(n)},_renderAppointmentReducedIcon:function(t){var i=n("<div>").addClass(ft).appendTo(t),r=this._getEndDate(this._getItemData(t));i.off(w).on(w,function(){s.show({target:i,content:Globalize.localize("dxScheduler-editorLabelEndDate")+": "+Globalize.format(r,"d MMMM yyyy")})}).off(b).on(b,function(){s.hide()})},_renderAppointmentClones:function(n,t){var e=t.length,s,h,c,u,f;if(this.notifyObserver("getGroupCount",{callback:function(n){h=n}}),c=e/h,e>1){var l=this._getItemData(n),o=this._getResourceForPainting(),a=r.wrapToArray(l[o]).length;for(u=e-1;u>0;u--)f=n.clone(!0),n.after(f),i.clearCache(f),this._renderAppointment(f,t[u]),o&&(s=this._paintClone(f,a,c,s,t[u])),t[u].virtual&&(o||this._processVirtualAppointment(t[u],f,l))}},_paintClone:function(t,i,r,u,f){return u||(u={processedChunksCount:0,currentResourceValueIndex:i-1}),this._paintAppointment(t,u.currentResourceValueIndex).done(n.proxy(function(n){f.virtual&&this._processVirtualAppointment(f,t,this._getItemData(t),n)},this)),u.processedChunksCount++,u.processedChunksCount===r&&(u.currentResourceValueIndex--,u.currentResourceValueIndex<0&&(u.currentResourceValueIndex=i-1),u.processedChunksCount=0),u},_getResourceForPainting:function(){var n;return this.notifyObserver("getResourceForPainting",{callback:function(t){t&&(n=t.field)}}),n},_getDateRange:function(n,t,i){var u=this._getItemData(n.element),f=this._renderingStrategy.getDeltaTime(n,this._initialSize,u),s=this.option("renderingStrategy"),r=!1,e,o;return r=s!=="vertical"||this._renderingStrategy.isAllDay(u)?this.option("rtlEnabled")?n.handles.right:n.handles.left:n.handles.top,e=r?t.getTime()-f:t.getTime(),o=r?i.getTime():i.getTime()+f,[e,o]},_resizeEndHandler:function(t){var i=this._getItemData(t.element),e=this._getStartDate(i),o=this._getEndDate(i),u=this._getDateRange(t,e,o),r={},f;r.startDate=new Date(u[0]),r.endDate=new Date(u[1]),f=n.extend({},i,r),this.notifyObserver("updateAppointmentAfterResize",{target:i,data:f,$appointment:t.element})},_dragEndHandler:function(n){var t=this._getItemData(n.element),i=this._initialCoordinates;this._normalizeAppointmentDates(t),this.notifyObserver("updateAppointmentAfterDrag",{data:t,$appointment:n.element,coordinates:i})},moveAppointmentBack:function(){var n=this._$currentAppointment,t=this._initialSize,r=this._initialCoordinates;n&&(r&&i.move(n,r),t&&(n.outerWidth(t.width),n.outerHeight(t.height)))},focus:function(){var n=this._$currentAppointment;n&&(this.option("focusedElement",n),this.option("focusedElement").focus())}}).include(h);return o("dxSchedulerAppointments",{},d),d}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler.appointments"]),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.appointments.dropDown",["jquery","/class","/utils/utils.translator","/utils/utils.common","/ui/widgets/ui.button"],function(n,t,i,r,u){var f="dx-scheduler-dropdown-appointments",e="dx-scheduler-dropdown-appointments-content",o="dx-scheduler-dropdown-appointment",s="dx-scheduler-dropdown-appointment-title",h="dx-scheduler-dropdown-appointment-date",c="dx-scheduler-dropdown-appointment-remove-button",l="dx-scheduler-dropdown-appointment-edit-button",a="dx-scheduler-dropdown-appointment-info-block",v="dx-scheduler-dropdown-appointment-buttons-block";return t.inherit({render:function(t,r){var o=t.coordinates,s=t.items,e;return this.instance=r,e=n("<div>").addClass(f).appendTo(t.$container),this.instance._createComponent(e,u,{template:this._createButtonTemplate(s.length),width:t.buttonWidth,onClick:n.proxy(function(){this._createDropDownMenu(e,s,t.itemTemplate,t.color,t.buttonWidth)},this)}),t.color&&e.css("background-color",t.color),this._applyInnerShadow(e,t.buttonWidth),i.move(e,{top:o.top,left:o.left}),e},repaintExisting:function(t){var i=["",f,"dx-dropdownmenu"].join(".");t.find(i).each(function(){n(this).dxDropDownMenu("instance").repaint()})},_createButtonTemplate:function(t){return n("<div />").html([n("<span />").text(t),n("<span />").text("...")]).addClass(e)},_applyInnerShadow:function(n){n.css("box-shadow","inset "+n.outerWidth()+"px 0 0 0 rgba(0, 0, 0, 0.3)")},_createDropDownMenu:function(t,i,r,u,f){t.data("dxDropDownMenu")||(r=n.proxy(function(n,t,i){this._createDropDownAppointmentTemplate(n,t,i,u)},this),this.instance._createComponent(t,"dxDropDownMenu",{buttonIcon:null,usePopover:!0,popupHeight:200,items:i,buttonTemplate:this._createButtonTemplate(i.length),buttonWidth:f,onItemClick:function(n){n.component.open()},activeStateEnabled:!1,focusStateEnabled:!1,itemTemplate:r}).open())},_createDropDownAppointmentTemplate:function(t,i,r,u){var c="",f=[],l="left",v,y,e;r.addClass(o),this.instance.option("rtlEnabled")&&(l="right"),u&&r.css("border-"+l+"-color",u),this.instance.fire("normalizeAppointmentDates",{appointmentData:t,callback:function(n){t=n}}),this.instance.fire("formatDates",{startDate:t.startDate,endDate:t.endDate,formatType:"DATETIME",callback:function(n){c=n}}),e=n("<div />").addClass(a),v=n("<div>").addClass(s).text(t.text),y=n("<div>").addClass(h).text(c),e.append([v,y]),f.push(e),f.push(this._createButtons(t)),r.append(f)},_createButtons:function(t){var i=this.instance.option("editing"),f=!1,e=!1;if(!i)return"";i===!0&&(f=!0,e=!0),r.isObject(i)&&(f=i.allowDeleting,e=i.allowUpdating);var o=n("<div />").addClass(v),s=n("<div>").addClass(c),h=n("<div>").addClass(l);return f&&(o.append(s),this.instance._createComponent(s,u,{icon:"trash",height:25,width:25,onClick:n.proxy(function(n){n.jQueryEvent.stopPropagation(),this.instance.deleteAppointment(t)},this)})),e&&(o.append(h),this.instance._createComponent(h,u,{icon:"edit",height:25,width:25,onClick:n.proxy(function(n){n.jQueryEvent.stopPropagation(),this.instance.fire("showEditAppointmentPopup",{data:t})},this)})),o}})}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler.subscribes",["jquery","/utils/utils.array","/utils/utils.recurrence","/utils/utils.date","/utils/utils.translator"],function(n,t,i,r,u){return{currentViewUpdated:function(n){this.option("currentView",n)},needCoordinates:function(n){var t=n.appointmentData,u=n.startDate,f=this._workSpace.getDateRange(),r=i.getDatesByRecurrence(t.recurrenceRule,u,f[0],f[1],t.recurrenceException),e,o;r.length||r.push(u),e=this._resourcesManager.getResourcesFromItem(t),o=this.appointmentTakesAllDay(t)&&this._workSpace.supportAllDayRow(),n.callback(this._getCoordinates(r,e,o))},showEditAppointmentPopup:function(t){var i=t.data,u=n(t.target),r=this._getSingleAppointmentData(i,u,t),f=this;this._checkRecurringAppointment(i,r,r.startDate,function(){f.showAppointmentPopup(i)},!1,!0)},showAppointmentTooltip:function(t){var i=t.data,r=n(t.target),u=this._getSingleAppointmentData(i,r,t);this.showAppointmentTooltip(i,u,t.target)},hideAppointmentTooltip:function(){this._hideTooltip()},showAddAppointmentPopup:function(n){this.showAppointmentPopup(n,!0)},deleteAppointment:function(t){var i=t.data,u=n(t.target),r=this._getSingleAppointmentData(i,u,t);this._checkRecurringAppointment(i,r,r.startDate,n.proxy(function(){this.deleteAppointment(i)},this),!0)},updateAppointmentAfterResize:function(t){var i=t.target,u=t.$appointment,r=this._getSingleAppointmentData(i,u,t);this._checkRecurringAppointment(i,r,r.startDate,n.proxy(function(){this._updateAppointment(i,t.data,function(){this._appointments.moveAppointmentBack()})},this))},updateAppointmentAfterDrag:function(t){var i=t.data,r=this._getUpdatedData(t),e=this._workSpace.getDroppableCellIndex(),o=this._workSpace.getCellIndexByCoordinates(t.coordinates);this.appointmentTakesAllDay(i)&&!r.allDay&&this.option("currentView")!=="month"&&(r.endDate=this._workSpace._calculateEndDate(r.startDate));var u=n.extend({},i,r),f=i.allDay||r.allDay,s=this.option("currentView")!=="month"&&f,h=this._workSpace.getCellDataByCoordinates(t.coordinates,s);e!==o||f?this._checkRecurringAppointment(i,u,h.startDate,n.proxy(function(){this._updateAppointment(i,u,function(){this._appointments.moveAppointmentBack()})},this)):this._appointments.moveAppointmentBack()},updateCurrentDate:function(n){this.option("currentDate",this._stripDateTime(r.makeDate(n)))},getAppointmentColor:function(i){var u=this._resourcesManager.getResourceForPainting(this.option("groups")),f=n.Deferred().resolve().promise(),r;if(u&&(r=u.field,i.itemData[r])){var s=t.wrapToArray(i.itemData[r]),e=i.resourceIndex,o=this.option("groups");o&&o.length||(e=0),f=this._resourcesManager.getResourceColor(r,s[e])}i.callback(f)},getResourceForPainting:function(n){n.callback(this._resourcesManager.getResourceForPainting(this.option("groups")))},getResourcesFromItem:function(n){n.callback(this._resourcesManager.getResourcesFromItem(n.itemData))},getCellDimensions:function(n){this._workSpace&&n.callback(this._workSpace.getCellWidth(),this._workSpace.getCellHeight(),this._workSpace.getAllDayHeight())},getMaxAllowedPosition:function(n){this._workSpace&&n.callback(this._workSpace.getMaxAllowedPosition())},getItemGroupIndexes:function(n){var t=this._resourcesManager.getResourcesFromItem(n.item),i=this._workSpace._getGroupIndexes(t);n.callback(i)},appointmentTakesAllDay:function(n){n.callback(this.appointmentTakesAllDay({startDate:n.startDate,endDate:n.endDate}))},checkContainerVisibility:function(n){n.callback(this.element().is(":hidden"))},getResizableAppointmentArea:function(n){var i,t;this.option("groups")&&this.option("groups").length&&(n.allDay||this.option("currentView")==="month")&&(t=this._workSpace.getGroupBounds(n.coordinates),i={left:t.left,right:t.right,top:0,bottom:0}),n.callback(i)},getDraggableAppointmentArea:function(n){n.callback(this.getWorkSpaceScrollableContainer())},getDragEventTargetElements:function(n){n.callback(this.element)},correctAppointmentCoordinates:function(n){var t,i=n.allDay,r=i?0:this.getWorkSpaceScrollableScrollTop(),u=this.getWorkSpaceHeaderPanelHeight(),f=this.getWorkSpaceScrollableScrollLeft(),e=this.getWorkSpaceDateTableOffset(),o=i?0:this.getWorkSpaceAllDayHeight();t={top:n.coordinates.top-r+o+u,left:n.coordinates.left-f-e},n.callback(t)},allDayPanelToggled:function(){this._appointments._updateDraggablesBoundOffsets()},normalizeAppointmentDates:function(n){var t=n.appointmentData,i=r.makeDate(t.startDate),u=r.makeDate(t.endDate);t.startDate=i,t.endDate=u,n.callback(t)},formatDates:function(n){var i=n.startDate,t=n.endDate,r=n.formatType,u={DATETIME:function(){var n="MMMM d h:mm tt",r=Globalize.format(i,n)+" - ",u=i.getDate()===t.getDate()?Globalize.format(t,"t"):Globalize.format(t,n);return r+u},TIME:function(){return Globalize.format(i,"t")+" - "+Globalize.format(t,"t")},DATE:function(){var n="d MMMM",r=Globalize.format(i,n),u=t.getTime()-i.getTime()>864e5,f=u||t.getDate()!==i.getDate()?" - "+Globalize.format(t,n):"";return r+f}};n.callback(u[r]())},getFullWeekAppointmentWidth:function(n){var t=n.groupIndex,i=this._workSpace.getGroupWidth(t);n.callback(i)},getMaxAppointmentWidth:function(n){var t=this._workSpace.getCellCountToLastViewDate(n.date);n.callback(t*this._workSpace.getCellWidth())},updateAppointmentStartDate:function(n){var t=this._workSpace.getFirstViewDate(),i=r.normalizeDate(n.startDate,t);n.callback(i)},renderDropDownAppointments:function(n){this._dropDownAppointments.render(n,this)},getGroupCount:function(n){var t=this._workSpace._getGroupCount();n.callback(t)},updateResizableArea:function(){var t=this.element().find(".dx-scheduler-appointment.dx-resizable"),i=n.grep(t,function(t){var r=n(t),i=r.dxResizable("instance"),u=i.option("area");return n.inArray(i.option("handles"),["right left","left right"])>-1&&n.isPlainObject(u)});n.each(i,n.proxy(function(t,i){var r=n(i),f=u.locate(r),e=this._appointments._getItemData(r),o=this._appointments._calculateResizableArea({left:f.left},e);r.dxResizable("instance").option("area",o)},this))},recurrenceEditorVisibylityChanged:function(n){this.recurrenceEditorVisibylityChanged(n.visible)}}}),DevExpress.define("/ui/widgets/scheduler/ui.scheduler",["jquery","/ui/uiNamespace","/utils/utils.translator","/ui/ui.errors","/ui/ui.dialog","/utils/utils.recurrence","/utils/utils.dom","/utils/utils.date","/utils/utils.common","/devices","/componentRegistrator","/ui/ui.widget","/ui/widgets/scheduler/ui.scheduler.subscribes","/ui/templates/ui.template.function","/ui/templates/ui.template.dynamic","/ui/templates/ui.template.move","/ui/widgets/scheduler/ui.scheduler.appointmentTooltip","/ui/widgets/scheduler/ui.scheduler.reccurenceEditor","/ui/widgets/scheduler/ui.scheduler.header","/ui/widgets/scheduler/ui.scheduler.workSpaceDay","/ui/widgets/scheduler/ui.scheduler.workSpaceWeek","/ui/widgets/scheduler/ui.scheduler.workSpaceWorkWeek","/ui/widgets/scheduler/ui.scheduler.workSpaceMonth","/ui/widgets/scheduler/ui.scheduler.timelineDay","/ui/widgets/scheduler/ui.scheduler.timelineWeek","/ui/widgets/scheduler/ui.scheduler.timelineWorkWeek","/ui/widgets/scheduler/ui.scheduler.resourceManager","/ui/widgets/scheduler/ui.scheduler.appointmentModel","/ui/widgets/scheduler/ui.scheduler.appointments","/ui/widgets/scheduler/ui.scheduler.appointments.dropDown","/ui/ui.dataHelper"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht){var vt="dx-scheduler",yt="dx-scheduler-readonly",pt="dx-scheduler-appointment-popup",ct="dx-scheduler-recurrence-rule-item",wt="dx-scheduler-recurrence-rule-item-opened",bt=610,lt={day:{workSpace:d,renderingStrategy:"vertical"},week:{workSpace:g,renderingStrategy:"vertical"},workWeek:{workSpace:nt,renderingStrategy:"vertical"},month:{workSpace:tt,renderingStrategy:"horizontalMonth"},timelineDay:{workSpace:it,renderingStrategy:"horizontal"},timelineWeek:{workSpace:rt,renderingStrategy:"horizontal"},timelineWorkWeek:{workSpace:ut,renderingStrategy:"horizontal"}},at=l.inherit({_stripDateTime:function(n){return o.correctDateWithUnitBeginning(n,"day"),n},_getDefaultOptions:function(){return n.extend(this.callBase(),{views:["day","week"],currentView:"day",currentDate:this._stripDateTime(new Date),min:undefined,max:undefined,firstDayOfWeek:undefined,groups:[],resources:[],dataSource:null,appointmentTemplate:"item",startDayHour:0,endDayHour:24,editing:{allowAdding:!0,allowDeleting:!0,allowDragging:!0,allowResizing:!0,allowUpdating:!0},showAllDayPanel:!0,recurrenceEditMode:"dialog",cellDuration:30,onAppointmentRendered:null,onAppointmentClick:null,onAppointmentDblClick:null,onCellClick:null,onAppointmentAdding:null,onAppointmentAdded:null,onAppointmentUpdating:null,onAppointmentUpdated:null,onAppointmentDeleting:null,onAppointmentDeleted:null,onAppointmentFormCreated:null,appointmentTooltipTemplate:"appointmentTooltip",appointmentPopupTemplate:"appointmentPopup",horizontalScrollingEnabled:!1,useDropDownViewSwitcher:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return h.real().generic&&!h.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!h.current().generic},options:{useDropDownViewSwitcher:!0,editing:{allowDragging:!1,allowResizing:!1}}}])},_optionChanged:function(t){var i=t.value,r=t.name,u;switch(t.name){case"firstDayOfWeek":this._workSpace.option(r,i),this._header.option(r,i);break;case"currentDate":i=o.makeDate(i),i=this._stripDateTime(i),this._workSpace.option(r,i),this._header.option(r,i),this._appointments.option("dataSource",[]),this._filterAppointmentsByDate(),this._reloadDataSource().done(n.proxy(function(){this._workSpace.option("allDayExpanded",this._isAllDayExpanded()),this._appointments.option("dataSource",this._dataSource)},this));break;case"dataSource":this._initDataSource(),this._appointmentModel.setDataSource(this._dataSource),this._loadResources().done(n.proxy(function(n){this._filterAppointmentsByDateAndResources(n),this._workSpace.option("showAllDayPanel",this.option("showAllDayPanel")),this._workSpace.option("allDayExpanded",this._isAllDayExpanded()),this._appointments.option(r,this._dataSource)},this));break;case"min":case"max":this._header.option(r,o.makeDate(i)),this._workSpace.option(r,o.makeDate(i));break;case"views":case"useDropDownViewSwitcher":this._header.option(r,i);break;case"currentView":this._appointments.option("dataSource",[]),this._header.option(r,i),this._loadResources().done(n.proxy(function(t){this._refreshWorkSpace(t),this._filterAppointmentsByDateAndResources(t),this._reloadDataSource().done(n.proxy(function(){this._workSpace.option("allDayExpanded",this._isAllDayExpanded()),this._appointments.option("renderingStrategy",this._getAppointmentsRenderingStrategy()),this._appointments.option("allowAllDayResize",i!=="day"),this._appointments.option("dataSource",this._dataSource)},this))},this));break;case"appointmentTemplate":this._appointments.option("itemTemplate",i);break;case"groups":this._loadResources().done(n.proxy(function(n){this._workSpace.option(r,n),this._filterAppointmentsByDateAndResources(n),this._reloadDataSource()},this));break;case"resources":this._resourcesManager.setResources(i),this._loadResources().done(n.proxy(function(n){this._workSpace.option("groups",n),this._filterAppointmentsByDateAndResources(n),this._reloadDataSource()},this));break;case"startDayHour":case"endDayHour":this._appointments.option("dataSource",[]),this._workSpace.option(r,i),this._appointments.option("dayDuration",this._getDayDuration()),this._filterAppointmentsByDate(),this._reloadDataSource().done(n.proxy(function(){this._appointments.option("dataSource",this._dataSource)},this));break;case"onAppointmentAdding":case"onAppointmentAdded":case"onAppointmentUpdating":case"onAppointmentUpdated":case"onAppointmentDeleting":case"onAppointmentDeleted":case"onAppointmentFormCreated":this._actions[r]=this._createActionByOption(r);break;case"onAppointmentRendered":this._appointments.option("onItemRendered",this._getAppointmentRenderedAction());break;case"onAppointmentClick":this._appointments.option("onItemClick",this._createActionByOption(r));break;case"onAppointmentDblClick":this._appointments.option(r,this._createActionByOption(r));break;case"onCellClick":this._workSpace.option(r,i);break;case"horizontalScrollingEnabled":this._loadResources().done(n.proxy(function(n){this._refreshWorkSpace(n),this._appointments.repaint()},this));break;case"cellDuration":this._checkCellDuration(),this._workSpace.option("hoursInterval",i/60),this._appointments.option("appointmentDurationInMinutes",i);break;case"tabIndex":case"focusStateEnabled":this._header.option(r,i),this._workSpace.option(r,i),this._appointments.option(r,i),this.callBase(t);break;case"width":this._header.option(r,i),this.option("horizontalScrollingEnabled")&&this._workSpace.option("width",i),this.callBase(t),this._dimensionChanged();break;case"height":this.callBase(t),this._dimensionChanged();break;case"editing":this._initEditing(),u=this._editing,this._bringEditingModeToAppointments(u),this._appointmentForm&&this._appointmentForm.option("readOnly",this._isReadOnly()),this._hideTooltip();break;case"showAllDayPanel":this._loadResources().done(n.proxy(function(n){this._filterAppointmentsByDateAndResources(n),this._workSpace.option("allDayExpanded",i),this._workSpace.option(r,i),this._reloadDataSource()},this));break;case"appointmentTooltipTemplate":case"appointmentPopupTemplate":case"recurrenceEditMode":break;default:this.callBase(t)}},_bringEditingModeToAppointments:function(n){this._appointments.option({allowDrag:n.allowDragging,allowResize:n.allowResizing,allowAllDayResize:n.allowResizing&&this.option("currentView")!=="day"}),this._dropDownAppointments.repaintExisting(this.element())},_isAllDayExpanded:function(){return this.option("showAllDayPanel")&&this._hasAllDayAppointments()},_hasAllDayAppointments:function(){if(this._dataSource){var i=this,r=this._dataSource.items(),t=!1;return n.each(r,function(n,r){if(i.appointmentTakesAllDay(r))return t=!0,!1}),t}},_filterAppointmentsByDate:function(){var n=this._workSpace.getDateRange();this._appointmentModel.filterByDate(n[0],n[1],this.option("startDayHour"),this.option("endDayHour"),!this.option("showAllDayPanel"))},_filterAppointmentsByDateAndResources:function(n){var i=this._workSpace.getDateRange(),t=this;t._appointmentModel.filterByDateAndResources({min:i[0],max:i[1],resources:t._prepareResourcesForFilter(n),startDayHour:t.option("startDayHour"),endDayHour:t.option("endDayHour"),excludeAllDayAppointments:!t.option("showAllDayPanel")&&this._workSpace.supportAllDayRow()})},_prepareResourcesForFilter:function(t){return n.map(t,function(n){for(var i=n.items,r=[],t=0,u=i.length;t<u;t++)r.push(i[t].id);return{field:n.name,data:r}})},_loadResources:function(){var n=this.option("groups");return this._resourcesManager.getResourcesValueByFields(n)},_reloadDataSource:function(){return this._dataSource?this._dataSource.load():n.Deferred().resolve().promise()},_dimensionChanged:function(){this._appointments&&this._appointments.repaint()},_visibilityChanged:function(n){n&&this._dimensionChanged()},_dataSourceOptions:function(){return{paginate:!1}},_init:function(){this.callBase(),this._initDataSource(),this._proxiedCustomizeStoreLoadOptionsHandler=n.proxy(this._customizeStoreLoadOptionsHandler,this),this._customizeStoreLoadOptions(),this.element().addClass(vt),this._initEditing(),this._appointmentModel=new et(this._dataSource),this._resourcesManager=new ft(this.option("resources")),this._initActions(),this._dropDownAppointments=new st,this._subscribes=a,this._checkCellDuration()},_checkCellDuration:function(){n.inArray(this.option("cellDuration"),[5,10,15,20,30,60])<0&&r.log("W0007")},_initEditing:function(){var t=this.option("editing");this._editing={allowAdding:!!t,allowUpdating:!!t,allowDeleting:!!t,allowResizing:!!t,allowDragging:!!t},s.isObject(t)&&(this._editing=n.extend(this._editing,t)),this._editing.allowDragging=this._editing.allowDragging&&this._editing.allowUpdating,this._editing.allowResizing=this._editing.allowResizing&&this._editing.allowUpdating,this.element().toggleClass(yt,this._isReadOnly())},_isReadOnly:function(){var n=!0,t=this._editing,i;for(i in t)t.hasOwnProperty(i)&&(n=n&&!t[i]);return n},_customizeStoreLoadOptions:function(){this._dataSource&&this._dataSource.on("customizeStoreLoadOptions",this._proxiedCustomizeStoreLoadOptionsHandler)},_dispose:function(){this._dataSource&&this._dataSource.off("customizeStoreLoadOptions",this._proxiedCustomizeStoreLoadOptionsHandler),this.callBase()},_customizeStoreLoadOptionsHandler:function(n){n.storeLoadOptions.dxScheduler={startDate:this._workSpace.getFirstViewDate(),endDate:this._workSpace.getLastViewDate(),resources:this.option("resources")}},_initActions:function(){this._actions={onAppointmentAdding:this._createActionByOption("onAppointmentAdding"),onAppointmentAdded:this._createActionByOption("onAppointmentAdded"),onAppointmentUpdating:this._createActionByOption("onAppointmentUpdating"),onAppointmentUpdated:this._createActionByOption("onAppointmentUpdated"),onAppointmentDeleting:this._createActionByOption("onAppointmentDeleting"),onAppointmentDeleted:this._createActionByOption("onAppointmentDeleted"),onAppointmentFormCreated:this._createActionByOption("onAppointmentFormCreated")}},_getAppointmentRenderedAction:function(){return this._createActionByOption("onAppointmentRendered",{excludeValidators:["designMode","disabled","readOnly"]})},_defaultAppointmentFormEditors:function(n){var t=this;return[{dataField:"text",editorType:"dxTextBox",label:{text:Globalize.localize("dxScheduler-editorLabelTitle")}},{dataField:"allDay",editorType:"dxSwitch",label:{text:Globalize.localize("dxScheduler-allDay")},editorOptions:{onValueChanged:function(n){var f=n.value,i=t._appointmentForm.getEditor("startDate"),u=t._appointmentForm.getEditor("endDate"),r;i&&u&&(i.option("format",f?"date":"datetime"),u.option("format",f?"date":"datetime"),r=new Date(i.option("value")),f?(i.option("value",t._getAllDayStartDate(r)),u.option("value",t._getAllDayEndDate(r))):i.option("value")&&(r.setHours(t.option("startDayHour")),i.option("value",r),u.option("value",t._workSpace._calculateEndDate(i.option("value")))))}}},{dataField:"startDate",editorType:"dxDateBox",label:{text:Globalize.localize("dxScheduler-editorLabelStartDate")},editorOptions:{format:n?"date":"datetime",onValueChanged:function(n){var i=n.value,r=n.previousValue,u=t._appointmentForm.getEditor("endDate"),f=u.option("value"),e;t._validateAppointmentFormDate(n.component,i,r),f<=i&&(e=f.getTime()-r.getTime(),u.option("value",new Date(i.getTime()+e)))}}},{dataField:"endDate",editorType:"dxDateBox",label:{text:Globalize.localize("dxScheduler-editorLabelEndDate")},editorOptions:{format:n?"date":"datetime",onValueChanged:function(n){var i=n.value,r=n.previousValue,u=t._appointmentForm.getEditor("startDate"),f=u.option("value"),e;t._validateAppointmentFormDate(n.component,i,r),i&&f>=i&&(e=r.getTime()-f.getTime(),u.option("value",new Date(i.getTime()-e)))}}},{dataField:"description",editorType:"dxTextArea",label:{text:Globalize.localize("dxScheduler-editorLabelDescription")}},{dataField:"recurrenceRule",editorType:"dxSchedulerRecurrenceEditor",editorOptions:{observer:t},cssClass:ct,label:{text:Globalize.localize("dxScheduler-editorLabelRecurrence")}}]},_getAllDayStartDate:function(n){return n.setHours(0),n.setMinutes(0),n},_getAllDayEndDate:function(n){var t=new Date(n);return t.setDate(n.getDate()+1),t},_validateAppointmentFormDate:function(n,t,i){var r=!!t;r||n.option("value",i)},_renderFocusTarget:n.noop,_render:function(){this.callBase(),this._renderHeader(),this._appointments=this._createComponent("<div>",ot,this._appointmentsConfig()),this._loadResources().done(n.proxy(function(n){this._renderWorkSpace(n);var t=this._workSpace.getFixedContainer(),i=this._workSpace.getAllDayContainer();this._appointments.option({fixedContainer:t,allDayContainer:i}),this._filterAppointmentsByDateAndResources(n),this._workSpace.option("allDayExpanded",this.option("showAllDayPanel")),this._appointments.option("dataSource",this._dataSource)},this))},_renderHeader:function(){this._header=this._createComponent("<div>",k,this._headerConfig()),this.element().append(this._header.element())},_headerConfig:function(){return{observer:this,min:o.makeDate(this.option("min")),max:o.makeDate(this.option("max")),views:this.option("views"),firstDayOfWeek:this.option("firstDayOfWeek"),currentView:this.option("currentView"),currentDate:this._stripDateTime(o.makeDate(this.option("currentDate"))),tabIndex:this.option("tabIndex"),focusStateEnabled:this.option("focusStateEnabled"),width:this.option("width"),rtlEnabled:this.option("rtlEnabled"),useDropDownViewSwitcher:this.option("useDropDownViewSwitcher")}},_appointmentsConfig:function(){var n=this._editing,t=this;return{observer:this,renderingStrategy:this._getAppointmentsRenderingStrategy(),itemTemplate:this._getTemplateByOption("appointmentTemplate"),onItemRendered:this._getAppointmentRenderedAction(),onItemClick:this._createActionByOption("onAppointmentClick"),onAppointmentDblClick:this._createActionByOption("onAppointmentDblClick"),tabIndex:this.option("tabIndex"),focusStateEnabled:this.option("focusStateEnabled"),appointmentDurationInMinutes:this.option("cellDuration"),allowDrag:n.allowDragging,allowResize:n.allowResizing,allowAllDayResize:n.allowResizing&&this.option("currentView")!=="day",rtlEnabled:this.option("rtlEnabled"),onContentReady:function(){t._workSpace&&t._workSpace.option("allDayExpanded",t._isAllDayExpanded())},dayDuration:this._getDayDuration()}},_getAppointmentsRenderingStrategy:function(){return lt[this.option("currentView")].renderingStrategy},_getDayDuration:function(){return this.option("endDayHour")-this.option("startDayHour")},_renderWorkSpace:function(n){this._workSpace=this._createComponent("<div>",lt[this.option("currentView")].workSpace,this._workSpaceConfig(n)),this._workSpace.getWorkArea().append(this._appointments.element()),this.element().append(this._workSpace.element()),e.triggerShownEvent(this._workSpace.element())},_workSpaceConfig:function(n){return{observer:this,min:o.makeDate(this.option("min")),max:o.makeDate(this.option("max")),currentDate:this._stripDateTime(o.makeDate(this.option("currentDate"))),firstDayOfWeek:this.option("firstDayOfWeek"),groups:n,startDayHour:this.option("startDayHour"),endDayHour:this.option("endDayHour"),tabIndex:this.option("tabIndex"),focusStateEnabled:this.option("focusStateEnabled"),hoursInterval:this.option("cellDuration")/60,showAllDayPanel:this.option("showAllDayPanel"),allDayExpanded:this._isAllDayExpanded(),onCellClick:this._createActionByOption("onCellClick"),horizontalScrollingEnabled:this.option("horizontalScrollingEnabled")}},_refreshWorkSpace:function(n){this._appointments.element().detach(),this._workSpace._dispose(),this._workSpace.element().remove(),delete this._workSpace,this._renderWorkSpace(n),this._appointments.option({fixedContainer:this._workSpace.getFixedContainer(),allDayContainer:this._workSpace.getAllDayContainer()})},getWorkSpaceScrollable:function(){return this._workSpace.getScrollable()},getWorkSpaceScrollableScrollTop:function(){return this._workSpace.getScrollableScrollTop()},getWorkSpaceScrollableScrollLeft:function(){return this._workSpace.getScrollableScrollLeft()},getWorkSpaceScrollableContainer:function(){return this._workSpace.getScrollableContainer()},getWorkSpaceAllDayHeight:function(){return this._workSpace.getAllDayHeight()},getWorkSpaceHeaderPanelHeight:function(){return this._workSpace.getHeaderPanelHeight()},getWorkSpaceDateTableOffset:function(){return!this.option("horizontalScrollingEnabled")||this.option("rtlEnabled")?this._workSpace.getTimePanelWidth():0},getWorkSpace:function(){return this._workSpace},getHeader:function(){return this._header},_createPopup:function(t){this._$popup&&this._popup.element().remove(),this._$popup=n("<div>").addClass(pt).appendTo(this.element()),this._initDynamicPopupTemplate(t),this._popup=this._createComponent(this._$popup,"dxPopup",this._popupConfig(t))},_popupContent:function(n){var t=this._popup.content();return this._createAppointmentForm(n,t),t},_createAppointmentForm:function(t,i){var r=this._defaultAppointmentFormEditors(t.allDay),f=this.option("resources"),u;f&&f.length&&(this._resourcesManager.setResources(this.option("resources")),r=r.concat(this._resourcesManager.getEditors())),this._appointmentForm=this._createComponent(i,"dxForm",{items:r,readOnly:this._isReadOnly(),showValidationSummary:!0,scrollingEnabled:!0}),n.each(this._resourcesManager.getResourcesFromItem(t,!0)||{},function(n,i){t[n]=i}),this._appointmentForm.option("formData",n.extend(!0,{},t)),u=this._appointmentForm.getEditor("recurrenceRule"),u&&u.option("startDate",o.makeDate(t.startDate));this._actions.onAppointmentFormCreated({form:this._appointmentForm,appointmentData:t})},_initDynamicPopupTemplate:function(n){var t=this;this._dynamicTemplates.appointmentPopup=new v(function(i,r,u){var f=t._popupContent(n);return u.append(f),u})},_popupConfig:function(t){var i=this._getTemplateByOption("appointmentPopupTemplate");return{_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),width:bt,onHiding:n.proxy(function(){this.focus()},this),contentTemplate:new y(function(n){return new p(i.render(t,n))}),defaultOptionsRules:[{device:function(){return!h.current().generic},options:{fullScreen:!0}}]}},_getPopupButtons:function(){return[{shortcut:"done",location:"after",onClick:n.proxy(this._doneButtonClickHandler,this)},{shortcut:"cancel",location:"after"}]},_doneButtonClickHandler:function(n){var t=this._appointmentForm.validate();if(t&&!t.isValid){n.cancel=!0;return}this._saveChanges(n),this._workSpace.updateScrollPosition(this._appointmentForm.option("formData").startDate)},_saveChanges:function(){var n=this._appointmentForm.option("formData"),t=this._editAppointmentData,i=this._updatedRecAppointment;n.hasOwnProperty("recurrenceRule")&&n.recurrenceRule===undefined&&(n.recurrenceRule=""),t&&!i?this.updateAppointment(t,n):(i&&this.updateAppointment(t,i),delete this._updatedRecAppointment,this.addAppointment(n))},_checkRecurringAppointment:function(t,i,r,u,e,o){var s,h;if(delete this._updatedRecAppointment,s=t.recurrenceRule,!f.getRecurrenceRule(s).isValid||!this._editing.allowUpdating){u();return}h=this.option("recurrenceEditMode");switch(h){case"series":u();break;case"occurrence":this._singleAppointmentChangesHandler(t,i,r,e,o);break;default:this._showRecurrenceChangeConfirm(e).done(n.proxy(function(n){n&&u(),n||this._singleAppointmentChangesHandler(t,i,r,e,o)},this)).fail(n.proxy(function(){this._appointments.moveAppointmentBack()},this))}},_singleAppointmentChangesHandler:function(t,i,r,u,f){delete i.recurrenceRule,delete i.recurrenceException,u||f||this.addAppointment(i);var o=this._getRecurrenceException(r,t),e=n.extend({},t,{recurrenceException:o});f?(this._updatedRecAppointment=e,this.showAppointmentPopup(i,!0),this._editAppointmentData=t):this._updateAppointment(t,e)},_getRecurrenceException:function(n,t){var i=this._getRecurrenceExceptionDate(n,t.startDate);return t.recurrenceException?t.recurrenceException+","+i:i},_getRecurrenceExceptionDate:function(n,t){return n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds()),Globalize.format(n,"yyyyMMddThhmmss")},_showRecurrenceChangeConfirm:function(n){var t=Globalize.localize(n?"dxScheduler-confirmRecurrenceDeleteMessage":"dxScheduler-confirmRecurrenceEditMessage"),i=Globalize.localize(n?"dxScheduler-confirmRecurrenceDeleteSeries":"dxScheduler-confirmRecurrenceEditSeries"),r=Globalize.localize(n?"dxScheduler-confirmRecurrenceDeleteOccurrence":"dxScheduler-confirmRecurrenceEditOccurrence");return u.custom({message:t,showCloseButton:!0,showTitle:!0,buttons:[{text:i,onClick:function(){return!0}},{text:r,onClick:function(){return!1}}]}).show()},_getUpdatedData:function(n){var f=n.data,r=this.getTargetCellData(),e=o.makeDate(f.startDate),h=o.makeDate(f.endDate),s=r.date||e,u=r.groups,c=h.getTime()-e.getTime(),t={},i;t.allDay=r.allDay,t.startDate=s,t.endDate=new Date(s.getTime()+c);for(i in u)u.hasOwnProperty(i)&&(t[i]=u[i]);return t},_getCoordinates:function(n,t,i){for(var u=[],r=0;r<n.length;r++)u=u.concat(this._workSpace.getCoordinatesByDateInGroup(n[r],t,i));return u},_getSingleAppointmentData:function(t,r,u){var e=t,o=this._getUpdatedData(u),f=n.extend({},e,o),s=i.locate(r),h=this._workSpace.supportAllDayRow()&&e.allDay,c=this._workSpace.getCellDataByCoordinates(s,h),l=f.endDate.getTime()-f.startDate.getTime();return f.startDate=c.startDate,f.endDate=new Date(f.startDate.getTime()+l),f},subsribe:function(n,t){this._subscribes[n]=a[n]=t},fire:function(t,i){var u=this._subscribes[t];if(!n.isFunction(u))throw r.Error("E1031",t);u.call(this,i)},getTargetCellData:function(){return this._workSpace.getDataByDroppableCell()},showAppointmentTooltip:function(n,t,i){w.show(n,t,i,this)},_hideTooltip:function(){w.hide()},_updateAppointment:function(t,i,r){var u={newData:i,oldData:t,cancel:!1};this._actions.onAppointmentUpdating(u);this._processActionResult(u,function(u){u?n.isFunction(r)&&r.call(this):(this._expandAllDayPanel(i),this._appointmentModel.update(t,i).always(n.proxy(function(n){this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentUpdated,i,n)},this)))})},_processActionResult:function(t,i){n.when(t.cancel).then(n.proxy(i,this))},_expandAllDayPanel:function(n){!this._isAllDayExpanded()&&this.appointmentTakesAllDay(n)&&this._workSpace.option("allDayExpanded",!0)},_executeActionWhenOperationIsCompleted:function(n,t,i){var r={appointmentData:t},u=i&&i.name==="Error";u&&(r.error=i),n(r)},_showAppointmentPopup:function(n,t){this._createPopup(n);var i=[],r=!0;(!s.isDefined(t)||t)&&(i=this._getPopupButtons(),r=this._popup.initialOption("showCloseButton")),this._popup.option({buttons:i,showCloseButton:r}),this._popup.show()},getAppointmentPopup:function(){return this._popup},getAppointmentDetailsForm:function(){return this._appointmentForm},getAppointmentsInstance:function(){return this._appointments},getAppointmentResourceData:function(n,t){return this._resourcesManager.getResourceDataByValue(n,t)},getActions:function(){return this._actions},appointmentTakesAllDay:function(n){return n.allDay||this._appointmentModel.appointmentTakesAllDay(n.startDate,n.endDate,this.option("startDayHour"),this.option("endDayHour"))},recurrenceEditorVisibylityChanged:function(n){this._appointmentForm&&this._appointmentForm.element().find("."+ct).toggleClass(wt,n)},showAppointmentPopup:function(n,t){var i=this._editing;t?(delete this._editAppointmentData,i.allowAdding&&this._showAppointmentPopup(n)):(this._editAppointmentData=n,this._showAppointmentPopup(n,i.allowUpdating))},scrollToTime:function(n,t){this._workSpace.scrollToTime(n,t)},addAppointment:function(t){t.text||(t.text="");var i={appointmentData:t,cancel:!1};this._actions.onAppointmentAdding(i);this._processActionResult(i,function(i){i||(this._expandAllDayPanel(t),this._appointmentModel.add(t).always(n.proxy(function(n){this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentAdded,t,n)},this)))})},updateAppointment:function(n,t){this._updateAppointment(n,t)},deleteAppointment:function(t){var i={appointmentData:t,cancel:!1};this._actions.onAppointmentDeleting(i);this._processActionResult(i,function(i){i||this._appointmentModel.remove(t).always(n.proxy(function(n){this._executeActionWhenOperationIsCompleted(this._actions.onAppointmentDeleted,t,n)},this))})},focus:function(){this._editAppointmentData?this._appointments.focus():this._workSpace.focus()}}).include(ht);return c("dxScheduler",t,at),at}),DevExpress.require(["/ui/widgets/scheduler/ui.scheduler"]),function(n,t){var r=n.require("/component"),i=n.require("/utils/utils.common");n.dxClientExporter=r.inherit({_getDocumentCreator:function(i,r){if(r.format==="EXCEL")return new n.dxClientExporter.ExcelCreator(i.getDataProvider(),t.extend({rtlEnabled:i.option("rtlEnabled")},r))},exportTo:function(t){var h=this,r,f=this.option("exportingAction"),e=this.option("exportedAction"),o,u,s=t.component;s&&(r={fileName:t.fileName,format:t.format,cancel:!1},i.isDefined(f)&&f(r),r.cancel||(u=h._getDocumentCreator(s,t),u.ready().done(function(){o=u.getData(i.isFunction(window.Blob)),i.isDefined(e)&&e(),n.dxClientExporter.fileSaver.saveAs(r.fileName,t.format,o,t.proxyUrl)})))}})}(DevExpress,jQuery),function(n,t){var c=t.require("/utils/utils.string"),i=t.require("/utils/utils.common"),l=t.require("/utils/utils.formatHelper").defaultDateTimeFormat,b=t.require("/class"),u=t.dxClientExporter,f='<?xml version="1.0" encoding="utf-8"?>',k='<sheetPr><outlinePr summaryBelow="0"/><\/sheetPr>',d="<sheetPr/>",g='<fonts count="2"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/><\/font><font><b/><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/><\/font><\/fonts><fills count="1"><fill><patternFill patternType="none"/><\/fill><\/fills><borders count="1"><border><left style="thin"><color rgb="FFD3D3D3"/><\/left><right style="thin"><color rgb="FFD3D3D3"/><\/right><top style="thin"><color rgb="FFD3D3D3"/><\/top><bottom style="thin"><color rgb="FFD3D3D3"/><\/bottom><\/border><\/borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/><\/cellStyleXfs>',r="http://schemas.openxmlformats.org",s="rels",o="xl",h="workbook.xml",nt="[Content_Types].xml",a="sharedStrings.xml",v="styles.xml",tt="worksheets",y="sheet1.xml",it=["quarter","quarterAndYear","millisecond"],rt="shortDate",p={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedPoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},ut=Date.UTC(1899,11,30),ft=60,e=4,et=7,w=165;u.excelFormatConverter={_applyPrecision:function(n,t){var i,r;if(t>0){for(i=n!=="decimal"?".":"",r=0;r<t;r++)i+="0";return i}return""},_getCurrencyFormat:function(){var r=Globalize.cultures[Globalize.cultureSelector].numberFormat.currency,t,n,u,f;if(i.isArray(r.pattern)){f={n:"#,##0{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\$":r.symbol},n=r.pattern.slice();for(u in f)for(t=0;t<n.length;t++)n[t]=n[t].replace(new RegExp(u,"g"),f[u]);return n.length===2?n[1]+"_);"+n[0]:n[0]}},_convertDateFormat:function(t){l[t.toLowerCase()]&&n.inArray(t,it)===-1||(t=rt);var u=Globalize.cultures[Globalize.cultureSelector].calendar.patterns,r=l[t.toLowerCase()];return i.isDefined(u[r])&&(r=u[r]),r.replace(/\//g,"\\/").replace(/ /g,"\\ ").replace(/,/g,"\\,").replace(/:/g,"\\:").replace(/tt/g,"AM/PM").replace(/N/g,"#\\,###")},_convertNumberFormat:function(n,t){var i,r=n==="currency"?this._getCurrencyFormat():p[n];return r&&(i=c.format(r,this._applyPrecision(n,t))),i},convertFormat:function(n,t,r){if(i.isDefined(n)){if(r==="date")return u.excelFormatConverter._convertDateFormat(n);if(p[n])return u.excelFormatConverter._convertNumberFormat(n,t)}}},u.ExcelCreator=b.inherit({_getXMLTag:function(n,t,r){var u=["<"],f;u.push(n);for(f in t)u.push(" "),u.push(f),u.push('="'),u.push(t[f]),u.push('"');return i.isDefined(r)?(u.push(">"),u.push(r),u.push("<\/"),u.push(n),u.push(">")):u.push(" />"),u.join("")},_getDataProviderRowIndex:function(n){return n-!!this._dataProvider.isHeadersVisible()},_getExcelRowIndex:function(n){return n+!!this._dataProvider.isHeadersVisible()},_getCellIndex:function(n,t){var i="",r=26,u;this._maxIndex[0]<Number(n)&&(this._maxIndex[0]=Number(n)),this._maxIndex[1]<Number(t)&&(this._maxIndex[1]=Number(t));do if(u=65+(t>=r?t%r:Math.ceil(t)),i=String.fromCharCode(u)+i,t>=r)t=Math.floor(t/r)-1;else break;while(1);return i+=n},_getDataType:function(n){var t={boolean:"b",date:"d",number:"n",string:"s"};return i.isDefined(t[n])?t[n]:"s"},_appendFormat:function(t,i,r){return t=u.excelFormatConverter.convertFormat(t,i,r),t?(n.inArray(t,this._styleFormat)===-1&&this._styleFormat.push(t),n.inArray(t,this._styleFormat)+1):void 0},_appendString:function(t){if(i.isDefined(t)&&(t=String(t),t.length))return t=c.encodeHtml(t),n.inArray(t,this._stringArray)===-1&&this._stringArray.push(t),n.inArray(t,this._stringArray)},_getExcelDateValue:function(n){var t,r;if(i.isDate(n))return t=Math.floor((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-ut)/864e5),t<ft&&t--,r=(n.getHours()*3600+n.getMinutes()*60+n.getSeconds())/86400,t+r},_prepareValue:function(n,t){var r=this._dataProvider.getCellValue(n,t),f=this._dataProvider.getCellText&&this._dataProvider.getCellText(n,t),u=this._getDataType(this._dataProvider.getCellType(n,t))||"string",o=this._styleArray[t+e].formatID,s=i.isNumber(o)?this._styleFormat[o-1]:null;!i.isDefined(r)&&i.isDefined(f)&&(r=f,u="s",s=null),u!=="d"||i.isDate(r)||(u="s");switch(u){case"s":r=this._appendString(r);break;case"d":r=this._getExcelDateValue(r,s),u="n"}return{value:r,type:u}},_getHeadersArray:function(){for(var t=this._dataProvider.getColumns(),i=[],n=0;n!==t.length;n++)i.push({style:0,type:"s",value:this._appendString(t[n].caption)});return i},_getDataArray:function(){for(var t,f,r,s=[],o,u,h=this._dataProvider.getColumns(),n=0;n<this._dataProvider.getRowsCount();n++){for(f=[],t=0;t!==h.length;t++)r=this._prepareValue(n,t),o=r.type,!this._dataProvider.isGroupRow(n)&&i.isDefined(this._styleArray[t+e].formatID)&&r.type!=="s"&&(o="n"),u=t+e,this._dataProvider.isGroupRow(n)&&(u=e-1),this._dataProvider.isTotalCell(n,t)&&(u=this._getBoldStyleID(h[t].alignment)),f.push({style:u,value:r.value,type:o});n&&!this._needSheetPr&&this._dataProvider.getGroupLevel(this._getDataProviderRowIndex(n))>0&&(this._needSheetPr=!0),s.push(f)}return s},_getBoldStyleID:function(n){for(var t=0;t<e-1;t++)if(this._styleArray[t].alignment===n)return t},_culculateWidth:function(n){return n=parseInt(n,10),(!n||n<5)&&(n=100),Math.min(255,Math.floor((n-5)/et*100+.5)/100)},_prepareStyleData:function(){for(var t,f=Number(!!this._options.wrapTextEnabled),r=["center","left","right"],u=this._dataProvider.getColumns(),n=0;n<r.length;n++)this._styleArray.push({bold:!0,alignment:r[n],wrapText:1});for(this._styleArray.push({bold:!0,alignment:i.getDefaultAlignment(this._rtlEnabled),wrapText:0}),n=0;n<u.length;n++)t=u[n],this._styleArray.push({alignment:i.isDefined(t.alignment)?t.alignment:"left",formatID:this._appendFormat(t.format,t.precision,t.dataType),wrapText:f}),this._colsArray.push(this._culculateWidth(t.width))},_prepareCellData:function(){this._dataProvider.isHeadersVisible()&&this._cellsArray.push(this._getHeadersArray()),this._cellsArray=this._cellsArray.concat(this._getDataArray())},_createXMLRelationships:function(n){return this._getXMLTag("Relationships",{xmlns:r+"/package/2006/relationships"},n)},_createXMLRelationship:function(n,t,i){return this._getXMLTag("Relationship",{Id:"rId"+n,Type:r+"/officeDocument/2006/relationships/"+t,Target:i})},_getWorkbookContent:function(){var n='<bookViews><workbookView xWindow="0" yWindow="0" windowWidth="0" windowHeight="0"/><\/bookViews><sheets><sheet name="Sheet" sheetId="1" r:id="rId1" /><\/sheets><definedNames><definedName name="_xlnm.Print_Titles" localSheetId="0">Sheet!$1:$1<\/definedName><definedName name="_xlnm._FilterDatabase" hidden="0" localSheetId="0">Sheet!$A$1:$F$6332<\/definedName><\/definedNames>';return f+this._getXMLTag("workbook",{"xmlns:r":r+"/officeDocument/2006/relationships",xmlns:r+"/spreadsheetml/2006/main"},n)},_getContentTypesContent:function(){return f+'<Types xmlns="'+r+'/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="xml" ContentType="application/xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><\/Types>'},_generateStylesXML:function(){var h=this._zip.folder(o),s,n,e=[],u,t="";for(u in this._styleFormat)this._styleFormat[u]=this._getXMLTag("numFmt",{numFmtId:Number(u)+w,formatCode:this._styleFormat[u]});t+=this._getXMLTag("numFmts",{count:this._styleFormat.length},this._styleFormat.join("")),t+=g;for(s in this._styleArray)n=this._styleArray[s],e.push(this._getXMLTag("xf",{xfId:0,applyAlignment:1,fontId:Number(!!n.bold),applyNumberFormat:i.isDefined(n.formatID)?1:0,numFmtId:i.isDefined(n.formatID)?Number(n.formatID)+w-1:0},this._getXMLTag("alignment",{horizontal:n.alignment,vertical:"top",wrapText:n.wrapText})));t+=this._getXMLTag("cellXfs",{count:e.length},e.join("")),t+=this._getXMLTag("cellStyles",{count:1},this._getXMLTag("cellStyle",{name:"Normal",xfId:0,builtinId:0})),t=f+this._getXMLTag("styleSheet",{xmlns:r+"/spreadsheetml/2006/main"},t),h.file(v,t),this._styleArray=[]},_generateStringsXML:function(){var i=this._zip.folder(o),n,t=f;for(n in this._stringArray)this._stringArray[n]=this._getXMLTag("si",{},this._getXMLTag("t",{},this._stringArray[n]));t+=this._getXMLTag("sst",{xmlns:r+"/spreadsheetml/2006/main",count:this._stringArray.length,uniqueCount:this._stringArray.length},this._stringArray.join("")),i.file(a,t),this._stringArray=[]},_getPaneXML:function(){var t={activePane:"bottomLeft",state:"frozen"},n=i.isDefined(this._dataProvider.getFrozenArea)?this._dataProvider.getFrozenArea():{x:0,y:Number(this._dataProvider.isHeadersVisible())};return n.x||n.y?(n.x&&(t.xSplit=n.x),n.y&&(t.ySplit=n.y),t.topLeftCell=this._getCellIndex(n.y+1,n.x),this._getXMLTag("pane",t)):""},_generateWorksheetXML:function(){var t,n,u,e,s,h=0,f=[],c="1:"+this._colsArray.length,r=[['<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',this._needSheetPr?k:d,'<dimension ref="A1:',this._getCellIndex(this._maxIndex[0],this._maxIndex[1])+'"/><sheetViews><sheetView '+(this._rtlEnabled?'rightToLeft="1" ':"")+'tabSelected="1" workbookViewId="0">'+this._getPaneXML()+'<\/sheetView><\/sheetViews><sheetFormatPr defaultRowHeight="15" outlineLevelRow="',this._dataProvider.getRowsCount()>0?this._dataProvider.getGroupLevel(0):0,'" x14ac:dyDescent="0.25"/>'].join("")];for(t in this._colsArray)this._colsArray[t]=this._getXMLTag("col",{width:this._colsArray[t],min:Number(t)+1,max:Number(t)+1});r.push(this._getXMLTag("cols",[],this._colsArray.join(""))+"<sheetData>");for(n in this._cellsArray){e=[];for(t in this._cellsArray[n])n=Number(n),u=this._cellsArray[n][t],e.push(this._getXMLTag("c",{r:this._getCellIndex(n+1,t),s:u.style,t:u.type},i.isDefined(u.value)?this._getXMLTag("v",{},u.value):null));f.push(this._getXMLTag("row",{r:Number(n)+1,spans:c,outlineLevel:Number(n)?this._dataProvider.getGroupLevel(this._getDataProviderRowIndex(n)):0,"x14ac:dyDescent":"0.25"},e.join(""))),this._cellsArray[n]=null,h++>1e4&&(r.push(f.join("")),f=[],h=0)}r.push(f.join("")),f=[],s=this._getCellIndex(this._maxIndex[0],this._maxIndex[1]),r.push("<\/sheetData>"+this._generateMerginXML()+(this._options.autoFilterEnabled?'<autoFilter ref="A1:'+s+'" />':"")+'<ignoredErrors><ignoredError sqref="A1:'+s+'" numberStoredAsText="1" /><\/ignoredErrors><\/worksheet>'),this._zip.folder(o).folder(tt).file(y,r.join("")),this._colsArray=[],this._cellsArray=[],r=[]},_generateMerginXML:function(){var u,e,c=0,t,n,f=[],o=[],s="",r,h;if(!i.isDefined(this._dataProvider.getCellMergin))return"";for(n=0;n<this._dataProvider.getRowsCount();n++)for(t=0;t!==this._dataProvider.getColumns().length;t++)if((!i.isDefined(f[n])||!i.isDefined(f[n][t]))&&(r=this._dataProvider.getCellMergin(n,t),r.colspan||r.rowspan))for(o.push({start:this._getCellIndex(n+1,t),end:this._getCellIndex(n+1+(r.rowspan||0),t+(r.colspan||0))}),u=n;u<=n+r.rowspan||0;u++)for(e=t;e<=t+r.colspan||0;e++)i.isDefined(f[u])||(f[u]=[]),f[u][e]=!0;for(h in o)c++,s+=this._getXMLTag("mergeCell",{ref:o[h].start+":"+o[h].end});return s.length?this._getXMLTag("mergeCells",{count:c},s):""},_generateCommonXML:function(){var r=f+this._createXMLRelationships(this._createXMLRelationship(1,"officeDocument","xl/"+h)),n,t=this._zip.folder(o),i=f;this._zip.folder("_"+s).file("."+s,r),n=this._createXMLRelationship(1,"worksheet","worksheets/"+y)+this._createXMLRelationship(2,"styles",v)+this._createXMLRelationship(3,"sharedStrings",a),i+=this._createXMLRelationships(n),t.folder("_"+s).file(h+".rels",i),t.file(h,this._getWorkbookContent()),this._zip.file(nt,this._getContentTypesContent())},_generateContent:function(){this._prepareStyleData(),this._prepareCellData(),this._generateWorkXML(),this._generateCommonXML()},_generateWorkXML:function(){this._generateStylesXML(),this._generateStringsXML(),this._generateWorksheetXML()},ctor:function(n,t){this._rtlEnabled=t&&!!t.rtlEnabled,this._options=t,this._maxIndex=[1,2],this._stringArray=[],this._styleArray=[],this._colsArray=[],this._cellsArray=[],this._styleFormat=[],this._needSheetPr=!1,this._dataProvider=n,this._zip=new JSZip},ready:function(){return this._dataProvider.ready()},getData:function(n){return this._generateContent(),this._zip.generate({type:n?"blob":"base64",compression:"DEFLATE",mimeType:u.MIME_TYPES.EXCEL})}})}(jQuery,DevExpress),function(n,t){var e=DevExpress.require("/ui/ui.errors"),u=n.require("/utils/utils.browser"),i=n.require("/utils/utils.common"),r=n.dxClientExporter,f={EXCEL:"xlsx",CSS:"css"};r.MIME_TYPES={CSS:"text/css",EXCEL:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},r.fileSaver={_getDataUri:function(n,t){return"data:"+r.MIME_TYPES[n]+";base64,"+t},_linkDownloader:function(n,i){var u=document.createElement("a"),f={download:n,href:i};return document.body.appendChild(u),t(u).css({display:"none"}).text("load").attr(f)[0].click(),u},_formDownloader:function(n,i,r,u){var o={method:"post",action:n,enctype:"multipart/form-data"},e=t("<form>").css({display:"none"}).attr(o);e.append('<input type="hidden" name="fileName" value="'+i+'" />'),e.append('<input type="hidden" name="contentType" value="'+r+'" />'),e.append('<input type="hidden" name="data" value="'+u+'" />'),e.appendTo("body"),e.submit(),e.submit()&&e.remove()},_saveByProxy:function(n,t,i,u,f){return this._formDownloader(n,t,r.MIME_TYPES[i],u,f)},_winJSBlobSave:function(n,t,i){var u=new Windows.Storage.Pickers.FileSavePicker;u.suggestedStartLocation=Windows.Storage.Pickers.PickerLocationId.documentsLibrary,u.fileTypeChoices.insert(r.MIME_TYPES[i],["."+f[i]]),u.suggestedFileName=t,u.pickSaveFileAsync().then(function(t){t&&t.openAsync(Windows.Storage.FileAccessMode.readWrite).then(function(t){var i=n.msDetachStream();Windows.Storage.Streams.RandomAccessStream.copyAsync(i,t).then(function(){t.flushAsync().done(function(){i.close(),t.close()})})})})},_saveBlobAs:function(n,u,f,e){if(this._blobSaved=!1,i.isDefined(navigator.msSaveOrOpenBlob))navigator.msSaveOrOpenBlob(f,n),this._blobSaved=!0;else if(i.isDefined(window.WinJS))this._winJSBlobSave(f,n,u),this._blobSaved=!0;else{var o=window.URL||window.webkitURL||window.mozURL||window.msURL||window.oURL;if(e=i.isDefined(e)?e:function(){var n=t("#dxExportLink");o.revokeObjectURL(n.attr("href")),n.remove(),r.blobSaved=!0},i.isDefined(o))return this._linkDownloader(n,o.createObjectURL(f),e)}},saveAs:function(n,t,r,o,s){if(n+="."+f[t],i.isFunction(window.Blob))this._saveBlobAs(n,t,r);else if(i.isDefined(o)&&!i.isDefined(navigator.userAgent.match(/iPad/i)))this._saveByProxy(o,n,t,r);else{if(i.isDefined(navigator.userAgent.match(/iPad/i))||e.log("E1034"),u.msie&&parseInt(u.version)<10)return;this._linkDownloader(n,this._getDataUri(t,r),s)}}}}(DevExpress,jQuery),DevExpress.MOD_WIDGETS_WEB=!0}if(!window.DevExpress||!DevExpress.MOD_FRAMEWORK){if(!window.DevExpress||!DevExpress.MOD_CORE)throw Error("Required module is not referenced: core");(function(n,t,i){var u=t.require("/integration/knockout/ko.templateProvider"),f=function(n,t,i){for(var u=[],r=0,f=n.length;r<f;r++)i(n[r],t)||u.push(n[r]);return u.push.apply(u,t),u},e=function(t,i){var r=!1;return n.each(i,function(n,i){var f=t.option("id")===i.option("id")&&i.option("id"),u=t.option("behavior")===i.option("behavior")&&t.option("behavior");return r=f||u,u&&i.option("onExecute")===null&&i.option("onExecute",t.option("onExecute")),r?(t.element().remove(),!1):void 0}),r},o=function(n,t){return f(n,t,e)},r=function(n,t,r,u){var e=t?t[r]:i,o=e===i?u:e,f=n.option(r);return f===i||f===u?o:f},s=function(n,t){var i=r(n,t,"showText"),u=!!n.option("icon"),f=r(n,t,"title","");return i||!u?f:""},h=function(n,t){var i=r(n,t,"showIcon"),u=!!n.option("title"),f=r(n,t,"icon","");return i||!u?f:""};t.framework={utils:{mergeCommands:o,commandToContainer:{resolveIconValue:h,resolveTextValue:s,resolvePropertyValue:r}},templateProvider:u}})(jQuery,DevExpress),DevExpress.define("/framework/framework.errors",["/utils/utils.error","/errors"],function(n,t){return n(t.ERROR_MESSAGES,{E3001:"Routing rule is not found for the '{0}' URI.",E3002:"The passed object cannot be formatted into a URI string by the application's router. An appropriate route should be registered.",E3003:"Unable to navigate. Application is being initialized.",E3004:"Cannot execute the command: {0}.",E3005:"The '{0}' command {1} is not registered in the application's command mapping. Go to http://dxpr.es/1bTjfj1 for more details.",E3006:"Unknown navigation target: '{0}'. Use the 'current', 'back' or 'blank' values.",E3007:"Error while restoring the application state. The state has been cleared. Refresh the page.",E3008:"Unable to go back.",E3009:"Unable to go forward.",E3010:"The command's 'id' option should be specified.\r\nProcessed markup: {0}\n",E3011:"Layout controller cannot be resolved. There are no appropriate layout controllers for the current context. Check browser console for details.",E3012:"Layout controller cannot be resolved. Two or more layout controllers suit the current context. Check browser console for details.",E3013:"The '{0}' template with the '{1}' name is not found. Make sure the case is correct in the specified view name and the template fits the current context.",E3014:"All the children of the dxView element should be either of the dxCommand or dxContent type.\r\nProcessed markup: {0}",E3015:"The 'exec' method should be called before the 'finalize' method.",E3016:"Unknown transition type '{0}'.",E3018:"Unable to parse options.\nMessage: {0};\nOptions value: {1}.",E3019:"View templates should be updated according to the 13.1 changes. Go to http://dxpr.es/15ikrJA for more details.",E3020:"Concurrent templates are found:\r\n{0}Target device:\r\n{1}.",E3021:"Remote template cannot be loaded.\r\nUrl:{0}\r\nError:{1}.",E3022:"Cannot initialize the HtmlApplication component.",E3023:"Navigation item is not found",E3024:"Layout controller is not initialized",W3001:"A view with the '{0}' key doesn't exist.",W3002:"A view with the '{0}' key has already been released.",W3003:"Layout resolving context:\n{0}\nAvailable layout controller registrations:\n{1}\n",W3004:"Layout resolving context:\n{0}\nConcurent layout controller registrations for the context:\n{1}\n",W3005:'Direct hash-based navigation is detected in a mobile application. Use data-bind="dxAction: url" instead of href="#url" to avoid navigation issues.\nFound markup:\n{0}\n'})}),function(n,t){var i=encodeURIComponent("json:"),r=DevExpress.require("/class");t.framework.Route=r.inherit({_trimSeparators:function(n){return n.replace(/^[\/.]+|\/+$/g,"")},_escapeRe:function(n){return n.replace(/\W/g,"\\$1")},_checkConstraint:function(n,t){n=String(n),typeof t=="string"&&(t=new RegExp(t));var i=t.exec(n);return!i||i[0]!==n?!1:!0},_ensureReady:function(){var t=this;if(this._patternRe)return!1;this._pattern=this._trimSeparators(this._pattern),this._patternRe="",this._params=[],this._segments=[],this._separators=[],this._pattern.replace(/[^\/]+/g,function(n,i){t._segments.push(n),i&&t._separators.push(t._pattern.substr(i-1,1))}),n.each(this._segments,function(n){var u=!0,i=this,r=n?t._separators[n-1]:"";i.charAt(0)===":"?(u=!1,i=i.substr(1),t._params.push(i),t._patternRe+="(?:"+r+"([^/]*))",i in t._defaults&&(t._patternRe+="?")):t._patternRe+=r+t._escapeRe(i)}),this._patternRe=new RegExp("^"+this._patternRe+"$")},ctor:function(n,t,i){this._pattern=n||"",this._defaults=t||{},this._constraints=i||{}},parse:function(t){var u=this,i,r;return(this._ensureReady(),i=this._patternRe.exec(t),!i)?!1:(r=n.extend({},this._defaults),n.each(this._params,function(n){var t=n+1;i.length>=t&&i[t]&&(r[this]=u.parseSegment(i[t]))}),n.each(this._constraints,function(n){if(!u._checkConstraint(r[n],u._constraints[n]))return r=!1,!1}),r)},format:function(t){var r=this,u="",c,o;this._ensureReady();var f=n.extend({},this._defaults),s=0,i=[],h=[],e={};return(n.each(t,function(n,i){t[n]=r.formatSegment(i),n in f||(e[n]=!0)}),n.each(this._segments,function(n,u){if(i[n]=n?r._separators[n-1]:"",u.charAt(0)===":"){var o=u.substr(1);if(!(o in t)&&!(o in r._defaults)||o in r._constraints&&!r._checkConstraint(t[o],r._constraints[o]))return i=null,!1;o in t?(t[o]!==undefined&&(f[o]=t[o],i[n]+=t[o],s=n),delete e[o]):o in f&&(i[n]+=f[o],h.push(n))}else i[n]+=u,s=n}),n.each(f,function(u,f){if(!!f&&n.inArray(":"+u,r._segments)===-1&&t[u]!==f)return i=null,!1}),c=0,n.isEmptyObject(e)||(u="?",n.each(e,function(n){u+=n+"="+t[n]+"&",c++}),u=u.substr(0,u.length-1)),i===null)?!1:(h.length&&n.map(h,function(n){n>=s&&(i[n]="")}),o=i.join(""),o=o.replace(/\/+$/,""),{uri:o+u,unusedCount:c})},formatSegment:function(t){return n.isArray(t)||n.isPlainObject(t)?i+encodeURIComponent(JSON.stringify(t)):encodeURIComponent(t)},parseSegment:function(t){if(t.substr(0,i.length)===i)try{return n.parseJSON(decodeURIComponent(t.substr(i.length)))}catch(r){}return decodeURIComponent(t)}}),t.framework.Router=r.inherit({ctor:function(){this._registry=[]},_trimSeparators:function(n){return n.replace(/^[\/.]+|\/+$/g,"")},_createRoute:function(n,i,r){return new t.framework.Route(n,i,r)},register:function(n,t,i){this._registry.push(this._createRoute(n,t,i))},_parseQuery:function(t){var i={},r=t.split("&");return n.each(r,function(n,t){var r=t.split("=");i[r[0]]=decodeURIComponent(r[1])}),i},parse:function(t){var f=this,i;t=this._trimSeparators(t);var r=t.split("?",2),e=r[0],u=r[1];return n.each(this._registry,function(){var t=this.parse(e);if(t!==!1)return i=t,u&&(i=n.extend(i,f._parseQuery(u))),!1}),i?i:!1},format:function(t){var i=!1,r=99999;return t=t||{},n.each(this._registry,function(){var f=n.extend(!0,{},t),u=this.format(f);u!==!1&&r>u.unusedCount&&(r=u.unusedCount,i=u.uri)}),i}})}(jQuery,DevExpress),function(n,t){var i=DevExpress.require("/framework/framework.errors"),r=t.require("/componentRegistrator"),u=t.require("/domComponent"),f=u.inherit({ctor:function(t,i){n.isPlainObject(t)&&(i=t,t=n("<div />")),this.callBase(t,i)},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{iconSrc:{since:"15.1",alias:"icon"}})},_getDefaultOptions:function(){return n.extend(this.callBase(),{onExecute:null,id:null,title:"",icon:"",visible:!0,disabled:!1,renderStage:"onViewShown"})},execute:function(){var t=this._options.disabled;if(n.isFunction(t)&&(t=!!t.apply(this,arguments)),t)throw i.Error("E3004",this._options.id);this.fireEvent("beforeExecute",arguments),this._createActionByOption("onExecute").apply(this,arguments),this.fireEvent("afterExecute",arguments)},_render:function(){this.callBase(),this.element().addClass("dx-command")},_renderDisabledState:n.noop,_dispose:function(){this.callBase(),this.element().removeData(this.NAME)}});r("dxCommand",t.framework,f)}(jQuery,DevExpress),function(n,t){var i=DevExpress.require("/class"),r=DevExpress.require("/framework/framework.errors");t.framework.CommandMapping=i.inherit({ctor:function(){this._commandMappings={},this._containerDefaults={}},setDefaults:function(n,t){return this._containerDefaults[n]=t,this},mapCommands:function(t,i){var r=this;return n.each(i,function(i,u){typeof u=="string"&&(u={id:u});var e=u.id,f=r._commandMappings[t]||{};f[e]=n.extend({showIcon:!0,showText:!0},r._containerDefaults[t]||{},u),r._commandMappings[t]=f}),this._initExistingCommands(),this},unmapCommands:function(t,i){var r=this;n.each(i,function(n,i){var u=r._commandMappings[t]||{};u&&delete u[i]}),this._initExistingCommands()},getCommandMappingForContainer:function(n,t){return(this._commandMappings[t]||{})[n]},checkCommandsExist:function(t){var u=this,i=n.grep(t,function(i,r){return n.inArray(i,u._existingCommands)<0&&n.inArray(i,t)===r});if(i.length!==0)throw r.Error("E3005",i.join("', '"),i.length===1?" is":"s are");},load:function(t){if(t){var i=this;return n.each(t,function(n,t){i.setDefaults(n,t.defaults),i.mapCommands(n,t.commands)}),this}},_initExistingCommands:function(){var t=this;this._existingCommands=[],n.each(t._commandMappings,function(i,r){n.each(r,function(i,r){n.inArray(r.id,t._existingCommands)<0&&t._existingCommands.push(r.id)})})}}),t.framework.CommandMapping.defaultMapping={"global-navigation":{defaults:{showIcon:!0,showText:!0},commands:[]},"ios-header-toolbar":{defaults:{showIcon:!1,showText:!0,location:"after"},commands:["edit","save",{id:"back",location:"before"},{id:"cancel",location:"before"},{id:"create",showIcon:!0,showText:!1}]},"ios-action-sheet":{defaults:{showIcon:!1,showText:!0},commands:[]},"ios-view-footer":{defaults:{showIcon:!1,showText:!0},commands:[{id:"delete",type:"danger"}]},"android-header-toolbar":{defaults:{showIcon:!0,showText:!1,location:"after"},commands:[{id:"back",showIcon:!1,location:"before"},"create",{id:"save",showText:!0,showIcon:!1,location:"after"},{id:"edit",showText:!1,location:"after"},{id:"cancel",showText:!1,location:"before"},{id:"delete",showText:!1,location:"after"}]},"android-simple-toolbar":{defaults:{showIcon:!0,showText:!1,location:"after"},commands:[{id:"back",showIcon:!1,location:"before"},{id:"create"},{id:"save",showText:!0,showIcon:!1,location:"after"},{id:"edit",showText:!1,location:"after"},{id:"cancel",showText:!1,location:"before"},{id:"delete",showText:!1,location:"after"}]},"android-footer-toolbar":{defaults:{location:"after"},commands:[{id:"create",showText:!1,location:"center"},{id:"edit",showText:!1,location:"before"},{id:"delete",location:"menu"},{id:"save",showIcon:!1,location:"before"}]},"generic-header-toolbar":{defaults:{showIcon:!1,showText:!0,location:"after"},commands:["edit","save",{id:"back",location:"before"},{id:"cancel",location:"before"},{id:"create",showIcon:!0,showText:!1}]},"generic-view-footer":{defaults:{showIcon:!1,showText:!0},commands:[{id:"delete",type:"danger"}]},"win8-appbar":{defaults:{location:"after"},commands:["edit","cancel","save","delete",{id:"create",location:"before"},{id:"refresh",location:"before"}]},"win8-toolbar":{defaults:{showText:!1,location:"before"},commands:[{id:"previousPage"}]},"win8-phone-appbar":{defaults:{location:"center"},commands:["create","edit","cancel","save","refresh",{id:"delete",location:"menu"}]},"win8-split-toolbar":{defaults:{showIcon:!0,showText:!1,location:"after"},commands:[{id:"back",showIcon:!1,location:"before"},{id:"create"},{id:"save",showText:!0,location:"before"},{id:"edit",showText:!0,location:"menu"},{id:"cancel",showText:!0,location:"menu"},{id:"delete",showText:!0,location:"menu"}]},"win8-master-detail-toolbar":{defaults:{showText:!1,location:"before"},commands:["back"]},"desktop-toolbar":{defaults:{showIcon:!1,showText:!0,location:"after"},commands:["cancel","create","edit","save",{id:"delete",type:"danger"}]}}}(jQuery,DevExpress),function(n,t){var r=DevExpress.require("/class"),u=t.require("/eventsMixin"),f;t.framework.ViewCache=r.inherit({ctor:function(){this._cache={}},setView:function(n,t){this._cache[n]=t},getView:function(n){return this._cache[n]},removeView:function(n){var t=this._cache[n];return t&&(delete this._cache[n],this.fireEvent("viewRemoved",[{viewInfo:t}])),t},clear:function(){var t=this;n.each(this._cache,function(n){t.removeView(n)})},hasView:function(n){return n in this._cache}}).include(u),t.framework.NullViewCache=t.framework.ViewCache.inherit({setView:function(n,t){this.callBase(n,t),this.removeView(n)}}),t.framework.ConditionalViewCacheDecorator=r.inherit({ctor:function(n){this._filter=n.filter,this._viewCache=n.viewCache,this.viewRemoved=this._viewCache.viewRemoved,this._events=this._viewCache._events},setView:function(n,t){this._viewCache.setView(n,t),this._filter(n,t)||this._viewCache.removeView(n)},getView:function(n){return this._viewCache.getView(n)},removeView:function(n){return this._viewCache.removeView(n)},clear:function(){return this._viewCache.clear()},hasView:function(n){return this._viewCache.hasView(n)}}).include(u),f=5,t.framework.CapacityViewCacheDecorator=r.inherit({ctor:function(n){this._keys=[],this._size=n.size||f,this._viewCache=n.viewCache,this.viewRemoved=this._viewCache.viewRemoved,this._events=this._viewCache._events},setView:function(n,t){this.hasView(n)||(this._keys.length===this._size&&this.removeView(this._keys[0]),this._keys.push(n)),this._viewCache.setView(n,t)},getView:function(t){var i=n.inArray(t,this._keys);return i<0?null:(this._keys.push(t),this._keys.splice(i,1),this._viewCache.getView(t))},removeView:function(t){var i=n.inArray(t,this._keys);return i>-1&&this._keys.splice(i,1),this._viewCache.removeView(t)},clear:function(){return this._keys=[],this._viewCache.clear()},hasView:function(n){return this._viewCache.hasView(n)}}).include(u),t.framework.HistoryDependentViewCacheDecorator=r.inherit({ctor:function(i){this._viewCache=i.viewCache||new t.framework.ViewCache,this._navigationManager=i.navigationManager;this._navigationManager.on("itemRemoved",n.proxy(this._onNavigationItemRemoved,this));this.viewRemoved=this._viewCache.viewRemoved,this._events=this._viewCache._events},_onNavigationItemRemoved:function(n){this.removeView(n.key)},setView:function(n,t){this._viewCache.setView(n,t)},getView:function(n){return this._viewCache.getView(n)},removeView:function(n){return this._viewCache.removeView(n)},clear:function(){return this._viewCache.clear()},hasView:function(n){return this._viewCache.hasView(n)}}).include(u)}(jQuery,DevExpress),function(n,t){var r=DevExpress.require("/class");t.framework.MemoryKeyValueStorage=r.inherit({ctor:function(){this.storage={}},getItem:function(n){return this.storage[n]},setItem:function(n,t){this.storage[n]=t},removeItem:function(n){delete this.storage[n]}}),t.framework.StateManager=r.inherit({ctor:function(n){n=n||{},this.storage=n.storage||new t.framework.MemoryKeyValueStorage,this.stateSources=n.stateSources||[]},addStateSource:function(n){this.stateSources.push(n)},removeStateSource:function(t){var i=n.inArray(t,this.stateSources);i>-1&&(this.stateSources.splice(i,1),t.removeState(this.storage))},saveState:function(){var t=this;n.each(this.stateSources,function(n,i){i.saveState(t.storage)})},restoreState:function(){var t=this;n.each(this.stateSources,function(n,i){i.restoreState(t.storage)})},clearState:function(){var t=this;n.each(this.stateSources,function(n,i){i.removeState(t.storage)})}})}(jQuery,DevExpress),function(n,t){var u=DevExpress.require("/class"),f=t.require("/utils/utils.queue"),r="__root__",e="__buffer__";t.framework.DefaultBrowserAdapter=u.inherit({ctor:function(t){t=t||{},this._window=t.window||window,this.popState=n.Callbacks();n(this._window).on("hashchange",n.proxy(this._onHashChange,this));this._tasks=f.create(),this.canWorkInPureBrowser=!0},replaceState:function(n){var t=this;return this._addTask(function(){n=t._normalizeUri(n),t._window.history.replaceState(null,null,"#"+n),t._currentTask.resolve()})},pushState:function(n){var t=this;return this._addTask(function(){n=t._normalizeUri(n),t._window.history.pushState(null,null,"#"+n),t._currentTask.resolve()})},createRootPage:function(){return this.replaceState(r)},_onHashChange:function(){this._currentTask&&this._currentTask.resolve(),this.popState.fire()},back:function(){var n=this;return this._addTask(function(){n._window.history.back()})},getHash:function(){return this._normalizeUri(this._window.location.hash)},isRootPage:function(){return this.getHash()===r},_normalizeUri:function(n){return(n||"").replace(/^#+/,"")},_addTask:function(t){var r=this,i=n.Deferred();return this._tasks.add(function(){return r._currentTask=i,t(),i}),i.promise()}}),t.framework.OldBrowserAdapter=t.framework.DefaultBrowserAdapter.inherit({ctor:function(){this._innerEventCount=0,this.callBase.apply(this,arguments),this._skipNextEvent=!1},replaceState:function(t){var i=this;return(t=i._normalizeUri(t),i.getHash()!==t)?(i._addTask(function(){i._skipNextEvent=!0,i._window.history.back()}),i._addTask(function(){i._skipNextEvent=!0,i._window.location.hash=t})):n.Deferred().resolve().promise()},pushState:function(t){var i=this;return(t=this._normalizeUri(t),this.getHash()!==t)?i._addTask(function(){i._skipNextEvent=!0,i._window.location.hash=t}):n.Deferred().resolve().promise()},createRootPage:function(){return this.pushState(r)},_onHashChange:function(){var n=this._currentTask;this._currentTask=null,this._skipNextEvent?this._skipNextEvent=!1:this.popState.fire(),n&&n.resolve()}}),t.framework.BuggyAndroidBrowserAdapter=t.framework.OldBrowserAdapter.inherit({createRootPage:function(){return this.pushState(e),this.callBase()}}),t.framework.HistorylessBrowserAdapter=t.framework.DefaultBrowserAdapter.inherit({ctor:function(t){t=t||{},this._window=t.window||window,this.popState=n.Callbacks();n(this._window).on("dxback",n.proxy(this._onHashChange,this));this._currentHash=this._window.location.hash},replaceState:function(t){return this._currentHash=this._normalizeUri(t),n.Deferred().resolve().promise()},pushState:function(n){return this.replaceState(n)},createRootPage:function(){return this.replaceState(r)},getHash:function(){return this._normalizeUri(this._currentHash)},back:function(){return this.replaceState(r)},_onHashChange:function(){var n=this.back();return this.popState.fire(),n}}),t.framework.BuggyCordovaWP81BrowserAdapter=t.framework.DefaultBrowserAdapter.inherit({ctor:function(n){this.callBase(n),this.canWorkInPureBrowser=!1}})}(jQuery,DevExpress),function(n,t){var e=DevExpress.require("/class"),f=t.require("/utils/utils.storage"),r=t.require("/devices"),u="dxPhoneJSApplication";t.framework.HistoryBasedNavigationDevice=e.inherit({ctor:function(t){t=t||{},this._browserAdapter=t.browserAdapter||this._createBrowserAdapter(t),this.uriChanged=n.Callbacks(),this._browserAdapter.popState.add(n.proxy(this._onPopState,this))},init:n.noop,getUri:function(){return this._browserAdapter.getHash()},setUri:function(t,i){return i?this._browserAdapter.replaceState(t):t!==this.getUri()?this._browserAdapter.pushState(t):n.Deferred().resolve().promise()},back:function(){return this._browserAdapter.back()},_onPopState:function(){this.uriChanged.fire(this.getUri())},_isBuggyAndroid2:function(){var t=r.real(),n=t.version;return t.platform==="android"&&n.length>1&&(n[0]===2&&n[1]<4||n[0]<2)},_isBuggyAndroid4:function(){var t=r.real(),n=t.version;return t.platform==="android"&&n.length>1&&n[0]===4&&n[1]===0},_isWindowsPhone8:function(){var n=r.real();return n.platform==="win"&&n.phone},_createBrowserAdapter:function(n){var r=n.window||window,u=r.history.replaceState&&r.history.pushState,i;return i=this._isWindowsPhone8()?new t.framework.BuggyCordovaWP81BrowserAdapter(n):r!==r.top?new t.framework.HistorylessBrowserAdapter(n):this._isBuggyAndroid4()?new t.framework.BuggyAndroidBrowserAdapter(n):this._isBuggyAndroid2()||!u?new t.framework.OldBrowserAdapter(n):new t.framework.DefaultBrowserAdapter(n)}}),t.framework.StackBasedNavigationDevice=t.framework.HistoryBasedNavigationDevice.inherit({ctor:function(t){this.callBase(t),this.backInitiated=n.Callbacks(),this._rootStateHandler=null;n(window).on("unload",this._saveBrowserState)},init:function(){var t=this;return t._browserAdapter.canWorkInPureBrowser?t._initRootPage().done(function(){t._browserAdapter.isRootPage()&&t._browserAdapter.pushState("")}):n.Deferred().resolve().promise()},setUri:function(n){return this.callBase(n,!this._browserAdapter.isRootPage())},_saveBrowserState:function(){var n=f.sessionStorage();n&&n.setItem(u,!0)},_initRootPage:function(){var i=this.getUri(),t=f.sessionStorage();return!t||t.getItem(u)?n.Deferred().resolve().promise():(t.removeItem(u),this._browserAdapter.createRootPage(),this._browserAdapter.pushState(i))},_onPopState:function(){this._browserAdapter.isRootPage()?this._rootStateHandler?this._rootStateHandler():this.backInitiated.fire():(this._rootStateHandler||this._createRootStateHndler(),this.back())},_createRootStateHndler:function(){var n=this.getUri();this._rootStateHandler=function(){this.uriChanged.fire(n),this._rootStateHandler=null}}})}(jQuery,DevExpress),function(n,t,i){var f=t.require("/class"),o=t.require("/eventsMixin"),u=t.require("/framework/framework.errors"),s=t.require("/utils/utils.common"),h=t.require("/utils/utils.hardwareBack").processCallback,e=t.require("/utils/utils.topOverlay").hide,r={current:"current",blank:"blank",back:"back"},c="__history";t.framework.HistoryBasedNavigationManager=f.inherit({ctor:function(n){n=n||{},this._currentItem=i,this._previousItem=i,this._createNavigationDevice(n)},_createNavigationDevice:function(i){this._navigationDevice=i.navigationDevice||new t.framework.HistoryBasedNavigationDevice,this._navigationDevice.uriChanged.add(n.proxy(this._uriChangedHandler,this))},_uriChangedHandler:function(n){while(e());this.navigate(n)},_syncUriWithCurrentNavigationItem:function(){var n=this._currentItem&&this._currentItem.uri;this._navigationDevice.setUri(n,!0)},_cancelNavigation:function(n){this._syncUriWithCurrentNavigationItem(),this.fireEvent("navigationCanceled",[n])},_getDefaultOptions:function(){return{direction:"none",target:r.blank}},_updateHistory:function(n,t){this._previousItem=this._currentItem,this._currentItem={uri:n,key:n},this._navigationDevice.setUri(n,t.target===r.current)},_setCurrentItem:function(n){this._currentItem=n},navigate:function(t,u){u=u||{};var f=this,l=!f._currentItem,h=f._currentItem||{},a=u.item||{},o=h.uri,v=h.key,c=a.key,e;if(t===i&&(t=f._navigationDevice.getUri()),/^_back$/.test(t)){f.back();return}u=n.extend(f._getDefaultOptions(),u||{}),l&&(u.target=r.current),e={currentUri:o,uri:t,cancel:!1,navigateWhen:[],options:u},f.fireEvent("navigating",[e]),t=e.uri,e.cancel||o===t&&(c===i||c===v)&&!f._forceNavigate?f._cancelNavigation(e):(f._forceNavigate=!1,n.when.apply(n,e.navigateWhen).done(function(){s.executeAsync(function(){f._updateHistory(t,u),f.fireEvent("navigated",[{uri:t,previousUri:o,options:u,item:f._currentItem}])})}))},back:function(){return this._navigationDevice.back()},previousItem:function(){return this._previousItem},currentItem:function(n){if(arguments.length>0){if(!n)throw u.Error("E3023");this._setCurrentItem(n)}else return this._currentItem},rootUri:function(){return this._currentItem&&this._currentItem.uri},canBack:function(){return!0},saveState:n.noop,restoreState:n.noop,removeState:n.noop}).include(o),t.framework.StackBasedNavigationManager=t.framework.HistoryBasedNavigationManager.inherit({ctor:function(t){t=t||{},this.callBase(t),this._createNavigationStacks(t),h.add(n.proxy(this._deviceBackInitiated,this)),this._stateStorageKey=t.stateStorageKey||c},init:function(){return this._navigationDevice.init()},_createNavigationDevice:function(i){i.navigationDevice||(i.navigationDevice=new t.framework.StackBasedNavigationDevice),this.callBase(i),this._navigationDevice.backInitiated.add(n.proxy(this._deviceBackInitiated,this))},_uriChangedHandler:function(n){this.navigate(n)},_createNavigationStacks:function(n){this.navigationStacks={},this._keepPositionInStack=n.keepPositionInStack,this.currentStack=new t.framework.NavigationStack},_deviceBackInitiated:function(){e()?this._syncUriWithCurrentNavigationItem():this.back({isHardwareButton:!0})},_getDefaultOptions:function(){return{target:r.blank}},_createNavigationStack:function(){var i=new t.framework.NavigationStack;return i.itemsRemoved.add(n.proxy(this._removeItems,this)),i},_setCurrentItem:function(n){this._setCurrentStack(n.stack),this.currentStack.currentItem(n),this.callBase(n),this._syncUriWithCurrentNavigationItem()},_setCurrentStack:function(t){var r,i;typeof t=="string"?(i=t,i in this.navigationStacks||(this.navigationStacks[i]=this._createNavigationStack()),r=this.navigationStacks[i]):(r=t,i=n.map(this.navigationStacks,function(n,i){return n===t?i:null})[0]),this.currentStack=r,this.currentStackKey=i},_getViewTargetStackKey:function(n,t){var r,u;if(t)if(this.navigationStacks[n]!==i)r=n;else{for(u in this.navigationStacks)if(this.navigationStacks[u].items[0].uri===n){r=u;break}r=r||n}else r=this.currentStackKey||n;return r},_updateHistory:function(n,t){var f=t.root,o=f,s=!1,l=this.currentStack,a=t.keepPositionInStack!==i?t.keepPositionInStack:this._keepPositionInStack,h,c,e;if(t.stack=t.stack||this._getViewTargetStackKey(n,f),this._setCurrentStack(t.stack),(f||!this.currentStack.items.length)&&(s=this.currentStack===l,o=!0),f&&this.currentStack.items.length)(!a||s)&&(this.currentStack.currentIndex=0,this.currentItem().uri!==n&&this.currentStack.navigate(n,!0)),t.direction=t.direction||"none";else{h=this.currentStack.currentIndex,c=this.currentItem()||{};switch(t.target){case r.blank:this.currentStack.navigate(n);break;case r.current:this.currentStack.navigate(n,!0);break;case r.back:this.currentStack.currentIndex>0?this.currentStack.back(n):this.currentStack.navigate(n,!0);break;default:throw u.Error("E3006",t.target);}t.direction===i&&(e=this.currentStack.currentIndex-h,t.direction=e<0?this.currentStack.currentItem().backDirection||"backward":e>0&&this.currentStack.currentIndex>0?"forward":"none"),c.backDirection=t.direction==="forward"?"backward":"none"}t.root=o,this._currentItem=this.currentStack.currentItem(),this._syncUriWithCurrentNavigationItem()},_removeItems:function(t){var i=this;n.each(t,function(n,t){i.fireEvent("itemRemoved",[t])})},back:function(t){var i,u;if(t=t||{},i=n.extend({cancel:!1},t),this.fireEvent("navigatingBack",[i]),i.cancel){this._syncUriWithCurrentNavigationItem();return}u=this.previousItem(i.stack),u?this.navigate(u.uri,{stack:i.stack,target:r.back,item:u}):this.callBase()},rootUri:function(){return this.currentStack.items.length?this.currentStack.items[0].uri:this.callBase()},canBack:function(n){var t=n?this.navigationStacks[n]:this.currentStack;return t.canBack()},saveState:function(t){var i,r;this.currentStack.items.length?(i={navigationStacks:{},currentStackKey:this.currentStackKey},n.each(this.navigationStacks,function(t,r){var u={};i.navigationStacks[t]=u,u.currentIndex=r.currentIndex,u.items=n.map(r.items,function(n){return{key:n.key,uri:n.uri}})}),r=JSON.stringify(i),t.setItem(this._stateStorageKey,r)):this.removeState(t)},restoreState:function(t){var i,r,f;if(!this.disableRestoreState&&(i=t.getItem(this._stateStorageKey),i))try{r=this,f=JSON.parse(i),n.each(f.navigationStacks,function(t,i){var u=r._createNavigationStack();r.navigationStacks[t]=u,u.currentIndex=i.currentIndex,u.items=n.map(i.items,function(n){return n.stack=u,n})}),this.currentStackKey=f.currentStackKey,this.currentStack=this.navigationStacks[this.currentStackKey],this._currentItem=this.currentStack.currentItem(),this._navigationDevice.setUri(this.currentItem().uri),this._forceNavigate=!0}catch(e){this.removeState(t);throw u.Error("E3007");}},removeState:function(n){n.removeItem(this._stateStorageKey)},currentIndex:function(){return this.currentStack.currentIndex},previousItem:function(n){var t=this.navigationStacks[n]||this.currentStack;return t.previousItem()},getItemByIndex:function(n){return this.currentStack.items[n]},clearHistory:function(){this.currentStack.clear()},itemByKey:function(t){var i;return n.each(this.navigationStacks,function(n,r){var u=r.itemByKey(t);if(u)return i=u,!1}),i},currentItem:function(t){var i;if(arguments.length>0)typeof t=="string"?i=this.itemByKey(t):n.isPlainObject(t)&&(i=t),this.callBase(i);else return this.callBase()}}),t.framework.NavigationStack=f.inherit({ctor:function(t){t=t||{},this.itemsRemoved=n.Callbacks(),this.clear()},currentItem:function(n){if(n){for(var t=0;t<this.items.length;t++)if(n===this.items[t]){this.currentIndex=t;break}}else return this.items[this.currentIndex]},previousItem:function(){return this.items.length>1?this.items[this.currentIndex-1]:i},canBack:function(){return this.currentIndex>0},clear:function(){this._deleteItems(this.items),this.items=[],this.currentIndex=-1},back:function(n){if(this.currentIndex--,this.currentIndex<0)throw u.Error("E3008");var t=this.currentItem();t.uri!==n&&this._updateItem(this.currentIndex,n)},forward:function(){if(this.currentIndex++,this.currentIndex>=this.items.length)throw u.Error("E3009");},navigate:function(n,t){if(!(this.currentIndex<this.items.length)||!(this.currentIndex>-1)||this.items[this.currentIndex].uri!==n){if(t&&this.currentIndex>-1&&this.currentIndex--,this.currentIndex+1<this.items.length&&this.items[this.currentIndex+1].uri===n)this.currentIndex++;else{var i=this.items.splice(this.currentIndex+1,this.items.length-this.currentIndex-1);this.items.push({stack:this}),this.currentIndex++,this._updateItem(this.currentIndex,n),this._deleteItems(i)}return this.currentItem()}},itemByKey:function(n){for(var i,t=0;t<this.items.length;t++)if(i=this.items[t],i.key===n)return i},_updateItem:function(n,t){var i=this.items[n];i.uri=t,i.key=this.items[0].uri+"_"+n+"_"+t},_deleteItems:function(n){n&&this.itemsRemoved.fire(n)}})}(jQuery,DevExpress),function(n,t,i){function r(t,i){if(i.args){var r=i.args[0];t.jQueryEvent=r.jQueryEvent}(i.component||{}).NAME==="dxCommand"&&n.extend(t,i.component.option())}function u(t){if(t){var i=n(t.target);i.attr("href")&&t.preventDefault()}}t.framework.createActionExecutors=function(f){return{routing:{execute:function(t){var e=t.action,o={},i,s;n.isPlainObject(e)&&(i=e.routeValues,i&&n.isPlainObject(i)?o=e.options:i=e,s=f.router.format(i),r(o,t),u(o.jQueryEvent),f.navigate(s,o),t.handled=!0)}},hash:{execute:function(e){var o;if(typeof e.action=="string"&&e.action.charAt(0)==="#"){var s=e.action.substr(1),c=e.args[0],h=s,l=function(n){var i=t.data.utils.compileGetter(n),r=e.args[0].model;return i(r)},a=c.evaluate||l;h=s.replace(/\{([^}]+)\}/g,function(r,u){u=n.trim(u),u.indexOf(",")>-1&&(u=n.map(u.split(","),n.trim));var f=a(u);return f===i&&(f=""),f=t.framework.Route.prototype.formatSegment(f)}),o={},r(o,e),u(o.jQueryEvent),f.navigate(h,o),e.handled=!0}}}}}}(jQuery,DevExpress),function(n,t){var u=t.require("/class"),s=u.abstract,h=t.require("/eventsMixin"),c=t.require("/action"),l=t.require("/utils/utils.storage"),i=t.require("/utils/utils.common"),r=t.require("/framework/framework.errors"),f,a="InProgress",e="Inited",o=t.framework;t.framework.Application=u.inherit({ctor:function(i){i=i||{},this._options=i,this.namespace=i.namespace||window,this._applicationMode=i.mode?i.mode:"mobileApp",this.components=[],f=t.localization.localizeString("@Back"),this.router=i.router||new t.framework.Router;var r={mobileApp:t.framework.StackBasedNavigationManager,webSite:t.framework.HistoryBasedNavigationManager};this.navigationManager=i.navigationManager||new r[this._applicationMode]({keepPositionInStack:i.navigateToRootViewMode==="keepHistory"});this.navigationManager.on("navigating",n.proxy(this._onNavigating,this));this.navigationManager.on("navigatingBack",n.proxy(this._onNavigatingBack,this));this.navigationManager.on("navigated",n.proxy(this._onNavigated,this));this.navigationManager.on("navigationCanceled",n.proxy(this._onNavigationCanceled,this));this.stateManager=i.stateManager||new t.framework.StateManager({storage:i.stateStorage||l.sessionStorage()}),this.stateManager.addStateSource(this.navigationManager),this.viewCache=this._createViewCache(i),this.commandMapping=this._createCommandMapping(i.commandMapping),this.createNavigation(i.navigation),this._isNavigating=!1,this._viewLinksHash={},c.registerExecutor(t.framework.createActionExecutors(this)),this.components.push(this.router),this.components.push(this.navigationManager)},_createViewCache:function(i){var r;r=i.viewCache?i.viewCache:i.disableViewCache?new t.framework.NullViewCache:new t.framework.CapacityViewCacheDecorator({size:i.viewCacheSize,viewCache:new t.framework.ViewCache});r.on("viewRemoved",n.proxy(function(n){this._releaseViewLink(n.viewInfo)},this));return r},_createCommandMapping:function(n){var i=n;return n instanceof t.framework.CommandMapping||(i=new t.framework.CommandMapping,i.load(t.framework.CommandMapping.defaultMapping||{}).load(n||{})),i},createNavigation:function(n){this.navigation=this._createNavigationCommands(n),this._mapNavigationCommands(this.navigation,this.commandMapping)},_createNavigationCommands:function(t){if(!t)return[];var i=0;return n.map(t,function(t){var r;return r=t instanceof o.dxCommand?t:new o.dxCommand(n.extend({root:!0},t)),r.option("id")||r.option("id","navigation_"+i++),r})},_mapNavigationCommands:function(t,i){var r=n.map(t,function(n){return n.option("id")});i.mapCommands("global-navigation",r)},_callComponentMethod:function(t,i){var r=[];return n.each(this.components,function(u,f){if(f[t]&&n.isFunction(f[t])){var e=f[t](i);e&&e.done&&r.push(e)}}),n.when.apply(n,r)},init:function(){var n=this;return n._initState=a,n._callComponentMethod("init").done(function(){n._initState=e,n._processEvent("initialized")}).fail(function(n){throw n||r.Error("E3022");})},_onNavigatingBack:function(n){this._processEvent("navigatingBack",n)},_onNavigating:function(n){var t=this,f,u;if(t._isNavigating){t._pendingNavigationArgs=n,n.cancel=!0;return}if(t._isNavigating=!0,delete t._pendingNavigationArgs,f=this.router.parse(n.uri),!f)throw r.Error("E3001",n.uri);u=this.router.format(f),n.uri!==u&&u?(n.cancel=!0,n.cancelReason="redirect",i.executeAsync(function(){t.navigate(u,n.options)})):t._processEvent("navigating",n)},_onNavigated:function(n){var t=this,f=n.options.direction,u,r=t._acquireViewInfo(n.item,n.options);return r.model||(this._processEvent("beforeViewSetup",{viewInfo:r}),t._createViewModel(r),t._createViewCommands(r),this._processEvent("afterViewSetup",{viewInfo:r})),t._highlightCurrentNavigationCommand(r),u=t._showView(r,f).always(function(){t._isNavigating=!1;var n=t._pendingNavigationArgs;n&&i.executeAsync(function(){t.navigate(n.uri,n.options)})})},_isViewReadyToShow:function(n){return!!n.model},_onNavigationCanceled:function(n){var t=this,r;t._pendingNavigationArgs&&t._pendingNavigationArgs.uri===n.uri||(r=t.navigationManager.currentItem(),r&&i.executeAsync(function(){var i=t._acquireViewInfo(r,n.options);t._highlightCurrentNavigationCommand(i,!0)}),t._isNavigating=!1)},_disposeRemovedViews:function(){var t=this,i;n.each(t._viewLinksHash,function(n,r){r.linkCount||(i={viewInfo:r.viewInfo},t._processEvent("viewDisposing",i,i.viewInfo.model),t._disposeView(r.viewInfo),t._processEvent("viewDisposed",i,i.viewInfo.model),delete t._viewLinksHash[n])})},_onViewHidden:function(n){var t={viewInfo:n};this._processEvent("viewHidden",t,t.viewInfo.model)},_disposeView:function(t){var i=t.commands||[];n.each(i,function(n,t){t._dispose()})},_acquireViewInfo:function(n,t){var u=this.router.parse(n.uri),r=this._getViewInfoKey(n,u),i=this.viewCache.getView(r);return i?this._updateViewInfo(i,n,t):(i=this._createViewInfo(n,t),this._obtainViewLink(i),this.viewCache.setView(r,i)),i},_getViewInfoKey:function(n,t){var i={key:n.key,navigationItem:n,routeData:t};return this._processEvent("resolveViewCacheKey",i),i.key},_processEvent:function(n,t,i){this._callComponentMethod(n,t),this.fireEvent(n,t&&[t]);var r=(i||{})[n];r&&r.call(i,t)},_updateViewInfo:function(n,t,i){var r=t.uri,u=this.router.parse(r);n.viewName=u.view,n.routeData=u,n.uri=r,n.navigateOptions=i,n.canBack=this.canBack(i.stack),n.previousViewInfo=this._getPreviousViewInfo(i)},_createViewInfo:function(n,t){var r=n.uri,u=this.router.parse(r),i={key:this._getViewInfoKey(n,u)};return this._updateViewInfo(i,n,t),i},_createViewModel:function(n){n.model=n.model||this._callViewCodeBehind(n)},_createViewCommands:function(n){n.commands=n.model.commands||[],n.canBack&&this._applicationMode!=="webSite"&&this._appendBackCommand(n)},_callViewCodeBehind:function(t){var r=n.noop,i=t.routeData;return i.view in this.namespace&&(r=this.namespace[i.view]),r.call(this.namespace,i,t)||{}},_appendBackCommand:function(n){var i=n.commands,r=this,u=f,e,o;r._options.useViewTitleAsBackText&&(u=((n.previousViewInfo||{}).model||{}).title||u),e=[new t.framework.dxCommand({id:"back",title:u,behavior:"back",onExecute:function(){r.back({stack:n.navigateOptions.stack})},icon:"arrowleft",type:"back",renderStage:r._options.useViewTitleAsBackText?"onViewRendering":"onViewShown"})],o=t.framework.utils.mergeCommands(e,i),i.length=0,i.push.apply(i,o)},_showView:function(n,r){var u=this,f={viewInfo:n,direction:r,params:n.routeData};return t.data.utils.processRequestResultLock.obtain(),u._showViewImpl(f.viewInfo,f.direction).done(function(){i.executeAsync(function(){t.data.utils.processRequestResultLock.release(),u._processEvent("viewShown",f,n.model),u._disposeRemovedViews()})})},_highlightCurrentNavigationCommand:function(t,r){var e=this,u,f=t.model&&t.model.currentNavigationItemId;f!==undefined&&n.each(this.navigation,function(n,t){if(t.option("id")===f)return u=t,!1}),u||n.each(this.navigation,function(n,t){var r=t.option("onExecute");if(i.isString(r)&&(r=r.replace(/^#+/,""),r===e.navigationManager.rootUri()))return u=t,!1}),n.each(this.navigation,function(n,t){r&&t===u&&t.option("highlighted")&&t.fireEvent("optionChanged",[{name:"highlighted",value:!0,previousValue:!0}]),t.option("highlighted",t===u)})},_showViewImpl:s,_obtainViewLink:function(n){var t=n.key;this._viewLinksHash[t]?this._viewLinksHash[t].linkCount++:this._viewLinksHash[t]={viewInfo:n,linkCount:1}},_releaseViewLink:function(n){this._viewLinksHash[n.key].linkCount--},navigate:function(t,i){var u=this;if(n.isPlainObject(t)&&(t=u.router.format(t),t===!1))throw r.Error("E3002");if(u._initState)if(u._initState===e)(!u._isNavigating||t)&&u.navigationManager.navigate(t,i);else throw r.Error("E3003");else u.init().done(function(){u.restoreState(),u.navigate(t,i)})},canBack:function(n){return this.navigationManager.canBack(n)},_getPreviousViewInfo:function(n){var t=this.navigationManager.previousItem(n.stack),i,r;return t&&(r=this.router.parse(t.uri),i=this.viewCache.getView(this._getViewInfoKey(t,r))),i},back:function(n){this.navigationManager.back(n)},saveState:function(){this.stateManager.saveState()},restoreState:function(){this.stateManager.restoreState()},clearState:function(){this.stateManager.clearState()}}).include(h)}(jQuery,DevExpress),function(n,t){t.framework.html={layoutSets:{},animationSets:{"native":{"view-content-change":[{animation:"slide"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"none",device:{deviceType:"desktop",platform:"generic"}},{animation:"none",device:{grade:"C"}}],"view-header-toolbar":[{animation:"ios7-toolbar"},{animation:"slide",device:{grade:"B"}},{animation:"none",device:{grade:"C"}}]},"default":{"layout-change":[{animation:"none"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"pop",device:{platform:"android"}},{animation:"openDoor",device:{deviceType:"phone",platform:"win"}}],"view-content-change":[{animation:"slide"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"fade",device:{deviceType:"desktop",platform:"generic"}},{animation:"none",device:{grade:"C"}}],"view-content-rendered":[{animation:"fade"},{animation:"none",device:{grade:"C"}}],"view-header-toolbar":[{animation:"ios7-toolbar"},{animation:"slide",device:{grade:"B"}},{animation:"none",device:{grade:"C"}}],"command-rendered":[{animation:"stagger-fade-drop"},{animation:"fade",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"list-item-rendered":[{animation:"stagger-3d-drop",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"detail-item-rendered":[{animation:"stagger-3d-drop",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"edit-item-rendered":[{animation:"stagger-3d-drop",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}]},slide:{"view-content-change":[{animation:"slide"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"fade",device:{deviceType:"desktop",platform:"generic"}},{animation:"none",device:{grade:"C"}}],"view-content-rendered":[{animation:"fade"},{animation:"none",device:{grade:"C"}}],"view-header-toolbar":[{animation:"ios7-toolbar"},{animation:"slide",device:{grade:"B"}},{animation:"none",device:{grade:"C"}}],"command-rendered":[{animation:"stagger-fade-drop"},{animation:"fade",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"list-item-rendered":[{animation:"stagger-fade-slide",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"detail-item-rendered":[{animation:"stagger-fade-slide",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"edit-item-rendered":[{animation:"stagger-fade-slide",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}]},zoom:{"view-content-change":[{animation:"slide"},{animation:"ios7-slide",device:{platform:"ios"}},{animation:"fade",device:{deviceType:"desktop",platform:"generic"}},{animation:"none",device:{grade:"C"}}],"view-content-rendered":[{animation:"fade"},{animation:"none",device:{grade:"C"}}],"view-header-toolbar":[{animation:"ios7-toolbar"},{animation:"slide",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"command-rendered":[{animation:"stagger-fade-zoom"},{animation:"fade",device:{grade:"B"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"list-item-rendered":[{animation:"stagger-fade-zoom",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"detail-item-rendered":[{animation:"stagger-fade-zoom",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}],"edit-item-rendered":[{animation:"stagger-fade-zoom",device:{grade:"A"}},{animation:"fade",device:{deviceType:"desktop"}},{animation:"none",device:{grade:"C"}}]}}}}(jQuery,DevExpress),function(n,t){var f=t.require("/class"),r=t.require("/utils/utils.publicComponent"),e=t.require("/ui/events/ui.events.remove"),u=f.inherit({ctor:function(t,i){this.NAME=this.constructor.publicName(),i=i||{},this._$element=n(t).one(e.name,n.proxy(function(){this._dispose()},this)),r.attachInstanceToElement(this._$element,this.NAME,this),i.fromCache?this._options=i:(this._options={},this._setDefaultOptions(),i&&this.option(i),this._render())},_setDefaultOptions:n.noop,_render:n.noop,_dispose:n.noop,element:function(){return this._$element},option:function(t,i){if(arguments.length===0)return this._options;if(arguments.length===1){if(typeof t=="string")return this._options[t];i=t,n.extend(this._options,i)}else this._options[t]=i},instance:function(){return this}});u.publicName=r.getName,u.getInstance=function(n){return r.getInstanceByElement(n,this.publicName())},n.extend(t.framework.html,{MarkupComponent:u})}(jQuery,DevExpress),function(n,t){var o=DevExpress.require("/class"),e=t.framework.utils.commandToContainer,s="dxCommandToWidgetAdapter",i=o.inherit({ctor:function(n,t){this.command=n,this.widgetItem=this._createWidgetItem(n,t)},_createWidgetItem:function(t,i){var r=n.extend({},i,t.option()),f=function(n){t.execute(n)},u;return r.text=e.resolveTextValue(t,i),r.icon=e.resolveIconValue(t,i),r.type=e.resolvePropertyValue(t,i,"type"),r.location=e.resolvePropertyValue(t,i,"location"),u=this._createWidgetItemCore(r,f),u.command=t,u},_createWidgetItemCore:function(n){return n},dispose:function(){delete this.command,delete this.widgetItem}}),r=o.inherit({ctor:function(i){this._commandToWidgetItemOptionNames={},this.$widgetElement=i,this.$widgetElement.data(s,this),this.widget=this._getWidgetByElement(i),this._widgetWidgetContentReadyHandler=n.proxy(this._onWidgetContentReady,this),this._widgetWidgetItemRenderedHandler=n.proxy(this._onWidgetItemRendered,this),this._widgetDisposingHandler=n.proxy(this._onWidgetDisposing,this);this.widget.on("itemRendered",this._widgetWidgetItemRenderedHandler);this.widget.on("contentReady",this._widgetWidgetContentReadyHandler);this.widget.on("disposing",this._widgetDisposingHandler);this.itemWrappers=[],this._transitionExecutor=new t.TransitionExecutor},addCommand:function(t,i){var r=this._createItemWrapper(t,i);this.itemWrappers.push(r),this._addItemToWidget(r),this._commandChangedHandler=n.proxy(this._onCommandChanged,this);r.command.on("optionChanged",this._commandChangedHandler)},beginUpdate:function(){this.widget.beginUpdate()},endUpdate:function(){return this.widget.endUpdate(),this.animationDeferred},_onWidgetItemRendered:function(n){n.itemData.isJustAdded&&n.itemData.command&&n.itemData.command.option("visible")&&this._commandRenderedAnimation&&(this._transitionExecutor.enter(n.itemElement,this._commandRenderedAnimation),delete n.itemData.isJustAdded)},_onWidgetContentReady:function(){this.animationDeferred=this._transitionExecutor.start()},_onWidgetDisposing:function(){this.dispose(!0)},_setWidgetItemOption:function(t,i,r){var e=this.widget.option("items"),f=n.inArray(r,n.map(e,function(n){return n.command||{}})),u;f>-1&&(u="items["+f+"].",t!=="visible"&&t!=="location"&&this.widget.option("items["+f+"]").options&&(u+="options."),u+=this._commandToWidgetItemOptionNames[t]||t,this.widget.option(u,i))},_onCommandChanged:function(n){n.name!=="highlighted"&&this._setWidgetItemOption(n.name,n.value,n.component)},_addItemToWidget:function(n){var t=this.widget.option("items");t.push(n.widgetItem),this.widget.element().is(":visible")&&(n.widgetItem.isJustAdded=!0),this.widget.option("items",t)},refresh:function(){var n=this.widget.option("items");this.widget.option("items",n)},clear:function(t){var i=this;n.each(i.itemWrappers,function(n,t){t.command.off("optionChanged",i._commandChangedHandler),t.dispose()}),this.itemWrappers.length=0,t||this._clearWidgetItems()},_clearWidgetItems:function(){this.widget.option("items",[])},dispose:function(n){this.clear(n),this.widget&&(this.widget.off("itemRendered",this._widgetWidgetItemRenderedHandler),this.widget.off("contentReady",this._widgetContentReadyHandler),this.widget.off("disposing",this._widgetDisposingHandler),this.$widgetElement.removeData(s),delete this.widget,delete this.$widgetElement)}}),u=o.inherit({ctor:function(n){this.createAdapter=n},_getWidgetAdapter:function(n){var t=n.data(s);return t||(t=this.createAdapter(n)),t},addCommand:function(n,t,i){var r=this._getWidgetAdapter(n);r.addCommand(t,i)},clearContainer:function(n){var t=this._getWidgetAdapter(n);t.clear()},beginUpdate:function(n){var t=this._getWidgetAdapter(n);t.beginUpdate()},endUpdate:function(n){var t=this._getWidgetAdapter(n);return t.endUpdate()}}),h=i.inherit({_createWidgetItemCore:function(n,t){var i;return n.onClick=t,n.location==="menu"?i=n:(i={location:n.location,visible:n.visible,options:n,widget:"button"},n.visible=!0,delete n.location),i}}),c=r.inherit({ctor:function(n){this.callBase(n),this._commandToWidgetItemOptionNames={title:"text"},this._commandRenderedAnimation="command-rendered"},_getWidgetByElement:function(n){return n.dxToolbar("instance")},_createItemWrapper:function(n,t){return new h(n,t)},addCommand:function(n,t){this.widget.option("visible",!0),this.callBase(n,t)}}),l=i.inherit({_createWidgetItemCore:function(n,t){return n.title=n.text,n.onClick=t,n}}),a=r.inherit({_createItemWrapper:function(n,t){return new l(n,t)},_getWidgetByElement:function(n){return n.dxList("instance")}}),v=i.inherit({}),y=r.inherit({ctor:function(t){this.callBase(t),this._commandToWidgetItemOptionNames={title:"text"},this.widget.option("onItemClick",n.proxy(this._onNavBarItemClick,this))},_onNavBarItemClick:function(n){for(var i=this.widget.option("items"),t=i.length;--t;)i[t].command.option("highlighted",!1);n.itemData.command.execute(n)},_getWidgetByElement:function(n){return n.dxNavBar("instance")},_createItemWrapper:function(n,t){return new v(n,t)},addCommand:function(n,t){this.callBase(n,t),this._updateSelectedIndex()},_onCommandChanged:function(n){var t=n.name,i=n.value;t==="highlighted"&&i&&this._updateSelectedIndex(),this.callBase(n)},_updateSelectedIndex:function(){for(var i=this.widget.option("items"),t,n=0,r=i.length;n<r;n++)if(t=i[n].command,t&&t.option("highlighted")){this.widget.option("selectedIndex",n);break}}}),p=i.inherit({_createWidgetItemCore:function(n){return n.title=n.text,n}}),w=r.inherit({ctor:function(t){this.callBase(t),this.widget.option("onSelectionChanged",n.proxy(this._onPivotSelectionChange,this))},_onPivotSelectionChange:function(n){n.addedItems.length&&n.removedItems.length&&n.addedItems[0]&&n.addedItems[0].command&&n.addedItems[0].command.execute(n)},_getWidgetByElement:function(n){return n.dxPivot("instance")},_createItemWrapper:function(n,t){return new p(n,t)},addCommand:function(n,t){this.callBase(n,t),this._updateSelectedIndex()},_onCommandChanged:function(n){var t=n.name,i=n.value;t==="visible"?this._rerenderPivot():t==="highlighted"&&i&&this._updateSelectedIndex(),this.callBase(n)},_addItemToWidget:function(n){n.command.option("visible")&&this.callBase(n)},_updateSelectedIndex:function(){var r=this.widget,u=r.option("items")||[],n,f,i;for(t.fx.off=!0,n=0,f=u.length;n<f;n++)if(i=u[n].command,i&&i.option("highlighted")){r.option("selectedIndex",n);break}t.fx.off=!1},_rerenderPivot:function(){var t=this;t.widget.option("items",[]),n.each(t.itemWrappers,function(n,i){i.command.option("visible")&&t._addItemToWidget(i)}),t.refresh(),t._updateSelectedIndex()}}),b=i.inherit({}),k=r.inherit({ctor:function(t){this.callBase(t),this._commandToWidgetItemOptionNames={title:"text"},this.widget.option("onItemClick",n.proxy(this._onSlideOutItemClick,this))},_onSlideOutItemClick:function(n){n.itemData.command.execute(n)},_getWidgetByElement:function(n){return n.dxSlideOut("instance")},_createItemWrapper:function(n,t){return new b(n,t)},_updateSelectedIndex:function(){for(var i=this.widget.option("items")||[],t,n=0,r=i.length;n<r;n++)if(t=i[n].command,t&&t.option("highlighted")){this.widget.option("selectedIndex",n);break}},addCommand:function(n,t){this.callBase(n,t),this._updateSelectedIndex()},_onCommandChanged:function(n){var t=n.name,i=n.value;t==="highlighted"&&i&&this._updateSelectedIndex(),this.callBase(n)}}),f=t.framework.html.commandToDXWidgetAdapters={};f.dxToolbar=new u(function(n){return new c(n)}),f.dxList=new u(function(n){return new a(n)}),f.dxNavBar=new u(function(n){return new y(n)}),f.dxPivot=new u(function(n){return new w(n)}),f.dxSlideOut=new u(function(n){return new k(n)})}(jQuery,DevExpress),function(n,t){var u=DevExpress.require("/class"),r=DevExpress.require("/framework/framework.errors"),f=t.require("/componentRegistrator"),e=t.framework.html.MarkupComponent.inherit({ctor:function(t,i){n.isPlainObject(t)&&(i=t,t=n("<div />")),this.callBase(t,i)},_setDefaultOptions:function(){this.callBase(),this.option({id:null})},_render:function(){this.callBase(),this.element().addClass("dx-command-container")}});f("dxCommandContainer",t.framework,e),t.framework.html.CommandManager=u.inherit({ctor:function(n){n=n||{},this.defaultWidgetAdapter=n.defaultWidgetAdapter||this._getDefaultWidgetAdapter(),this.commandMapping=n.commandMapping||new t.framework.CommandMapping},_getDefaultWidgetAdapter:function(){return{addCommand:n.noop,clearContainer:n.noop}},_getContainerAdapter:function(n){var i=n.data("dxComponents"),u=t.framework.html.commandToDXWidgetAdapters,f,r;if(i)for(f in i)if(r=i[f],r in u)return u[r];return this.defaultWidgetAdapter},findCommands:function(t){return n.map(t.addBack().find(".dx-command"),function(t){return n(t).dxCommand("instance")})},findCommandContainers:function(t){return n.map(t.find(".dx-command-container"),function(t){return n(t).dxCommandContainer("instance")})},_checkCommandId:function(n,t){if(n===null)throw r.Error("E3010",t.element().get(0).outerHTML);},renderCommandsToContainers:function(t,i){var r=this,u={},f=[],e=[];return n.each(t,function(n,t){var i=t.option("id");r._checkCommandId(i,t),f.push(i),u[i]=t}),r.commandMapping.checkCommandsExist(f),n.each(i,function(t,i){var f=[],o;n.each(u,function(n,t){var e=n,u=r.commandMapping.getCommandMappingForContainer(e,i.option("id"));u&&f.push({command:t,options:u})}),f.length&&(o=r._attachCommandsToContainer(i.element(),f),o&&e.push(o))}),n.when.apply(n,e)},clearContainer:function(n){var t=n.element(),i=this._getContainerAdapter(t);i.clearContainer(t)},_arrangeCommandsToContainers:function(n,t){r.log("W0002","CommandManager","_arrangeCommandsToContainers","14.1","Use the 'renderCommandsToContainers' method instead."),this.renderCommandsToContainers(n,t)},_attachCommandsToContainer:function(t,i){var r=this._getContainerAdapter(t),u;return r.beginUpdate&&r.beginUpdate(t),n.each(i,function(n,i){r.addCommand(t,i.command,i.options)}),r.endUpdate&&(u=r.endUpdate(t)),u}})}(jQuery,DevExpress),function(n,t,i){var l=DevExpress.require("/class"),a=t.require("/eventsMixin"),v=DevExpress.require("/framework/framework.errors"),y=t.require("/utils/utils.common"),f=t.require("/utils/utils.dom"),r="__hidden-bag",e=".dx-transition:not(.dx-transition .dx-transition)",p=".dx-content",o="onViewShown",s="dxcontentrendered.layoutController",h=".dx-pending-rendering",c=".dx-pending-rendering-manual",w=function(n){return".dx-transition-"+n},u;t.framework.html.DefaultLayoutController=l.inherit({ctor:function(n){n=n||{},this.name=n.name||"",this._layoutModel=n.layoutModel||{},this._defaultPaneName=n.defaultPaneName||"content",this._transitionDuration=n.transitionDuration===i?400:n.transitionDuration},init:function(i){i=i||{},this._visibleViews={},this._$viewPort=i.$viewPort||n("body"),this._commandManager=i.commandManager,this._viewEngine=i.viewEngine,this.transitionExecutor=new t.TransitionExecutor,this._prepareTemplates(),this._$viewPort.append(this.element()),this._hideElements(this.element()),i.templateContext&&(this._templateContext=i.templateContext,this._proxiedTemplateContextChangedHandler=n.proxy(this._templateContextChangedHandler,this))},activate:function(){if(this._disabledState)return this._disabledState=!1,this._notifyShowing(),n.Deferred().resolve().promise();var t=this.element();return this._showElements(t),this._attachRefreshViewRequiredHandler(),n.Deferred().resolve().promise()},deactivate:function(){return this._disabledState=!1,this._releaseVisibleViews(),this._hideElements(this.element()),this._detachRefreshViewRequiredHandler(),n.Deferred().resolve().promise()},disable:function(){this._disabledState=!0,this._notifyHidden()},activeViewInfo:function(){return this._visibleViews[this._defaultPaneName]},_notifyShowing:function(){var t=this;n.each(this._visibleViews,function(n,i){t.fireEvent("viewShowing",[i])})},_notifyHidden:function(){var t=this;n.each(this._visibleViews,function(n,i){t.fireEvent("viewHidden",[i])})},_applyTemplate:function(n,i){n.each(function(n,r){t.framework.templateProvider.applyTemplate(r,i)})},_releaseVisibleViews:function(){var t=this;n.each(this._visibleViews,function(n,i){t._hideView(i),t._releaseView(i)}),this._visibleViews={}},_templateContextChangedHandler:function(){n.each(this._visibleViews,n.proxy(function(n,t){this.showView(t)},this))},_attachRefreshViewRequiredHandler:function(){if(this._templateContext)this._templateContext.on("optionChanged",this._proxiedTemplateContextChangedHandler)},_detachRefreshViewRequiredHandler:function(){this._templateContextChanged&&this._templateContext.off("optionChanged",this._proxiedTemplateContextChangedHandler)},_getPreviousViewInfo:function(n){return this._visibleViews[this._getViewPaneName(n.viewTemplateInfo)]},_prepareTemplates:function(){var n=this,t=n._viewEngine.getLayoutTemplate(this._getLayoutTemplateName());n._$layoutTemplate=t,n._$mainLayout=n._createEmptyLayout(),n._showElements(n._$mainLayout),n._applyTemplate(n._$mainLayout,n._layoutModel),n._$navigationWidget=n._createNavigationWidget()},renderNavigation:function(n){this._clearNavigationWidget(),this._renderNavigationImpl(n)},_renderNavigationImpl:function(n){this._renderCommands(this._$mainLayout,n)},_createNavigationWidget:function(){var i=this._findCommandContainers(this._$mainLayout),t;return n.each(i,function(n,i){if(i.option("id")==="global-navigation")return t=i.element(),!1}),t},_clearNavigationWidget:function(){this._$navigationWidget&&this._commandManager.clearContainer(this._$navigationWidget.dxCommandContainer("instance"))},element:function(){return this._$mainLayout},_getViewFrame:function(){return this._$mainLayout},_getLayoutTemplateName:function(){return this.name},_applyModelToTransitionElements:function(t,i){var r=this;this._getTransitionElements(t).each(function(t,u){r._applyTemplate(n(u).children(),i)})},_createViewLayoutTemplate:function(){var t=this,n=t._$layoutTemplate.clone();return this._hideElements(n),n},_createEmptyLayout:function(){var t=this,n=t._$layoutTemplate.clone();return this._hideElements(n),this._getTransitionElements(n).empty(),n.children(p).remove(),n},_getTransitionElements:function(n){return n.find(e).addBack(e)},showView:function(t,r){r=r||"forward";var u=this,f=u._getPreviousViewInfo(t),e=f===t?f.currentViewTemplateId:i;return(this._defineCurrentViewTemplateId(t),e&&e===t.currentViewTemplateId&&t===f)?n.Deferred().resolve().promise():(u._ensureViewRendered(t),u.fireEvent("viewShowing",[t,r]),this._showViewImpl(t,r,e).done(function(){u._onViewShown(t)}))},disposeView:function(n){this._clearRenderResult(n)},_clearRenderResult:function(n){n.renderResult&&(n.renderResult.$markup.remove(),n.renderResult.$viewItems.remove(),delete n.renderResult)},_prepareViewTemplate:function(){},_renderViewImpl:function(t,i){var s=this,e=".dx-command,.dx-content,script",u=this._createViewLayoutTemplate(),f,o=!0,r=n();if(t.children(e).length===0&&this._viewEngine._wrapViewDefaultContent(t),f=t.children(),this._applyModelToTransitionElements(u,i.model),this._viewEngine.applyLayout(t,u),f.each(function(t,u){var f=n(u);s._applyTemplate(f,i.model),f.is(e)?o=!1:r=r.add(f)}),r.length&&!o)throw v.Error("E3014",r[0].outerHTML);i.renderResult=i.renderResult||{},i.renderResult.$viewItems=f,i.renderResult.$markup=u},_renderCommands:function(n,t){var i=this._findCommandContainers(n);return this._commandManager.renderCommandsToContainers(t,i)},_prepareViewCommands:function(i){var u=i.renderResult.$viewItems,f=this._commandManager.findCommands(u),r={};i.commands=t.framework.utils.mergeCommands(i.commands||[],f),i.commandsToRenderMap=r,n.each(i.commands,function(n,t){var i=t.option("renderStage")||o,u=r[i]=r[i]||[];u.push(t)})},_applyViewCommands:function(t,i){i=i||o;var u=t.commandsToRenderMap[i],f=t.renderResult.$markup,r;return u?(r=this._renderCommands(f,u),delete t.commandsToRenderMap[i]):r=n.Deferred().resolve().promise(),r},_findCommandContainers:function(n){return f.createComponents(n,["dxCommandContainer"])},_defineCurrentViewTemplateId:function(n){var t=n.$viewTemplate?n.$viewTemplate.dxView("instance"):this._viewEngine.getViewTemplateInfo(n.viewName),i=t.getId();n.currentViewTemplateId=i},_ensureViewRendered:function(n){var t=n.renderResult&&n.renderResult.markupCache[n.currentViewTemplateId];t?n.renderResult.$markup=t:(this._renderView(n),n.renderResult.markupCache=n.renderResult.markupCache||{},n.renderResult.markupCache[n.currentViewTemplateId]=n.renderResult.$markup)},_renderView:function(n){var t=n.$viewTemplate||this._viewEngine.getViewTemplate(n.viewName);this._prepareViewTemplate(t,n),this._renderViewImpl(t,n),this._prepareViewCommands(n),this._applyViewCommands(n,"onViewRendering"),this._appendViewToLayout(n),t.remove(),this._onRenderComplete(n),this.fireEvent("viewRendered",[n])},_appendViewToLayout:function(i){var r=this,s=r._getViewFrame(i),u=i.renderResult.$markup,e=n(),o=[];n.each(u.find(".dx-content-placeholder"),function(i,r){t.framework.prepareTransition(n(r),n(r).attr("data-dx-content-placeholder-name"))}),n.each(r._getTransitionElements(s),function(t,i){var h=n(i),s=u.find(w(h.attr("data-dx-transition-name"))).children(),c={$element:s,animation:h.attr("data-dx-transition-type")};o.push(c),h.append(s),r._showViewElements(s),f.triggerShownEvent(s),e=e.add(s)}),r._$mainLayout.append(i.renderResult.$viewItems.filter(".dx-command")),u.remove(),i.renderResult.$markup=e,i.renderResult.animationItems=o},_onRenderComplete:function(){},_onViewShown:function(){n(document).trigger("dx.viewchanged")},_enter:function(t,i){var r=this.transitionExecutor;n.each(t,function(n,t){r.enter(t.$element,t.animation,i)})},_leave:function(t,i){var r=this.transitionExecutor;n.each(t,function(n,t){r.leave(t.$element,t.animation,i)})},_doTransition:function(n,t,i){return n&&this._leave(n.renderResult.animationItems,i),this._enter(t.renderResult.animationItems,i),this._showView(t),this.transitionExecutor.start()},_showViewImpl:function(n,t,r){var f=this,e,u=this._getPreviousViewInfo(n),o={direction:t};return u===n&&(u=i),u||(o.duration=0),e=f._doTransition(u,n,o).then(function(){return f._changeView(n,r)})},_releaseView:function(n){this.fireEvent("viewReleased",[n])},_getReadyForRenderDeferredItems:function(){return n.Deferred().resolve().promise()},_changeView:function(n,t){var i=this,r;return t?i._hideView(n,t):(r=i._getPreviousViewInfo(n),r&&r!==n&&(i._hideView(r),i._releaseView(r)),this._visibleViews[this._getViewPaneName(n.viewTemplateInfo)]=n),this._subscribeToDeferredItems(n),this._getReadyForRenderDeferredItems(n).then(function(){return i._applyViewCommands(n)}).then(function(){return i._renderDeferredItems(n.renderResult.$markup)})},_subscribeToDeferredItems:function(t){var i=this,r=t.renderResult.$markup;r.find(h).add(r.filter(h)).each(function(){var r={viewInfo:t,context:i};n(this).on(s,r,i._onDeferredContentRendered)})},_onDeferredContentRendered:function(t){var i=n(t.target),u=t.data.viewInfo,r=t.data.context;i.off(s,r._onDeferredContentRendered),r._renderCommands(i,u.commands)},_renderDeferredItems:function(t){var f=this,i=n.Deferred(),r=t.find(c).add(t.filter(c)).first(),u;return r.length?(u=r.data("dx-render-delegate"),y.executeAsync(function(){u().then(function(){return f._renderDeferredItems(t)}).then(function(){i.resolve()})})):i.resolve(),i.promise()},_getViewPaneName:function(){return this._defaultPaneName},_hideElements:function(n){n.addClass("dx-fast-hidden")},_showElements:function(n){n.removeClass("dx-fast-hidden")},_hideViewElements:function(n){this._patchIDs(n),this._disableInputs(n),n.removeClass("dx-active-view").addClass("dx-inactive-view")},_hideView:function(n,t){if(n.renderResult){var r=t===i?n.renderResult.$markup:n.renderResult.markupCache[t];this._hideViewElements(r),this.fireEvent("viewHidden",[n])}},_showViewElements:function(n){this._unpatchIDs(n),this._enableInputs(n),n.removeClass("dx-inactive-view").addClass("dx-active-view"),this._skipAnimation(n)},_showView:function(n){n.renderResult&&this._showViewElements(n.renderResult.$markup)},_skipAnimation:function(n){n.addClass("dx-skip-animation");for(var t=0;t<n.length;t++)n.eq(t).css("transform");n.removeClass("dx-skip-animation")},_patchIDs:function(n){this._processIDs(n,function(n){var t=n;return n.indexOf(r)===-1&&(t=r+"-"+n),t})},_unpatchIDs:function(n){this._processIDs(n,function(n){var t=n;return n.indexOf(r)===0&&(t=n.substr(r.length+1)),t})},_processIDs:function(t,i){var r=t.find("[id]");n.each(r,function(t,r){var u=n(r),f=u.attr("id");u.attr("id",i(f))})},_enableInputs:function(t){var i=t.find(":input[data-disabled=true]");n.each(i,function(t,i){n(i).removeAttr("disabled").removeAttr("data-disabled")})},_disableInputs:function(t){var i=t.find(":input:not([disabled], [disabled=true])");n.each(i,function(t,i){n(i).attr({disabled:!0,"data-disabled":!0})})}}).include(a),u=t.framework.html.layoutSets,u["default"]=u["default"]||[],u["default"].push({controller:new t.framework.html.DefaultLayoutController})}(jQuery,DevExpress),function(n,t,i){var v=DevExpress.require("/class"),s=DevExpress.require("/framework/framework.errors"),u=t.require("/utils/utils.dom"),y=t.require("/utils/utils.common"),f=t.require("/componentRegistrator"),r=t.framework,e=t.framework.html.MarkupComponent,c="MarkupTemplate:",o="dxView",h="dxLayout",l,a;f(o,r,e.inherit({_setDefaultOptions:function(){this.callBase(),this.option({name:null,title:null})},ctor:function(){this._id=u.uniqueId(),this.callBase.apply(this,arguments)},_render:function(){this.callBase(),this.element().addClass("dx-view"),this.element().attr("dx-data-template-id",this._id)},getId:function(){return this._id}}),r),f(h,r,e.inherit({_setDefaultOptions:function(){this.callBase(),this.option({name:null})},_render:function(){this.callBase(),this.element().addClass("dx-layout")}})),f("dxViewPlaceholder",r,e.inherit({_setDefaultOptions:function(){this.callBase(),this.option({viewName:null})},_render:function(){this.callBase(),this.element().addClass("dx-view-placeholder")}})),l=function(n,t,i,r){r==="absolute"?n.addClass("dx-transition-absolute"):n.addClass("dx-transition-static"),n.addClass("dx-transition").addClass("dx-transition-"+i).addClass("dx-transition-"+t).attr("data-dx-transition-type",t).attr("data-dx-transition-name",i)},a=function(n){n.addClass("dx-transition-inner-wrapper")},f("dxTransition",r,e.inherit({_setDefaultOptions:function(){this.callBase(),this.option({name:null,type:i,animation:"slide"})},_render:function(){this.callBase();var n=this.element();l(n,this.option("type")||this.option("animation"),this.option("name"),"absolute"),n.wrapInner("<div/>"),a(n.children())},_clean:function(){this.callBase(),this.element().empty()}})),t.framework.prepareTransition=function(n,t){n.children(".dx-content").length===0&&(n.wrapInner("<div>"),n.children().dxContent({targetPlaceholder:t}))},f("dxContentPlaceholder",r,e.inherit({_setDefaultOptions:function(){this.callBase(),this.option({name:null,transition:i,animation:"none",contentCssPosition:"absolute"})},_render:function(){this.callBase();var n=this.element();n.addClass("dx-content-placeholder").addClass("dx-content-placeholder-"+this.option("name")),n.attr("data-dx-content-placeholder-name",this.option("name")),l(n,this.option("transition")||this.option("animation"),this.option("name"),this.option("contentCssPosition"))},prepareTransition:function(){t.framework.prepareTransition(this.element(),this.option("name"))}})),f("dxContent",r,e.inherit({_setDefaultOptions:function(){this.callBase(),this.option({targetPlaceholder:null})},_optionChanged:function(){this._refresh()},_clean:function(){this.callBase(),this.element().removeClass(this._currentClass)},_render:function(){this.callBase();var n=this.element();n.addClass("dx-content"),this._currentClass="dx-content-"+this.option("targetPlaceholder"),n.attr("data-dx-target-placeholder-id",this.option("targetPlaceholder")),n.addClass(this._currentClass),a(n)}})),r.html.ViewEngine=v.inherit({ctor:function(t){t=t||{},this.$root=t.$root,this.device=t.device||{},this.dataOptionsAttributeName=t.dataOptionsAttributeName||"data-options",this._templateMap={},this._pendingViewContainer=null,this.markupLoaded=n.Callbacks(),this._templateContext=t.templateContext,this._$skippedMarkup=n(),t.templatesVersion!==i&&t.templateCacheStorage&&(this._templateCacheEnabled=!0,this._templatesVersion="v_"+t.templatesVersion,this._templateCacheStorage=t.templateCacheStorage,this._templateCacheKey="dxTemplateCache_"+DevExpress.VERSION+"_"+JSON.stringify(this.device))},_enumerateTemplates:function(t){var i=this;n.each(i._templateMap,function(i,r){n.each(r,function(i,r){n.each(r,function(n,i){t(i)})})})},_findComponent:function(n,t){var i=(this._templateMap[n]||{})[t]||[],r=this._templateContext&&this._templateContext.option()||{};return i=this._filterTemplates(r,i),this._checkMatchedTemplates(i),i[0]},_findTemplate:function(n,t){var i=this._findComponent(n,t),r,f;if(!i)throw s.Error("E3013",t,n);return r=i.element(),i._isStaticComponentsCreated||(u.createComponents(r,["dxContent","dxContentPlaceholder","dxTransition"]),i._isStaticComponentsCreated=!0),f=r.clone().removeClass("dx-hidden")},_loadTemplatesFromMarkupCore:function(t){var i=this,f,r;if(t.find("[data-dx-role]").length)throw s.Error("E3019");i.markupLoaded.fire({markup:t}),f=u.createComponents(t,[o,h]),n.each(f,function(n,t){var r=t.element();r.addClass("dx-hidden"),i._registerTemplateComponent(t),t.element().detach()}),r=t.filter("script"),r.appendTo(i.$root),i._$skippedMarkup=i._$skippedMarkup.add(r)},_registerTemplateComponent:function(n){var i=n.NAME,u=n.option(),r=u.name,t=this._templateMap[r]||{};t[i]=t[i]||[],t[i].push(n),this._templateMap[r]=t},_applyPartialViews:function(t){var i=this;u.createComponents(t,["dxViewPlaceholder"]),n.each(t.find(".dx-view-placeholder"),function(){var r=n(this),u,t;r.children().length||(u=r.data("dxViewPlaceholder").option("viewName"),t=i._findTemplate(u,o),i._applyPartialViews(t),r.append(t),t.removeClass("dx-hidden"))})},_ajaxImpl:function(){return n.ajax.apply(n,arguments)},_loadTemplatesFromURL:function(t){var f=this,r=this._getLoadOptions(),i=n.Deferred();return t=r.winPhonePrefix+t,this._ajaxImpl({url:t,isLocal:r.isLocal,dataType:"html"}).done(function(n){f._loadTemplatesFromMarkupCore(u.createMarkupFromString(n)),i.resolve()}).fail(function(n,r,u){var f=s.Error("E3021",t,u);i.reject(f)}),i.promise()},_getLoadOptions:function(){return location.protocol.indexOf("wmapp")>=0?{winPhonePrefix:location.protocol+"www/",isLocal:!0}:{winPhonePrefix:"",isLocal:i}},_loadExternalTemplates:function(){var t=[],i=this;return n("head").find("link[rel='dx-template']").each(function(r,u){var f=i._loadTemplatesFromURL(n(u).attr("href"));t.push(f)}),n.when.apply(n,t)},_processTemplates:function(){var t=this;n.each(t._templateMap,function(i,r){n.each(r,function(n,i){t._filterTemplatesByDevice(i)})}),t._enumerateTemplates(function(n){t._applyPartialViews(n.element())})},_filterTemplatesByDevice:function(t){var i=this._filterTemplates(this.device,t);n.each(t,function(t,r){n.inArray(r,i)<0&&r.element().remove()}),t.length=0,t.push.apply(t,i)},_filterTemplates:function(n,t){return y.findBestMatches(n,t,function(n){return n.option()})},_checkMatchedTemplates:function(t){if(t.length>1){var i="";n.each(t,function(n,t){i+=t.element().attr("data-options")+"\r\n"});throw s.Error("E3020",i,JSON.stringify(this.device));}},_wrapViewDefaultContent:function(n){n.wrapInner('<div class="dx-full-height"><\/div>'),n.children().eq(0).dxContent({targetPlaceholder:"content"})},_initDefaultLayout:function(){this._$defaultLayoutTemplate=n('<div class="dx-full-height" data-options="dxLayout : { name: \'default\' } "> \n    <div class="dx-full-height" data-options="dxContentPlaceholder : { name: \'content\' } " ><\/div> \n<\/div>'),u.createComponents(this._$defaultLayoutTemplate)},_getDefaultLayoutTemplate:function(){return this._$defaultLayoutTemplate.clone()},applyLayout:function(t,r){(r===i||r.length===0)&&(r=this._getDefaultLayoutTemplate()),t.children(".dx-content").length===0&&this._wrapViewDefaultContent(t);var u=n().add(r).add(t),f=u.find(".dx-content");return n.each(f,function(){var t=n(this),r=t.attr("data-dx-target-placeholder-id"),i=u.find(".dx-content-placeholder-"+r);i.empty(),i.append(t)}),f.filter(":not(.dx-content-placeholder .dx-content)").remove(),r},_loadTemplatesFromCache:function(){var t,r,i,u;if(this._templateCacheEnabled){if(r=function(t,i){if(typeof i=="string"&&i.indexOf(c)===0){var r=JSON.parse(i.substr(c.length)),u=r.type,f=r.options,e=n(r.markup);return f.fromCache=!0,e[u](f)[u]("instance")}return t==="skippedMarkup"?n("<div>").append(n(i)).contents():i},i=this._templateCacheStorage.getItem(this._templateCacheKey),i)try{u=JSON.parse(i,r),t=u[this._templatesVersion]}catch(f){this._templateCacheStorage.removeItem(this._templateCacheKey)}if(t)return this._templateMap=t.templates,this.$root.append(t.skippedMarkup),!0}},_putTemplatesToCache:function(){if(this._templateCacheEnabled){var i=function(t,i){return i&&i.element?c+JSON.stringify({markup:i.element().prop("outerHTML"),options:i.option(),type:i.NAME}):t==="skippedMarkup"?n("<div>").append(i.clone()).html():i},t={};t[this._templatesVersion]={templates:this._templateMap,skippedMarkup:this._$skippedMarkup},this._templateCacheStorage.setItem(this._templateCacheKey,JSON.stringify(t,i,4))}},init:function(){var t=this;return this._initDefaultLayout(),this._loadTemplatesFromCache()?n.Deferred().resolve().promise():(t._loadTemplatesFromMarkupCore(t.$root.children()),this._loadExternalTemplates().done(function(){t._processTemplates(),t._putTemplatesToCache()}))},getViewTemplate:function(n){return this._findTemplate(n,o)},getViewTemplateInfo:function(n){return this._findComponent(n,o)},getLayoutTemplate:function(n){return n?this._findTemplate(n,h):this._getDefaultLayoutTemplate()},getLayoutTemplateInfo:function(n){return this._findComponent(n,h)},loadTemplates:function(t){var i;return typeof t=="string"?i=this._loadTemplatesFromURL(t):(this._loadTemplatesFromMarkupCore(t),i=n.Deferred().resolve().promise()),i.done(n.proxy(this._processTemplates,this))}})}(jQuery,DevExpress),function(n,t,i){var c=t.require("/component"),r=t.require("/framework/framework.errors"),l=t.require("/utils/utils.viewPort").value,a=t.require("/utils/utils.object"),v=t.require("/utils/utils.dom"),f=t.require("/utils/utils.common"),u=t.require("/devices"),y=t.require("/ui/events/ui.events.emitter.feedback"),e=t.framework,o=e.html,s="dx-viewport",h="layout-change";o.HtmlApplication=e.Application.inherit({ctor:function(i){i=i||{},this.callBase(i),this._$root=n(i.rootNode||document.body),this._initViewport(i.viewPort),this._applicationMode==="mobileApp"&&v.initMobileViewport(i.viewPort),this.device=i.device||u.current(),this.commandManager=i.commandManager||new t.framework.html.CommandManager({commandMapping:this.commandMapping}),this._initTemplateContext(),this.viewEngine=i.viewEngine||new o.ViewEngine({$root:this._$root,device:this.device,templateCacheStorage:i.templateCacheStorage||window.localStorage,templatesVersion:i.templatesVersion,templateContext:this._templateContext}),this.components.push(this.viewEngine),this._initMarkupFilters(this.viewEngine),this._layoutSet=i.layoutSet||t.framework.html.layoutSets["default"],this._animationSet=i.animationSet||t.framework.html.animationSets["default"],this._availableLayoutControllers=[],this._activeLayoutControllersStack=[],this.transitionExecutor=new t.TransitionExecutor,this._initAnimations(this._animationSet)},_initAnimations:function(i){i&&(n.each(i,function(i,r){n.each(r,function(n,r){t.animationPresets.registerPreset(i,r)})}),t.animationPresets.applyChanges())},_localizeMarkup:function(n){t.localization.localizeNode(n)},_notifyIfBadMarkup:function(t){t.each(function(){var t=n(this).html();/href="#/.test(t)&&r.log("W3005",t)})},_initMarkupFilters:function(t){var i=[];i.push(this._localizeMarkup),t.markupLoaded&&t.markupLoaded.add(function(t){n.each(i,function(n,i){i(t.markup)})})},_createViewCache:function(n){var i=this.callBase(n);return n.viewCache||(i=new t.framework.ConditionalViewCacheDecorator({filter:function(n,t){return!t.viewTemplateInfo.disableCache},viewCache:i})),i},_initViewport:function(){this._$viewPort=this._getViewPort(),l(this._$viewPort)},_getViewPort:function(){var t=n("."+s);return t.length||(t=n("<div>").addClass(s).appendTo(this._$root)),t},_initTemplateContext:function(){this._templateContext=new c({orientation:u.orientation()});u.on("orientationChanged",n.proxy(function(n){this._templateContext.option("orientation",n.orientation)},this))},_showViewImpl:function(t,i){var r=this,u=n.Deferred(),f=u.promise(),e=t.layoutController;return r._obtainViewLink(t),e.showView(t,i).done(function(){r._activateLayoutController(e,r._getTargetNode(t),i).done(function(){u.resolve()})}),y.lock(f),f},_resolveLayoutController:function(n){var t={viewInfo:n,layoutController:null,availableLayoutControllers:this._availableLayoutControllers};return this._processEvent("resolveLayoutController",t,n.model),t.layoutController||this._resolveLayoutControllerImpl(n)},_checkLayoutControllerIsInitialized:function(t){if(t){var i=!1;if(n.each(this._layoutSet,function(n,r){if(r.controller===t)return i=!0,!1}),!i)throw r.Error("E3024");}},_ensureOneLayoutControllerFound:function(n,t){var i=function(n,t){return n==="controller"?"[controller]: { name:"+t.name+" }":t};if(!t.length){r.log("W3003",JSON.stringify(n,null,4),JSON.stringify(this._availableLayoutControllers,i,4));throw r.Error("E3011");}if(t.length>1){r.log("W3004",JSON.stringify(n,null,4),JSON.stringify(t,i,4));throw r.Error("E3012");}},_resolveLayoutControllerImpl:function(t){var r=t.viewTemplateInfo||{},e=t.navigateOptions||{},o=n.extend({root:!t.canBack,customResolveRequired:!1,pane:r.pane,modal:e.modal!==i?e.modal:r.modal||!1},u.current()),s=f.findBestMatches(o,this._availableLayoutControllers);return this._ensureOneLayoutControllerFound(o,s),s[0].controller},_onNavigatingBack:function(n){if(this.callBase.apply(this,arguments),!n.cancel&&!this.canBack()&&this._activeLayoutControllersStack.length>1){var t=this._activeLayoutControllersStack[this._activeLayoutControllersStack.length-2],r=t.activeViewInfo();n.cancel=!0,this._activateLayoutController(t,i,"backward"),this.navigationManager.currentItem(r.key)}},_activeLayoutController:function(){return this._activeLayoutControllersStack.length?this._activeLayoutControllersStack[this._activeLayoutControllersStack.length-1]:i},_getTargetNode:function(t){var r=(t.navigateOptions||{}).jQueryEvent;return r?n(r.target):i},_activateLayoutController:function(t,i,r){var u=this,f=u._activeLayoutController();return f===t?n.Deferred().resolve().promise():t.activate(i).then(n.proxy(this._deactivatePreviousLayoutControllers,this,t,r)).then(function(){u._activeLayoutControllersStack.push(t)})},_deactivatePreviousLayoutControllers:function(t,i){var u=this,f=[],r=u._activeLayoutControllersStack.pop(),o;if(!r)return n.Deferred().resolve().promise();if(t.isOverlay)u._activeLayoutControllersStack.push(r),f.push(r.disable());else{for(var e=n.Deferred(),s=!1,c=function(n,t){return function(){n.deactivate().done(function(){t.resolve()})}};r&&r!==t;)o=n.Deferred(),r.isOverlay?s=!0:u.transitionExecutor.leave(r.element(),h,{direction:i}),e.promise().done(c(r,o)),f.push(o.promise()),r=u._activeLayoutControllersStack.pop();s?e.resolve():(u.transitionExecutor.enter(t.element(),h,{direction:i}),u.transitionExecutor.start().done(function(){e.resolve()}))}return n.when.apply(n,f)},init:function(){var n=this,t=this.callBase();return t.done(function(){n._initLayoutControllers(),n.renderNavigation()}),t},_disposeView:function(n){n.layoutController.disposeView&&n.layoutController.disposeView(n),this.callBase(n)},viewPort:function(){return this._$viewPort},_createViewInfo:function(){var i=this.callBase.apply(this,arguments),u=this.getViewTemplateInfo(i.viewName);if(!u)throw r.Error("E3013","dxView",i.viewName);return i.viewTemplateInfo=u,i.layoutController=this._resolveLayoutController(i),i},_createViewModel:function(n){this.callBase(n),a.extendFromObject(n.model,n.viewTemplateInfo)},_initLayoutControllers:function(){var t=this;n.each(t._layoutSet,function(n,i){var r=i.controller,e=u.current();if(f.findBestMatches(e,[i]).length&&(t._availableLayoutControllers.push(i),r.init&&r.init({app:t,$viewPort:t._$viewPort,navigationManager:t.navigationManager,viewEngine:t.viewEngine,templateContext:t._templateContext,commandManager:t.commandManager}),r.on)){r.on("viewReleased",function(n){t._onViewReleased(n)});r.on("viewHidden",function(n){t._onViewHidden(n)});r.on("viewRendered",function(n){t._processEvent("viewRendered",{viewInfo:n},n.model)});r.on("viewShowing",function(n,i){t._processEvent("viewShowing",{viewInfo:n,direction:i,params:n.routeData},n.model)})}})},_onViewReleased:function(n){this._releaseViewLink(n)},renderNavigation:function(){var t=this;n.each(t._availableLayoutControllers,function(n,i){var r=i.controller;r.renderNavigation&&r.renderNavigation(t.navigation)})},getViewTemplate:function(n){return this.viewEngine.getViewTemplate(n)},getViewTemplateInfo:function(n){var t=this.viewEngine.getViewTemplateInfo(n);return t&&t.option()},loadTemplates:function(n){return this.viewEngine.loadTemplates(n)},templateContext:function(){return this._templateContext}})}(jQuery,DevExpress),DevExpress.MOD_FRAMEWORK=!0}
var DlhSoft;
(function (DlhSoft) {
    var Controls;
    (function (Controls) {
        var KanbanBoard;
        (function (KanbanBoard) {
            var Types = (function () {
                function Types() {
                }
                return Types;
            })();
            KanbanBoard.Types = Types;
            KanbanBoard.types = {
                item: 'item',
                group: 'group'
            };
            KanbanBoard.defaultGroup = {};
            KanbanBoard.defaultGroupId = "0";
            KanbanBoard.defaultStates = [
                { id: "1", name: 'New' },
                { id: "2", name: 'Active', areNewItemButtonsHidden: true },
                { id: "3", name: 'Resolved', areNewItemButtonsHidden: true },
                { id: "4", name: 'Closed', areNewItemButtonsHidden: true }];
            var DefaultItemTypes = (function () {
                function DefaultItemTypes() {
                }
                return DefaultItemTypes;
            })();
            KanbanBoard.DefaultItemTypes = DefaultItemTypes;
            KanbanBoard.defaultItemTypes = {
                task: { color: '#ffd800', backgroundColor: 'white' },
                bug: { color: '#ca3838', backgroundColor: '#fff8f4' },
                story: { color: '#0094ff', backgroundColor: 'white' },
                feature: { color: '#67157b', backgroundColor: 'white' },
                epic: { color: '#ff6a00', backgroundColor: 'white' }
            };
            KanbanBoard.defaultItemType = KanbanBoard.defaultItemTypes.task;
            KanbanBoard.defaultGroupType = KanbanBoard.defaultItemTypes.story;
            function getItemsInGroupAndState(group, state) {
                var itemsInGroupAndState = [];
                for (var i = 0; i < this.items.length; i++) {
                    var item = this.items[i];
                    if (item.groupId === group.id && item.stateId === state.id) {
                        itemsInGroupAndState.push(item);
                    }
                }
                return itemsInGroupAndState;
            }
            KanbanBoard.getItemsInGroupAndState = getItemsInGroupAndState;
            ;
            function getItemsInGroup(group) {
                var itemsInGroup = [];
                for (var i = 0; i < this.items.length; i++) {
                    var item = this.items[i];
                    if (item.groupId === group.id) {
                        itemsInGroup.push(item);
                    }
                }
                return itemsInGroup;
            }
            KanbanBoard.getItemsInGroup = getItemsInGroup;
            function getItemsInState(state) {
                var itemsInState = [];
                for (var i = 0; i < this.items.length; i++) {
                    var item = this.items[i];
                    if (item.stateId === state.id) {
                        itemsInState.push(item);
                    }
                }
                return itemsInState;
            }
            KanbanBoard.getItemsInState = getItemsInState;
            function getStateById(states, id) {
                var found = undefined;
                if (states) {
                    for (var i = 0; i < states.length; i++) {
                        if (states[i].id === id) {
                            found = states[i];
                            break;
                        }
                    }
                }
                return found;
            }
            function getGroupById(groups, id) {
                var found = undefined;
                for (var i = 0; i < groups.length; i++) {
                    if (groups[i].id === id) {
                        found = groups[i];
                        break;
                    }
                }
                return found;
            };
            angular.module('DlhSoft.Kanban.Angular.Components', [])
                .directive('dsKanbanBoard', function () {
                    return {
                        restrict: 'EAC',
                        replace: true,
                        transclude: true,
                        bindToController: {
                            items: '=',
                            groups: '=?',
                            states: '=?',
                            groupCommands: '=?',
                            itemCommands: '=?',
                            assignableResources: '=?',
                            itemTypes: '=?',
                            itemType: '=?',
                            groupType: '=?',
                            itemNameField: '=?',
                            groupNameField: '=?',
                            defaultItemType: '=?',
                            defaultGroupType: '=?',
                            groupStates: '=?',
                            groupWidth: '=?',
                            stateWidth: '=?',
                            itemHeight: '=?',
                            groupHeight: '=?',
                            itemTemplateUrl: '=?',
                            groupTemplateUrl: '=?',
                            stateTemplateUrl: '=?',
                            newItemButtonTemplateUrl: '=?',
                            editItemButtonTemplateUrl: '=?',
                            isGroupItemsCountVisible: '=?',
                            itemsLabel: '=?',
                            noItemsLabel: '=?',
                            stateLabel: '=?',
                            isReadOnly: '=?',
                            areItemsReadOnly: '=?',
                            areGroupsReadOnly: '=?',
                            areNewItemButtonsHidden: '=?',
                            areEditItemButtonsHidden: '=?',
                            areEditGroupButtonsHidden: '=?',
                            newItemButtonText: '=?',
                            newItemButtonToolTip: '=?',
                            editItemButtonText: '=?',
                            editItemButtonToolTip: '=?',
                            editGroupButtonText: '=?',
                            editGroupButtonToolTip: '=?',
                            newItemName: '=?',
                            newItemResource: '=?',
                            onAddingNewItem: '&?',
                            onEditingItem: '&?',
                            onEditingGroup: '&?',
                            canMoveItem: '&?',
                            canMoveGroup: '&?',
                            onItemStateChanged: '&?',
                            onItemGroupChanged: '&?',
                            onItemIndexChanged: '&?',
                            onGroupIndexChanged: '&?'
                        },
                        controller: function ($scope) {
                            var _this = this;
                            if (!this.items)
                                return;
                            if (!this.groups) {
                                for (var i = 0; i < this.items.length; i++) {
                                    var item = this.items[i];
                                    item.groupId = KanbanBoard.defaultGroupId;
                                }
                                this.groups = [KanbanBoard.defaultGroup];
                                this.hideGroups = true;
                            }
                            if (!this.states) {
                                for (var i = 0; i < this.items.length; i++) {
                                    var item = this.items[i];
                                    item.stateId = KanbanBoard.defaultStates[0].id;
                                }
                                this.states = KanbanBoard.defaultStates;
                            }
                            if (!this.groupStates)
                                this.groupStates = this.states;
                            for (var i = 0; i < this.items.length; i++) {
                                var item = this.items[i];
                                if (!item.groupId || !getGroupById(this.groups, item.groupId))
                                    item.groupId = this.groups[0].id;
                                if (!item.stateId || !getStateById(this.states, item.stateId))
                                    item.stateId = this.states[0].id;
                            }
                            for (var i = 0; i < this.groups.length; i++) {
                                var group = this.groups[i];
                                if (!group.stateId || !getStateById(this.groupStates, group.stateId))
                                    group.stateId = this.states[0].id;
                                if (group.isCollapsed === undefined)
                                    group.isCollapsed = group.stateId ? getStateById(this.states, group.stateId).isCollapsedByDefaultForGroups : false;
                            }
                            if (!this.itemType)
                                this.itemType = KanbanBoard.types.item;
                            if (!this.groupType)
                                this.groupType = KanbanBoard.types.group;
                            if (!this.itemNameField)
                                this.itemNameField = 'name';
                            if (!this.groupNameField)
                                this.groupNameField = this.itemNameField;
                            if (!this.itemTypes)
                                this.itemTypes = KanbanBoard.defaultItemTypes;
                            if (!this.defaultItemType)
                                this.defaultItemType = KanbanBoard.defaultItemType;
                            if (!this.defaultGroupType)
                                this.defaultGroupType = KanbanBoard.defaultGroupType;
                            this.getItemsInGroupAndState = getItemsInGroupAndState;
                            this.getItemsInGroup = getItemsInGroup;
                            this.getItemsInState = getItemsInState;
                            this.getMaxStateInGroup = function (group) {
                                var maxState = null, maxItemCount = 0;
                                for (var i = 0; i < _this.states.length; i++) {
                                    var state = _this.states[i];
                                    var itemCount = _this.getItemsInGroupAndState(group, state).length;
                                    if (itemCount > maxItemCount) {
                                        maxState = state;
                                        maxItemCount = itemCount;
                                    }
                                }
                                return maxState;
                            };
                            if (!this.groupWidth)
                                this.groupWidth = '15%';
                            if (!this.stateWidth)
                                this.stateWidth = ((!this.hideGroups ? 85 : 100) / this.states.length) + '%';
                            if (!this.itemHeight)
                                this.itemHeight = 56;
                            if (!this.groupHeight)
                                this.groupHeight = 86;
                            if (!this.collapsedGroupHeight)
                                this.collapsedGroupHeight = 36;
                            if (!this.itemTemplateUrl)
                                this.itemTemplateUrl = 'app/taskkanban/views/kanban-item.html';
                            if (!this.groupTemplateUrl)
                                this.groupTemplateUrl = 'app/taskkanban/views/kanban-group.html';
                            if (!this.stateTemplateUrl)
                                this.stateTemplateUrl = 'app/taskkanban/views/kanban-state.html';
                            var setItemState = function (item, state) {
                                var previousState = getStateById(this.states, item.stateId);
                                item.stateId = state.id;
                                if (_this.onItemStateChanged)
                                    _this.onItemStateChanged({ item: item, state: state, previousState: previousState });
                            };
                            var setItemGroup = function (item, group) {
                                var previousGroup = getGroupById(this.groups, item.groupId);
                                item.groupId = group.id;
                                if (_this.onItemGroupChanged)
                                    _this.onItemGroupChanged({ item: item, group: group, previousGroup: previousGroup });
                            };
                            this.canDropItem = function (type, index, group, state, targetIndex) {
                                if (type !== KanbanBoard.types.item || targetIndex === index)
                                    return false;
                                var item = _this.items[index];
                                var previousGroup = getGroupById(this.groups, item.groupId);
                                var previousState = getStateById(this.states, item.stateId);
                                if (_this.canMoveItem)
                                    return _this.canMoveItem({ item: item, index: targetIndex, previousIndex: index, group: group, previouGroup: previousGroup, state: state, previousState: previousState });
                                return true;
                            };
                            this.onItemDrop = function (type, index, group, state, targetIndex) {
                                if (type !== KanbanBoard.types.item || targetIndex === index)
                                    return;
                                var item = this.items[index];
                                if (group.id != item.groupId)
                                    setItemGroup(item, group);
                                if (state.id != item.stateId)
                                    setItemState(item, state);
                                if (targetIndex !== undefined) {
                                    this.items.splice(index, 1);
                                    this.items.splice(targetIndex, 0, item);
                                    if (this.onItemIndexChanged)
                                        this.onItemIndexChanged({ item: item, index: targetIndex, previousIndex: index });
                                }
                            };
                            this.canDropGroup = function (type, index, targetIndex) {
                                if (type !== KanbanBoard.types.group || targetIndex === index)
                                    return false;
                                var group = _this.groups[index];
                                if (_this.canMoveGroup)
                                    return _this.canMoveGroup({ group: group, index: targetIndex, previousIndex: index });
                                return true;
                            };
                            this.onGroupDrop = function (type, index, targetIndex) {
                                if (type !== KanbanBoard.types.group || targetIndex === index)
                                    return;
                                var group = _this.groups[index];
                                _this.groups.splice(index, 1);
                                _this.groups.splice(targetIndex, 0, group);
                                if (_this.onGroupIndexChanged)
                                    _this.onGroupIndexChanged({ group: group, index: targetIndex, previousIndex: index });
                            };
                            if (!this.itemsLabel)
                                this.itemsLabel = 'items';
                            if (!this.noItemsLabel)
                                this.noItemsLabel = 'No items';
                            if (!this.stateLabel)
                                this.stateLabel = 'State';
                            if (!this.editItemButtonText)
                                this.editItemButtonText = 'Edit';
                            if (!this.editGroupButtonText)
                                this.editGroupButtonText = this.editItemButtonText;
                            if (!this.newItemButtonText)
                                this.newItemButtonText = '+';
                            if (!this.newItemButtonToolTip)
                                this.newItemButtonToolTip = 'New item';
                            if (!this.editItemButtonToolTip)
                                this.editItemButtonToolTip = 'Edit item';
                            if (!this.editGroupButtonToolTip)
                                this.editGroupButtonToolTip = this.editItemButtonToolTip;
                            if (!this.newItemName)
                                this.newItemName = 'New item';
                            this.addNewItem = function (group, state) {
                                var item = { name: _this.newItemName, group: group, state: state, assignedResource: _this.newItemResource };
                                _this.items.push(item);
                                if (_this.onAddingNewItem != null)
                                    _this.onAddingNewItem({ item: item });
                            };
                        },
                        controllerAs: 'dskb',
                        templateUrl: 'app/taskkanban/views/kanban-board.html'
                    };
                })
                .directive('dsKanbanDraggableItem', function ($timeout) {
                    return {
                        restrict: 'A',
                        scope: {
                            dragType: '=?',
                            dragIndex: '=',
                            isDraggingParent: '@?'
                        },
                        link: function (scope, element) {
                            var parentElement = scope.isDraggingParent ? element.parent()[0] : null;
                            element = element[0];
                            if (!parentElement)
                                parentElement = element;
                            element.draggable = true;
                            function onDragStart(event) {
                                event.dataTransfer.effectAllowed = 'move';
                                event.dataTransfer.setData('text', (scope.dragType ? scope.dragType + ':' : '') + scope.dragIndex);
                                parentElement.originalOpacity = parentElement.style.opacity;
                                $timeout(function () { parentElement.style.opacity = (parentElement.originalOpacity ? parentElement.originalOpacity : 1) / 2; });
                            }
                            function onDragEnd() {
                                parentElement.style.opacity = parentElement.originalOpacity;
                                delete parentElement.originalOpacity;
                            }
                            element.addEventListener('dragstart', onDragStart);
                            element.addEventListener('dragend', onDragEnd);
                            scope.$on('$destroy', function () {
                                element.removeEventListener('dragstart', onDragStart);
                                element.removeEventListener('dragend', onDragEnd);
                            });
                        }
                    };
                })
                .directive('dsKanbanItemDropZone', function () {
                    return {
                        restrict: 'EA',
                        scope: {
                            onDrop: '&',
                            canDrop: '&?'
                        },
                        link: function (scope, element) {
                            element = element[0];
                            function onDragOver(event) {
                                event.preventDefault();
                            }
                            function onDrop(event) {
                                var itemInfo = event.dataTransfer.getData('text');
                                var infoSeparatorIndex = itemInfo.indexOf(':');
                                var type = infoSeparatorIndex >= 0 ? itemInfo.substr(0, infoSeparatorIndex) : KanbanBoard.types.item;
                                var index = parseInt(infoSeparatorIndex >= 0 ? itemInfo.substr(infoSeparatorIndex + 1) : itemInfo);
                                if (!scope.canDrop || scope.canDrop({ type: type, index: index })) {
                                    scope.onDrop({ type: type, index: index });
                                    scope.$apply();
                                }
                                event.preventDefault();
                            }
                            element.addEventListener('dragover', onDragOver);
                            element.addEventListener('drop', onDrop);
                            scope.$on('$destroy', function () {
                                element.removeEventListener('drop', onDrop);
                                element.removeEventListener('dragover', onDragOver);
                            });
                        }
                    };
                });
        })(KanbanBoard = Controls.KanbanBoard || (Controls.KanbanBoard = {}));
    })(Controls = DlhSoft.Controls || (DlhSoft.Controls = {}));
})(DlhSoft || (DlhSoft = {}));
//# sourceMappingURL=DlhSoft.Kanban.Angular.Components.js.map
/*  angular-summernote v0.8.1 | (c) 2016 JeongHoon Byun | MIT license */
angular.module("summernote",[]).controller("SummernoteController",["$scope","$attrs","$timeout",function($scope,$attrs,$timeout){"use strict";var currentElement,summernoteConfig=angular.copy($scope.summernoteConfig)||{};if(angular.isDefined($attrs.height)&&(summernoteConfig.height=+$attrs.height),angular.isDefined($attrs.minHeight)&&(summernoteConfig.minHeight=+$attrs.minHeight),angular.isDefined($attrs.maxHeight)&&(summernoteConfig.maxHeight=+$attrs.maxHeight),angular.isDefined($attrs.placeholder)&&(summernoteConfig.placeholder=$attrs.placeholder),angular.isDefined($attrs.focus)&&(summernoteConfig.focus=!0),angular.isDefined($attrs.airmode)&&(summernoteConfig.airMode=!0),angular.isDefined($attrs.lang)){if(!angular.isDefined($.summernote.lang[$attrs.lang]))throw new Error('"'+$attrs.lang+'" lang file must be exist.');summernoteConfig.lang=$attrs.lang}summernoteConfig.callbacks=summernoteConfig.callbacks||{},angular.isDefined($attrs.onInit)&&(summernoteConfig.callbacks.onInit=function(evt){$scope.init({evt:evt})}),angular.isDefined($attrs.onEnter)&&(summernoteConfig.callbacks.onEnter=function(evt){$scope.enter({evt:evt})}),angular.isDefined($attrs.onFocus)&&(summernoteConfig.callbacks.onFocus=function(evt){$scope.focus({evt:evt})}),angular.isDefined($attrs.onPaste)&&(summernoteConfig.callbacks.onPaste=function(evt){$scope.paste({evt:evt})}),angular.isDefined($attrs.onKeyup)&&(summernoteConfig.callbacks.onKeyup=function(evt){$scope.keyup({evt:evt})}),angular.isDefined($attrs.onKeydown)&&(summernoteConfig.callbacks.onKeydown=function(evt){$scope.keydown({evt:evt})}),angular.isDefined($attrs.onImageUpload)&&(summernoteConfig.callbacks.onImageUpload=function(files){$scope.imageUpload({files:files,editable:$scope.editable})}),angular.isDefined($attrs.onMediaDelete)&&(summernoteConfig.callbacks.onMediaDelete=function(target){var removedMedia={attrs:{}};removedMedia.tagName=target[0].tagName,angular.forEach(target[0].attributes,function(attr){removedMedia.attrs[attr.name]=attr.value}),$scope.mediaDelete({target:removedMedia})}),this.activate=function(scope,element,ngModel){var updateNgModel=function(){var newValue=element.summernote("code");element.summernote("isEmpty")&&(newValue=""),ngModel&&ngModel.$viewValue!==newValue&&$timeout(function(){ngModel.$setViewValue(newValue)},0)},originalOnChange=summernoteConfig.callbacks.onChange;summernoteConfig.callbacks.onChange=function(contents){$timeout(function(){element.summernote("isEmpty")&&(contents=""),updateNgModel()},0),angular.isDefined($attrs.onChange)?$scope.change({contents:contents,editable:$scope.editable}):angular.isFunction(originalOnChange)&&originalOnChange.apply(this,arguments)},angular.isDefined($attrs.onBlur)&&(summernoteConfig.callbacks.onBlur=function(evt){!summernoteConfig.airMode&&element.blur(),$scope.blur({evt:evt})}),element.summernote(summernoteConfig);var unwatchNgModel,editor$=element.next(".note-editor");editor$.find(".note-toolbar").click(function(){updateNgModel(),editor$.hasClass("codeview")?(editor$.on("keyup",updateNgModel),ngModel&&(unwatchNgModel=scope.$watch(function(){return ngModel.$modelValue},function(newValue){editor$.find(".note-codable").val(newValue)}))):(editor$.off("keyup",updateNgModel),angular.isFunction(unwatchNgModel)&&unwatchNgModel())}),ngModel&&(ngModel.$render=function(){ngModel.$viewValue?element.summernote("code",ngModel.$viewValue):element.summernote("empty")}),angular.isDefined($attrs.editable)&&($scope.editable=editor$.find(".note-editable")),angular.isDefined($attrs.editor)&&($scope.editor=element),currentElement=element,element.on("$destroy",function(){element.summernote("destroy"),$scope.summernoteDestroyed=!0})},$scope.$on("$destroy",function(){$scope.summernoteDestroyed||currentElement.summernote("destroy")})}]).directive("summernote",[function(){"use strict";return{restrict:"EA",transclude:"element",replace:!0,require:["summernote","?ngModel"],controller:"SummernoteController",scope:{summernoteConfig:"=config",editable:"=",editor:"=",init:"&onInit",enter:"&onEnter",focus:"&onFocus",blur:"&onBlur",paste:"&onPaste",keyup:"&onKeyup",keydown:"&onKeydown",change:"&onChange",imageUpload:"&onImageUpload",mediaDelete:"&onMediaDelete"},template:'<div class="summernote"></div>',link:function(scope,element,attrs,ctrls,transclude){var summernoteController=ctrls[0],ngModel=ctrls[1];if(ngModel)var clearWatch=scope.$watch(function(){return ngModel.$viewValue},function(value){clearWatch(),element.append(value),summernoteController.activate(scope,element,ngModel)},!0);else transclude(scope,function(clone,scope){element.append(clone.html())}),summernoteController.activate(scope,element,ngModel)}}}]);
//! AlaSQL v0.3.0 |  2014-2016 Andrey Gershun & Mathias Rangel Wulff | License: MIT 
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.alasql=t()}(this,function(){function e(e){return"(y="+e+",y===y?y:undefined)"}function t(e,t){return"(y="+e+',typeof y=="undefined"?undefined:'+t+")"}function n(){return!0}function r(){}function a(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!==-1&&parseInt(e.split("msie")[1])}function i(e,t,n){function r(e,n,a){var o,u,c,l=e[n],h=1e5;if(l.selid){if("PATH"===l.selid){for(var d=[{node:a,stack:[]}],f={},p=w.databases[w.useid].objects;d.length>0;){var b=d.shift(),g=b.node,m=b.stack,c=r(l.args,0,g);if(c.length>0){if(n+1+1>e.length)return m;var v=[];return m&&m.length>0&&m.forEach(function(t){v=v.concat(r(e,n+1,t))}),v}"undefined"==typeof f[g.$id]&&(f[g.$id]=!0,g.$out&&g.$out.length>0&&g.$out.forEach(function(e){var t=p[e],n=m.concat(t);n.push(p[t.$out[0]]),d.push({node:p[t.$out[0]],stack:n})}))}return[]}if("NOT"===l.selid){var u=r(l.args,0,a);return u.length>0?[]:n+1+1>e.length?[a]:r(e,n+1,a)}if("DISTINCT"===l.selid){var u;if(u="undefined"==typeof l.args||0===l.args.length?j(a):r(l.args,0,a),0===u.length)return[];var E=j(u);return n+1+1>e.length?E:r(e,n+1,E)}if("AND"===l.selid){var E=!0;return l.args.forEach(function(e){E=E&&r(e,0,a).length>0}),E?n+1+1>e.length?[a]:r(e,n+1,a):[]}if("OR"===l.selid){var E=!1;return l.args.forEach(function(e){E=E||r(e,0,a).length>0}),E?n+1+1>e.length?[a]:r(e,n+1,a):[]}if("ALL"===l.selid){var u=r(l.args[0],0,a);return 0===u.length?[]:n+1+1>e.length?u:r(e,n+1,u)}if("ANY"===l.selid){var u=r(l.args[0],0,a);return 0===u.length?[]:n+1+1>e.length?[u[0]]:r(e,n+1,[u[0]])}if("UNIONALL"===l.selid){var u=[];return l.args.forEach(function(e){u=u.concat(r(e,0,a))}),0===u.length?[]:n+1+1>e.length?u:r(e,n+1,u)}if("UNION"===l.selid){var u=[];l.args.forEach(function(e){u=u.concat(r(e,0,a))});var u=j(u);return 0===u.length?[]:n+1+1>e.length?u:r(e,n+1,u)}if("IF"===l.selid){var u=r(l.args,0,a);return 0===u.length?[]:n+1+1>e.length?[a]:r(e,n+1,a)}if("REPEAT"===l.selid){var y,S,T=l.args[0].value;S=l.args[1]?l.args[1].value:T,l.args[2]&&(y=l.args[2].variable);var x=[];if(0===T&&(n+1+1>e.length?x=[a]:(y&&(w.vars[y]=0),x=x.concat(r(e,n+1,a)))),S>0)for(var A=[{value:a,lvl:1}],C=0;A.length>0;){var u=A[0];if(A.shift(),u.lvl<=S){y&&(w.vars[y]=u.lvl);var k=r(l.sels,0,u.value);k.forEach(function(e){A.push({value:e,lvl:u.lvl+1})}),u.lvl>=T&&(n+1+1>e.length?x=x.concat(k):k.forEach(function(t){x=x.concat(r(e,n+1,t))}))}if(C++,C>h)throw new Error("Security brake. Number of iterations = "+C)}return x}if("OF"===l.selid){if(n+1+1>e.length)return[a];var O=[];return Object.keys(a).forEach(function(t){w.vars[l.args[0].variable]=t,O=O.concat(r(e,n+1,a[t]))}),O}if("TO"===l.selid){var R=w.vars[l.args[0]],N=[];if(N=void 0!==R?R.slice(0):[],N.push(a),n+1+1>e.length)return[a];w.vars[l.args[0]]=N;var O=r(e,n+1,a);return w.vars[l.args[0]]=R,O}if("ARRAY"===l.selid){var u=r(l.args,0,a);return u.length>0?(o=u,n+1+1>e.length?[o]:r(e,n+1,o)):[]}if("SUM"===l.selid){var u=r(l.args,0,a);if(!(u.length>0))return[];var o=u.reduce(function(e,t){return e+t},0);return n+1+1>e.length?[o]:r(e,n+1,o)}if("AVG"===l.selid)return u=r(l.args,0,a),u.length>0?(o=u.reduce(function(e,t){return e+t},0)/u.length,n+1+1>e.length?[o]:r(e,n+1,o)):[];if("COUNT"===l.selid)return u=r(l.args,0,a),u.length>0?(o=u.length,n+1+1>e.length?[o]:r(e,n+1,o)):[];if("FIRST"===l.selid)return u=r(l.args,0,a),u.length>0?(o=u[0],n+1+1>e.length?[o]:r(e,n+1,o)):[];if("LAST"===l.selid)return u=r(l.args,0,a),u.length>0?(o=u[u.length-1],n+1+1>e.length?[o]:r(e,n+1,o)):[];if("MIN"===l.selid){if(u=r(l.args,0,a),0===u.length)return[];var o=u.reduce(function(e,t){return Math.min(e,t)},1/0);return n+1+1>e.length?[o]:r(e,n+1,o)}if("MAX"===l.selid){var u=r(l.args,0,a);if(0===u.length)return[];var o=u.reduce(function(e,t){return Math.max(e,t)},-(1/0));return n+1+1>e.length?[o]:r(e,n+1,o)}if("PLUS"===l.selid){var x=[],A=r(l.args,0,a).slice();n+1+1>e.length?x=x.concat(A):A.forEach(function(t){x=x.concat(r(e,n+1,t))});for(var C=0;A.length>0;){var u=A.shift();if(u=r(l.args,0,u),A=A.concat(u),n+1+1>e.length?x=x.concat(u):u.forEach(function(t){var a=r(e,n+1,t);x=x.concat(a)}),C++,C>h)throw new Error("Security brake. Number of iterations = "+C)}return x}if("STAR"===l.selid){var x=[];x=r(e,n+1,a);var A=r(l.args,0,a).slice();n+1+1>e.length?x=x.concat(A):A.forEach(function(t){x=x.concat(r(e,n+1,t))});for(var C=0;A.length>0;){var u=A[0];if(A.shift(),u=r(l.args,0,u),A=A.concat(u),n+1+1<=e.length&&u.forEach(function(t){x=x.concat(r(e,n+1,t))}),C++,C>h)throw new Error("Loop brake. Number of iterations = "+C)}return x}if("QUESTION"===l.selid){var x=[];x=x.concat(r(e,n+1,a));var u=r(l.args,0,a);return n+1+1<=e.length&&u.forEach(function(t){x=x.concat(r(e,n+1,t))}),x}if("WITH"!==l.selid){if("ROOT"===l.selid)return n+1+1>e.length?[a]:r(e,n+1,s);throw new Error("Wrong selector "+l.selid)}var u=r(l.args,0,a);if(0===u.length)return[];var c={status:1,values:u}}else{if(!l.srchid)throw new Error("Selector not found");var c=w.srch[l.srchid.toUpperCase()](a,l.args,i,t)}"undefined"==typeof c&&(c={status:1,values:[a]});var E=[];if(1===c.status){var $=c.values;if(n+1+1>e.length)E=$;else for(var C=0;C<c.values.length;C++)E=E.concat(r(e,n+1,$[C]))}return E}var a,s,i={},o=_(this.selectors);if(void 0!==o&&o.length>0&&(o&&o[0]&&"PROP"===o[0].srchid&&o[0].args&&o[0].args[0]&&("XML"===o[0].args[0].toUpperCase()?(i.mode="XML",o.shift()):"HTML"===o[0].args[0].toUpperCase()?(i.mode="HTML",o.shift()):"JSON"===o[0].args[0].toUpperCase()&&(i.mode="JSON",o.shift())),o.length>0&&"VALUE"===o[0].srchid&&(i.value=!0,o.shift())),this.from instanceof z.Column){var u=this.from.databaseid||e;s=w.databases[u].tables[this.from.columnid].data}else if(this.from instanceof z.FuncValue&&w.from[this.from.funcid.toUpperCase()]){var c=this.from.args.map(function(e){var n=e.toJS(),r=new Function("params,alasql","var y;return "+n).bind(this);return r(t,w)});s=w.from[this.from.funcid.toUpperCase()].apply(this,c)}else if("undefined"==typeof this.from)s=w.databases[e].objects;else{var l=new Function("params,alasql","var y;return "+this.from.toJS());s=l(t,w),"object"==typeof Mongo&&"object"!=typeof Mongo.Collection&&s instanceof Mongo.Collection&&(s=s.find().fetch())}if(a=void 0!==o&&o.length>0?r(o,0,s):s,this.into){var h,d;"undefined"!=typeof this.into.args[0]&&(h=new Function("params,alasql","var y;return "+this.into.args[0].toJS())(t,w)),"undefined"!=typeof this.into.args[1]&&(d=new Function("params,alasql","var y;return "+this.into.args[1].toJS())(t,w)),a=w.into[this.into.funcid.toUpperCase()](h,d,a,[],n)}else i.value&&a.length>0&&(a=a[0]),n&&(a=n(a));return a}function o(e,t,n,r,a){e.sources.length;e.sourceslen=e.sources.length;var s=e.sourceslen;e.query=e,e.A=r,e.B=a,e.cb=n,e.oldscope=t,e.queriesfn&&(e.sourceslen+=e.queriesfn.length,s+=e.queriesfn.length,e.queriesdata=[],e.queriesfn.forEach(function(t,n){t.query.params=e.params,u([],-n-1,e)}));var i;i=t?_(t):{},e.scope=i;var o;return e.sources.forEach(function(t,n){t.query=e;var r=t.datafn(e,e.params,u,n,w);void 0!==typeof r&&((e.intofn||e.intoallfn)&&r instanceof Array&&(r=r.length),o=r),t.queriesdata=e.queriesdata}),0!=e.sources.length&&0!==s||(o=c(e)),o}function u(e,t,n){if(t>=0){var r=n.sources[t];r.data=e,"function"==typeof r.data&&(r.getfn=r.data,r.dontcache=r.getfn.dontcache,"OUTER"!=r.joinmode&&"RIGHT"!=r.joinmode&&"ANTI"!=r.joinmode||(r.dontcache=!1),r.data={})}else n.queriesdata[-t-1]=B(e);if(n.sourceslen--,!(n.sourceslen>0))return c(n)}function c(e){var t=e.scope;te(e),e.data=[],e.xgroups={},e.groups=[];var n=0;if(d(e,t,n),e.groupfn){if(e.data=[],0===e.groups.length){var r={};e.selectGroup.length>0&&e.selectGroup.forEach(function(e){"COUNT"==e.aggregatorid||"SUM"==e.aggregatorid?r[e.nick]=0:r[e.nick]=void 0}),e.groups=[r]}if(e.aggrKeys.length>0){var a="";e.aggrKeys.forEach(function(e){a+="g['"+e.nick+"']=alasql.aggr['"+e.funcid+"'](undefined,g['"+e.nick+"'],3);"});var s=new Function("g,params,alasql","var y;"+a)}for(var i=0,o=e.groups.length;i<o;i++){var r=e.groups[i];if(s&&s(r,e.params,w),!e.havingfn||e.havingfn(r,e.params,w)){var u=e.selectgfn(r,e.params,w);e.data.push(u)}}}if(h(e),e.unionallfn){var c,f;if(e.corresponding)e.unionallfn.query.modifier||(e.unionallfn.query.modifier=void 0),c=e.unionallfn(e.params);else{e.unionallfn.query.modifier||(e.unionallfn.query.modifier="RECORDSET"),f=e.unionallfn(e.params),c=[],o=f.data.length;for(var i=0;i<o;i++){for(var p={},b=0,g=Math.min(e.columns.length,f.columns.length);b<g;b++)p[e.columns[b].columnid]=f.data[i][f.columns[b].columnid];c.push(p)}}e.data=e.data.concat(c)}else if(e.unionfn){if(e.corresponding)e.unionfn.query.modifier||(e.unionfn.query.modifier="ARRAY"),c=e.unionfn(e.params);else{e.unionfn.query.modifier||(e.unionfn.query.modifier="RECORDSET"),f=e.unionfn(e.params),c=[],o=f.data.length;for(var i=0;i<o;i++){p={},g=Math.min(e.columns.length,f.columns.length);for(var b=0;b<g;b++)p[e.columns[b].columnid]=f.data[i][f.columns[b].columnid];c.push(p)}}e.data=U(e.data,c)}else if(e.exceptfn){if(e.corresponding){e.exceptfn.query.modifier||(e.exceptfn.query.modifier="ARRAY");var c=e.exceptfn(e.params)}else{e.exceptfn.query.modifier||(e.exceptfn.query.modifier="RECORDSET");for(var f=e.exceptfn(e.params),c=[],i=0,o=f.data.length;i<o;i++){for(var p={},b=0,g=Math.min(e.columns.length,f.columns.length);b<g;b++)p[e.columns[b].columnid]=f.data[i][f.columns[b].columnid];c.push(p)}}e.data=F(e.data,c)}else if(e.intersectfn){if(e.corresponding)e.intersectfn.query.modifier||(e.intersectfn.query.modifier=void 0),c=e.intersectfn(e.params);else for(e.intersectfn.query.modifier||(e.intersectfn.query.modifier="RECORDSET"),f=e.intersectfn(e.params),c=[],o=f.data.length,i=0;i<o;i++){for(p={},g=Math.min(e.columns.length,f.columns.length),b=0;b<g;b++)p[e.columns[b].columnid]=f.data[i][f.columns[b].columnid];c.push(p)}e.data=M(e.data,c)}if(e.orderfn){if(e.explain)var m=Date.now();e.data=e.data.sort(e.orderfn),e.explain&&e.explaination.push({explid:e.explid++,description:"QUERY BY",ms:Date.now()-m})}if(l(e),"undefined"!=typeof angular&&e.removeKeys.push("$$hashKey"),e.removeKeys.length>0){var v=e.removeKeys;if(g=v.length,g>0)for(o=e.data.length,i=0;i<o;i++)for(b=0;b<g;b++)delete e.data[i][v[b]];e.columns.length>0&&(e.columns=e.columns.filter(function(e){var t=!1;return v.forEach(function(n){e.columnid==n&&(t=!0)}),!t}))}if("undefined"!=typeof e.removeLikeKeys&&e.removeLikeKeys.length>0){for(var E=e.removeLikeKeys,i=0,o=e.data.length;i<o;i++){p=e.data[i];for(var y in p)for(b=0;b<e.removeLikeKeys.length;b++)w.utils.like(e.removeLikeKeys[b],y)&&delete p[y]}e.columns.length>0&&(e.columns=e.columns.filter(function(e){var t=!1;return E.forEach(function(n){w.utils.like(n,e.columnid)&&(t=!0)}),!t}))}if(e.pivotfn&&e.pivotfn(),e.unpivotfn&&e.unpivotfn(),e.intoallfn){var S=e.intoallfn(e.columns,e.cb,e.params,e.alasql);return S}if(e.intofn){for(o=e.data.length,i=0;i<o;i++)e.intofn(e.data[i],i,e.params,e.alasql);return e.cb&&e.cb(e.data.length,e.A,e.B),e.data.length}return S=e.data,e.cb&&(S=e.cb(e.data,e.A,e.B)),S}function l(e){if(e.limit){var t=0;e.offset&&(t=(0|e.offset)-1||0);var n;n=e.percent?(e.data.length*e.limit/100|0)+t:(0|e.limit)+t,e.data=e.data.slice(t,n)}}function h(e){if(e.distinct){for(var t={},n=0,r=e.data.length;n<r;n++){var a=Object.keys(e.data[n]).map(function(t){return e.data[n][t]}).join("`");t[a]=e.data[n]}e.data=[];for(var s in t)e.data.push(t[s])}}function d(e,t,n){if(n>=e.sources.length)e.wherefn(t,e.params,w)&&(e.groupfn?e.groupfn(t,e.params,w):e.data.push(e.selectfn(t,e.params,w)));else if(e.sources[n].applyselect){var r=e.sources[n];r.applyselect(e.params,function(a){if(a.length>0)for(var s=0;s<a.length;s++)t[r.alias]=a[s],d(e,t,n+1);else"OUTER"==r.applymode&&(t[r.alias]={},d(e,t,n+1))},t)}else{var r=e.sources[n],a=e.sources[n+1],s=r.alias||r.tableid,i=!1,o=r.data,u=!1;(!r.getfn||r.getfn&&!r.dontcache)&&"RIGHT"!=r.joinmode&&"OUTER"!=r.joinmode&&"ANTI"!=r.joinmode&&"ix"==r.optimization&&(o=r.ix[r.onleftfn(t,e.params,w)]||[],u=!0);var c=0;if("undefined"==typeof o)throw new Error("Data source number "+n+" in undefined");for(var l,h=o.length;(l=o[c])||!u&&r.getfn&&(l=r.getfn(c))||c<h;)u||!r.getfn||r.dontcache||(o[c]=l),t[s]=l,r.onleftfn&&r.onleftfn(t,e.params,w)!=r.onrightfn(t,e.params,w)||r.onmiddlefn(t,e.params,w)&&("SEMI"!=r.joinmode&&"ANTI"!=r.joinmode&&d(e,t,n+1),"LEFT"!=r.joinmode&&"INNER"!=r.joinmode&&(l._rightjoin=!0),i=!0),c++;if("LEFT"!=r.joinmode&&"OUTER"!=r.joinmode&&"SEMI"!=r.joinmode||i||(t[s]={},d(e,t,n+1)),n+1<e.sources.length&&("OUTER"==a.joinmode||"RIGHT"==a.joinmode||"ANTI"==a.joinmode)){t[r.alias]={};for(var l,f=0,p=a.data.length;(l=a.data[f])||a.getfn&&(l=a.getfn(f))||f<p;)a.getfn&&!a.dontcache&&(a.data[f]=l),l._rightjoin?delete l._rightjoin:0==n&&(t[a.alias]=l,d(e,t,n+2)),f++}t[s]=void 0}}function f(e,t){if("undefined"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t)return t;var n=e.modifier||w.options.modifier,r=e.columns;if("undefined"==typeof r||0==r.length)if(t.length>0){for(var a={},s=0;s<Math.min(t.length,w.options.columnlookup||10);s++)for(var i in t[s])a[i]=!0;r=Object.keys(a).map(function(e){return{columnid:e}})}else r=[];if("VALUE"===n)if(t.length>0){var i;i=r&&r.length>0?r[0].columnid:Object.keys(t[0])[0],t=t[0][i]}else t=void 0;else if("ROW"===n)if(t.length>0){var i,o=[];for(var i in t[0])o.push(t[0][i]);t=o}else t=void 0;else if("COLUMN"===n){var u=[];if(t.length>0){var i;i=r&&r.length>0?r[0].columnid:Object.keys(t[0])[0];for(var s=0,c=t.length;s<c;s++)u.push(t[s][i])}t=u}else if("MATRIX"===n){for(var u=[],s=0;s<t.length;s++){for(var o=[],l=t[s],h=0;h<r.length;h++)o.push(l[r[h].columnid]);u.push(o)}t=u}else if("INDEX"===n){var i,d,u={};if(r&&r.length>0)i=r[0].columnid,d=r[1].columnid;else{var f=Object.keys(t[0]);i=f[0],d=f[1]}for(var s=0,c=t.length;s<c;s++)u[t[s][i]]=t[s][d];t=u}else if("RECORDSET"===n)t=new w.Recordset({data:t,columns:r});else if("TEXTSTRING"===n){var i;i=r&&r.length>0?r[0].columnid:Object.keys(t[0])[0];for(var s=0,c=t.length;s<c;s++)t[s]=t[s][i];t=t.join("\n")}return t}function p(e,t,n){var r="",a=[];e.ixsources={},e.sources.forEach(function(t){e.ixsources[t.alias]=t});var s;if(e.ixsources[t])var s=e.ixsources[t].columns;return n&&"json"==w.options.joinstar&&(r+="r['"+t+"']={};"),s&&s.length>0?s.forEach(function(s){n&&"underscore"==w.options.joinstar?a.push("'"+t+"_"+s.columnid+"':p['"+t+"']['"+s.columnid+"']"):n&&"json"==w.options.joinstar?r+="r['"+t+"']['"+s.columnid+"']=p['"+t+"']['"+s.columnid+"'];":a.push("'"+s.columnid+"':p['"+t+"']['"+s.columnid+"']"),e.selectColumns[k(s.columnid)]=!0;var i={columnid:s.columnid,dbtypeid:s.dbtypeid,dbsize:s.dbsize,dbprecision:s.dbprecision,dbenum:s.dbenum};e.columns.push(i),e.xcolumns[i.columnid]=i}):(r+='var w=p["'+t+'"];for(var k in w){r[k]=w[k]};',e.dirtyColumns=!0),{s:a.join(","),sp:r}}function b(e,t){if(e instanceof Array){for(var n=[[]],r=0;r<e.length;r++)if(e[r]instanceof z.Column)e[r].nick=k(e[r].columnid),t.groupColumns[e[r].nick]=e[r].nick,n=n.map(function(n){return n.concat(e[r].nick+"\t"+e[r].toJS("p",t.sources[0].alias,t.defcols))});else if(e[r]instanceof z.FuncValue)t.groupColumns[k(e[r].toString())]=k(e[r].toString()),n=n.map(function(n){return n.concat(k(e[r].toString())+"\t"+e[r].toJS("p",t.sources[0].alias,t.defcols))});else if(e[r]instanceof z.GroupExpression)if("ROLLUP"==e[r].type)n=se(n,ne(e[r].group,t));else if("CUBE"==e[r].type)n=se(n,re(e[r].group,t));else{if("GROUPING SETS"!=e[r].type)throw new Error("Unknown grouping function");n=se(n,ae(e[r].group,t))}else n=""===e[r]?[["1\t1"]]:n.map(function(n){return t.groupColumns[k(e[r].toString())]=k(e[r].toString()),n.concat(k(e[r].toString())+"\t"+e[r].toJS("p",t.sources[0].alias,t.defcols))});return n}return e instanceof z.FuncValue?(t.groupColumns[k(e.toString())]=k(e.toString()),[e.toString()+"\t"+e.toJS("p",t.sources[0].alias,t.defcols)]):e instanceof z.Column?(e.nick=k(e.columnid),t.groupColumns[e.nick]=e.nick,[e.nick+"\t"+e.toJS("p",t.sources[0].alias,t.defcols)]):(t.groupColumns[k(e.toString())]=k(e.toString()),[k(e.toString())+"\t"+e.toJS("p",t.sources[0].alias,t.defcols)])}function g(e,t,n,r){var a="";if("string"==typeof e)a='"'+e+'"';else if("number"==typeof e)a="("+e+")";else if("boolean"==typeof e)a=e;else{if("object"!=typeof e)throw new Error("2Can not parse JSON object "+JSON.stringify(e));if(e instanceof Array)a+="["+e.map(function(e){return g(e,t,n,r)}).join(",")+"]";else if(!e.toJS||e instanceof z.Json){a="{";var s=[];for(var i in e){var o="";if("string"==typeof i)o+='"'+i+'"';else if("number"==typeof i)o+=i;else{if("boolean"!=typeof i)throw new Error("THis is not ES6... no expressions on left side yet");o+=i}o+=":"+g(e[i],t,n,r),s.push(o)}a+=s.join(",")+"}"}else{if(!e.toJS)throw new Error("1Can not parse JSON object "+JSON.stringify(e));a=e.toJS(t,n,r)}}return a}function m(e){var t="";if(void 0===e)t+="undefined";else if(e instanceof Array){t+="<style>",t+="table {border:1px black solid; border-collapse: collapse; border-spacing: 0px;}",t+="td,th {border:1px black solid; padding-left:5px; padding-right:5px}",t+="th {background-color: #EEE}",t+="</style>",t+="<table>";var n=[];for(var r in e[0])n.push(r);t+="<tr><th>#",n.forEach(function(e){t+="<th>"+e});for(var a=0,s=e.length;a<s;a++)t+="<tr><th>"+(a+1),n.forEach(function(n){t+="<td> ",e[a][n]==+e[a][n]?(t+='<div style="text-align:right">',t+="undefined"==typeof e[a][n]?"NULL":e[a][n],t+="</div>"):t+="undefined"==typeof e[a][n]?"NULL":"string"==typeof e[a][n]?e[a][n]:le(e[a][n])});t+="</table>"}else t+="<p>"+le(e)+"</p>";return t}function E(e,t,n){if(!(n<=0)){var r=t-e.scrollTop,a=r/n*10;setTimeout(function(){e.scrollTop!==t&&(e.scrollTop=e.scrollTop+a,E(e,t,n-10))},10)}}function y(e,t,n,r,a,s){var i={};n=n||{},w.utils.extend(i,n),"undefined"==typeof i.headers&&(i.headers=!0);var o;return w.utils.loadBinaryFile(t,!!r,function(t){var n,o=e.read(t,{type:"binary"});n="undefined"==typeof i.sheetid?o.SheetNames[0]:i.sheetid;var u;"undefined"==typeof i.range?u=o.Sheets[n]["!ref"]:(u=i.range,o.Sheets[n][u]&&(u=o.Sheets[n][u]));for(var c=u.split(":"),l=c[0].match(/[A-Z]+/)[0],h=+c[0].match(/[0-9]+/)[0],d=c[1].match(/[A-Z]+/)[0],f=+c[1].match(/[0-9]+/)[0],p={},b=w.utils.xlscn(l);b<=w.utils.xlscn(d);b++){var g=w.utils.xlsnc(b);i.headers&&o.Sheets[n][g+""+h]?p[g]=o.Sheets[n][g+""+h].v:p[g]=g}var m=[];i.headers&&h++;for(var v=h;v<=f;v++){for(var E={},b=w.utils.xlscn(l);b<=w.utils.xlscn(d);b++){var g=w.utils.xlsnc(b);o.Sheets[n][g+""+v]&&(E[p[g]]=o.Sheets[n][g+""+v].v)}m.push(E)}m.length>0&&m[m.length-1]&&0==Object.keys(m[m.length-1]).length&&m.pop(),r&&(m=r(m,a,s))},function(e){throw e}),o}function S(e){function t(){return{declaration:n(),root:r()}}function n(){var e=o(/^<\?xml\s*/);if(e){for(var t={attributes:{}};!u()&&!c("?>");){var n=s();if(!n)return t;t.attributes[n.name]=n.value}return o(/\?>\s*/),t}}function r(){var e=o(/^<([\w-:.]+)\s*/);if(e){for(var t={name:e[1],attributes:{},children:[]};!(u()||c(">")||c("?>")||c("/>"));){var n=s();if(!n)return t;t.attributes[n.name]=n.value}if(o(/^\s*\/>\s*/))return t;o(/\??>\s*/),t.content=a();for(var i;i=r();)t.children.push(i);return o(/^<\/[\w-:.]+>\s*/),t}}function a(){var e=o(/^([^<]*)/);return e?e[1]:""}function s(){var e=o(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(e)return{name:e[1],value:i(e[2])}}function i(e){return e.replace(/^['"]|['"]$/g,"")}function o(t){var n=e.match(t);if(n)return e=e.slice(n[0].length),n}function u(){return 0==e.length}function c(t){return 0==e.indexOf(t)}return e=e.trim(),e=e.replace(/<!--[\s\S]*?-->/g,""),t()}var w=function(e,t,n,r){if(t=t||[],"function"==typeof t&&(r=n,n=t,t=[]),"object"!=typeof t&&(t=[t]),"function"==typeof importScripts||!w.webworker){if(0===arguments.length)return new z.Select({columns:[new z.Column({columnid:"*"})],from:[new z.ParamValue({param:0})]});if(1===arguments.length&&"object"==typeof e&&e instanceof Array){var a=new z.Select({columns:[new z.Column({columnid:"*"})],from:[new z.ParamValue({param:0})]});return a.preparams=[e],a}return"string"==typeof e&&"#"===e[0]&&"object"==typeof document?e=document.querySelector(e).textContent:"object"==typeof e&&e instanceof HTMLElement?e=e.textContent:"function"==typeof e&&(e=e.toString().slice(14,-3)),w.exec(e,t,n,r)}var s=w.lastid++;w.buffer[s]=n,w.webworker.postMessage({id:s,sql:e,params:t})};w.version="0.3.0",w.debug=void 0;var T=function(){return null},x="",A=function(){function e(){this.yy={}}var t=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},n=[2,12],r=[1,102],a=[1,103],s=[1,6],i=[1,42],o=[1,78],u=[1,75],c=[1,94],l=[1,93],h=[1,68],d=[1,101],f=[1,85],p=[1,70],b=[1,83],g=[1,65],m=[1,69],v=[1,63],E=[1,67],y=[1,60],S=[1,73],T=[1,61],x=[1,66],A=[1,82],C=[1,76],k=[1,84],O=[1,86],N=[1,87],$=[1,80],D=[1,81],I=[1,79],L=[1,88],q=[1,89],U=[1,90],F=[1,91],M=[1,92],_=[1,98],V=[1,64],j=[1,77],P=[1,71],B=[1,96],G=[1,97],J=[1,62],H=[1,72],W=[1,106],X=[1,107],Y=[9,298,510,511],K=[9,298,302,510,511],Q=[1,114],z=[1,115],Z=[1,116],ee=[1,117],te=[1,118],ne=[128,344,400],re=[1,126],ae=[1,125],se=[1,131],ie=[1,159],oe=[1,170],ue=[1,173],ce=[1,168],le=[1,176],he=[1,180],de=[1,177],fe=[1,164],pe=[1,166],be=[1,169],ge=[1,178],me=[1,161],ve=[1,187],Ee=[1,183],ye=[1,184],Se=[1,188],we=[1,189],Te=[1,190],xe=[1,191],Ae=[1,192],Ce=[1,193],ke=[1,194],Oe=[1,195],Re=[1,196],Ne=[1,171],$e=[1,172],De=[1,174],Ie=[1,175],Le=[1,181],qe=[1,179],Ue=[1,182],Fe=[1,167],Me=[1,165],_e=[1,186],Ve=[1,197],je=[4,5],Pe=[2,458],Be=[1,200],Ge=[1,205],Je=[1,214],He=[1,210],We=[9,70,76,91,96,116,126,160,166,167,181,196,230,243,245,298,302,510,511],Xe=[4,5,9,70,74,75,76,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,181,183,185,196,274,275,276,277,278,279,280,281,282,298,302,411,415,510,511],Ye=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],Ke=[1,244],Qe=[1,251],ze=[1,260],Ze=[1,265],et=[1,264],tt=[4,5,9,70,75,76,91,96,105,116,126,129,130,135,141,143,150,152,154,160,166,167,177,178,179,181,196,230,243,245,262,263,264,265,267,274,275,276,277,278,279,280,281,282,284,285,286,287,288,289,290,291,292,294,295,298,302,304,309,411,415,510,511],nt=[2,160],rt=[1,276],at=[9,72,76,298,302,497,510,511],st=[4,5,9,70,75,76,91,96,105,116,126,129,130,135,141,143,150,152,154,160,162,166,167,177,178,179,181,183,185,193,196,230,243,245,262,263,264,265,267,274,275,276,277,278,279,280,281,282,284,285,286,287,288,289,290,291,292,294,295,298,302,304,309,411,415,510,511],it=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,191,196,204,206,220,221,222,223,224,225,226,227,228,229,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,291,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,334,338,347,359,360,361,364,365,377,379,386,390,391,392,393,394,395,396,398,399,407,408,409,411,415,417,419,425,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,506,507,508,509,510,511],ot=[4,5,9,52,70,87,122,144,154,187,263,284,298,327,330,331,338,386,390,391,394,396,398,399,407,408,409,426,428,429,431,432,433,434,435,439,440,443,444,497,499,500,509,510,511],ut=[1,289],ct=[1,291],lt=[2,490],ht=[1,296],dt=[1,307],ft=[1,310],pt=[1,311],bt=[9,76,87,130,135,144,187,290,298,302,462,510,511],gt=[9,72,298,302,510,511],mt=[2,552],vt=[1,327],Et=[4,5,154],yt=[1,365],St=[1,337],wt=[1,371],Tt=[1,372],xt=[1,345],At=[1,356],Ct=[1,343],kt=[1,351],Ot=[1,344],Rt=[1,352],Nt=[1,354],$t=[1,346],Dt=[1,347],It=[1,366],Lt=[1,363],qt=[1,364],Ut=[1,340],Ft=[1,342],Mt=[1,334],_t=[1,335],Vt=[1,336],jt=[1,338],Pt=[1,339],Bt=[1,341],Gt=[1,348],Jt=[1,349],Ht=[1,353],Wt=[1,355],Xt=[1,357],Yt=[1,358],Kt=[1,359],Qt=[1,360],zt=[1,361],Zt=[1,367],en=[1,368],tn=[1,369],nn=[1,370],rn=[2,285],an=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,228,229,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,291,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,334,338,347,359,360,364,365,386,390,391,394,396,398,399,407,408,409,411,415,417,419,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],sn=[2,353],on=[1,393],un=[1,403],cn=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,228,229,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,417,419,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],ln=[1,419],hn=[1,427],dn=[1,426],fn=[4,5,9,70,72,76,91,96,116,126,160,166,167,204,206,220,221,222,223,224,225,226,227,228,229,230,243,245,298,302,510,511],pn=[9,70,72,76,91,96,116,126,160,166,167,204,206,220,221,222,223,224,225,226,227,228,229,230,243,245,298,302,510,511],bn=[2,200],gn=[1,449],mn=[9,70,76,91,96,116,126,160,166,167,181,230,243,245,298,302,510,511],vn=[2,161],En=[1,452],yn=[4,5,110],Sn=[1,465],wn=[1,484],Tn=[1,464],xn=[1,463],An=[1,458],Cn=[1,459],kn=[1,461],On=[1,462],Rn=[1,466],Nn=[1,467],$n=[1,468],Dn=[1,469],In=[1,470],Ln=[1,471],qn=[1,472],Un=[1,473],Fn=[1,474],Mn=[1,475],_n=[1,476],Vn=[1,477],jn=[1,478],Pn=[1,479],Bn=[1,480],Gn=[1,481],Jn=[1,483],Hn=[1,485],Wn=[1,486],Xn=[1,487],Yn=[1,488],Kn=[1,489],Qn=[1,490],zn=[1,491],Zn=[1,494],er=[1,495],tr=[1,496],nr=[1,497],rr=[1,498],ar=[1,499],sr=[1,500],ir=[1,501],or=[1,502],ur=[1,503],cr=[1,504],lr=[1,505],hr=[72,87,187],dr=[9,72,76,152,185,228,291,298,302,334,347,359,360,364,365,510,511],fr=[1,522],pr=[9,72,76,298,302,510,511],br=[1,523],gr=[1,529],mr=[1,530],vr=[1,534],Er=[4,5,75,129,130,135,141,143,150,152,154,177,178,179,262,263,264,265,267,274,275,276,277,278,279,280,281,282,284,285,286,287,288,289,290,291,292,294,295,304,309,411,415],yr=[9,70,76,91,96,105,116,126,160,166,167,181,196,230,243,245,298,302,510,511],Sr=[4,5,130,290],wr=[1,568],Tr=[9,72,74,76,298,302,510,511],xr=[2,725],Ar=[9,72,74,76,130,137,139,143,150,298,302,411,415,510,511],Cr=[2,881],kr=[9,72,74,76,137,139,143,150,298,302,411,415,510,511],Or=[9,72,74,76,137,139,143,298,302,411,415,510,511],Rr=[9,72,76,137,139,298,302,510,511],Nr=[9,76,87,130,144,187,290,298,302,462,510,511],$r=[327,330,331],Dr=[2,751],Ir=[1,593],Lr=[1,594],qr=[1,595],Ur=[1,596],Fr=[1,602],Mr=[1,601],_r=[162,164,326],Vr=[2,437],jr=[1,657],Pr=[4,5,75,129,154,284,285,286,287],Br=[1,672],Gr=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,116,120,122,126,127,128,129,130,132,133,135,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,305,306,307,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],Jr=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,304,305,306,307,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],Hr=[2,368],Wr=[1,679],Xr=[298,300,302],Yr=[72,419],Kr=[72,417,419],Qr=[1,686],zr=[4,5,9,52,70,72,74,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],Zr=[72,417],ea=[9,70,76,91,96,116,126,160,166,167,230,243,245,298,302,510,511],ta=[1,723],na=[9,70,76,298,302,510,511],ra=[1,729],aa=[1,730],sa=[1,731],ia=[4,5,9,70,72,74,75,76,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,196,274,275,276,277,278,279,280,281,282,298,302,411,415,510,511],oa=[1,781],ua=[1,780],ca=[1,794],la=[1,793],ha=[1,801],da=[9,70,72,76,91,96,105,116,126,160,166,167,181,196,230,243,245,298,302,510,511],fa=[1,832],pa=[9,76,87,144,187,298,302,462,510,511],ba=[1,852],ga=[1,851],ma=[1,850],va=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,228,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,291,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,334,338,347,359,360,364,365,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],Ea=[1,863],ya=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,116,120,122,126,127,128,129,130,132,133,135,137,138,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,305,306,307,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],Sa=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,116,120,122,126,127,128,129,130,132,133,135,137,138,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,305,307,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],wa=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,116,120,122,126,127,128,129,130,131,132,133,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,305,306,307,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],Ta=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,116,120,122,126,127,128,129,130,132,133,135,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,305,306,307,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],xa=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,116,120,122,126,127,128,129,130,132,133,135,137,138,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,306,312,313,314,315,316,317,318,322,323,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],Aa=[2,399],Ca=[4,5,9,52,70,72,74,75,76,87,91,93,96,105,116,120,126,127,128,129,130,132,133,135,141,143,144,146,147,148,150,154,160,162,164,166,167,168,169,170,171,173,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,306,322,323,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],ka=[2,283],Oa=[4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,417,419,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],Ra=[1,899],Na=[9,76,298,302,510,511],$a=[1,910],Da=[9,70,76,116,126,160,166,167,230,243,245,298,302,510,511],Ia=[9,70,72,76,91,96,116,126,160,166,167,181,196,230,243,245,298,302,510,511],La=[4,5,70,74,75,76,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,183,185,274,275,276,277,278,279,280,281,282,411,415],qa=[4,5,70,72,74,75,76,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,183,185,274,275,276,277,278,279,280,281,282,411,415],Ua=[2,805],Fa=[4,5,70,72,74,75,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,183,185,274,275,276,277,278,279,280,281,282,411,415],Ma=[1,962],_a=[9,72,76,126,298,300,302,456,510,511],Va=[113,114,122],ja=[2,569],Pa=[1,990],Ba=[74,137],Ga=[2,711],Ja=[1,1007],Ha=[1,1008],Wa=[4,5,9,52,70,74,87,122,144,154,187,228,263,284,298,302,327,330,331,338,386,390,391,394,396,398,399,407,408,409,426,428,429,431,432,433,434,435,439,440,443,444,497,499,500,509,510,511],Xa=[2,324],Ya=[1,1033],Ka=[1,1043],Qa=[9,72,76,298,300,302,456,510,511],za=[1,1046],Za=[9,70,72,76,91,96,116,126,160,166,167,204,206,220,221,222,223,224,225,226,227,230,243,245,298,302,510,511],es=[9,298,300,302,456,510,511],ts=[9,70,76,116,160,166,167,230,243,245,298,302,510,511],ns=[1,1061],rs=[1,1065],as=[1,1066],ss=[1,1068],is=[1,1069],os=[1,1070],us=[1,1071],cs=[1,1072],ls=[1,1073],hs=[1,1074],ds=[1,1075],fs=[1,1100],ps=[72,76],bs=[1,1157],gs=[9,70,76,116,160,166,167,243,245,298,302,510,511],ms=[9,70,76,91,96,116,126,160,166,167,204,206,220,221,222,223,224,225,226,227,230,243,245,298,302,510,511],vs=[1,1198],Es=[1,1200],ys=[4,5,75,141,143,150,154,179,284,285,286,287,294,411,415],Ss=[1,1214],ws=[9,70,72,76,160,166,167,243,245,298,302,510,511],Ts=[1,1232],xs=[1,1234],As=[1,1235],Cs=[1,1231],ks=[1,1230],Os=[1,1229],Rs=[1,1236],Ns=[1,1226],$s=[1,1227],Ds=[1,1228],Is=[1,1253],Ls=[4,5,9,52,70,87,122,144,154,187,263,284,298,302,327,330,331,338,386,390,391,394,396,398,399,407,408,409,426,428,429,431,432,433,434,435,439,440,443,444,497,499,500,509,510,511],qs=[1,1265],Us=[1,1273],Fs=[1,1272],Ms=[9,70,76,160,166,167,243,245,298,302,510,511],_s=[9,70,76,91,96,116,126,160,166,167,204,206,220,221,222,223,224,225,226,227,228,229,230,243,245,298,302,510,511],Vs=[4,5,9,70,76,91,96,116,126,160,166,167,204,206,220,221,222,223,224,225,226,227,228,229,230,243,245,298,302,510,511],js=[1,1330],Ps=[1,1332],Bs=[1,1329],Gs=[1,1331],Js=[185,191,359,360,361,364],Hs=[2,502],Ws=[1,1337],Xs=[1,1357],Ys=[9,70,76,160,166,167,298,302,510,511],Ks=[1,1367],Qs=[1,1368],zs=[1,1369],Zs=[1,1388],ei=[4,9,241,298,302,334,347,510,511],ti=[1,1436],ni=[9,70,72,76,116,160,166,167,237,243,245,298,302,510,511],ri=[4,5,75],ai=[1,1530],si=[1,1542],ii=[1,1561],oi=[9,70,76,160,166,167,298,302,405,510,511],ui=[9,72,76,228,298,302,510,511],ci={
trace:function(){},yy:{},symbols_:{error:2,Literal:3,LITERAL:4,BRALITERAL:5,LiteralWithSpaces:6,main:7,Statements:8,EOF:9,Statements_group0:10,AStatement:11,ExplainStatement:12,EXPLAIN:13,QUERY:14,PLAN:15,Statement:16,AlterTable:17,AttachDatabase:18,Call:19,CreateDatabase:20,CreateIndex:21,CreateGraph:22,CreateTable:23,CreateView:24,CreateEdge:25,CreateVertex:26,Declare:27,Delete:28,DetachDatabase:29,DropDatabase:30,DropIndex:31,DropTable:32,DropView:33,If:34,Insert:35,Merge:36,Reindex:37,RenameTable:38,Select:39,ShowCreateTable:40,ShowColumns:41,ShowDatabases:42,ShowIndex:43,ShowTables:44,TruncateTable:45,WithSelect:46,CreateTrigger:47,DropTrigger:48,BeginTransaction:49,CommitTransaction:50,RollbackTransaction:51,EndTransaction:52,UseDatabase:53,Update:54,Help:55,JavaScript:56,Source:57,Assert:58,While:59,Continue:60,Break:61,BeginEnd:62,Print:63,Require:64,SetVariable:65,ExpressionStatement:66,AddRule:67,Query:68,Echo:69,WITH:70,WithTablesList:71,COMMA:72,WithTable:73,AS:74,LPAR:75,RPAR:76,SelectClause:77,Select_option0:78,IntoClause:79,FromClause:80,Select_option1:81,WhereClause:82,GroupClause:83,OrderClause:84,LimitClause:85,UnionClause:86,SEARCH:87,Select_repetition0:88,Select_option2:89,PivotClause:90,PIVOT:91,Expression:92,FOR:93,PivotClause_option0:94,PivotClause_option1:95,UNPIVOT:96,IN:97,ColumnsList:98,PivotClause_option2:99,PivotClause2:100,AsList:101,AsLiteral:102,AsPart:103,RemoveClause:104,REMOVE:105,RemoveClause_option0:106,RemoveColumnsList:107,RemoveColumn:108,Column:109,LIKE:110,StringValue:111,ArrowDot:112,ARROW:113,DOT:114,SearchSelector:115,ORDER:116,BY:117,OrderExpressionsList:118,SearchSelector_option0:119,DOTDOT:120,CARET:121,EQ:122,SearchSelector_repetition_plus0:123,SearchSelector_repetition_plus1:124,SearchSelector_option1:125,WHERE:126,OF:127,CLASS:128,NUMBER:129,STRING:130,SLASH:131,VERTEX:132,EDGE:133,EXCLAMATION:134,SHARP:135,MODULO:136,GT:137,LT:138,GTGT:139,LTLT:140,DOLLAR:141,Json:142,AT:143,SET:144,SetColumnsList:145,TO:146,VALUE:147,ROW:148,ExprList:149,COLON:150,PlusStar:151,NOT:152,SearchSelector_repetition2:153,IF:154,SearchSelector_repetition3:155,Aggregator:156,SearchSelector_repetition4:157,SearchSelector_group0:158,SearchSelector_repetition5:159,UNION:160,SearchSelectorList:161,ALL:162,SearchSelector_repetition6:163,ANY:164,SearchSelector_repetition7:165,INTERSECT:166,EXCEPT:167,AND:168,OR:169,PATH:170,RETURN:171,ResultColumns:172,REPEAT:173,SearchSelector_repetition8:174,SearchSelectorList_repetition0:175,SearchSelectorList_repetition1:176,PLUS:177,STAR:178,QUESTION:179,SearchFrom:180,FROM:181,SelectModifier:182,DISTINCT:183,TopClause:184,UNIQUE:185,SelectClause_option0:186,SELECT:187,COLUMN:188,MATRIX:189,TEXTSTRING:190,INDEX:191,RECORDSET:192,TOP:193,NumValue:194,TopClause_option0:195,INTO:196,Table:197,FuncValue:198,ParamValue:199,VarValue:200,FromTablesList:201,JoinTablesList:202,ApplyClause:203,CROSS:204,APPLY:205,OUTER:206,FromTable:207,FromTable_option0:208,FromTable_option1:209,INDEXED:210,INSERTED:211,FromString:212,JoinTable:213,JoinMode:214,JoinTableAs:215,OnClause:216,JoinTableAs_option0:217,JoinTableAs_option1:218,JoinModeMode:219,NATURAL:220,JOIN:221,INNER:222,LEFT:223,RIGHT:224,FULL:225,SEMI:226,ANTI:227,ON:228,USING:229,GROUP:230,GroupExpressionsList:231,HavingClause:232,GroupExpression:233,GROUPING:234,ROLLUP:235,CUBE:236,HAVING:237,CORRESPONDING:238,OrderExpression:239,DIRECTION:240,COLLATE:241,NOCASE:242,LIMIT:243,OffsetClause:244,OFFSET:245,LimitClause_option0:246,FETCH:247,LimitClause_option1:248,LimitClause_option2:249,LimitClause_option3:250,ResultColumn:251,Star:252,AggrValue:253,Op:254,LogicValue:255,NullValue:256,ExistsValue:257,CaseValue:258,CastClause:259,NewClause:260,Expression_group0:261,CURRENT_TIMESTAMP:262,JAVASCRIPT:263,NEW:264,CAST:265,ColumnType:266,CONVERT:267,PrimitiveValue:268,OverClause:269,OVER:270,OverPartitionClause:271,OverOrderByClause:272,PARTITION:273,SUM:274,COUNT:275,MIN:276,MAX:277,AVG:278,FIRST:279,LAST:280,AGGR:281,ARRAY:282,FuncValue_option0:283,REPLACE:284,DATEADD:285,DATEDIFF:286,INTERVAL:287,TRUE:288,FALSE:289,NSTRING:290,NULL:291,EXISTS:292,ParamValue_group0:293,BRAQUESTION:294,CASE:295,WhensList:296,ElseClause:297,END:298,When:299,WHEN:300,THEN:301,ELSE:302,REGEXP:303,TILDA:304,GLOB:305,ESCAPE:306,NOT_LIKE:307,BARBAR:308,MINUS:309,AMPERSAND:310,BAR:311,GE:312,LE:313,EQEQ:314,EQEQEQ:315,NE:316,NEEQEQ:317,NEEQEQEQ:318,CondOp:319,AllSome:320,ColFunc:321,BETWEEN:322,NOT_BETWEEN:323,IS:324,DOUBLECOLON:325,SOME:326,UPDATE:327,SetColumn:328,SetColumn_group0:329,DELETE:330,INSERT:331,Into:332,ValuesListsList:333,DEFAULT:334,ValuesList:335,Value:336,DateValue:337,CREATE:338,TemporaryClause:339,TableClass:340,IfNotExists:341,CreateTableDefClause:342,CreateTableOptionsClause:343,TABLE:344,CreateTableOptions:345,CreateTableOption:346,IDENTITY:347,TEMP:348,ColumnDefsList:349,ConstraintsList:350,Constraint:351,ConstraintName:352,PrimaryKey:353,ForeignKey:354,UniqueKey:355,IndexKey:356,Check:357,CONSTRAINT:358,CHECK:359,PRIMARY:360,KEY:361,PrimaryKey_option0:362,ColsList:363,FOREIGN:364,REFERENCES:365,ForeignKey_option0:366,OnForeignKeyClause:367,ParColsList:368,OnDeleteClause:369,OnUpdateClause:370,NO:371,ACTION:372,UniqueKey_option0:373,UniqueKey_option1:374,ColumnDef:375,ColumnConstraintsClause:376,ColumnConstraints:377,NumberMax:378,ENUM:379,MAXNUM:380,ColumnConstraintsList:381,ColumnConstraint:382,ParLiteral:383,ColumnConstraint_option0:384,ColumnConstraint_option1:385,DROP:386,DropTable_group0:387,IfExists:388,TablesList:389,ALTER:390,RENAME:391,ADD:392,MODIFY:393,ATTACH:394,DATABASE:395,DETACH:396,AsClause:397,USE:398,SHOW:399,VIEW:400,CreateView_option0:401,CreateView_option1:402,SubqueryRestriction:403,READ:404,ONLY:405,OPTION:406,HELP:407,SOURCE:408,ASSERT:409,JsonObject:410,ATLBRA:411,JsonArray:412,JsonValue:413,JsonPrimitiveValue:414,LCUR:415,JsonPropertiesList:416,RCUR:417,JsonElementsList:418,RBRA:419,JsonProperty:420,OnOff:421,SetPropsList:422,AtDollar:423,SetProp:424,OFF:425,COMMIT:426,TRANSACTION:427,ROLLBACK:428,BEGIN:429,ElseStatement:430,WHILE:431,CONTINUE:432,BREAK:433,PRINT:434,REQUIRE:435,StringValuesList:436,PluginsList:437,Plugin:438,ECHO:439,DECLARE:440,DeclaresList:441,DeclareItem:442,TRUNCATE:443,MERGE:444,MergeInto:445,MergeUsing:446,MergeOn:447,MergeMatchedList:448,OutputClause:449,MergeMatched:450,MergeNotMatched:451,MATCHED:452,MergeMatchedAction:453,MergeNotMatchedAction:454,TARGET:455,OUTPUT:456,CreateVertex_option0:457,CreateVertex_option1:458,CreateVertex_option2:459,CreateVertexSet:460,SharpValue:461,CONTENT:462,CreateEdge_option0:463,GRAPH:464,GraphList:465,GraphVertexEdge:466,GraphElement:467,GraphVertexEdge_option0:468,GraphVertexEdge_option1:469,GraphElementVar:470,GraphVertexEdge_option2:471,GraphVertexEdge_option3:472,GraphVertexEdge_option4:473,GraphVar:474,GraphAsClause:475,GraphAtClause:476,GraphElement2:477,GraphElement2_option0:478,GraphElement2_option1:479,GraphElement2_option2:480,GraphElement2_option3:481,GraphElement_option0:482,GraphElement_option1:483,GraphElement_option2:484,SharpLiteral:485,GraphElement_option3:486,GraphElement_option4:487,GraphElement_option5:488,ColonLiteral:489,DeleteVertex:490,DeleteVertex_option0:491,DeleteEdge:492,DeleteEdge_option0:493,DeleteEdge_option1:494,DeleteEdge_option2:495,Term:496,COLONDASH:497,TermsList:498,QUESTIONDASH:499,CALL:500,TRIGGER:501,BeforeAfter:502,InsertDeleteUpdate:503,CreateTrigger_option0:504,CreateTrigger_option1:505,BEFORE:506,AFTER:507,INSTEAD:508,REINDEX:509,SEMICOLON:510,GO:511,PERCENT:512,ROWS:513,NEXT:514,FuncValue_option0_group0:515,$accept:0,$end:1},terminals_:{2:"error",4:"LITERAL",5:"BRALITERAL",9:"EOF",13:"EXPLAIN",14:"QUERY",15:"PLAN",52:"EndTransaction",70:"WITH",72:"COMMA",74:"AS",75:"LPAR",76:"RPAR",87:"SEARCH",91:"PIVOT",93:"FOR",96:"UNPIVOT",97:"IN",105:"REMOVE",110:"LIKE",113:"ARROW",114:"DOT",116:"ORDER",117:"BY",120:"DOTDOT",121:"CARET",122:"EQ",126:"WHERE",127:"OF",128:"CLASS",129:"NUMBER",130:"STRING",131:"SLASH",132:"VERTEX",133:"EDGE",134:"EXCLAMATION",135:"SHARP",136:"MODULO",137:"GT",138:"LT",139:"GTGT",140:"LTLT",141:"DOLLAR",143:"AT",144:"SET",146:"TO",147:"VALUE",148:"ROW",150:"COLON",152:"NOT",154:"IF",160:"UNION",162:"ALL",164:"ANY",166:"INTERSECT",167:"EXCEPT",168:"AND",169:"OR",170:"PATH",171:"RETURN",173:"REPEAT",177:"PLUS",178:"STAR",179:"QUESTION",181:"FROM",183:"DISTINCT",185:"UNIQUE",187:"SELECT",188:"COLUMN",189:"MATRIX",190:"TEXTSTRING",191:"INDEX",192:"RECORDSET",193:"TOP",196:"INTO",204:"CROSS",205:"APPLY",206:"OUTER",210:"INDEXED",211:"INSERTED",220:"NATURAL",221:"JOIN",222:"INNER",223:"LEFT",224:"RIGHT",225:"FULL",226:"SEMI",227:"ANTI",228:"ON",229:"USING",230:"GROUP",234:"GROUPING",235:"ROLLUP",236:"CUBE",237:"HAVING",238:"CORRESPONDING",240:"DIRECTION",241:"COLLATE",242:"NOCASE",243:"LIMIT",245:"OFFSET",247:"FETCH",262:"CURRENT_TIMESTAMP",263:"JAVASCRIPT",264:"NEW",265:"CAST",267:"CONVERT",270:"OVER",273:"PARTITION",274:"SUM",275:"COUNT",276:"MIN",277:"MAX",278:"AVG",279:"FIRST",280:"LAST",281:"AGGR",282:"ARRAY",284:"REPLACE",285:"DATEADD",286:"DATEDIFF",287:"INTERVAL",288:"TRUE",289:"FALSE",290:"NSTRING",291:"NULL",292:"EXISTS",294:"BRAQUESTION",295:"CASE",298:"END",300:"WHEN",301:"THEN",302:"ELSE",303:"REGEXP",304:"TILDA",305:"GLOB",306:"ESCAPE",307:"NOT_LIKE",308:"BARBAR",309:"MINUS",310:"AMPERSAND",311:"BAR",312:"GE",313:"LE",314:"EQEQ",315:"EQEQEQ",316:"NE",317:"NEEQEQ",318:"NEEQEQEQ",322:"BETWEEN",323:"NOT_BETWEEN",324:"IS",325:"DOUBLECOLON",326:"SOME",327:"UPDATE",330:"DELETE",331:"INSERT",334:"DEFAULT",337:"DateValue",338:"CREATE",344:"TABLE",347:"IDENTITY",348:"TEMP",358:"CONSTRAINT",359:"CHECK",360:"PRIMARY",361:"KEY",364:"FOREIGN",365:"REFERENCES",371:"NO",372:"ACTION",377:"ColumnConstraints",379:"ENUM",380:"MAXNUM",386:"DROP",390:"ALTER",391:"RENAME",392:"ADD",393:"MODIFY",394:"ATTACH",395:"DATABASE",396:"DETACH",398:"USE",399:"SHOW",400:"VIEW",404:"READ",405:"ONLY",406:"OPTION",407:"HELP",408:"SOURCE",409:"ASSERT",411:"ATLBRA",415:"LCUR",417:"RCUR",419:"RBRA",425:"OFF",426:"COMMIT",427:"TRANSACTION",428:"ROLLBACK",429:"BEGIN",431:"WHILE",432:"CONTINUE",433:"BREAK",434:"PRINT",435:"REQUIRE",439:"ECHO",440:"DECLARE",443:"TRUNCATE",444:"MERGE",452:"MATCHED",455:"TARGET",456:"OUTPUT",462:"CONTENT",464:"GRAPH",497:"COLONDASH",499:"QUESTIONDASH",500:"CALL",501:"TRIGGER",506:"BEFORE",507:"AFTER",508:"INSTEAD",509:"REINDEX",510:"SEMICOLON",511:"GO",512:"PERCENT",513:"ROWS",514:"NEXT"},productions_:[0,[3,1],[3,1],[6,1],[6,2],[7,2],[8,3],[8,1],[8,1],[12,2],[12,4],[11,1],[16,0],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[46,3],[71,3],[71,1],[73,5],[39,10],[39,4],[90,8],[90,11],[100,4],[102,2],[102,1],[101,3],[101,1],[103,1],[103,3],[104,3],[107,3],[107,1],[108,1],[108,2],[112,1],[112,1],[115,1],[115,5],[115,5],[115,1],[115,2],[115,1],[115,2],[115,2],[115,3],[115,4],[115,4],[115,4],[115,4],[115,4],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,2],[115,2],[115,2],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,2],[115,3],[115,4],[115,3],[115,1],[115,4],[115,2],[115,2],[115,4],[115,4],[115,4],[115,4],[115,4],[115,5],[115,4],[115,4],[115,4],[115,4],[115,4],[115,4],[115,4],[115,4],[115,6],[161,3],[161,1],[151,1],[151,1],[151,1],[180,2],[77,4],[77,4],[77,4],[77,3],[182,1],[182,2],[182,2],[182,2],[182,2],[182,2],[182,2],[182,2],[184,3],[184,4],[184,0],[79,0],[79,2],[79,2],[79,2],[79,2],[79,2],[80,2],[80,3],[80,5],[80,0],[203,6],[203,7],[203,6],[203,7],[201,1],[201,3],[207,4],[207,5],[207,3],[207,3],[207,2],[207,3],[207,1],[207,3],[207,2],[207,3],[207,1],[207,1],[207,2],[207,3],[207,1],[207,1],[207,2],[207,3],[207,1],[207,2],[207,3],[212,1],[197,3],[197,1],[202,2],[202,2],[202,1],[202,1],[213,3],[215,1],[215,2],[215,3],[215,3],[215,2],[215,3],[215,4],[215,5],[215,1],[215,2],[215,3],[215,1],[215,2],[215,3],[214,1],[214,2],[219,1],[219,2],[219,2],[219,3],[219,2],[219,3],[219,2],[219,3],[219,2],[219,2],[219,2],[216,2],[216,2],[216,0],[82,0],[82,2],[83,0],[83,4],[231,1],[231,3],[233,5],[233,4],[233,4],[233,1],[232,0],[232,2],[86,0],[86,2],[86,3],[86,2],[86,2],[86,3],[86,4],[86,3],[86,3],[84,0],[84,3],[118,1],[118,3],[239,1],[239,2],[239,3],[239,4],[85,0],[85,3],[85,8],[244,0],[244,2],[172,3],[172,1],[251,3],[251,2],[251,3],[251,2],[251,3],[251,2],[251,1],[252,5],[252,3],[252,1],[109,5],[109,3],[109,3],[109,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,3],[92,3],[92,3],[92,1],[92,1],[56,1],[260,2],[260,2],[259,6],[259,8],[259,6],[259,8],[268,1],[268,1],[268,1],[268,1],[268,1],[268,1],[268,1],[253,5],[253,6],[253,6],[269,0],[269,4],[269,4],[269,5],[271,3],[272,3],[156,1],[156,1],[156,1],[156,1],[156,1],[156,1],[156,1],[156,1],[156,1],[198,5],[198,3],[198,4],[198,4],[198,8],[198,8],[198,8],[198,8],[198,3],[149,1],[149,3],[194,1],[255,1],[255,1],[111,1],[111,1],[256,1],[200,2],[257,4],[199,2],[199,2],[199,1],[199,1],[258,5],[258,4],[296,2],[296,1],[299,4],[297,2],[297,0],[254,3],[254,3],[254,3],[254,3],[254,5],[254,3],[254,5],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,5],[254,3],[254,3],[254,3],[254,5],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,3],[254,6],[254,6],[254,3],[254,3],[254,2],[254,2],[254,2],[254,2],[254,2],[254,3],[254,5],[254,6],[254,5],[254,6],[254,4],[254,5],[254,3],[254,4],[254,3],[254,4],[254,3],[254,3],[254,3],[254,3],[254,3],[321,1],[321,1],[321,4],[319,1],[319,1],[319,1],[319,1],[319,1],[319,1],[320,1],[320,1],[320,1],[54,6],[54,4],[145,1],[145,3],[328,3],[328,4],[28,5],[28,3],[35,5],[35,7],[35,5],[35,5],[35,8],[35,4],[35,6],[35,7],[332,0],[332,1],[333,3],[333,1],[333,1],[333,5],[333,3],[333,3],[335,1],[335,3],[336,1],[336,1],[336,1],[336,1],[336,1],[336,1],[98,1],[98,3],[23,9],[23,5],[340,1],[340,1],[343,0],[343,1],[345,2],[345,1],[346,1],[346,3],[346,3],[346,3],[339,0],[339,1],[341,0],[341,3],[342,3],[342,1],[342,2],[350,1],[350,3],[351,2],[351,2],[351,2],[351,2],[351,2],[352,0],[352,2],[357,4],[353,6],[354,9],[368,3],[367,0],[367,2],[369,4],[370,4],[355,6],[356,5],[356,5],[363,1],[363,1],[363,3],[363,3],[349,1],[349,3],[375,3],[375,2],[375,1],[266,6],[266,4],[266,1],[266,4],[378,1],[378,1],[376,0],[376,1],[381,2],[381,1],[383,3],[382,2],[382,5],[382,3],[382,6],[382,1],[382,2],[382,4],[382,2],[382,1],[382,2],[382,1],[382,1],[382,3],[382,5],[32,4],[389,3],[389,1],[388,0],[388,2],[17,6],[17,6],[17,6],[17,8],[17,6],[38,5],[18,4],[18,7],[18,6],[18,9],[29,3],[20,4],[20,6],[20,9],[20,6],[397,0],[397,2],[53,3],[53,2],[30,4],[30,5],[30,5],[21,8],[21,9],[31,3],[42,2],[42,4],[42,3],[42,5],[44,2],[44,4],[44,4],[44,6],[41,4],[41,6],[43,4],[43,6],[40,4],[40,6],[24,11],[24,8],[403,3],[403,3],[403,5],[33,4],[55,2],[55,1],[66,2],[57,2],[58,2],[58,2],[58,4],[142,4],[142,2],[142,2],[142,2],[142,2],[142,1],[142,2],[142,2],[413,1],[413,1],[414,1],[414,1],[414,1],[414,1],[414,1],[414,1],[414,1],[414,3],[410,3],[410,4],[410,2],[412,2],[412,3],[412,1],[416,3],[416,1],[420,3],[420,3],[420,3],[418,3],[418,1],[65,4],[65,3],[65,4],[65,5],[65,5],[65,6],[423,1],[423,1],[422,3],[422,2],[424,1],[424,1],[424,3],[421,1],[421,1],[50,2],[51,2],[49,2],[34,4],[34,3],[430,2],[59,3],[60,1],[61,1],[62,3],[63,2],[63,2],[64,2],[64,2],[438,1],[438,1],[69,2],[436,3],[436,1],[437,3],[437,1],[27,2],[441,1],[441,3],[442,3],[442,4],[442,5],[442,6],[45,3],[36,6],[445,1],[445,2],[446,2],[447,2],[448,2],[448,2],[448,1],[448,1],[450,4],[450,6],[453,1],[453,3],[451,5],[451,7],[451,7],[451,9],[451,7],[451,9],[454,3],[454,6],[454,3],[454,6],[449,0],[449,2],[449,5],[449,4],[449,7],[26,6],[461,2],[460,0],[460,2],[460,2],[460,1],[25,8],[22,3],[22,4],[465,3],[465,1],[466,3],[466,7],[466,6],[466,3],[466,4],[470,1],[470,1],[474,2],[475,3],[476,2],[477,4],[467,4],[467,3],[467,2],[467,1],[489,2],[485,2],[485,2],[490,4],[492,6],[67,3],[67,2],[498,3],[498,1],[496,1],[496,4],[68,2],[19,2],[47,9],[47,8],[47,9],[502,0],[502,1],[502,1],[502,1],[502,2],[503,1],[503,1],[503,1],[48,3],[37,2],[10,1],[10,1],[78,0],[78,1],[81,0],[81,1],[88,0],[88,2],[89,0],[89,1],[94,0],[94,1],[95,0],[95,1],[99,0],[99,1],[106,0],[106,1],[119,0],[119,1],[123,1],[123,2],[124,1],[124,2],[125,0],[125,1],[153,0],[153,2],[155,0],[155,2],[157,0],[157,2],[158,1],[158,1],[159,0],[159,2],[163,0],[163,2],[165,0],[165,2],[174,0],[174,2],[175,0],[175,2],[176,0],[176,2],[186,0],[186,1],[195,0],[195,1],[208,0],[208,1],[209,0],[209,1],[217,0],[217,1],[218,0],[218,1],[246,0],[246,1],[248,0],[248,1],[249,0],[249,1],[250,0],[250,1],[261,1],[261,1],[515,1],[515,1],[283,0],[283,1],[293,1],[293,1],[329,1],[329,1],[362,0],[362,1],[366,0],[366,1],[373,0],[373,1],[374,0],[374,1],[384,0],[384,1],[385,0],[385,1],[387,1],[387,1],[401,0],[401,1],[402,0],[402,1],[457,0],[457,1],[458,0],[458,1],[459,0],[459,1],[463,0],[463,1],[468,0],[468,1],[469,0],[469,1],[471,0],[471,1],[472,0],[472,1],[473,0],[473,1],[478,0],[478,1],[479,0],[479,1],[480,0],[480,1],[481,0],[481,1],[482,0],[482,1],[483,0],[483,1],[484,0],[484,1],[486,0],[486,1],[487,0],[487,1],[488,0],[488,1],[491,0],[491,2],[493,0],[493,2],[494,0],[494,2],[495,0],[495,2],[504,0],[504,1],[505,0],[505,1]],performAction:function(e,t,n,r,a,s,i){var o=s.length-1;switch(a){case 1:r.casesensitive?this.$=s[o]:this.$=s[o].toLowerCase();break;case 2:this.$=R(s[o].substr(1,s[o].length-2));break;case 3:this.$=s[o];break;case 4:this.$=s[o]?s[o-1]+" "+s[o]:s[o-1];break;case 5:return new r.Statements({statements:s[o-1]});case 6:this.$=s[o-2],s[o]&&s[o-2].push(s[o]);break;case 7:case 8:case 68:case 78:case 83:case 141:case 175:case 203:case 204:case 240:case 259:case 271:case 348:case 365:case 444:case 461:case 462:case 466:case 474:case 515:case 516:case 551:case 636:case 646:case 670:case 672:case 674:case 688:case 689:case 719:case 743:this.$=[s[o]];break;case 9:this.$=s[o],s[o].explain=!0;break;case 10:this.$=s[o],s[o].explain=!0;break;case 11:this.$=s[o],r.exists&&(this.$.exists=r.exists),delete r.exists,r.queries&&(this.$.queries=r.queries),delete r.queries;break;case 12:case 160:case 170:case 235:case 236:case 238:case 246:case 248:case 257:case 265:case 268:case 368:case 478:case 488:case 490:case 502:case 508:case 509:case 552:this.$=void 0;break;case 66:this.$=new r.WithSelect({withs:s[o-1],select:s[o]});break;case 67:case 550:s[o-2].push(s[o]),this.$=s[o-2];break;case 69:this.$={name:s[o-4],select:s[o-1]};break;case 70:r.extend(this.$,s[o-9]),r.extend(this.$,s[o-8]),r.extend(this.$,s[o-7]),r.extend(this.$,s[o-6]),r.extend(this.$,s[o-5]),r.extend(this.$,s[o-4]),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-2]),r.extend(this.$,s[o-1]),r.extend(this.$,s[o]),this.$=s[o-9];break;case 71:this.$=new r.Search({selectors:s[o-2],from:s[o]}),r.extend(this.$,s[o-1]);break;case 72:this.$={pivot:{expr:s[o-5],columnid:s[o-3],inlist:s[o-2],as:s[o]}};break;case 73:this.$={unpivot:{tocolumnid:s[o-8],forcolumnid:s[o-6],inlist:s[o-3],as:s[o]}};break;case 74:case 507:case 534:case 570:case 606:case 624:case 627:case 649:this.$=s[o-1];break;case 75:case 76:case 84:case 145:case 183:case 245:case 278:case 286:case 287:case 288:case 289:case 290:case 291:case 292:case 293:case 294:case 295:case 296:case 297:case 298:case 299:case 301:case 314:case 315:case 316:case 317:case 318:case 319:case 367:case 433:case 434:case 435:case 436:case 437:case 438:case 503:case 531:case 533:case 610:case 611:case 612:case 613:case 614:case 615:case 619:case 621:case 622:case 631:case 647:case 648:case 710:case 725:case 726:case 728:case 729:case 735:case 736:this.$=s[o];break;case 77:case 82:case 718:case 742:this.$=s[o-2],this.$.push(s[o]);break;case 79:this.$={expr:s[o]};break;case 80:this.$={expr:s[o-2],as:s[o]};break;case 81:this.$={removecolumns:s[o]};break;case 85:this.$={like:s[o]};break;case 88:case 102:this.$={srchid:"PROP",args:[s[o]]};break;case 89:this.$={srchid:"ORDERBY",args:s[o-1]};break;case 90:var u=s[o-1];u||(u="ASC"),this.$={srchid:"ORDERBY",args:[{expression:new r.Column({columnid:"_"}),direction:u}]};break;case 91:this.$={srchid:"PARENT"};break;case 92:this.$={srchid:"APROP",args:[s[o]]};break;case 93:this.$={selid:"ROOT"};break;case 94:this.$={srchid:"EQ",args:[s[o]]};break;case 95:this.$={srchid:"LIKE",args:[s[o]]};break;case 96:case 97:this.$={selid:"WITH",args:s[o-1]};break;case 98:this.$={srchid:s[o-3].toUpperCase(),args:s[o-1]};break;case 99:this.$={srchid:"WHERE",args:[s[o-1]]};break;case 100:this.$={selid:"OF",args:[s[o-1]]};break;case 101:this.$={srchid:"CLASS",args:[s[o-1]]};break;case 103:this.$={srchid:"NAME",args:[s[o].substr(1,s[o].length-2)]};break;case 104:this.$={srchid:"CHILD"};break;case 105:this.$={srchid:"VERTEX"};break;case 106:this.$={srchid:"EDGE"};break;case 107:this.$={srchid:"REF"};break;case 108:this.$={srchid:"SHARP",args:[s[o]]};break;case 109:this.$={srchid:"ATTR",args:"undefined"==typeof s[o]?void 0:[s[o]]};break;case 110:this.$={srchid:"ATTR"};break;case 111:this.$={srchid:"OUT"};break;case 112:this.$={srchid:"IN"};break;case 113:this.$={srchid:"OUTOUT"};break;case 114:this.$={srchid:"ININ"};break;case 115:this.$={srchid:"CONTENT"};break;case 116:this.$={srchid:"EX",args:[new r.Json({value:s[o]})]};break;case 117:this.$={srchid:"AT",args:[s[o]]};break;case 118:this.$={srchid:"AS",args:[s[o]]};break;case 119:this.$={srchid:"SET",args:s[o-1]};break;case 120:this.$={selid:"TO",args:[s[o]]};break;case 121:this.$={srchid:"VALUE"};break;case 122:this.$={srchid:"ROW",args:s[o-1]};break;case 123:this.$={srchid:"CLASS",args:[s[o]]};break;case 124:this.$={selid:s[o],args:[s[o-1]]};break;case 125:this.$={selid:"NOT",args:s[o-1]};break;case 126:this.$={selid:"IF",args:s[o-1]};break;case 127:this.$={selid:s[o-3],args:s[o-1]};break;case 128:this.$={selid:"DISTINCT",args:s[o-1]};break;case 129:this.$={selid:"UNION",args:s[o-1]};break;case 130:this.$={selid:"UNIONALL",args:s[o-1]};break;case 131:this.$={selid:"ALL",args:[s[o-1]]};break;case 132:this.$={selid:"ANY",args:[s[o-1]]};break;case 133:this.$={selid:"INTERSECT",args:s[o-1]};break;case 134:this.$={selid:"EXCEPT",args:s[o-1]};break;case 135:this.$={selid:"AND",args:s[o-1]};break;case 136:this.$={selid:"OR",args:s[o-1]};break;case 137:this.$={selid:"PATH",args:[s[o-1]]};break;case 138:this.$={srchid:"RETURN",args:s[o-1]};break;case 139:this.$={selid:"REPEAT",sels:s[o-3],args:s[o-1]};break;case 140:this.$=s[o-2],this.$.push(s[o]);break;case 142:this.$="PLUS";break;case 143:this.$="STAR";break;case 144:this.$="QUESTION";break;case 146:this.$=new r.Select({columns:s[o],distinct:!0}),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-1]);break;case 147:this.$=new r.Select({columns:s[o],distinct:!0}),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-1]);break;case 148:this.$=new r.Select({columns:s[o],all:!0}),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-1]);break;case 149:s[o]?(this.$=new r.Select({columns:s[o]}),r.extend(this.$,s[o-2]),r.extend(this.$,s[o-1])):this.$=new r.Select({columns:[new r.Column({columnid:"_"})],modifier:"COLUMN"});break;case 150:"SELECT"==s[o]?this.$=void 0:this.$={modifier:s[o]};break;case 151:this.$={modifier:"VALUE"};break;case 152:this.$={modifier:"ROW"};break;case 153:this.$={modifier:"COLUMN"};break;case 154:this.$={modifier:"MATRIX"};break;case 155:this.$={modifier:"TEXTSTRING"};break;case 156:this.$={modifier:"INDEX"};break;case 157:this.$={modifier:"RECORDSET"};break;case 158:this.$={top:s[o-1],percent:"undefined"!=typeof s[o]||void 0};break;case 159:this.$={top:s[o-1]};break;case 161:case 324:case 510:case 511:case 711:this.$=void 0;break;case 162:case 163:case 164:case 165:this.$={into:s[o]};break;case 166:var c=s[o];c=c.substr(1,c.length-2);var l=c.substr(-3).toUpperCase(),h=c.substr(-4).toUpperCase();"#"==c[0]?this.$={into:new r.FuncValue({funcid:"HTML",args:[new r.StringValue({value:c}),new r.Json({value:{headers:!0}})]})}:"XLS"==l||"CSV"==l||"TAB"==l?this.$={into:new r.FuncValue({funcid:l,args:[new r.StringValue({value:c}),new r.Json({value:{headers:!0}})]})}:"XLSX"!=h&&"JSON"!=h||(this.$={into:new r.FuncValue({funcid:h,args:[new r.StringValue({value:c}),new r.Json({value:{headers:!0}})]})});break;case 167:this.$={from:s[o]};break;case 168:this.$={from:s[o-1],joins:s[o]};break;case 169:this.$={from:s[o-2],joins:s[o-1]};break;case 171:this.$=new r.Apply({select:s[o-2],applymode:"CROSS",as:s[o]});break;case 172:this.$=new r.Apply({select:s[o-3],applymode:"CROSS",as:s[o]});break;case 173:this.$=new r.Apply({select:s[o-2],applymode:"OUTER",as:s[o]});break;case 174:this.$=new r.Apply({select:s[o-3],applymode:"OUTER",as:s[o]});break;case 176:case 241:case 445:case 517:case 518:this.$=s[o-2],s[o-2].push(s[o]);break;case 177:this.$=s[o-2],this.$.as=s[o];break;case 178:this.$=s[o-3],this.$.as=s[o];break;case 179:this.$=s[o-1],this.$.as="default";break;case 180:this.$=new r.Json({value:s[o-2]}),s[o-2].as=s[o];break;case 181:this.$=s[o-1],s[o-1].as=s[o];break;case 182:this.$=s[o-2],s[o-2].as=s[o];break;case 184:case 625:case 628:this.$=s[o-2];break;case 185:case 189:case 193:case 196:this.$=s[o-1],s[o-1].as=s[o];break;case 186:case 190:case 194:case 197:this.$=s[o-2],s[o-2].as=s[o];break;case 187:case 188:case 192:case 195:this.$=s[o],s[o].as="default";break;case 191:this.$={inserted:!0},s[o].as="default";break;case 198:var c=s[o];c=c.substr(1,c.length-2);var d,l=c.substr(-3).toUpperCase(),h=c.substr(-4).toUpperCase();if("#"==c[0])d=new r.FuncValue({funcid:"HTML",args:[new r.StringValue({value:c}),new r.Json({value:{headers:!0}})]});else if("XLS"==l||"CSV"==l||"TAB"==l)d=new r.FuncValue({funcid:l,args:[new r.StringValue({value:c}),new r.Json({value:{headers:!0}})]});else{if("XLSX"!=h&&"JSON"!=h)throw new Error("Unknown string in FROM clause");d=new r.FuncValue({funcid:h,args:[new r.StringValue({value:c}),new r.Json({value:{headers:!0}})]})}this.$=d;break;case 199:"INFORMATION_SCHEMA"==s[o-2]?this.$=new r.FuncValue({funcid:s[o-2],args:[new r.StringValue({value:s[o]})]}):this.$=new r.Table({databaseid:s[o-2],tableid:s[o]});break;case 200:this.$=new r.Table({tableid:s[o]});break;case 201:case 202:this.$=s[o-1],s[o-1].push(s[o]);break;case 205:this.$=new r.Join(s[o-2]),r.extend(this.$,s[o-1]),r.extend(this.$,s[o]);break;case 206:this.$={table:s[o]};break;case 207:this.$={table:s[o-1],as:s[o]};break;case 208:this.$={table:s[o-2],as:s[o]};break;case 209:this.$={json:new r.Json({value:s[o-2],as:s[o]})};break;case 210:this.$={param:s[o-1],as:s[o]};break;case 211:this.$={param:s[o-2],as:s[o]};break;case 212:this.$={select:s[o-3],as:s[o]};break;case 213:this.$={select:s[o-4],as:s[o]};break;case 214:this.$={funcid:s[o],as:"default"};break;case 215:this.$={funcid:s[o-1],as:s[o]};break;case 216:this.$={funcid:s[o-2],as:s[o]};break;case 217:this.$={variable:s[o],as:"default"};break;case 218:this.$={variable:s[o-1],as:s[o]};break;case 219:this.$={variable:s[o-2],as:s[o]};break;case 220:this.$={joinmode:s[o]};break;case 221:this.$={joinmode:s[o-1],natural:!0};break;case 222:case 223:this.$="INNER";break;case 224:case 225:this.$="LEFT";break;case 226:case 227:this.$="RIGHT";break;case 228:case 229:this.$="OUTER";break;case 230:this.$="SEMI";break;case 231:this.$="ANTI";break;case 232:this.$="CROSS";break;case 233:this.$={on:s[o]};break;case 234:case 684:this.$={using:s[o]};break;case 237:this.$={where:new r.Expression({expression:s[o]})};break;case 239:this.$={group:s[o-1]},r.extend(this.$,s[o]);break;case 242:this.$=new r.GroupExpression({type:"GROUPING SETS",group:s[o-1]});break;case 243:this.$=new r.GroupExpression({type:"ROLLUP",group:s[o-1]});break;case 244:this.$=new r.GroupExpression({type:"CUBE",group:s[o-1]});break;case 247:this.$={having:s[o]};break;case 249:this.$={union:s[o]};break;case 250:this.$={unionall:s[o]};break;case 251:this.$={except:s[o]};break;case 252:this.$={intersect:s[o]};break;case 253:this.$={union:s[o],corresponding:!0};break;case 254:this.$={unionall:s[o],corresponding:!0};break;case 255:this.$={except:s[o],corresponding:!0};break;case 256:this.$={intersect:s[o],corresponding:!0};break;case 258:this.$={order:s[o]};break;case 260:this.$=s[o-2],s[o-2].push(s[o]);break;case 261:this.$=new r.Expression({expression:s[o],direction:"ASC"});break;case 262:this.$=new r.Expression({expression:s[o-1],direction:s[o].toUpperCase()});break;case 263:this.$=new r.Expression({expression:s[o-2],direction:"ASC",nocase:!0});break;case 264:this.$=new r.Expression({expression:s[o-3],direction:s[o].toUpperCase(),nocase:!0});break;case 266:this.$={limit:s[o-1]},r.extend(this.$,s[o]);break;case 267:this.$={limit:s[o-2],offset:s[o-6]};break;case 269:this.$={offset:s[o]};break;case 270:case 496:case 520:case 635:case 645:case 669:case 671:case 675:s[o-2].push(s[o]),this.$=s[o-2];break;case 272:case 274:case 276:s[o-2].as=s[o],this.$=s[o-2];break;case 273:case 275:case 277:s[o-1].as=s[o],this.$=s[o-1];break;case 279:this.$=new r.Column({columid:s[o],tableid:s[o-2],databaseid:s[o-4]});break;case 280:this.$=new r.Column({columnid:s[o],tableid:s[o-2]});break;case 281:this.$=new r.Column({columnid:s[o]});break;case 282:this.$=new r.Column({columnid:s[o],tableid:s[o-2],databaseid:s[o-4]});break;case 283:case 284:this.$=new r.Column({columnid:s[o],tableid:s[o-2]});break;case 285:this.$=new r.Column({columnid:s[o]});break;case 300:this.$=new r.Json({value:s[o]});break;case 302:case 303:case 304:r.queries||(r.queries=[]),r.queries.push(s[o-1]),s[o-1].queriesidx=r.queries.length,this.$=s[o-1];break;case 305:this.$=s[o];break;case 306:this.$=new r.FuncValue({funcid:"CURRENT_TIMESTAMP"});break;case 307:this.$=new r.JavaScript({value:s[o].substr(2,s[o].length-4)});break;case 308:this.$=new r.FuncValue({funcid:s[o],newid:!0});break;case 309:this.$=s[o],r.extend(this.$,{newid:!0});break;case 310:this.$=new r.Convert({expression:s[o-3]}),r.extend(this.$,s[o-1]);break;case 311:this.$=new r.Convert({expression:s[o-5],style:s[o-1]}),r.extend(this.$,s[o-3]);break;case 312:this.$=new r.Convert({expression:s[o-1]}),r.extend(this.$,s[o-3]);break;case 313:this.$=new r.Convert({expression:s[o-3],style:s[o-1]}),r.extend(this.$,s[o-5]);break;case 320:this.$=new r.FuncValue({funcid:"CURRENT_TIMESTAMP"});break;case 321:s[o-2].length>1&&("MAX"==s[o-4].toUpperCase()||"MIN"==s[o-4].toUpperCase())?this.$=new r.FuncValue({funcid:s[o-4],args:s[o-2]}):this.$=new r.AggrValue({aggregatorid:s[o-4].toUpperCase(),expression:s[o-2].pop(),over:s[o]});break;case 322:this.$=new r.AggrValue({aggregatorid:s[o-5].toUpperCase(),expression:s[o-2],distinct:!0,over:s[o]});break;case 323:this.$=new r.AggrValue({aggregatorid:s[o-5].toUpperCase(),expression:s[o-2],over:s[o]});break;case 325:case 326:this.$=new r.Over,r.extend(this.$,s[o-1]);break;case 327:this.$=new r.Over,r.extend(this.$,s[o-2]),r.extend(this.$,s[o-1]);break;case 328:this.$={partition:s[o]};break;case 329:this.$={order:s[o]};break;case 330:this.$="SUM";break;case 331:this.$="COUNT";break;case 332:this.$="MIN";break;case 333:case 529:this.$="MAX";break;case 334:this.$="AVG";break;case 335:this.$="FIRST";break;case 336:this.$="LAST";break;case 337:this.$="AGGR";break;case 338:this.$="ARRAY";break;case 339:var f=s[o-4],p=s[o-1];p.length>1&&("MIN"==f.toUpperCase()||"MAX"==f.toUpperCase())?this.$=new r.FuncValue({funcid:f,args:p}):w.aggr[s[o-4]]?this.$=new r.AggrValue({aggregatorid:"REDUCE",funcid:f,expression:p.pop(),distinct:"DISTINCT"==s[o-2]}):this.$=new r.FuncValue({funcid:f,args:p});break;case 340:this.$=new r.FuncValue({funcid:s[o-2]});break;case 341:this.$=new r.FuncValue({funcid:"IIF",args:s[o-1]});break;case 342:this.$=new r.FuncValue({funcid:"REPLACE",args:s[o-1]});break;case 343:this.$=new r.FuncValue({funcid:"DATEADD",args:[new r.StringValue({value:s[o-5]}),s[o-3],s[o-1]]});break;case 344:this.$=new r.FuncValue({funcid:"DATEADD",args:[s[o-5],s[o-3],s[o-1]]});break;case 345:this.$=new r.FuncValue({funcid:"DATEDIFF",args:[new r.StringValue({
value:s[o-5]}),s[o-3],s[o-1]]});break;case 346:this.$=new r.FuncValue({funcid:"DATEDIFF",args:[s[o-5],s[o-3],s[o-1]]});break;case 347:this.$=new r.FuncValue({funcid:"INTERVAL",args:[s[o-1],new r.StringValue({value:s[o].toLowerCase()})]});break;case 349:s[o-2].push(s[o]),this.$=s[o-2];break;case 350:this.$=new r.NumValue({value:+s[o]});break;case 351:this.$=new r.LogicValue({value:!0});break;case 352:this.$=new r.LogicValue({value:!1});break;case 353:this.$=new r.StringValue({value:s[o].substr(1,s[o].length-2).replace(/(\\\')/g,"'").replace(/(\'\')/g,"'")});break;case 354:this.$=new r.StringValue({value:s[o].substr(2,s[o].length-3).replace(/(\\\')/g,"'").replace(/(\'\')/g,"'")});break;case 355:this.$=new r.NullValue({value:void 0});break;case 356:this.$=new r.VarValue({variable:s[o]});break;case 357:r.exists||(r.exists=[]),this.$=new r.ExistsValue({value:s[o-1],existsidx:r.exists.length}),r.exists.push(s[o-1]);break;case 358:case 359:this.$=new r.ParamValue({param:s[o]});break;case 360:"undefined"==typeof r.question&&(r.question=0),this.$=new r.ParamValue({param:r.question++});break;case 361:"undefined"==typeof r.question&&(r.question=0),this.$=new r.ParamValue({param:r.question++,array:!0});break;case 362:this.$=new r.CaseValue({expression:s[o-3],whens:s[o-2],elses:s[o-1]});break;case 363:this.$=new r.CaseValue({whens:s[o-2],elses:s[o-1]});break;case 364:case 686:case 687:this.$=s[o-1],this.$.push(s[o]);break;case 366:this.$={when:s[o-2],then:s[o]};break;case 369:case 370:this.$=new r.Op({left:s[o-2],op:"REGEXP",right:s[o]});break;case 371:this.$=new r.Op({left:s[o-2],op:"GLOB",right:s[o]});break;case 372:this.$=new r.Op({left:s[o-2],op:"LIKE",right:s[o]});break;case 373:this.$=new r.Op({left:s[o-4],op:"LIKE",right:s[o-2],escape:s[o]});break;case 374:this.$=new r.Op({left:s[o-2],op:"NOT LIKE",right:s[o]});break;case 375:this.$=new r.Op({left:s[o-4],op:"NOT LIKE",right:s[o-2],escape:s[o]});break;case 376:this.$=new r.Op({left:s[o-2],op:"||",right:s[o]});break;case 377:this.$=new r.Op({left:s[o-2],op:"+",right:s[o]});break;case 378:this.$=new r.Op({left:s[o-2],op:"-",right:s[o]});break;case 379:this.$=new r.Op({left:s[o-2],op:"*",right:s[o]});break;case 380:this.$=new r.Op({left:s[o-2],op:"/",right:s[o]});break;case 381:this.$=new r.Op({left:s[o-2],op:"%",right:s[o]});break;case 382:this.$=new r.Op({left:s[o-2],op:"^",right:s[o]});break;case 383:this.$=new r.Op({left:s[o-2],op:">>",right:s[o]});break;case 384:this.$=new r.Op({left:s[o-2],op:"<<",right:s[o]});break;case 385:this.$=new r.Op({left:s[o-2],op:"&",right:s[o]});break;case 386:this.$=new r.Op({left:s[o-2],op:"|",right:s[o]});break;case 387:case 388:case 390:this.$=new r.Op({left:s[o-2],op:"->",right:s[o]});break;case 389:this.$=new r.Op({left:s[o-4],op:"->",right:s[o-1]});break;case 391:case 392:case 394:this.$=new r.Op({left:s[o-2],op:"!",right:s[o]});break;case 393:this.$=new r.Op({left:s[o-4],op:"!",right:s[o-1]});break;case 395:this.$=new r.Op({left:s[o-2],op:">",right:s[o]});break;case 396:this.$=new r.Op({left:s[o-2],op:">=",right:s[o]});break;case 397:this.$=new r.Op({left:s[o-2],op:"<",right:s[o]});break;case 398:this.$=new r.Op({left:s[o-2],op:"<=",right:s[o]});break;case 399:this.$=new r.Op({left:s[o-2],op:"=",right:s[o]});break;case 400:this.$=new r.Op({left:s[o-2],op:"==",right:s[o]});break;case 401:this.$=new r.Op({left:s[o-2],op:"===",right:s[o]});break;case 402:this.$=new r.Op({left:s[o-2],op:"!=",right:s[o]});break;case 403:this.$=new r.Op({left:s[o-2],op:"!==",right:s[o]});break;case 404:this.$=new r.Op({left:s[o-2],op:"!===",right:s[o]});break;case 405:r.queries||(r.queries=[]),this.$=new r.Op({left:s[o-5],op:s[o-4],allsome:s[o-3],right:s[o-1],queriesidx:r.queries.length}),r.queries.push(s[o-1]);break;case 406:this.$=new r.Op({left:s[o-5],op:s[o-4],allsome:s[o-3],right:s[o-1]});break;case 407:"BETWEEN1"==s[o-2].op?"AND"==s[o-2].left.op?this.$=new r.Op({left:s[o-2].left.left,op:"AND",right:new r.Op({left:s[o-2].left.right,op:"BETWEEN",right1:s[o-2].right,right2:s[o]})}):this.$=new r.Op({left:s[o-2].left,op:"BETWEEN",right1:s[o-2].right,right2:s[o]}):"NOT BETWEEN1"==s[o-2].op?"AND"==s[o-2].left.op?this.$=new r.Op({left:s[o-2].left.left,op:"AND",right:new r.Op({left:s[o-2].left.right,op:"NOT BETWEEN",right1:s[o-2].right,right2:s[o]})}):this.$=new r.Op({left:s[o-2].left,op:"NOT BETWEEN",right1:s[o-2].right,right2:s[o]}):this.$=new r.Op({left:s[o-2],op:"AND",right:s[o]});break;case 408:this.$=new r.Op({left:s[o-2],op:"OR",right:s[o]});break;case 409:this.$=new r.UniOp({op:"NOT",right:s[o]});break;case 410:this.$=new r.UniOp({op:"-",right:s[o]});break;case 411:this.$=new r.UniOp({op:"+",right:s[o]});break;case 412:this.$=new r.UniOp({op:"~",right:s[o]});break;case 413:this.$=new r.UniOp({op:"#",right:s[o]});break;case 414:this.$=new r.UniOp({right:s[o-1]});break;case 415:r.queries||(r.queries=[]),this.$=new r.Op({left:s[o-4],op:"IN",right:s[o-1],queriesidx:r.queries.length}),r.queries.push(s[o-1]);break;case 416:r.queries||(r.queries=[]),this.$=new r.Op({left:s[o-5],op:"NOT IN",right:s[o-1],queriesidx:r.queries.length}),r.queries.push(s[o-1]);break;case 417:this.$=new r.Op({left:s[o-4],op:"IN",right:s[o-1]});break;case 418:this.$=new r.Op({left:s[o-5],op:"NOT IN",right:s[o-1]});break;case 419:this.$=new r.Op({left:s[o-3],op:"IN",right:[]});break;case 420:this.$=new r.Op({left:s[o-4],op:"NOT IN",right:[]});break;case 421:case 423:this.$=new r.Op({left:s[o-2],op:"IN",right:s[o]});break;case 422:case 424:this.$=new r.Op({left:s[o-3],op:"NOT IN",right:s[o]});break;case 425:this.$=new r.Op({left:s[o-2],op:"BETWEEN1",right:s[o]});break;case 426:this.$=new r.Op({left:s[o-2],op:"NOT BETWEEN1",right:s[o]});break;case 427:this.$=new r.Op({op:"IS",left:s[o-2],right:s[o]});break;case 428:this.$=new r.Op({op:"IS",left:s[o-2],right:new r.UniOp({op:"NOT",right:new r.NullValue({value:void 0})})});break;case 429:this.$=new r.Convert({expression:s[o-2]}),r.extend(this.$,s[o]);break;case 430:case 431:this.$=s[o];break;case 432:this.$=s[o-1];break;case 439:this.$="ALL";break;case 440:this.$="SOME";break;case 441:this.$="ANY";break;case 442:this.$=new r.Update({table:s[o-4],columns:s[o-2],where:s[o]});break;case 443:this.$=new r.Update({table:s[o-2],columns:s[o]});break;case 446:this.$=new r.SetColumn({column:s[o-2],expression:s[o]});break;case 447:this.$=new r.SetColumn({variable:s[o-2],expression:s[o],method:s[o-3]});break;case 448:this.$=new r.Delete({table:s[o-2],where:s[o]});break;case 449:this.$=new r.Delete({table:s[o]});break;case 450:this.$=new r.Insert({into:s[o-2],values:s[o]});break;case 451:case 452:this.$=new r.Insert({into:s[o-2],values:s[o],orreplace:!0});break;case 453:this.$=new r.Insert({into:s[o-2],"default":!0});break;case 454:this.$=new r.Insert({into:s[o-5],columns:s[o-3],values:s[o]});break;case 455:this.$=new r.Insert({into:s[o-1],select:s[o]});break;case 456:this.$=new r.Insert({into:s[o-1],select:s[o],orreplace:!0});break;case 457:this.$=new r.Insert({into:s[o-4],columns:s[o-2],select:s[o]});break;case 460:this.$=[s[o-1]];break;case 463:this.$=s[o-4],s[o-4].push(s[o-1]);break;case 464:case 465:case 467:case 475:this.$=s[o-2],s[o-2].push(s[o]);break;case 476:this.$=new r.CreateTable({table:s[o-4]}),r.extend(this.$,s[o-7]),r.extend(this.$,s[o-6]),r.extend(this.$,s[o-5]),r.extend(this.$,s[o-2]),r.extend(this.$,s[o]);break;case 477:this.$=new r.CreateTable({table:s[o]}),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-2]),r.extend(this.$,s[o-1]);break;case 479:this.$={"class":!0};break;case 489:this.$={temporary:!0};break;case 491:this.$={ifnotexists:!0};break;case 492:this.$={columns:s[o-2],constraints:s[o]};break;case 493:this.$={columns:s[o]};break;case 494:this.$={as:s[o]};break;case 495:case 519:this.$=[s[o]];break;case 497:case 498:case 499:case 500:case 501:s[o].constraintid=s[o-1],this.$=s[o];break;case 504:this.$={type:"CHECK",expression:s[o-1]};break;case 505:this.$={type:"PRIMARY KEY",columns:s[o-1],clustered:(s[o-3]+"").toUpperCase()};break;case 506:this.$={type:"FOREIGN KEY",columns:s[o-5],fktable:s[o-2],fkcolumns:s[o-1]};break;case 512:this.$={type:"UNIQUE",columns:s[o-1],clustered:(s[o-3]+"").toUpperCase()};break;case 521:this.$=new r.ColumnDef({columnid:s[o-2]}),r.extend(this.$,s[o-1]),r.extend(this.$,s[o]);break;case 522:this.$=new r.ColumnDef({columnid:s[o-1]}),r.extend(this.$,s[o]);break;case 523:this.$=new r.ColumnDef({columnid:s[o],dbtypeid:""});break;case 524:this.$={dbtypeid:s[o-5],dbsize:s[o-3],dbprecision:+s[o-1]};break;case 525:this.$={dbtypeid:s[o-3],dbsize:s[o-1]};break;case 526:this.$={dbtypeid:s[o]};break;case 527:this.$={dbtypeid:"ENUM",enumvalues:s[o-1]};break;case 528:case 737:this.$=+s[o];break;case 530:this.$=void 0;break;case 532:r.extend(s[o-1],s[o]),this.$=s[o-1];break;case 535:this.$={primarykey:!0};break;case 536:case 537:this.$={foreignkey:{table:s[o-1],columnid:s[o]}};break;case 538:this.$={identity:{value:s[o-3],step:s[o-1]}};break;case 539:this.$={identity:{value:1,step:1}};break;case 540:case 542:this.$={"default":s[o]};break;case 541:this.$={"default":s[o-1]};break;case 543:this.$={"null":!0};break;case 544:this.$={notnull:!0};break;case 545:this.$={check:s[o]};break;case 546:this.$={unique:!0};break;case 547:this.$={onupdate:s[o]};break;case 548:this.$={onupdate:s[o-1]};break;case 549:this.$=new r.DropTable({tables:s[o],type:s[o-2]}),r.extend(this.$,s[o-1]);break;case 553:this.$={ifexists:!0};break;case 554:this.$=new r.AlterTable({table:s[o-3],renameto:s[o]});break;case 555:this.$=new r.AlterTable({table:s[o-3],addcolumn:s[o]});break;case 556:this.$=new r.AlterTable({table:s[o-3],modifycolumn:s[o]});break;case 557:this.$=new r.AlterTable({table:s[o-5],renamecolumn:s[o-2],to:s[o]});break;case 558:this.$=new r.AlterTable({table:s[o-3],dropcolumn:s[o]});break;case 559:this.$=new r.AlterTable({table:s[o-2],renameto:s[o]});break;case 560:this.$=new r.AttachDatabase({databaseid:s[o],engineid:s[o-2].toUpperCase()});break;case 561:this.$=new r.AttachDatabase({databaseid:s[o-3],engineid:s[o-5].toUpperCase(),args:s[o-1]});break;case 562:this.$=new r.AttachDatabase({databaseid:s[o-2],engineid:s[o-4].toUpperCase(),as:s[o]});break;case 563:this.$=new r.AttachDatabase({databaseid:s[o-5],engineid:s[o-7].toUpperCase(),as:s[o],args:s[o-3]});break;case 564:this.$=new r.DetachDatabase({databaseid:s[o]});break;case 565:this.$=new r.CreateDatabase({databaseid:s[o]}),r.extend(this.$,s[o]);break;case 566:this.$=new r.CreateDatabase({engineid:s[o-4].toUpperCase(),databaseid:s[o-1],as:s[o]}),r.extend(this.$,s[o-2]);break;case 567:this.$=new r.CreateDatabase({engineid:s[o-7].toUpperCase(),databaseid:s[o-4],args:s[o-2],as:s[o]}),r.extend(this.$,s[o-5]);break;case 568:this.$=new r.CreateDatabase({engineid:s[o-4].toUpperCase(),as:s[o],args:[s[o-1]]}),r.extend(this.$,s[o-2]);break;case 569:this.$=void 0;break;case 571:case 572:this.$=new r.UseDatabase({databaseid:s[o]});break;case 573:this.$=new r.DropDatabase({databaseid:s[o]}),r.extend(this.$,s[o-1]);break;case 574:case 575:this.$=new r.DropDatabase({databaseid:s[o],engineid:s[o-3].toUpperCase()}),r.extend(this.$,s[o-1]);break;case 576:this.$=new r.CreateIndex({indexid:s[o-5],table:s[o-3],columns:s[o-1]});break;case 577:this.$=new r.CreateIndex({indexid:s[o-5],table:s[o-3],columns:s[o-1],unique:!0});break;case 578:this.$=new r.DropIndex({indexid:s[o]});break;case 579:this.$=new r.ShowDatabases;break;case 580:this.$=new r.ShowDatabases({like:s[o]});break;case 581:this.$=new r.ShowDatabases({engineid:s[o-1].toUpperCase()});break;case 582:this.$=new r.ShowDatabases({engineid:s[o-3].toUpperCase(),like:s[o]});break;case 583:this.$=new r.ShowTables;break;case 584:this.$=new r.ShowTables({like:s[o]});break;case 585:this.$=new r.ShowTables({databaseid:s[o]});break;case 586:this.$=new r.ShowTables({like:s[o],databaseid:s[o-2]});break;case 587:this.$=new r.ShowColumns({table:s[o]});break;case 588:this.$=new r.ShowColumns({table:s[o-2],databaseid:s[o]});break;case 589:this.$=new r.ShowIndex({table:s[o]});break;case 590:this.$=new r.ShowIndex({table:s[o-2],databaseid:s[o]});break;case 591:this.$=new r.ShowCreateTable({table:s[o]});break;case 592:this.$=new r.ShowCreateTable({table:s[o-2],databaseid:s[o]});break;case 593:this.$=new r.CreateTable({table:s[o-6],view:!0,select:s[o-1],viewcolumns:s[o-4]}),r.extend(this.$,s[o-9]),r.extend(this.$,s[o-7]);break;case 594:this.$=new r.CreateTable({table:s[o-3],view:!0,select:s[o-1]}),r.extend(this.$,s[o-6]),r.extend(this.$,s[o-4]);break;case 598:this.$=new r.DropTable({tables:s[o],view:!0}),r.extend(this.$,s[o-1]);break;case 599:this.$=new r.Help({subject:s[o].value.toUpperCase()});break;case 600:this.$=new r.Help;break;case 601:case 747:this.$=new r.ExpressionStatement({expression:s[o]});break;case 602:this.$=new r.Source({url:s[o].value});break;case 603:this.$=new r.Assert({value:s[o]});break;case 604:this.$=new r.Assert({value:s[o].value});break;case 605:this.$=new r.Assert({value:s[o],message:s[o-2]});break;case 607:case 618:case 620:this.$=s[o].value;break;case 608:case 616:this.$=+s[o].value;break;case 609:this.$=!!s[o].value;break;case 617:this.$=""+s[o].value;break;case 623:this.$=s[o-1];break;case 626:this.$={};break;case 629:this.$=[];break;case 630:r.extend(s[o-2],s[o]),this.$=s[o-2];break;case 632:this.$={},this.$[s[o-2].substr(1,s[o-2].length-2)]=s[o];break;case 633:case 634:this.$={},this.$[s[o-2]]=s[o];break;case 637:this.$=new r.SetVariable({variable:s[o-2].toLowerCase(),value:s[o]});break;case 638:this.$=new r.SetVariable({variable:s[o-1].toLowerCase(),value:s[o]});break;case 639:this.$=new r.SetVariable({variable:s[o-2],expression:s[o]});break;case 640:this.$=new r.SetVariable({variable:s[o-3],props:s[o-2],expression:s[o]});break;case 641:this.$=new r.SetVariable({variable:s[o-2],expression:s[o],method:s[o-3]});break;case 642:this.$=new r.SetVariable({variable:s[o-3],props:s[o-2],expression:s[o],method:s[o-4]});break;case 643:this.$="@";break;case 644:this.$="$";break;case 650:this.$=!0;break;case 651:this.$=!1;break;case 652:this.$=new r.CommitTransaction;break;case 653:this.$=new r.RollbackTransaction;break;case 654:this.$=new r.BeginTransaction;break;case 655:this.$=new r.If({expression:s[o-2],thenstat:s[o-1],elsestat:s[o]}),s[o-1].exists&&(this.$.exists=s[o-1].exists),s[o-1].queries&&(this.$.queries=s[o-1].queries);break;case 656:this.$=new r.If({expression:s[o-1],thenstat:s[o]}),s[o].exists&&(this.$.exists=s[o].exists),s[o].queries&&(this.$.queries=s[o].queries);break;case 657:this.$=s[o];break;case 658:this.$=new r.While({expression:s[o-1],loopstat:s[o]}),s[o].exists&&(this.$.exists=s[o].exists),s[o].queries&&(this.$.queries=s[o].queries);break;case 659:this.$=new r.Continue;break;case 660:this.$=new r.Break;break;case 661:this.$=new r.BeginEnd({statements:s[o-1]});break;case 662:this.$=new r.Print({exprs:s[o]});break;case 663:this.$=new r.Print({select:s[o]});break;case 664:this.$=new r.Require({paths:s[o]});break;case 665:this.$=new r.Require({plugins:s[o]});break;case 666:case 667:this.$=s[o].toUpperCase();break;case 668:this.$=new r.Echo({expr:s[o]});break;case 673:this.$=new r.Declare({declares:s[o]});break;case 676:this.$={variable:s[o-1]},r.extend(this.$,s[o]);break;case 677:this.$={variable:s[o-2]},r.extend(this.$,s[o]);break;case 678:this.$={variable:s[o-3],expression:s[o]},r.extend(this.$,s[o-2]);break;case 679:this.$={variable:s[o-4],expression:s[o]},r.extend(this.$,s[o-2]);break;case 680:this.$=new r.TruncateTable({table:s[o]});break;case 681:this.$=new r.Merge,r.extend(this.$,s[o-4]),r.extend(this.$,s[o-3]),r.extend(this.$,s[o-2]),r.extend(this.$,{matches:s[o-1]}),r.extend(this.$,s[o]);break;case 682:case 683:this.$={into:s[o]};break;case 685:this.$={on:s[o]};break;case 690:this.$={matched:!0,action:s[o]};break;case 691:this.$={matched:!0,expr:s[o-2],action:s[o]};break;case 692:this.$={"delete":!0};break;case 693:this.$={update:s[o]};break;case 694:case 695:this.$={matched:!1,bytarget:!0,action:s[o]};break;case 696:case 697:this.$={matched:!1,bytarget:!0,expr:s[o-2],action:s[o]};break;case 698:this.$={matched:!1,bysource:!0,action:s[o]};break;case 699:this.$={matched:!1,bysource:!0,expr:s[o-2],action:s[o]};break;case 700:this.$={insert:!0,values:s[o]};break;case 701:this.$={insert:!0,values:s[o],columns:s[o-3]};break;case 702:this.$={insert:!0,defaultvalues:!0};break;case 703:this.$={insert:!0,defaultvalues:!0,columns:s[o-3]};break;case 705:this.$={output:{columns:s[o]}};break;case 706:this.$={output:{columns:s[o-3],intovar:s[o],method:s[o-1]}};break;case 707:this.$={output:{columns:s[o-2],intotable:s[o]}};break;case 708:this.$={output:{columns:s[o-5],intotable:s[o-3],intocolumns:s[o-1]}};break;case 709:this.$=new r.CreateVertex({"class":s[o-3],sharp:s[o-2],name:s[o-1]}),r.extend(this.$,s[o]);break;case 712:this.$={sets:s[o]};break;case 713:this.$={content:s[o]};break;case 714:this.$={select:s[o]};break;case 715:this.$=new r.CreateEdge({from:s[o-3],to:s[o-1],name:s[o-5]}),r.extend(this.$,s[o]);break;case 716:this.$=new r.CreateGraph({graph:s[o]});break;case 717:this.$=new r.CreateGraph({from:s[o]});break;case 720:this.$=s[o-2],s[o-1]&&(this.$.json=new r.Json({value:s[o-1]})),s[o]&&(this.$.as=s[o]);break;case 721:this.$={source:s[o-6],target:s[o]},s[o-3]&&(this.$.json=new r.Json({value:s[o-3]})),s[o-2]&&(this.$.as=s[o-2]),r.extend(this.$,s[o-4]);break;case 722:this.$={source:s[o-5],target:s[o]},s[o-2]&&(this.$.json=new r.Json({value:s[o-3]})),s[o-1]&&(this.$.as=s[o-2]);break;case 723:this.$={source:s[o-2],target:s[o]};break;case 727:this.$={vars:s[o],method:s[o-1]};break;case 730:case 731:var b=s[o-1];this.$={prop:s[o-3],sharp:s[o-2],name:"undefined"==typeof b?void 0:b.substr(1,b.length-2),"class":s[o]};break;case 732:var g=s[o-1];this.$={sharp:s[o-2],name:"undefined"==typeof g?void 0:g.substr(1,g.length-2),"class":s[o]};break;case 733:var m=s[o-1];this.$={name:"undefined"==typeof m?void 0:m.substr(1,m.length-2),"class":s[o]};break;case 734:this.$={"class":s[o]};break;case 740:this.$=new r.AddRule({left:s[o-2],right:s[o]});break;case 741:this.$=new r.AddRule({right:s[o]});break;case 744:this.$=new r.Term({termid:s[o]});break;case 745:this.$=new r.Term({termid:s[o-3],args:s[o-1]});break;case 748:this.$=new r.CreateTrigger({trigger:s[o-6],when:s[o-5],action:s[o-4],table:s[o-2],statement:s[o]}),s[o].exists&&(this.$.exists=s[o].exists),s[o].queries&&(this.$.queries=s[o].queries);break;case 749:this.$=new r.CreateTrigger({trigger:s[o-5],when:s[o-4],action:s[o-3],table:s[o-1],funcid:s[o]});break;case 750:this.$=new r.CreateTrigger({trigger:s[o-6],when:s[o-4],action:s[o-3],table:s[o-5],statement:s[o]}),s[o].exists&&(this.$.exists=s[o].exists),s[o].queries&&(this.$.queries=s[o].queries);break;case 751:case 752:case 754:this.$="AFTER";break;case 753:this.$="BEFORE";break;case 755:this.$="INSTEADOF";break;case 756:this.$="INSERT";break;case 757:this.$="DELETE";break;case 758:this.$="UPDATE";break;case 759:this.$=new r.DropTrigger({trigger:s[o]});break;case 760:this.$=new r.Reindex({indexid:s[o]});break;case 767:case 787:case 789:case 791:case 795:case 797:case 799:case 801:case 803:case 805:this.$=[];break;case 768:case 782:case 784:case 788:case 790:case 792:case 796:case 798:case 800:case 802:case 804:case 806:s[o-1].push(s[o]);break;case 781:case 783:this.$=[s[o]]}},table:[t([9,510,511],n,{7:1,8:2,11:3,12:4,16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,4:r,5:a,13:s,52:i,70:o,87:u,122:c,144:l,154:h,187:d,263:f,284:p,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),{1:[3]},{9:[1,104],10:105,510:W,511:X},t(Y,[2,7]),t(Y,[2,8]),t(K,[2,11]),t(Y,n,{16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,11:108,4:r,5:a,14:[1,109],52:i,70:o,87:u,122:c,144:l,154:h,187:d,263:f,284:p,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),t(K,[2,13]),t(K,[2,14]),t(K,[2,15]),t(K,[2,16]),t(K,[2,17]),t(K,[2,18]),t(K,[2,19]),t(K,[2,20]),t(K,[2,21]),t(K,[2,22]),t(K,[2,23]),t(K,[2,24]),t(K,[2,25]),t(K,[2,26]),t(K,[2,27]),t(K,[2,28]),t(K,[2,29]),t(K,[2,30]),t(K,[2,31]),t(K,[2,32]),t(K,[2,33]),t(K,[2,34]),t(K,[2,35]),t(K,[2,36]),t(K,[2,37]),t(K,[2,38]),t(K,[2,39]),t(K,[2,40]),t(K,[2,41]),t(K,[2,42]),t(K,[2,43]),t(K,[2,44]),t(K,[2,45]),t(K,[2,46]),t(K,[2,47]),t(K,[2,48]),t(K,[2,49]),t(K,[2,50]),t(K,[2,51]),t(K,[2,52]),t(K,[2,53]),t(K,[2,54]),t(K,[2,55]),t(K,[2,56]),t(K,[2,57]),t(K,[2,58]),t(K,[2,59]),t(K,[2,60]),t(K,[2,61]),t(K,[2,62]),t(K,[2,63]),t(K,[2,64]),t(K,[2,65]),{344:[1,110]},{3:111,4:r,5:a},{3:113,4:r,5:a,154:Q,198:112,284:z,285:Z,286:ee,287:te},t(ne,[2,488],{3:120,339:124,4:r,5:a,132:re,133:ae,185:[1,122],191:[1,121],348:[1,128],395:[1,119],464:[1,123],501:[1,127]}),{143:se,441:129,442:130},{181:[1,132]},{395:[1,133]},{3:135,4:r,5:a,128:[1,141],191:[1,136],344:[1,140],387:137,395:[1,134],400:[1,138],501:[1,139]},{3:163,4:r,5:a,56:160,75:ie,92:142,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(je,Pe,{332:198,169:[1,199],196:Be}),t(je,Pe,{332:201,196:Be}),{3:213,4:r,5:a,75:Ge,130:Je,141:le,142:206,143:he,150:de,154:Q,179:ge,196:[1,204],197:207,198:209,199:208,200:211,207:203,211:He,212:212,284:z,285:Z,286:ee,287:te,294:qe,410:185,411:_e,415:Ve,445:202},{3:215,4:r,5:a},{344:[1,216]},t(We,[2,763],{78:217,104:218,105:[1,219]}),t(Xe,[2,767],{88:220}),{3:224,4:r,5:a,188:[1,222],191:[1,225],338:[1,221],344:[1,226],395:[1,223]},{344:[1,227]},{3:230,4:r,5:a,71:228,73:229},t([298,510,511],n,{11:3,12:4,16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,8:232,4:r,5:a,13:s,52:i,70:o,87:u,122:c,144:l,154:h,187:d,263:f,284:p,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,427:[1,231],428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),{427:[1,233]},{427:[1,234]},{3:236,4:r,5:a,395:[1,235]},{3:238,4:r,5:a,197:237},t(K,[2,600],{111:239,130:ue,290:De}),t(Ye,[2,307]),{111:240,130:ue,290:De},{3:113,4:r,5:a,111:246,129:oe,130:[1,243],141:le,142:241,143:Ke,150:de,154:Q,179:ge,194:245,198:250,199:249,255:247,256:248,262:Qe,268:242,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,294:qe,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:252,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(K,[2,659]),t(K,[2,660]),{3:163,4:r,5:a,39:254,56:160,75:ie,77:74,87:u,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:253,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,182:99,187:d,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:261,4:r,5:a,111:258,130:ue,290:De,436:256,437:257,438:259,439:ze},{3:262,4:r,5:a,141:Ze,143:et,423:263},{3:163,4:r,5:a,56:160,75:ie,92:266,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{497:[1,267]},{3:100,4:r,5:a,496:269,498:268},{3:113,4:r,5:a,154:Q,198:270,284:z,285:Z,286:ee,287:te},{3:163,4:r,5:a,56:160,75:ie,92:271,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(tt,nt,{184:275,162:[1,274],183:[1,272],185:[1,273],193:rt}),t(at,[2,744],{75:[1,277]}),t(st,[2,150],{147:[1,278],148:[1,279],188:[1,280],189:[1,281],190:[1,282],191:[1,283],192:[1,284]}),t(it,[2,1]),t(it,[2,2]),{1:[2,5]},t(Y,n,{16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,11:285,4:r,5:a,52:i,70:o,87:u,122:c,144:l,154:h,187:d,263:f,284:p,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),t(ot,[2,761]),t(ot,[2,762]),t(Y,[2,9]),{15:[1,286]},{3:238,4:r,5:a,197:287},{395:[1,288]},t(K,[2,747]),{75:ut},{75:[1,290]},{75:ct},{75:[1,292]},{75:[1,293]},{3:163,4:r,5:a,56:160,75:ie,92:294,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(je,lt,{341:295,154:ht}),{395:[1,297]},{3:298,4:r,5:a},{191:[1,299]},{3:305,4:r,5:a,130:dt,135:ft,141:Ze,143:et,150:pt,181:[1,301],423:312,465:300,466:302,467:303,470:304,474:309,485:306,489:308},{128:[1,316],340:313,344:[1,315],400:[1,314]},{111:318,130:ue,181:[2,861],290:De,463:317},t(bt,[2,855],{457:319,3:320,4:r,5:a}),{3:321,4:r,5:a},t(ne,[2,489]),t(K,[2,673],{72:[1,322]}),t(gt,[2,674]),{3:323,4:r,5:a},{3:238,4:r,5:a,197:324},{3:325,4:r,5:a},t(je,mt,{388:326,154:vt}),{395:[1,328]},{3:329,4:r,5:a},t(je,mt,{388:330,154:vt}),t(je,mt,{388:331,154:vt}),{3:332,4:r,5:a},t(Et,[2,849]),t(Et,[2,850]),t(K,n,{16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,11:333,112:350,319:362,4:r,5:a,52:i,70:o,87:u,97:yt,110:St,113:wt,114:Tt,121:xt,122:At,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,144:l,152:It,154:h,168:Lt,169:qt,177:Ut,178:Ft,187:d,263:f,284:p,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),t(Ye,[2,286]),t(Ye,[2,287]),t(Ye,[2,288]),t(Ye,[2,289]),t(Ye,[2,290]),t(Ye,[2,291]),t(Ye,[2,292]),t(Ye,[2,293]),t(Ye,[2,294]),t(Ye,[2,295]),t(Ye,[2,296]),t(Ye,[2,297]),t(Ye,[2,298]),t(Ye,[2,299]),t(Ye,[2,300]),t(Ye,[2,301]),{3:163,4:r,5:a,25:379,26:378,35:374,39:373,56:160,75:ie,77:74,87:u,92:376,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,182:99,187:d,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,261:375,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:[1,377],285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,331:m,338:[1,380],410:185,411:_e,415:Ve},t(Ye,[2,305]),t(Ye,[2,306]),{75:[1,381]},t([4,5,9,52,70,72,74,76,87,91,93,96,97,105,110,113,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],rn,{75:ut,114:[1,382]}),{3:163,4:r,5:a,56:160,75:ie,92:383,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:384,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:385,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:386,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:387,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,
275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Ye,[2,281]),t([4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,228,229,230,237,240,241,243,245,247,262,263,264,265,267,274,275,276,277,278,279,280,281,282,284,285,286,287,288,289,290,291,292,294,295,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,334,338,347,359,360,364,365,386,390,391,394,396,398,399,405,407,408,409,411,415,417,419,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511,512,513],[2,350]),t(an,[2,351]),t(an,[2,352]),t(an,sn),t(an,[2,354]),t([4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,228,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,291,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,334,338,347,359,360,364,365,386,390,391,394,396,398,399,407,408,409,411,415,417,419,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],[2,355]),{3:389,4:r,5:a,129:[1,390],293:388},{3:391,4:r,5:a},t(an,[2,360]),t(an,[2,361]),{3:392,4:r,5:a,75:on,111:394,129:oe,130:ue,141:le,150:de,179:ge,194:395,199:397,255:396,288:Ne,289:$e,290:De,294:qe,410:398,415:Ve},{75:[1,399]},{3:163,4:r,5:a,56:160,75:ie,92:400,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,296:401,299:402,300:un,304:Fe,309:Me,410:185,411:_e,415:Ve},{75:[1,404]},{75:[1,405]},t(cn,[2,611]),{3:420,4:r,5:a,75:ln,109:415,111:413,129:oe,130:ue,141:le,142:410,143:Ke,150:de,154:Q,179:ge,194:412,198:418,199:417,255:414,256:416,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,294:qe,410:185,411:_e,412:406,413:409,414:411,415:Ve,418:407,419:[1,408]},{3:421,4:r,5:a,154:Q,198:422,284:z,285:Z,286:ee,287:te},{75:[2,330]},{75:[2,331]},{75:[2,332]},{75:[2,333]},{75:[2,334]},{75:[2,335]},{75:[2,336]},{75:[2,337]},{75:[2,338]},{3:428,4:r,5:a,129:hn,130:dn,416:423,417:[1,424],420:425},{3:238,4:r,5:a,197:429},{284:[1,430]},t(je,[2,459]),{3:238,4:r,5:a,197:431},{229:[1,433],446:432},{229:[2,682]},{3:213,4:r,5:a,75:Ge,130:Je,141:le,142:206,143:he,150:de,154:Q,179:ge,197:207,198:209,199:208,200:211,207:434,211:He,212:212,284:z,285:Z,286:ee,287:te,294:qe,410:185,411:_e,415:Ve},{39:435,77:74,87:u,182:99,187:d},t(fn,[2,811],{208:436,74:[1,437]}),t(pn,[2,183],{3:438,4:r,5:a,74:[1,439],152:[1,440]}),t(pn,[2,187],{3:441,4:r,5:a,74:[1,442]}),t(pn,[2,188],{3:443,4:r,5:a,74:[1,444]}),t(pn,[2,191]),t(pn,[2,192],{3:445,4:r,5:a,74:[1,446]}),t(pn,[2,195],{3:447,4:r,5:a,74:[1,448]}),t([4,5,9,70,72,74,76,91,96,116,126,152,160,166,167,181,204,206,220,221,222,223,224,225,226,227,228,229,230,243,245,298,302,510,511],bn,{75:ut,114:gn}),t([4,5,9,70,72,74,76,91,96,116,126,160,166,167,204,206,220,221,222,223,224,225,226,227,228,229,230,243,245,298,302,510,511],[2,198]),t(K,[2,760]),{3:238,4:r,5:a,197:450},t(mn,vn,{79:451,196:En}),t(We,[2,764]),t(yn,[2,777],{106:453,188:[1,454]}),t([9,76,181,298,302,510,511],vn,{410:185,79:455,115:456,3:457,112:460,142:482,156:492,158:493,4:r,5:a,70:Sn,74:wn,75:Tn,110:xn,113:wt,114:Tt,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,196:En,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,411:_e,415:Ve}),{344:[1,506]},{181:[1,507]},t(K,[2,579],{110:[1,508]}),{395:[1,509]},{181:[1,510]},t(K,[2,583],{110:[1,511],181:[1,512]}),{3:238,4:r,5:a,197:513},{39:514,72:[1,515],77:74,87:u,182:99,187:d},t(hr,[2,68]),{74:[1,516]},t(K,[2,654]),{10:105,298:[1,517],510:W,511:X},t(K,[2,652]),t(K,[2,653]),{3:518,4:r,5:a},t(K,[2,572]),{144:[1,519]},t([4,5,9,52,70,72,74,75,76,87,93,122,126,144,146,147,152,154,181,185,187,228,263,284,291,298,302,327,330,331,334,338,347,359,360,364,365,386,390,391,392,393,394,396,398,399,407,408,409,426,428,429,431,432,433,434,435,439,440,443,444,497,499,500,506,507,508,509,510,511],bn,{114:gn}),t(K,[2,599]),t(K,[2,602]),t(K,[2,603]),t(K,[2,604]),t(K,sn,{72:[1,520]}),{75:on,111:394,129:oe,130:ue,141:le,150:de,179:ge,194:395,199:397,255:396,288:Ne,289:$e,290:De,294:qe,410:398,415:Ve},t(dr,[2,314]),t(dr,[2,315]),t(dr,[2,316]),t(dr,[2,317]),t(dr,[2,318]),t(dr,[2,319]),t(dr,[2,320]),t(K,n,{16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,112:350,319:362,11:521,4:r,5:a,52:i,70:o,87:u,97:yt,110:St,113:wt,114:Tt,121:xt,122:At,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,144:l,152:It,154:h,168:Lt,169:qt,177:Ut,178:Ft,187:d,263:f,284:p,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),t(K,[2,662],{72:fr}),t(K,[2,663]),t(pr,[2,348],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(K,[2,664],{72:[1,524]}),t(K,[2,665],{72:[1,525]}),t(gt,[2,670]),t(gt,[2,672]),t(gt,[2,666]),t(gt,[2,667]),{112:531,113:wt,114:Tt,122:[1,526],228:gr,421:527,422:528,425:mr},{3:532,4:r,5:a},t(je,[2,643]),t(je,[2,644]),t(K,[2,601],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{3:100,4:r,5:a,496:269,498:533},t(K,[2,741],{72:vr}),t(pr,[2,743]),t(K,[2,746]),t(K,[2,668],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(Er,nt,{184:535,193:rt}),t(Er,nt,{184:536,193:rt}),t(Er,nt,{184:537,193:rt}),t(yr,[2,807],{253:143,198:144,254:145,109:146,252:147,194:148,255:149,111:150,256:151,199:152,200:153,257:154,258:155,259:156,142:157,260:158,56:160,156:162,3:163,410:185,186:538,172:539,251:540,92:541,4:r,5:a,75:ie,129:oe,130:ue,135:ce,141:le,143:he,150:de,152:fe,154:Q,177:pe,178:be,179:ge,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,411:_e,415:Ve}),{75:[1,543],129:oe,194:542},{3:100,4:r,5:a,496:269,498:544},t(st,[2,151]),t(st,[2,152]),t(st,[2,153]),t(st,[2,154]),t(st,[2,155]),t(st,[2,156]),t(st,[2,157]),t(Y,[2,6]),t(Y,n,{16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,11:545,4:r,5:a,52:i,70:o,87:u,122:c,144:l,154:h,187:d,263:f,284:p,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),{386:[1,549],391:[1,546],392:[1,547],393:[1,548]},{3:550,4:r,5:a},t(Er,[2,831],{283:551,515:553,76:[1,552],162:[1,555],183:[1,554]}),{3:163,4:r,5:a,56:160,75:ie,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:556,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:557,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:558,4:r,5:a,130:[1,559]},{3:560,4:r,5:a,130:[1,561]},{3:562,4:r,5:a,97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{3:563,4:r,5:a},{152:[1,564]},t(Sr,lt,{341:565,154:ht}),{228:[1,566]},{3:567,4:r,5:a},t(K,[2,716],{72:wr}),{3:163,4:r,5:a,56:160,75:ie,92:569,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(pr,[2,719]),t(Tr,[2,863],{410:185,468:570,142:571,137:xr,139:xr,143:Ke,411:_e,415:Ve}),{137:[1,572],139:[1,573]},t(Ar,Cr,{482:575,485:576,75:[1,574],135:ft}),t(kr,[2,887],{486:577,130:[1,578]}),t(Or,[2,891],{488:579,489:580,150:pt}),t(Or,[2,734]),t(Rr,[2,726]),{3:581,4:r,5:a,129:[1,582]},{3:583,4:r,5:a},{3:584,4:r,5:a},t(je,lt,{341:585,154:ht}),t(je,lt,{341:586,154:ht}),t(Et,[2,478]),t(Et,[2,479]),{181:[1,587]},{181:[2,862]},t(Nr,[2,857],{458:588,461:589,135:[1,590]}),t(bt,[2,856]),t($r,Dr,{502:591,93:Ir,228:[1,592],506:Lr,507:qr,508:Ur}),{143:se,442:597},{4:Fr,6:600,74:[1,599],266:598,379:Mr},t(K,[2,449],{126:[1,603]}),t(K,[2,564]),{3:604,4:r,5:a},{292:[1,605]},t(Sr,mt,{388:606,154:vt}),t(K,[2,578]),{3:238,4:r,5:a,197:608,389:607},{3:238,4:r,5:a,197:608,389:609},t(K,[2,759]),t(Y,[2,656],{430:610,302:[1,611]}),{3:163,4:r,5:a,56:160,75:ie,92:612,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:613,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:614,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:615,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:616,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:617,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:618,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:619,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:620,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:621,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:622,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:623,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:624,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:625,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:626,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:627,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:628,4:r,5:a,75:[1,630],129:oe,154:Q,194:629,198:631,284:z,285:Z,286:ee,287:te},{3:632,4:r,5:a,75:[1,634],129:oe,154:Q,194:633,198:635,284:z,285:Z,286:ee,287:te},t(_r,[2,433],{253:143,198:144,254:145,109:146,252:147,194:148,255:149,111:150,256:151,199:152,200:153,257:154,258:155,259:156,142:157,260:158,56:160,156:162,3:163,410:185,92:636,4:r,5:a,75:ie,129:oe,130:ue,135:ce,141:le,143:he,150:de,152:fe,154:Q,177:pe,178:be,179:ge,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,411:_e,415:Ve}),t(_r,[2,434],{253:143,198:144,254:145,109:146,252:147,194:148,255:149,111:150,256:151,199:152,200:153,257:154,258:155,259:156,142:157,260:158,56:160,156:162,3:163,410:185,92:637,4:r,5:a,75:ie,129:oe,130:ue,135:ce,141:le,143:he,150:de,152:fe,154:Q,177:pe,178:be,179:ge,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,411:_e,415:Ve}),t(_r,[2,435],{253:143,198:144,254:145,109:146,252:147,194:148,255:149,111:150,256:151,199:152,200:153,257:154,258:155,259:156,142:157,260:158,56:160,156:162,3:163,410:185,92:638,4:r,5:a,75:ie,129:oe,130:ue,135:ce,141:le,143:he,150:de,152:fe,154:Q,177:pe,178:be,179:ge,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,411:_e,415:Ve}),t(_r,[2,436],{253:143,198:144,254:145,109:146,252:147,194:148,255:149,111:150,256:151,199:152,200:153,257:154,258:155,259:156,142:157,260:158,56:160,156:162,3:163,410:185,92:639,4:r,5:a,75:ie,129:oe,130:ue,135:ce,141:le,143:he,150:de,152:fe,154:Q,177:pe,178:be,179:ge,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,411:_e,415:Ve}),t(_r,Vr,{253:143,198:144,254:145,109:146,252:147,194:148,255:149,111:150,256:151,199:152,200:153,257:154,258:155,259:156,142:157,260:158,56:160,156:162,3:163,410:185,92:640,4:r,5:a,75:ie,129:oe,130:ue,135:ce,141:le,143:he,150:de,152:fe,154:Q,177:pe,178:be,179:ge,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,411:_e,415:Ve}),{3:163,4:r,5:a,56:160,75:ie,92:641,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:642,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(_r,[2,438],{253:143,198:144,254:145,109:146,252:147,194:148,255:149,111:150,256:151,199:152,200:153,257:154,258:155,259:156,142:157,260:158,56:160,156:162,3:163,410:185,92:643,4:r,5:a,75:ie,129:oe,130:ue,135:ce,141:le,143:he,150:de,152:fe,154:Q,177:pe,178:be,179:ge,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,411:_e,415:Ve}),{3:163,4:r,5:a,56:160,75:ie,92:644,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:645,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{162:[1,647],164:[1,649],320:646,326:[1,648]},{3:163,4:r,5:a,56:160,75:ie,92:650,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:651,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:420,4:r,5:a,75:[1,652],109:655,143:jr,154:Q,198:656,200:654,284:z,285:Z,286:ee,287:te,321:653},{97:[1,658],291:[1,659]},{3:163,4:r,5:a,56:160,75:ie,92:660,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:661,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:662,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{4:Fr,6:600,266:663,379:Mr},t(Pr,[2,86]),t(Pr,[2,87]),{76:[1,664]},{76:[1,665]},{76:[1,666]},{76:[1,667],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(je,Pe,{332:201,75:ct,196:Be}),{76:[2,827]},{76:[2,828]},{132:re,133:ae},{3:163,4:r,5:a,56:160,75:ie,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:668,150:de,152:fe,154:Q,156:162,162:[1,670],177:pe,178:be,179:ge,183:[1,669],194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:671,4:r,5:a,147:Br,178:[1,673]},t([4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,116,120,126,127,128,129,130,132,133,135,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,306,322,323,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],[2,409],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,324:tn}),t(Gr,[2,410],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,178:Ft,304:_t,308:Pt}),t(Gr,[2,411],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,178:Ft,304:_t,308:Pt}),t(Jr,[2,412],{112:350,319:362,308:Pt}),t(Jr,[2,413],{112:350,319:362,308:Pt}),t(an,[2,358]),t(an,[2,833]),t(an,[2,834]),t(an,[2,359]),t([4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,228,229,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],[2,356]),{3:163,4:r,5:a,56:160,75:ie,92:674,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(cn,[2,607]),t(cn,[2,608]),t(cn,[2,609]),t(cn,[2,610]),t(cn,[2,612]),{39:675,77:74,87:u,182:99,187:d},{97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,296:676,299:402,300:un,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{297:677,298:Hr,299:678,300:un,302:Wr},t(Xr,[2,365]),{3:163,4:r,5:a,56:160,75:ie,92:680,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:681,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{4:Fr,6:600,266:682,379:Mr},t(cn,[2,613]),{72:[1,684],419:[1,683]},t(cn,[2,629]),t(Yr,[2,636]),t(Kr,[2,614]),t(Kr,[2,615]),t(Kr,[2,616]),t(Kr,[2,617]),t(Kr,[2,618]),t(Kr,[2,619]),t(Kr,[2,620]),t(Kr,[2,621]),t(Kr,[2,622]),{3:163,4:r,5:a,56:160,75:ie,92:685,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t([4,5,9,52,70,72,74,76,87,91,93,96,97,105,110,113,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,417,419,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],rn,{75:ut,114:Qr}),t(zr,[2,308],{75:ut}),t(Ye,[2,309]),{72:[1,688],417:[1,687]},t(cn,[2,626]),t(Zr,[2,631]),{150:[1,689]},{150:[1,690]},{150:[1,691]},{39:695,75:[1,694],77:74,87:u,147:[1,692],182:99,187:d,334:[1,693]},t(je,Pe,{332:696,196:Be}),{147:[1,697]},{228:[1,699],447:698},{3:213,4:r,5:a,75:Ge,130:Je,141:le,142:206,
143:he,150:de,154:Q,179:ge,197:207,198:209,199:208,200:211,207:700,211:He,212:212,284:z,285:Z,286:ee,287:te,294:qe,410:185,411:_e,415:Ve},{229:[2,683]},{76:[1,701]},t(pn,[2,813],{209:702,3:703,4:r,5:a}),t(fn,[2,812]),t(pn,[2,181]),{3:704,4:r,5:a},{210:[1,705]},t(pn,[2,185]),{3:706,4:r,5:a},t(pn,[2,189]),{3:707,4:r,5:a},t(pn,[2,193]),{3:708,4:r,5:a},t(pn,[2,196]),{3:709,4:r,5:a},{3:710,4:r,5:a},{146:[1,711]},t(ea,[2,170],{80:712,181:[1,713]}),{3:213,4:r,5:a,130:[1,718],141:le,143:[1,719],150:de,154:Q,179:ge,197:714,198:715,199:716,200:717,284:z,285:Z,286:ee,287:te,294:qe},{3:724,4:r,5:a,107:720,108:721,109:722,110:ta},t(yn,[2,778]),t(na,[2,769],{89:725,180:726,181:[1,727]}),t(Xe,[2,768],{151:728,177:ra,178:aa,179:sa}),t([4,5,9,70,72,74,76,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,196,274,275,276,277,278,279,280,281,282,298,302,411,415,510,511],[2,88],{75:[1,732]}),{117:[1,733]},t(ia,[2,91]),{3:734,4:r,5:a},t(ia,[2,93]),{3:163,4:r,5:a,56:160,75:ie,92:735,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:736,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,110:xn,112:460,113:wt,114:Tt,115:738,116:An,120:Cn,121:kn,122:On,123:737,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{75:[1,739]},{75:[1,740]},{75:[1,741]},{75:[1,742]},t(ia,[2,102]),t(ia,[2,103]),t(ia,[2,104]),t(ia,[2,105]),t(ia,[2,106]),t(ia,[2,107]),{3:743,4:r,5:a},{3:744,4:r,5:a,131:[1,745]},t(ia,[2,111]),t(ia,[2,112]),t(ia,[2,113]),t(ia,[2,114]),t(ia,[2,115]),t(ia,[2,116]),{3:746,4:r,5:a,75:on,111:394,129:oe,130:ue,141:le,150:de,179:ge,194:395,199:397,255:396,288:Ne,289:$e,290:De,294:qe,410:398,415:Ve},{143:[1,747]},{75:[1,748]},{143:[1,749]},t(ia,[2,121]),{75:[1,750]},{3:751,4:r,5:a},{75:[1,752]},{75:[1,753]},{75:[1,754]},{75:[1,755]},{75:[1,756],162:[1,757]},{75:[1,758]},{75:[1,759]},{75:[1,760]},{75:[1,761]},{75:[1,762]},{75:[1,763]},{75:[1,764]},{75:[1,765]},{75:[1,766]},{75:[2,793]},{75:[2,794]},{3:238,4:r,5:a,197:767},{3:238,4:r,5:a,197:768},{111:769,130:ue,290:De},t(K,[2,581],{110:[1,770]}),{3:238,4:r,5:a,197:771},{111:772,130:ue,290:De},{3:773,4:r,5:a},t(K,[2,680]),t(K,[2,66]),{3:230,4:r,5:a,73:774},{75:[1,775]},t(K,[2,661]),t(K,[2,571]),{3:724,4:r,5:a,109:778,141:oa,143:ua,145:776,328:777,329:779},{142:782,143:Ke,410:185,411:_e,415:Ve},t(K,[2,658]),{3:163,4:r,5:a,56:160,75:ie,92:783,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(_r,Vr,{253:143,198:144,254:145,109:146,252:147,194:148,255:149,111:150,256:151,199:152,200:153,257:154,258:155,259:156,142:157,260:158,56:160,156:162,3:163,410:185,92:784,4:r,5:a,75:ie,129:oe,130:ue,135:ce,141:le,143:he,150:de,152:fe,154:Q,177:pe,178:be,179:ge,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,411:_e,415:Ve}),{111:785,130:ue,290:De},{3:261,4:r,5:a,438:786,439:ze},{3:163,4:r,5:a,56:160,75:ie,92:788,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,228:gr,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve,421:787,425:mr},t(K,[2,638]),{112:790,113:wt,114:Tt,122:[1,789]},t(K,[2,650]),t(K,[2,651]),{3:792,4:r,5:a,75:ca,129:la,424:791},{112:531,113:wt,114:Tt,122:[1,795],422:796},t(K,[2,740],{72:vr}),{3:100,4:r,5:a,496:797},{3:163,4:r,5:a,56:160,75:ie,92:541,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,172:798,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,251:540,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:541,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,172:799,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,251:540,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:541,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,172:800,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,251:540,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(yr,[2,149]),t(yr,[2,808],{72:ha}),t(da,[2,271]),t(da,[2,278],{112:350,319:362,3:803,111:805,4:r,5:a,74:[1,802],97:yt,110:St,113:wt,114:Tt,121:xt,122:br,129:[1,804],130:ue,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,290:De,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(tt,[2,809],{195:806,512:[1,807]}),{129:oe,194:808},{72:vr,76:[1,809]},t(Y,[2,10]),{146:[1,810],188:[1,811]},{188:[1,812]},{188:[1,813]},{188:[1,814]},t(K,[2,560],{74:[1,816],75:[1,815]}),{3:163,4:r,5:a,56:160,75:ie,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:817,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(an,[2,340]),t(Er,[2,832]),t(Er,[2,829]),t(Er,[2,830]),{72:fr,76:[1,818]},{72:fr,76:[1,819]},{72:[1,820]},{72:[1,821]},{72:[1,822]},{72:[1,823]},t(an,[2,347]),t(K,[2,565]),{292:[1,824]},{3:825,4:r,5:a,111:826,130:ue,290:De},{3:238,4:r,5:a,197:827},{228:[1,828]},{3:305,4:r,5:a,130:dt,135:ft,141:Ze,143:et,150:pt,423:312,466:829,467:303,470:304,474:309,485:306,489:308},t(K,[2,717],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(pr,[2,865],{469:830,475:831,74:fa}),t(Tr,[2,864]),{3:835,4:r,5:a,130:dt,135:ft,142:834,143:Ke,150:pt,410:185,411:_e,415:Ve,467:833,485:306,489:308},{3:835,4:r,5:a,130:dt,135:ft,141:Ze,143:et,150:pt,423:312,467:837,470:836,474:309,485:306,489:308},{3:305,4:r,5:a,130:dt,135:ft,141:Ze,143:et,150:pt,423:312,465:838,466:302,467:303,470:304,474:309,485:306,489:308},t(kr,[2,883],{483:839,130:[1,840]}),t(Ar,[2,882]),t(Or,[2,889],{487:841,489:842,150:pt}),t(kr,[2,888]),t(Or,[2,733]),t(Or,[2,892]),t(Ar,[2,736]),t(Ar,[2,737]),t(Or,[2,735]),t(Rr,[2,727]),{3:238,4:r,5:a,197:843},{3:238,4:r,5:a,197:844},{3:163,4:r,5:a,56:160,75:ie,92:845,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(pa,[2,859],{459:846,111:847,130:ue,290:De}),t(Nr,[2,858]),{3:848,4:r,5:a},{327:ba,330:ga,331:ma,503:849},{3:238,4:r,5:a,197:853},t($r,[2,752]),t($r,[2,753]),t($r,[2,754]),{127:[1,854]},t(gt,[2,675]),t(gt,[2,676],{122:[1,855]}),{4:Fr,6:600,266:856,379:Mr},t([5,9,52,70,72,74,76,87,91,93,96,97,105,110,113,114,116,120,121,122,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,228,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,291,298,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,334,338,347,359,360,364,365,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],[2,526],{4:[1,858],75:[1,857]}),{75:[1,859]},t(va,[2,3]),{3:163,4:r,5:a,56:160,75:ie,92:860,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(K,[2,573]),t(Sr,[2,553]),{3:861,4:r,5:a,111:862,130:ue,290:De},t(K,[2,549],{72:Ea}),t(gt,[2,551]),t(K,[2,598],{72:Ea}),t(K,[2,655]),t(K,n,{16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,11:864,4:r,5:a,52:i,70:o,87:u,122:c,144:l,154:h,187:d,263:f,284:p,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),t(ya,[2,369],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,304:_t,308:Pt,309:Bt,310:Gt,311:Jt}),t(Jr,[2,370],{112:350,319:362,308:Pt}),t(ya,[2,371],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,304:_t,308:Pt,309:Bt,310:Gt,311:Jt}),t(Sa,[2,372],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,304:_t,306:[1,865],308:Pt,309:Bt,310:Gt,311:Jt}),t(Sa,[2,374],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,304:_t,306:[1,866],308:Pt,309:Bt,310:Gt,311:Jt}),t(Ye,[2,376],{112:350,319:362}),t(Gr,[2,377],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,178:Ft,304:_t,308:Pt}),t(Gr,[2,378],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,178:Ft,304:_t,308:Pt}),t(wa,[2,379],{112:350,319:362,113:wt,114:Tt,121:xt,134:kt,304:_t,308:Pt}),t(wa,[2,380],{112:350,319:362,113:wt,114:Tt,121:xt,134:kt,304:_t,308:Pt}),t(wa,[2,381],{112:350,319:362,113:wt,114:Tt,121:xt,134:kt,304:_t,308:Pt}),t([4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,110,116,120,121,122,126,127,128,129,130,131,132,133,135,136,137,138,139,140,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,177,178,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,303,305,306,307,309,310,311,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],[2,382],{112:350,319:362,113:wt,114:Tt,134:kt,304:_t,308:Pt}),t(Ta,[2,383],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,177:Ut,178:Ft,304:_t,308:Pt,309:Bt}),t(Ta,[2,384],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,177:Ut,178:Ft,304:_t,308:Pt,309:Bt}),t(Ta,[2,385],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,177:Ut,178:Ft,304:_t,308:Pt,309:Bt}),t(Ta,[2,386],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,177:Ut,178:Ft,304:_t,308:Pt,309:Bt}),t(zr,[2,387],{75:ut}),t(Ye,[2,388]),{3:163,4:r,5:a,56:160,75:ie,92:867,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Ye,[2,390]),t(zr,[2,391],{75:ut}),t(Ye,[2,392]),{3:163,4:r,5:a,56:160,75:ie,92:868,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Ye,[2,394]),t(xa,[2,395],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t(xa,[2,396],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t(xa,[2,397],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t(xa,[2,398],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t([4,5,9,52,70,87,97,122,137,138,144,152,154,168,169,187,263,284,298,302,312,313,314,315,316,317,318,322,323,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,426,428,429,431,432,433,434,435,439,440,443,444,497,499,500,509,510,511],Aa,{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t(xa,[2,400],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t(xa,[2,401],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t(xa,[2,402],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t(xa,[2,403],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t(xa,[2,404],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),{75:[1,869]},{75:[2,439]},{75:[2,440]},{75:[2,441]},t(Ca,[2,407],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,324:tn}),t([4,5,9,52,70,72,74,75,76,87,91,93,96,105,116,120,126,127,128,129,130,132,133,135,141,143,144,146,147,148,150,154,160,162,164,166,167,169,170,171,173,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,306,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],[2,408],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn}),{3:163,4:r,5:a,39:870,56:160,75:ie,76:[1,872],77:74,87:u,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:871,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,182:99,187:d,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Ye,[2,421]),t(Ye,[2,423]),t(Ye,[2,430]),t(Ye,[2,431]),{3:392,4:r,5:a,75:[1,873]},{3:420,4:r,5:a,75:[1,874],109:655,143:jr,154:Q,198:656,200:876,284:z,285:Z,286:ee,287:te,321:875},t(Ye,[2,428]),t(Ca,[2,425],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,324:tn}),t(Ca,[2,426],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,324:tn}),t([4,5,9,52,70,72,74,75,76,87,91,93,96,97,105,116,120,122,126,127,128,129,130,132,133,135,137,138,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,179,181,183,185,187,196,204,206,220,221,222,223,224,225,226,227,230,237,240,241,243,245,263,274,275,276,277,278,279,280,281,282,284,290,298,300,301,302,306,312,313,314,315,316,317,318,322,323,324,325,327,330,331,338,386,390,391,394,396,398,399,407,408,409,411,415,426,428,429,431,432,433,434,435,439,440,443,444,456,462,497,499,500,509,510,511],[2,427],{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt}),t(Ye,[2,429]),t(Ye,[2,302]),t(Ye,[2,303]),t(Ye,[2,304]),t(Ye,[2,414]),{72:fr,76:[1,877]},{3:163,4:r,5:a,56:160,75:ie,92:878,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:879,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Ye,ka),t(Oa,[2,284]),t(Ye,[2,280]),{76:[1,881],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{76:[1,882]},{297:883,298:Hr,299:678,300:un,302:Wr},{298:[1,884]},t(Xr,[2,364]),{3:163,4:r,5:a,56:160,75:ie,92:885,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,301:[1,886],303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{74:[1,887],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{72:[1,888]},t(cn,[2,627]),{3:420,4:r,5:a,75:ln,109:415,111:413,129:oe,130:ue,141:le,142:410,143:Ke,150:de,154:Q,179:ge,194:412,198:418,199:417,255:414,256:416,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,294:qe,410:185,411:_e,413:890,414:411,415:Ve,419:[1,889]},{76:[1,891],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{3:892,4:r,5:a,147:Br},t(cn,[2,624]),{3:428,4:r,5:a,129:hn,130:dn,417:[1,893],420:894},{3:420,4:r,5:a,75:ln,109:415,111:413,129:oe,130:ue,141:le,142:410,143:Ke,150:de,154:Q,179:ge,194:412,198:418,199:417,255:414,256:416,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,294:qe,410:185,411:_e,413:895,414:411,415:Ve},{3:420,4:r,5:a,75:ln,109:415,111:413,129:oe,130:ue,141:le,142:410,143:Ke,150:de,154:Q,179:ge,194:412,198:418,199:417,255:414,256:416,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,294:qe,410:185,411:_e,413:896,414:411,415:Ve},{3:420,4:r,5:a,75:ln,109:415,111:413,129:oe,130:ue,141:le,142:410,143:Ke,150:de,154:Q,179:ge,194:412,198:418,199:417,255:414,256:416,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,294:qe,410:185,411:_e,413:897,414:411,415:Ve},{75:Ra,141:le,142:900,143:Ke,150:de,179:ge,199:901,294:qe,333:898,410:185,411:_e,415:Ve},{147:[1,902]},{3:724,4:r,5:a,98:903,109:904},t(Na,[2,455]),{3:238,4:r,5:a,197:905},{75:Ra,141:le,142:900,143:Ke,150:de,179:ge,199:901,294:qe,333:906,410:185,411:_e,415:Ve},{300:$a,448:907,450:908,451:909},{3:163,4:r,5:a,56:160,75:ie,92:911,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{228:[2,684]},t(pn,[2,179],{3:912,4:r,5:a,74:[1,913]}),t(pn,[2,180]),t(pn,[2,814]),t(pn,[2,182]),t(pn,[2,184]),t(pn,[2,186]),t(pn,[2,190]),t(pn,[2,194]),t(pn,[2,197]),t([4,5,9,52,70,72,74,75,76,87,91,93,96,116,122,126,144,146,147,152,154,160,166,167,181,185,187,204,206,220,221,222,223,224,225,226,227,228,229,230,243,245,263,284,291,298,302,327,330,331,334,338,347,359,360,364,365,386,390,391,392,393,394,396,398,399,407,408,409,426,428,429,431,432,433,434,435,439,440,443,444,497,499,500,506,507,508,509,510,511],[2,199]),{3:914,4:r,5:a},t(Da,[2,765],{81:915,90:916,91:[1,917],96:[1,918]}),{3:213,4:r,5:a,75:[1,920],130:Je,141:le,142:206,143:he,150:de,154:Q,179:ge,197:207,198:209,199:208,200:211,201:919,207:921,211:He,212:212,284:z,285:Z,286:ee,287:te,294:qe,410:185,411:_e,415:Ve},t(mn,[2,162]),t(mn,[2,163]),t(mn,[2,164]),t(mn,[2,165]),t(mn,[2,166]),{3:392,4:r,5:a},t(We,[2,81],{72:[1,922]}),t(Ia,[2,83]),t(Ia,[2,84]),{111:923,130:ue,290:De},t([9,70,72,76,91,96,116,122,126,160,166,167,181,196,204,206,220,221,222,223,224,225,226,227,230,243,245,298,302,510,511],rn,{114:Qr}),t(na,[2,71]),t(na,[2,770]),{3:163,4:r,5:a,56:160,75:ie,92:924,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(ia,[2,124]),t(ia,[2,142]),t(ia,[2,143]),t(ia,[2,144]),{3:163,4:r,5:a,56:160,75:ie,76:[2,785],92:255,109:146,111:150,125:925,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:926,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{75:[1,927]},t(ia,[2,92]),t([4,5,9,70,72,74,75,76,116,120,122,126,127,128,129,130,132,133,135,137,138,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,179,181,183,185,196,274,275,276,277,278,279,280,281,282,298,302,411,415,510,511],[2,94],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t([4,5,9,70,72,74,75,76,110,116,120,122,126,127,128,129,130,132,133,135,137,138,141,143,144,146,147,148,150,152,154,160,162,164,166,167,168,169,170,171,173,179,181,183,185,196,274,275,276,277,278,279,280,281,282,298,302,411,415,510,511],[2,95],{112:350,319:362,97:yt,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,76:[1,928],110:xn,112:460,113:wt,114:Tt,115:929,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},t(La,[2,781],{151:728,177:ra,178:aa,179:sa}),{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,110:xn,112:460,113:wt,114:Tt,115:931,116:An,120:Cn,121:kn,122:On,124:930,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:932,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:933,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:934,4:r,5:a},t(ia,[2,108]),t(ia,[2,109]),t(ia,[2,110]),t(ia,[2,117]),{3:935,4:r,5:a},{3:724,4:r,5:a,109:778,141:oa,143:ua,145:936,328:777,329:779},{3:937,4:r,5:a},{3:163,4:r,5:a,56:160,75:ie,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:938,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(ia,[2,123]),t(La,[2,787],{153:939}),t(La,[2,789],{155:940}),t(La,[2,791],{157:941}),t(La,[2,795],{159:942}),t(qa,Ua,{161:943,176:944}),{75:[1,945]},t(La,[2,797],{163:946}),t(La,[2,799],{165:947}),t(qa,Ua,{176:944,161:948}),t(qa,Ua,{176:944,161:949}),t(qa,Ua,{176:944,161:950}),t(qa,Ua,{176:944,161:951}),{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,110:xn,112:460,113:wt,114:Tt,115:952,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:541,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,172:953,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,251:540,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Fa,[2,801],{174:954}),t(K,[2,591],{181:[1,955]}),t(K,[2,587],{181:[1,956]}),t(K,[2,580]),{111:957,130:ue,290:De},t(K,[2,589],{181:[1,958]}),t(K,[2,584]),t(K,[2,585],{110:[1,959]}),t(hr,[2,67]),{39:960,77:74,87:u,182:99,187:d},t(K,[2,443],{72:Ma,126:[1,961]}),t(_a,[2,444]),{122:[1,963]},{3:964,4:r,5:a},t(je,[2,835]),t(je,[2,836]),t(K,[2,605]),t(pr,[2,349],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(xa,Aa,{112:350,319:362,110:St,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,324:tn}),t(gt,[2,669]),t(gt,[2,671]),t(K,[2,637]),t(K,[2,639],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{
3:163,4:r,5:a,56:160,75:ie,92:965,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:792,4:r,5:a,75:ca,129:la,424:966},t(Va,[2,646]),t(Va,[2,647]),t(Va,[2,648]),{3:163,4:r,5:a,56:160,75:ie,92:967,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:968,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{112:790,113:wt,114:Tt,122:[1,969]},t(pr,[2,742]),t(yr,[2,146],{72:ha}),t(yr,[2,147],{72:ha}),t(yr,[2,148],{72:ha}),{3:163,4:r,5:a,56:160,75:ie,92:541,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,251:970,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:971,4:r,5:a,111:973,129:[1,972],130:ue,290:De},t(da,[2,273]),t(da,[2,275]),t(da,[2,277]),t(tt,[2,158]),t(tt,[2,810]),{76:[1,974]},t(at,[2,745]),{3:975,4:r,5:a},{3:976,4:r,5:a},{3:978,4:r,5:a,375:977},{3:978,4:r,5:a,375:979},{3:980,4:r,5:a},{3:163,4:r,5:a,56:160,75:ie,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:981,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:982,4:r,5:a},{72:fr,76:[1,983]},t(an,[2,341]),t(an,[2,342]),{3:163,4:r,5:a,56:160,75:ie,92:984,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:985,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:986,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:987,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Sr,[2,491]),t(K,ja,{397:988,74:Pa,75:[1,989]}),t(K,ja,{397:991,74:Pa}),{75:[1,992]},{3:238,4:r,5:a,197:993},t(pr,[2,718]),t(pr,[2,720]),t(pr,[2,866]),{141:Ze,143:et,423:994},t(Ba,[2,867],{410:185,471:995,142:996,143:Ke,411:_e,415:Ve}),{74:fa,137:[2,871],473:997,475:998},t([9,72,74,76,130,137,143,150,298,302,411,415,510,511],Cr,{482:575,485:576,135:ft}),t(pr,[2,723]),t(pr,xr),{72:wr,76:[1,999]},t(Or,[2,885],{484:1e3,489:1001,150:pt}),t(kr,[2,884]),t(Or,[2,732]),t(Or,[2,890]),t(K,[2,477],{75:[1,1002]}),{74:[1,1004],75:[1,1003]},{97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,146:[1,1005],152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(Na,Ga,{77:74,182:99,460:1006,39:1009,87:u,144:Ja,187:d,462:Ha}),t(pa,[2,860]),t(Nr,[2,710]),{228:[1,1010]},t(Wa,[2,756]),t(Wa,[2,757]),t(Wa,[2,758]),t($r,Dr,{502:1011,93:Ir,506:Lr,507:qr,508:Ur}),t($r,[2,755]),{3:163,4:r,5:a,56:160,75:ie,92:1012,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(gt,[2,677],{122:[1,1013]}),{129:[1,1015],378:1014,380:[1,1016]},t(va,[2,4]),{3:163,4:r,5:a,56:160,75:ie,92:1018,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,335:1017,410:185,411:_e,415:Ve},t(K,[2,448],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(K,[2,574]),t(K,[2,575]),{3:238,4:r,5:a,197:1019},t(K,[2,657]),{3:163,4:r,5:a,56:160,75:ie,92:1020,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:1021,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{76:[1,1022],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{76:[1,1023],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{3:163,4:r,5:a,39:1024,56:160,75:ie,77:74,87:u,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:1025,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,182:99,187:d,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{76:[1,1026]},{72:fr,76:[1,1027]},t(Ye,[2,419]),{3:163,4:r,5:a,56:160,75:ie,92:1028,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,39:1029,56:160,75:ie,76:[1,1031],77:74,87:u,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:1030,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,182:99,187:d,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Ye,[2,422]),t(Ye,[2,424]),t(Ye,Xa,{269:1032,270:Ya}),{76:[1,1034],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{76:[1,1035],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{3:1036,4:r,5:a,178:[1,1037]},t(cn,[2,606]),t(Ye,[2,357]),{298:[1,1038]},t(Ye,[2,363]),{97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,298:[2,367],303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{3:163,4:r,5:a,56:160,75:ie,92:1039,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{4:Fr,6:600,266:1040,379:Mr},{3:163,4:r,5:a,56:160,75:ie,92:1041,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(cn,[2,628]),t(Yr,[2,635]),t(Kr,[2,623]),t(Oa,ka),t(cn,[2,625]),t(Zr,[2,630]),t(Zr,[2,632]),t(Zr,[2,633]),t(Zr,[2,634]),t(Na,[2,450],{72:Ka}),{3:163,4:r,5:a,56:160,75:ie,92:1018,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,335:1044,410:185,411:_e,415:Ve},t(Qa,[2,461]),t(Qa,[2,462]),t(Na,[2,453]),{72:za,76:[1,1045]},t(Za,[2,474]),{39:1048,77:74,87:u,147:[1,1047],182:99,187:d},t(Na,[2,452],{72:Ka}),t(K,[2,704],{449:1049,450:1050,451:1051,300:$a,456:[1,1052]}),t(es,[2,688]),t(es,[2,689]),{152:[1,1054],452:[1,1053]},{97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,300:[2,685],303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(pn,[2,177]),{3:1055,4:r,5:a},t(K,[2,559]),t(ts,[2,236],{82:1056,126:[1,1057]}),t(Da,[2,766]),{75:[1,1058]},{75:[1,1059]},t(ea,[2,167],{202:1060,213:1062,203:1063,214:1064,219:1067,72:ns,204:rs,206:as,220:ss,221:is,222:os,223:us,224:cs,225:ls,226:hs,227:ds}),{3:213,4:r,5:a,39:435,75:Ge,77:74,87:u,130:Je,141:le,142:206,143:he,150:de,154:Q,179:ge,182:99,187:d,197:207,198:209,199:208,200:211,201:1076,207:921,211:He,212:212,284:z,285:Z,286:ee,287:te,294:qe,410:185,411:_e,415:Ve},t(Za,[2,175]),{3:724,4:r,5:a,108:1077,109:722,110:ta},t(Ia,[2,85]),t(na,[2,145],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{76:[1,1078]},{72:fr,76:[2,786]},{3:163,4:r,5:a,56:160,75:ie,76:[2,779],92:1083,109:146,111:150,118:1079,119:1080,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,239:1081,240:[1,1082],252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(ia,[2,96]),t(La,[2,782],{151:728,177:ra,178:aa,179:sa}),{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,76:[1,1084],110:xn,112:460,113:wt,114:Tt,115:1085,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},t(La,[2,783],{151:728,177:ra,178:aa,179:sa}),{76:[1,1086],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{76:[1,1087],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{76:[1,1088]},t(ia,[2,118]),{72:Ma,76:[1,1089]},t(ia,[2,120]),{72:fr,76:[1,1090]},{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,76:[1,1091],110:xn,112:460,113:wt,114:Tt,115:1092,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,76:[1,1093],110:xn,112:460,113:wt,114:Tt,115:1094,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,76:[1,1095],110:xn,112:460,113:wt,114:Tt,115:1096,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,76:[1,1097],110:xn,112:460,113:wt,114:Tt,115:1098,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{72:fs,76:[1,1099]},t(ps,[2,141],{410:185,3:457,112:460,142:482,156:492,158:493,115:1101,4:r,5:a,70:Sn,74:wn,75:Tn,110:xn,113:wt,114:Tt,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,411:_e,415:Ve}),t(qa,Ua,{176:944,161:1102}),{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,76:[1,1103],110:xn,112:460,113:wt,114:Tt,115:1104,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{3:457,4:r,5:a,70:Sn,74:wn,75:Tn,76:[1,1105],110:xn,112:460,113:wt,114:Tt,115:1106,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{72:fs,76:[1,1107]},{72:fs,76:[1,1108]},{72:fs,76:[1,1109]},{72:fs,76:[1,1110]},{76:[1,1111],151:728,177:ra,178:aa,179:sa},{72:ha,76:[1,1112]},{3:457,4:r,5:a,70:Sn,72:[1,1113],74:wn,75:Tn,110:xn,112:460,113:wt,114:Tt,115:1114,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,142:482,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,156:492,158:493,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,410:185,411:_e,415:Ve},{3:1115,4:r,5:a},{3:1116,4:r,5:a},t(K,[2,582]),{3:1117,4:r,5:a},{111:1118,130:ue,290:De},{76:[1,1119]},{3:163,4:r,5:a,56:160,75:ie,92:1120,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:724,4:r,5:a,109:778,141:oa,143:ua,328:1121,329:779},{3:163,4:r,5:a,56:160,75:ie,92:1122,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{122:[1,1123]},t(K,[2,640],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(Va,[2,645]),{76:[1,1124],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(K,[2,641],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{3:163,4:r,5:a,56:160,75:ie,92:1125,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(da,[2,270]),t(da,[2,272]),t(da,[2,274]),t(da,[2,276]),t(tt,[2,159]),t(K,[2,554]),{146:[1,1126]},t(K,[2,555]),t(pr,[2,523],{6:600,266:1127,4:Fr,377:[1,1128],379:Mr}),t(K,[2,556]),t(K,[2,558]),{72:fr,76:[1,1129]},t(K,[2,562]),t(an,[2,339]),{72:[1,1130],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{72:[1,1131],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{72:[1,1132],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{72:[1,1133],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(K,[2,566]),{3:163,4:r,5:a,56:160,75:ie,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:1134,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:1135,4:r,5:a},t(K,[2,568]),{3:163,4:r,5:a,56:160,75:ie,92:1083,109:146,111:150,118:1136,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,239:1081,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{75:[1,1137]},{3:1138,4:r,5:a},{74:fa,137:[2,869],472:1139,475:1140},t(Ba,[2,868]),{137:[1,1141]},{137:[2,872]},t(pr,[2,724]),t(Or,[2,731]),t(Or,[2,886]),{3:978,4:r,5:a,74:[1,1144],342:1142,349:1143,375:1145},{3:724,4:r,5:a,98:1146,109:904},{39:1147,77:74,87:u,182:99,187:d},{3:163,4:r,5:a,56:160,75:ie,92:1148,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Na,[2,709]),{3:724,4:r,5:a,109:778,141:oa,143:ua,145:1149,328:777,329:779},{3:163,4:r,5:a,56:160,75:ie,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:1150,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Na,[2,714]),{3:238,4:r,5:a,197:1151},{327:ba,330:ga,331:ma,503:1152},t(gt,[2,678],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{3:163,4:r,5:a,56:160,75:ie,92:1153,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{72:[1,1154],76:[1,1155]},t(ps,[2,528]),t(ps,[2,529]),{72:bs,76:[1,1156]},t(ps,[2,466],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(gt,[2,550]),t(ya,[2,373],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,304:_t,308:Pt,309:Bt,310:Gt,311:Jt}),t(ya,[2,375],{112:350,319:362,113:wt,114:Tt,121:xt,131:Ct,134:kt,136:Ot,139:$t,140:Dt,177:Ut,178:Ft,304:_t,308:Pt,309:Bt,310:Gt,311:Jt}),t(Ye,[2,389]),t(Ye,[2,393]),{76:[1,1158]},{72:fr,76:[1,1159]},t(Ye,[2,415]),t(Ye,[2,417]),{76:[1,1160],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{76:[1,1161]},{72:fr,76:[1,1162]},t(Ye,[2,420]),t(Ye,[2,321]),{75:[1,1163]},t(Ye,Xa,{269:1164,270:Ya}),t(Ye,Xa,{269:1165,270:Ya}),t(Oa,[2,282]),t(Ye,[2,279]),t(Ye,[2,362]),t(Xr,[2,366],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{72:[1,1167],76:[1,1166]},{72:[1,1169],76:[1,1168],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{3:1036,4:r,5:a},{75:[1,1170],141:le,142:1171,143:Ke,150:de,179:ge,199:1172,294:qe,410:185,411:_e,415:Ve},{72:bs,76:[1,1173]},{39:1175,77:74,87:u,147:[1,1174],182:99,187:d},{3:724,4:r,5:a,109:1176},{75:Ra,141:le,142:900,143:Ke,150:de,179:ge,199:901,294:qe,333:1177,410:185,411:_e,415:Ve},t(Na,[2,456]),t(K,[2,681]),t(es,[2,686]),t(es,[2,687]),{3:163,4:r,5:a,56:160,75:ie,92:541,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,172:1178,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,251:540,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{168:[1,1180],301:[1,1179]},{452:[1,1181]},t(pn,[2,178]),t(gs,[2,238],{83:1182,230:[1,1183]}),{3:163,4:r,5:a,56:160,75:ie,92:1184,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:1185,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:1186,4:r,5:a},t(ea,[2,168],{214:1064,219:1067,213:1187,203:1188,204:rs,206:as,220:ss,221:is,222:os,223:us,224:cs,225:ls,226:hs,227:ds}),{3:213,4:r,5:a,75:Ge,130:Je,141:le,142:206,143:he,150:de,154:Q,179:ge,197:207,198:209,199:208,200:211,207:1189,211:He,212:212,284:z,285:Z,286:ee,287:te,294:qe,410:185,411:_e,415:Ve},t(ms,[2,203]),t(ms,[2,204]),{3:213,4:r,5:a,75:[1,1194],141:le,142:1192,143:he,150:de,154:Q,179:ge,197:1191,198:1195,199:1193,200:1196,215:1190,284:z,285:Z,286:ee,287:te,294:qe,410:185,411:_e,415:Ve},{205:[1,1197],221:vs},{205:[1,1199],221:Es},t(ys,[2,220]),{204:[1,1203],206:[1,1202],219:1201,221:is,222:os,223:us,224:cs,225:ls,226:hs,227:ds},t(ys,[2,222]),{221:[1,1204]},{206:[1,1206],221:[1,1205]},{206:[1,1208],221:[1,1207]},{206:[1,1209]},{221:[1,1210]},{221:[1,1211]},{72:ns,202:1212,203:1063,204:rs,206:as,213:1062,214:1064,219:1067,220:ss,221:is,222:os,223:us,224:cs,225:ls,226:hs,227:ds},t(Ia,[2,82]),t(ia,[2,98]),{72:Ss,76:[1,1213]},{76:[1,1215]},t(ws,[2,259]),{76:[2,780]},t(ws,[2,261],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,240:[1,1216],241:[1,1217],303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(ia,[2,97]),t(La,[2,784],{151:728,177:ra,178:aa,179:sa}),t(ia,[2,99]),t(ia,[2,100]),t(ia,[2,101]),t(ia,[2,119]),t(ia,[2,122]),t(ia,[2,125]),t(La,[2,788],{151:728,177:ra,178:aa,179:sa}),t(ia,[2,126]),t(La,[2,790],{151:728,177:ra,178:aa,179:sa}),t(ia,[2,127]),t(La,[2,792],{151:728,177:ra,178:aa,179:sa}),t(ia,[2,128]),t(La,[2,796],{151:728,177:ra,178:aa,179:sa}),t(ia,[2,129]),t(qa,[2,803],{175:1218}),t(qa,[2,806],{151:728,177:ra,178:aa,179:sa
}),{72:fs,76:[1,1219]},t(ia,[2,131]),t(La,[2,798],{151:728,177:ra,178:aa,179:sa}),t(ia,[2,132]),t(La,[2,800],{151:728,177:ra,178:aa,179:sa}),t(ia,[2,133]),t(ia,[2,134]),t(ia,[2,135]),t(ia,[2,136]),t(ia,[2,137]),t(ia,[2,138]),{3:163,4:r,5:a,56:160,75:ie,92:255,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,149:1220,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Fa,[2,802],{151:728,177:ra,178:aa,179:sa}),t(K,[2,592]),t(K,[2,588]),t(K,[2,590]),t(K,[2,586]),t(hr,[2,69]),t(K,[2,442],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(_a,[2,445]),t(_a,[2,446],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{3:163,4:r,5:a,56:160,75:ie,92:1221,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Va,[2,649]),t(K,[2,642],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{3:1222,4:r,5:a},t(pr,[2,530],{376:1223,381:1224,382:1225,357:1233,152:Ts,185:xs,228:As,291:Cs,334:ks,347:Os,359:Rs,360:Ns,364:$s,365:Ds}),t(pr,[2,522]),t(K,[2,561],{74:[1,1237]}),{3:163,4:r,5:a,56:160,75:ie,92:1238,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:1239,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:1240,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:1241,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{72:fr,76:[1,1242]},t(K,[2,570]),{72:Ss,76:[1,1243]},{3:163,4:r,5:a,56:160,75:ie,92:1083,109:146,111:150,118:1244,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,239:1081,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t([9,72,76,137,298,302,510,511],[2,728]),{137:[1,1245]},{137:[2,870]},{3:835,4:r,5:a,130:dt,135:ft,141:Ze,143:et,150:pt,423:312,467:837,470:1246,474:309,485:306,489:308},{76:[1,1247]},{72:[1,1248],76:[2,493]},{39:1249,77:74,87:u,182:99,187:d},t(ps,[2,519]),{72:za,76:[1,1250]},t(K,[2,853],{402:1251,403:1252,70:Is}),t(Na,Ga,{77:74,182:99,112:350,319:362,39:1009,460:1254,87:u,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,144:Ja,152:It,168:Lt,169:qt,177:Ut,178:Ft,187:d,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn,462:Ha}),t(Na,[2,712],{72:Ma}),t(Na,[2,713],{72:fr}),t([9,52,70,87,122,144,154,187,263,284,298,302,327,330,331,338,386,390,391,394,396,398,399,407,408,409,426,428,429,431,432,433,434,435,439,440,443,444,497,499,500,509,510,511],[2,901],{504:1255,3:1256,4:r,5:a,74:[1,1257]}),t(Ls,[2,903],{505:1258,74:[1,1259]}),t(gt,[2,679],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{129:[1,1260]},t(va,[2,525]),t(va,[2,527]),{3:163,4:r,5:a,56:160,75:ie,92:1261,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Ye,[2,405]),t(Ye,[2,406]),t(Ye,[2,432]),t(Ye,[2,416]),t(Ye,[2,418]),{116:qs,271:1262,272:1263,273:[1,1264]},t(Ye,[2,322]),t(Ye,[2,323]),t(Ye,[2,310]),{129:[1,1266]},t(Ye,[2,312]),{129:[1,1267]},{3:163,4:r,5:a,56:160,75:ie,92:1018,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,335:1268,410:185,411:_e,415:Ve},t(Qa,[2,464]),t(Qa,[2,465]),t(Qa,[2,460]),{75:Ra,141:le,142:900,143:Ke,150:de,179:ge,199:901,294:qe,333:1269,410:185,411:_e,415:Ve},t(Na,[2,457]),t(Za,[2,475]),t(Na,[2,451],{72:Ka}),t(K,[2,705],{72:ha,196:[1,1270]}),{327:Us,330:Fs,453:1271},{3:163,4:r,5:a,56:160,75:ie,92:1274,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{117:[1,1276],168:[1,1277],301:[1,1275]},t(Ms,[2,257],{84:1278,116:[1,1279]}),{117:[1,1280]},t(ts,[2,237],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{93:[1,1281],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{93:[1,1282]},t(ms,[2,201]),t(ms,[2,202]),t(Za,[2,176]),t(ms,[2,235],{216:1283,228:[1,1284],229:[1,1285]}),t(_s,[2,206],{3:1286,4:r,5:a,74:[1,1287]}),t(Vs,[2,815],{217:1288,74:[1,1289]}),{3:1290,4:r,5:a,74:[1,1291]},{39:1292,77:74,87:u,182:99,187:d},t(_s,[2,214],{3:1293,4:r,5:a,74:[1,1294]}),t(_s,[2,217],{3:1295,4:r,5:a,74:[1,1296]}),{75:[1,1297]},t(ys,[2,232]),{75:[1,1298]},t(ys,[2,228]),t(ys,[2,221]),{221:Es},{221:vs},t(ys,[2,223]),t(ys,[2,224]),{221:[1,1299]},t(ys,[2,226]),{221:[1,1300]},{221:[1,1301]},t(ys,[2,230]),t(ys,[2,231]),{76:[1,1302],203:1188,204:rs,206:as,213:1187,214:1064,219:1067,220:ss,221:is,222:os,223:us,224:cs,225:ls,226:hs,227:ds},t(ia,[2,89]),{3:163,4:r,5:a,56:160,75:ie,92:1083,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,239:1303,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(ia,[2,90]),t(ws,[2,262]),{242:[1,1304]},t(ps,[2,140],{410:185,3:457,112:460,142:482,156:492,158:493,115:1305,4:r,5:a,70:Sn,74:wn,75:Tn,110:xn,113:wt,114:Tt,116:An,120:Cn,121:kn,122:On,126:Rn,127:Nn,128:$n,129:Dn,130:In,131:Ln,132:qn,133:Un,134:Fn,135:Mn,136:_n,137:Vn,138:jn,139:Pn,140:Bn,141:Gn,143:Jn,144:Hn,146:Wn,147:Xn,148:Yn,150:Kn,152:Qn,154:zn,160:Zn,162:er,164:tr,166:nr,167:rr,168:ar,169:sr,170:ir,171:or,173:ur,183:cr,185:lr,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,411:_e,415:Ve}),t(ia,[2,130]),{72:fr,76:[1,1306]},t(_a,[2,447],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(K,[2,557]),t(pr,[2,521]),t(pr,[2,531],{357:1233,382:1307,152:Ts,185:xs,228:As,291:Cs,334:ks,347:Os,359:Rs,360:Ns,364:$s,365:Ds}),t(dr,[2,533]),{361:[1,1308]},{361:[1,1309]},{3:238,4:r,5:a,197:1310},t(dr,[2,539],{75:[1,1311]}),{3:113,4:r,5:a,75:[1,1313],111:246,129:oe,130:ue,141:le,150:de,154:Q,179:ge,194:245,198:1314,199:249,255:247,256:248,262:Qe,268:1312,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,294:qe},t(dr,[2,543]),{291:[1,1315]},t(dr,[2,545]),t(dr,[2,546]),{327:[1,1316]},{75:[1,1317]},{3:1318,4:r,5:a},{76:[1,1319],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{76:[1,1320],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{76:[1,1321],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{76:[1,1322],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(K,ja,{397:1323,74:Pa}),t(K,[2,576]),{72:Ss,76:[1,1324]},{3:835,4:r,5:a,130:dt,135:ft,141:Ze,143:et,150:pt,423:312,467:837,470:1325,474:309,485:306,489:308},t(pr,[2,722]),t(K,[2,480],{343:1326,345:1327,346:1328,4:js,241:Ps,334:Bs,347:Gs}),t(Js,Hs,{3:978,350:1333,375:1334,351:1335,352:1336,4:r,5:a,358:Ws}),{76:[2,494]},{74:[1,1338]},t(K,[2,594]),t(K,[2,854]),{359:[1,1340],404:[1,1339]},t(Na,[2,715]),t(K,n,{16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,11:1341,4:r,5:a,52:i,70:o,87:u,122:c,144:l,154:h,187:d,263:f,284:p,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),t(K,[2,749]),t(Ls,[2,902]),t(K,n,{16:5,17:7,18:8,19:9,20:10,21:11,22:12,23:13,24:14,25:15,26:16,27:17,28:18,29:19,30:20,31:21,32:22,33:23,34:24,35:25,36:26,37:27,38:28,39:29,40:30,41:31,42:32,43:33,44:34,45:35,46:36,47:37,48:38,49:39,50:40,51:41,53:43,54:44,55:45,56:46,57:47,58:48,59:49,60:50,61:51,62:52,63:53,64:54,65:55,66:56,67:57,68:58,69:59,77:74,496:95,182:99,3:100,11:1342,4:r,5:a,52:i,70:o,87:u,122:c,144:l,154:h,187:d,263:f,284:p,327:b,330:g,331:m,338:v,386:E,390:y,391:S,394:T,396:x,398:A,399:C,407:k,408:O,409:N,426:$,428:D,429:I,431:L,432:q,433:U,434:F,435:M,439:_,440:V,443:j,444:P,497:B,499:G,500:J,509:H}),t(Ls,[2,904]),{76:[1,1343]},t(ps,[2,467],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{76:[1,1344],116:qs,272:1345},{76:[1,1346]},{117:[1,1347]},{117:[1,1348]},{76:[1,1349]},{76:[1,1350]},{72:bs,76:[1,1351]},t(Na,[2,454],{72:Ka}),{3:238,4:r,5:a,141:Ze,143:et,197:1353,423:1352},t(es,[2,690]),t(es,[2,692]),{144:[1,1354]},{97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,301:[1,1355],303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},{331:Xs,454:1356},{408:[1,1359],455:[1,1358]},{3:163,4:r,5:a,56:160,75:ie,92:1360,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Ys,[2,265],{85:1361,243:[1,1362],245:[1,1363]}),{117:[1,1364]},{3:163,4:r,5:a,56:160,75:ie,92:1370,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,231:1365,233:1366,234:Ks,235:Qs,236:zs,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:1371,4:r,5:a},{3:1372,4:r,5:a},t(ms,[2,205]),{3:163,4:r,5:a,56:160,75:ie,92:1373,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:724,4:r,5:a,98:1374,109:904},t(_s,[2,207]),{3:1375,4:r,5:a},t(_s,[2,817],{218:1376,3:1377,4:r,5:a}),t(Vs,[2,816]),t(_s,[2,210]),{3:1378,4:r,5:a},{76:[1,1379]},t(_s,[2,215]),{3:1380,4:r,5:a},t(_s,[2,218]),{3:1381,4:r,5:a},{39:1382,77:74,87:u,182:99,187:d},{39:1383,77:74,87:u,182:99,187:d},t(ys,[2,225]),t(ys,[2,227]),t(ys,[2,229]),t(ea,[2,169]),t(ws,[2,260]),t(ws,[2,263],{240:[1,1384]}),t(qa,[2,804],{151:728,177:ra,178:aa,179:sa}),t(ia,[2,139]),t(dr,[2,532]),t(dr,[2,535]),{365:[1,1385]},t(dr,[2,847],{385:1386,383:1387,75:Zs}),{129:oe,194:1389},t(dr,[2,540]),{3:163,4:r,5:a,56:160,75:ie,92:1390,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(dr,[2,542]),t(dr,[2,544]),{3:113,4:r,5:a,75:[1,1392],111:246,129:oe,130:ue,141:le,150:de,154:Q,179:ge,194:245,198:250,199:249,255:247,256:248,262:Qe,268:1391,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,294:qe},{3:163,4:r,5:a,56:160,75:ie,92:1393,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(K,[2,563]),t(an,[2,343]),t(an,[2,344]),t(an,[2,345]),t(an,[2,346]),t(K,[2,567]),t(K,[2,577]),t(pr,[2,721]),t(K,[2,476]),t(K,[2,481],{346:1394,4:js,241:Ps,334:Bs,347:Gs}),t(ei,[2,483]),t(ei,[2,484]),{122:[1,1395]},{122:[1,1396]},{122:[1,1397]},{72:[1,1398],76:[2,492]},t(ps,[2,520]),t(ps,[2,495]),{185:[1,1406],191:[1,1407],353:1399,354:1400,355:1401,356:1402,357:1403,359:Rs,360:[1,1404],361:[1,1408],364:[1,1405]},{3:1409,4:r,5:a},{39:1410,77:74,87:u,182:99,187:d},{405:[1,1411]},{406:[1,1412]},t(K,[2,748]),t(K,[2,750]),t(va,[2,524]),t(Ye,[2,325]),{76:[1,1413]},t(Ye,[2,326]),{3:163,4:r,5:a,56:160,75:ie,92:1370,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,231:1414,233:1366,234:Ks,235:Qs,236:zs,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:1083,109:146,111:150,118:1415,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,239:1081,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(Ye,[2,311]),t(Ye,[2,313]),t(Qa,[2,463]),{3:1416,4:r,5:a},t(K,[2,707],{75:[1,1417]}),{3:724,4:r,5:a,109:778,141:oa,143:ua,145:1418,328:777,329:779},{327:Us,330:Fs,453:1419},t(es,[2,694]),{75:[1,1421],147:[1,1420],334:[1,1422]},{168:[1,1424],301:[1,1423]},{168:[1,1426],301:[1,1425]},{97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,301:[1,1427],303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(na,[2,248],{86:1428,160:[1,1429],166:[1,1431],167:[1,1430]}),{129:oe,194:1432},{129:oe,194:1433},{3:163,4:r,5:a,56:160,75:ie,92:1083,109:146,111:150,118:1434,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,239:1081,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},t(gs,[2,246],{232:1435,72:ti,237:[1,1437]}),t(ni,[2,240]),{144:[1,1438]},{75:[1,1439]},{75:[1,1440]},t(ni,[2,245],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{76:[2,771],94:1441,97:[1,1443],100:1442},{97:[1,1444]},t(ms,[2,233],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),t(ms,[2,234],{72:za}),t(_s,[2,208]),t(_s,[2,209]),t(_s,[2,818]),t(_s,[2,211]),{3:1445,4:r,5:a,74:[1,1446]},t(_s,[2,216]),t(_s,[2,219]),{76:[1,1447]},{76:[1,1448]},t(ws,[2,264]),{3:238,4:r,5:a,197:1449},t(dr,[2,537]),t(dr,[2,848]),{3:1450,4:r,5:a},{72:[1,1451]},{76:[1,1452],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(dr,[2,547]),{3:163,4:r,5:a,56:160,75:ie,92:1453,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{76:[1,1454],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(ei,[2,482]),{3:1455,4:r,5:a},{129:oe,194:1456},{3:1457,4:r,5:a},t(Js,Hs,{352:1336,351:1458,358:Ws}),t(pr,[2,497]),t(pr,[2,498]),t(pr,[2,499]),t(pr,[2,500]),t(pr,[2,501]),{361:[1,1459]},{361:[1,1460]},t(ri,[2,841],{373:1461,361:[1,1462]}),{3:1463,4:r,5:a},{3:1464,4:r,5:a},t(Js,[2,503]),t(K,[2,851],{401:1465,403:1466,70:Is}),t(K,[2,595]),t(K,[2,596],{358:[1,1467]}),t(Ye,[2,327]),t([76,116],[2,328],{72:ti}),{72:Ss,76:[2,329]},t(K,[2,706]),{3:724,4:r,5:a,98:1468,109:904},t(es,[2,693],{72:Ma}),t(es,[2,691]),{75:Ra,141:le,142:900,143:Ke,150:de,179:ge,199:901,294:qe,333:1469,410:185,411:_e,415:Ve},{3:724,4:r,5:a,98:1470,109:904},{147:[1,1471]},{331:Xs,454:1472},{3:163,4:r,5:a,56:160,75:ie,92:1473,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{331:Xs,454:1474},{3:163,4:r,5:a,56:160,75:ie,92:1475,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{331:Xs,454:1476},t(na,[2,70]),{39:1477,77:74,87:u,162:[1,1478],182:99,187:d,238:[1,1479]},{39:1480,77:74,87:u,182:99,187:d,238:[1,1481]},{39:1482,77:74,87:u,182:99,187:d,238:[1,1483]},t(Ys,[2,268],{244:1484,245:[1,1485]}),{246:1486,247:[2,819],513:[1,1487]},t(Ms,[2,258],{72:Ss}),t(gs,[2,239]),{3:163,4:r,5:a,56:160,75:ie,92:1370,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,233:1488,234:Ks,235:Qs,236:zs,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:1489,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{75:[1,1490]},{3:163,4:r,5:a,56:160,75:ie,92:1370,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,231:1491,233:1366,234:Ks,235:Qs,236:zs,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:163,4:r,5:a,56:160,75:ie,92:1370,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,231:1492,233:1366,234:Ks,235:Qs,236:zs,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{76:[1,1493]},{76:[2,772]},{75:[1,1494]},{75:[1,1495]},t(_s,[2,212]),{3:1496,4:r,5:a},{3:1497,4:r,5:a,74:[1,1498]},{3:1499,4:r,5:a,74:[1,1500]},t(dr,[2,845],{384:1501,383:1502,75:Zs}),{76:[1,1503]},{129:oe,194:1504},t(dr,[2,541]),{76:[1,1505],97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(dr,[2,504]),t(ei,[2,485]),t(ei,[2,486]),t(ei,[2,487]),t(ps,[2,496]),{3:1507,4:r,5:a,75:[2,837],362:1506},{75:[1,1508]},{3:1510,4:r,5:a,75:[2,843],374:1509},t(ri,[2,842]),{75:[1,1511]},{75:[1,1512]},t(K,[2,593]),t(K,[2,852]),t(Js,Hs,{352:1336,351:1513,358:Ws}),{72:za,76:[1,1514]},t(es,[2,700],{72:Ka}),{72:za,76:[1,1515]},t(es,[2,702]),t(es,[2,695]),{97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,301:[1,1516],303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(es,[2,698]),{97:yt,110:St,112:350,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,301:[1,1517],303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,319:362,322:Zt,323:en,324:tn,325:nn},t(es,[2,696]),t(na,[2,249]),{39:1518,77:74,87:u,182:99,187:d,238:[1,1519]},{39:1520,77:74,87:u,182:99,187:d},t(na,[2,251]),{39:1521,77:74,87:u,182:99,187:d},t(na,[2,252]),{39:1522,77:74,87:u,182:99,187:d},t(Ys,[2,266]),{129:oe,194:1523},{247:[1,1524]},{247:[2,820]},t(ni,[2,241]),t(gs,[2,247],{112:350,319:362,97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{3:163,4:r,5:a,56:160,75:ie,92:1370,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,231:1525,233:1366,234:Ks,235:Qs,236:zs,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{72:ti,76:[1,1526]},{72:ti,76:[1,1527]},t(Da,[2,773],{95:1528,102:1529,3:1531,4:r,5:a,74:ai}),{3:163,4:r,5:a,56:160,75:ie,92:1534,101:1532,103:1533,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:724,4:r,5:a,98:1535,109:904},t(_s,[2,213]),t(ms,[2,171]),{3:1536,4:r,5:a},t(ms,[2,173]),{3:1537,4:r,5:a},t(dr,[2,536]),t(dr,[2,846]),t(dr,[2,534]),{76:[1,1538]},t(dr,[2,548]),{75:[1,1539]},{75:[2,838]},{3:1541,4:r,5:a,130:si,363:1540},{75:[1,1543]},{75:[2,844]},{3:724,4:r,5:a,98:1544,109:904},{3:724,4:r,5:a,98:1545,109:904},t(K,[2,597]),t(K,[2,708]),{147:[1,1546],334:[1,1547]},{331:Xs,454:1548},{327:Us,330:Fs,453:1549},t(na,[2,250]),{39:1550,77:74,87:u,182:99,187:d},t(na,[2,253]),t(na,[2,255]),t(na,[2,256]),t(Ys,[2,269]),{129:[2,821],248:1551,514:[1,1552]},{72:ti,76:[1,1553]},t(ni,[2,243]),t(ni,[2,244]),t(Da,[2,72]),t(Da,[2,774]),{3:1554,4:r,5:a},t(Da,[2,76]),{72:[1,1556],76:[1,1555]},t(ps,[2,78]),t(ps,[2,79],{112:350,319:362,74:[1,1557],97:yt,110:St,113:wt,114:Tt,121:xt,122:br,131:Ct,134:kt,136:Ot,137:Rt,138:Nt,139:$t,140:Dt,152:It,168:Lt,169:qt,177:Ut,178:Ft,303:Mt,304:_t,305:Vt,307:jt,308:Pt,309:Bt,310:Gt,311:Jt,312:Ht,313:Wt,314:Xt,315:Yt,316:Kt,317:Qt,318:zt,322:Zt,323:en,324:tn,325:nn}),{72:za,76:[1,1558]},t(ms,[2,172]),t(ms,[2,174]),t(dr,[2,538]),{3:1541,4:r,5:a,130:si,363:1559},{72:ii,76:[1,1560]},t(ps,[2,515]),t(ps,[2,516]),{3:724,4:r,5:a,98:1562,109:904},{72:za,76:[1,1563]},{72:za,76:[1,1564]},{75:Ra,141:le,142:900,143:Ke,150:de,179:ge,199:901,294:qe,333:1565,410:185,411:_e,415:Ve},{147:[1,1566]},t(es,[2,697]),t(es,[2,699]),t(na,[2,254]),{129:oe,194:1567},{129:[2,822]},t(ni,[2,242]),t(Da,[2,75]),{76:[2,74]},{3:163,4:r,5:a,56:160,75:ie,92:1534,103:1568,109:146,111:150,129:oe,130:ue,135:ce,141:le,142:157,143:he,150:de,152:fe,154:Q,156:162,177:pe,178:be,179:ge,194:148,198:144,199:152,200:153,252:147,253:143,254:145,255:149,256:151,257:154,258:155,259:156,260:158,262:me,263:f,264:ve,265:Ee,267:ye,274:Se,275:we,276:Te,277:xe,278:Ae,279:Ce,280:ke,281:Oe,282:Re,284:z,285:Z,286:ee,287:te,288:Ne,289:$e,290:De,291:Ie,292:Le,294:qe,295:Ue,304:Fe,309:Me,410:185,411:_e,415:Ve},{3:1569,4:r,5:a},{76:[1,1570]},{72:ii,76:[1,1571]},{365:[1,1572]},{3:1573,4:r,5:a,130:[1,1574]},{72:za,76:[1,1575]},t(pr,[2,513]),t(pr,[2,514]),t(es,[2,701],{72:Ka}),t(es,[2,703]),t(oi,[2,823],{249:1576,513:[1,1577]}),t(ps,[2,77]),t(ps,[2,80]),t(Da,[2,775],{3:1531,99:1578,102:1579,4:r,5:a,74:ai}),t(pr,[2,505]),{3:238,4:r,5:a,197:1580},t(ps,[2,517]),t(ps,[2,518]),t(pr,[2,512]),t(Ys,[2,825],{250:1581,405:[1,1582]}),t(oi,[2,824]),t(Da,[2,73]),t(Da,[2,776]),t(ui,[2,839],{366:1583,368:1584,75:[1,1585]}),t(Ys,[2,267]),t(Ys,[2,826]),t(pr,[2,508],{367:1586,
369:1587,228:[1,1588]}),t(ui,[2,840]),{3:1541,4:r,5:a,130:si,363:1589},t(pr,[2,506]),{228:[1,1591],370:1590},{330:[1,1592]},{72:ii,76:[1,1593]},t(pr,[2,509]),{327:[1,1594]},{371:[1,1595]},t(ui,[2,507]),{371:[1,1596]},{372:[1,1597]},{372:[1,1598]},{228:[2,510]},t(pr,[2,511])],defaultActions:{104:[2,5],188:[2,330],189:[2,331],190:[2,332],191:[2,333],192:[2,334],193:[2,335],194:[2,336],195:[2,337],196:[2,338],203:[2,682],318:[2,862],378:[2,827],379:[2,828],434:[2,683],504:[2,793],505:[2,794],647:[2,439],648:[2,440],649:[2,441],700:[2,684],998:[2,872],1082:[2,780],1140:[2,870],1249:[2,494],1442:[2,772],1487:[2,820],1507:[2,838],1510:[2,844],1552:[2,822],1555:[2,74],1597:[2,510]},parseError:function(e,t){function n(e,t){this.message=e,this.hash=t}if(!t.recoverable)throw n.prototype=Error,new n(e,t);this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],a=[],s=this.table,i="",o=0,u=0,c=0,l=2,h=1,d=a.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var b in this.yy)Object.prototype.hasOwnProperty.call(this.yy,b)&&(p.yy[b]=this.yy[b]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,"undefined"==typeof f.yylloc&&(f.yylloc={});var g=f.yylloc;a.push(g);var m=f.options&&f.options.ranges;"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,E,y,S,w,T,x,A,C,k=function(){var e;return e=f.lex()||h,"number"!=typeof e&&(e=t.symbols_[e]||e),e},O={};;){if(y=n[n.length-1],this.defaultActions[y]?S=this.defaultActions[y]:(null!==v&&"undefined"!=typeof v||(v=k()),S=s[y]&&s[y][v]),"undefined"==typeof S||!S.length||!S[0]){var R="";C=[];for(T in s[y])this.terminals_[T]&&T>l&&C.push("'"+this.terminals_[T]+"'");R=f.showPosition?"Parse error on line "+(o+1)+":\n"+f.showPosition()+"\nExpecting "+C.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(o+1)+": Unexpected "+(v==h?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(R,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:g,expected:C})}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+v);switch(S[0]){case 1:n.push(v),r.push(f.yytext),a.push(f.yylloc),n.push(S[1]),v=null,E?(v=E,E=null):(u=f.yyleng,i=f.yytext,o=f.yylineno,g=f.yylloc,c>0&&c--);break;case 2:if(x=this.productions_[S[1]][1],O.$=r[r.length-x],O._$={first_line:a[a.length-(x||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(x||1)].first_column,last_column:a[a.length-1].last_column},m&&(O._$.range=[a[a.length-(x||1)].range[0],a[a.length-1].range[1]]),w=this.performAction.apply(O,[i,u,o,p.yy,S[1],r,a].concat(d)),"undefined"!=typeof w)return w;x&&(n=n.slice(0,-1*x*2),r=r.slice(0,-1*x),a=a.slice(0,-1*x)),n.push(this.productions_[S[1]][0]),r.push(O.$),a.push(O._$),A=s[n[n.length-2]][n[n.length-1]],n.push(A);break;case 3:return!0}}return!0}},li=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,a;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(a.yylloc.range=this.yylloc.range.slice(0))),r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var s in a)this[s]=a[s];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),s=0;s<a.length;s++)if(n=this._input.match(this.rules[a[s]]),n&&(!t||n[0].length>t[0].length)){if(t=n,r=s,this.options.backtrack_lexer){if(e=this.test_match(n,a[s]),e!==!1)return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?(e=this.test_match(t,a[r]),e!==!1&&e):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,r){switch(n){case 0:return 263;case 1:return 294;case 2:return 411;case 3:return 5;case 4:return 5;case 5:return 290;case 6:return 290;case 7:return 130;case 8:return 130;case 9:return;case 10:break;case 11:return 308;case 12:return 311;case 13:return t.yytext="VALUE",87;case 14:return t.yytext="VALUE",187;case 15:return t.yytext="ROW",187;case 16:return t.yytext="COLUMN",187;case 17:return t.yytext="MATRIX",187;case 18:return t.yytext="INDEX",187;case 19:return t.yytext="RECORDSET",187;case 20:return t.yytext="TEXT",187;case 21:return t.yytext="SELECT",187;case 22:return"ABSOLUTE";case 23:return 372;case 24:return 392;case 25:return 507;case 26:return 281;case 27:return 162;case 28:return 390;case 29:return 168;case 30:return 227;case 31:return 164;case 32:return 205;case 33:return 282;case 34:return 74;case 35:return 409;case 36:return 240;case 37:return 394;case 38:return 347;case 39:return 278;case 40:return 506;case 41:return 429;case 42:return 322;case 43:return 433;case 44:return 323;case 45:return 307;case 46:return 117;case 47:return 110;case 48:return 307;case 49:return 110;case 50:return 307;case 51:return 110;case 52:return 307;case 53:return 500;case 54:return 295;case 55:return 265;case 56:return 359;case 57:return 128;case 58:return"CLOSE";case 59:return 241;case 60:return 188;case 61:return 188;case 62:return 426;case 63:return 358;case 64:return 462;case 65:return 432;case 66:return 267;case 67:return 238;case 68:return 275;case 69:return 338;case 70:return 204;case 71:return 236;case 72:return 262;case 73:return"CURSOR";case 74:return 395;case 75:return 285;case 76:return 286;case 77:return 440;case 78:return 334;case 79:return 330;case 80:return"DELETED";case 81:return 240;case 82:return 396;case 83:return 183;case 84:return 386;case 85:return 439;case 86:return 133;case 87:return 298;case 88:return 379;case 89:return 302;case 90:return 306;case 91:return 167;case 92:return 500;case 93:return 500;case 94:return 292;case 95:return 13;case 96:return 289;case 97:return 247;case 98:return 279;case 99:return 93;case 100:return 364;case 101:return 181;case 102:return 225;case 103:return 305;case 104:return 511;case 105:return 464;case 106:return 230;case 107:return 234;case 108:return 237;case 109:return 407;case 110:return 154;case 111:return 347;case 112:return 324;case 113:return 97;case 114:return 191;case 115:return 210;case 116:return 222;case 117:return 508;case 118:return 331;case 119:return 211;case 120:return 166;case 121:return 287;case 122:return 196;case 123:return 221;case 124:return 361;case 125:return 280;case 126:return"LET";case 127:return 223;case 128:return 110;case 129:return 243;case 130:return 452;case 131:return 189;case 132:return 277;case 133:return 380;case 134:return 276;case 135:return 444;case 136:return 167;case 137:return 393;case 138:return 220;case 139:return 514;case 140:return 264;case 141:return 242;case 142:return 371;case 143:return 152;case 144:return 291;case 145:return 425;case 146:return 228;case 147:return 405;case 148:return 127;case 149:return 245;case 150:return"OPEN";case 151:return 406;case 152:return 169;case 153:return 116;case 154:return 206;case 155:return 270;case 156:return 170;case 157:return 273;case 158:return 512;case 159:return 91;case 160:return 15;case 161:return 360;case 162:return 434;case 163:return"PRIOR";case 164:return 14;case 165:return 404;case 166:return 192;case 167:return"REDUCE";case 168:return 365;case 169:return 303;case 170:return 509;case 171:return"RELATIVE";case 172:return 105;case 173:return 391;case 174:return 173;case 175:return 284;case 176:return 435;case 177:return"RESTORE";case 178:return 171;case 179:return 171;case 180:return 224;case 181:return 428;case 182:return 235;case 183:return 148;case 184:return 513;case 185:return 395;case 186:return 87;case 187:return 226;case 188:return 144;case 189:return 144;case 190:return 399;case 191:return 326;case 192:return 408;case 193:return"STRATEGY";case 194:return"STORE";case 195:return 274;case 196:return 344;case 197:return 344;case 198:return 455;case 199:return 348;case 200:return 348;case 201:return 190;case 202:return 301;case 203:return"TIMEOUT";case 204:return 146;case 205:return 193;case 206:return 427;case 207:return 427;case 208:return 501;case 209:return 288;case 210:return 443;case 211:return 160;case 212:return 185;case 213:return 96;case 214:return 327;case 215:return 398;case 216:return 229;case 217:return 147;case 218:return 132;case 219:return 400;case 220:return 300;case 221:return 126;case 222:return 431;case 223:return 70;case 224:return 427;case 225:return 129;case 226:return 129;case 227:return 113;case 228:return 135;case 229:return 177;case 230:return 309;case 231:return 178;case 232:return 131;case 233:return 136;case 234:return 318;case 235:return 315;case 236:return 317;case 237:return 314;case 238:return 312;case 239:return 310;case 240:return 311;case 241:return 140;case 242:return 139;case 243:return 137;case 244:return 313;case 245:return 316;case 246:return 138;case 247:return 122;case 248:return 316;case 249:return 75;case 250:return 76;case 251:return 143;case 252:return 415;case 253:return 417;case 254:return 419;case 255:return 497;case 256:return 499;case 257:return 120;case 258:return 114;case 259:return 72;case 260:return 325;case 261:return 150;case 262:return 510;case 263:return 141;case 264:return 179;case 265:return 134;case 266:return 121;case 267:return 304;case 268:return 4;case 269:return 9;case 270:return"INVALID"}},rules:[/^(?:``([^\`])+``)/i,/^(?:\[\?\])/i,/^(?:@\[)/i,/^(?:\[([^\]])*?\])/i,/^(?:`([^\`])*?`)/i,/^(?:N(['](\\.|[^']|\\')*?['])+)/i,/^(?:X(['](\\.|[^']|\\')*?['])+)/i,/^(?:(['](\\.|[^']|\\')*?['])+)/i,/^(?:(["](\\.|[^"]|\\")*?["])+)/i,/^(?:--(.*?)($|\r\n|\r|\n))/i,/^(?:\s+)/i,/^(?:\|\|)/i,/^(?:\|)/i,/^(?:VALUE\s+OF\s+SEARCH\b)/i,/^(?:VALUE\s+OF\s+SELECT\b)/i,/^(?:ROW\s+OF\s+SELECT\b)/i,/^(?:COLUMN\s+OF\s+SELECT\b)/i,/^(?:MATRIX\s+OF\s+SELECT\b)/i,/^(?:INDEX\s+OF\s+SELECT\b)/i,/^(?:RECORDSET\s+OF\s+SELECT\b)/i,/^(?:TEXT\s+OF\s+SELECT\b)/i,/^(?:SELECT\b)/i,/^(?:ABSOLUTE\b)/i,/^(?:ACTION\b)/i,/^(?:ADD\b)/i,/^(?:AFTER\b)/i,/^(?:AGGR\b)/i,/^(?:ALL\b)/i,/^(?:ALTER\b)/i,/^(?:AND\b)/i,/^(?:ANTI\b)/i,/^(?:ANY\b)/i,/^(?:APPLY\b)/i,/^(?:ARRAY\b)/i,/^(?:AS\b)/i,/^(?:ASSERT\b)/i,/^(?:ASC\b)/i,/^(?:ATTACH\b)/i,/^(?:AUTO(_)?INCREMENT\b)/i,/^(?:AVG\b)/i,/^(?:BEFORE\b)/i,/^(?:BEGIN\b)/i,/^(?:BETWEEN\b)/i,/^(?:BREAK\b)/i,/^(?:NOT\s+BETWEEN\b)/i,/^(?:NOT\s+LIKE\b)/i,/^(?:BY\b)/i,/^(?:~~\*)/i,/^(?:!~~\*)/i,/^(?:~~)/i,/^(?:!~~)/i,/^(?:ILIKE\b)/i,/^(?:NOT\s+ILIKE\b)/i,/^(?:CALL\b)/i,/^(?:CASE\b)/i,/^(?:CAST\b)/i,/^(?:CHECK\b)/i,/^(?:CLASS\b)/i,/^(?:CLOSE\b)/i,/^(?:COLLATE\b)/i,/^(?:COLUMN\b)/i,/^(?:COLUMNS\b)/i,/^(?:COMMIT\b)/i,/^(?:CONSTRAINT\b)/i,/^(?:CONTENT\b)/i,/^(?:CONTINUE\b)/i,/^(?:CONVERT\b)/i,/^(?:CORRESPONDING\b)/i,/^(?:COUNT\b)/i,/^(?:CREATE\b)/i,/^(?:CROSS\b)/i,/^(?:CUBE\b)/i,/^(?:CURRENT_TIMESTAMP\b)/i,/^(?:CURSOR\b)/i,/^(?:DATABASE(S)?)/i,/^(?:DATEADD\b)/i,/^(?:DATEDIFF\b)/i,/^(?:DECLARE\b)/i,/^(?:DEFAULT\b)/i,/^(?:DELETE\b)/i,/^(?:DELETED\b)/i,/^(?:DESC\b)/i,/^(?:DETACH\b)/i,/^(?:DISTINCT\b)/i,/^(?:DROP\b)/i,/^(?:ECHO\b)/i,/^(?:EDGE\b)/i,/^(?:END\b)/i,/^(?:ENUM\b)/i,/^(?:ELSE\b)/i,/^(?:ESCAPE\b)/i,/^(?:EXCEPT\b)/i,/^(?:EXEC\b)/i,/^(?:EXECUTE\b)/i,/^(?:EXISTS\b)/i,/^(?:EXPLAIN\b)/i,/^(?:FALSE\b)/i,/^(?:FETCH\b)/i,/^(?:FIRST\b)/i,/^(?:FOR\b)/i,/^(?:FOREIGN\b)/i,/^(?:FROM\b)/i,/^(?:FULL\b)/i,/^(?:GLOB\b)/i,/^(?:GO\b)/i,/^(?:GRAPH\b)/i,/^(?:GROUP\b)/i,/^(?:GROUPING\b)/i,/^(?:HAVING\b)/i,/^(?:HELP\b)/i,/^(?:IF\b)/i,/^(?:IDENTITY\b)/i,/^(?:IS\b)/i,/^(?:IN\b)/i,/^(?:INDEX\b)/i,/^(?:INDEXED\b)/i,/^(?:INNER\b)/i,/^(?:INSTEAD\b)/i,/^(?:INSERT\b)/i,/^(?:INSERTED\b)/i,/^(?:INTERSECT\b)/i,/^(?:INTERVAL\b)/i,/^(?:INTO\b)/i,/^(?:JOIN\b)/i,/^(?:KEY\b)/i,/^(?:LAST\b)/i,/^(?:LET\b)/i,/^(?:LEFT\b)/i,/^(?:LIKE\b)/i,/^(?:LIMIT\b)/i,/^(?:MATCHED\b)/i,/^(?:MATRIX\b)/i,/^(?:MAX(\s+)?(?=\())/i,/^(?:MAX(\s+)?(?=(,|\))))/i,/^(?:MIN(\s+)?(?=\())/i,/^(?:MERGE\b)/i,/^(?:MINUS\b)/i,/^(?:MODIFY\b)/i,/^(?:NATURAL\b)/i,/^(?:NEXT\b)/i,/^(?:NEW\b)/i,/^(?:NOCASE\b)/i,/^(?:NO\b)/i,/^(?:NOT\b)/i,/^(?:NULL\b)/i,/^(?:OFF\b)/i,/^(?:ON\b)/i,/^(?:ONLY\b)/i,/^(?:OF\b)/i,/^(?:OFFSET\b)/i,/^(?:OPEN\b)/i,/^(?:OPTION\b)/i,/^(?:OR\b)/i,/^(?:ORDER\b)/i,/^(?:OUTER\b)/i,/^(?:OVER\b)/i,/^(?:PATH\b)/i,/^(?:PARTITION\b)/i,/^(?:PERCENT\b)/i,/^(?:PIVOT\b)/i,/^(?:PLAN\b)/i,/^(?:PRIMARY\b)/i,/^(?:PRINT\b)/i,/^(?:PRIOR\b)/i,/^(?:QUERY\b)/i,/^(?:READ\b)/i,/^(?:RECORDSET\b)/i,/^(?:REDUCE\b)/i,/^(?:REFERENCES\b)/i,/^(?:REGEXP\b)/i,/^(?:REINDEX\b)/i,/^(?:RELATIVE\b)/i,/^(?:REMOVE\b)/i,/^(?:RENAME\b)/i,/^(?:REPEAT\b)/i,/^(?:REPLACE\b)/i,/^(?:REQUIRE\b)/i,/^(?:RESTORE\b)/i,/^(?:RETURN\b)/i,/^(?:RETURNS\b)/i,/^(?:RIGHT\b)/i,/^(?:ROLLBACK\b)/i,/^(?:ROLLUP\b)/i,/^(?:ROW\b)/i,/^(?:ROWS\b)/i,/^(?:SCHEMA(S)?)/i,/^(?:SEARCH\b)/i,/^(?:SEMI\b)/i,/^(?:SET\b)/i,/^(?:SETS\b)/i,/^(?:SHOW\b)/i,/^(?:SOME\b)/i,/^(?:SOURCE\b)/i,/^(?:STRATEGY\b)/i,/^(?:STORE\b)/i,/^(?:SUM\b)/i,/^(?:TABLE\b)/i,/^(?:TABLES\b)/i,/^(?:TARGET\b)/i,/^(?:TEMP\b)/i,/^(?:TEMPORARY\b)/i,/^(?:TEXTSTRING\b)/i,/^(?:THEN\b)/i,/^(?:TIMEOUT\b)/i,/^(?:TO\b)/i,/^(?:TOP\b)/i,/^(?:TRAN\b)/i,/^(?:TRANSACTION\b)/i,/^(?:TRIGGER\b)/i,/^(?:TRUE\b)/i,/^(?:TRUNCATE\b)/i,/^(?:UNION\b)/i,/^(?:UNIQUE\b)/i,/^(?:UNPIVOT\b)/i,/^(?:UPDATE\b)/i,/^(?:USE\b)/i,/^(?:USING\b)/i,/^(?:VALUE(S)?)/i,/^(?:VERTEX\b)/i,/^(?:VIEW\b)/i,/^(?:WHEN\b)/i,/^(?:WHERE\b)/i,/^(?:WHILE\b)/i,/^(?:WITH\b)/i,/^(?:WORK\b)/i,/^(?:(\d*[.])?\d+[eE]\d+)/i,/^(?:(\d*[.])?\d+)/i,/^(?:->)/i,/^(?:#)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:\*)/i,/^(?:\/)/i,/^(?:%)/i,/^(?:!===)/i,/^(?:===)/i,/^(?:!==)/i,/^(?:==)/i,/^(?:>=)/i,/^(?:&)/i,/^(?:\|)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:<>)/i,/^(?:<)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:\()/i,/^(?:\))/i,/^(?:@)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:\])/i,/^(?::-)/i,/^(?:\?-)/i,/^(?:\.\.)/i,/^(?:\.)/i,/^(?:,)/i,/^(?:::)/i,/^(?::)/i,/^(?:;)/i,/^(?:\$)/i,/^(?:\?)/i,/^(?:!)/i,/^(?:\^)/i,/^(?:~)/i,/^(?:[a-zA-Z_][a-zA-Z_0-9]*)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270],inclusive:!0}}};return e}();return ci.lexer=li,e.prototype=ci,ci.Parser=e,new e}();"undefined"!=typeof T&&"undefined"!=typeof exports&&(exports.parser=A,exports.Parser=A.Parser,exports.parse=function(){return A.parse.apply(A,arguments)},exports.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var t=T("fs").readFileSync(T("path").normalize(e[1]),"utf8");return exports.parser.parse(t)},"undefined"!=typeof module&&T.main===module&&exports.main(process.argv.slice(1))),w.prettyflag=!1,w.pretty=function(e,t){var n=w.prettyflag;w.prettyflag=!t;var r=w.parse(e).toString();return w.prettyflag=n,r};var C=w.utils={},k=C.escapeq=function(e){return e.replace(/\'/g,"\\'")},O=C.undoubleq=function(e){return e.replace(/(\')/g,"''")},R=C.doubleq=function(e){return e.replace(/(\'\')/g,"\\'")},N=(C.doubleqq=function(e){return e.replace(/\'/g,"'")},function(e){return e[0]===String.fromCharCode(65279)&&(e=e.substr(1)),e});C.global=function(){try{return Function("return this")()}catch(e){var t=self||window||t;if(t)return t;throw new Error("Unable to locate global object")}}();C.isNativeFunction=function(e){return"function"==typeof e&&!!~e.toString().indexOf("[native code]")};C.isWebWorker=function(){try{var e=C.global.importScripts;return C.isNativeFunction(e)}catch(t){return!1}}(),C.isNode=function(){try{return C.isNativeFunction(C.global.process.reallyExit)}catch(e){return!1}}(),C.isBrowser=function(){try{return C.isNativeFunction(C.global.location.reload)}catch(e){return!1}}(),C.isBrowserify=function(){return C.isBrowser&&"undefined"!=typeof process&&process.browser}(),C.isRequireJS=function(){return C.isBrowser&&"function"==typeof T&&"function"==typeof T.specified}(),C.isMeteor=function(){return"undefined"!=typeof Meteor&&Meteor.release}(),C.isMeteorClient=(C.isMeteorClient=function(){return C.isMeteor&&Meteor.isClient})(),C.isMeteorServer=function(){return C.isMeteor&&Meteor.isServer}(),C.isCordova=function(){return"object"==typeof cordova}(),C.hasIndexedDB=function(){return"undefined"!=typeof C.global.indexedDB}(),C.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)};var $=C.loadFile=function(e,t,n,r){var a;if(C.isNode||C.isMeteorServer);else if(C.isCordova)C.global.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(t){t.root.getFile(e,{create:!1},function(e){e.file(function(e){var t=new FileReader;t.onloadend=function(e){n(N(this.result))},t.readAsText(e)})})});else if("string"==typeof e)if("#"===e.substr(0,1)&&"undefined"!=typeof document)a=document.querySelector(e).textContent,n(a);else{var s=new XMLHttpRequest;s.onreadystatechange=function(){s.readyState===XMLHttpRequest.DONE&&(200===s.status?n&&n(N(s.responseText)):r&&r(s))},s.open("GET",e,t),s.responseType="text",s.send()}else if(e instanceof Event){var i=e.target.files,o=new FileReader;i[0].name;o.onload=function(e){var t=e.target.result;n(N(t))},o.readAsText(i[0])}},D=(C.loadBinaryFile=function(e,t,n,r){if(C.isNode||C.isMeteorServer);else if("string"==typeof e){var a=new XMLHttpRequest;a.open("GET",e,t),a.responseType="arraybuffer",a.onload=function(){for(var e=new Uint8Array(a.response),t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);n(t.join(""))},a.send()}else if(e instanceof Event){var s=e.target.files,i=new FileReader;s[0].name;i.onload=function(e){var t=e.target.result;n(t)},i.readAsArrayBuffer(s[0])}else e instanceof Blob&&n(e)},C.removeFile=function(e,t){if(!C.isNode)throw new Error("You can remove files only in Node.js and Apache Cordova")},C.deleteFile=function(e,t){},C.fileExists=function(e,t){if(!C.isNode)throw new Error("You can use exists() only in Node.js or Apach Cordova")},C.saveFile=function(e,t,n){var r=1;if(void 0===e)r=t,n&&(r=n(r));else if(C.isNode);else if(9===a()){var s=t.replace(/\r\n/g,"&#A;&#D;");s=s.replace(/\n/g,"&#D;"),s=s.replace(/\t/g,"&#9;");var i=C.global.open("about:blank","_blank");i.document.write(s),i.document.close(),i.document.execCommand("SaveAs",!1,e),i.close()}else{var o=new Blob([t],{type:"text/plain;charset=utf-8"});ve(o,e),n&&(r=n(r))}return r},C.hash=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t}),I=C.arrayUnion=function(e,t){var n=t.slice(0);return e.forEach(function(e){n.indexOf(e)<0&&n.push(e)}),n},L=C.arrayDiff=function(e,t){return e.filter(function(e){return t.indexOf(e)<0})},q=C.arrayIntersect=function(e,t){var n=[];return e.forEach(function(e){var r=!1;t.forEach(function(t){r=r||e===t}),r&&n.push(e)}),n},U=C.arrayUnionDeep=function(e,t){var n=t.slice(0);return e.forEach(function(e){var t=!1;n.forEach(function(n){t=t||V(e,n)}),t||n.push(e)}),n},F=C.arrayExceptDeep=function(e,t){var n=[];return e.forEach(function(e){var r=!1;t.forEach(function(t){r=r||V(e,t)}),r||n.push(e)}),n},M=C.arrayIntersectDeep=function(e,t){var n=[];return e.forEach(function(e){var r=!1;t.forEach(function(t){r=r||V(e,t,!0)}),r&&n.push(e)}),n},_=C.cloneDeep=function Ee(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e);var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=Ee(e[n]));return t},V=C.deepEqual=function(e,t){if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!V(e[n],t[n]))return!1}return!0}return e===t},j=C.distinctArray=function(e){for(var t={},n=0,r=e.length;n<r;n++){var a;a="object"==typeof e[n]?Object.keys(e[n]).sort().map(function(t){return t+"`"+e[n][t]}).join("`"):e[n],t[a]=e[n]}var s=[];for(var i in t)s.push(t[i]);return s},P=C.extend=function(e,t){e=e||{};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},B=C.flatArray=function(e){if(!e||0===e.length)return[];if("object"==typeof e&&e instanceof w.Recordset)return e.data.map(function(t){return t[e.columns[0].columnid]});var t=Object.keys(e[0])[0];return void 0===t?[]:e.map(function(e){return e[t]})};C.arrayOfArrays=function(e){return e.map(function(e){var t=[];for(var n in e)t.push(e[n]);return t})},C.xlsnc=function(e){var t=String.fromCharCode(65+e%26);return e>=26&&(e=(e/26|0)-1,t=String.fromCharCode(65+e%26)+t,e>26&&(e=(e/26|0)-1,t=String.fromCharCode(65+e%26)+t)),t},C.xlscn=function(e){var t=e.charCodeAt(0)-65;return e.length>1&&(t=26*(t+1)+e.charCodeAt(1)-65,e.length>2&&(t=26*(t+1)+e.charCodeAt(2)-65)),t},C.domEmptyChildren=function(e){for(var t=e.childNodes.length;t--;)e.removeChild(e.lastChild)},C.like=function(e,t,n){n||(n="");for(var r=0,a="^";r<e.length;){var s=e[r],i="";r<e.length-1&&(i=e[r+1]),s===n?(a+="\\"+i,r++):"["===s&&"^"===i?(a+="[^",r++):a+="["===s||"]"===s?s:"%"===s?".*":"_"===s?".":"/.*+?|(){}".indexOf(s)>-1?"\\"+s:s,r++}return a+="$",(""+(t||"")).toUpperCase().search(RegExp(a.toUpperCase()))>-1};C.glob=function(e,t){for(var n=0,r="^";n<t.length;){var a=t[n],s="";n<t.length-1&&(s=t[n+1]),"["===a&&"^"===s?(r+="[^",n++):r+="["===a||"]"===a?a:"*"===a?".*":"?"===a?".":"/.*+?|(){}".indexOf(a)>-1?"\\"+a:a,n++}return r+="$",(""+(e||"")).toUpperCase().search(RegExp(r.toUpperCase()))>-1},C.findAlaSQLPath=function(){if(C.isWebWorker)return"";if(C.isMeteorClient)return"/packages/dist/";if(C.isMeteorServer)return"assets/packages/dist/";if(C.isNode)return x;if(C.isBrowser)for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){if("alasql-worker.js"===e[t].src.substr(-16).toLowerCase())return e[t].src.substr(0,e[t].src.length-16);if("alasql-worker.min.js"===e[t].src.substr(-20).toLowerCase())return e[t].src.substr(0,e[t].src.length-20);if("alasql.js"===e[t].src.substr(-9).toLowerCase())return e[t].src.substr(0,e[t].src.length-9);if("alasql.min.js"===e[t].src.substr(-13).toLowerCase())return e[t].src.substr(0,e[t].src.length-13)}return""};var G=function(){var e=null;if(C.isNode||C.isBrowserify||C.isMeteorServer||(e=C.global.XLSX||null),null===e)throw new Error("Please include the xlsx.js library");return e},J=function(){var e=null;if(C.isNode||C.isBrowserify||C.isMeteorServer||(e=C.global.XLS||null),null===e)throw new Error("Please include the xlsjs library");return e};w.path=w.utils.findAlaSQLPath(),w.utils.uncomment=function(e){e=("__"+e+"__").split("");for(var t,n=!1,r=!1,a=!1,s=0,i=e.length;s<i;s++){var o="\\"!==e[s-1]||"\\"===e[s-2];n?e[s]===t&&o&&(n=!1):r?"*"===e[s]&&"/"===e[s+1]?(e[s]=e[s+1]="",r=!1,s++):e[s]="":a?("\n"!==e[s+1]&&"\r"!==e[s+1]||(a=!1),e[s]=""):'"'===e[s]||"'"===e[s]?(n=!0,t=e[s]):"["===e[s]&&"@"!==e[s-1]?(n=!0,t="]"):"/"===e[s]&&"*"===e[s+1]&&(e[s]="",r=!0)}return e=e.join("").slice(2,-2)},w.parser=A,w.parser.parseError=function(e,t){throw new Error("Have you used a reserved keyword without `escaping` it?\n"+e)},w.parse=function(e){return A.parse(w.utils.uncomment(e))},w.engines={},w.databases={},w.databasenum=0,w.options={},w.options.errorlog=!1,w.options.valueof=!1,w.options.dropifnotexists=!1,w.options.datetimeformat="sql",w.options.casesensitive=!0,w.options.logtarget="output",w.options.logprompt=!0,w.options.progress=!1,w.options.modifier=void 0,w.options.columnlookup=10,w.options.autovertex=!0,w.options.usedbo=!0,w.options.autocommit=!0,w.options.cache=!0,w.options.tsql=!0,w.options.mysql=!0,w.options.postgres=!0,w.options.oracle=!0,w.options.sqlite=!0,w.options.orientdb=!0,w.options.nocount=!1,w.options.nan=!1,w.options.joinstar="overwrite",w.vars={},w.declares={},w.prompthistory=[],w.plugins={},w.from={},w.into={},w.fn={},w.aggr={},w.busy=0,w.MAXSQLCACHESIZE=1e4,w.DEFAULTDATABASEID="alasql",w.lastid=0,w.buffer={},w.use=function(e){if(e||(e=w.DEFAULTDATABASEID),w.useid!==e){w.useid=e;var t=w.databases[w.useid];w.tables=t.tables,t.resetSqlCache(),w.options.usedbo&&(w.databases.dbo=t)}},w.exec=function(e,t,n,r){if("function"==typeof t&&(r=n,n=t,t={}),delete w.error,t=t||{},!w.options.errorlog)return w.dexec(w.useid,e,t,n,r);try{return w.dexec(w.useid,e,t,n,r)}catch(a){w.error=a,n&&n(null,w.error)}},w.dexec=function(e,t,n,r,a){var s,i=w.databases[e];if(w.options.cache){s=D(t);var o=i.sqlCache[s];if(o&&i.dbversion===o.dbversion)return o(n,r)}var u=w.parse(t);if(u.statements){if(0===u.statements.length)return 0;if(1===u.statements.length){if(u.statements[0].compile){var o=u.statements[0].compile(e);if(!o)return;o.sql=t,o.dbversion=i.dbversion,w.options.cache&&(i.sqlCacheSize>w.MAXSQLCACHESIZE&&i.resetSqlCache(),i.sqlCacheSize++,i.sqlCache[s]=o);var c=w.res=o(n,r,a);return c}w.precompile(u.statements[0],w.useid,n);var c=w.res=u.statements[0].execute(e,n,r,a);return c}return r?void w.adrun(e,u,n,r,a):w.drun(e,u,n,r,a)}},w.drun=function(e,t,n,r,a){var s=w.useid;s!==e&&w.use(e);for(var i=[],o=0,u=t.statements.length;o<u;o++)if(t.statements[o])if(t.statements[o].compile){var c=t.statements[o].compile(w.useid);i.push(w.res=c(n,null,a))}else w.precompile(t.statements[o],w.useid,n),i.push(w.res=t.statements[o].execute(w.useid,n));return s!==e&&w.use(s),r&&r(i),w.res=i,i},w.adrun=function(e,t,n,r,a){function s(l){void 0!==l&&c.push(l);var h=t.statements.shift();if(h)if(h.compile){var d=h.compile(w.useid);d(n,s,a),w.options.progress!==!1&&w.options.progress(o,i++)}else w.precompile(t.statements[0],w.useid,n),h.execute(w.useid,n,s),w.options.progress!==!1&&w.options.progress(o,i++);else u!==e&&w.use(u),r(c)}var i=0,o=t.statements.length;w.options.progress!==!1&&w.options.progress(o,i++);var u=w.useid;u!==e&&w.use(e);var c=[];s()},w.compile=function(e,t){t=t||w.useid;var n=w.parse(e);if(1===n.statements.length){var r=n.statements[0].compile(t);return r.promise=function(e){return new Promise(function(t,n){r(e,function(e,r){r?n(r):t(e)})})},r}throw new Error("Cannot compile, because number of statements in SQL is not equal to 1")},C.global.Promise||C.isNode||function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){J=e}function r(e){Y=e}function a(){return function(){process.nextTick(c)}}function s(){return function(){G(c)}}function i(){var e=0,t=new z(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function o(){var e=new MessageChannel;return e.port1.onmessage=c,function(){e.port2.postMessage(0)}}function u(){return function(){setTimeout(c,1)}}function c(){for(var e=0;X>e;e+=2){var t=te[e],n=te[e+1];t(n),te[e]=void 0,te[e+1]=void 0}X=0}function l(){try{var e=T,t=e("vertx");return G=t.runOnLoop||t.runOnContext,s()}catch(n){return u()}}function h(e,t){var n=this,r=new this.constructor(f);void 0===r[ae]&&I(r);var a=n._state;if(a){var s=arguments[a-1];Y(function(){N(a,r,s,n._result)})}else C(n,r,e,t);return r}function d(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return S(n,e),n}function f(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(t){return ue.error=t,ue}}function m(e,t,n,r){try{e.call(t,n,r)}catch(a){return a}}function v(e,t,n){Y(function(e){var r=!1,a=m(n,t,function(n){r||(r=!0,t!==n?S(e,n):x(e,n))},function(t){r||(r=!0,A(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&a&&(r=!0,A(e,a))},e)}function E(e,t){t._state===ie?x(e,t._result):t._state===oe?A(e,t._result):C(t,void 0,function(t){
S(e,t)},function(t){A(e,t)})}function y(e,n,r){n.constructor===e.constructor&&r===ne&&constructor.resolve===re?E(e,n):r===ue?A(e,ue.error):void 0===r?x(e,n):t(r)?v(e,n,r):x(e,n)}function S(t,n){t===n?A(t,p()):e(n)?y(t,n,g(n)):x(t,n)}function w(e){e._onerror&&e._onerror(e._result),k(e)}function x(e,t){e._state===se&&(e._result=t,e._state=ie,0!==e._subscribers.length&&Y(k,e))}function A(e,t){e._state===se&&(e._state=oe,e._result=t,Y(w,e))}function C(e,t,n,r){var a=e._subscribers,s=a.length;e._onerror=null,a[s]=t,a[s+ie]=n,a[s+oe]=r,0===s&&e._state&&Y(k,e)}function k(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,a,s=e._result,i=0;i<t.length;i+=3)r=t[i],a=t[i+n],r?N(n,r,a,s):a(s);e._subscribers.length=0}}function O(){this.error=null}function R(e,t){try{return e(t)}catch(n){return ce.error=n,ce}}function N(e,n,r,a){var s,i,o,u,c=t(r);if(c){if(s=R(r,a),s===ce?(u=!0,i=s.error,s=null):o=!0,n===s)return void A(n,b())}else s=a,o=!0;n._state!==se||(c&&o?S(n,s):u?A(n,i):e===ie?x(n,s):e===oe&&A(n,s))}function $(e,t){try{t(function(t){S(e,t)},function(t){A(e,t)})}catch(n){A(e,n)}}function D(){return le++}function I(e){e[ae]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function L(e){return new be(this,e).promise}function q(e){var t=this;return new t(W(e)?function(n,r){for(var a=e.length,s=0;a>s;s++)t.resolve(e[s]).then(n,r)}:function(e,t){t(new TypeError("You must pass an array to race."))})}function U(e){var t=this,n=new t(f);return A(n,e),n}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function _(e){this[ae]=D(),this._result=this._state=void 0,this._subscribers=[],f!==e&&("function"!=typeof e&&F(),this instanceof _?$(this,e):M())}function V(e,t){this._instanceConstructor=e,this.promise=new e(f),this.promise[ae]||I(this.promise),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&x(this.promise,this._result))):A(this.promise,j())}function j(){return new Error("Array Methods must be provided an Array")}function P(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=pe)}var B;B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var G,J,H,W=B,X=0,Y=function(e,t){te[X]=e,te[X+1]=t,X+=2,2===X&&(J?J(c):H())},K="undefined"!=typeof window?window:void 0,Q=K||{},z=Q.MutationObserver||Q.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3);H=Z?a():z?i():ee?o():void 0===K&&"function"==typeof T?l():u();var ne=h,re=d,ae=Math.random().toString(36).substring(16),se=void 0,ie=1,oe=2,ue=new O,ce=new O,le=0,he=L,de=q,fe=U,pe=_;_.all=he,_.race=de,_.resolve=re,_.reject=fe,_._setScheduler=n,_._setAsap=r,_._asap=Y,_.prototype={constructor:_,then:ne,"catch":function(e){return this.then(null,e)}};var be=V;V.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===se&&e>n;n++)this._eachEntry(t[n],n)},V.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===re){var a=g(e);if(a===ne&&e._state!==se)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(n===pe){var s=new n(f);y(s,e,a),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(r(e),t)},V.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===se&&(this._remaining--,e===oe?A(r,n):this._result[t]=n),0===this._remaining&&x(r,this._result)},V.prototype._willSettleAt=function(e,t){var n=this;C(e,void 0,function(e){n._settledAt(ie,t,e)},function(e){n._settledAt(oe,t,e)})};var ge=P,me={Promise:pe,polyfill:ge};"function"==typeof define&&define.amd?define(function(){return me}):"undefined"!=typeof module&&module.exports?module.exports=me:"undefined"!=typeof this&&(this.ES6Promise=me),ge()}.call(this);var H=function(e,t,n,r){return new C.global.Promise(function(a,s){w(e,t,function(e,t){t?s(t):(n&&r&&w.options.progress!==!1&&w.options.progress(n,r),a(e))})})},W=function(e){if(!(e.length<1)){for(var t,n,r,a=[],s=0;s<e.length;s++){if(t=e[s],"string"==typeof t&&(t=[t]),!C.isArray(t)||t.length<1||2<t.length)throw new Error("Error in .promise parameter");n=t[0],r=t[1]||void 0,a.push(H(n,r,s,e.length))}return C.global.Promise.all(a)}};w.promise=function(e,t){if("undefined"==typeof Promise)throw new Error("Please include a Promise/A+ library");if("string"==typeof e)return H(e,t);if(!C.isArray(e)||e.length<1||"undefined"!=typeof t)throw new Error("Error in .promise parameters");return W(e)};var X=w.Database=function(e){var t=this;if(t===w)if(e){if(t=w.databases[e],w.databases[e]=t,!t)throw new Error('Database "'+e+'" not found')}else t=w.databases.alasql,w.options.tsql&&(w.databases.tempdb=w.databases.alasql);return e||(e="db"+w.databasenum++),t.databaseid=e,w.databases[e]=t,t.dbversion=0,t.tables={},t.views={},t.triggers={},t.indices={},t.objects={},t.counter=0,t.resetSqlCache(),t};X.prototype.resetSqlCache=function(){this.sqlCache={},this.sqlCacheSize=0},X.prototype.exec=function(e,t,n){return w.dexec(this.databaseid,e,t,n)},X.prototype.transaction=function(e){var t=new w.Transaction(this.databaseid),n=e(t);return n};var Y=w.Transaction=function(e){return this.transactionid=Date.now(),this.databaseid=e,this.commited=!1,this.dbversion=w.databases[e].dbversion,this.bank=JSON.stringify(w.databases[e]),this};Y.prototype.commit=function(){this.commited=!0,w.databases[this.databaseid].dbversion=Date.now(),delete this.bank},Y.prototype.rollback=function(){if(this.commited)throw new Error("Transaction already commited");w.databases[this.databaseid]=JSON.parse(this.bank),delete this.bank},Y.prototype.exec=function(e,t,n){return w.dexec(this.databaseid,e,t,n)},Y.prototype.executeSQL=Y.prototype.exec;var K=w.Table=function(e){this.data=[],this.columns=[],this.xcolumns={},this.inddefs={},this.indices={},this.uniqs={},this.uniqdefs={},this.identities={},this.checks=[],this.checkfns=[],this.beforeinsert={},this.afterinsert={},this.insteadofinsert={},this.beforedelete={},this.afterdelete={},this.insteadofdelete={},this.beforeupdate={},this.afterupdate={},this.insteadofupdate={},P(this,e)};K.prototype.indexColumns=function(){var e=this;e.xcolumns={},e.columns.forEach(function(t){e.xcolumns[t.columnid]=t})};var Q=(w.View=function(e){this.columns=[],this.xcolumns={},this.query=[],P(this,e)},w.Query=function(e){this.alasql=w,this.columns=[],this.xcolumns={},this.selectGroup=[],this.groupColumns={},P(this,e)}),z=(w.Recordset=function(e){P(this,e)},A.yy=w.yy={});z.extend=P,z.casesensitive=w.options.casesensitive;var Z=z.Base=function(e){return z.extend(this,e)};Z.prototype.toString=function(){},Z.prototype.toType=function(){},Z.prototype.toJS=function(){},Z.prototype.compile=r,Z.prototype.exec=function(){},Z.prototype.compile=r,Z.prototype.exec=function(){},z.Statements=function(e){return z.extend(this,e)},z.Statements.prototype.toString=function(){return this.statements.map(function(e){return e.toString()}).join("; ")},z.Statements.prototype.compile=function(e){var t=this.statements.map(function(t){return t.compile(e)});return 1===t.length?t[0]:function(e,n){var r=t.map(function(t){return t(e)});return n&&n(r),r}},z.Search=function(e){return z.extend(this,e)},z.Search.prototype.toString=function(){var e="SEARCH ";return this.selectors&&(e+=this.selectors.toString()),this.from&&(e+="FROM "+this.from.toString()),e},z.Search.prototype.toJS=function(e){var t="this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")";return t},z.Search.prototype.compile=function(e){var t=e,n=this,r=function(e,a){var s;return i.bind(n)(t,e,function(e){s=f(r.query,e),a&&(s=a(s))}),s};return r.query={},r},w.srch={},w.srch.PROP=function(e,t,n){if("XML"===n.mode){var r=[];return e.children.forEach(function(e){e.name.toUpperCase()===t[0].toUpperCase()&&r.push(e)}),r.length>0?{status:1,values:r}:{status:-1,values:[]}}return"object"!=typeof e||null===e||"object"!=typeof t||"undefined"==typeof e[t[0]]?{status:-1,values:[]}:{status:1,values:[e[t[0]]]}},w.srch.APROP=function(e,t){return"object"!=typeof e||null===e||"object"!=typeof t||"undefined"==typeof e[t[0]]?{status:1,values:[void 0]}:{status:1,values:[e[t[0]]]}},w.srch.EQ=function(e,t,n,r){var a=t[0].toJS("x",""),s=new Function("x,alasql,params","return "+a);return e===s(e,w,r)?{status:1,values:[e]}:{status:-1,values:[]}},w.srch.LIKE=function(e,t,n,r){var a=t[0].toJS("x",""),s=new Function("x,alasql,params","return "+a);return e.toUpperCase().match(new RegExp("^"+s(e,w,r).toUpperCase().replace(/%/g,".*").replace(/\?|_/g,".")+"$"),"g")?{status:1,values:[e]}:{status:-1,values:[]}},w.srch.ATTR=function(e,t,n){if("XML"===n.mode)return"undefined"==typeof t?{status:1,values:[e.attributes]}:"object"==typeof e&&"object"==typeof e.attributes&&"undefined"!=typeof e.attributes[t[0]]?{status:1,values:[e.attributes[t[0]]]}:{status:-1,values:[]};throw new Error("ATTR is not using in usual mode")},w.srch.CONTENT=function(e,t,n){if("XML"===n.mode)return{status:1,values:[e.content]};throw new Error("ATTR is not using in usual mode")},w.srch.SHARP=function(e,t){var n=w.databases[w.useid].objects[t[0]];return"undefined"!=typeof e&&e===n?{status:1,values:[e]}:{status:-1,values:[]}},w.srch.PARENT=function(){return console.log("PARENT not implemented",arguments),{status:-1,values:[]}},w.srch.CHILD=function(e,t,n){return"object"==typeof e?e instanceof Array?{status:1,values:e}:"XML"===n.mode?{status:1,values:Object.keys(e.children).map(function(t){return e.children[t]})}:{status:1,values:Object.keys(e).map(function(t){return e[t]})}:{status:1,values:[]}},w.srch.KEYS=function(e){return"object"==typeof e&&null!==e?{status:1,values:Object.keys(e)}:{status:1,values:[]}},w.srch.WHERE=function(e,t,n,r){var a=t[0].toJS("x",""),s=new Function("x,alasql,params","return "+a);return s(e,w,r)?{status:1,values:[e]}:{status:-1,values:[]}},w.srch.NAME=function(e,t){return e.name===t[0]?{status:1,values:[e]}:{status:-1,values:[]}},w.srch.CLASS=function(e,t){return e.$class==t?{status:1,values:[e]}:{status:-1,values:[]}},w.srch.VERTEX=function(e){return"VERTEX"===e.$node?{status:1,values:[e]}:{status:-1,values:[]}},w.srch.INSTANCEOF=function(e,t){return e instanceof w.fn[t[0]]?{status:1,values:[e]}:{status:-1,values:[]}},w.srch.EDGE=function(e){return"EDGE"===e.$node?{status:1,values:[e]}:{status:-1,values:[]}},w.srch.EX=function(e,t,n,r){var a=t[0].toJS("x",""),s=new Function("x,alasql,params","return "+a);return{status:1,values:[s(e,w,r)]}},w.srch.RETURN=function(e,t,n,r){var a={};return t&&t.length>0&&t.forEach(function(t){var n=t.toJS("x",""),s=new Function("x,alasql,params","return "+n);"undefined"==typeof t.as&&(t.as=t.toString()),a[t.as]=s(e,w,r)}),{status:1,values:[a]}},w.srch.REF=function(e){return{status:1,values:[w.databases[w.useid].objects[e]]}},w.srch.OUT=function(e){if(e.$out&&e.$out.length>0){var t=e.$out.map(function(e){return w.databases[w.useid].objects[e]});return{status:1,values:t}}return{status:-1,values:[]}},w.srch.OUTOUT=function(e){if(e.$out&&e.$out.length>0){var t=[];return e.$out.forEach(function(e){var n=w.databases[w.useid].objects[e];n&&n.$out&&n.$out.length>0&&n.$out.forEach(function(e){t=t.concat(w.databases[w.useid].objects[e])})}),{status:1,values:t}}return{status:-1,values:[]}},w.srch.IN=function(e){if(e.$in&&e.$in.length>0){var t=e.$in.map(function(e){return w.databases[w.useid].objects[e]});return{status:1,values:t}}return{status:-1,values:[]}},w.srch.ININ=function(e){if(e.$in&&e.$in.length>0){var t=[];return e.$in.forEach(function(e){var n=w.databases[w.useid].objects[e];n&&n.$in&&n.$in.length>0&&n.$in.forEach(function(e){t=t.concat(w.databases[w.useid].objects[e])})}),{status:1,values:t}}return{status:-1,values:[]}},w.srch.AS=function(e,t){return w.vars[t[0]]=e,{status:1,values:[e]}},w.srch.AT=function(e,t){var n=w.vars[t[0]];return{status:1,values:[n]}},w.srch.CLONEDEEP=function(e){var t=_(e);return{status:1,values:[t]}},w.srch.SET=function(e,t,n,r){var a=t.map(function(e){return"@"===e.method?"alasql.vars['"+e.variable+"']="+e.expression.toJS("x",""):"$"===e.method?"params['"+e.variable+"']="+e.expression.toJS("x",""):"x['"+e.column.columnid+"']="+e.expression.toJS("x","")}).join(";"),s=new Function("x,params,alasql",a);return s(e,r,w),{status:1,values:[e]}},w.srch.ROW=function(e,t,n,r){var a="var y;return [";a+=t.map(function(e){return e.toJS("x","")}).join(","),a+="]";var s=new Function("x,params,alasql",a),i=s(e,r,w);return{status:1,values:[i]}},w.srch.D3=function(e){return"VERTEX"!==e.$node&&"EDGE"===e.$node&&(e.source=e.$in[0],e.target=e.$out[0]),{status:1,values:[e]}};var ee=function(e){if(e){if(e&&1===e.length&&e[0].expression&&"function"==typeof e[0].expression){var t=e[0].expression;return function(e,n){var r=t(e),a=t(n);return r>a?1:r===a?0:-1}}var n="",r="";return e.forEach(function(e){var t="";if(e.expression instanceof z.NumValue&&(e.expression=self.columns[e.expression.value-1]),e.expression instanceof z.Column){var a=e.expression.columnid;w.options.valueof&&(t=".valueOf()"),e.nocase&&(t+=".toUpperCase()"),"_"===a?(n+="if(a"+t+("ASC"===e.direction?">":"<")+"b"+t+")return 1;",n+="if(a"+t+"==b"+t+"){"):(n+="if((a['"+a+"']||'')"+t+("ASC"===e.direction?">":"<")+"(b['"+a+"']||'')"+t+")return 1;",n+="if((a['"+a+"']||'')"+t+"==(b['"+a+"']||'')"+t+"){")}else t=".valueOf()",e.nocase&&(t+=".toUpperCase()"),n+="if(("+e.toJS("a","")+"||'')"+t+("ASC"===e.direction?">(":"<(")+e.toJS("b","")+"||'')"+t+")return 1;",n+="if(("+e.toJS("a","")+"||'')"+t+"==("+e.toJS("b","")+"||'')"+t+"){";r+="}"}),n+="return 0;",n+=r+"return -1",new Function("a,b",n)}};w.srch.ORDERBY=function(e,t){var n=e.sort(ee(t));return{status:1,values:n}};var te=function(e){for(var t=0,n=e.sources.length;t<n;t++){var r=e.sources[t];if(delete r.ix,t>0&&"ix"==r.optimization&&r.onleftfn&&r.onrightfn){if(r.databaseid&&w.databases[r.databaseid].tables[r.tableid]){w.databases[r.databaseid].tables[r.tableid].indices||(e.database.tables[r.tableid].indices={});var a=w.databases[r.databaseid].tables[r.tableid].indices[D(r.onrightfns+"`"+r.srcwherefns)];!w.databases[r.databaseid].tables[r.tableid].dirty&&a&&(r.ix=a)}if(!r.ix){r.ix={};for(var s,i={},o=0,u=r.data.length;(s=r.data[o])||r.getfn&&(s=r.getfn(o))||o<u;){if(r.getfn&&!r.dontcache&&(r.data[o]=s),i[r.alias||r.tableid]=s,r.srcwherefn(i,e.params,w)){var c=r.onrightfn(i,e.params,w),l=r.ix[c];l||(l=r.ix[c]=[]),l.push(s)}o++}r.databaseid&&w.databases[r.databaseid].tables[r.tableid]&&(w.databases[r.databaseid].tables[r.tableid].indices[D(r.onrightfns+"`"+r.srcwherefns)]=r.ix)}}else if(r.wxleftfn){if(w.databases[r.databaseid].engineid||(a=w.databases[r.databaseid].tables[r.tableid].indices[D(r.wxleftfns+"`")]),!w.databases[r.databaseid].tables[r.tableid].dirty&&a)r.ix=a,r.data=r.ix[r.wxrightfn(null,e.params,w)];else{for(r.ix={},i={},o=0,u=r.data.length;(s=r.data[o])||r.getfn&&(s=r.getfn(o))||o<u;)r.getfn&&!r.dontcache&&(r.data[o]=s),i[r.alias||r.tableid]=r.data[o],c=r.wxleftfn(i,e.params,w),l=r.ix[c],l||(l=r.ix[c]=[]),l.push(r.data[o]),o++;w.databases[r.databaseid].engineid||(w.databases[r.databaseid].tables[r.tableid].indices[D(r.wxleftfns+"`")]=r.ix)}r.srcwherefns&&(r.data?(i={},r.data=r.data.filter(function(t){return i[r.alias]=t,r.srcwherefn(i,e.params,w)})):r.data=[])}else if(r.srcwherefns&&!r.dontcache)if(r.data){var i={};r.data=r.data.filter(function(t){return i[r.alias]=t,r.srcwherefn(i,e.params,w)}),i={},o=0,u=r.data.length;for(var h=[];(s=r.data[o])||r.getfn&&(s=r.getfn(o))||o<u;)r.getfn&&!r.dontcache&&(r.data[o]=s),i[r.alias]=s,r.srcwherefn(i,e.params,w)&&h.push(s),o++;r.data=h}else r.data=[];r.databaseid&&w.databases[r.databaseid].tables[r.tableid]}};z.Select=function(e){return z.extend(this,e)},z.Select.prototype.toString=function(){var e="";return this.explain&&(e+="EXPLAIN "),e+="SELECT ",this.modifier&&(e+=this.modifier+" "),this.top&&(e+="TOP "+this.top.value+" ",this.percent&&(e+="PERCENT ")),e+=this.columns.map(function(e){var t=e.toString();return"undefined"!=typeof e.as&&(t+=" AS "+e.as),t}).join(", "),this.from&&(e+=" FROM "+this.from.map(function(e){var t=e.toString();return e.as&&(t+=" AS "+e.as),t}).join(",")),this.joins&&(e+=this.joins.map(function(e){var t=" ";if(e.joinmode&&(t+=e.joinmode+" "),e.table)t+="JOIN "+e.table.toString();else{if(!(e instanceof z.Apply))throw new Error("Wrong type in JOIN mode");t+=e.toString()}return e.using&&(t+=" USING "+e.using.toString()),e.on&&(t+=" ON "+e.on.toString()),t})),this.where&&(e+=" WHERE "+this.where.toString()),this.group&&this.group.length>0&&(e+=" GROUP BY "+this.group.map(function(e){return e.toString()}).join(", ")),this.having&&(e+=" HAVING "+this.having.toString()),this.order&&this.order.length>0&&(e+=" ORDER BY "+this.order.map(function(e){return e.toString()}).join(", ")),this.limit&&(e+=" LIMIT "+this.limit.value),this.offset&&(e+=" OFFSET "+this.offset.value),this.union&&(e+=" UNION "+(this.corresponding?"CORRESPONDING ":"")+this.union.toString()),this.unionall&&(e+=" UNION ALL "+(this.corresponding?"CORRESPONDING ":"")+this.unionall.toString()),this.except&&(e+=" EXCEPT "+(this.corresponding?"CORRESPONDING ":"")+this.except.toString()),this.intersect&&(e+=" INTERSECT "+(this.corresponding?"CORRESPONDING ":"")+this.intersect.toString()),e},z.Select.prototype.toJS=function(e){var t="alasql.utils.flatArray(this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+"))[0]";return t},z.Select.prototype.compile=function(e){var t=w.databases[e],n=new Q;if(n.removeKeys=[],n.aggrKeys=[],n.explain=this.explain,n.explaination=[],n.explid=1,n.modifier=this.modifier,n.database=t,this.compileWhereExists(n),this.compileQueries(n),n.defcols=this.compileDefCols(n,e),n.fromfn=this.compileFrom(n),this.joins&&this.compileJoins(n),n.rownums=[],this.compileSelectGroup0(n),this.group||n.selectGroup.length>0?n.selectgfns=this.compileSelectGroup1(n):n.selectfns=this.compileSelect1(n),this.compileRemoveColumns(n),this.where&&this.compileWhereJoins(n),n.wherefn=this.compileWhere(n),(this.group||n.selectGroup.length>0)&&(n.groupfn=this.compileGroup(n)),this.having&&(n.havingfn=this.compileHaving(n)),this.order&&(n.orderfn=this.compileOrder(n)),this.group||n.selectGroup.length>0?n.selectgfn=this.compileSelectGroup2(n):n.selectfn=this.compileSelect2(n),n.distinct=this.distinct,this.pivot&&(n.pivotfn=this.compilePivot(n)),this.unpivot&&(n.pivotfn=this.compileUnpivot(n)),this.top?n.limit=this.top.value:this.limit&&(n.limit=this.limit.value,this.offset&&(n.offset=this.offset.value)),n.percent=this.percent,n.corresponding=this.corresponding,this.union?(n.unionfn=this.union.compile(e),this.union.order?n.orderfn=this.union.compileOrder(n):n.orderfn=null):this.unionall?(n.unionallfn=this.unionall.compile(e),this.unionall.order?n.orderfn=this.unionall.compileOrder(n):n.orderfn=null):this.except?(n.exceptfn=this.except.compile(e),this.except.order?n.orderfn=this.except.compileOrder(n):n.orderfn=null):this.intersect&&(n.intersectfn=this.intersect.compile(e),this.intersect.order?n.intersectfn=this.intersect.compileOrder(n):n.orderfn=null),this.into){if(this.into instanceof z.Table)w.options.autocommit&&w.databases[this.into.databaseid||e].engineid?n.intoallfns='return alasql.engines["'+w.databases[this.into.databaseid||e].engineid+'"].intoTable("'+(this.into.databaseid||e)+'","'+this.into.tableid+'",this.data, columns, cb);':n.intofns="alasql.databases['"+(this.into.databaseid||e)+"'].tables['"+this.into.tableid+"'].data.push(r);";else if(this.into instanceof z.VarValue)n.intoallfns='alasql.vars["'+this.into.variable+'"]=this.data;res=this.data.length;if(cb)res=cb(res);return res;';else if(this.into instanceof z.FuncValue){var r="return alasql.into['"+this.into.funcid.toUpperCase()+"'](";this.into.args&&this.into.args.length>0?(r+=this.into.args[0].toJS()+",",r+=this.into.args.length>1?this.into.args[1].toJS()+",":"undefined,"):r+="undefined, undefined,",n.intoallfns=r+"this.data,columns,cb)"}else this.into instanceof z.ParamValue&&(n.intofns="params['"+this.into.param+"'].push(r)");n.intofns?n.intofn=new Function("r,i,params,alasql","var y;"+n.intofns):n.intoallfns&&(n.intoallfn=new Function("columns,cb,params,alasql","var y;"+n.intoallfns))}var a=function(e,t,r){n.params=e;var a=o(n,r,function(e){if(n.rownums.length>0)for(var r=0,a=e.length;r<a;r++)for(var s=0,i=n.rownums.length;s<i;s++)e[r][n.rownums[s]]=r+1;var o=f(n,e);return t&&t(o),o});return a};return a.query=n,a},z.Select.prototype.execute=function(e,t,n){return this.compile(e)(t,n)},z.ExistsValue=function(e){return z.extend(this,e)},z.ExistsValue.prototype.toString=function(){return"EXISTS("+this.value.toString()+")"},z.ExistsValue.prototype.toType=function(){return"boolean"},z.ExistsValue.prototype.toJS=function(e,t,n){return"this.existsfn["+this.existsidx+"](params,null,"+e+").data.length"},z.Select.prototype.compileWhereExists=function(e){this.exists&&(e.existsfn=this.exists.map(function(t){var n=t.compile(e.database.databaseid);return n.query.modifier="RECORDSET",n}))},z.Select.prototype.compileQueries=function(e){this.queries&&(e.queriesfn=this.queries.map(function(t){var n=t.compile(e.database.databaseid);return n.query.modifier="RECORDSET",n}))},w.precompile=function(e,t,n){e&&(e.params=n,e.queries&&(e.queriesfn=e.queries.map(function(n){var r=n.compile(t||e.database.databaseid);return r.query.modifier="RECORDSET",r})),e.exists&&(e.existsfn=e.exists.map(function(n){var r=n.compile(t||e.database.databaseid);return r.query.modifier="RECORDSET",r})))},z.Select.prototype.compileFrom=function(e){var t=this;e.sources=[],e.aliases={},t.from&&(t.from.forEach(function(t){var r=t.as||t.tableid;if(t instanceof z.Table)e.aliases[r]={tableid:t.tableid,databaseid:t.databaseid||e.database.databaseid,type:"table"};else if(t instanceof z.Select)e.aliases[r]={type:"subquery"};else if(t instanceof z.Search)e.aliases[r]={type:"subsearch"};else if(t instanceof z.ParamValue)e.aliases[r]={type:"paramvalue"};else if(t instanceof z.FuncValue)e.aliases[r]={type:"funcvalue"};else if(t instanceof z.VarValue)e.aliases[r]={type:"varvalue"};else if(t instanceof z.FromData)e.aliases[r]={type:"fromdata"};else if(t instanceof z.Json)e.aliases[r]={type:"json"};else{if(!t.inserted)throw new Error("Wrong table at FROM");e.aliases[r]={type:"inserted"}}var a={alias:r,databaseid:t.databaseid||e.database.databaseid,tableid:t.tableid,joinmode:"INNER",onmiddlefn:n,srcwherefns:"",srcwherefn:n};if(t instanceof z.Table)a.columns=w.databases[a.databaseid].tables[a.tableid].columns,w.options.autocommit&&w.databases[a.databaseid].engineid&&!w.databases[a.databaseid].tables[a.tableid].view?a.datafn=function(e,t,n,r,s){return s.engines[s.databases[a.databaseid].engineid].fromTable(a.databaseid,a.tableid,n,r,e)}:w.databases[a.databaseid].tables[a.tableid].view?a.datafn=function(e,t,n,r,s){var i=s.databases[a.databaseid].tables[a.tableid].select(t);return n&&(i=n(i,r,e)),i}:a.datafn=function(e,t,n,r,s){var i=s.databases[a.databaseid].tables[a.tableid].data;return n&&(i=n(i,r,e)),i};else if(t instanceof z.Select)a.subquery=t.compile(e.database.databaseid),"undefined"==typeof a.subquery.query.modifier&&(a.subquery.query.modifier="RECORDSET"),a.columns=a.subquery.query.columns,a.datafn=function(e,t,n,r,s){var i;return a.subquery(e.params,function(t){return i=t.data,n&&(i=n(i,r,e)),i}),i};else if(t instanceof z.Search)a.subsearch=t,a.columns=[],a.datafn=function(e,t,n,r,s){var i;return a.subsearch.execute(e.database.databaseid,e.params,function(t){return i=t,n&&(i=n(i,r,e)),i}),i};else if(t instanceof z.ParamValue){var s="var res = alasql.prepareFromData(params['"+t.param+"']";t.array&&(s+=",true"),s+=");if(cb)res=cb(res,idx,query);return res",a.datafn=new Function("query,params,cb,idx,alasql",s)}else if(t.inserted){var s="var res = alasql.prepareFromData(alasql.inserted";t.array&&(s+=",true"),s+=");if(cb)res=cb(res,idx,query);return res",a.datafn=new Function("query,params,cb,idx,alasql",s)}else if(t instanceof z.Json){var s="var res = alasql.prepareFromData("+t.toJS();t.array&&(s+=",true"),s+=");if(cb)res=cb(res,idx,query);return res",a.datafn=new Function("query,params,cb,idx,alasql",s)}else if(t instanceof z.VarValue){var s="var res = alasql.prepareFromData(alasql.vars['"+t.variable+"']";t.array&&(s+=",true"),s+=");if(cb)res=cb(res,idx,query);return res",a.datafn=new Function("query,params,cb,idx,alasql",s)}else if(t instanceof z.FuncValue){var i="var res=alasql.from['"+t.funcid.toUpperCase()+"'](";t.args&&t.args.length>0?(i+=t.args[0]?t.args[0].toJS("query.oldscope")+",":"null,",i+=t.args[1]?t.args[1].toJS("query.oldscope")+",":"null,"):i+="null,null,",i+="cb,idx,query",i+=");/*if(cb)res=cb(res,idx,query);*/return res",a.datafn=new Function("query, params, cb, idx, alasql",i)}else{if(!(t instanceof z.FromData))throw new Error("Wrong table at FROM");a.datafn=function(e,n,r,a,s){var i=t.data;return r&&(i=r(i,a,e)),i}}e.sources.push(a)}),e.defaultTableid=e.sources[0].alias)},w.prepareFromData=function(e,t){var n=e;if("string"==typeof e){if(n=e.split(/\r?\n/),t)for(var r=0,a=n.length;r<a;r++)n[r]=[n[r]]}else if(t){n=[];for(var r=0,a=e.length;r<a;r++)n.push([e[r]])}else if("object"==typeof e&&!(e instanceof Array))if("undefined"!=typeof Mongo&&"undefined"!=typeof Mongo.Collection&&e instanceof Mongo.Collection)n=e.find().fetch();else{n=[];for(var s in e)e.hasOwnProperty(s)&&n.push([s,e[s]])}return n},z.Select.prototype.compileJoins=function(e){this.joins.forEach(function(t){if("CROSS"==t.joinmode){if(t.using||t.on)throw new Error("CROSS JOIN cannot have USING or ON clauses");"INNER"==t.joinmode}var r,a;if(t instanceof z.Apply)r={alias:t.as,applymode:t.applymode,onmiddlefn:n,srcwherefns:"",srcwherefn:n,columns:[]},r.applyselect=t.select.compile(e.database.databaseid),r.columns=r.applyselect.query.columns,r.datafn=function(e,t,n,r,a){var s;return n&&(s=n(s,r,e)),s},e.sources.push(r);else{if(t.table){if(a=t.table,r={alias:t.as||a.tableid,databaseid:a.databaseid||e.database.databaseid,tableid:a.tableid,joinmode:t.joinmode,onmiddlefn:n,srcwherefns:"",srcwherefn:n,columns:[]},!w.databases[r.databaseid].tables[r.tableid])throw new Error("Table '"+r.tableid+"' is not exists in database '"+r.databaseid)+"'";r.columns=w.databases[r.databaseid].tables[r.tableid].columns,w.options.autocommit&&w.databases[r.databaseid].engineid?r.datafn=function(e,t,n,a,s){return s.engines[s.databases[r.databaseid].engineid].fromTable(r.databaseid,r.tableid,n,a,e)}:w.databases[r.databaseid].tables[r.tableid].view?r.datafn=function(e,t,n,a,s){var i=s.databases[r.databaseid].tables[r.tableid].select(t);return n&&(i=n(i,a,e)),i}:r.datafn=function(e,t,n,a,s){var i=s.databases[r.databaseid].tables[r.tableid].data;return n&&(i=n(i,a,e)),i},e.aliases[r.alias]={tableid:a.tableid,databaseid:a.databaseid||e.database.databaseid}}else if(t.select){var a=t.select;r={alias:t.as,joinmode:t.joinmode,onmiddlefn:n,srcwherefns:"",srcwherefn:n,columns:[]},r.subquery=a.compile(e.database.databaseid),"undefined"==typeof r.subquery.query.modifier&&(r.subquery.query.modifier="RECORDSET"),r.columns=r.subquery.query.columns,r.datafn=function(e,t,n,a,s){return r.subquery(e.params,null,n,a).data},e.aliases[r.alias]={type:"subquery"}}else if(t.param){r={alias:t.as,joinmode:t.joinmode,onmiddlefn:n,srcwherefns:"",srcwherefn:n};var s=t.param.param,i="var res=alasql.prepareFromData(params['"+s+"']";t.array&&(i+=",true"),i+=");if(cb)res=cb(res, idx, query);return res",r.datafn=new Function("query,params,cb,idx, alasql",i),e.aliases[r.alias]={type:"paramvalue"}}else if(t.variable){r={alias:t.as,joinmode:t.joinmode,onmiddlefn:n,srcwherefns:"",srcwherefn:n};var i="var res=alasql.prepareFromData(alasql.vars['"+t.variable+"']";t.array&&(i+=",true"),i+=");if(cb)res=cb(res, idx, query);return res",r.datafn=new Function("query,params,cb,idx, alasql",i),e.aliases[r.alias]={type:"varvalue"}}else if(t.funcid){r={alias:t.as,joinmode:t.joinmode,onmiddlefn:n,srcwherefns:"",srcwherefn:n};var o="var res=alasql.from['"+js.funcid.toUpperCase()+"'](";t.args&&t.args.length>0?(o+=t.args[0]?t.args[0].toJS("query.oldscope")+",":"null,",o+=t.args[1]?t.args[1].toJS("query.oldscope")+",":"null,"):o+="null,null,",o+="cb,idx,query",o+=");/*if(cb)res=cb(res,idx,query);*/return res",r.datafn=new Function("query, params, cb, idx, alasql",o),e.aliases[r.alias]={type:"funcvalue"}}var u=r.alias;if(t.natural){if(t.using||t.on)throw new Error("NATURAL JOIN cannot have USING or ON clauses");if(e.sources.length>0){var c=e.sources[e.sources.length-1],l=w.databases[c.databaseid].tables[c.tableid],h=w.databases[r.databaseid].tables[r.tableid];if(!l||!h)throw new Error("In this version of Alasql NATURAL JOIN works for tables with predefined columns only");var d=l.columns.map(function(e){return e.columnid}),f=h.columns.map(function(e){return e.columnid});t.using=q(d,f).map(function(e){return{columnid:e}})}}if(t.using){var c=e.sources[e.sources.length-1];r.onleftfns=t.using.map(function(e){return"p['"+(c.alias||c.tableid)+"']['"+e.columnid+"']"}).join('+"`"+'),r.onleftfn=new Function("p,params,alasql","var y;return "+r.onleftfns),r.onrightfns=t.using.map(function(e){return"p['"+(r.alias||r.tableid)+"']['"+e.columnid+"']"}).join('+"`"+'),r.onrightfn=new Function("p,params,alasql","var y;return "+r.onrightfns),r.optimization="ix"}else if(t.on)if(t.on instanceof z.Op&&"="==t.on.op&&!t.on.allsome){r.optimization="ix";var p="",b="",g="",m=!1,v=t.on.left.toJS("p",e.defaultTableid,e.defcols),E=t.on.right.toJS("p",e.defaultTableid,e.defcols);v.indexOf("p['"+u+"']")>-1&&!(E.indexOf("p['"+u+"']")>-1)?(v.match(/p\[\'.*?\'\]/g)||[]).every(function(e){return e=="p['"+u+"']"})?b=v:m=!0:!(v.indexOf("p['"+u+"']")>-1)&&E.indexOf("p['"+u+"']")>-1&&(E.match(/p\[\'.*?\'\]/g)||[]).every(function(e){return e=="p['"+u+"']"})?p=v:m=!0,E.indexOf("p['"+u+"']")>-1&&!(v.indexOf("p['"+u+"']")>-1)?(E.match(/p\[\'.*?\'\]/g)||[]).every(function(e){return e=="p['"+u+"']"})?b=E:m=!0:!(E.indexOf("p['"+u+"']")>-1)&&v.indexOf("p['"+u+"']")>-1&&(v.match(/p\[\'.*?\'\]/g)||[]).every(function(e){return e=="p['"+u+"']"})?p=E:m=!0,m&&(b="",p="",g=t.on.toJS("p",e.defaultTableid,e.defcols),r.optimization="no"),r.onleftfns=p,r.onrightfns=b,r.onmiddlefns=g||"true",r.onleftfn=new Function("p,params,alasql","var y;return "+r.onleftfns),r.onrightfn=new Function("p,params,alasql","var y;return "+r.onrightfns),r.onmiddlefn=new Function("p,params,alasql","var y;return "+r.onmiddlefns)}else r.optimization="no",r.onmiddlefns=t.on.toJS("p",e.defaultTableid,e.defcols),r.onmiddlefn=new Function("p,params,alasql","var y;return "+t.on.toJS("p",e.defaultTableid,e.defcols));e.sources.push(r)}})},z.Select.prototype.compileWhere=function(e){return this.where?"function"==typeof this.where?this.where:(s=this.where.toJS("p",e.defaultTableid,e.defcols),e.wherefns=s,new Function("p,params,alasql","var y;return "+s)):function(){return!0}},z.Select.prototype.compileWhereJoins=function(e){},z.Select.prototype.compileGroup=function(e){if(e.sources.length>0)var t=e.sources[0].alias;else var t="";var n=e.defcols,r=[[]];this.group&&(r=b(this.group,e));var a=[];r.forEach(function(e){a=I(a,e)}),e.allgroups=a,e.ingroup=[];var s="";return r.forEach(function(r){s+="var g=this.xgroups[";var i=r.map(function(t){var n=t.split("\t")[0],r=t.split("\t")[1];return""===n?"1":(e.ingroup.push(n),
r)});0===i.length&&(i=["''"]),s+=i.join('+"`"+'),s+="];if(!g) {this.groups.push((g=this.xgroups[",s+=i.join('+"`"+'),s+="] = {",s+=r.map(function(e){var t=e.split("\t")[0],n=e.split("\t")[1];return""===t?"":"'"+t+"':"+n+","}).join("");var o=L(a,r);s+=o.map(function(e){var t=e.split("\t")[0];return"'"+t+"':null,"}).join("");var u="",c="";"undefined"!=typeof e.groupStar&&(c+="for(var f in p['"+e.groupStar+"']) {g[f]=p['"+e.groupStar+"'][f];};"),s+=e.selectGroup.map(function(r){var a=r.expression.toJS("p",t,n),s=r.nick;return r instanceof z.AggrValue?(r.distinct&&(u+=",g['$$_VALUES_"+s+"']={},g['$$_VALUES_"+s+"']["+a+"]=true"),"SUM"===r.aggregatorid?"'"+s+"':("+a+")||0,":"MIN"===r.aggregatorid||"MAX"===r.aggregatorid||"FIRST"===r.aggregatorid||"LAST"===r.aggregatorid?"'"+s+"':"+a+",":"ARRAY"===r.aggregatorid?"'"+s+"':["+a+"],":"COUNT"===r.aggregatorid?"*"===r.expression.columnid?"'"+s+"':1,":"'"+s+"':(typeof "+a+' != "undefined")?1:0,':"AVG"===r.aggregatorid?(e.removeKeys.push("_SUM_"+s),e.removeKeys.push("_COUNT_"+s),"'"+s+"':"+a+",'_SUM_"+s+"':("+a+")||0,'_COUNT_"+s+"':(typeof "+a+' != "undefined")?1:0,'):"AGGR"===r.aggregatorid?(u+=",g['"+s+"']="+r.expression.toJS("g",-1),""):"REDUCE"===r.aggregatorid?(e.aggrKeys.push(r),"'"+s+"':alasql.aggr['"+r.funcid+"']("+a+",undefined,1),"):""):""}).join(""),s+="}"+u+",g));"+c+"} else {",s+=e.selectGroup.map(function(e){var r=e.nick,a=e.expression.toJS("p",t,n);if(e instanceof z.AggrValue){var s="",i="";if(e.distinct)var s="if(typeof "+a+'!="undefined" && (!g[\'$$_VALUES_'+r+"']["+a+"])) \t\t\t\t \t\t {",i="g['$$_VALUES_"+r+"']["+a+"]=true;}";return"SUM"===e.aggregatorid?s+"g['"+r+"']+=("+a+"||0);"+i:"COUNT"===e.aggregatorid?"*"===e.expression.columnid?s+"g['"+r+"']++;"+i:s+"if(typeof "+a+'!="undefined") g[\''+r+"']++;"+i:"ARRAY"===e.aggregatorid?s+"g['"+r+"'].push("+a+");"+i:"MIN"===e.aggregatorid?s+"g['"+r+"']=Math.min(g['"+r+"'],"+a+");"+i:"MAX"===e.aggregatorid?s+"g['"+r+"']=Math.max(g['"+r+"'],"+a+");"+i:"FIRST"===e.aggregatorid?"":"LAST"===e.aggregatorid?s+"g['"+r+"']="+a+";"+i:"AVG"===e.aggregatorid?""+s+"g['_SUM_"+r+"']+=(y="+a+")||0;g['_COUNT_"+r+"']+=(typeof y!=\"undefined\")?1:0;g['"+r+"']=g['_SUM_"+r+"']/g['_COUNT_"+r+"'];"+i:"AGGR"===e.aggregatorid?""+s+"g['"+r+"']="+e.expression.toJS("g",-1)+";"+i:"REDUCE"===e.aggregatorid?""+s+"g['"+r+"']=alasql.aggr."+e.funcid+"("+a+",g['"+r+"'],2);"+i:""}return""}).join(""),s+="}"}),new Function("p,params,alasql","var y;"+s)},z.Select.prototype.compileSelect1=function(t){var n=this;t.columns=[],t.xcolumns={},t.selectColumns={},t.dirtyColumns=!1;var r="var r={",a="",s=[];return this.columns.forEach(function(r){if(r instanceof z.Column)if("*"===r.columnid)if(r.func)a+="r=params['"+r.param+"'](p['"+t.sources[0].alias+"'],p,params,alasql);";else if(r.tableid){var i=p(t,r.tableid,!1);i.s&&(s=s.concat(i.s)),a+=i.sp}else for(var o in t.aliases){var i=p(t,o,!0);i.s&&(s=s.concat(i.s)),a+=i.sp}else{var u=r.tableid,c=r.databaseid||t.sources[0].databaseid||t.database.databaseid;if(u||(u=t.defcols[r.columnid]),u||(u=t.defaultTableid),"_"!==r.columnid?s.push("'"+k(r.as||r.columnid)+"':p['"+u+"']['"+r.columnid+"']"):s.push("'"+k(r.as||r.columnid)+"':p['"+u+"']"),t.selectColumns[k(r.as||r.columnid)]=!0,t.aliases[u]&&"table"===t.aliases[u].type){if(!w.databases[c].tables[t.aliases[u].tableid])throw new Error("Table '"+u+"' does not exists in database");var l=w.databases[c].tables[t.aliases[u].tableid].columns,h=w.databases[c].tables[t.aliases[u].tableid].xcolumns;if(h&&l.length>0){var d=h[r.columnid];if(void 0===d)throw new Error("Column does not exists: "+r.columnid);var f={columnid:r.as||r.columnid,dbtypeid:d.dbtypeid,dbsize:d.dbsize,dbpecision:d.dbprecision,dbenum:d.dbenum};t.columns.push(f),t.xcolumns[f.columnid]=f}else{var f={columnid:r.as||r.columnid};t.columns.push(f),t.xcolumns[f.columnid]=f,t.dirtyColumns=!0}}else{var f={columnid:r.as||r.columnid};t.columns.push(f),t.xcolumns[f.columnid]=f}}else if(r instanceof z.AggrValue){n.group||(n.group=[""]),r.as||(r.as=k(r.toString())),"SUM"===r.aggregatorid||"MAX"===r.aggregatorid||"MIN"===r.aggregatorid||"FIRST"===r.aggregatorid||"LAST"===r.aggregatorid||"AVG"===r.aggregatorid||"ARRAY"===r.aggregatorid||"REDUCE"===r.aggregatorid?s.push("'"+k(r.as)+"':"+e(r.expression.toJS("p",t.defaultTableid,t.defcols))):"COUNT"===r.aggregatorid&&s.push("'"+k(r.as)+"':1");var f={columnid:r.as||r.columnid||r.toString()};t.columns.push(f),t.xcolumns[f.columnid]=f}else{s.push("'"+k(r.as||r.columnid||r.toString())+"':"+e(r.toJS("p",t.defaultTableid,t.defcols))),t.selectColumns[k(r.as||r.columnid||r.toString())]=!0;var f={columnid:r.as||r.columnid||r.toString()};t.columns.push(f),t.xcolumns[f.columnid]=f}}),r+=s.join(",")+"};"+a},z.Select.prototype.compileSelect2=function(e){var t=e.selectfns;return this.orderColumns&&this.orderColumns.length>0&&this.orderColumns.forEach(function(n,r){var a="$$$"+r;t+=n instanceof z.Column&&e.xcolumns[n.columnid]?"r['"+a+"']=r['"+n.columnid+"'];":"r['"+a+"']="+n.toJS("p",e.defaultTableid,e.defcols)+";",e.removeKeys.push(a)}),new Function("p,params,alasql","var y;"+t+"return r")},z.Select.prototype.compileSelectGroup0=function(e){var t=this;t.columns.forEach(function(n,r){if(n instanceof z.Column&&"*"===n.columnid)e.groupStar=n.tableid||"default";else{var a;a=k(n instanceof z.Column?n.columnid:n.toString(!0));for(var s=0;s<r;s++)if(a===t.columns[s].nick){a=t.columns[s].nick+":"+r;break}n.nick=a,!n.funcid||"ROWNUM"!==n.funcid.toUpperCase()&&"ROW_NUMBER"!==n.funcid.toUpperCase()||e.rownums.push(n.as)}}),this.columns.forEach(function(t){t.findAggregator&&t.findAggregator(e)}),this.having&&this.having.findAggregator&&this.having.findAggregator(e)},z.Select.prototype.compileSelectGroup1=function(t){var n=this,r="var r = {};";return n.columns.forEach(function(n){if(n instanceof z.Column&&"*"===n.columnid)return r+="for(var k in g) {r[k]=g[k]};","";var a=n.as;void 0===a&&(a=n instanceof z.Column?k(n.columnid):n.nick),t.groupColumns[a]=n.nick,r+="r['"+a+"']=",r+=e(n.toJS("g",""))+";";for(var s=0;s<t.removeKeys.length;s++)if(t.removeKeys[s]===a){t.removeKeys.splice(s,1);break}}),r},z.Select.prototype.compileSelectGroup2=function(e){var t=this,n=e.selectgfns;return t.columns.forEach(function(t){e.ingroup.indexOf(t.nick)>-1&&(n+="r['"+(t.as||t.nick)+"']=g['"+t.nick+"'];")}),this.orderColumns&&this.orderColumns.length>0&&this.orderColumns.forEach(function(t,r){var a="$$$"+r;n+=t instanceof z.Column&&e.groupColumns[t.columnid]?"r['"+a+"']=r['"+t.columnid+"'];":"r['"+a+"']="+t.toJS("g","")+";",e.removeKeys.push(a)}),new Function("g,params,alasql","var y;"+n+"return r")},z.Select.prototype.compileRemoveColumns=function(e){"undefined"!=typeof this.removecolumns&&(e.removeKeys=e.removeKeys.concat(this.removecolumns.filter(function(e){return"undefined"==typeof e.like}).map(function(e){return e.columnid})),e.removeLikeKeys=this.removecolumns.filter(function(e){return"undefined"!=typeof e.like}).map(function(e){return e.like.value}))},z.Select.prototype.compileHaving=function(e){return this.having?(s=this.having.toJS("g",-1),e.havingfns=s,new Function("g,params,alasql","var y;return "+s)):function(){return!0}},z.Select.prototype.compileOrder=function(e){var t=this;if(t.orderColumns=[],this.order){if(this.order&&1==this.order.length&&this.order[0].expression&&"function"==typeof this.order[0].expression){var n=this.order[0].expression;return function(e,t){var r=n(e),a=n(t);return r>a?1:r==a?0:-1}}var r="",a="";return this.order.forEach(function(n,s){if(n.expression instanceof z.NumValue)var i=t.columns[n.expression.value-1];else var i=n.expression;t.orderColumns.push(i);var o="$$$"+s,u="";if(n.expression instanceof z.Column){var c=n.expression.columnid;if(e.xcolumns[c]){var l=e.xcolumns[c].dbtypeid;"DATE"!=l&&"DATETIME"!=l&&"DATETIME2"!=l||(u=".valueOf()")}else w.options.valueof&&(u=".valueOf()")}n.nocase&&(u+=".toUpperCase()"),r+="if((a['"+o+"']||'')"+u+("ASC"==n.direction?">":"<")+"(b['"+o+"']||'')"+u+")return 1;",r+="if((a['"+o+"']||'')"+u+"==(b['"+o+"']||'')"+u+"){",a+="}"}),r+="return 0;",r+=a+"return -1",e.orderfns=r,new Function("a,b","var y;"+r)}},z.Select.prototype.compilePivot=function(e){var t=this,n=t.pivot.columnid,r=t.pivot.expr.expression.columnid,a=t.pivot.expr.aggregatorid,s=t.pivot.inlist;return s&&(s=s.map(function(e){return e.expr.columnid})),function(){var e=this,t=e.columns.filter(function(e){return e.columnid!=n&&e.columnid!=r}).map(function(e){return e.columnid}),i=[],o={},u={},c={},l=[];if(e.data.forEach(function(e){if(!s||s.indexOf(e[n])>-1){var h=t.map(function(t){return e[t]}).join("`"),d=u[h];if(d||(d={},u[h]=d,l.push(d),t.forEach(function(t){d[t]=e[t]})),c[h]||(c[h]={}),c[h][e[n]]?c[h][e[n]]++:c[h][e[n]]=1,o[e[n]]||(o[e[n]]=!0,i.push(e[n])),"SUM"==a||"AVG"==a)"undefined"==typeof d[e[n]]&&(d[e[n]]=0),d[e[n]]+=e[r];else if("COUNT"==a)"undefined"==typeof d[e[n]]&&(d[e[n]]=0),d[e[n]]++;else if("MIN"==a)"undefined"==typeof d[e[n]]&&(d[e[n]]=1/0),e[r]<d[e[n]]&&(d[e[n]]=e[r]);else if("MAX"==a)"undefined"==typeof d[e[n]]&&(d[e[n]]=-(1/0)),e[r]>d[e[n]]&&(d[e[n]]=e[r]);else if("FIRST"==a)"undefined"==typeof d[e[n]]&&(d[e[n]]=e[r]);else if("LAST"==a)d[e[n]]=e[r];else{if(!w.aggr[a])throw new Error("Wrong aggregator in PIVOT clause");w.aggr[a](d[e[n]],e[r])}}}),"AVG"==a)for(var h in u){var d=u[h];for(var f in d)t.indexOf(f)==-1&&f!=r&&(d[f]=d[f]/c[h][f])}e.data=l,s&&(i=s);var p=e.columns.filter(function(e){return e.columnid==r})[0];e.columns=e.columns.filter(function(e){return!(e.columnid==n||e.columnid==r)}),i.forEach(function(t){var n=_(p);n.columnid=t,e.columns.push(n)})}},z.Select.prototype.compileUnpivot=function(e){var t=this,n=t.unpivot.tocolumnid,r=t.unpivot.forcolumnid,a=t.unpivot.inlist.map(function(e){return e.columnid});return function(){var t=[],s=e.columns.map(function(e){return e.columnid}).filter(function(e){return a.indexOf(e)==-1&&e!=r&&e!=n});e.data.forEach(function(e){a.forEach(function(a){var i={};s.forEach(function(t){i[t]=e[t]}),i[r]=a,i[n]=e[a],t.push(i)})}),e.data=t}};var ne=function(e,t){for(var n=[],r=0,a=e.length,s=0;s<a+1;s++){for(var i=[],o=0;o<a;o++){if(e[o]instanceof z.Column){e[o].nick=k(e[o].columnid),t.groupColumns[k(e[o].columnid)]=e[o].nick;var u=e[o].nick+"\t"+e[o].toJS("p",t.sources[0].alias,t.defcols)}else{t.groupColumns[k(e[o].toString())]=k(e[o].toString());var u=k(e[o].toString())+"\t"+e[o].toJS("p",t.sources[0].alias,t.defcols)}r&1<<o&&i.push(u)}n.push(i),r=(r<<1)+1}return n},re=function(e,t){for(var n=[],r=e.length,a=0;a<1<<r;a++){for(var s=[],i=0;i<r;i++)a&1<<i&&(s=s.concat(b(e[i],t)));n.push(s)}return n},ae=function(e,t){return e.reduce(function(e,n){return e=e.concat(b(n,t))},[])},se=function(e,t){for(var n=[],r=0;r<e.length;r++)for(var a=0;a<t.length;a++)n.push(e[r].concat(t[a]));return n};z.Select.prototype.compileDefCols=function(e,t){var n={".":{}};return this.from&&this.from.forEach(function(e){if(n["."][e.as||e.tableid]=!0,e instanceof z.Table){var r=e.as||e.tableid,a=w.databases[e.databaseid||t].tables[e.tableid];if(void 0===a)throw new Error("Table does not exists: "+e.tableid);a.columns&&a.columns.forEach(function(e){n[e.columnid]?n[e.columnid]="-":n[e.columnid]=r})}else if(e instanceof z.Select);else if(e instanceof z.Search);else if(e instanceof z.ParamValue);else if(e instanceof z.VarValue);else if(e instanceof z.FuncValue);else if(e instanceof z.FromData);else if(e instanceof z.Json);else if(!e.inserted)throw new Error("Unknown type of FROM clause")}),this.joins&&this.joins.forEach(function(e){if(n["."][e.as||e.table.tableid]=!0,e.table){var r=e.table.tableid;e.as&&(r=e.as);var r=e.as||e.table.tableid,a=w.databases[e.table.databaseid||t].tables[e.table.tableid];a.columns&&a.columns.forEach(function(e){n[e.columnid]?n[e.columnid]="-":n[e.columnid]=r})}else if(e.select);else if(e.param);else if(!e.func)throw new Error("Unknown type of FROM clause")}),n},z.Union=function(e){return z.extend(this,e)},z.Union.prototype.toString=function(){return"UNION"},z.Union.prototype.compile=function(e){return null},z.Apply=function(e){return z.extend(this,e)},z.Apply.prototype.toString=function(){var e=this.applymode+" APPLY ("+this.select.toString()+")";return this.as&&(e+=" AS "+this.as),e},z.Over=function(e){return z.extend(this,e)},z.Over.prototype.toString=function(){var e="OVER (";return this.partition&&(e+="PARTITION BY "+this.partition.toString(),this.order&&(e+=" ")),this.order&&(e+="ORDER BY "+this.order.toString()),e+=")"},z.ExpressionStatement=function(e){return z.extend(this,e)},z.ExpressionStatement.prototype.toString=function(){return this.expression.toString()},z.ExpressionStatement.prototype.execute=function(e,t,n){if(this.expression){w.precompile(this,e,t);var r=new Function("params,alasql,p","var y;return "+this.expression.toJS("({})","",null)).bind(this),a=r(t,w);return n&&(a=n(a)),a}},z.Expression=function(e){return z.extend(this,e)},z.Expression.prototype.toString=function(e){var t=this.expression.toString(e);return this.order&&(t+=" "+this.order.toString()),this.nocase&&(t+=" COLLATE NOCASE"),t},z.Expression.prototype.findAggregator=function(e){this.expression.findAggregator&&this.expression.findAggregator(e)},z.Expression.prototype.toJS=function(e,t,n){return this.expression.reduced?"true":this.expression.toJS(e,t,n)},z.Expression.prototype.compile=function(e,t,r){return this.reduced?n():new Function("p","var y;return "+this.toJS(e,t,r))},z.JavaScript=function(e){return z.extend(this,e)},z.JavaScript.prototype.toString=function(){var e="``"+this.value+"``";return e},z.JavaScript.prototype.toJS=function(){return"("+this.value+")"},z.JavaScript.prototype.execute=function(e,t,n){var r=1,a=new Function("params,alasql,p",this.value);return a(t,w),n&&(r=n(r)),r},z.Literal=function(e){return z.extend(this,e)},z.Literal.prototype.toString=function(e){var t=this.value;return this.value1&&(t=this.value1+"."+t),this.alias&&!e&&(t+=" AS "+this.alias),t},z.Join=function(e){return z.extend(this,e)},z.Join.prototype.toString=function(){var e=" ";return this.joinmode&&(e+=this.joinmode+" "),e+="JOIN "+this.table.toString()},z.Table=function(e){return z.extend(this,e)},z.Table.prototype.toString=function(){var e=this.tableid;return this.databaseid&&(e=this.databaseid+"."+e),e},z.View=function(e){return z.extend(this,e)},z.View.prototype.toString=function(){var e=this.viewid;return this.databaseid&&(e=this.databaseid+"."+e),e},z.Op=function(e){return z.extend(this,e)},z.Op.prototype.toString=function(){if("IN"===this.op||"NOT IN"===this.op)return this.left.toString()+" "+this.op+" ("+this.right.toString()+")";if(this.allsome)return this.left.toString()+" "+this.op+" "+this.allsome+" ("+this.right.toString()+")";if("->"===this.op||"!"===this.op){var e=this.left.toString()+this.op;return"string"!=typeof this.right&&"number"!=typeof this.right&&(e+="("),e+=this.right.toString(),"string"!=typeof this.right&&"number"!=typeof this.right&&(e+=")"),e}return this.left.toString()+" "+this.op+" "+(this.allsome?this.allsome+" ":"")+this.right.toString()},z.Op.prototype.findAggregator=function(e){this.left&&this.left.findAggregator&&this.left.findAggregator(e),this.right&&this.right.findAggregator&&!this.allsome&&this.right.findAggregator(e)},z.Op.prototype.toType=function(e){if(["-","*","/","%","^"].indexOf(this.op)>-1)return"number";if(["||"].indexOf(this.op)>-1)return"string";if("+"===this.op){if("string"===this.left.toType(e)||"string"===this.right.toType(e))return"string";if("number"===this.left.toType(e)||"number"===this.right.toType(e))return"number"}return["AND","OR","NOT","=","==","===","!=","!==","!===",">",">=","<","<=","IN","NOT IN","LIKE","NOT LIKE","REGEXP","GLOB"].indexOf(this.op)>-1?"boolean":"BETWEEN"===this.op||"NOT BETWEEN"===this.op||"IS NULL"===this.op||"IS NOT NULL"===this.op?"boolean":this.allsome?"boolean":this.op?"unknown":this.left.toType()},z.Op.prototype.toJS=function(e,t,n){var r,a=this.op,s=this,i=function(){return s.left.toJS(e,t,n)},o=function(){return s.right.toJS(e,t,n)};if("="===this.op?a="===":"<>"===this.op?a="!=":"OR"===this.op&&(a="||"),"->"===this.op){var u="("+i()+"||{})";if("string"==typeof this.right)return u+'["'+this.right+'"]';if("number"==typeof this.right)return u+"["+this.right+"]";if(this.right instanceof z.FuncValue){var c=[];if(this.right.args&&0!==this.right.args.length)var c=this.right.args.map(function(r){return r.toJS(e,t,n)});return""+u+"['"+this.right.funcid+"']("+c.join(",")+")"}return""+u+"["+o()+"]"}if("!"===this.op&&"string"==typeof this.right)return"alasql.databases[alasql.useid].objects["+i()+']["'+this.right+'"]';if("IS"===this.op)return"((typeof "+i()+"==='undefined') === (typeof "+o()+"==='undefined'))";if("=="===this.op)return"alasql.utils.deepEqual("+i()+","+o()+")";if("==="===this.op||"!==="===this.op)return"("+("!==="===this.op?"!":"")+"(("+i()+").valueOf()===("+o()+").valueOf()))";if("!=="===this.op)return"(!alasql.utils.deepEqual("+i()+","+o()+"))";if("||"===this.op)return"(''+("+i()+"||'')+("+o()+'||""))';if("LIKE"===this.op||"NOT LIKE"===this.op){var r="("+("NOT LIKE"===this.op?"!":"")+"alasql.utils.like("+o()+","+i();return this.escape&&(r+=","+this.escape.toJS(e,t,n)),r+="))"}if("REGEXP"===this.op)return"alasql.stdfn.REGEXP_LIKE("+i()+","+o()+")";if("GLOB"===this.op)return"alasql.utils.glob("+i()+","+o()+")";if("BETWEEN"===this.op||"NOT BETWEEN"===this.op)return"("+("NOT BETWEEN"===this.op?"!":"")+"(("+this.right1.toJS(e,t,n)+"<="+i()+") && ("+i()+"<="+this.right2.toJS(e,t,n)+")))";if("IN"===this.op)return this.right instanceof z.Select?(r="(",r+="alasql.utils.flatArray(this.queriesfn["+this.queriesidx+"](params,null,"+e+"))",r+=".indexOf(",r+=i()+")>-1)"):r=this.right instanceof Array?"(["+this.right.map(function(r){return r.toJS(e,t,n)}).join(",")+"].indexOf("+i()+")>-1)":"("+o()+".indexOf("+i()+")>-1)";if("NOT IN"===this.op)return this.right instanceof z.Select?(r="(",r+="alasql.utils.flatArray(this.queriesfn["+this.queriesidx+"](params,null,p))",r+=".indexOf(",r+=i()+")<0)"):this.right instanceof Array?(r="(["+this.right.map(function(r){return r.toJS(e,t,n)}).join(",")+"].indexOf(",r+=i()+")<0)"):(r="("+o()+".indexOf(",r+=i()+")==-1)");if("ALL"===this.allsome){var r;if(this.right instanceof z.Select)return r="alasql.utils.flatArray(this.query.queriesfn["+this.queriesidx+"](params,null,p))",r+=".every(function(b){return (",r+=i()+")"+a+"b})";if(this.right instanceof Array)return r="["+this.right.map(function(r){return r.toJS(e,t,n)}).join(",")+"].every(function(b){return (",r+=i()+")"+a+"b})";throw new Error("NOT IN operator without SELECT")}if("SOME"===this.allsome||"ANY"===this.allsome){var r;if(this.right instanceof z.Select)return r="alasql.utils.flatArray(this.query.queriesfn["+this.queriesidx+"](params,null,p))",r+=".some(function(b){return (",r+=i()+")"+a+"b})";if(this.right instanceof Array)return r="["+this.right.map(function(r){return r.toJS(e,t,n)}).join(",")+"].some(function(b){return (",r+=i()+")"+a+"b})";throw new Error("SOME/ANY operator without SELECT")}if("AND"===this.op){if(this.left.reduced)return this.right.reduced?"true":o();if(this.right.reduced)return i();a="&&"}return"(("+i()+")"+a+"("+o()+"))"},z.VarValue=function(e){return z.extend(this,e)},z.VarValue.prototype.toString=function(){return"@"+this.variable},z.VarValue.prototype.toType=function(){return"unknown"},z.VarValue.prototype.toJS=function(){return"alasql.vars['"+this.variable+"']"},z.NumValue=function(e){return z.extend(this,e)},z.NumValue.prototype.toString=function(){return this.value.toString()},z.NumValue.prototype.toType=function(){return"number"},z.NumValue.prototype.toJS=function(){return""+this.value},z.StringValue=function(e){return z.extend(this,e)},z.StringValue.prototype.toString=function(){return"'"+this.value.toString()+"'"},z.StringValue.prototype.toType=function(){return"string"},z.StringValue.prototype.toJS=function(){return"'"+k(this.value)+"'"},z.LogicValue=function(e){return z.extend(this,e)},z.LogicValue.prototype.toString=function(){return this.value?"TRUE":"FALSE"},z.LogicValue.prototype.toType=function(){return"boolean"},z.LogicValue.prototype.toJS=function(){return this.value?"true":"false"},z.NullValue=function(e){return z.extend(this,e)},z.NullValue.prototype.toString=function(){return"NULL"},z.NullValue.prototype.toJS=function(){return"undefined"},z.ParamValue=function(e){return z.extend(this,e)},z.ParamValue.prototype.toString=function(){return"$"+this.param},z.ParamValue.prototype.toJS=function(){return"string"==typeof this.param?"params['"+this.param+"']":"params["+this.param+"]"},z.UniOp=function(e){return z.extend(this,e)},z.UniOp.prototype.toString=function(){return"~"===this.op?this.op+this.right.toString():"-"===this.op?this.op+this.right.toString():"+"===this.op?this.op+this.right.toString():"#"===this.op?this.op+this.right.toString():"NOT"===this.op?this.op+"("+this.right.toString()+")":null==this.op?"("+this.right.toString()+")":void 0},z.UniOp.prototype.findAggregator=function(e){this.right.findAggregator&&this.right.findAggregator(e)},z.UniOp.prototype.toType=function(){return"-"===this.op?"number":"+"===this.op?"number":"NOT"===this.op?"boolean":void 0},z.UniOp.prototype.toJS=function(e,t,n){return"~"===this.op?"(~("+this.right.toJS(e,t,n)+"))":"-"===this.op?"(-("+this.right.toJS(e,t,n)+"))":"+"===this.op?"("+this.right.toJS(e,t,n)+")":"NOT"===this.op?"!("+this.right.toJS(e,t,n)+")":"#"===this.op?this.right instanceof z.Column?"(alasql.databases[alasql.useid].objects['"+this.right.columnid+"'])":"(alasql.databases[alasql.useid].objects["+this.right.toJS(e,t,n)+"])":null==this.op?"("+this.right.toJS(e,t,n)+")":void 0},z.Column=function(e){return z.extend(this,e)},z.Column.prototype.toString=function(e){var t;return t=this.columnid==+this.columnid?"["+this.columnid+"]":this.columnid,this.tableid&&(t=+this.columnid===this.columnid?this.tableid+t:this.tableid+"."+t,this.databaseid&&(t=this.databaseid+"."+t)),this.alias&&!e&&(t+=" AS "+this.alias),t},z.Column.prototype.toJS=function(e,t,n){var r="";if(this.tableid||""!==t||n)if("g"===e)r="g['"+this.nick+"']";else if(this.tableid)r="_"!==this.columnid?e+"['"+this.tableid+"']['"+this.columnid+"']":"g"===e?"g['_']":e+"['"+this.tableid+"']";else if(n){var a=n[this.columnid];if("-"===a)throw new Error('Cannot resolve column "'+this.columnid+'" because it exists in two source tables');r=a?"_"!==this.columnid?e+"['"+a+"']['"+this.columnid+"']":e+"['"+a+"']":"_"!==this.columnid?e+"['"+(this.tableid||t)+"']['"+this.columnid+"']":e+"['"+(this.tableid||t)+"']"}else r=t===-1?e+"['"+this.columnid+"']":"_"!==this.columnid?e+"['"+(this.tableid||t)+"']['"+this.columnid+"']":e+"['"+(this.tableid||t)+"']";else r="_"!==this.columnid?e+"['"+this.columnid+"']":"g"===e?"g['_']":e;return r},z.AggrValue=function(e){return z.extend(this,e)},z.AggrValue.prototype.toString=function(e){var t="";return t+="REDUCE"===this.aggregatorid?this.funcid+"(":this.aggregatorid+"(",this.distinct&&(t+="DISTINCT "),this.expression&&(t+=this.expression.toString()),t+=")",this.over&&(t+=" "+this.over.toString()),this.alias&&!e&&(t+=" AS "+this.alias),t},z.AggrValue.prototype.findAggregator=function(e){var t=k(this.toString())+":"+e.selectGroup.length,n=!1;if(!n){if(!this.nick){this.nick=t;for(var n=!1,r=0;r<e.removeKeys.length;r++)if(e.removeKeys[r]===t){n=!0;break}n||e.removeKeys.push(t)}e.selectGroup.push(this)}},z.AggrValue.prototype.toType=function(){return["SUM","COUNT","AVG","MIN","MAX","AGGR","VAR","STDDEV"].indexOf(this.aggregatorid)>-1?"number":["ARRAY"].indexOf(this.aggregatorid)>-1?"array":["FIRST","LAST"].indexOf(this.aggregatorid)>-1?this.expression.toType():void 0},z.AggrValue.prototype.toJS=function(){var e=this.nick;return void 0===e&&(e=this.toString()),"g['"+e+"']"},z.OrderExpression=function(e){return z.extend(this,e)},z.OrderExpression.prototype.toString=z.Expression.prototype.toString,z.GroupExpression=function(e){return z.extend(this,e)},z.GroupExpression.prototype.toString=function(){return this.type+"("+this.group.toString()+")"},z.FromData=function(e){return z.extend(this,e)},z.FromData.prototype.toString=function(){return this.data?"DATA("+(1e16*Math.random()|0)+")":"?"},z.FromData.prototype.toJS=function(){},z.Select.prototype.exec=function(e,t){this.preparams&&(e=this.preparams.concat(e));var n=w.useid;db=w.databases[n];var r=this.toString(),a=D(r),s=this.compile(n);if(s){s.sql=r,s.dbversion=db.dbversion,db.sqlCacheSize>w.MAXSQLCACHESIZE&&db.resetSqlCache(),db.sqlCacheSize++,db.sqlCache[a]=s;var i=w.res=s(e,t);return i}},z.Select.prototype.Select=function(){var e=this;if(arguments.length>1)args=Array.prototype.slice.call(arguments);else{if(1!=arguments.length)throw new Error("Wrong number of arguments of Select() function");arguments[0]instanceof Array?args=arguments[0]:args=[arguments[0]]}return e.columns=[],args.forEach(function(t){if("string"==typeof t)e.columns.push(new z.Column({columnid:t}));else if("function"==typeof t){var n=0;e.preparams?n=e.preparams.length:e.preparams=[],e.preparams.push(t),e.columns.push(new z.Column({columnid:"*",func:t,param:n}))}}),e},z.Select.prototype.From=function(e){var t=this;if(t.from||(t.from=[]),e instanceof Array){var n=0;t.preparams?n=t.preparams.length:t.preparams=[],t.preparams.push(e),t.from.push(new z.ParamValue({param:n}))}else{if("string"!=typeof e)throw new Error("Unknown arguments in From() function");t.from.push(new z.Table({tableid:e}))}return t},z.Select.prototype.OrderBy=function(){var e=this;if(e.order=[],0==arguments.length)args=["_"];else if(arguments.length>1)args=Array.prototype.slice.call(arguments);else{if(1!=arguments.length)throw new Error("Wrong number of arguments of Select() function");arguments[0]instanceof Array?args=arguments[0]:args=[arguments[0]]}return args.length>0&&args.forEach(function(t){var n=new z.Column({columnid:t});"function"==typeof t&&(n=t),e.order.push(new z.OrderExpression({expression:n,direction:"ASC"}))}),e},z.Select.prototype.Top=function(e){var t=this;return t.top=new z.NumValue({value:e}),t},z.Select.prototype.GroupBy=function(){var e=this;if(arguments.length>1)args=Array.prototype.slice.call(arguments);else{if(1!=arguments.length)throw new Error("Wrong number of arguments of Select() function");arguments[0]instanceof Array?args=arguments[0]:args=[arguments[0]]}return e.group=[],args.forEach(function(t){var n=new z.Column({columnid:t});e.group.push(n)}),e},z.Select.prototype.Where=function(e){var t=this;return"function"==typeof e&&(t.where=e),t},z.FuncValue=function(e){return z.extend(this,e)},z.FuncValue.prototype.toString=function(e){var t="";return w.fn[this.funcid]?t+=this.funcid:w.aggr[this.funcid]?t+=this.funcid:(w.stdlib[this.funcid.toUpperCase()]||w.stdfn[this.funcid.toUpperCase()])&&(t+=this.funcid.toUpperCase()),t+="(",this.args&&this.args.length>0&&(t+=this.args.map(function(e){return e.toString()}).join(",")),t+=")",this.as&&!e&&(t+=" AS "+this.as.toString()),t},z.FuncValue.prototype.execute=function(e,t,n){var r=1;w.precompile(this,e,t);var a=new Function("params,alasql","var y;return "+this.toJS("","",null));return a(t,w),n&&(r=n(r)),r},z.FuncValue.prototype.findAggregator=function(e){this.args&&this.args.length>0&&this.args.forEach(function(t){t.findAggregator&&t.findAggregator(e)})},z.FuncValue.prototype.toJS=function(e,t,n){var r="",a=this.funcid;return w.fn[a]?(this.newid&&(r+="new "),r+="alasql.fn."+this.funcid+"(",this.args&&this.args.length>0&&(r+=this.args.map(function(r){return r.toJS(e,t,n)}).join(",")),r+=")"):w.stdlib[a.toUpperCase()]?r+=this.args&&this.args.length>0?w.stdlib[a.toUpperCase()].apply(this,this.args.map(function(n){return n.toJS(e,t)})):w.stdlib[a.toUpperCase()]():w.stdfn[a.toUpperCase()]&&(this.newid&&(r+="new "),r+="alasql.stdfn."+this.funcid.toUpperCase()+"(",this.args&&this.args.length>0&&(r+=this.args.map(function(r){return r.toJS(e,t,n)}).join(",")),r+=")"),r};var ie=w.stdlib={},oe=w.stdfn={};ie.ABS=function(e){return"Math.abs("+e+")"},ie.CLONEDEEP=function(e){return"alasql.utils.cloneDeep("+e+")"},oe.CONCAT=function(){return Array.prototype.slice.call(arguments).join("")},ie.EXP=function(e){return"Math.pow(Math.E,"+e+")"},ie.IIF=function(e,t,n){if(3==arguments.length)return"(("+e+")?("+t+"):("+n+"))";throw new Error("Number of arguments of IFF is not equals to 3")},ie.IFNULL=function(e,t){return"("+e+"||"+t+")"},ie.INSTR=function(e,t){return"(("+e+").indexOf("+t+")+1)"},ie.LEN=ie.LENGTH=function(e){return t(e,"y.length")},ie.LOWER=ie.LCASE=function(e){return t(e,"String(y).toLowerCase()")},ie.MAX=ie.GREATEST=function(){return"Math.max("+Array.prototype.join.call(arguments,",")+")"},ie.MIN=ie.LEAST=function(){return"Math.min("+Array.prototype.join.call(arguments,",")+")"},ie.SUBSTRING=ie.SUBSTR=ie.MID=function(e,n,r){return 2==arguments.length?t(e,"y.substr("+n+"-1)"):3==arguments.length?t(e,"y.substr("+n+"-1,"+r+")"):void 0},oe.REGEXP_LIKE=function(e,t,n){return(e||"").search(RegExp(t,n))>-1},ie.ISNULL=ie.NULLIF=function(e,t){return"("+e+"=="+t+"?undefined:"+e+")"},ie.POWER=function(e,t){return"Math.pow("+e+","+t+")"},ie.RANDOM=function(e){return 0==arguments.length?"Math.random()":"(Math.random()*("+e+")|0)"},ie.ROUND=function(e,t){return 2==arguments.length?"Math.round(("+e+")*Math.pow(10,("+t+")))/Math.pow(10,("+t+"))":"Math.round("+e+")"},ie.CEIL=ie.CEILING=function(e){return"Math.ceil("+e+")"},ie.FLOOR=function(e){return"Math.floor("+e+")"},ie.ROWNUM=function(){return"1"},ie.ROW_NUMBER=function(){return"1"},ie.SQRT=function(e){return"Math.sqrt("+e+")"},ie.TRIM=function(e){return t(e,"y.trim()")},ie.UPPER=ie.UCASE=function(e){return t(e,"String(y).toUpperCase()")},oe.CONCAT_WS=function(){return args=Array.prototype.slice.call(arguments),args.slice(1,args.length).join(args[0])},w.aggr.GROUP_CONCAT=function(e,t,n){return 1==n?e:2==n?t+","+e:void 0},w.aggr.MEDIAN=function(e,t,n){if(1==n)return[e];if(2==n)return t.push(e),t;var r=t.sort();return r[r.length/2|0]},w.aggr.VAR=function(e,t,n){if(1==n)return{arr:[e],sum:e};if(2==n)return t.arr.push(e),t.sum+=e,t;for(var r=t.arr.length,a=t.sum/r,s=0,i=0;i<r;i++)s+=(t.arr[i]-a)*(t.arr[i]-a);return s/=r-1},w.aggr.STDEV=function(e,t,n){return 1==n||2==n?w.aggr.VAR(e,t,n):Math.sqrt(w.aggr.VAR(e,t,n))},w.aggr.VARP=function(e,t,n){if(1==n)return{arr:[e],sum:e};if(2==n)return t.arr.push(e),t.sum+=e,t;for(var r=t.arr.length,a=t.sum/r,s=0,i=0;i<r;i++)s+=(t.arr[i]-a)*(t.arr[i]-a);return s/=r},w.aggr.STD=w.aggr.STDDEV=w.aggr.STDEVP=function(e,t,n){return 1==n||2==n?w.aggr.VARP(e,t,n):Math.sqrt(w.aggr.VARP(e,t,n))},oe.REPLACE=function(e,t,n){return(e||"").split(t).join(n)};for(var ue=[],ce=0;ce<256;ce++)ue[ce]=(ce<16?"0":"")+ce.toString(16);oe.NEWID=oe.UUID=oe.GEN_RANDOM_UUID=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return ue[255&e]+ue[e>>8&255]+ue[e>>16&255]+ue[e>>24&255]+"-"+ue[255&t]+ue[t>>8&255]+"-"+ue[t>>16&15|64]+ue[t>>24&255]+"-"+ue[63&n|128]+ue[n>>8&255]+"-"+ue[n>>16&255]+ue[n>>24&255]+ue[255&r]+ue[r>>8&255]+ue[r>>16&255]+ue[r>>24&255]},z.CaseValue=function(e){return z.extend(this,e)},z.CaseValue.prototype.toString=function(){var e="CASE ";return this.expression&&(e+=this.expression.toString()),this.whens&&(e+=this.whens.map(function(e){return" WHEN "+e.when.toString()+" THEN "+e.then.toString()}).join()),e+=" END"},z.CaseValue.prototype.findAggregator=function(e){this.expression&&this.expression.findAggregator&&this.expression.findAggregator(e),this.whens&&this.whens.length>0&&this.whens.forEach(function(t){t.when.findAggregator&&t.when.findAggregator(e),t.then.findAggregator&&t.then.findAggregator(e)}),this.elses&&this.elses.findAggregator&&this.elses.findAggregator(e)},z.CaseValue.prototype.toJS=function(e,t,n){var r="((function("+e+",params,alasql){var r;";return this.expression?(r+="v="+this.expression.toJS(e,t,n)+";",r+=(this.whens||[]).map(function(r){return" if(v=="+r.when.toJS(e,t,n)+") {r="+r.then.toJS(e,t,n)+"}"}).join(" else "),this.elses&&(r+=" else {r="+this.elses.toJS(e,t,n)+"}")):(r+=(this.whens||[]).map(function(r){
return" if("+r.when.toJS(e,t,n)+") {r="+r.then.toJS(e,t,n)+"}"}).join(" else "),this.elses&&(r+=" else {r="+this.elses.toJS(e,t,n)+"}")),r+=";return r;}).bind(this))("+e+",params,alasql)"},z.Json=function(e){return z.extend(this,e)},z.Json.prototype.toString=function(){var e="";return e+=le(this.value),e+=""};var le=w.utils.JSONtoString=function(e){var t="";if("string"==typeof e)t='"'+e+'"';else if("number"==typeof e)t=e;else if("boolean"==typeof e)t=e;else{if("object"!=typeof e)throw new Error("2Can not show JSON object "+JSON.stringify(e));if(e instanceof Array)t+="["+e.map(function(e){return le(e)}).join(",")+"]";else if(!e.toJS||e instanceof z.Json){t="{";var n=[];for(var r in e){var a="";if("string"==typeof r)a+='"'+r+'"';else if("number"==typeof r)a+=r;else{if("boolean"!=typeof r)throw new Error("THis is not ES6... no expressions on left side yet");a+=r}a+=":"+le(e[r]),n.push(a)}t+=n.join(",")+"}"}else{if(!e.toString)throw new Error("1Can not show JSON object "+JSON.stringify(e));t=e.toString()}}return t};z.Json.prototype.toJS=function(e,t,n){return g(this.value,e,t,n)},z.Convert=function(e){return z.extend(this,e)},z.Convert.prototype.toString=function(){var e="CONVERT(";return e+=this.dbtypeid,"undefined"!=typeof this.dbsize&&(e+="("+this.dbsize,this.dbprecision&&(e+=","+dbprecision),e+=")"),e+=","+this.expression.toString(),this.style&&(e+=","+this.style),e+=")"},z.Convert.prototype.toJS=function(e,t,n){return"alasql.stdfn.CONVERT("+this.expression.toJS(e,t,n)+',{dbtypeid:"'+this.dbtypeid+'",dbsize:'+this.dbsize+",style:"+this.style+"})"},w.stdfn.CONVERT=function(e,t){var n=e;if(t.style){var r;switch(r=/\d{8}/.test(n)?new Date((+n.substr(0,4)),+n.substr(4,2)-1,(+n.substr(6,2))):new Date(n),t.style){case 1:n=("0"+(r.getMonth()+1)).substr(-2)+"/"+("0"+r.getDate()).substr(-2)+"/"+("0"+r.getYear()).substr(-2);break;case 2:n=("0"+r.getYear()).substr(-2)+"."+("0"+(r.getMonth()+1)).substr(-2)+"."+("0"+r.getDate()).substr(-2);break;case 3:n=("0"+r.getDate()).substr(-2)+"/"+("0"+(r.getMonth()+1)).substr(-2)+"/"+("0"+r.getYear()).substr(-2);break;case 4:n=("0"+r.getDate()).substr(-2)+"."+("0"+(r.getMonth()+1)).substr(-2)+"."+("0"+r.getYear()).substr(-2);break;case 5:n=("0"+r.getDate()).substr(-2)+"-"+("0"+(r.getMonth()+1)).substr(-2)+"-"+("0"+r.getYear()).substr(-2);break;case 6:n=("0"+r.getDate()).substr(-2)+" "+r.toString().substr(4,3).toLowerCase()+" "+("0"+r.getYear()).substr(-2);break;case 7:n=r.toString().substr(4,3)+" "+("0"+r.getDate()).substr(-2)+","+("0"+r.getYear()).substr(-2);break;case 8:case 108:n=("0"+r.getHours()).substr(-2)+":"+("0"+r.getMinutes()).substr(-2)+":"+("0"+r.getSeconds()).substr(-2);break;case 10:n=("0"+(r.getMonth()+1)).substr(-2)+"-"+("0"+r.getDate()).substr(-2)+"-"+("0"+r.getYear()).substr(-2);break;case 11:n=("0"+r.getYear()).substr(-2)+"/"+("0"+(r.getMonth()+1)).substr(-2)+"/"+("0"+r.getDate()).substr(-2);break;case 12:n=("0"+r.getYear()).substr(-2)+("0"+(r.getMonth()+1)).substr(-2)+("0"+r.getDate()).substr(-2);break;case 101:n=("0"+(r.getMonth()+1)).substr(-2)+"/"+("0"+r.getDate()).substr(-2)+"/"+r.getFullYear();break;case 102:n=r.getFullYear()+"."+("0"+(r.getMonth()+1)).substr(-2)+"."+("0"+r.getDate()).substr(-2);break;case 103:n=("0"+r.getDate()).substr(-2)+"/"+("0"+(r.getMonth()+1)).substr(-2)+"/"+r.getFullYear();break;case 104:n=("0"+r.getDate()).substr(-2)+"."+("0"+(r.getMonth()+1)).substr(-2)+"."+r.getFullYear();break;case 105:n=("0"+r.getDate()).substr(-2)+"-"+("0"+(r.getMonth()+1)).substr(-2)+"-"+r.getFullYear();break;case 106:n=("0"+r.getDate()).substr(-2)+" "+r.toString().substr(4,3).toLowerCase()+" "+r.getFullYear();break;case 107:n=r.toString().substr(4,3)+" "+("0"+r.getDate()).substr(-2)+","+r.getFullYear();break;case 110:n=("0"+(r.getMonth()+1)).substr(-2)+"-"+("0"+r.getDate()).substr(-2)+"-"+r.getFullYear();break;case 111:n=r.getFullYear()+"/"+("0"+(r.getMonth()+1)).substr(-2)+"/"+("0"+r.getDate()).substr(-2);break;case 112:n=r.getFullYear()+("0"+(r.getMonth()+1)).substr(-2)+("0"+r.getDate()).substr(-2);break;default:throw new Error("The CONVERT style "+t.style+" is not realized yet.")}}var a=t.dbtypeid.toUpperCase();if("Date"==t.dbtypeid)return new Date(n);if("DATE"==a){var s=new Date(n),i=s.getFullYear()+"."+("0"+(s.getMonth()+1)).substr(-2)+"."+("0"+s.getDate()).substr(-2);return i}if("DATETIME"==a||"DATETIME2"==a){var s=new Date(n),i=s.getFullYear()+"."+("0"+(s.getMonth()+1)).substr(-2)+"."+("0"+s.getDate()).substr(-2);return i+=" "+("0"+s.getHours()).substr(-2)+":"+("0"+s.getMinutes()).substr(-2)+":"+("0"+s.getSeconds()).substr(-2),i+="."+("00"+s.getMilliseconds()).substr(-3)}if(["MONEY"].indexOf(a)>-1){var o=+n;return(0|o)+100*o%100/100}if(["BOOLEAN"].indexOf(a)>-1)return!!n;if(["INT","INTEGER","SMALLINT","BIGINT","SERIAL","SMALLSERIAL","BIGSERIAL"].indexOf(t.dbtypeid.toUpperCase())>-1)return 0|n;if(["STRING","VARCHAR","NVARCHAR","CHARACTER VARIABLE"].indexOf(t.dbtypeid.toUpperCase())>-1)return t.dbsize?(""+n).substr(0,t.dbsize):""+n;if(["CHAR","CHARACTER","NCHAR"].indexOf(a)>-1)return(n+new Array(t.dbsize+1).join(" ")).substr(0,t.dbsize);if(["NUMBER","FLOAT"].indexOf(a)>-1){if("undefined"!=typeof t.dbprecision){var o=+n,u=Math.pow(10,t.dbprecision);return(0|o)+o*u%u/u}return+n}if(["DECIMAL","NUMERIC"].indexOf(a)>-1){var o=+n,u=Math.pow(10,t.dbprecision);return(0|o)+o*u%u/u}if(["JSON"].indexOf(a)>-1){if("object"==typeof n)return n;try{return JSON.parse(n)}catch(c){throw new Error("Cannot convert string to JSON")}}return n},z.ColumnDef=function(e){return z.extend(this,e)},z.ColumnDef.prototype.toString=function(){var e=this.columnid;return this.dbtypeid&&(e+=" "+this.dbtypeid),this.dbsize&&(e+="("+this.dbsize,this.dbprecision&&(e+=","+this.dbprecision),e+=")"),this.primarykey&&(e+=" PRIMARY KEY"),this.notnull&&(e+=" NOT NULL"),e},z.CreateTable=function(e){return z.extend(this,e)},z.CreateTable.prototype.toString=function(){var e="CREATE";if(this.temporary&&(e+=" TEMPORARY"),e+=this.view?" VIEW":" "+(this["class"]?"CLASS":"TABLE"),this.ifnotexists&&(e+=" IF  NOT EXISTS"),e+=" "+this.table.toString(),this.viewcolumns&&(e+="("+this.viewcolumns.map(function(e){return e.toString()}).join(",")+")"),this.as)e+=" AS "+this.as;else{var t=this.columns.map(function(e){return e.toString()});e+=" ("+t.join(",")+")"}return this.view&&this.select&&(e+=" AS "+this.select.toString()),e},z.CreateTable.prototype.execute=function(e,t,n){var r=w.databases[this.table.databaseid||e],a=this.table.tableid;if(!a)throw new Error("Table name is not defined");var s=this.columns,i=this.constraints||[];if(this.ifnotexists&&r.tables[a])return n?n(0):0;if(r.tables[a])throw new Error("Can not create table '"+a+"', because it already exists in the database '"+r.databaseid+"'");var o=r.tables[a]=new w.Table;this["class"]&&(o.isclass=!0);var u=[],c=[];if(s&&s.forEach(function(e){var t=e.dbtypeid;w.fn[t]||(t=t.toUpperCase()),["SERIAL","SMALLSERIAL","BIGSERIAL"].indexOf(t)>-1&&(e.identity={value:1,step:1});var n={columnid:e.columnid,dbtypeid:t,dbsize:e.dbsize,dbprecision:e.dbprecision,notnull:e.notnull,identity:e.identity};if(e.identity&&(o.identities[e.columnid]={value:+e.identity.value,step:+e.identity.step}),e.check&&o.checks.push({id:e.check.constrantid,fn:new Function("r","var y;return "+e.check.expression.toJS("r",""))}),e["default"]&&u.push("'"+e.columnid+"':"+e["default"].toJS("r","")),e.primarykey){var r=o.pk={};r.columns=[e.columnid],r.onrightfns="r['"+e.columnid+"']",r.onrightfn=new Function("r","var y;return "+r.onrightfns),r.hh=D(r.onrightfns),o.uniqs[r.hh]={}}if(e.unique){var a={};o.uk=o.uk||[],o.uk.push(a),a.columns=[e.columnid],a.onrightfns="r['"+e.columnid+"']",a.onrightfn=new Function("r","var y;return "+a.onrightfns),a.hh=D(a.onrightfns),o.uniqs[a.hh]={}}if(e.foreignkey){var s=e.foreignkey.table,i=w.databases[s.databaseid||w.useid].tables[s.tableid];if("undefined"==typeof s.columnid){if(!(i.pk.columns&&i.pk.columns.length>0))throw new Error("FOREIGN KEY allowed only to tables with PRIMARY KEYs");s.columnid=i.pk.columns[0]}var l=function(t){var n={};if("undefined"==typeof t[e.columnid])return!0;n[s.columnid]=t[e.columnid];var r=i.pk.onrightfn(n);if(!i.uniqs[i.pk.hh][r])throw new Error('Foreign key "'+t[e.columnid]+'" is not found in table '+i.tableid);return!0};o.checks.push({fn:l})}e.onupdate&&c.push("r['"+e.columnid+"']="+e.onupdate.toJS("r","")),o.columns.push(n),o.xcolumns[n.columnid]=n}),o.defaultfns=u.join(","),o.onupdatefns=c.join(";"),i.forEach(function(e){var t;if("PRIMARY KEY"===e.type){if(o.pk)throw new Error("Primary key already exists");var n=o.pk={};n.columns=e.columns,n.onrightfns=n.columns.map(function(e){return"r['"+e+"']"}).join("+'`'+"),n.onrightfn=new Function("r","var y;return "+n.onrightfns),n.hh=D(n.onrightfns),o.uniqs[n.hh]={}}else if("CHECK"===e.type)t=new Function("r","var y;return "+e.expression.toJS("r",""));else if("UNIQUE"===e.type){var r={};o.uk=o.uk||[],o.uk.push(r),r.columns=e.columns,r.onrightfns=r.columns.map(function(e){return"r['"+e+"']"}).join("+'`'+"),r.onrightfn=new Function("r","var y;return "+r.onrightfns),r.hh=D(r.onrightfns),o.uniqs[r.hh]={}}else if("FOREIGN KEY"===e.type){var a=o.xcolumns[e.columns[0]],s=e.fktable;e.fkcolumns&&e.fkcolumns.length>0&&(s.columnid=e.fkcolumns[0]);var i=w.databases[s.databaseid||w.useid].tables[s.tableid];"undefined"==typeof s.columnid&&(s.columnid=i.pk.columns[0]),t=function(e){var t={};if("undefined"==typeof e[a.columnid])return!0;t[s.columnid]=e[a.columnid];var n=i.pk.onrightfn(t);if(!i.uniqs[i.pk.hh][n])throw new Error('Foreign key "'+e[a.columnid]+'" is not found in table '+i.tableid);return!0}}t&&o.checks.push({fn:t,id:e.constraintid,fk:"FOREIGN KEY"===e.type})}),this.view&&this.viewcolumns){var l=this;this.viewcolumns.forEach(function(e,t){l.select.columns[t].as=e.columnid})}if(this.view&&this.select&&(o.view=!0,o.select=this.select.compile(this.table.databaseid||e)),r.engineid)return w.engines[r.engineid].createTable(this.table.databaseid||e,a,this.ifnotexists,n);o.insert=function(n,r){var a=w.inserted;w.inserted=[n];var s=this,i=!1,o=!1;for(var u in s.beforeinsert){var c=s.beforeinsert[u];c&&(c.funcid?w.fn[c.funcid](n)===!1&&(o=o||!0):c.statement&&c.statement.execute(e)===!1&&(o=o||!0))}if(!o){var l=!1;for(var u in s.insteadofinsert){l=!0;var c=s.insteadofinsert[u];c&&(c.funcid?w.fn[c.funcid](n):c.statement&&c.statement.execute(e))}if(!l){for(var h in s.identities){var d=s.identities[h];n[h]=d.value}if(s.checks&&s.checks.length>0&&s.checks.forEach(function(e){if(!e.fn(n))throw new Error("Violation of CHECK constraint "+(e.id||""))}),s.columns.forEach(function(e){if(e.notnull&&"undefined"==typeof n[e.columnid])throw new Error("Wrong NULL value in NOT NULL column "+e.columnid)}),s.pk){var f=s.pk,p=f.onrightfn(n);if("undefined"!=typeof s.uniqs[f.hh][p]){if(!r)throw new Error("Cannot insert record, because it already exists in primary key index");i=s.uniqs[f.hh][p]}}if(s.uk&&s.uk.length&&s.uk.forEach(function(e){var t=e.onrightfn(n);if("undefined"!=typeof s.uniqs[e.hh][t]){if(!r)throw new Error("Cannot insert record, because it already exists in unique index");i=s.uniqs[e.hh][t]}}),i)s.update(function(e){for(var t in n)e[t]=n[t]},s.data.indexOf(i),t);else{s.data.push(n);for(var h in s.identities){var d=s.identities[h];d.value+=d.step}if(s.pk){var f=s.pk,p=f.onrightfn(n);s.uniqs[f.hh][p]=n}s.uk&&s.uk.length&&s.uk.forEach(function(e){var t=e.onrightfn(n);s.uniqs[e.hh][t]=n})}for(var u in s.afterinsert){var c=s.afterinsert[u];c&&(c.funcid?w.fn[c.funcid](n):c.statement&&c.statement.execute(e))}w.inserted=a}}},o["delete"]=function(t){var n=this,r=n.data[t],a=!1;for(var s in n.beforedelete){var i=n.beforedelete[s];i&&(i.funcid?w.fn[i.funcid](r)===!1&&(a=a||!0):i.statement&&i.statement.execute(e)===!1&&(a=a||!0))}if(a)return!1;var o=!1;for(var s in n.insteadofdelete){o=!0;var i=n.insteadofdelete[s];i&&(i.funcid?w.fn[i.funcid](r):i.statement&&i.statement.execute(e))}if(!o){if(this.pk){var u=this.pk,c=u.onrightfn(r);if("undefined"==typeof this.uniqs[u.hh][c])throw new Error("Something wrong with primary key index on table");this.uniqs[u.hh][c]=void 0}n.uk&&n.uk.length&&n.uk.forEach(function(e){var t=e.onrightfn(r);if("undefined"==typeof n.uniqs[e.hh][t])throw new Error("Something wrong with unique index on table");n.uniqs[e.hh][t]=void 0});for(var s in n.afterdelete){var i=n.afterdelete[s];i&&(i.funcid?w.fn[i.funcid](r):i.statement&&i.statement.execute(e))}}},o.deleteall=function(){this.data.length=0,this.pk&&(this.uniqs[this.pk.hh]={}),o.uk&&o.uk.length&&o.uk.forEach(function(e){o.uniqs[e.hh]={}})},o.update=function(t,n,r){var a,s=_(this.data[n]);if(this.pk&&(a=this.pk,a.pkaddr=a.onrightfn(s,r),"undefined"==typeof this.uniqs[a.hh][a.pkaddr]))throw new Error("Something wrong with index on table");o.uk&&o.uk.length&&o.uk.forEach(function(e){if(e.ukaddr=e.onrightfn(s),"undefined"==typeof o.uniqs[e.hh][e.ukaddr])throw new Error("Something wrong with unique index on table")}),t(s,r,w);var i=!1;for(var u in o.beforeupdate){var c=o.beforeupdate[u];c&&(c.funcid?w.fn[c.funcid](this.data[n],s)===!1&&(i=i||!0):c.statement&&c.statement.execute(e)===!1&&(i=i||!0))}if(i)return!1;var l=!1;for(var u in o.insteadofupdate){l=!0;var c=o.insteadofupdate[u];c&&(c.funcid?w.fn[c.funcid](this.data[n],s):c.statement&&c.statement.execute(e))}if(!l){if(o.checks&&o.checks.length>0&&o.checks.forEach(function(e){if(!e.fn(s))throw new Error("Violation of CHECK constraint "+(e.id||""))}),o.columns.forEach(function(e){if(e.notnull&&"undefined"==typeof s[e.columnid])throw new Error("Wrong NULL value in NOT NULL column "+e.columnid)}),this.pk&&(a.newpkaddr=a.onrightfn(s),"undefined"!=typeof this.uniqs[a.hh][a.newpkaddr]&&a.newpkaddr!==a.pkaddr))throw new Error("Record already exists");o.uk&&o.uk.length&&o.uk.forEach(function(e){if(e.newukaddr=e.onrightfn(s),"undefined"!=typeof o.uniqs[e.hh][e.newukaddr]&&e.newukaddr!==e.ukaddr)throw new Error("Record already exists")}),this.pk&&(this.uniqs[a.hh][a.pkaddr]=void 0,this.uniqs[a.hh][a.newpkaddr]=s),o.uk&&o.uk.length&&o.uk.forEach(function(e){o.uniqs[e.hh][e.ukaddr]=void 0,o.uniqs[e.hh][e.newukaddr]=s}),this.data[n]=s;for(var u in o.afterupdate){var c=o.afterupdate[u];c&&(c.funcid?w.fn[c.funcid](this.data[n],s):c.statement&&c.statement.execute(e))}}};var h;return w.options.nocount||(h=1),n&&(h=n(h)),h},w.fn.Date=Object,w.fn.Date=Date,w.fn.Number=Number,w.fn.String=String,w.fn.Boolean=Boolean,oe.EXTEND=w.utils.extend,oe.CHAR=String.fromCharCode.bind(String),oe.ASCII=function(e){return e.charCodeAt(0)},oe.COALESCE=function(){for(var e=0;e<arguments.length;e++)if("undefined"!=typeof arguments[e]&&("number"!=typeof arguments[e]||!isNaN(arguments[e])))return arguments[e]},oe.USER=function(){return"alasql"},oe.OBJECT_ID=function(e){return!!w.tables[e]},oe.DATE=function(e){return/\d{8}/.test(e)?new Date((+e.substr(0,4)),+e.substr(4,2)-1,(+e.substr(6,2))):new Date(e)},oe.NOW=function(){var e=new Date,t=e.getFullYear()+"."+("0"+(e.getMonth()+1)).substr(-2)+"."+("0"+e.getDate()).substr(-2);return t+=" "+("0"+e.getHours()).substr(-2)+":"+("0"+e.getMinutes()).substr(-2)+":"+("0"+e.getSeconds()).substr(-2),t+="."+("00"+e.getMilliseconds()).substr(-3)},oe.GETDATE=oe.NOW,oe.CURRENT_TIMESTAMP=oe.NOW,oe.SECOND=function(e){var e=new Date(e);return e.getSeconds()},oe.MINUTE=function(e){var e=new Date(e);return e.getMinutes()},oe.HOUR=function(e){var e=new Date(e);return e.getHours()},oe.DAYOFWEEK=oe.WEEKDAY=function(e){var e=new Date(e);return e.getDay()},oe.DAY=oe.DAYOFMONTH=function(e){var e=new Date(e);return e.getDate()},oe.MONTH=function(e){var e=new Date(e);return e.getMonth()+1},oe.YEAR=function(e){var e=new Date(e);return e.getFullYear()};var he={year:31536e6,quarter:7884e6,month:2592e6,week:6048e5,day:864e5,dayofyear:864e5,weekday:864e5,hour:36e5,minute:6e4,second:1e3,millisecond:1,microsecond:.001};w.stdfn.DATEDIFF=function(e,t,n){var r=new Date(n).getTime()-new Date(t).getTime();return r/he[e.toLowerCase()]},w.stdfn.DATEADD=function(e,t,n){var r=new Date(n).getTime()+t*he[e.toLowerCase()];return new Date(r)},w.stdfn.INTERVAL=function(e,t){return e*he[t.toLowerCase()]},w.stdfn.DATE_ADD=w.stdfn.ADDDATE=function(e,t){var n=new Date(e).getTime()+t;return new Date(n)},w.stdfn.DATE_SUB=w.stdfn.SUBDATE=function(e,t){var n=new Date(e).getTime()-t;return new Date(n)},z.DropTable=function(e){return z.extend(this,e)},z.DropTable.prototype.toString=function(){var e="DROP ";return e+=this.view?"VIEW":"TABLE",this.ifexists&&(e+=" IF EXISTS"),e+=" "+this.tables.toString()},z.DropTable.prototype.execute=function(e,t,n){var r=this.ifexists,a=0,s=0,i=this.tables.length;return this.tables.forEach(function(t){var o=w.databases[t.databaseid||e],u=t.tableid;if(!r||r&&o.tables[u]){if(o.tables[u])o.engineid?w.engines[o.engineid].dropTable(t.databaseid||e,u,r,function(e){delete o.tables[u],a+=e,s++,s==i&&n&&n(a)}):(delete o.tables[u],a++,s++,s==i&&n&&n(a));else if(!w.options.dropifnotexists)throw new Error("Can not drop table '"+t.tableid+"', because it does not exist in the database.")}else s++,s==i&&n&&n(a)}),a},z.TruncateTable=function(e){return z.extend(this,e)},z.TruncateTable.prototype.toString=function(){var e="TRUNCATE TABLE";return e+=" "+this.table.toString()},z.TruncateTable.prototype.execute=function(e,t,n){var r=w.databases[this.table.databaseid||e],a=this.table.tableid;if(r.engineid)return w.engines[r.engineid].truncateTable(this.table.databaseid||e,a,this.ifexists,n);if(!r.tables[a])throw new Error("Cannot truncate table becaues it does not exist");return r.tables[a].data=[],n?n(0):0},z.CreateVertex=function(e){return z.extend(this,e)},z.CreateVertex.prototype.toString=function(){var e="CREATE VERTEX ";return this["class"]&&(e+=this["class"]+" "),this.sharp&&(e+="#"+this.sharp+" "),this.sets?e+=this.sets.toString():this.content?e+=this.content.toString():this.select&&(e+=this.select.toString()),e},z.CreateVertex.prototype.toJS=function(e){var t="this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")";return t},z.CreateVertex.prototype.compile=function(e){var t=e,n=this.sharp;if("undefined"!=typeof this.name)var r="x.name="+this.name.toJS(),a=new Function("x",r);if(this.sets&&this.sets.length>0)var r=this.sets.map(function(e){return"x['"+e.column.columnid+"']="+e.expression.toJS("x","")}).join(";"),s=new Function("x,params,alasql",r);var i=function(e,r){var i,o,u=w.databases[t];o="undefined"!=typeof n?n:u.counter++;var c={$id:o,$node:"VERTEX"};return u.objects[c.$id]=c,i=c,a&&a(c),s&&s(c,e,w),r&&(i=r(i)),i};return i},z.CreateEdge=function(e){return z.extend(this,e)},z.CreateEdge.prototype.toString=function(){var e="CREATE EDGE ";return this["class"]&&(e+=this["class"]+" "),e},z.CreateEdge.prototype.toJS=function(e){var t="this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")";return t},z.CreateEdge.prototype.compile=function(e){var t=e,n=new Function("params,alasql","var y;return "+this.from.toJS()),r=new Function("params,alasql","var y;return "+this.to.toJS());if("undefined"!=typeof this.name)var a="x.name="+this.name.toJS(),s=new Function("x",a);if(this.sets&&this.sets.length>0)var a=this.sets.map(function(e){return"x['"+e.column.columnid+"']="+e.expression.toJS("x","")}).join(";"),i=new Function("x,params,alasql","var y;"+a);var o=function(e,a){var o=0,u=w.databases[t],c={$id:u.counter++,$node:"EDGE"},l=n(e,w),h=r(e,w);return c.$in=[l.$id],c.$out=[h.$id],void 0===l.$out&&(l.$out=[]),l.$out.push(c.$id),void 0===typeof h.$in&&(h.$in=[]),h.$in.push(c.$id),u.objects[c.$id]=c,o=c,s&&s(c),i&&i(c,e,w),a&&(o=a(o)),o};return o},z.CreateGraph=function(e){return z.extend(this,e)},z.CreateGraph.prototype.toString=function(){var e="CREATE GRAPH ";return this["class"]&&(e+=this["class"]+" "),e},z.CreateGraph.prototype.execute=function(e,t,n){function r(e){var t=w.databases[w.useid].objects;for(var n in t)if(t[n].name===e)return t[n]}function a(n){var r={};"undefined"!=typeof n.as&&(w.vars[n.as]=r),"undefined"!=typeof n.prop&&(r.$id=n.prop,r.name=n.prop),"undefined"!=typeof n.sharp&&(r.$id=n.sharp),"undefined"!=typeof n.name&&(r.name=n.name),"undefined"!=typeof n["class"]&&(r.$class=n["class"]);var a=w.databases[e];if("undefined"==typeof r.$id&&(r.$id=a.counter++),r.$node="VERTEX","undefined"!=typeof n.json&&P(r,new Function("params,alasql","var y;return "+n.json.toJS())(t,w)),a.objects[r.$id]=r,"undefined"!=typeof r.$class){if("undefined"==typeof w.databases[e].tables[r.$class])throw new Error("No such class. Pleace use CREATE CLASS");w.databases[e].tables[r.$class].data.push(r)}return s.push(r.$id),r}var s=[];return this.from&&w.from[this.from.funcid]&&(this.graph=w.from[this.from.funcid.toUpperCase()]),this.graph.forEach(function(n){if(n.source){var i={};"undefined"!=typeof n.as&&(w.vars[n.as]=i),"undefined"!=typeof n.prop&&(i.name=n.prop),"undefined"!=typeof n.sharp&&(i.$id=n.sharp),"undefined"!=typeof n.name&&(i.name=n.name),"undefined"!=typeof n["class"]&&(i.$class=n["class"]);var o=w.databases[e];"undefined"==typeof i.$id&&(i.$id=o.counter++),i.$node="EDGE","undefined"!=typeof n.json&&P(i,new Function("params,alasql","var y;return "+n.json.toJS())(t,w));var u;if(n.source.vars){var c=w.vars[n.source.vars];u="object"==typeof c?c:o.objects[c]}else{var l=n.source.sharp;"undefined"==typeof l&&(l=n.source.prop),u=w.databases[e].objects[l],"undefined"!=typeof u||!w.options.autovertex||"undefined"==typeof n.source.prop&&"undefined"==typeof n.source.name||(u=r(n.source.prop||n.source.name),"undefined"==typeof u&&(u=a(n.source)))}var h;if(n.source.vars){var c=w.vars[n.target.vars];h="object"==typeof c?c:o.objects[c]}else{var d=n.target.sharp;"undefined"==typeof d&&(d=n.target.prop),h=w.databases[e].objects[d],"undefined"!=typeof h||!w.options.autovertex||"undefined"==typeof n.target.prop&&"undefined"==typeof n.target.name||(h=r(n.target.prop||n.target.name),"undefined"==typeof h&&(h=a(n.target)))}if(i.$in=[u.$id],i.$out=[h.$id],"undefined"==typeof u.$out&&(u.$out=[]),u.$out.push(i.$id),"undefined"==typeof h.$in&&(h.$in=[]),h.$in.push(i.$id),o.objects[i.$id]=i,"undefined"!=typeof i.$class){if("undefined"==typeof w.databases[e].tables[i.$class])throw new Error("No such class. Pleace use CREATE CLASS");w.databases[e].tables[i.$class].data.push(i)}s.push(i.$id)}else a(n)}),n&&(s=n(s)),s},z.CreateGraph.prototype.compile1=function(e){var t=e,n=new Function("params,alasql","var y;return "+this.from.toJS()),r=new Function("params,alasql","var y;return "+this.to.toJS());if("undefined"!=typeof this.name)var a="x.name="+this.name.toJS(),s=new Function("x",a);if(this.sets&&this.sets.length>0)var a=this.sets.map(function(e){return"x['"+e.column.columnid+"']="+e.expression.toJS("x","")}).join(";"),i=new Function("x,params,alasql","var y;"+a);var o=function(e,a){var o=0,u=w.databases[t],c={$id:u.counter++,$node:"EDGE"},l=n(e,w),h=r(e,w);return c.$in=[l.$id],c.$out=[h.$id],"undefined"==typeof l.$out&&(l.$out=[]),l.$out.push(c.$id),"undefined"==typeof h.$in&&(h.$in=[]),h.$in.push(c.$id),u.objects[c.$id]=c,o=c,s&&s(c),i&&i(c,e,w),a&&(o=a(o)),o};return o},z.AlterTable=function(e){return z.extend(this,e)},z.AlterTable.prototype.toString=function(){var e="ALTER TABLE "+this.table.toString();return this.renameto&&(e+=" RENAME TO "+this.renameto),e},z.AlterTable.prototype.execute=function(e,t,n){var r=w.databases[e];if(r.dbversion=Date.now(),this.renameto){var a=this.table.tableid,s=this.renameto,i=1;if(r.tables[s])throw new Error("Can not rename a table '"+a+"' to '"+s+"', because the table with this name already exists");if(s==a)throw new Error("Can not rename a table '"+a+"' to itself");return r.tables[s]=r.tables[a],delete r.tables[a],i=1,n&&n(i),i}if(this.addcolumn){var r=w.databases[this.table.databaseid||e];r.dbversion++;var o=this.table.tableid,u=r.tables[o],c=this.addcolumn.columnid;if(u.xcolumns[c])throw new Error('Cannot add column "'+c+'", because it already exists in the table "'+o+'"');var l={columnid:c,dbtypeid:this.dbtypeid,dbsize:this.dbsize,dbprecision:this.dbprecision,dbenum:this.dbenum,defaultfns:null},h=function(){};u.columns.push(l),u.xcolumns[c]=l;for(var d=0,f=u.data.length;d<f;d++)u.data[d][c]=h();return n?n(1):1}if(this.modifycolumn){var r=w.databases[this.table.databaseid||e];r.dbversion++;var o=this.table.tableid,u=r.tables[o],c=this.modifycolumn.columnid;if(!u.xcolumns[c])throw new Error('Cannot modify column "'+c+'", because it was not found in the table "'+o+'"');var l=u.xcolumns[c];return l.dbtypeid=this.dbtypeid,l.dbsize=this.dbsize,l.dbprecision=this.dbprecision,l.dbenum=this.dbenum,n?n(1):1}if(this.renamecolumn){var r=w.databases[this.table.databaseid||e];r.dbversion++;var l,o=this.table.tableid,u=r.tables[o],c=this.renamecolumn,p=this.to;if(!u.xcolumns[c])throw new Error('Column "'+c+'" is not found in the table "'+o+'"');if(u.xcolumns[p])throw new Error('Column "'+p+'" already exists in the table "'+o+'"');if(c!=p){for(var b=0;b<u.columns.length;b++)u.columns[b].columnid==c&&(u.columns[b].columnid=p);u.xcolumns[p]=u.xcolumns[c],delete u.xcolumns[c];for(var d=0,f=u.data.length;d<f;d++)u.data[d][p]=u.data[d][c],delete u.data[d][c];return u.data.length}return n?n(0):0}if(this.dropcolumn){var r=w.databases[this.table.databaseid||e];r.dbversion++;for(var o=this.table.tableid,u=r.tables[o],c=this.dropcolumn,g=!1,b=0;b<u.columns.length;b++)if(u.columns[b].columnid==c){g=!0,u.columns.splice(b,1);break}if(!g)throw new Error('Cannot drop column "'+c+'", because it was not found in the table "'+o+'"');delete u.xcolumns[c];for(var d=0,f=u.data.length;d<f;d++)delete u.data[d][c];return n?n(u.data.length):u.data.length}throw Error("Unknown ALTER TABLE method")},z.CreateIndex=function(e){return z.extend(this,e)},z.CreateIndex.prototype.toString=function(){var e="CREATE";return this.unique&&(e+=" UNIQUE"),e+=" INDEX "+this.indexid+" ON "+this.table.toString(),e+="("+this.columns.toString()+")"},z.CreateIndex.prototype.execute=function(e,t,n){var r=w.databases[e],a=this.table.tableid,s=r.tables[a],i=this.indexid;r.indices[i]=a;var o=this.columns.map(function(e){return e.expression.toJS("r","")}).join("+'`'+"),u=new Function("r,params,alasql","return "+o);if(this.unique){s.uniqdefs[i]={rightfns:o};var c=s.uniqs[i]={};if(s.data.length>0)for(var l=0,h=s.data.length;l<h;l++){var d=o(s.data[l]);c[d]||(c[d]={num:0}),c[d].num++}}else{var f=D(o);s.inddefs[i]={rightfns:o,hh:f},s.indices[f]={};var p=s.indices[f]={};if(s.data.length>0)for(var l=0,h=s.data.length;l<h;l++){var d=u(s.data[l],t,w);p[d]||(p[d]=[]),p[d].push(s.data[l])}}var b=1;return n&&(b=n(b)),b},z.Reindex=function(e){return z.extend(this,e)},z.Reindex.prototype.toString=function(){var e="REINDEX "+this.indexid;return e},z.Reindex.prototype.execute=function(e,t,n){var r=w.databases[e],a=this.indexid,s=r.indices[a],i=r.tables[s];i.indexColumns();var o=1;return n&&(o=n(o)),o},z.DropIndex=function(e){return z.extend(this,e)},z.DropIndex.prototype.toString=function(){return"DROP INDEX"+this.indexid},z.DropIndex.prototype.compile=function(e){this.indexid;return function(){return 1}},z.WithSelect=function(e){return z.extend(this,e)},z.WithSelect.prototype.toString=function(){var e="WITH ";return e+=this.withs.map(function(e){return e.name+" AS ("+e.select.toString()+")"}).join(",")+" ",e+=this.select.toString()},z.WithSelect.prototype.execute=function(e,t,n){var r=this,a=[];r.withs.forEach(function(n){a.push(w.databases[e].tables[n.name]);var r=w.databases[e].tables[n.name]=new K({tableid:n.name});r.data=n.select.execute(e,t)});var s=1;return s=this.select.execute(e,t,function(t){return r.withs.forEach(function(t,n){a[n]?w.databases[e].tables[t.name]=a[n]:delete w.databases[e].tables[t.name]}),n&&(t=n(t)),t})},z.If=function(e){return z.extend(this,e)},z.If.prototype.toString=function(){var e="IF ";return e+=this.expression.toString(),e+=" "+this.thenstat.toString(),this.elsestat&&(e+=" ELSE "+this.thenstat.toString()),e},z.If.prototype.execute=function(e,t,n){var r,a=new Function("params,alasql,p","var y;return "+this.expression.toJS("({})","",null)).bind(this);return a(t,w)?r=this.thenstat.execute(e,t,n):this.elsestat?r=this.elsestat.execute(e,t,n):n&&(r=n(r)),r},z.While=function(e){return z.extend(this,e)},z.While.prototype.toString=function(){var e="WHILE ";return e+=this.expression.toString(),e+=" "+this.loopstat.toString()},z.While.prototype.execute=function(e,t,n){function r(u){o?s.push(u):o=!0,setTimeout(function(){i(t,w)?a.loopstat.execute(e,t,r):s=n(s)},0)}var a=this,s=[],i=new Function("params,alasql,p","var y;return "+this.expression.toJS());if(n){var o=!1;r()}else for(;i(t,w);){var u=a.loopstat.execute(e,t);s.push(u)}return s},z.Break=function(e){return z.extend(this,e)},z.Break.prototype.toString=function(){var e="BREAK";return e},z.Break.prototype.execute=function(e,t,n,r){var a=1;return n&&(a=n(a)),a},z.Continue=function(e){return z.extend(this,e)},z.Continue.prototype.toString=function(){var e="CONTINUE";return e},z.Continue.prototype.execute=function(e,t,n,r){var a=1;return n&&(a=n(a)),a},z.BeginEnd=function(e){return z.extend(this,e)},z.BeginEnd.prototype.toString=function(){var e="BEGIN "+this.statements.toString()+" END";return e},z.BeginEnd.prototype.execute=function(e,t,n,r){function a(){s.statements[o].execute(e,t,function(e){return i.push(e),o++,o<s.statements.length?a():void(n&&(i=n(i)))})}var s=this,i=[],o=0;return a(),i},z.Insert=function(e){return z.extend(this,e)},z.Insert.prototype.toString=function(){var e="INSERT ";return this.orreplace&&(e+="OR REPLACE "),this.replaceonly&&(e="REPLACE "),e+="INTO "+this.into.toString(),this.columns&&(e+="("+this.columns.toString()+")"),this.values&&(e+=" VALUES "+this.values.toString()),this.select&&(e+=" "+this.select.toString()),e},z.Insert.prototype.toJS=function(e,t,n){var r="this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+e+")";return r},z.Insert.prototype.compile=function(e){var t=this;e=t.into.databaseid||e;var n,r=w.databases[e],a=t.into.tableid,s=r.tables[a],i="",o="",i="db.tables['"+a+"'].dirty=true;",u="var a,aa=[],x;";if(this.values){this.exists&&(this.existsfn=this.exists.map(function(t){var n=t.compile(e);return n.query.modifier="RECORDSET",n})),this.queries&&(this.queriesfn=this.queries.map(function(t){var n=t.compile(e);return n.query.modifier="RECORDSET",n})),t.values.forEach(function(n){var u=[];t.columns?t.columns.forEach(function(e,t){var r="'"+e.columnid+"':";s.xcolumns&&s.xcolumns[e.columnid]?["INT","FLOAT","NUMBER","MONEY"].indexOf(s.xcolumns[e.columnid].dbtypeid)>=0?r+="(x="+n[t].toJS()+",x==undefined?undefined:+x)":w.fn[s.xcolumns[e.columnid].dbtypeid]?(r+="(new "+s.xcolumns[e.columnid].dbtypeid+"(",r+=n[t].toJS(),r+="))"):r+=n[t].toJS():r+=n[t].toJS(),u.push(r)}):n instanceof Array&&s.columns&&s.columns.length>0?s.columns.forEach(function(e,t){var r="'"+e.columnid+"':";["INT","FLOAT","NUMBER","MONEY"].indexOf(e.dbtypeid)>=0?r+="+"+n[t].toJS():w.fn[e.dbtypeid]?(r+="(new "+e.dbtypeid+"(",r+=n[t].toJS(),r+="))"):r+=n[t].toJS(),u.push(r)}):o=g(n),r.tables[a].defaultfns&&u.unshift(r.tables[a].defaultfns),i+=o?"a="+o+";":"a={"+u.join(",")+"};",r.tables[a].isclass&&(i+="var db=alasql.databases['"+e+"'];",i+='a.$class="'+a+'";',i+="a.$id=db.counter++;",i+="db.objects[a.$id]=a;"),r.tables[a].insert?(i+="var db=alasql.databases['"+e+"'];",i+="db.tables['"+a+"'].insert(a,"+(t.orreplace?"true":"false")+");"):i+="aa.push(a);"}),n=u+i,r.tables[a].insert||(i+="alasql.databases['"+e+"'].tables['"+a+"'].data=alasql.databases['"+e+"'].tables['"+a+"'].data.concat(aa);"),i+=r.tables[a].insert&&r.tables[a].isclass?"return a.$id;":"return "+t.values.length;var c=new Function("db, params, alasql","var y;"+u+i).bind(this)}else if(this.select){if(this.select.modifier="RECORDSET",selectfn=this.select.compile(e),r.engineid&&w.engines[r.engineid].intoTable){var l=function(e,t){var n=selectfn(e),s=w.engines[r.engineid].intoTable(r.databaseid,a,n.data,null,t);return s};return l}var h="return alasql.utils.extend(r,{"+s.defaultfns+"})",d=new Function("r,db,params,alasql",h),c=function(e,n,r){var s=selectfn(n).data;if(e.tables[a].insert)for(var i=0,o=s.length;i<o;i++){
var u=_(s[i]);d(u,e,n,r),e.tables[a].insert(u,t.orreplace)}else e.tables[a].data=e.tables[a].data.concat(s);return r.options.nocount?void 0:s.length}}else{if(!this["default"])throw new Error("Wrong INSERT parameters");var f="db.tables['"+a+"'].data.push({"+s.defaultfns+"});return 1;",c=new Function("db,params,alasql",f)}if(r.engineid&&w.engines[r.engineid].intoTable&&w.options.autocommit)var l=function(e,t){var s=new Function("db,params","var y;"+n+"return aa;")(r,e),i=w.engines[r.engineid].intoTable(r.databaseid,a,s,null,t);return i};else var l=function(t,n){var r=w.databases[e];w.options.autocommit&&r.engineid&&w.engines[r.engineid].loadTableData(e,a);var s=c(r,t,w);return w.options.autocommit&&r.engineid&&w.engines[r.engineid].saveTableData(e,a),w.options.nocount&&(s=void 0),n&&n(s),s};return l},z.Insert.prototype.execute=function(e,t,n){return this.compile(e)(t,n)},z.CreateTrigger=function(e){return z.extend(this,e)},z.CreateTrigger.prototype.toString=function(){var e="CREATE TRIGGER "+this.trigger+" ";return this.when&&(e+=this.when+" "),e+=this.action+" ON ",this.table.databaseid&&(e+=this.table.databaseid+"."),e+=this.table.tableid+" ",e+=this.statement.toString()},z.CreateTrigger.prototype.execute=function(e,t,n){var r=1,a=this.trigger;e=this.table.databaseid||e;var s=w.databases[e],i=this.table.tableid,o={action:this.action,when:this.when,statement:this.statement,funcid:this.funcid};return s.triggers[a]=o,"INSERT"==o.action&&"BEFORE"==o.when?s.tables[i].beforeinsert[a]=o:"INSERT"==o.action&&"AFTER"==o.when?s.tables[i].afterinsert[a]=o:"INSERT"==o.action&&"INSTEADOF"==o.when?s.tables[i].insteadofinsert[a]=o:"DELETE"==o.action&&"BEFORE"==o.when?s.tables[i].beforedelete[a]=o:"DELETE"==o.action&&"AFTER"==o.when?s.tables[i].afterdelete[a]=o:"DELETE"==o.action&&"INSTEADOF"==o.when?s.tables[i].insteadofdelete[a]=o:"UPDATE"==o.action&&"BEFORE"==o.when?s.tables[i].beforeupdate[a]=o:"UPDATE"==o.action&&"AFTER"==o.when?s.tables[i].afterupdate[a]=o:"UPDATE"==o.action&&"INSTEADOF"==o.when&&(s.tables[i].insteadofupdate[a]=o),n&&(r=n(r)),r},z.DropTrigger=function(e){return z.extend(this,e)},z.DropTrigger.prototype.toString=function(){var e="DROP TRIGGER "+this.trigger;return e},z.DropTrigger.prototype.execute=function(e,t,n){var r=0,a=w.databases[e],s=this.trigger,i=a.triggers[s];if(!i)throw new Error("Trigger not found");return r=1,delete a.tables[i].beforeinsert[s],delete a.tables[i].afterinsert[s],delete a.tables[i].insteadofinsert[s],delete a.tables[i].beforedelte[s],delete a.tables[i].afterdelete[s],delete a.tables[i].insteadofdelete[s],delete a.tables[i].beforeupdate[s],delete a.tables[i].afterupdate[s],delete a.tables[i].insteadofupdate[s],delete a.triggers[s],n&&(r=n(r)),r},z.Delete=function(e){return z.extend(this,e)},z.Delete.prototype.toString=function(){var e="DELETE FROM "+this.table.toString();return this.where&&(e+=" WHERE "+this.where.toString()),e},z.Delete.prototype.compile=function(e){e=this.table.databaseid||e;var t,n=this.table.tableid,r=w.databases[e];if(this.where){this.exists&&(this.existsfn=this.exists.map(function(t){var n=t.compile(e);return n.query.modifier="RECORDSET",n})),this.queries&&(this.queriesfn=this.queries.map(function(t){var n=t.compile(e);return n.query.modifier="RECORDSET",n}));var a=new Function("r,params,alasql","var y;return ("+this.where.toJS("r","")+")").bind(this);t=function(t,s){if(r.engineid&&w.engines[r.engineid].deleteFromTable)return w.engines[r.engineid].deleteFromTable(e,n,a,t,s);w.options.autocommit&&r.engineid&&"LOCALSTORAGE"==r.engineid&&w.engines[r.engineid].loadTableData(e,n);for(var i=r.tables[n],o=i.data.length,u=[],c=0,l=i.data.length;c<l;c++)a(i.data[c],t,w)?i["delete"]&&i["delete"](c,t,w):u.push(i.data[c]);i.data=u;var h=o-i.data.length;return w.options.autocommit&&r.engineid&&"LOCALSTORAGE"==r.engineid&&w.engines[r.engineid].saveTableData(e,n),s&&s(h),h}}else t=function(t,a){w.options.autocommit&&r.engineid&&w.engines[r.engineid].loadTableData(e,n);var s=r.tables[n];s.dirty=!0;var i=r.tables[n].data.length;r.tables[n].data.length=0;for(var o in r.tables[n].uniqs)r.tables[n].uniqs[o]={};for(var o in r.tables[n].indices)r.tables[n].indices[o]={};return w.options.autocommit&&r.engineid&&w.engines[r.engineid].saveTableData(e,n),a&&a(i),i};return t},z.Delete.prototype.execute=function(e,t,n){return this.compile(e)(t,n)},z.Update=function(e){return z.extend(this,e)},z.Update.prototype.toString=function(){var e="UPDATE "+this.table.toString();return this.columns&&(e+=" SET "+this.columns.toString()),this.where&&(e+=" WHERE "+this.where.toString()),e},z.SetColumn=function(e){return z.extend(this,e)},z.SetColumn.prototype.toString=function(){return this.column.toString()+"="+this.expression.toString()},z.Update.prototype.compile=function(e){e=this.table.databaseid||e;var t=this.table.tableid;if(this.where){this.exists&&(this.existsfn=this.exists.map(function(t){var n=t.compile(e);return n.query.modifier="RECORDSET",n})),this.queries&&(this.queriesfn=this.queries.map(function(t){var n=t.compile(e);return n.query.modifier="RECORDSET",n}));var n=new Function("r,params,alasql","var y;return "+this.where.toJS("r","")).bind(this)}var r=w.databases[e].tables[t].onupdatefns||"";r+=";",this.columns.forEach(function(e){r+="r['"+e.column.columnid+"']="+e.expression.toJS("r","")+";"});var a=new Function("r,params,alasql","var y;"+r),s=function(r,s){var i=w.databases[e];if(i.engineid&&w.engines[i.engineid].updateTable)return w.engines[i.engineid].updateTable(e,t,a,n,r,s);w.options.autocommit&&i.engineid&&w.engines[i.engineid].loadTableData(e,t);var o=i.tables[t];if(!o)throw new Error("Table '"+t+"' not exists");for(var u=0,c=0,l=o.data.length;c<l;c++)n&&!n(o.data[c],r,w)||(o.update?o.update(a,c,r):a(o.data[c],r,w),u++);return w.options.autocommit&&i.engineid&&w.engines[i.engineid].saveTableData(e,t),s&&s(u),u};return s},z.Update.prototype.execute=function(e,t,n){return this.compile(e)(t,n)},z.Merge=function(e){return z.extend(this,e)},z.Merge.prototype.toString=function(){var e="MERGE ";return e+=this.into.tableid+" ",this.into.as&&(e+="AS "+this.into.as+" "),e+="USING "+this.using.tableid+" ",this.using.as&&(e+="AS "+this.using.as+" "),e+="ON "+this.on.toString()+" ",this.matches.forEach(function(t){e+="WHEN ",t.matched||(e+="NOT "),e+="MATCHED ",t.bytarget&&(e+="BY TARGET "),t.bysource&&(e+="BY SOURCE "),t.expr&&(e+="AND "+t.expr.toString()+" "),e+="THEN ",t.action["delete"]&&(e+="DELETE "),t.action.insert&&(e+="INSERT ",t.action.columns&&(e+="("+t.action.columns.toString()+") "),t.action.values&&(e+="VALUES ("+t.action.values.toString()+") "),t.action.defaultvalues&&(e+="DEFAULT VALUES ")),t.action.update&&(e+="UPDATE ",e+=t.action.update.map(function(e){return e.toString()}).join(",")+" ")}),e},z.Merge.prototype.execute=function(e,t,n){var r=1;return n&&(r=n(r)),r},z.CreateDatabase=function(e){return z.extend(this,e)},z.CreateDatabase.prototype.toString=function(){var e="CREATE";return this.engineid&&(e+=" "+this.engineid),e+=" DATABASE",this.ifnotexists&&(e+=" IF NOT EXISTS"),e+=" "+this.databaseid,this.args&&this.args.length>0&&(e+="("+this.args.map(function(e){return e.toString()}).join(", ")+")"),this.as&&(e+=" AS "+this.as),e},z.CreateDatabase.prototype.execute=function(e,t,n){var r;if(this.args&&this.args.length>0&&(r=this.args.map(function(e){return new Function("params,alasql","var y;return "+e.toJS())(t,w)})),this.engineid){var a=w.engines[this.engineid].createDatabase(this.databaseid,this.args,this.ifnotexists,this.as,n);return a}var s=this.databaseid;if(w.databases[s])throw new Error("Database '"+s+"' already exists");var a=(new w.Database(s),1);return n?n(a):a},z.AttachDatabase=function(e){return z.extend(this,e)},z.AttachDatabase.prototype.toString=function(){var e="ATTACH";return this.engineid&&(e+=" "+this.engineid),e+=" DATABASE "+this.databaseid,args&&(e+="(",args.length>0&&(e+=args.map(function(e){return e.toString()}).join(", ")),e+=")"),this.as&&(e+=" AS "+this.as),e},z.AttachDatabase.prototype.execute=function(e,t,n){if(!w.engines[this.engineid])throw new Error('Engine "'+this.engineid+'" is not defined.');var r=w.engines[this.engineid].attachDatabase(this.databaseid,this.as,this.args,t,n);return r},z.DetachDatabase=function(e){return z.extend(this,e)},z.DetachDatabase.prototype.toString=function(){var e="DETACH";return e+=" DATABASE "+this.databaseid},z.DetachDatabase.prototype.execute=function(e,t,n){if(!w.databases[this.databaseid].engineid)throw new Error('Cannot detach database "'+this.engineid+'", because it was not attached.');var r,a=this.databaseid;if(a==w.DEFAULTDATABASEID)throw new Error("Drop of default database is prohibited");if(w.databases[a])delete w.databases[a],a==w.useid&&w.use(),r=1;else{if(!this.ifexists)throw new Error("Database '"+a+"' does not exist");r=0}return n&&n(r),r},z.UseDatabase=function(e){return z.extend(this,e)},z.UseDatabase.prototype.toString=function(){return"USE DATABASE "+this.databaseid},z.UseDatabase.prototype.execute=function(e,t,n){var r=this.databaseid;if(!w.databases[r])throw new Error("Database '"+r+"' does not exist");w.use(r);var a=1;return n&&n(a),a},z.DropDatabase=function(e){return z.extend(this,e)},z.DropDatabase.prototype.toString=function(){var e="DROP";return this.ifexists&&(e+=" IF EXISTS"),e+=" DATABASE "+this.databaseid},z.DropDatabase.prototype.execute=function(e,t,n){if(this.engineid)return w.engines[this.engineid].dropDatabase(this.databaseid,this.ifexists,n);var r,a=this.databaseid;if(a==w.DEFAULTDATABASEID)throw new Error("Drop of default database is prohibited");if(w.databases[a]){if(w.databases[a].engineid)throw new Error("Cannot drop database '"+a+"', because it is attached. Detach it.");delete w.databases[a],a==w.useid&&w.use(),r=1}else{if(!this.ifexists)throw new Error("Database '"+a+"' does not exist");r=0}return n&&n(r),r},z.Declare=function(e){return z.extend(this,e)},z.Declare.prototype.toString=function(){var e="DECLARE ";return this.declares&&this.declares.length>0&&(e=this.declares.map(function(e){var t="";return t+="@"+e.variable+" ",t+=e.dbtypeid,this.dbsize&&(t+="("+this.dbsize,this.dbprecision&&(t+=","+this.dbprecision),t+=")"),e.expression&&(t+=" = "+e.expression.toString()),t}).join(",")),e},z.Declare.prototype.execute=function(e,t,n){var r=1;return this.declares&&this.declares.length>0&&this.declares.map(function(e){var n=e.dbtypeid;w.fn[n]||(n=n.toUpperCase()),w.declares[e.variable]={dbtypeid:n,dbsize:e.dbsize,dbprecision:e.dbprecision},e.expression&&(w.vars[e.variable]=new Function("params,alasql","return "+e.expression.toJS("({})","",null))(t,w),w.declares[e.variable]&&(w.vars[e.variable]=w.stdfn.CONVERT(w.vars[e.variable],w.declares[e.variable])))}),n&&(r=n(r)),r},z.ShowDatabases=function(e){return z.extend(this,e)},z.ShowDatabases.prototype.toString=function(){var e="SHOW DATABASES";return this.like&&(e+="LIKE "+this.like.toString()),e},z.ShowDatabases.prototype.execute=function(e,t,n){if(this.engineid)return w.engines[this.engineid].showDatabases(this.like,n);var r=this,a=[];for(dbid in w.databases)a.push({databaseid:dbid});return r.like&&a&&a.length>0&&(a=a.filter(function(e){return w.utils.like(r.like.value,e.databaseid)})),n&&n(a),a},z.ShowTables=function(e){return z.extend(this,e)},z.ShowTables.prototype.toString=function(){var e="SHOW TABLES";return this.databaseid&&(e+=" FROM "+this.databaseid),this.like&&(e+=" LIKE "+this.like.toString()),e},z.ShowTables.prototype.execute=function(e,t,n){var r=w.databases[this.databaseid||e],a=this,s=[];for(tableid in r.tables)s.push({tableid:tableid});return a.like&&s&&s.length>0&&(s=s.filter(function(e){return w.utils.like(a.like.value,e.tableid)})),n&&n(s),s},z.ShowColumns=function(e){return z.extend(this,e)},z.ShowColumns.prototype.toString=function(){var e="SHOW COLUMNS";return this.table.tableid&&(e+=" FROM "+this.table.tableid),this.databaseid&&(e+=" FROM "+this.databaseid),e},z.ShowColumns.prototype.execute=function(e){var t=w.databases[this.databaseid||e],n=t.tables[this.table.tableid];if(n&&n.columns){var r=n.columns.map(function(e){return{columnid:e.columnid,dbtypeid:e.dbtypeid,dbsize:e.dbsize}});return r}return[]},z.ShowIndex=function(e){return z.extend(this,e)},z.ShowIndex.prototype.toString=function(){var e="SHOW INDEX";return this.table.tableid&&(e+=" FROM "+this.table.tableid),this.databaseid&&(e+=" FROM "+this.databaseid),e},z.ShowIndex.prototype.execute=function(e){var t=w.databases[this.databaseid||e],n=t.tables[this.table.tableid],r=[];if(n&&n.indices)for(var a in n.indices)r.push({hh:a,len:Object.keys(n.indices[a]).length});return r},z.ShowCreateTable=function(e){return z.extend(this,e)},z.ShowCreateTable.prototype.toString=function(){var e="SHOW CREATE TABLE "+this.table.tableid;return this.databaseid&&(e+=" FROM "+this.databaseid),e},z.ShowCreateTable.prototype.execute=function(e){var t=w.databases[this.databaseid||e],n=t.tables[this.table.tableid];if(n){var r="CREATE TABLE "+this.table.tableid+" (",a=[];return n.columns&&(n.columns.forEach(function(e){var t=e.columnid+" "+e.dbtypeid;e.dbsize&&(t+="("+e.dbsize+")"),e.primarykey&&(t+=" PRIMARY KEY"),a.push(t)}),r+=a.join(", ")),r+=")"}throw new Error('There is no such table "'+this.table.tableid+'"')},z.SetVariable=function(e){return z.extend(this,e)},z.SetVariable.prototype.toString=function(){var e="SET ";return"undefined"!=typeof this.value&&(e+=this.variable.toUpperCase()+" "+(this.value?"ON":"OFF")),this.expression&&(e+=this.method+this.variable+" = "+this.expression.toString()),e},z.SetVariable.prototype.execute=function(e,t,n){if("undefined"!=typeof this.value){var r=this.value;"ON"==r?r=!0:"OFF"==r&&(r=!1),w.options[this.variable]=r}else if(this.expression){this.exists&&(this.existsfn=this.exists.map(function(t){var n=t.compile(e);return n.query&&!n.query.modifier&&(n.query.modifier="RECORDSET"),n})),this.queries&&(this.queriesfn=this.queries.map(function(t){var n=t.compile(e);return n.query&&!n.query.modifier&&(n.query.modifier="RECORDSET"),n}));var a=new Function("params,alasql","return "+this.expression.toJS("({})","",null)).bind(this)(t,w);if(w.declares[this.variable]&&(a=w.stdfn.CONVERT(a,w.declares[this.variable])),this.props&&this.props.length>0){if("@"==this.method)var s="alasql.vars['"+this.variable+"']";else var s="params['"+this.variable+"']";s+=this.props.map(function(e){return"string"==typeof e?"['"+e+"']":"number"==typeof e?"["+e+"]":"["+e.toJS()+"]"}).join(),new Function("value,params,alasql","var y;"+s+"=value")(a,t,w)}else"@"==this.method?w.vars[this.variable]=a:t[this.variable]=a}var a=1;return n&&(a=n(a)),a},w.test=function(e,t,n){if(0===arguments.length)return void w.log(w.con.results);if(1===arguments.length){var r=Date.now();return n(),void w.con.log(Date.now()-r)}2===arguments.length&&(n=t,t=1);for(var r=Date.now(),a=0;a<t;a++)n();w.con.results[e]=Date.now()-r},w.log=function(e,t){var n=w.useid,r=w.options.logtarget;C.isNode&&(r="console");var a;if(a="string"==typeof e?w(e,t):e,"console"===r||C.isNode)"string"==typeof e&&w.options.logprompt&&console.log(n+">",e),a instanceof Array&&console.table?console.table(a):console.log(le(a));else{var s;s="output"===r?document.getElementsByTagName("output")[0]:"string"==typeof r?document.getElementById(r):r;var i="";if("string"==typeof e&&w.options.logprompt&&(i+="<pre><code>"+w.pretty(e)+"</code></pre>"),a instanceof Array)if(0===a.length)i+="<p>[ ]</p>";else if("object"!=typeof a[0]||a[0]instanceof Array)for(var o=0,u=a.length;o<u;o++)i+="<p>"+m(a[o])+"</p>";else i+=m(a);else i+=m(a);s.innerHTML+=i}},w.clear=function(){var e=w.options.logtarget;if(C.isNode||C.isMeteorServer)console.clear&&console.clear();else{var t;t="output"===e?document.getElementsByTagName("output")[0]:"string"==typeof e?document.getElementById(e):e,t.innerHTML=""}},w.write=function(e){var t=w.options.logtarget;if(C.isNode||C.isMeteorServer)console.log&&console.log(e);else{var n;n="output"===t?document.getElementsByTagName("output")[0]:"string"==typeof t?document.getElementById(t):t,n.innerHTML+=e}},w.prompt=function(e,t,n){if(C.isNode)throw new Error("The prompt not realized for Node.js");var r=0;if("string"==typeof e&&(e=document.getElementById(e)),"string"==typeof t&&(t=document.getElementById(t)),t.textContent=w.useid,n){w.prompthistory.push(n),r=w.prompthistory.length;try{var a=Date.now();w.log(n),w.write('<p style="color:blue">'+(Date.now()-a)+" ms</p>")}catch(s){w.write("<p>"+olduseid+"&gt;&nbsp;<b>"+sql+"</b></p>"),w.write('<p style="color:red">'+s+"<p>")}}var i=e.getBoundingClientRect().top+document.getElementsByTagName("body")[0].scrollTop;E(document.getElementsByTagName("body")[0],i,500),e.onkeydown=function(n){if(13===n.which){var a=e.value,s=w.useid;e.value="",w.prompthistory.push(a),r=w.prompthistory.length;try{var i=Date.now();w.log(a),w.write('<p style="color:blue">'+(Date.now()-i)+" ms</p>")}catch(o){w.write("<p>"+s+"&gt;&nbsp;"+w.pretty(a,!1)+"</p>"),w.write('<p style="color:red">'+o+"<p>")}e.focus(),t.textContent=w.useid;var u=e.getBoundingClientRect().top+document.getElementsByTagName("body")[0].scrollTop;E(document.getElementsByTagName("body")[0],u,500)}else 38===n.which?(r--,r<0&&(r=0),w.prompthistory[r]&&(e.value=w.prompthistory[r],n.preventDefault())):40===n.which&&(r++,r>=w.prompthistory.length?(r=w.prompthistory.length,e.value=""):w.prompthistory[r]&&(e.value=w.prompthistory[r],n.preventDefault()))}},z.BeginTransaction=function(e){return z.extend(this,e)},z.BeginTransaction.prototype.toString=function(){return"BEGIN TRANSACTION"},z.BeginTransaction.prototype.execute=function(e,t,n){var r=1;return w.databases[e].engineid?w.engines[w.databases[w.useid].engineid].begin(e,n):(n&&n(r),r)},z.CommitTransaction=function(e){return z.extend(this,e)},z.CommitTransaction.prototype.toString=function(){return"COMMIT TRANSACTION"},z.CommitTransaction.prototype.execute=function(e,t,n){var r=1;return w.databases[e].engineid?w.engines[w.databases[w.useid].engineid].commit(e,n):(n&&n(r),r)},z.RollbackTransaction=function(e){return z.extend(this,e)},z.RollbackTransaction.prototype.toString=function(){return"ROLLBACK TRANSACTION"},z.RollbackTransaction.prototype.execute=function(e,t,n){var r=1;return w.databases[e].engineid?w.engines[w.databases[e].engineid].rollback(e,n):(n&&n(r),r)},w.options.tsql&&(w.stdfn.OBJECT_ID=function(e,t){"undefined"==typeof t&&(t="T"),t=t.toUpperCase();var n=e.split("."),r=w.useid,a=n[0];2==n.length&&(r=n[0],a=n[1]);var s=w.databases[r].tables;r=w.databases[r].databaseid;for(var i in s)if(i==a){if(s[i].view&&"V"==t)return r+"."+i;if(!s[i].view&&"T"==t)return r+"."+i;return}}),w.options.mysql,(w.options.mysql||w.options.sqlite)&&(w.from.INFORMATION_SCHEMA=function(e,t,n,r,a){if("VIEWS"==e||"TABLES"==e){var s=[];for(var i in w.databases){var o=w.databases[i].tables;for(var u in o)(o[u].view&&"VIEWS"==e||!o[u].view&&"TABLES"==e)&&s.push({TABLE_CATALOG:i,TABLE_NAME:u})}return n&&(s=n(s,r,a)),s}throw new Error("Unknown INFORMATION_SCHEMA table")}),w.options.postgres,w.options.oracle,w.options.sqlite,w.into.SQL=function(e,t,n,r,a){var s;"object"==typeof e&&(t=e,e=void 0);var i={};if(w.utils.extend(i,t),"undefined"==typeof i.tableid)throw new Error("Table for INSERT TO is not defined.");var o="";0==r.length&&"object"==typeof n[0]&&(r=Object.keys(n[0]).map(function(e){return{columnid:e}}));for(var u=0,c=n.length;u<c;u++)o+="INSERT INTO "+t.tableid+"(",o+=r.map(function(e){return e.columnid}).join(","),o+=") VALUES (",o+=r.map(function(e){var t=n[u][e.columnid];return e.typeid?"STRING"!=e.typeid&&"VARCHAR"!=e.typeid&&"NVARCHAR"!=e.typeid&&"CHAR"!=e.typeid&&"NCHAR"!=e.typeid||(t="'"+O(t)+"'"):"string"==typeof t&&(t="'"+O(t)+"'"),t}),o+=");\n";return s=w.utils.saveFile(e,o),a&&(s=a(s)),s},w.into.HTML=function(e,t,n,r,a){var s=1;if("object"!=typeof exports){var i={headers:!0};w.utils.extend(i,t);var o=document.querySelector(e);if(!o)throw new Error("Selected HTML element is not found");0==r.length&&"object"==typeof n[0]&&(r=Object.keys(n[0]).map(function(e){return{columnid:e}}));var u=document.createElement("table"),c=document.createElement("thead");if(u.appendChild(c),i.headers){for(var l=document.createElement("tr"),h=0;h<r.length;h++){var d=document.createElement("th");d.textContent=r[h].columnid,l.appendChild(d)}c.appendChild(l)}var f=document.createElement("tbody");u.appendChild(f);for(var p=0;p<n.length;p++){for(var l=document.createElement("tr"),h=0;h<r.length;h++){var d=document.createElement("td");d.textContent=n[p][r[h].columnid],l.appendChild(d)}f.appendChild(l)}w.utils.domEmptyChildren(o),o.appendChild(u)}return a&&(s=a(s)),s},w.into.JSON=function(e,t,n,r,a){var s=1;"object"==typeof e&&(t=e,e=void 0);var i=JSON.stringify(n);return s=w.utils.saveFile(e,i),a&&(s=a(s)),s},w.into.TXT=function(e,t,n,r,a){0==r.length&&n.length>0&&(r=Object.keys(n[0]).map(function(e){return{columnid:e}})),"object"==typeof e&&(t=e,e=void 0);var s=n.length,i="";if(n.length>0){var o=r[0].columnid;i+=n.map(function(e){return e[o]}).join("\n")}return s=w.utils.saveFile(e,i),a&&(s=a(s)),s},w.into.TAB=w.into.TSV=function(e,t,n,r,a){var s={};return w.utils.extend(s,t),s.separator="\t",w.into.CSV(e,s,n,r,a)},w.into.CSV=function(e,t,n,r,a){0==r.length&&n.length>0&&(r=Object.keys(n[0]).map(function(e){return{columnid:e}})),"object"==typeof e&&(t=e,e=void 0);var s={headers:!0};s.separator=";",s.quote='"',s.utf8Bom=!0,"undefined"==typeof t.headers||t.headers||(s.utf8Bom=!1),w.utils.extend(s,t);var i=n.length,o=s.utf8Bom?"\ufeff":"";return s.headers&&(o+=s.quote+r.map(function(e){return e.columnid.trim()}).join(s.quote+s.separator+s.quote)+s.quote+"\r\n"),n.forEach(function(e,t){o+=r.map(function(t){var n=e[t.columnid];return n=(n+"").replace(new RegExp("\\"+s.quote,"g"),'""'),+n!=n&&(n=s.quote+n+s.quote),n}).join(s.separator)+"\r\n"}),i=w.utils.saveFile(e,o),a&&(i=a(i)),i},w.into.XLS=function(e,t,n,r,a){function s(){var e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" \t\txmlns="http://www.w3.org/TR/REC-html40"><head> \t\t<meta charset="utf-8" /> \t\t<!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets> ';if(e+=" <x:ExcelWorksheet><x:Name>"+o.sheetid+"</x:Name><x:WorksheetOptions><x:DisplayGridlines/>     </x:WorksheetOptions> \t\t</x:ExcelWorksheet>",e+="</x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head>",e+="<body","undefined"!=typeof o.style&&(e+=' style="',e+="function"==typeof o.style?o.style(o):o.style,e+='"'),e+=">",e+="<table>","undefined"!=typeof o.caption){var a=o.caption;"string"==typeof a&&(a={title:a}),e+="<caption","undefined"!=typeof a.style&&(e+=' style="',e+="function"==typeof a.style?a.style(o,a):a.style,e+='" '),e+=">",e+=a.title,e+="</caption>"}return"undefined"!=typeof o.columns?r=o.columns:0==r.length&&n.length>0&&"object"==typeof n[0]&&(r=n[0]instanceof Array?n[0].map(function(e,t){return{columnid:t}}):Object.keys(n[0]).map(function(e){return{columnid:e}})),r.forEach(function(e,t){"undefined"!=typeof o.column&&P(e,o.column),"undefined"==typeof e.width&&(o.column&&"undefined"!=o.column.width?e.width=o.column.width:e.width="120px"),"number"==typeof e.width&&(e.width=e.width+"px"),"undefined"==typeof e.columnid&&(e.columnid=t),"undefined"==typeof e.title&&(e.title=""+e.columnid.trim()),o.headers&&o.headers instanceof Array&&(e.title=o.headers[t])}),e+="<colgroups>",r.forEach(function(t){e+='<col style="width: '+t.width+'"></col>'}),e+="</colgroups>",o.headers&&(e+="<thead>",e+="<tr>",r.forEach(function(t,n){e+="<th ","undefined"!=typeof t.style&&(e+=' style="',e+="function"==typeof t.style?t.style(o,t,n):t.style,e+='" '),e+=">","undefined"!=typeof t.title&&(e+="function"==typeof t.title?t.title(o,t,n):t.title),e+="</th>"}),e+="</tr>",e+="</thead>"),e+="<tbody>",n&&n.length>0&&n.forEach(function(n,a){if(!(a>o.limit)){e+="<tr";var s={};P(s,o.row),o.rows&&o.rows[a]&&P(s,o.rows[a]),"undefined"!=typeof s&&"undefined"!=typeof s.style&&(e+=' style="',e+="function"==typeof s.style?s.style(o,n,a):s.style,e+='" '),e+=">",r.forEach(function(r,i){var u={};P(u,o.cell),P(u,s.cell),"undefined"!=typeof o.column&&P(u,o.column.cell),P(u,r.cell),o.cells&&o.cells[a]&&o.cells[a][i]&&P(u,o.cells[a][i]);var c=n[r.columnid];"function"==typeof u.value&&(c=u.value(c,o,n,r,u,a,i));var l=u.typeid;"function"==typeof l&&(l=l(c,o,n,r,u,a,i)),"undefined"==typeof l&&("number"==typeof c?l="number":"string"==typeof c?l="string":"boolean"==typeof c?l="boolean":"object"==typeof c&&c instanceof Date&&(l="date"));var h="";"money"==l?h='mso-number-format:"\\#\\,\\#\\#0\\\\ __\\.";white-space:normal;':"number"==l?h=" ":"date"==l?h='mso-number-format:"Short Date";':t.types&&t.types[l]&&t.types[l].typestyle&&(h=t.types[l].typestyle),h=h||'mso-number-format:"\\@";',e+="<td style='"+h+"' ","undefined"!=typeof u.style&&(e+=' style="',e+="function"==typeof u.style?u.style(c,o,n,r,a,i):u.style,e+='" '),e+=">";var d=u.format;if("undefined"==typeof c)e+="";else if("undefined"!=typeof d)if("function"==typeof d)e+=d(c);else{if("string"!=typeof d)throw new Error("Unknown format type. Should be function or string");e+=c}else e+="number"==l||"date"==l?c.toString():"money"==l?(+c).toFixed(2):c;e+="</td>"}),e+="</tr>"}}),e+="</tbody>",e+="</table>",e+="</body>",e+="</html>"}"object"==typeof e&&(t=e,e=void 0);var i={};t&&t.sheets&&(i=t.sheets);var o={headers:!0};"undefined"!=typeof i.Sheet1?o=i[0]:"undefined"!=typeof t&&(o=t),"undefined"==typeof o.sheetid&&(o.sheetid="Sheet1");var u=s(),c=w.utils.saveFile(e,u);return a&&(c=a(c)),c},w.into.XLSXML=function(e,t,n,r,a){function s(){function e(e){var t="";for(var n in e){t+="<"+n;for(var r in e[n])t+=" ",t+="x:"==r.substr(0,2)?r:"ss:",t+=r+'="'+e[n][r]+'"';t+="/>"}var a=D(t);return u[a]||(u[a]={styleid:c},s+='<Style ss:ID="s'+c+'">',s+=t,s+="</Style>",c++),"s"+u[a].styleid}var a='<?xml version="1.0"?> \t\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \t\t xmlns:o="urn:schemas-microsoft-com:office:office" \t\t xmlns:x="urn:schemas-microsoft-com:office:excel" \t\t xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \t\t xmlns:html="http://www.w3.org/TR/REC-html40"> \t\t <DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \t\t </DocumentProperties> \t\t <OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office"> \t\t  <AllowPNG/> \t\t </OfficeDocumentSettings> \t\t <ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \t\t  <ActiveSheet>0</ActiveSheet> \t\t </ExcelWorkbook> \t\t <Styles> \t\t  <Style ss:ID="Default" ss:Name="Normal"> \t\t   <Alignment ss:Vertical="Bottom"/> \t\t   <Borders/> \t\t   <Font ss:FontName="Calibri" x:Family="Swiss" ss:Size="12" ss:Color="#000000"/> \t\t   <Interior/> \t\t   <NumberFormat/> \t\t   <Protection/> \t\t  </Style>',s="",o=" </Styles>",u={},c=62;for(var l in i){var h=i[l];"undefined"!=typeof h.columns?r=h.columns:0==r.length&&n.length>0&&"object"==typeof n[0]&&(r=n[0]instanceof Array?n[0].map(function(e,t){return{columnid:t}}):Object.keys(n[0]).map(function(e){return{columnid:e}})),r.forEach(function(e,t){"undefined"!=typeof h.column&&P(e,h.column),"undefined"==typeof e.width&&(h.column&&"undefined"!=typeof h.column.width?e.width=h.column.width:e.width=120),"number"==typeof e.width&&(e.width=e.width),"undefined"==typeof e.columnid&&(e.columnid=t),"undefined"==typeof e.title&&(e.title=""+e.columnid.trim()),h.headers&&h.headers instanceof Array&&(e.title=h.headers[idx])}),o+='<Worksheet ss:Name="'+l+'"> \t  \t\t\t<Table ss:ExpandedColumnCount="'+r.length+'" ss:ExpandedRowCount="'+((h.headers?1:0)+Math.min(n.length,h.limit||n.length))+'" x:FullColumns="1" \t   \t\t\tx:FullRows="1" ss:DefaultColumnWidth="65" ss:DefaultRowHeight="15">',r.forEach(function(e,t){o+='<Column ss:Index="'+(t+1)+'" ss:AutoFitWidth="0" ss:Width="'+e.width+'"/>'}),h.headers&&(o+='<Row ss:AutoFitHeight="0">',r.forEach(function(t,n){if(o+="<Cell ","undefined"!=typeof t.style){var r={};"function"==typeof t.style?P(r,t.style(h,t,n)):P(r,t.style),o+='ss:StyleID="'+e(r)+'"'}o+='><Data ss:Type="String">',"undefined"!=typeof t.title&&(o+="function"==typeof t.title?t.title(h,t,n):t.title),o+="</Data></Cell>"}),o+="</Row>"),n&&n.length>0&&n.forEach(function(n,a){if(!(a>h.limit)){var s={};if(P(s,h.row),h.rows&&h.rows[a]&&P(s,h.rows[a]),o+="<Row ","undefined"!=typeof s){var i={};"undefined"!=typeof s.style&&("function"==typeof s.style?P(i,s.style(h,n,a)):P(i,s.style),o+='ss:StyleID="'+e(i)+'"')}o+=">",r.forEach(function(r,i){var u={};P(u,h.cell),P(u,s.cell),"undefined"!=typeof h.column&&P(u,h.column.cell),P(u,r.cell),h.cells&&h.cells[a]&&h.cells[a][i]&&P(u,h.cells[a][i]);var c=n[r.columnid];"function"==typeof u.value&&(c=u.value(c,h,n,r,u,a,i));var l=u.typeid;"function"==typeof l&&(l=l(c,h,n,r,u,a,i)),"undefined"==typeof l&&("number"==typeof c?l="number":"string"==typeof c?l="string":"boolean"==typeof c?l="boolean":"object"==typeof c&&c instanceof Date&&(l="date"));var d="String";"number"==l?d="Number":"date"==l&&(d="Date");var f="";"money"==l?f='mso-number-format:"\\#\\,\\#\\#0\\\\ __\\.";white-space:normal;':"number"==l?f=" ":"date"==l?f='mso-number-format:"Short Date";':t.types&&t.types[l]&&t.types[l].typestyle&&(f=t.types[l].typestyle),f=f||'mso-number-format:"\\@";',o+="<Cell ";var p={};"undefined"!=typeof u.style&&("function"==typeof u.style?P(p,u.style(c,h,n,r,a,i)):P(p,u.style),o+='ss:StyleID="'+e(p)+'"'),o+=">",o+='<Data ss:Type="'+d+'">';var b=u.format;if("undefined"==typeof c)o+="";else if("undefined"!=typeof b)if("function"==typeof b)o+=b(c);else{if("string"!=typeof b)throw new Error("Unknown format type. Should be function or string");o+=c}else o+="number"==l||"date"==l?c.toString():"money"==l?(+c).toFixed(2):c;o+="</Data></Cell>"}),o+="</Row>"}}),o+="</Table></Worksheet>"}return o+="</Workbook>",a+s+o}t=t||{},"object"==typeof e&&(t=e,e=void 0);var i={};t&&t.sheets?i=t.sheets:i.Sheet1=t;var o=w.utils.saveFile(e,s());return a&&(o=a(o)),o},w.into.XLSX=function(e,t,n,r,s){function i(){"object"==typeof t&&t instanceof Array?n&&n.length>0&&n.forEach(function(e,n){o(t[n],e,void 0,n+1)}):o(t,n,r,1),u(s)}function o(e,t,n,r){var a={sheetid:"Sheet "+r,headers:!0};w.utils.extend(a,e),(!n||0==n.length)&&t.length>0&&(n=Object.keys(t[0]).map(function(e){return{columnid:e}}));var s={};h.SheetNames.indexOf(a.sheetid)>-1?s=h.Sheets[a.sheetid]:(h.SheetNames.push(a.sheetid),h.Sheets[a.sheetid]={},s=h.Sheets[a.sheetid]);var i="A1";a.range&&(i=a.range);var o=w.utils.xlscn(i.match(/[A-Z]+/)[0]),u=+i.match(/[0-9]+/)[0]-1;if(h.Sheets[a.sheetid]["!ref"])var c=h.Sheets[a.sheetid]["!ref"],l=w.utils.xlscn(c.match(/[A-Z]+/)[0]),d=+c.match(/[0-9]+/)[0]-1;else var l=1,d=1;var f=Math.max(o+n.length,l),p=Math.max(u+t.length+2,d),b=u+1;h.Sheets[a.sheetid]["!ref"]="A1:"+w.utils.xlsnc(f)+p,a.headers&&(n.forEach(function(e,t){s[w.utils.xlsnc(o+t)+""+b]={v:e.columnid.trim()}}),b++);for(var g=0;g<t.length;g++)n.forEach(function(e,n){var r={v:t[g][e.columnid]};"number"==typeof t[g][e.columnid]?r.t="n":"string"==typeof t[g][e.columnid]?r.t="s":"boolean"==typeof t[g][e.columnid]?r.t="b":"object"==typeof t[g][e.columnid]&&t[g][e.columnid]instanceof Date&&(r.t="d"),s[w.utils.xlsnc(o+n)+""+b]=r}),b++}function u(t){function n(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}var r;if("undefined"==typeof e)c=h;else if(r=G(),C.isNode||C.isMeteorServer)r.writeFile(h,e);else{var s={bookType:"xlsx",bookSST:!1,type:"binary"},i=r.write(h,s);if(9==a())throw new Error("Cannot save XLSX files in IE9. Please use XLS() export function");ve(new Blob([n(i)],{type:"application/octet-stream"}),e)}}var c=1;V(r,[{columnid:"_"}])&&(n=n.map(function(e){return e._}),r=void 0);var l=G();"object"==typeof e&&(t=e,e=void 0);var h={SheetNames:[],Sheets:{}};return t.sourcefilename?w.utils.loadBinaryFile(t.sourcefilename,!!s,function(e){h=l.read(e,{type:"binary"}),i()}):i(),s&&(c=s(c)),c},w.from.METEOR=function(e,t,n,r,a){var s=e.find(t).fetch();return n&&(s=n(s,r,a)),s},w.from.TABLETOP=function(e,t,n,r,a){var s=[],i={headers:!0,simpleSheet:!0,
key:e};return w.utils.extend(i,t),i.callback=function(e){for(var t=0;t<e.length;t++)for(var i in e[t])e[t][i]==+e[t][i]&&e[t].hasOwnProperty(i)&&(e[t][i]=+e[t][i]);s=e,n&&(s=n(s,r,a))},Tabletop.init(i),null},w.from.HTML=function(e,t,n,r,a){var s={};w.utils.extend(s,t);var i=document.querySelector(e);if(!i&&"TABLE"!==i.tagName)throw new Error("Selected HTML element is not a TABLE");var o=[],u=s.headers;if(u&&!(u instanceof Array)){u=[];for(var c=i.querySelector("thead tr").children,l=0;l<c.length;l++)c.item(l).style&&"none"===c.item(l).style.display&&s.skipdisplaynone?u.push(void 0):u.push(c.item(l).textContent)}for(var h=i.querySelectorAll("tbody tr"),d=0;d<h.length;d++){for(var f=h.item(d).children,p={},l=0;l<f.length;l++)f.item(l).style&&"none"===f.item(l).style.display&&s.skipdisplaynone||(u?p[u[l]]=f.item(l).textContent:p[l]=f.item(l).textContent);o.push(p)}return n&&(o=n(o,r,a)),o},w.from.RANGE=function(e,t,n,r,a){for(var s=[],i=e;i<=t;i++)s.push(i);return n&&(s=n(s,r,a)),s},w.from.FILE=function(e,t,n,r,a){var s;if("string"==typeof e)s=e;else{if(!(e instanceof Event))throw new Error("Wrong usage of FILE() function");s=e.target.files[0].name}var i=s.split("."),o=i[i.length-1].toUpperCase();if(w.from[o])return w.from[o](e,t,n,r,a);throw new Error("Cannot recognize file type for loading")},w.from.JSON=function(e,t,n,r,a){var s;return w.utils.loadFile(e,!!n,function(e){s=JSON.parse(e),n&&(s=n(s,r,a))}),s},w.from.TXT=function(e,t,n,r,a){var s;return w.utils.loadFile(e,!!n,function(e){s=e.split(/\r?\n/),""===s[s.length-1]&&s.pop();for(var t=0,i=s.length;t<i;t++)s[t]==+s[t]&&(s[t]=+s[t]),s[t]=[s[t]];n&&(s=n(s,r,a))}),s},w.from.TAB=w.from.TSV=function(e,t,n,r,a){return t=t||{},t.separator="\t",w.from.CSV(e,t,n,r,a)},w.from.CSV=function(e,t,n,r,a){var s={separator:",",quote:'"',headers:!0};w.utils.extend(s,t);var i,o;return w.utils.loadFile(e,!!n,function(e){function t(){if(g>=b)return f;if(c)return c=!1,d;var t=g;if(e.charCodeAt(t)===h){for(var n=t;n++<b;)if(e.charCodeAt(n)===h){if(e.charCodeAt(n+1)!==h)break;++n}g=n+2;var r=e.charCodeAt(n+1);return 13===r?(c=!0,10===e.charCodeAt(n+2)&&++g):10===r&&(c=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;g<b;){var r=e.charCodeAt(g++),a=1;if(10===r)c=!0;else if(13===r)c=!0,10===e.charCodeAt(g)&&(++g,++a);else if(r!==l)continue;return e.substring(t,g-a)}return e.substring(t)}for(var u,c,l=s.separator.charCodeAt(0),h=s.quote.charCodeAt(0),d={},f={},p=[],b=e.length,g=0,m=0;(u=t())!==f;){for(var v=[];u!==d&&u!==f;)v.push(u.trim()),u=t();if(s.headers){if(0===m){if("boolean"==typeof s.headers)o=v;else if(s.headers instanceof Array){o=s.headers;var E={};o.forEach(function(e,t){E[e]=v[t],"undefined"!=typeof E[e]&&0!==E[e].length&&E[e].trim()==+E[e]&&(E[e]=+E[e])}),p.push(E)}}else{var E={};o.forEach(function(e,t){E[e]=v[t],"undefined"!=typeof E[e]&&0!==E[e].length&&E[e].trim()==+E[e]&&(E[e]=+E[e])}),p.push(E)}m++}else p.push(v)}if(i=p,s.headers&&a&&a.sources&&a.sources[r]){var y=a.sources[r].columns=[];o.forEach(function(e){y.push({columnid:e})})}n&&(i=n(i,r,a))}),i},w.from.XLS=function(e,t,n,r,a){return y(J(),e,t,n,r,a)},w.from.XLSX=function(e,t,n,r,a){return y(G(),e,t,n,r,a)},w.from.XML=function(e,t,n,r,a){var s;return w.utils.loadFile(e,!!n,function(e){s=S(e).root,n&&(s=n(s,r,a))}),s},w.from.GEXF=function(e,t,n,r,a){var s;return w("SEARCH FROM XML("+e+")",[],function(e){s=e,console.log(s),n&&(s=n(s))}),s},z.Help=function(e){return z.extend(this,e)},z.Help.prototype.toString=function(){var e="HELP";return this.subject&&(e+=" "+this.subject),e};var de=[{command:"ALTER TABLE table RENAME TO table"},{command:"ALTER TABLE table ADD COLUMN column coldef"},{command:"ALTER TABLE table MODIFY COLUMN column coldef"},{command:"ALTER TABLE table RENAME COLUMN column TO column"},{command:"ALTER TABLE table DROP column"},{command:"ATTACH engine DATABASE database"},{command:"ASSERT value"},{command:"BEGIN [TRANSACTION]"},{command:"COMMIT [TRANSACTION]"},{command:"CREATE [engine] DATABASE [IF NOT EXISTS] database"},{command:"CREATE TABLE [IF NOT EXISTS] table (column definitions)"},{command:"DELETE FROM table [WHERE expression]"},{command:"DETACH DATABASE database"},{command:"DROP [engine] DATABASE [IF EXISTS] database"},{command:"DROP TABLE [IF EXISTS] table"},{command:"INSERT INTO table VALUES value,..."},{command:"INSERT INTO table DEFAULT VALUES"},{command:"INSERT INTO table SELECT select"},{command:"HELP [subject]"},{command:"ROLLBACK [TRANSACTION]"},{command:"SELECT [modificator] columns [INTO table] [FROM table,...] [[mode] JOIN [ON] [USING]] [WHERE ] [GROUP BY] [HAVING] [ORDER BY] "},{command:"SET option value"},{command:"SHOW [engine] DATABASES"},{command:"SHOW TABLES"},{command:"SHOW CREATE TABLE table"},{command:"UPDATE table SET column1 = expression1, ... [WHERE expression]"},{command:"USE [DATABASE] database"},{command:"expression"},{command:'See also <a href="http://github/agershun/alasq">http://github/agershun/alasq</a> for more information'}];z.Help.prototype.execute=function(e,t,n){var r=[];return this.subject?r.push('See also <a href="http://github/agershun/alasq">http://github/agershun/alasq</a> for more information'):r=de,n&&(r=n(r)),r},z.Print=function(e){return z.extend(this,e)},z.Print.prototype.toString=function(){var e="PRINT";return this.statement&&(e+=" "+this.statement.toString()),e},z.Print.prototype.execute=function(e,t,n){var r=this,a=1;if(w.precompile(this,e,t),this.exprs&&this.exprs.length>0){var s=this.exprs.map(function(e){var n=new Function("params,alasql,p","var y;return "+e.toJS("({})","",null)).bind(r),a=n(t,w);return le(a)});console.log.apply(console,s)}else if(this.select){var i=this.select.execute(e,t);console.log(le(i))}else console.log();return n&&(a=n(a)),a},z.Source=function(e){return z.extend(this,e)},z.Source.prototype.toString=function(){var e="SOURCE";return this.url&&(e+=" '"+this.url+" '"),e},z.Source.prototype.execute=function(e,t,n){var r;return $(this.url,!!n,function(e){return r=w(e),n&&(r=n(r)),r},function(e){throw e}),r},z.Require=function(e){return z.extend(this,e)},z.Require.prototype.toString=function(){var e="REQUIRE";return this.paths&&this.paths.length>0&&(e+=this.paths.map(function(e){return e.toString()}).join(",")),this.plugins&&this.plugins.length>0&&(e+=this.plugins.map(function(e){return e.toUpperCase()}).join(",")),e},z.Require.prototype.execute=function(e,t,n){var r=this,a=0,s="";return this.paths&&this.paths.length>0?this.paths.forEach(function(e){$(e.value,!!n,function(e){a++,s+=e,a<r.paths.length||(new Function("params,alasql",s)(t,w),n&&(a=n(a)))})}):this.plugins&&this.plugins.length>0?this.plugins.forEach(function(e){w.plugins[e]||$(w.path+"/alasql-"+e.toLowerCase()+".js",!!n,function(i){a++,s+=i,a<r.plugins.length||(new Function("params,alasql",s)(t,w),w.plugins[e]=!0,n&&(a=n(a)))})}):n&&(a=n(a)),a},z.Assert=function(e){return z.extend(this,e)},z.Source.prototype.toString=function(){var e="ASSERT";return this.value&&(e+=" "+JSON.stringify(this.value)),e},z.Assert.prototype.execute=function(e){if(!V(w.res,this.value))throw new Error((this.message||"Assert wrong")+": "+JSON.stringify(w.res)+" == "+JSON.stringify(this.value));return 1};var fe=w.engines.WEBSQL=function(){};fe.createDatabase=function(e,t,n,r){var a=1,s=openDatabase(e,t[0],t[1],t[2]);if(this.dbid){var i=w.createDatabase(this.dbid);i.engineid="WEBSQL",i.wdbid=e,sb.wdb=i}if(!s)throw new Error('Cannot create WebSQL database "'+databaseid+'"');return r&&r(a),a},fe.dropDatabase=function(e){throw new Error("This is impossible to drop WebSQL database.")},fe.attachDatabase=function(e,t,n,r,a){var s=1;if(w.databases[t])throw new Error('Unable to attach database as "'+t+'" because it already exists');return alasqlopenDatabase(e,n[0],n[1],n[2]),s};var pe=w.engines.INDEXEDDB=function(){};C.hasIndexedDB&&("function"==typeof C.global.indexedDB.webkitGetDatabaseNames?pe.getDatabaseNames=C.global.indexedDB.webkitGetDatabaseNames.bind(C.global.indexedDB):(pe.getDatabaseNames=function(){var e={},t={contains:function(e){return!0},notsupported:!0};return setTimeout(function(){var n={target:{result:t}};e.onsuccess(n)},0),e},pe.getDatabaseNamesNotSupported=!0)),pe.showDatabases=function(e,t){var n=pe.getDatabaseNames();n.onsuccess=function(n){var r=n.target.result;if(pe.getDatabaseNamesNotSupported)throw new Error("SHOW DATABASE is not supported in this browser");var a=[];if(e)var s=new RegExp(e.value.replace(/\%/g,".*"),"g");for(var i=0;i<r.length;i++)e&&!r[i].match(s)||a.push({databaseid:r[i]});t(a)}},pe.createDatabase=function(e,t,n,r,a){console.log(arguments);var s=C.global.indexedDB;if(n){var i=s.open(e,1);i.onsuccess=function(e){e.target.result.close(),a&&a(1)}}else{var o=s.open(e,1);o.onupgradeneeded=function(e){console.log("abort"),e.target.transaction.abort()},o.onsuccess=function(t){if(console.log("success"),!n)throw new Error('IndexedDB: Cannot create new database "'+e+'" because it already exists');a&&a(0)}}},pe.createDatabase=function(e,t,n,r,a){var s=C.global.indexedDB;if(pe.getDatabaseNamesNotSupported)if(n){var i=!0,o=s.open(e);o.onupgradeneeded=function(e){i=!1},o.onsuccess=function(e){e.target.result.close(),i?a&&a(0):a&&a(1)}}else{var u=s.open(e);u.onupgradeneeded=function(e){e.target.transaction.abort()},u.onabort=function(e){a&&a(1)},u.onsuccess=function(t){throw t.target.result.close(),new Error('IndexedDB: Cannot create new database "'+e+'" because it already exists')}}else{var u=pe.getDatabaseNames();u.onsuccess=function(t){var r=t.target.result;if(r.contains(e)){if(n)return void(a&&a(0));throw new Error('IndexedDB: Cannot create new database "'+e+'" because it already exists')}var i=s.open(e,1);i.onsuccess=function(e){e.target.result.close(),a&&a(1)}}}},pe.dropDatabase=function(e,t,n){var r=C.global.indexedDB,a=pe.getDatabaseNames();a.onsuccess=function(a){var s=a.target.result;if(!s.contains(e)){if(t)return void(n&&n(0));throw new Error('IndexedDB: Cannot drop new database "'+e+'" because it does not exist')}var i=r.deleteDatabase(e);i.onsuccess=function(e){n&&n(1)}}},pe.attachDatabase=function(e,t,n,r,a){if(!C.hasIndexedDB)throw new Error("The current browser does not support IndexedDB");var s=C.global.indexedDB,i=pe.getDatabaseNames();i.onsuccess=function(n){var r=n.target.result;if(!r.contains(e))throw new Error('IndexedDB: Cannot attach database "'+e+'" because it does not exist');var i=s.open(e);i.onsuccess=function(n){var r=n.target.result,s=new w.Database(t||e);s.engineid="INDEXEDDB",s.ixdbid=e,s.tables=[];for(var i=r.objectStoreNames,o=0;o<i.length;o++)s.tables[i[o]]={};n.target.result.close(),a&&a(1)}}},pe.createTable=function(e,t,n,r){var a=C.global.indexedDB,s=w.databases[e].ixdbid,i=pe.getDatabaseNames();i.onsuccess=function(n){var i=n.target.result;if(!i.contains(s))throw new Error('IndexedDB: Cannot create table in database "'+s+'" because it does not exist');var o=a.open(s);o.onversionchange=function(e){e.target.result.close()},o.onsuccess=function(n){var i=n.target.result.version;n.target.result.close();var o=a.open(s,i+1);o.onupgradeneeded=function(e){var n=e.target.result;n.createObjectStore(t,{autoIncrement:!0})},o.onsuccess=function(e){e.target.result.close(),r&&r(1)},o.onerror=function(e){throw e},o.onblocked=function(n){throw new Error('Cannot create table "'+t+'" because database "'+e+'"  is blocked')}}}},pe.dropTable=function(e,t,n,r){var a=C.global.indexedDB,s=w.databases[e].ixdbid,i=pe.getDatabaseNames();i.onsuccess=function(i){var o=i.target.result;if(!o.contains(s))throw new Error('IndexedDB: Cannot drop table in database "'+s+'" because it does not exist');var u=a.open(s);u.onversionchange=function(e){e.target.result.close()},u.onsuccess=function(i){var o=i.target.result.version;i.target.result.close();var u=a.open(s,o+1);u.onupgradeneeded=function(r){var a=r.target.result;if(a.objectStoreNames.contains(t))a.deleteObjectStore(t),delete w.databases[e].tables[t];else if(!n)throw new Error('IndexedDB: Cannot drop table "'+t+'" because it does not exist')},u.onsuccess=function(e){e.target.result.close(),r&&r(1)},u.onerror=function(e){throw e},u.onblocked=function(n){throw new Error('Cannot drop table "'+t+'" because database "'+e+'" is blocked')}}}},pe.intoTable=function(e,t,n,r,a){var s=C.global.indexedDB,i=w.databases[e].ixdbid,o=s.open(i);o.onsuccess=function(e){for(var r=e.target.result,s=r.transaction([t],"readwrite"),i=s.objectStore(t),o=0,u=n.length;o<u;o++)i.add(n[o]);s.oncomplete=function(){r.close(),a&&a(u)}}},pe.fromTable=function(e,t,n,r,a){var s=C.global.indexedDB,i=w.databases[e].ixdbid,o=s.open(i);o.onsuccess=function(e){var s=[],i=e.target.result,o=i.transaction([t]),u=o.objectStore(t),c=u.openCursor();c.onblocked=function(e){},c.onerror=function(e){},c.onsuccess=function(e){var t=e.target.result;t?(s.push(t.value),t["continue"]()):(i.close(),n&&n(s,r,a))}}},pe.deleteFromTable=function(e,t,n,r,a){var s=C.global.indexedDB,i=w.databases[e].ixdbid,o=s.open(i);o.onsuccess=function(e){var s=e.target.result,i=s.transaction([t],"readwrite"),o=i.objectStore(t),u=o.openCursor(),c=0;u.onblocked=function(e){},u.onerror=function(e){},u.onsuccess=function(e){var t=e.target.result;t?(n&&!n(t.value,r)||(t["delete"](),c++),t["continue"]()):(s.close(),a&&a(c))}}},pe.updateTable=function(e,t,n,r,a,s){var i=C.global.indexedDB,o=w.databases[e].ixdbid,u=i.open(o);u.onsuccess=function(e){var i=e.target.result,o=i.transaction([t],"readwrite"),u=o.objectStore(t),c=u.openCursor(),l=0;c.onblocked=function(e){},c.onerror=function(e){},c.onsuccess=function(e){var t=e.target.result;if(t){if(!r||r(t.value,a)){var o=t.value;n(o,a),t.update(o),l++}t["continue"]()}else i.close(),s&&s(l)}}};var be=w.engines.LOCALSTORAGE=function(){};be.get=function(e){var t=localStorage.getItem(e);if("undefined"!=typeof t){var n=void 0;try{n=JSON.parse(t)}catch(r){throw new Error("Cannot parse JSON object from localStorage"+t)}return n}},be.set=function(e,t){"undefined"==typeof t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t))},be.storeTable=function(e,t){var n=w.databases[e],r=n.tables[t],a={};a.columns=r.columns,a.data=r.data,a.identities=r.identities,be.set(n.lsdbid+"."+t,a)},be.restoreTable=function(e,t){var n=w.databases[e],r=be.get(n.lsdbid+"."+t),a=new w.Table;for(var s in r)a[s]=r[s];return n.tables[t]=a,a.indexColumns(),a},be.removeTable=function(e,t){var n=w.databases[e];localStorage.removeItem(n.lsdbid+"."+t)},be.createDatabase=function(e,t,n,r,a){var s=1,i=be.get("alasql");if(n&&i&&i.databases&&i.databases[e])s=0;else{if(i||(i={databases:{}}),i.databases&&i.databases[e])throw new Error('localStorage: Cannot create new database "'+e+'" because it already exists');i.databases[e]=!0,be.set("alasql",i),be.set(e,{databaseid:e,tables:{}})}return a&&(s=a(s)),s},be.dropDatabase=function(e,t,n){var r=1,a=be.get("alasql");if(t&&a&&a.databases&&!a.databases[e])r=0;else{if(!a){if(t)return n?n(0):0;throw new Error("There is no any AlaSQL databases in localStorage")}if(a.databases&&!a.databases[e])throw new Error('localStorage: Cannot drop database "'+e+'" because there is no such database');delete a.databases[e],be.set("alasql",a);var s=be.get(e);for(var i in s.tables)localStorage.removeItem(e+"."+i);localStorage.removeItem(e)}return n&&(r=n(r)),r},be.attachDatabase=function(e,t,n,r,a){var s=1;if(w.databases[t])throw new Error('Unable to attach database as "'+t+'" because it already exists');t||(t=e);var i=new w.Database(t);if(i.engineid="LOCALSTORAGE",i.lsdbid=e,i.tables=be.get(e).tables,!w.options.autocommit&&i.tables)for(var o in i.tables)be.restoreTable(t,o);return a&&(s=a(s)),s},be.showDatabases=function(e,t){var n=[],r=be.get("alasql");if(e)var a=new RegExp(e.value.replace(/\%/g,".*"),"g");if(r&&r.databases){for(dbid in r.databases)n.push({databaseid:dbid});e&&n&&n.length>0&&(n=n.filter(function(e){return e.databaseid.match(a)}))}return t&&(n=t(n)),n},be.createTable=function(e,t,n,r){var a=1,s=w.databases[e].lsdbid,i=be.get(s+"."+t);if(i&&!n)throw new Error('Table "'+t+'" alsready exists in localStorage database "'+s+'"');var o=be.get(s);w.databases[e].tables[t];return o.tables[t]=!0,be.set(s,o),be.storeTable(e,t),r&&(a=r(a)),a},be.dropTable=function(e,t,n,r){var a=1,s=w.databases[e].lsdbid;if(w.options.autocommit)var i=be.get(s);else var i=w.databases[e];if(!n&&!i.tables[t])throw new Error('Cannot drop table "'+t+'" in localStorage, because it does not exist');return delete i.tables[t],be.set(s,i),be.removeTable(e,t),r&&(a=r(a)),a},be.fromTable=function(e,t,n,r,a){var s=(w.databases[e].lsdbid,be.restoreTable(e,t).data);return n&&(s=n(s,r,a)),s},be.intoTable=function(e,t,n,r,a){var s=(w.databases[e].lsdbid,n.length),i=be.restoreTable(e,t);return i.data||(i.data=[]),i.data=i.data.concat(n),be.storeTable(e,t),a&&(s=a(s)),s},be.loadTableData=function(e,t){w.databases[e],w.databases[e].lsdbid;be.restoreTable(e,t)},be.saveTableData=function(e,t){var n=w.databases[e],r=w.databases[e].lsdbid;be.storeTable(r,t),n.tables[t].data=void 0},be.commit=function(e,t){var n=w.databases[e],r=w.databases[e].lsdbid,a={databaseid:r,tables:{}};if(n.tables)for(var s in n.tables)a.tables[s]=!0,be.storeTable(e,s);return be.set(r,a),t?t(1):1},be.begin=be.commit,be.rollback=function(e,t){return};var ge=w.engines.SQLITE=function(){};ge.createDatabase=function(e,t,n,r,a){throw new Error("Connot create SQLITE database in memory. Attach it.")},ge.dropDatabase=function(e){throw new Error("This is impossible to drop SQLite database. Detach it.")},ge.attachDatabase=function(e,t,n,r,a){var s=1;if(w.databases[t])throw new Error('Unable to attach database as "'+t+'" because it already exists');if(n[0]&&n[0]instanceof z.StringValue||n[0]instanceof z.ParamValue){if(n[0]instanceof z.StringValue)var i=n[0].value;else if(n[0]instanceof z.ParamValue)var i=r[n[0].param];return w.utils.loadBinaryFile(i,!0,function(n){var r=new w.Database(t||e);r.engineid="SQLITE",r.sqldbid=e;var s=r.sqldb=new SQL.Database(n);r.tables=[];var i=s.exec("SELECT * FROM sqlite_master WHERE type='table'")[0].values;i.forEach(function(e){r.tables[e[1]]={};var t=r.tables[e[1]].columns=[],n=w.parse(e[4]),a=n.statements[0].columns;a&&a.length>0&&a.forEach(function(e){t.push(e)})}),a(1)},function(e){throw new Error('Cannot open SQLite database file "'+n[0].value+'"')}),s}throw new Error("Cannot attach SQLite database without a file")},ge.fromTable=function(e,t,n,r,a){var s=w.databases[e].sqldb.exec("SELECT * FROM "+t),i=a.sources[r].columns=[];s[0].columns.length>0&&s[0].columns.forEach(function(e){i.push({columnid:e})});var o=[];s[0].values.length>0&&s[0].values.forEach(function(e){var t={};i.forEach(function(n,r){t[n.columnid]=e[r]}),o.push(t)}),n&&n(o,r,a)},ge.intoTable=function(e,t,n,r,a){for(var s=w.databases[e].sqldb,i=0,o=n.length;i<o;i++){var u="INSERT INTO "+t+" (",c=n[i],l=Object.keys(c);u+=l.join(","),u+=") VALUES (",u+=l.map(function(e){return v=c[e],"string"==typeof v&&(v="'"+v+"'"),v}).join(","),u+=")",s.exec(u)}var h=o;return a&&a(h),h};var me=w.engines.FILESTORAGE=w.engines.FILE=function(){};if(me.createDatabase=function(e,t,n,r,a){var s=1,i=t[0].value;return w.utils.fileExists(i,function(e){if(e){if(n)return s=0,a&&(s=a(s)),s;throw new Error("Cannot create new database file, because it alreagy exists")}var t={tables:{}};w.utils.saveFile(i,JSON.stringify(t),function(e){a&&(s=a(s))})}),s},me.dropDatabase=function(e,t,n){var r,a=e.value;return w.utils.fileExists(a,function(e){if(e)r=1,w.utils.deleteFile(a,function(){r=1,n&&(r=n(r))});else{if(!t)throw new Error("Cannot drop database file, because it does not exist");r=0,n&&(r=n(r))}}),r},me.attachDatabase=function(e,t,n,r,a){var s=1;if(w.databases[t])throw new Error('Unable to attach database as "'+t+'" because it already exists');var i=new w.Database(t||e);return i.engineid="FILESTORAGE",i.filename=n[0].value,$(i.filename,!!a,function(e){try{i.data=JSON.parse(e)}catch(t){throw new Error("Data in FileStorage database are corrupted")}if(i.tables=i.data.tables,!w.options.autocommit&&i.tables)for(var n in i.tables)i.tables[n].data=i.data[n];a&&(s=a(s))}),s},me.createTable=function(e,t,n,r){var a=w.databases[e],s=a.data[t],i=1;if(s&&!n)throw new Error('Table "'+t+'" alsready exists in the database "'+fsdbid+'"');var o=w.databases[e].tables[t];return a.data.tables[t]={columns:o.columns},a.data[t]=[],me.updateFile(e),r&&r(i),i},me.updateFile=function(e){var t=w.databases[e];return t.issaving?void(t.postsave=!0):(t.issaving=!0,t.postsave=!1,void w.utils.saveFile(t.filename,JSON.stringify(t.data),function(){t.issaving=!1,t.postsave&&setTimeout(function(){me.updateFile(e)},50)}))},me.dropTable=function(e,t,n,r){var a=1,s=w.databases[e];if(!n&&!s.tables[t])throw new Error('Cannot drop table "'+t+'" in fileStorage, because it does not exist');return delete s.tables[t],delete s.data.tables[t],delete s.data[t],me.updateFile(e),r&&r(a),a},me.fromTable=function(e,t,n,r,a){var s=w.databases[e],i=s.data[t];return n&&(i=n(i,r,a)),i},me.intoTable=function(e,t,n,r,a){var s=w.databases[e],i=n.length,o=s.data[t];return o||(o=[]),s.data[t]=o.concat(n),me.updateFile(e),a&&a(i),i},me.loadTableData=function(e,t){var n=w.databases[e];n.tables[t].data=n.data[t]},me.saveTableData=function(e,t){var n=w.databases[e];n.data[t]=n.tables[t].data,n.tables[t].data=null,me.updateFile(e)},me.commit=function(e,t){var n=w.databases[e];if(n.tables)for(var r in n.tables)n.data.tables[r]={columns:n.tables[r].columns},n.data[r]=n.tables[r].data;return me.updateFile(e),t?t(1):1},me.begin=me.commit,me.rollback=function(e,t){function n(){setTimeout(function(){return a.issaving?n():void w.loadFile(a.filename,!!t,function(n){a.data=n,a.tables={};for(var s in a.data.tables){var i=new w.Table({columns:a.data.tables[s].columns});P(i,a.data.tables[s]),a.tables[s]=i,w.options.autocommit||(a.tables[s].data=a.data[s]),a.tables[s].indexColumns()}delete w.databases[e],w.databases[e]=new w.Database(e),P(w.databases[e],a),w.databases[e].engineid="FILESTORAGE",w.databases[e].filename=a.filename,t&&(r=t(r))})},100)}var r=1,a=w.databases[e];a.dbversion++,n()},C.isBrowser&&!C.isWebWorker){if(w=w||!1,!w)throw new Error("alasql was not found");w.worker=function(){throw new Error("Can find webworker in this enviroment")},"undefined"!=typeof Worker&&(w.worker=function(e,t,n){if(e===!0&&(e=void 0),"undefined"==typeof e)for(var r=document.getElementsByTagName("script"),a=0;a<r.length;a++){if("alasql-worker.js"===r[a].src.substr(-16).toLowerCase()){e=r[a].src.substr(0,r[a].src.length-16)+"alasql.js";break}if("alasql-worker.min.js"===r[a].src.substr(-20).toLowerCase()){e=r[a].src.substr(0,r[a].src.length-20)+"alasql.min.js";break}if("alasql.js"===r[a].src.substr(-9).toLowerCase()){e=r[a].src;break}if("alasql.min.js"===r[a].src.substr(-13).toLowerCase()){e=r[a].src.substr(0,r[a].src.length-13)+"alasql.min.js";break}}if("undefined"==typeof e)throw new Error("Path to alasql.js is not specified");if(e!==!1){var s="importScripts('";s+=e,s+="');self.onmessage = function(event) {alasql(event.data.sql,event.data.params, function(data){postMessage({id:event.data.id, data:data});});}";var i=new Blob([s],{type:"text/plain"});if(w.webworker=new Worker(URL.createObjectURL(i)),w.webworker.onmessage=function(e){var t=e.data.id;w.buffer[t](e.data.data),delete w.buffer[t]},w.webworker.onerror=function(e){throw e},arguments.length>1){var o="REQUIRE "+t.map(function(e){return'"'+e+'"'}).join(",");w(o,[],n)}}else if(e===!1)return void delete w.webworker});var ve=ve||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in r,s=function(n){var r=t.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},i=e.webkitRequestFileSystem,o=e.requestFileSystem||i||e.mozRequestFileSystem,u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",l=0,h=500,d=function(t){var r=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?r():setTimeout(r,h)},f=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var a=e["on"+t[r]];if("function"==typeof a)try{a.call(e,n||e)}catch(s){u(s)}}},p=function(t,u){var h,p,b,g=this,m=t.type,v=!1,E=function(){f(g,"writestart progress write writeend".split(" "))},y=function(){if(!v&&h||(h=n().createObjectURL(t)),p)p.location.href=h;else{var r=e.open(h,"_blank");void 0==r&&"undefined"!=typeof safari&&(e.location.href=h)}g.readyState=g.DONE,E(),d(h)},S=function(e){return function(){if(g.readyState!==g.DONE)return e.apply(this,arguments)}},w={create:!0,exclusive:!1};return g.readyState=g.INIT,u||(u="download"),a?(h=n().createObjectURL(t),r.href=h,r.download=u,s(r),g.readyState=g.DONE,E(),void d(h)):(/^\s*(?:text\/(?:plain|xml)|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)&&(t=new Blob(["\ufeff",t],{type:t.type})),e.chrome&&m&&m!==c&&(b=t.slice||t.webkitSlice,t=b.call(t,0,t.size,c),v=!0),i&&"download"!==u&&(u+=".download"),(m===c||i)&&(p=e),o?(l+=t.size,void o(e.TEMPORARY,l,S(function(e){e.root.getDirectory("saved",w,S(function(e){var n=function(){e.getFile(u,w,S(function(e){e.createWriter(S(function(n){n.onwriteend=function(t){p.location.href=e.toURL(),g.readyState=g.DONE,f(g,"writeend",t),d(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&y()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=g["on"+e]}),n.write(t),g.abort=function(){n.abort(),g.readyState=g.DONE},g.readyState=g.WRITING}),y)}),y)};e.getFile(u,{create:!1},S(function(e){e.remove(),n()}),S(function(e){e.code===e.NOT_FOUND_ERR?n():y()}))}),y)}),y)):void y())},b=p.prototype,g=function(e,t){return new p(e,t)};return b.abort=function(){var e=this;e.readyState=e.DONE,f(e,"abort")},b.readyState=b.INIT=0,b.WRITING=1,b.DONE=2,b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null,g}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=ve:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return ve}),w.utils.saveAs=ve}return new X("alasql"),w.use("alasql"),w});
/* xlsx.js (C) 2013-2015 SheetJS -- http://sheetjs.com */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.JSZip=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";var _keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";exports.encode=function(input,utf8){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64}else if(isNaN(chr3)){enc4=64}output=output+_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4)}return output};exports.decode=function(input,utf8){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=_keyStr.indexOf(input.charAt(i++));enc2=_keyStr.indexOf(input.charAt(i++));enc3=_keyStr.indexOf(input.charAt(i++));enc4=_keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2)}if(enc4!=64){output=output+String.fromCharCode(chr3)}}return output}},{}],2:[function(_dereq_,module,exports){"use strict";function CompressedObject(){this.compressedSize=0;this.uncompressedSize=0;this.crc32=0;this.compressionMethod=null;this.compressedContent=null}CompressedObject.prototype={getContent:function(){return null},getCompressedContent:function(){return null}};module.exports=CompressedObject},{}],3:[function(_dereq_,module,exports){"use strict";exports.STORE={magic:"\x00\x00",compress:function(content){return content},uncompress:function(content){return content},compressInputType:null,uncompressInputType:null};exports.DEFLATE=_dereq_("./flate")},{"./flate":8}],4:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");var table=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];module.exports=function crc32(input,crc){if(typeof input==="undefined"||!input.length){return 0}var isArray=utils.getTypeOf(input)!=="string";if(typeof crc=="undefined"){crc=0}var x=0;var y=0;var b=0;crc=crc^-1;for(var i=0,iTop=input.length;i<iTop;i++){b=isArray?input[i]:input.charCodeAt(i);y=(crc^b)&255;x=table[y];crc=crc>>>8^x}return crc^-1}},{"./utils":21}],5:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");function DataReader(data){this.data=null;this.length=0;this.index=0}DataReader.prototype={checkOffset:function(offset){this.checkIndex(this.index+offset)},checkIndex:function(newIndex){if(this.length<newIndex||newIndex<0){throw new Error("End of data reached (data length = "+this.length+", asked index = "+newIndex+"). Corrupted zip ?")}},setIndex:function(newIndex){this.checkIndex(newIndex);this.index=newIndex},skip:function(n){this.setIndex(this.index+n)},byteAt:function(i){},readInt:function(size){var result=0,i;this.checkOffset(size);for(i=this.index+size-1;i>=this.index;i--){result=(result<<8)+this.byteAt(i)}this.index+=size;return result},readString:function(size){return utils.transformTo("string",this.readData(size))},readData:function(size){},lastIndexOfSignature:function(sig){},readDate:function(){var dostime=this.readInt(4);return new Date((dostime>>25&127)+1980,(dostime>>21&15)-1,dostime>>16&31,dostime>>11&31,dostime>>5&63,(dostime&31)<<1)}};module.exports=DataReader},{"./utils":21}],6:[function(_dereq_,module,exports){"use strict";exports.base64=false;exports.binary=false;exports.dir=false;exports.createFolders=false;exports.date=null;exports.compression=null;exports.comment=null},{}],7:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");exports.string2binary=function(str){return utils.string2binary(str)};exports.string2Uint8Array=function(str){return utils.transformTo("uint8array",str)};exports.uint8Array2String=function(array){return utils.transformTo("string",array)};exports.string2Blob=function(str){var buffer=utils.transformTo("arraybuffer",str);return utils.arrayBuffer2Blob(buffer)};exports.arrayBuffer2Blob=function(buffer){return utils.arrayBuffer2Blob(buffer)};exports.transformTo=function(outputType,input){return utils.transformTo(outputType,input)};exports.getTypeOf=function(input){return utils.getTypeOf(input)};exports.checkSupport=function(type){return utils.checkSupport(type)};exports.MAX_VALUE_16BITS=utils.MAX_VALUE_16BITS;exports.MAX_VALUE_32BITS=utils.MAX_VALUE_32BITS;exports.pretty=function(str){return utils.pretty(str)};exports.findCompression=function(compressionMethod){return utils.findCompression(compressionMethod)};exports.isRegExp=function(object){return utils.isRegExp(object)}},{"./utils":21}],8:[function(_dereq_,module,exports){"use strict";var USE_TYPEDARRAY=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined";var pako=_dereq_("pako");exports.uncompressInputType=USE_TYPEDARRAY?"uint8array":"array";exports.compressInputType=USE_TYPEDARRAY?"uint8array":"array";exports.magic="\b\x00";exports.compress=function(input){return pako.deflateRaw(input)};exports.uncompress=function(input){return pako.inflateRaw(input)}},{pako:24}],9:[function(_dereq_,module,exports){"use strict";var base64=_dereq_("./base64");function JSZip(data,options){if(!(this instanceof JSZip))return new JSZip(data,options);this.files={};this.comment=null;this.root="";if(data){this.load(data,options)}this.clone=function(){var newObj=new JSZip;for(var i in this){if(typeof this[i]!=="function"){newObj[i]=this[i]}}return newObj}}JSZip.prototype=_dereq_("./object");JSZip.prototype.load=_dereq_("./load");JSZip.support=_dereq_("./support");JSZip.defaults=_dereq_("./defaults");JSZip.utils=_dereq_("./deprecatedPublicUtils");JSZip.base64={encode:function(input){return base64.encode(input)},decode:function(input){return base64.decode(input)}};JSZip.compressions=_dereq_("./compressions");module.exports=JSZip},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(_dereq_,module,exports){"use strict";var base64=_dereq_("./base64");var ZipEntries=_dereq_("./zipEntries");module.exports=function(data,options){var files,zipEntries,i,input;options=options||{};if(options.base64){data=base64.decode(data)}zipEntries=new ZipEntries(data,options);files=zipEntries.files;for(i=0;i<files.length;i++){input=files[i];this.file(input.fileName,input.decompressed,{binary:true,optimizedBinaryString:true,date:input.date,dir:input.dir,comment:input.fileComment.length?input.fileComment:null,createFolders:options.createFolders})}if(zipEntries.zipComment.length){this.comment=zipEntries.zipComment}return this}},{"./base64":1,"./zipEntries":22}],11:[function(_dereq_,module,exports){(function(Buffer){"use strict";module.exports=function(data,encoding){return new Buffer(data,encoding)};module.exports.test=function(b){return Buffer.isBuffer(b)}}).call(this,typeof Buffer!=="undefined"?Buffer:undefined)},{}],12:[function(_dereq_,module,exports){"use strict";var Uint8ArrayReader=_dereq_("./uint8ArrayReader");function NodeBufferReader(data){this.data=data;this.length=this.data.length;this.index=0}NodeBufferReader.prototype=new Uint8ArrayReader;NodeBufferReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.index,this.index+size);this.index+=size;return result};module.exports=NodeBufferReader},{"./uint8ArrayReader":18}],13:[function(_dereq_,module,exports){"use strict";var support=_dereq_("./support");var utils=_dereq_("./utils");var crc32=_dereq_("./crc32");var signature=_dereq_("./signature");var defaults=_dereq_("./defaults");var base64=_dereq_("./base64");var compressions=_dereq_("./compressions");var CompressedObject=_dereq_("./compressedObject");var nodeBuffer=_dereq_("./nodeBuffer");var utf8=_dereq_("./utf8");var StringWriter=_dereq_("./stringWriter");var Uint8ArrayWriter=_dereq_("./uint8ArrayWriter");var getRawData=function(file){if(file._data instanceof CompressedObject){file._data=file._data.getContent();file.options.binary=true;file.options.base64=false;if(utils.getTypeOf(file._data)==="uint8array"){var copy=file._data;file._data=new Uint8Array(copy.length);if(copy.length!==0){file._data.set(copy,0)}}}return file._data};var getBinaryData=function(file){var result=getRawData(file),type=utils.getTypeOf(result);if(type==="string"){if(!file.options.binary){if(support.nodebuffer){return nodeBuffer(result,"utf-8")}}return file.asBinary()}return result};var dataToString=function(asUTF8){var result=getRawData(this);if(result===null||typeof result==="undefined"){return""}if(this.options.base64){result=base64.decode(result)}if(asUTF8&&this.options.binary){result=out.utf8decode(result)}else{result=utils.transformTo("string",result)}if(!asUTF8&&!this.options.binary){result=utils.transformTo("string",out.utf8encode(result))}return result};var ZipObject=function(name,data,options){this.name=name;this.dir=options.dir;this.date=options.date;this.comment=options.comment;this._data=data;this.options=options;this._initialMetadata={dir:options.dir,date:options.date}};ZipObject.prototype={asText:function(){return dataToString.call(this,true)},asBinary:function(){return dataToString.call(this,false)},asNodeBuffer:function(){var result=getBinaryData(this);return utils.transformTo("nodebuffer",result)},asUint8Array:function(){var result=getBinaryData(this);return utils.transformTo("uint8array",result)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var decToHex=function(dec,bytes){var hex="",i;for(i=0;i<bytes;i++){hex+=String.fromCharCode(dec&255);dec=dec>>>8}return hex};var extend=function(){var result={},i,attr;for(i=0;i<arguments.length;i++){for(attr in arguments[i]){if(arguments[i].hasOwnProperty(attr)&&typeof result[attr]==="undefined"){result[attr]=arguments[i][attr]}}}return result};var prepareFileAttrs=function(o){o=o||{};if(o.base64===true&&(o.binary===null||o.binary===undefined)){o.binary=true}o=extend(o,defaults);o.date=o.date||new Date;if(o.compression!==null)o.compression=o.compression.toUpperCase();return o};var fileAdd=function(name,data,o){var dataType=utils.getTypeOf(data),parent;o=prepareFileAttrs(o);if(o.createFolders&&(parent=parentFolder(name))){folderAdd.call(this,parent,true)}if(o.dir||data===null||typeof data==="undefined"){o.base64=false;o.binary=false;data=null}else if(dataType==="string"){if(o.binary&&!o.base64){if(o.optimizedBinaryString!==true){data=utils.string2binary(data)}}}else{o.base64=false;o.binary=true;if(!dataType&&!(data instanceof CompressedObject)){throw new Error("The data of '"+name+"' is in an unsupported format !")}if(dataType==="arraybuffer"){data=utils.transformTo("uint8array",data)}}var object=new ZipObject(name,data,o);this.files[name]=object;return object};var parentFolder=function(path){if(path.slice(-1)=="/"){path=path.substring(0,path.length-1)}var lastSlash=path.lastIndexOf("/");return lastSlash>0?path.substring(0,lastSlash):""};var folderAdd=function(name,createFolders){if(name.slice(-1)!="/"){name+="/"}createFolders=typeof createFolders!=="undefined"?createFolders:false;if(!this.files[name]){fileAdd.call(this,name,null,{dir:true,createFolders:createFolders})}return this.files[name]};var generateCompressedObjectFrom=function(file,compression){var result=new CompressedObject,content;if(file._data instanceof CompressedObject){result.uncompressedSize=file._data.uncompressedSize;result.crc32=file._data.crc32;if(result.uncompressedSize===0||file.dir){compression=compressions["STORE"];result.compressedContent="";result.crc32=0}else if(file._data.compressionMethod===compression.magic){result.compressedContent=file._data.getCompressedContent()}else{content=file._data.getContent();result.compressedContent=compression.compress(utils.transformTo(compression.compressInputType,content))}}else{content=getBinaryData(file);if(!content||content.length===0||file.dir){compression=compressions["STORE"];content=""}result.uncompressedSize=content.length;result.crc32=crc32(content);result.compressedContent=compression.compress(utils.transformTo(compression.compressInputType,content))}result.compressedSize=result.compressedContent.length;result.compressionMethod=compression.magic;return result};var generateZipParts=function(name,file,compressedObject,offset){var data=compressedObject.compressedContent,utfEncodedFileName=utils.transformTo("string",utf8.utf8encode(file.name)),comment=file.comment||"",utfEncodedComment=utils.transformTo("string",utf8.utf8encode(comment)),useUTF8ForFileName=utfEncodedFileName.length!==file.name.length,useUTF8ForComment=utfEncodedComment.length!==comment.length,o=file.options,dosTime,dosDate,extraFields="",unicodePathExtraField="",unicodeCommentExtraField="",dir,date;if(file._initialMetadata.dir!==file.dir){dir=file.dir}else{dir=o.dir}if(file._initialMetadata.date!==file.date){date=file.date}else{date=o.date}dosTime=date.getHours();dosTime=dosTime<<6;dosTime=dosTime|date.getMinutes();dosTime=dosTime<<5;dosTime=dosTime|date.getSeconds()/2;dosDate=date.getFullYear()-1980;dosDate=dosDate<<4;dosDate=dosDate|date.getMonth()+1;dosDate=dosDate<<5;dosDate=dosDate|date.getDate();if(useUTF8ForFileName){unicodePathExtraField=decToHex(1,1)+decToHex(crc32(utfEncodedFileName),4)+utfEncodedFileName;extraFields+="up"+decToHex(unicodePathExtraField.length,2)+unicodePathExtraField}if(useUTF8ForComment){unicodeCommentExtraField=decToHex(1,1)+decToHex(this.crc32(utfEncodedComment),4)+utfEncodedComment;extraFields+="uc"+decToHex(unicodeCommentExtraField.length,2)+unicodeCommentExtraField}var header="";header+="\n\x00";header+=useUTF8ForFileName||useUTF8ForComment?"\x00\b":"\x00\x00";header+=compressedObject.compressionMethod;header+=decToHex(dosTime,2);header+=decToHex(dosDate,2);header+=decToHex(compressedObject.crc32,4);header+=decToHex(compressedObject.compressedSize,4);header+=decToHex(compressedObject.uncompressedSize,4);header+=decToHex(utfEncodedFileName.length,2);header+=decToHex(extraFields.length,2);var fileRecord=signature.LOCAL_FILE_HEADER+header+utfEncodedFileName+extraFields;var dirRecord=signature.CENTRAL_FILE_HEADER+"\x00"+header+decToHex(utfEncodedComment.length,2)+"\x00\x00"+"\x00\x00"+(dir===true?"\x00\x00\x00":"\x00\x00\x00\x00")+decToHex(offset,4)+utfEncodedFileName+extraFields+utfEncodedComment;return{fileRecord:fileRecord,dirRecord:dirRecord,compressedObject:compressedObject}};var out={load:function(stream,options){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(search){var result=[],filename,relativePath,file,fileClone;for(filename in this.files){if(!this.files.hasOwnProperty(filename)){continue}file=this.files[filename];fileClone=new ZipObject(file.name,file._data,extend(file.options));relativePath=filename.slice(this.root.length,filename.length);if(filename.slice(0,this.root.length)===this.root&&search(relativePath,fileClone)){result.push(fileClone)}}return result},file:function(name,data,o){if(arguments.length===1){if(utils.isRegExp(name)){var regexp=name;return this.filter(function(relativePath,file){return!file.dir&&regexp.test(relativePath)})}else{return this.filter(function(relativePath,file){return!file.dir&&relativePath===name})[0]||null}}else{name=this.root+name;fileAdd.call(this,name,data,o)}return this},folder:function(arg){if(!arg){return this}if(utils.isRegExp(arg)){return this.filter(function(relativePath,file){return file.dir&&arg.test(relativePath)})}var name=this.root+arg;var newFolder=folderAdd.call(this,name);var ret=this.clone();ret.root=newFolder.name;return ret},remove:function(name){name=this.root+name;var file=this.files[name];if(!file){if(name.slice(-1)!="/"){name+="/"}file=this.files[name]}if(file&&!file.dir){delete this.files[name]}else{var kids=this.filter(function(relativePath,file){return file.name.slice(0,name.length)===name});for(var i=0;i<kids.length;i++){delete this.files[kids[i].name]}}return this},generate:function(options){options=extend(options||{},{base64:true,compression:"STORE",type:"base64",comment:null});utils.checkSupport(options.type);var zipData=[],localDirLength=0,centralDirLength=0,writer,i,utfEncodedComment=utils.transformTo("string",this.utf8encode(options.comment||this.comment||""));for(var name in this.files){if(!this.files.hasOwnProperty(name)){continue}var file=this.files[name];var compressionName=file.options.compression||options.compression.toUpperCase();var compression=compressions[compressionName];if(!compression){throw new Error(compressionName+" is not a valid compression method !")}var compressedObject=generateCompressedObjectFrom.call(this,file,compression);var zipPart=generateZipParts.call(this,name,file,compressedObject,localDirLength);localDirLength+=zipPart.fileRecord.length+compressedObject.compressedSize;centralDirLength+=zipPart.dirRecord.length;zipData.push(zipPart)}var dirEnd="";dirEnd=signature.CENTRAL_DIRECTORY_END+"\x00\x00"+"\x00\x00"+decToHex(zipData.length,2)+decToHex(zipData.length,2)+decToHex(centralDirLength,4)+decToHex(localDirLength,4)+decToHex(utfEncodedComment.length,2)+utfEncodedComment;var typeName=options.type.toLowerCase();if(typeName==="uint8array"||typeName==="arraybuffer"||typeName==="blob"||typeName==="nodebuffer"){writer=new Uint8ArrayWriter(localDirLength+centralDirLength+dirEnd.length)}else{writer=new StringWriter(localDirLength+centralDirLength+dirEnd.length)}for(i=0;i<zipData.length;i++){writer.append(zipData[i].fileRecord);writer.append(zipData[i].compressedObject.compressedContent)}for(i=0;i<zipData.length;i++){writer.append(zipData[i].dirRecord)}writer.append(dirEnd);var zip=writer.finalize();switch(options.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return utils.transformTo(options.type.toLowerCase(),zip);case"blob":return utils.arrayBuffer2Blob(utils.transformTo("arraybuffer",zip));case"base64":return options.base64?base64.encode(zip):zip;default:return zip}},crc32:function(input,crc){return crc32(input,crc)},utf8encode:function(string){return utils.transformTo("string",utf8.utf8encode(string))},utf8decode:function(input){return utf8.utf8decode(input)}};module.exports=out},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(_dereq_,module,exports){"use strict";exports.LOCAL_FILE_HEADER="PK";exports.CENTRAL_FILE_HEADER="PK";exports.CENTRAL_DIRECTORY_END="PK";exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK";exports.ZIP64_CENTRAL_DIRECTORY_END="PK";exports.DATA_DESCRIPTOR="PK\b"},{}],15:[function(_dereq_,module,exports){"use strict";var DataReader=_dereq_("./dataReader");var utils=_dereq_("./utils");function StringReader(data,optimizedBinaryString){this.data=data;if(!optimizedBinaryString){this.data=utils.string2binary(this.data)}this.length=this.data.length;this.index=0}StringReader.prototype=new DataReader;StringReader.prototype.byteAt=function(i){return this.data.charCodeAt(i)};StringReader.prototype.lastIndexOfSignature=function(sig){return this.data.lastIndexOf(sig)};StringReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.index,this.index+size);this.index+=size;return result};module.exports=StringReader},{"./dataReader":5,"./utils":21}],16:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");var StringWriter=function(){this.data=[]};StringWriter.prototype={append:function(input){input=utils.transformTo("string",input);this.data.push(input)},finalize:function(){return this.data.join("")}};module.exports=StringWriter},{"./utils":21}],17:[function(_dereq_,module,exports){(function(Buffer){"use strict";exports.base64=true;exports.array=true;exports.string=true;exports.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";exports.nodebuffer=typeof Buffer!=="undefined";exports.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined"){exports.blob=false}else{var buffer=new ArrayBuffer(0);try{exports.blob=new Blob([buffer],{type:"application/zip"}).size===0}catch(e){try{var Builder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;var builder=new Builder;builder.append(buffer);exports.blob=builder.getBlob("application/zip").size===0}catch(e){exports.blob=false}}}}).call(this,typeof Buffer!=="undefined"?Buffer:undefined)},{}],18:[function(_dereq_,module,exports){"use strict";var DataReader=_dereq_("./dataReader");function Uint8ArrayReader(data){if(data){this.data=data;this.length=this.data.length;this.index=0}}Uint8ArrayReader.prototype=new DataReader;Uint8ArrayReader.prototype.byteAt=function(i){return this.data[i]};Uint8ArrayReader.prototype.lastIndexOfSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3);for(var i=this.length-4;i>=0;--i){if(this.data[i]===sig0&&this.data[i+1]===sig1&&this.data[i+2]===sig2&&this.data[i+3]===sig3){return i}}return-1};Uint8ArrayReader.prototype.readData=function(size){this.checkOffset(size);if(size===0){return new Uint8Array(0)}var result=this.data.subarray(this.index,this.index+size);this.index+=size;return result};module.exports=Uint8ArrayReader},{"./dataReader":5}],19:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");var Uint8ArrayWriter=function(length){this.data=new Uint8Array(length);this.index=0};Uint8ArrayWriter.prototype={append:function(input){if(input.length!==0){input=utils.transformTo("uint8array",input);this.data.set(input,this.index);this.index+=input.length}},finalize:function(){return this.data}};module.exports=Uint8ArrayWriter},{"./utils":21}],20:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./utils");var support=_dereq_("./support");var nodeBuffer=_dereq_("./nodeBuffer");var _utf8len=new Array(256);for(var i=0;i<256;i++){_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1}_utf8len[254]=_utf8len[254]=1;var string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}buf_len+=c<128?1:c<2048?2:c<65536?3:4}if(support.uint8array){buf=new Uint8Array(buf_len)}else{buf=new Array(buf_len)}for(i=0,m_pos=0;i<buf_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}if(c<128){buf[i++]=c}else if(c<2048){buf[i++]=192|c>>>6;buf[i++]=128|c&63}else if(c<65536){buf[i++]=224|c>>>12;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}else{buf[i++]=240|c>>>18;buf[i++]=128|c>>>12&63;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}}return buf};var utf8border=function(buf,max){var pos;max=max||buf.length;if(max>buf.length){max=buf.length}pos=max-1;while(pos>=0&&(buf[pos]&192)===128){pos--}if(pos<0){return max}if(pos===0){return max}return pos+_utf8len[buf[pos]]>max?pos:max};var buf2string=function(buf){var str,i,out,c,c_len;var len=buf.length;var utf16buf=new Array(len*2);for(out=0,i=0;i<len;){c=buf[i++];if(c<128){utf16buf[out++]=c;continue}c_len=_utf8len[c];if(c_len>4){utf16buf[out++]=65533;i+=c_len-1;continue}c&=c_len===2?31:c_len===3?15:7;while(c_len>1&&i<len){c=c<<6|buf[i++]&63;c_len--}if(c_len>1){utf16buf[out++]=65533;continue}if(c<65536){utf16buf[out++]=c}else{c-=65536;utf16buf[out++]=55296|c>>10&1023;utf16buf[out++]=56320|c&1023}}if(utf16buf.length!==out){if(utf16buf.subarray){utf16buf=utf16buf.subarray(0,out)}else{utf16buf.length=out}}return utils.applyFromCharCode(utf16buf)};exports.utf8encode=function utf8encode(str){if(support.nodebuffer){return nodeBuffer(str,"utf-8")}return string2buf(str)};exports.utf8decode=function utf8decode(buf){if(support.nodebuffer){return utils.transformTo("nodebuffer",buf).toString("utf-8")}buf=utils.transformTo(support.uint8array?"uint8array":"array",buf);var result=[],k=0,len=buf.length,chunk=65536;while(k<len){var nextBoundary=utf8border(buf,Math.min(k+chunk,len));if(support.uint8array){result.push(buf2string(buf.subarray(k,nextBoundary)))}else{result.push(buf2string(buf.slice(k,nextBoundary)))}k=nextBoundary}return result.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(_dereq_,module,exports){"use strict";var support=_dereq_("./support");var compressions=_dereq_("./compressions");var nodeBuffer=_dereq_("./nodeBuffer");exports.string2binary=function(str){var result="";for(var i=0;i<str.length;i++){result+=String.fromCharCode(str.charCodeAt(i)&255)}return result};exports.arrayBuffer2Blob=function(buffer){exports.checkSupport("blob");try{return new Blob([buffer],{type:"application/zip"})}catch(e){try{var Builder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;var builder=new Builder;builder.append(buffer);return builder.getBlob("application/zip")}catch(e){throw new Error("Bug : can't construct the Blob.")}}};function identity(input){return input}function stringToArrayLike(str,array){for(var i=0;i<str.length;++i){array[i]=str.charCodeAt(i)&255}return array}function arrayLikeToString(array){var chunk=65536;var result=[],len=array.length,type=exports.getTypeOf(array),k=0,canUseApply=true;try{switch(type){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,nodeBuffer(0));break}}catch(e){canUseApply=false}if(!canUseApply){var resultStr="";for(var i=0;i<array.length;i++){resultStr+=String.fromCharCode(array[i])}return resultStr}while(k<len&&chunk>1){try{if(type==="array"||type==="nodebuffer"){result.push(String.fromCharCode.apply(null,array.slice(k,Math.min(k+chunk,len))))}else{result.push(String.fromCharCode.apply(null,array.subarray(k,Math.min(k+chunk,len))))}k+=chunk}catch(e){chunk=Math.floor(chunk/2)}}return result.join("")}exports.applyFromCharCode=arrayLikeToString;function arrayLikeToArrayLike(arrayFrom,arrayTo){for(var i=0;i<arrayFrom.length;i++){arrayTo[i]=arrayFrom[i]}return arrayTo}var transform={};transform["string"]={string:identity,array:function(input){return stringToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform["string"]["uint8array"](input).buffer},uint8array:function(input){return stringToArrayLike(input,new Uint8Array(input.length))},nodebuffer:function(input){return stringToArrayLike(input,nodeBuffer(input.length))}};transform["array"]={string:arrayLikeToString,array:identity,arraybuffer:function(input){return new Uint8Array(input).buffer},uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodeBuffer(input)}};transform["arraybuffer"]={string:function(input){return arrayLikeToString(new Uint8Array(input))},array:function(input){return arrayLikeToArrayLike(new Uint8Array(input),new Array(input.byteLength))},arraybuffer:identity,uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodeBuffer(new Uint8Array(input))}};transform["uint8array"]={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return input.buffer},uint8array:identity,nodebuffer:function(input){return nodeBuffer(input)}};transform["nodebuffer"]={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform["nodebuffer"]["uint8array"](input).buffer},uint8array:function(input){return arrayLikeToArrayLike(input,new Uint8Array(input.length))},nodebuffer:identity};exports.transformTo=function(outputType,input){if(!input){input=""}if(!outputType){return input}exports.checkSupport(outputType);var inputType=exports.getTypeOf(input);var result=transform[inputType][outputType](input);return result};exports.getTypeOf=function(input){if(typeof input==="string"){return"string"}if(Object.prototype.toString.call(input)==="[object Array]"){return"array"}if(support.nodebuffer&&nodeBuffer.test(input)){return"nodebuffer"}if(support.uint8array&&input instanceof Uint8Array){return"uint8array"}if(support.arraybuffer&&input instanceof ArrayBuffer){return"arraybuffer"}};exports.checkSupport=function(type){var supported=support[type.toLowerCase()];if(!supported){throw new Error(type+" is not supported by this browser")}};exports.MAX_VALUE_16BITS=65535;exports.MAX_VALUE_32BITS=-1;exports.pretty=function(str){var res="",code,i;for(i=0;i<(str||"").length;i++){code=str.charCodeAt(i);res+="\\x"+(code<16?"0":"")+code.toString(16).toUpperCase()
}return res};exports.findCompression=function(compressionMethod){for(var method in compressions){if(!compressions.hasOwnProperty(method)){continue}if(compressions[method].magic===compressionMethod){return compressions[method]}}return null};exports.isRegExp=function(object){return Object.prototype.toString.call(object)==="[object RegExp]"}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(_dereq_,module,exports){"use strict";var StringReader=_dereq_("./stringReader");var NodeBufferReader=_dereq_("./nodeBufferReader");var Uint8ArrayReader=_dereq_("./uint8ArrayReader");var utils=_dereq_("./utils");var sig=_dereq_("./signature");var ZipEntry=_dereq_("./zipEntry");var support=_dereq_("./support");var jszipProto=_dereq_("./object");function ZipEntries(data,loadOptions){this.files=[];this.loadOptions=loadOptions;if(data){this.load(data)}}ZipEntries.prototype={checkSignature:function(expectedSignature){var signature=this.reader.readString(4);if(signature!==expectedSignature){throw new Error("Corrupted zip or bug : unexpected signature "+"("+utils.pretty(signature)+", expected "+utils.pretty(expectedSignature)+")")}},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);this.zipComment=this.reader.readString(this.zipCommentLength);this.zipComment=jszipProto.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.versionMadeBy=this.reader.readString(2);this.versionNeeded=this.reader.readInt(2);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};var extraDataSize=this.zip64EndOfCentralSize-44,index=0,extraFieldId,extraFieldLength,extraFieldValue;while(index<extraDataSize){extraFieldId=this.reader.readInt(2);extraFieldLength=this.reader.readInt(4);extraFieldValue=this.reader.readString(extraFieldLength);this.zip64ExtensibleData[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(this.disksCount>1){throw new Error("Multi-volumes zip are not supported")}},readLocalFiles:function(){var i,file;for(i=0;i<this.files.length;i++){file=this.files[i];this.reader.setIndex(file.localHeaderOffset);this.checkSignature(sig.LOCAL_FILE_HEADER);file.readLocalPart(this.reader);file.handleUTF8()}},readCentralDir:function(){var file;this.reader.setIndex(this.centralDirOffset);while(this.reader.readString(4)===sig.CENTRAL_FILE_HEADER){file=new ZipEntry({zip64:this.zip64},this.loadOptions);file.readCentralPart(this.reader);this.files.push(file)}},readEndOfCentral:function(){var offset=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(offset===-1){throw new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(offset);this.checkSignature(sig.CENTRAL_DIRECTORY_END);this.readBlockEndOfCentral();if(this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){this.zip64=true;offset=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(offset===-1){throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator")}this.reader.setIndex(offset);this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}},prepareReader:function(data){var type=utils.getTypeOf(data);if(type==="string"&&!support.uint8array){this.reader=new StringReader(data,this.loadOptions.optimizedBinaryString)}else if(type==="nodebuffer"){this.reader=new NodeBufferReader(data)}else{this.reader=new Uint8ArrayReader(utils.transformTo("uint8array",data))}},load:function(data){this.prepareReader(data);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};module.exports=ZipEntries},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(_dereq_,module,exports){"use strict";var StringReader=_dereq_("./stringReader");var utils=_dereq_("./utils");var CompressedObject=_dereq_("./compressedObject");var jszipProto=_dereq_("./object");function ZipEntry(options,loadOptions){this.options=options;this.loadOptions=loadOptions}ZipEntry.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},prepareCompressedContent:function(reader,from,length){return function(){var previousIndex=reader.index;reader.setIndex(from);var compressedFileData=reader.readData(length);reader.setIndex(previousIndex);return compressedFileData}},prepareContent:function(reader,from,length,compression,uncompressedSize){return function(){var compressedFileData=utils.transformTo(compression.uncompressInputType,this.getCompressedContent());var uncompressedFileData=compression.uncompress(compressedFileData);if(uncompressedFileData.length!==uncompressedSize){throw new Error("Bug : uncompressed data size mismatch")}return uncompressedFileData}},readLocalPart:function(reader){var compression,localExtraFieldsLength;reader.skip(22);this.fileNameLength=reader.readInt(2);localExtraFieldsLength=reader.readInt(2);this.fileName=reader.readString(this.fileNameLength);reader.skip(localExtraFieldsLength);if(this.compressedSize==-1||this.uncompressedSize==-1){throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory "+"(compressedSize == -1 || uncompressedSize == -1)")}compression=utils.findCompression(this.compressionMethod);if(compression===null){throw new Error("Corrupted zip : compression "+utils.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")")}this.decompressed=new CompressedObject;this.decompressed.compressedSize=this.compressedSize;this.decompressed.uncompressedSize=this.uncompressedSize;this.decompressed.crc32=this.crc32;this.decompressed.compressionMethod=this.compressionMethod;this.decompressed.getCompressedContent=this.prepareCompressedContent(reader,reader.index,this.compressedSize,compression);this.decompressed.getContent=this.prepareContent(reader,reader.index,this.compressedSize,compression,this.uncompressedSize);if(this.loadOptions.checkCRC32){this.decompressed=utils.transformTo("string",this.decompressed.getContent());if(jszipProto.crc32(this.decompressed)!==this.crc32){throw new Error("Corrupted zip : CRC32 mismatch")}}},readCentralPart:function(reader){this.versionMadeBy=reader.readString(2);this.versionNeeded=reader.readInt(2);this.bitFlag=reader.readInt(2);this.compressionMethod=reader.readString(2);this.date=reader.readDate();this.crc32=reader.readInt(4);this.compressedSize=reader.readInt(4);this.uncompressedSize=reader.readInt(4);this.fileNameLength=reader.readInt(2);this.extraFieldsLength=reader.readInt(2);this.fileCommentLength=reader.readInt(2);this.diskNumberStart=reader.readInt(2);this.internalFileAttributes=reader.readInt(2);this.externalFileAttributes=reader.readInt(4);this.localHeaderOffset=reader.readInt(4);if(this.isEncrypted()){throw new Error("Encrypted zip are not supported")}this.fileName=reader.readString(this.fileNameLength);this.readExtraFields(reader);this.parseZIP64ExtraField(reader);this.fileComment=reader.readString(this.fileCommentLength);this.dir=this.externalFileAttributes&16?true:false},parseZIP64ExtraField:function(reader){if(!this.extraFields[1]){return}var extraReader=new StringReader(this.extraFields[1].value);if(this.uncompressedSize===utils.MAX_VALUE_32BITS){this.uncompressedSize=extraReader.readInt(8)}if(this.compressedSize===utils.MAX_VALUE_32BITS){this.compressedSize=extraReader.readInt(8)}if(this.localHeaderOffset===utils.MAX_VALUE_32BITS){this.localHeaderOffset=extraReader.readInt(8)}if(this.diskNumberStart===utils.MAX_VALUE_32BITS){this.diskNumberStart=extraReader.readInt(4)}},readExtraFields:function(reader){var start=reader.index,extraFieldId,extraFieldLength,extraFieldValue;this.extraFields=this.extraFields||{};while(reader.index<start+this.extraFieldsLength){extraFieldId=reader.readInt(2);extraFieldLength=reader.readInt(2);extraFieldValue=reader.readString(extraFieldLength);this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}}},handleUTF8:function(){if(this.useUTF8()){this.fileName=jszipProto.utf8decode(this.fileName);this.fileComment=jszipProto.utf8decode(this.fileComment)}else{var upath=this.findExtraFieldUnicodePath();if(upath!==null){this.fileName=upath}var ucomment=this.findExtraFieldUnicodeComment();if(ucomment!==null){this.fileComment=ucomment}}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=new StringReader(upathField.value);if(extraReader.readInt(1)!==1){return null}if(jszipProto.crc32(this.fileName)!==extraReader.readInt(4)){return null}return jszipProto.utf8decode(extraReader.readString(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=new StringReader(ucommentField.value);if(extraReader.readInt(1)!==1){return null}if(jszipProto.crc32(this.fileComment)!==extraReader.readInt(4)){return null}return jszipProto.utf8decode(extraReader.readString(ucommentField.length-5))}return null}};module.exports=ZipEntry},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("./lib/utils/common").assign;var deflate=_dereq_("./lib/deflate");var inflate=_dereq_("./lib/inflate");var constants=_dereq_("./lib/zlib/constants");var pako={};assign(pako,deflate,inflate,constants);module.exports=pako},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(_dereq_,module,exports){"use strict";var zlib_deflate=_dereq_("./zlib/deflate.js");var utils=_dereq_("./utils/common");var strings=_dereq_("./utils/strings");var msg=_dereq_("./zlib/messages");var zstream=_dereq_("./zlib/zstream");var Z_NO_FLUSH=0;var Z_FINISH=4;var Z_OK=0;var Z_STREAM_END=1;var Z_DEFAULT_COMPRESSION=-1;var Z_DEFAULT_STRATEGY=0;var Z_DEFLATED=8;var Deflate=function(options){this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:""},options||{});var opt=this.options;if(opt.raw&&opt.windowBits>0){opt.windowBits=-opt.windowBits}else if(opt.gzip&&opt.windowBits>0&&opt.windowBits<16){opt.windowBits+=16}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new zstream;this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK){throw new Error(msg[status])}if(opt.header){zlib_deflate.deflateSetHeader(this.strm,opt.header)}};Deflate.prototype.push=function(data,mode){var strm=this.strm;var chunkSize=this.options.chunkSize;var status,_mode;if(this.ended){return false}_mode=mode===~~mode?mode:mode===true?Z_FINISH:Z_NO_FLUSH;if(typeof data==="string"){strm.input=strings.string2buf(data)}else{strm.input=data}strm.next_in=0;strm.avail_in=strm.input.length;do{if(strm.avail_out===0){strm.output=new utils.Buf8(chunkSize);strm.next_out=0;strm.avail_out=chunkSize}status=zlib_deflate.deflate(strm,_mode);if(status!==Z_STREAM_END&&status!==Z_OK){this.onEnd(status);this.ended=true;return false}if(strm.avail_out===0||strm.avail_in===0&&_mode===Z_FINISH){if(this.options.to==="string"){this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out)))}else{this.onData(utils.shrinkBuf(strm.output,strm.next_out))}}}while((strm.avail_in>0||strm.avail_out===0)&&status!==Z_STREAM_END);if(_mode===Z_FINISH){status=zlib_deflate.deflateEnd(this.strm);this.onEnd(status);this.ended=true;return status===Z_OK}return true};Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Deflate.prototype.onEnd=function(status){if(status===Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=utils.flattenChunks(this.chunks)}}this.chunks=[];this.err=status;this.msg=this.strm.msg};function deflate(input,options){var deflator=new Deflate(options);deflator.push(input,true);if(deflator.err){throw deflator.msg}return deflator.result}function deflateRaw(input,options){options=options||{};options.raw=true;return deflate(input,options)}function gzip(input,options){options=options||{};options.gzip=true;return deflate(input,options)}exports.Deflate=Deflate;exports.deflate=deflate;exports.deflateRaw=deflateRaw;exports.gzip=gzip},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(_dereq_,module,exports){"use strict";var zlib_inflate=_dereq_("./zlib/inflate.js");var utils=_dereq_("./utils/common");var strings=_dereq_("./utils/strings");var c=_dereq_("./zlib/constants");var msg=_dereq_("./zlib/messages");var zstream=_dereq_("./zlib/zstream");var gzheader=_dereq_("./zlib/gzheader");var Inflate=function(options){this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},options||{});var opt=this.options;if(opt.raw&&opt.windowBits>=0&&opt.windowBits<16){opt.windowBits=-opt.windowBits;if(opt.windowBits===0){opt.windowBits=-15}}if(opt.windowBits>=0&&opt.windowBits<16&&!(options&&options.windowBits)){opt.windowBits+=32}if(opt.windowBits>15&&opt.windowBits<48){if((opt.windowBits&15)===0){opt.windowBits|=15}}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new zstream;this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK){throw new Error(msg[status])}this.header=new gzheader;zlib_inflate.inflateGetHeader(this.strm,this.header)};Inflate.prototype.push=function(data,mode){var strm=this.strm;var chunkSize=this.options.chunkSize;var status,_mode;var next_out_utf8,tail,utf8str;if(this.ended){return false}_mode=mode===~~mode?mode:mode===true?c.Z_FINISH:c.Z_NO_FLUSH;if(typeof data==="string"){strm.input=strings.binstring2buf(data)}else{strm.input=data}strm.next_in=0;strm.avail_in=strm.input.length;do{if(strm.avail_out===0){strm.output=new utils.Buf8(chunkSize);strm.next_out=0;strm.avail_out=chunkSize}status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH);if(status!==c.Z_STREAM_END&&status!==c.Z_OK){this.onEnd(status);this.ended=true;return false}if(strm.next_out){if(strm.avail_out===0||status===c.Z_STREAM_END||strm.avail_in===0&&_mode===c.Z_FINISH){if(this.options.to==="string"){next_out_utf8=strings.utf8border(strm.output,strm.next_out);tail=strm.next_out-next_out_utf8;utf8str=strings.buf2string(strm.output,next_out_utf8);strm.next_out=tail;strm.avail_out=chunkSize-tail;if(tail){utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0)}this.onData(utf8str)}else{this.onData(utils.shrinkBuf(strm.output,strm.next_out))}}}}while(strm.avail_in>0&&status!==c.Z_STREAM_END);if(status===c.Z_STREAM_END){_mode=c.Z_FINISH}if(_mode===c.Z_FINISH){status=zlib_inflate.inflateEnd(this.strm);this.onEnd(status);this.ended=true;return status===c.Z_OK}return true};Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)};Inflate.prototype.onEnd=function(status){if(status===c.Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=utils.flattenChunks(this.chunks)}}this.chunks=[];this.err=status;this.msg=this.strm.msg};function inflate(input,options){var inflator=new Inflate(options);inflator.push(input,true);if(inflator.err){throw inflator.msg}return inflator.result}function inflateRaw(input,options){options=options||{};options.raw=true;return inflate(input,options)}exports.Inflate=Inflate;exports.inflate=inflate;exports.inflateRaw=inflateRaw;exports.ungzip=inflate},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(_dereq_,module,exports){"use strict";var TYPED_OK=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";exports.assign=function(obj){var sources=Array.prototype.slice.call(arguments,1);while(sources.length){var source=sources.shift();if(!source){continue}if(typeof source!=="object"){throw new TypeError(source+"must be non-object")}for(var p in source){if(source.hasOwnProperty(p)){obj[p]=source[p]}}}return obj};exports.shrinkBuf=function(buf,size){if(buf.length===size){return buf}if(buf.subarray){return buf.subarray(0,size)}buf.length=size;return buf};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray){dest.set(src.subarray(src_offs,src_offs+len),dest_offs);return}for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;len=0;for(i=0,l=chunks.length;i<l;i++){len+=chunks[i].length}result=new Uint8Array(len);pos=0;for(i=0,l=chunks.length;i<l;i++){chunk=chunks[i];result.set(chunk,pos);pos+=chunk.length}return result}};var fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++){dest[dest_offs+i]=src[src_offs+i]}},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){if(on){exports.Buf8=Uint8Array;exports.Buf16=Uint16Array;exports.Buf32=Int32Array;exports.assign(exports,fnTyped)}else{exports.Buf8=Array;exports.Buf16=Array;exports.Buf32=Array;exports.assign(exports,fnUntyped)}};exports.setTyped(TYPED_OK)},{}],28:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("./common");var STR_APPLY_OK=true;var STR_APPLY_UIA_OK=true;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=false}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=false}var _utf8len=new utils.Buf8(256);for(var i=0;i<256;i++){_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1}_utf8len[254]=_utf8len[254]=1;exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}buf_len+=c<128?1:c<2048?2:c<65536?3:4}buf=new utils.Buf8(buf_len);for(i=0,m_pos=0;i<buf_len;m_pos++){c=str.charCodeAt(m_pos);if((c&64512)===55296&&m_pos+1<str_len){c2=str.charCodeAt(m_pos+1);if((c2&64512)===56320){c=65536+(c-55296<<10)+(c2-56320);m_pos++}}if(c<128){buf[i++]=c}else if(c<2048){buf[i++]=192|c>>>6;buf[i++]=128|c&63}else if(c<65536){buf[i++]=224|c>>>12;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}else{buf[i++]=240|c>>>18;buf[i++]=128|c>>>12&63;buf[i++]=128|c>>>6&63;buf[i++]=128|c&63}}return buf};function buf2binstring(buf,len){if(len<65537){if(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK){return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len))}}var result="";for(var i=0;i<len;i++){result+=String.fromCharCode(buf[i])}return result}exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)};exports.binstring2buf=function(str){var buf=new utils.Buf8(str.length);for(var i=0,len=buf.length;i<len;i++){buf[i]=str.charCodeAt(i)}return buf};exports.buf2string=function(buf,max){var i,out,c,c_len;var len=max||buf.length;var utf16buf=new Array(len*2);for(out=0,i=0;i<len;){c=buf[i++];if(c<128){utf16buf[out++]=c;continue}c_len=_utf8len[c];if(c_len>4){utf16buf[out++]=65533;i+=c_len-1;continue}c&=c_len===2?31:c_len===3?15:7;while(c_len>1&&i<len){c=c<<6|buf[i++]&63;c_len--}if(c_len>1){utf16buf[out++]=65533;continue}if(c<65536){utf16buf[out++]=c}else{c-=65536;utf16buf[out++]=55296|c>>10&1023;utf16buf[out++]=56320|c&1023}}return buf2binstring(utf16buf,out)};exports.utf8border=function(buf,max){var pos;max=max||buf.length;if(max>buf.length){max=buf.length}pos=max-1;while(pos>=0&&(buf[pos]&192)===128){pos--}if(pos<0){return max}if(pos===0){return max}return pos+_utf8len[buf[pos]]>max?pos:max}},{"./common":27}],29:[function(_dereq_,module,exports){"use strict";function adler32(adler,buf,len,pos){var s1=adler&65535|0,s2=adler>>>16&65535|0,n=0;while(len!==0){n=len>2e3?2e3:len;len-=n;do{s1=s1+buf[pos++]|0;s2=s2+s1|0}while(--n);s1%=65521;s2%=65521}return s1|s2<<16|0}module.exports=adler32},{}],30:[function(_dereq_,module,exports){module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(_dereq_,module,exports){"use strict";function makeTable(){var c,table=[];for(var n=0;n<256;n++){c=n;for(var k=0;k<8;k++){c=c&1?3988292384^c>>>1:c>>>1}table[n]=c}return table}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc=crc^-1;for(var i=pos;i<end;i++){crc=crc>>>8^t[(crc^buf[i])&255]}return crc^-1}module.exports=crc32},{}],32:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("../utils/common");var trees=_dereq_("./trees");var adler32=_dereq_("./adler32");var crc32=_dereq_("./crc32");var msg=_dereq_("./messages");var Z_NO_FLUSH=0;var Z_PARTIAL_FLUSH=1;var Z_FULL_FLUSH=3;var Z_FINISH=4;var Z_BLOCK=5;var Z_OK=0;var Z_STREAM_END=1;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_BUF_ERROR=-5;var Z_DEFAULT_COMPRESSION=-1;var Z_FILTERED=1;var Z_HUFFMAN_ONLY=2;var Z_RLE=3;var Z_FIXED=4;var Z_DEFAULT_STRATEGY=0;var Z_UNKNOWN=2;var Z_DEFLATED=8;var MAX_MEM_LEVEL=9;var MAX_WBITS=15;var DEF_MEM_LEVEL=8;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var MIN_MATCH=3;var MAX_MATCH=258;var MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;var PRESET_DICT=32;var INIT_STATE=42;var EXTRA_STATE=69;var NAME_STATE=73;var COMMENT_STATE=91;var HCRC_STATE=103;var BUSY_STATE=113;var FINISH_STATE=666;var BS_NEED_MORE=1;var BS_BLOCK_DONE=2;var BS_FINISH_STARTED=3;var BS_FINISH_DONE=4;var OS_CODE=3;function err(strm,errorCode){strm.msg=msg[errorCode];return errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}function flush_pending(strm){var s=strm.state;var len=s.pending;if(len>strm.avail_out){len=strm.avail_out}if(len===0){return}utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out);strm.next_out+=len;s.pending_out+=len;strm.total_out+=len;strm.avail_out-=len;s.pending-=len;if(s.pending===0){s.pending_out=0}}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last);s.block_start=s.strstart;flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255;s.pending_buf[s.pending++]=b&255}function read_buf(strm,buf,start,size){var len=strm.avail_in;if(len>size){len=size}if(len===0){return 0}strm.avail_in-=len;utils.arraySet(buf,strm.input,strm.next_in,len,start);if(strm.state.wrap===1){strm.adler=adler32(strm.adler,buf,len,start)}else if(strm.state.wrap===2){strm.adler=crc32(strm.adler,buf,len,start)}strm.next_in+=len;strm.total_in+=len;return len}function longest_match(s,cur_match){var chain_length=s.max_chain_length;var scan=s.strstart;var match;var len;var best_len=s.prev_length;var nice_match=s.nice_match;var limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0;var _win=s.window;var wmask=s.w_mask;var prev=s.prev;var strend=s.strstart+MAX_MATCH;var scan_end1=_win[scan+best_len-1];var scan_end=_win[scan+best_len];if(s.prev_length>=s.good_match){chain_length>>=2}if(nice_match>s.lookahead){nice_match=s.lookahead}do{match=cur_match;if(_win[match+best_len]!==scan_end||_win[match+best_len-1]!==scan_end1||_win[match]!==_win[scan]||_win[++match]!==_win[scan+1]){continue}scan+=2;match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);len=MAX_MATCH-(strend-scan);scan=strend-MAX_MATCH;if(len>best_len){s.match_start=cur_match;best_len=len;if(len>=nice_match){break}scan_end1=_win[scan+best_len-1];scan_end=_win[scan+best_len]}}while((cur_match=prev[cur_match&wmask])>limit&&--chain_length!==0);if(best_len<=s.lookahead){return best_len}return s.lookahead}function fill_window(s){var _w_size=s.w_size;var p,n,m,more,str;do{more=s.window_size-s.lookahead-s.strstart;if(s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0);s.match_start-=_w_size;s.strstart-=_w_size;s.block_start-=_w_size;n=s.hash_size;p=n;do{m=s.head[--p];s.head[p]=m>=_w_size?m-_w_size:0}while(--n);n=_w_size;p=n;do{m=s.prev[--p];s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(s.strm.avail_in===0){break}n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more);s.lookahead+=n;if(s.lookahead+s.insert>=MIN_MATCH){str=s.strstart-s.insert;s.ins_h=s.window[str];s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;while(s.insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask;s.prev[str&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=str;str++;s.insert--;if(s.lookahead+s.insert<MIN_MATCH){break}}}}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)}function deflate_stored(s,flush){var max_block_size=65535;if(max_block_size>s.pending_buf_size-5){max_block_size=s.pending_buf_size-5}for(;;){if(s.lookahead<=1){fill_window(s);if(s.lookahead===0&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.strstart+=s.lookahead;s.lookahead=0;var max_start=s.block_start+max_block_size;if(s.strstart===0||s.strstart>=max_start){s.lookahead=s.strstart-max_start;s.strstart=max_start;flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.strstart>s.block_start){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_NEED_MORE}function deflate_fast(s,flush){var hash_head;var bflush;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}if(hash_head!==0&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head)}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;if(s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++;s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}while(--s.match_length!==0);s.strstart++}else{s.strstart+=s.match_length;s.match_length=0;s.ins_h=s.window[s.strstart];s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask}}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_slow(s,flush){var hash_head;var bflush;var max_insert;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}s.prev_length=s.match_length;s.prev_match=s.match_start;s.match_length=MIN_MATCH-1;if(hash_head!==0&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head);if(s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)){s.match_length=MIN_MATCH-1}}if(s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH;bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH);s.lookahead-=s.prev_length-1;s.prev_length-=2;do{if(++s.strstart<=max_insert){s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask;hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h];s.head[s.ins_h]=s.strstart}}while(--s.prev_length!==0);s.match_available=0;s.match_length=MIN_MATCH-1;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}else if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);if(bflush){flush_block_only(s,false)}s.strstart++;s.lookahead--;if(s.strm.avail_out===0){return BS_NEED_MORE}}else{s.match_available=1;s.strstart++;s.lookahead--}}if(s.match_available){bflush=trees._tr_tally(s,0,s.window[s.strstart-1]);s.match_available=0}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_rle(s,flush){var bflush;var prev;var scan,strend;var _win=s.window;for(;;){if(s.lookahead<=MAX_MATCH){fill_window(s);if(s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH){return BS_NEED_MORE}if(s.lookahead===0){break}}s.match_length=0;if(s.lookahead>=MIN_MATCH&&s.strstart>0){scan=s.strstart-1;prev=_win[scan];if(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan);if(s.match_length>s.lookahead){s.match_length=s.lookahead}}}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;s.strstart+=s.match_length;s.match_length=0}else{bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}function deflate_huff(s,flush){var bflush;
for(;;){if(s.lookahead===0){fill_window(s);if(s.lookahead===0){if(flush===Z_NO_FLUSH){return BS_NEED_MORE}break}}s.match_length=0;bflush=trees._tr_tally(s,0,s.window[s.strstart]);s.lookahead--;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0){return BS_FINISH_STARTED}return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0){return BS_NEED_MORE}}return BS_BLOCK_DONE}var Config=function(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length;this.max_lazy=max_lazy;this.nice_length=nice_length;this.max_chain=max_chain;this.func=func};var configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size;zero(s.head);s.max_lazy_match=configuration_table[s.level].max_lazy;s.good_match=configuration_table[s.level].good_length;s.nice_match=configuration_table[s.level].nice_length;s.max_chain_length=configuration_table[s.level].max_chain;s.strstart=0;s.block_start=0;s.lookahead=0;s.insert=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;s.ins_h=0}function DeflateState(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=Z_DEFLATED;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new utils.Buf16(HEAP_SIZE*2);this.dyn_dtree=new utils.Buf16((2*D_CODES+1)*2);this.bl_tree=new utils.Buf16((2*BL_CODES+1)*2);zero(this.dyn_ltree);zero(this.dyn_dtree);zero(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new utils.Buf16(MAX_BITS+1);this.heap=new utils.Buf16(2*L_CODES+1);zero(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new utils.Buf16(2*L_CODES+1);zero(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function deflateResetKeep(strm){var s;if(!strm||!strm.state){return err(strm,Z_STREAM_ERROR)}strm.total_in=strm.total_out=0;strm.data_type=Z_UNKNOWN;s=strm.state;s.pending=0;s.pending_out=0;if(s.wrap<0){s.wrap=-s.wrap}s.status=s.wrap?INIT_STATE:BUSY_STATE;strm.adler=s.wrap===2?0:1;s.last_flush=Z_NO_FLUSH;trees._tr_init(s);return Z_OK}function deflateReset(strm){var ret=deflateResetKeep(strm);if(ret===Z_OK){lm_init(strm.state)}return ret}function deflateSetHeader(strm,head){if(!strm||!strm.state){return Z_STREAM_ERROR}if(strm.state.wrap!==2){return Z_STREAM_ERROR}strm.state.gzhead=head;return Z_OK}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm){return Z_STREAM_ERROR}var wrap=1;if(level===Z_DEFAULT_COMPRESSION){level=6}if(windowBits<0){wrap=0;windowBits=-windowBits}else if(windowBits>15){wrap=2;windowBits-=16}if(memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED){return err(strm,Z_STREAM_ERROR)}if(windowBits===8){windowBits=9}var s=new DeflateState;strm.state=s;s.strm=strm;s.wrap=wrap;s.gzhead=null;s.w_bits=windowBits;s.w_size=1<<s.w_bits;s.w_mask=s.w_size-1;s.hash_bits=memLevel+7;s.hash_size=1<<s.hash_bits;s.hash_mask=s.hash_size-1;s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH);s.window=new utils.Buf8(s.w_size*2);s.head=new utils.Buf16(s.hash_size);s.prev=new utils.Buf16(s.w_size);s.lit_bufsize=1<<memLevel+6;s.pending_buf_size=s.lit_bufsize*4;s.pending_buf=new utils.Buf8(s.pending_buf_size);s.d_buf=s.lit_bufsize>>1;s.l_buf=(1+2)*s.lit_bufsize;s.level=level;s.strategy=strategy;s.method=method;return deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s;var beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0){return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR}s=strm.state;if(!strm.output||!strm.input&&strm.avail_in!==0||s.status===FINISH_STATE&&flush!==Z_FINISH){return err(strm,strm.avail_out===0?Z_BUF_ERROR:Z_STREAM_ERROR)}s.strm=strm;old_flush=s.last_flush;s.last_flush=flush;if(s.status===INIT_STATE){if(s.wrap===2){strm.adler=0;put_byte(s,31);put_byte(s,139);put_byte(s,8);if(!s.gzhead){put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,OS_CODE);s.status=BUSY_STATE}else{put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(!s.gzhead.extra?0:4)+(!s.gzhead.name?0:8)+(!s.gzhead.comment?0:16));put_byte(s,s.gzhead.time&255);put_byte(s,s.gzhead.time>>8&255);put_byte(s,s.gzhead.time>>16&255);put_byte(s,s.gzhead.time>>24&255);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,s.gzhead.os&255);if(s.gzhead.extra&&s.gzhead.extra.length){put_byte(s,s.gzhead.extra.length&255);put_byte(s,s.gzhead.extra.length>>8&255)}if(s.gzhead.hcrc){strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)}s.gzindex=0;s.status=EXTRA_STATE}}else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;var level_flags=-1;if(s.strategy>=Z_HUFFMAN_ONLY||s.level<2){level_flags=0}else if(s.level<6){level_flags=1}else if(s.level===6){level_flags=2}else{level_flags=3}header|=level_flags<<6;if(s.strstart!==0){header|=PRESET_DICT}header+=31-header%31;s.status=BUSY_STATE;putShortMSB(s,header);if(s.strstart!==0){putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}strm.adler=1}}if(s.status===EXTRA_STATE){if(s.gzhead.extra){beg=s.pending;while(s.gzindex<(s.gzhead.extra.length&65535)){if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){break}}put_byte(s,s.gzhead.extra[s.gzindex]&255);s.gzindex++}if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(s.gzindex===s.gzhead.extra.length){s.gzindex=0;s.status=NAME_STATE}}else{s.status=NAME_STATE}}if(s.status===NAME_STATE){if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.name.length){val=s.gzhead.name.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.gzindex=0;s.status=COMMENT_STATE}}else{s.status=COMMENT_STATE}}if(s.status===COMMENT_STATE){if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.comment.length){val=s.gzhead.comment.charCodeAt(s.gzindex++)&255}else{val=0}put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg){strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)}if(val===0){s.status=HCRC_STATE}}else{s.status=HCRC_STATE}}if(s.status===HCRC_STATE){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size){flush_pending(strm)}if(s.pending+2<=s.pending_buf_size){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);strm.adler=0;s.status=BUSY_STATE}}else{s.status=BUSY_STATE}}if(s.pending!==0){flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}else if(strm.avail_in===0&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH){return err(strm,Z_BUF_ERROR)}if(s.status===FINISH_STATE&&strm.avail_in!==0){return err(strm,Z_BUF_ERROR)}if(strm.avail_in!==0||s.lookahead!==0||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush):configuration_table[s.level].func(s,flush);if(bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE){s.status=FINISH_STATE}if(bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED){if(strm.avail_out===0){s.last_flush=-1}return Z_OK}if(bstate===BS_BLOCK_DONE){if(flush===Z_PARTIAL_FLUSH){trees._tr_align(s)}else if(flush!==Z_BLOCK){trees._tr_stored_block(s,0,0,false);if(flush===Z_FULL_FLUSH){zero(s.head);if(s.lookahead===0){s.strstart=0;s.block_start=0;s.insert=0}}}flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}}if(flush!==Z_FINISH){return Z_OK}if(s.wrap<=0){return Z_STREAM_END}if(s.wrap===2){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);put_byte(s,strm.adler>>16&255);put_byte(s,strm.adler>>24&255);put_byte(s,strm.total_in&255);put_byte(s,strm.total_in>>8&255);put_byte(s,strm.total_in>>16&255);put_byte(s,strm.total_in>>24&255)}else{putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}flush_pending(strm);if(s.wrap>0){s.wrap=-s.wrap}return s.pending!==0?Z_OK:Z_STREAM_END}function deflateEnd(strm){var status;if(!strm||!strm.state){return Z_STREAM_ERROR}status=strm.state.status;if(status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE){return err(strm,Z_STREAM_ERROR)}strm.state=null;return status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK}exports.deflateInit=deflateInit;exports.deflateInit2=deflateInit2;exports.deflateReset=deflateReset;exports.deflateResetKeep=deflateResetKeep;exports.deflateSetHeader=deflateSetHeader;exports.deflate=deflate;exports.deflateEnd=deflateEnd;exports.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(_dereq_,module,exports){"use strict";function GZheader(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=false}module.exports=GZheader},{}],34:[function(_dereq_,module,exports){"use strict";var BAD=30;var TYPE=12;module.exports=function inflate_fast(strm,start){var state;var _in;var last;var _out;var beg;var end;var dmax;var wsize;var whave;var wnext;var window;var hold;var bits;var lcode;var dcode;var lmask;var dmask;var here;var op;var len;var dist;var from;var from_source;var input,output;state=strm.state;_in=strm.next_in;input=strm.input;last=_in+(strm.avail_in-5);_out=strm.next_out;output=strm.output;beg=_out-(start-strm.avail_out);end=_out+(strm.avail_out-257);dmax=state.dmax;wsize=state.wsize;whave=state.whave;wnext=state.wnext;window=state.window;hold=state.hold;bits=state.bits;lcode=state.lencode;dcode=state.distcode;lmask=(1<<state.lenbits)-1;dmask=(1<<state.distbits)-1;top:do{if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=lcode[hold&lmask];dolen:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op===0){output[_out++]=here&65535}else if(op&16){len=here&65535;op&=15;if(op){if(bits<op){hold+=input[_in++]<<bits;bits+=8}len+=hold&(1<<op)-1;hold>>>=op;bits-=op}if(bits<15){hold+=input[_in++]<<bits;bits+=8;hold+=input[_in++]<<bits;bits+=8}here=dcode[hold&dmask];dodist:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op&16){dist=here&65535;op&=15;if(bits<op){hold+=input[_in++]<<bits;bits+=8;if(bits<op){hold+=input[_in++]<<bits;bits+=8}}dist+=hold&(1<<op)-1;if(dist>dmax){strm.msg="invalid distance too far back";state.mode=BAD;break top}hold>>>=op;bits-=op;op=_out-beg;if(dist>op){op=dist-op;if(op>whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break top}}from=0;from_source=window;if(wnext===0){from+=wsize-op;if(op<len){len-=op;do{output[_out++]=window[from++]}while(--op);from=_out-dist;from_source=output}}else if(wnext<op){from+=wsize+wnext-op;op-=wnext;if(op<len){len-=op;do{output[_out++]=window[from++]}while(--op);from=0;if(wnext<len){op=wnext;len-=op;do{output[_out++]=window[from++]}while(--op);from=_out-dist;from_source=output}}}else{from+=wnext-op;if(op<len){len-=op;do{output[_out++]=window[from++]}while(--op);from=_out-dist;from_source=output}}while(len>2){output[_out++]=from_source[from++];output[_out++]=from_source[from++];output[_out++]=from_source[from++];len-=3}if(len){output[_out++]=from_source[from++];if(len>1){output[_out++]=from_source[from++]}}}else{from=_out-dist;do{output[_out++]=output[from++];output[_out++]=output[from++];output[_out++]=output[from++];len-=3}while(len>2);if(len){output[_out++]=output[from++];if(len>1){output[_out++]=output[from++]}}}}else if((op&64)===0){here=dcode[(here&65535)+(hold&(1<<op)-1)];continue dodist}else{strm.msg="invalid distance code";state.mode=BAD;break top}break}}else if((op&64)===0){here=lcode[(here&65535)+(hold&(1<<op)-1)];continue dolen}else if(op&32){state.mode=TYPE;break top}else{strm.msg="invalid literal/length code";state.mode=BAD;break top}break}}while(_in<last&&_out<end);len=bits>>3;_in-=len;bits-=len<<3;hold&=(1<<bits)-1;strm.next_in=_in;strm.next_out=_out;strm.avail_in=_in<last?5+(last-_in):5-(_in-last);strm.avail_out=_out<end?257+(end-_out):257-(_out-end);state.hold=hold;state.bits=bits;return}},{}],35:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("../utils/common");var adler32=_dereq_("./adler32");var crc32=_dereq_("./crc32");var inflate_fast=_dereq_("./inffast");var inflate_table=_dereq_("./inftrees");var CODES=0;var LENS=1;var DISTS=2;var Z_FINISH=4;var Z_BLOCK=5;var Z_TREES=6;var Z_OK=0;var Z_STREAM_END=1;var Z_NEED_DICT=2;var Z_STREAM_ERROR=-2;var Z_DATA_ERROR=-3;var Z_MEM_ERROR=-4;var Z_BUF_ERROR=-5;var Z_DEFLATED=8;var HEAD=1;var FLAGS=2;var TIME=3;var OS=4;var EXLEN=5;var EXTRA=6;var NAME=7;var COMMENT=8;var HCRC=9;var DICTID=10;var DICT=11;var TYPE=12;var TYPEDO=13;var STORED=14;var COPY_=15;var COPY=16;var TABLE=17;var LENLENS=18;var CODELENS=19;var LEN_=20;var LEN=21;var LENEXT=22;var DIST=23;var DISTEXT=24;var MATCH=25;var LIT=26;var CHECK=27;var LENGTH=28;var DONE=29;var BAD=30;var MEM=31;var SYNC=32;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var MAX_WBITS=15;var DEF_WBITS=MAX_WBITS;function ZSWAP32(q){return(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24)}function InflateState(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new utils.Buf16(320);this.work=new utils.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function inflateResetKeep(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;strm.total_in=strm.total_out=state.total=0;strm.msg="";if(state.wrap){strm.adler=state.wrap&1}state.mode=HEAD;state.last=0;state.havedict=0;state.dmax=32768;state.head=null;state.hold=0;state.bits=0;state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS);state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS);state.sane=1;state.back=-1;return Z_OK}function inflateReset(strm){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;state.wsize=0;state.whave=0;state.wnext=0;return inflateResetKeep(strm)}function inflateReset2(strm,windowBits){var wrap;var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if(windowBits<0){wrap=0;windowBits=-windowBits}else{wrap=(windowBits>>4)+1;if(windowBits<48){windowBits&=15}}if(windowBits&&(windowBits<8||windowBits>15)){return Z_STREAM_ERROR}if(state.window!==null&&state.wbits!==windowBits){state.window=null}state.wrap=wrap;state.wbits=windowBits;return inflateReset(strm)}function inflateInit2(strm,windowBits){var ret;var state;if(!strm){return Z_STREAM_ERROR}state=new InflateState;strm.state=state;state.window=null;ret=inflateReset2(strm,windowBits);if(ret!==Z_OK){strm.state=null}return ret}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}var virgin=true;var lenfix,distfix;function fixedtables(state){if(virgin){var sym;lenfix=new utils.Buf32(512);distfix=new utils.Buf32(32);sym=0;while(sym<144){state.lens[sym++]=8}while(sym<256){state.lens[sym++]=9}while(sym<280){state.lens[sym++]=7}while(sym<288){state.lens[sym++]=8}inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9});sym=0;while(sym<32){state.lens[sym++]=5}inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5});virgin=false}state.lencode=lenfix;state.lenbits=9;state.distcode=distfix;state.distbits=5}function updatewindow(strm,src,end,copy){var dist;var state=strm.state;if(state.window===null){state.wsize=1<<state.wbits;state.wnext=0;state.whave=0;state.window=new utils.Buf8(state.wsize)}if(copy>=state.wsize){utils.arraySet(state.window,src,end-state.wsize,state.wsize,0);state.wnext=0;state.whave=state.wsize}else{dist=state.wsize-state.wnext;if(dist>copy){dist=copy}utils.arraySet(state.window,src,end-copy,dist,state.wnext);copy-=dist;if(copy){utils.arraySet(state.window,src,end-copy,copy,0);state.wnext=copy;state.whave=state.wsize}else{state.wnext+=dist;if(state.wnext===state.wsize){state.wnext=0}if(state.whave<state.wsize){state.whave+=dist}}}return 0}function inflate(strm,flush){var state;var input,output;var next;var put;var have,left;var hold;var bits;var _in,_out;var copy;var from;var from_source;var here=0;var here_bits,here_op,here_val;var last_bits,last_op,last_val;var len;var ret;var hbuf=new utils.Buf8(4);var opts;var n;var order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&strm.avail_in!==0){return Z_STREAM_ERROR}state=strm.state;if(state.mode===TYPE){state.mode=TYPEDO}put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;_in=have;_out=left;ret=Z_OK;inf_leave:for(;;){switch(state.mode){case HEAD:if(state.wrap===0){state.mode=TYPEDO;break}while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.wrap&2&&hold===35615){state.check=0;hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0);hold=0;bits=0;state.mode=FLAGS;break}state.flags=0;if(state.head){state.head.done=false}if(!(state.wrap&1)||(((hold&255)<<8)+(hold>>8))%31){strm.msg="incorrect header check";state.mode=BAD;break}if((hold&15)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}hold>>>=4;bits-=4;len=(hold&15)+8;if(state.wbits===0){state.wbits=len}else if(len>state.wbits){strm.msg="invalid window size";state.mode=BAD;break}state.dmax=1<<len;strm.adler=state.check=1;state.mode=hold&512?DICTID:TYPE;hold=0;bits=0;break;case FLAGS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.flags=hold;if((state.flags&255)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}if(state.flags&57344){strm.msg="unknown header flags set";state.mode=BAD;break}if(state.head){state.head.text=hold>>8&1}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=TIME;case TIME:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.time=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;hbuf[2]=hold>>>16&255;hbuf[3]=hold>>>24&255;state.check=crc32(state.check,hbuf,4,0)}hold=0;bits=0;state.mode=OS;case OS:while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(state.head){state.head.xflags=hold&255;state.head.os=hold>>8}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=EXLEN;case EXLEN:if(state.flags&1024){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length=hold;if(state.head){state.head.extra_len=hold}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=crc32(state.check,hbuf,2,0)}hold=0;bits=0}else if(state.head){state.head.extra=null}state.mode=EXTRA;case EXTRA:if(state.flags&1024){copy=state.length;if(copy>have){copy=have}if(copy){if(state.head){len=state.head.extra_len-state.length;if(!state.head.extra){state.head.extra=new Array(state.head.extra_len)}utils.arraySet(state.head.extra,input,next,copy,len)}if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;state.length-=copy}if(state.length){break inf_leave}}state.length=0;state.mode=NAME;case NAME:if(state.flags&2048){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.name+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.name=null}state.length=0;state.mode=COMMENT;case COMMENT:if(state.flags&4096){if(have===0){break inf_leave}copy=0;do{len=input[next+copy++];if(state.head&&len&&state.length<65536){state.head.comment+=String.fromCharCode(len)}}while(len&&copy<have);if(state.flags&512){state.check=crc32(state.check,input,copy,next)}have-=copy;next+=copy;if(len){break inf_leave}}else if(state.head){state.head.comment=null}state.mode=HCRC;case HCRC:if(state.flags&512){while(bits<16){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.check&65535)){strm.msg="header crc mismatch";state.mode=BAD;break}hold=0;bits=0}if(state.head){state.head.hcrc=state.flags>>9&1;state.head.done=true}strm.adler=state.check=0;state.mode=TYPE;break;case DICTID:while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}strm.adler=state.check=ZSWAP32(hold);hold=0;bits=0;state.mode=DICT;case DICT:if(state.havedict===0){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;return Z_NEED_DICT}strm.adler=state.check=1;state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES){break inf_leave}case TYPEDO:if(state.last){hold>>>=bits&7;bits-=bits&7;state.mode=CHECK;break}while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.last=hold&1;hold>>>=1;bits-=1;switch(hold&3){case 0:state.mode=STORED;break;case 1:fixedtables(state);state.mode=LEN_;if(flush===Z_TREES){hold>>>=2;bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type";state.mode=BAD}hold>>>=2;bits-=2;break;case STORED:hold>>>=bits&7;bits-=bits&7;while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((hold&65535)!==(hold>>>16^65535)){strm.msg="invalid stored block lengths";state.mode=BAD;break}state.length=hold&65535;hold=0;bits=0;state.mode=COPY_;if(flush===Z_TREES){break inf_leave}case COPY_:state.mode=COPY;case COPY:copy=state.length;if(copy){if(copy>have){copy=have}if(copy>left){copy=left}if(copy===0){break inf_leave}utils.arraySet(output,input,next,copy,put);have-=copy;next+=copy;left-=copy;put+=copy;state.length-=copy;break}state.mode=TYPE;break;case TABLE:while(bits<14){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.nlen=(hold&31)+257;hold>>>=5;bits-=5;state.ndist=(hold&31)+1;hold>>>=5;bits-=5;state.ncode=(hold&15)+4;hold>>>=4;bits-=4;if(state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols";state.mode=BAD;break}state.have=0;state.mode=LENLENS;case LENLENS:while(state.have<state.ncode){while(bits<3){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.lens[order[state.have++]]=hold&7;hold>>>=3;bits-=3}while(state.have<19){state.lens[order[state.have++]]=0}state.lencode=state.lendyn;state.lenbits=7;opts={bits:state.lenbits};ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid code lengths set";state.mode=BAD;break}state.have=0;state.mode=CODELENS;case CODELENS:while(state.have<state.nlen+state.ndist){for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_val<16){hold>>>=here_bits;bits-=here_bits;state.lens[state.have++]=here_val}else{if(here_val===16){n=here_bits+2;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;if(state.have===0){strm.msg="invalid bit length repeat";state.mode=BAD;break}len=state.lens[state.have-1];copy=3+(hold&3);hold>>>=2;bits-=2}else if(here_val===17){n=here_bits+3;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=3+(hold&7);hold>>>=3;bits-=3}else{n=here_bits+7;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=11+(hold&127);hold>>>=7;bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat";state.mode=BAD;break}while(copy--){state.lens[state.have++]=len}}}if(state.mode===BAD){break}if(state.lens[256]===0){strm.msg="invalid code -- missing end-of-block";state.mode=BAD;break}state.lenbits=9;opts={bits:state.lenbits};ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid literal/lengths set";state.mode=BAD;break}state.distbits=6;state.distcode=state.distdyn;opts={bits:state.distbits};ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts);state.distbits=opts.bits;if(ret){strm.msg="invalid distances set";state.mode=BAD;break}state.mode=LEN_;if(flush===Z_TREES){break inf_leave}case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;inflate_fast(strm,_out);put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;if(state.mode===TYPE){state.back=-1}break}state.back=0;for(;;){here=state.lencode[hold&(1<<state.lenbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(here_op&&(here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;state.length=here_val;if(here_op===0){state.mode=LIT;break}if(here_op&32){state.back=-1;state.mode=TYPE;break}if(here_op&64){strm.msg="invalid literal/length code";state.mode=BAD;break}state.extra=here_op&15;state.mode=LENEXT;case LENEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.length+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}state.was=state.length;state.mode=DIST;case DIST:for(;;){here=state.distcode[hold&(1<<state.distbits)-1];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if((here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)];here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits){break}if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;if(here_op&64){strm.msg="invalid distance code";state.mode=BAD;break}state.offset=here_val;state.extra=here_op&15;state.mode=DISTEXT;case DISTEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}state.offset+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back";state.mode=BAD;break}state.mode=MATCH;case MATCH:if(left===0){break inf_leave}copy=_out-left;if(state.offset>copy){copy=state.offset-copy;if(copy>state.whave){if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break}}if(copy>state.wnext){copy-=state.wnext;from=state.wsize-copy}else{from=state.wnext-copy}if(copy>state.length){copy=state.length}from_source=state.window}else{from_source=output;from=put-state.offset;copy=state.length}if(copy>left){copy=left}left-=copy;state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);if(state.length===0){state.mode=LEN}break;case LIT:if(left===0){break inf_leave}output[put++]=state.length;left--;state.mode=LEN;break;case CHECK:if(state.wrap){while(bits<32){if(have===0){break inf_leave}have--;hold|=input[next++]<<bits;bits+=8}_out-=left;strm.total_out+=_out;state.total+=_out;if(_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)}_out=left;if((state.flags?hold:ZSWAP32(hold))!==state.check){strm.msg="incorrect data check";state.mode=BAD;break}hold=0;bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){while(bits<32){if(have===0){break inf_leave}have--;hold+=input[next++]<<bits;bits+=8}if(hold!==(state.total&4294967295)){strm.msg="incorrect length check";state.mode=BAD;break}hold=0;bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}}strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;if(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH)){if(updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)){state.mode=MEM;return Z_MEM_ERROR}}_in-=strm.avail_in;_out-=strm.avail_out;strm.total_in+=_in;strm.total_out+=_out;state.total+=_out;if(state.wrap&&_out){strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)}strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0);if((_in===0&&_out===0||flush===Z_FINISH)&&ret===Z_OK){ret=Z_BUF_ERROR}return ret}function inflateEnd(strm){if(!strm||!strm.state){return Z_STREAM_ERROR}var state=strm.state;if(state.window){state.window=null}strm.state=null;return Z_OK}function inflateGetHeader(strm,head){var state;if(!strm||!strm.state){return Z_STREAM_ERROR}state=strm.state;if((state.wrap&2)===0){return Z_STREAM_ERROR}state.head=head;head.done=false;return Z_OK}exports.inflateReset=inflateReset;exports.inflateReset2=inflateReset2;exports.inflateResetKeep=inflateResetKeep;exports.inflateInit=inflateInit;exports.inflateInit2=inflateInit2;exports.inflate=inflate;exports.inflateEnd=inflateEnd;exports.inflateGetHeader=inflateGetHeader;
exports.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("../utils/common");var MAXBITS=15;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var CODES=0;var LENS=1;var DISTS=2;var lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function inflate_table(type,lens,lens_index,codes,table,table_index,work,opts){var bits=opts.bits;var len=0;var sym=0;var min=0,max=0;var root=0;var curr=0;var drop=0;var left=0;var used=0;var huff=0;var incr;var fill;var low;var mask;var next;var base=null;var base_index=0;var end;var count=new utils.Buf16(MAXBITS+1);var offs=new utils.Buf16(MAXBITS+1);var extra=null;var extra_index=0;var here_bits,here_op,here_val;for(len=0;len<=MAXBITS;len++){count[len]=0}for(sym=0;sym<codes;sym++){count[lens[lens_index+sym]]++}root=bits;for(max=MAXBITS;max>=1;max--){if(count[max]!==0){break}}if(root>max){root=max}if(max===0){table[table_index++]=1<<24|64<<16|0;table[table_index++]=1<<24|64<<16|0;opts.bits=1;return 0}for(min=1;min<max;min++){if(count[min]!==0){break}}if(root<min){root=min}left=1;for(len=1;len<=MAXBITS;len++){left<<=1;left-=count[len];if(left<0){return-1}}if(left>0&&(type===CODES||max!==1)){return-1}offs[1]=0;for(len=1;len<MAXBITS;len++){offs[len+1]=offs[len]+count[len]}for(sym=0;sym<codes;sym++){if(lens[lens_index+sym]!==0){work[offs[lens[lens_index+sym]]++]=sym}}if(type===CODES){base=extra=work;end=19}else if(type===LENS){base=lbase;base_index-=257;extra=lext;extra_index-=257;end=256}else{base=dbase;extra=dext;end=-1}huff=0;sym=0;len=min;next=table_index;curr=root;drop=0;low=-1;used=1<<root;mask=used-1;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}var i=0;for(;;){i++;here_bits=len-drop;if(work[sym]<end){here_op=0;here_val=work[sym]}else if(work[sym]>end){here_op=extra[extra_index+work[sym]];here_val=base[base_index+work[sym]]}else{here_op=32+64;here_val=0}incr=1<<len-drop;fill=1<<curr;min=fill;do{fill-=incr;table[next+(huff>>drop)+fill]=here_bits<<24|here_op<<16|here_val|0}while(fill!==0);incr=1<<len-1;while(huff&incr){incr>>=1}if(incr!==0){huff&=incr-1;huff+=incr}else{huff=0}sym++;if(--count[len]===0){if(len===max){break}len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){if(drop===0){drop=root}next+=min;curr=len-drop;left=1<<curr;while(curr+drop<max){left-=count[curr+drop];if(left<=0){break}curr++;left<<=1}used+=1<<curr;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS){return 1}low=huff&mask;table[low]=root<<24|curr<<16|next-table_index|0}}if(huff!==0){table[next+huff]=len-drop<<24|64<<16|0}opts.bits=root;return 0}},{"../utils/common":27}],37:[function(_dereq_,module,exports){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(_dereq_,module,exports){"use strict";var utils=_dereq_("../utils/common");var Z_FIXED=4;var Z_BINARY=0;var Z_TEXT=1;var Z_UNKNOWN=2;function zero(buf){var len=buf.length;while(--len>=0){buf[len]=0}}var STORED_BLOCK=0;var STATIC_TREES=1;var DYN_TREES=2;var MIN_MATCH=3;var MAX_MATCH=258;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var Buf_size=16;var MAX_BL_BITS=7;var END_BLOCK=256;var REP_3_6=16;var REPZ_3_10=17;var REPZ_11_138=18;var extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var DIST_CODE_LEN=512;var static_ltree=new Array((L_CODES+2)*2);zero(static_ltree);var static_dtree=new Array(D_CODES*2);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);var StaticTreeDesc=function(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree;this.extra_bits=extra_bits;this.extra_base=extra_base;this.elems=elems;this.max_length=max_length;this.has_stree=static_tree&&static_tree.length};var static_l_desc;var static_d_desc;var static_bl_desc;var TreeDesc=function(dyn_tree,stat_desc){this.dyn_tree=dyn_tree;this.max_code=0;this.stat_desc=stat_desc};function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=w&255;s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){if(s.bi_valid>Buf_size-length){s.bi_buf|=value<<s.bi_valid&65535;put_short(s,s.bi_buf);s.bi_buf=value>>Buf_size-s.bi_valid;s.bi_valid+=length-Buf_size}else{s.bi_buf|=value<<s.bi_valid&65535;s.bi_valid+=length}}function send_code(s,c,tree){send_bits(s,tree[c*2],tree[c*2+1])}function bi_reverse(code,len){var res=0;do{res|=code&1;code>>>=1;res<<=1}while(--len>0);return res>>>1}function bi_flush(s){if(s.bi_valid===16){put_short(s,s.bi_buf);s.bi_buf=0;s.bi_valid=0}else if(s.bi_valid>=8){s.pending_buf[s.pending++]=s.bi_buf&255;s.bi_buf>>=8;s.bi_valid-=8}}function gen_bitlen(s,desc){var tree=desc.dyn_tree;var max_code=desc.max_code;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var extra=desc.stat_desc.extra_bits;var base=desc.stat_desc.extra_base;var max_length=desc.stat_desc.max_length;var h;var n,m;var bits;var xbits;var f;var overflow=0;for(bits=0;bits<=MAX_BITS;bits++){s.bl_count[bits]=0}tree[s.heap[s.heap_max]*2+1]=0;for(h=s.heap_max+1;h<HEAP_SIZE;h++){n=s.heap[h];bits=tree[tree[n*2+1]*2+1]+1;if(bits>max_length){bits=max_length;overflow++}tree[n*2+1]=bits;if(n>max_code){continue}s.bl_count[bits]++;xbits=0;if(n>=base){xbits=extra[n-base]}f=tree[n*2];s.opt_len+=f*(bits+xbits);if(has_stree){s.static_len+=f*(stree[n*2+1]+xbits)}}if(overflow===0){return}do{bits=max_length-1;while(s.bl_count[bits]===0){bits--}s.bl_count[bits]--;s.bl_count[bits+1]+=2;s.bl_count[max_length]--;overflow-=2}while(overflow>0);for(bits=max_length;bits!==0;bits--){n=s.bl_count[bits];while(n!==0){m=s.heap[--h];if(m>max_code){continue}if(tree[m*2+1]!==bits){s.opt_len+=(bits-tree[m*2+1])*tree[m*2];tree[m*2+1]=bits}n--}}}function gen_codes(tree,max_code,bl_count){var next_code=new Array(MAX_BITS+1);var code=0;var bits;var n;for(bits=1;bits<=MAX_BITS;bits++){next_code[bits]=code=code+bl_count[bits-1]<<1}for(n=0;n<=max_code;n++){var len=tree[n*2+1];if(len===0){continue}tree[n*2]=bi_reverse(next_code[len]++,len)}}function tr_static_init(){var n;var bits;var length;var code;var dist;var bl_count=new Array(MAX_BITS+1);length=0;for(code=0;code<LENGTH_CODES-1;code++){base_length[code]=length;for(n=0;n<1<<extra_lbits[code];n++){_length_code[length++]=code}}_length_code[length-1]=code;dist=0;for(code=0;code<16;code++){base_dist[code]=dist;for(n=0;n<1<<extra_dbits[code];n++){_dist_code[dist++]=code}}dist>>=7;for(;code<D_CODES;code++){base_dist[code]=dist<<7;for(n=0;n<1<<extra_dbits[code]-7;n++){_dist_code[256+dist++]=code}}for(bits=0;bits<=MAX_BITS;bits++){bl_count[bits]=0}n=0;while(n<=143){static_ltree[n*2+1]=8;n++;bl_count[8]++}while(n<=255){static_ltree[n*2+1]=9;n++;bl_count[9]++}while(n<=279){static_ltree[n*2+1]=7;n++;bl_count[7]++}while(n<=287){static_ltree[n*2+1]=8;n++;bl_count[8]++}gen_codes(static_ltree,L_CODES+1,bl_count);for(n=0;n<D_CODES;n++){static_dtree[n*2+1]=5;static_dtree[n*2]=bi_reverse(n,5)}static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS);static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS);static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++){s.dyn_ltree[n*2]=0}for(n=0;n<D_CODES;n++){s.dyn_dtree[n*2]=0}for(n=0;n<BL_CODES;n++){s.bl_tree[n*2]=0}s.dyn_ltree[END_BLOCK*2]=1;s.opt_len=s.static_len=0;s.last_lit=s.matches=0}function bi_windup(s){if(s.bi_valid>8){put_short(s,s.bi_buf)}else if(s.bi_valid>0){s.pending_buf[s.pending++]=s.bi_buf}s.bi_buf=0;s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s);if(header){put_short(s,len);put_short(s,~len)}utils.arraySet(s.pending_buf,s.window,buf,len,s.pending);s.pending+=len}function smaller(tree,n,m,depth){var _n2=n*2;var _m2=m*2;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){var v=s.heap[k];var j=k<<1;while(j<=s.heap_len){if(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)){j++}if(smaller(tree,v,s.heap[j],s.depth)){break}s.heap[k]=s.heap[j];k=j;j<<=1}s.heap[k]=v}function compress_block(s,ltree,dtree){var dist;var lc;var lx=0;var code;var extra;if(s.last_lit!==0){do{dist=s.pending_buf[s.d_buf+lx*2]<<8|s.pending_buf[s.d_buf+lx*2+1];lc=s.pending_buf[s.l_buf+lx];lx++;if(dist===0){send_code(s,lc,ltree)}else{code=_length_code[lc];send_code(s,code+LITERALS+1,ltree);extra=extra_lbits[code];if(extra!==0){lc-=base_length[code];send_bits(s,lc,extra)}dist--;code=d_code(dist);send_code(s,code,dtree);extra=extra_dbits[code];if(extra!==0){dist-=base_dist[code];send_bits(s,dist,extra)}}}while(lx<s.last_lit)}send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var tree=desc.dyn_tree;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var elems=desc.stat_desc.elems;var n,m;var max_code=-1;var node;s.heap_len=0;s.heap_max=HEAP_SIZE;for(n=0;n<elems;n++){if(tree[n*2]!==0){s.heap[++s.heap_len]=max_code=n;s.depth[n]=0}else{tree[n*2+1]=0}}while(s.heap_len<2){node=s.heap[++s.heap_len]=max_code<2?++max_code:0;tree[node*2]=1;s.depth[node]=0;s.opt_len--;if(has_stree){s.static_len-=stree[node*2+1]}}desc.max_code=max_code;for(n=s.heap_len>>1;n>=1;n--){pqdownheap(s,tree,n)}node=elems;do{n=s.heap[1];s.heap[1]=s.heap[s.heap_len--];pqdownheap(s,tree,1);m=s.heap[1];s.heap[--s.heap_max]=n;s.heap[--s.heap_max]=m;tree[node*2]=tree[n*2]+tree[m*2];s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1;tree[n*2+1]=tree[m*2+1]=node;s.heap[1]=node++;pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1];gen_bitlen(s,desc);gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}tree[(max_code+1)*2+1]=65535;for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){s.bl_tree[curlen*2]+=count}else if(curlen!==0){if(curlen!==prevlen){s.bl_tree[curlen*2]++}s.bl_tree[REP_3_6*2]++}else if(count<=10){s.bl_tree[REPZ_3_10*2]++}else{s.bl_tree[REPZ_11_138*2]++}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function send_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen=tree[0*2+1];var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}for(n=0;n<=max_code;n++){curlen=nextlen;nextlen=tree[(n+1)*2+1];if(++count<max_count&&curlen===nextlen){continue}else if(count<min_count){do{send_code(s,curlen,s.bl_tree)}while(--count!==0)}else if(curlen!==0){if(curlen!==prevlen){send_code(s,curlen,s.bl_tree);count--}send_code(s,REP_3_6,s.bl_tree);send_bits(s,count-3,2)}else if(count<=10){send_code(s,REPZ_3_10,s.bl_tree);send_bits(s,count-3,3)}else{send_code(s,REPZ_11_138,s.bl_tree);send_bits(s,count-11,7)}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function build_bl_tree(s){var max_blindex;scan_tree(s,s.dyn_ltree,s.l_desc.max_code);scan_tree(s,s.dyn_dtree,s.d_desc.max_code);build_tree(s,s.bl_desc);for(max_blindex=BL_CODES-1;max_blindex>=3;max_blindex--){if(s.bl_tree[bl_order[max_blindex]*2+1]!==0){break}}s.opt_len+=3*(max_blindex+1)+5+5+4;return max_blindex}function send_all_trees(s,lcodes,dcodes,blcodes){var rank;send_bits(s,lcodes-257,5);send_bits(s,dcodes-1,5);send_bits(s,blcodes-4,4);for(rank=0;rank<blcodes;rank++){send_bits(s,s.bl_tree[bl_order[rank]*2+1],3)}send_tree(s,s.dyn_ltree,lcodes-1);send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var black_mask=4093624447;var n;for(n=0;n<=31;n++,black_mask>>>=1){if(black_mask&1&&s.dyn_ltree[n*2]!==0){return Z_BINARY}}if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0){return Z_TEXT}for(n=32;n<LITERALS;n++){if(s.dyn_ltree[n*2]!==0){return Z_TEXT}}return Z_BINARY}var static_init_done=false;function _tr_init(s){if(!static_init_done){tr_static_init();static_init_done=true}s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc);s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc);s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc);s.bi_buf=0;s.bi_valid=0;init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3);copy_block(s,buf,stored_len,true)}function _tr_align(s){send_bits(s,STATIC_TREES<<1,3);send_code(s,END_BLOCK,static_ltree);bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb;var max_blindex=0;if(s.level>0){if(s.strm.data_type===Z_UNKNOWN){s.strm.data_type=detect_data_type(s)}build_tree(s,s.l_desc);build_tree(s,s.d_desc);max_blindex=build_bl_tree(s);opt_lenb=s.opt_len+3+7>>>3;static_lenb=s.static_len+3+7>>>3;if(static_lenb<=opt_lenb){opt_lenb=static_lenb}}else{opt_lenb=static_lenb=stored_len+5}if(stored_len+4<=opt_lenb&&buf!==-1){_tr_stored_block(s,buf,stored_len,last)}else if(s.strategy===Z_FIXED||static_lenb===opt_lenb){send_bits(s,(STATIC_TREES<<1)+(last?1:0),3);compress_block(s,static_ltree,static_dtree)}else{send_bits(s,(DYN_TREES<<1)+(last?1:0),3);send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1);compress_block(s,s.dyn_ltree,s.dyn_dtree)}init_block(s);if(last){bi_windup(s)}}function _tr_tally(s,dist,lc){s.pending_buf[s.d_buf+s.last_lit*2]=dist>>>8&255;s.pending_buf[s.d_buf+s.last_lit*2+1]=dist&255;s.pending_buf[s.l_buf+s.last_lit]=lc&255;s.last_lit++;if(dist===0){s.dyn_ltree[lc*2]++}else{s.matches++;dist--;s.dyn_ltree[(_length_code[lc]+LITERALS+1)*2]++;s.dyn_dtree[d_code(dist)*2]++}return s.last_lit===s.lit_bufsize-1}exports._tr_init=_tr_init;exports._tr_stored_block=_tr_stored_block;exports._tr_flush_block=_tr_flush_block;exports._tr_tally=_tr_tally;exports._tr_align=_tr_align},{"../utils/common":27}],39:[function(_dereq_,module,exports){"use strict";function ZStream(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}module.exports=ZStream},{}]},{},[9])(9)});var XLSX={};(function make_xlsx(XLSX){XLSX.version="0.8.0";var current_codepage=1200,current_cptable;if(typeof module!=="undefined"&&typeof require!=="undefined"){if(typeof cptable==="undefined")cptable=require("./dist/cpexcel");current_cptable=cptable[current_codepage]}function reset_cp(){set_cp(1200)}var set_cp=function(cp){current_codepage=cp};function char_codes(data){var o=[];for(var i=0,len=data.length;i<len;++i)o[i]=data.charCodeAt(i);return o}var debom_xml=function(data){return data};var _getchar=function _gc1(x){return String.fromCharCode(x)};if(typeof cptable!=="undefined"){set_cp=function(cp){current_codepage=cp;current_cptable=cptable[cp]};debom_xml=function(data){if(data.charCodeAt(0)===255&&data.charCodeAt(1)===254){return cptable.utils.decode(1200,char_codes(data.substr(2)))}return data};_getchar=function _gc2(x){if(current_codepage===1200)return String.fromCharCode(x);return cptable.utils.decode(current_codepage,[x&255,x>>8])[0]}}var Base64=function make_b64(){var map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(input,utf8){var o="";var c1,c2,c3,e1,e2,e3,e4;for(var i=0;i<input.length;){c1=input.charCodeAt(i++);c2=input.charCodeAt(i++);c3=input.charCodeAt(i++);e1=c1>>2;e2=(c1&3)<<4|c2>>4;e3=(c2&15)<<2|c3>>6;e4=c3&63;if(isNaN(c2)){e3=e4=64}else if(isNaN(c3)){e4=64}o+=map.charAt(e1)+map.charAt(e2)+map.charAt(e3)+map.charAt(e4)}return o},decode:function b64_decode(input,utf8){var o="";var c1,c2,c3;var e1,e2,e3,e4;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var i=0;i<input.length;){e1=map.indexOf(input.charAt(i++));e2=map.indexOf(input.charAt(i++));e3=map.indexOf(input.charAt(i++));e4=map.indexOf(input.charAt(i++));c1=e1<<2|e2>>4;c2=(e2&15)<<4|e3>>2;c3=(e3&3)<<6|e4;o+=String.fromCharCode(c1);if(e3!=64){o+=String.fromCharCode(c2)}if(e4!=64){o+=String.fromCharCode(c3)}}return o}}}();var has_buf=typeof Buffer!=="undefined";function new_raw_buf(len){return new(has_buf?Buffer:Array)(len)}function s2a(s){if(has_buf)return new Buffer(s,"binary");return s.split("").map(function(x){return x.charCodeAt(0)&255})}var bconcat=function(bufs){return[].concat.apply([],bufs)};var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/;var SSF={};var make_ssf=function make_ssf(SSF){SSF.version="0.8.1";function _strrev(x){var o="",i=x.length-1;while(i>=0)o+=x.charAt(i--);return o}function fill(c,l){var o="";while(o.length<l)o+=c;return o}function pad0(v,d){var t=""+v;return t.length>=d?t:fill("0",d-t.length)+t}function pad_(v,d){var t=""+v;return t.length>=d?t:fill(" ",d-t.length)+t}function rpad_(v,d){var t=""+v;return t.length>=d?t:t+fill(" ",d-t.length)}function pad0r1(v,d){var t=""+Math.round(v);return t.length>=d?t:fill("0",d-t.length)+t}function pad0r2(v,d){var t=""+v;return t.length>=d?t:fill("0",d-t.length)+t}var p2_32=Math.pow(2,32);function pad0r(v,d){if(v>p2_32||v<-p2_32)return pad0r1(v,d);var i=Math.round(v);return pad0r2(i,d)}function isgeneral(s,i){return s.length>=7+i&&(s.charCodeAt(i)|32)===103&&(s.charCodeAt(i+1)|32)===101&&(s.charCodeAt(i+2)|32)===110&&(s.charCodeAt(i+3)|32)===101&&(s.charCodeAt(i+4)|32)===114&&(s.charCodeAt(i+5)|32)===97&&(s.charCodeAt(i+6)|32)===108}var opts_fmt=[["date1904",0],["output",""],["WTF",false]];function fixopts(o){for(var y=0;y!=opts_fmt.length;++y)if(o[opts_fmt[y][0]]===undefined)o[opts_fmt[y][0]]=opts_fmt[y][1]}SSF.opts=opts_fmt;var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "',65535:"General"};var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]];var months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function frac(x,D,mixed){var sgn=x<0?-1:1;var B=x*sgn;var P_2=0,P_1=1,P=0;var Q_2=1,Q_1=0,Q=0;var A=Math.floor(B);while(Q_1<D){A=Math.floor(B);P=A*P_1+P_2;Q=A*Q_1+Q_2;if(B-A<5e-10)break;B=1/(B-A);P_2=P_1;P_1=P;Q_2=Q_1;Q_1=Q}if(Q>D){Q=Q_1;P=P_1}if(Q>D){Q=Q_2;P=P_2}if(!mixed)return[0,sgn*P,Q];if(Q===0)throw"Unexpected state: "+P+" "+P_1+" "+P_2+" "+Q+" "+Q_1+" "+Q_2;var q=Math.floor(sgn*P/Q);return[q,sgn*P-q*Q,Q]}function general_fmt_int(v,opts){return""+v}SSF._general_int=general_fmt_int;var general_fmt_num=function make_general_fmt_num(){var gnr1=/\.(\d*[1-9])0+$/,gnr2=/\.0*$/,gnr4=/\.(\d*[1-9])0+/,gnr5=/\.0*[Ee]/,gnr6=/(E[+-])(\d)$/;function gfn2(v){var w=v<0?12:11;var o=gfn5(v.toFixed(12));if(o.length<=w)return o;o=v.toPrecision(10);if(o.length<=w)return o;return v.toExponential(5)}function gfn3(v){var o=v.toFixed(11).replace(gnr1,".$1");if(o.length>(v<0?12:11))o=v.toPrecision(6);return o}function gfn4(o){for(var i=0;i!=o.length;++i)if((o.charCodeAt(i)|32)===101)return o.replace(gnr4,".$1").replace(gnr5,"E").replace("e","E").replace(gnr6,"$10$2");return o}function gfn5(o){return o.indexOf(".")>-1?o.replace(gnr2,"").replace(gnr1,".$1"):o}return function general_fmt_num(v,opts){var V=Math.floor(Math.log(Math.abs(v))*Math.LOG10E),o;if(V>=-4&&V<=-1)o=v.toPrecision(10+V);else if(Math.abs(V)<=9)o=gfn2(v);else if(V===10)o=v.toFixed(10).substr(0,12);else o=gfn3(v);return gfn5(gfn4(o))}}();SSF._general_num=general_fmt_num;function general_fmt(v,opts){switch(typeof v){case"string":return v;case"boolean":return v?"TRUE":"FALSE";case"number":return(v|0)===v?general_fmt_int(v,opts):general_fmt_num(v,opts)}throw new Error("unsupported value in General format: "+v)}SSF._general=general_fmt;function fix_hijri(date,o){return 0}function parse_date_code(v,opts,b2){if(v>2958465||v<0)return null;var date=v|0,time=Math.floor(86400*(v-date)),dow=0;var dout=[];var out={D:date,T:time,u:86400*(v-date)-time,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(out.u)<1e-6)out.u=0;fixopts(opts!=null?opts:opts=[]);if(opts.date1904)date+=1462;if(out.u>.999){out.u=0;if(++time==86400){time=0;++date}}if(date===60){dout=b2?[1317,10,29]:[1900,2,29];dow=3}else if(date===0){dout=b2?[1317,8,29]:[1900,1,0];dow=6}else{if(date>60)--date;var d=new Date(1900,0,1);d.setDate(d.getDate()+date-1);dout=[d.getFullYear(),d.getMonth()+1,d.getDate()];dow=d.getDay();if(date<60)dow=(dow+6)%7;if(b2)dow=fix_hijri(d,dout)}out.y=dout[0];out.m=dout[1];out.d=dout[2];out.S=time%60;time=Math.floor(time/60);out.M=time%60;time=Math.floor(time/60);out.H=time;out.q=dow;return out}SSF.parse_date_code=parse_date_code;function write_date(type,fmt,val,ss0){var o="",ss=0,tt=0,y=val.y,out,outl=0;switch(type){case 98:y=val.y+543;case 121:switch(fmt.length){case 1:case 2:out=y%100;outl=2;break;default:out=y%1e4;outl=4;break}break;case 109:switch(fmt.length){case 1:case 2:out=val.m;outl=fmt.length;break;case 3:return months[val.m-1][1];case 5:return months[val.m-1][0];default:return months[val.m-1][2]}break;case 100:switch(fmt.length){case 1:case 2:out=val.d;outl=fmt.length;break;case 3:return days[val.q][0];default:return days[val.q][1]}break;case 104:switch(fmt.length){case 1:case 2:out=1+(val.H+11)%12;outl=fmt.length;break;default:throw"bad hour format: "+fmt}break;case 72:switch(fmt.length){case 1:case 2:out=val.H;outl=fmt.length;break;default:throw"bad hour format: "+fmt}break;case 77:switch(fmt.length){case 1:case 2:out=val.M;outl=fmt.length;break;default:throw"bad minute format: "+fmt}break;case 115:if(val.u===0)switch(fmt){case"s":case"ss":return pad0(val.S,fmt.length);case".0":case".00":case".000":}switch(fmt){case"s":case"ss":case".0":case".00":case".000":if(ss0>=2)tt=ss0===3?1e3:100;else tt=ss0===1?10:1;ss=Math.round(tt*(val.S+val.u));if(ss>=60*tt)ss=0;if(fmt==="s")return ss===0?"0":""+ss/tt;o=pad0(ss,2+ss0);if(fmt==="ss")return o.substr(0,2);return"."+o.substr(2,fmt.length-1);default:throw"bad second format: "+fmt}case 90:switch(fmt){case"[h]":case"[hh]":out=val.D*24+val.H;break;case"[m]":case"[mm]":out=(val.D*24+val.H)*60+val.M;break;case"[s]":case"[ss]":out=((val.D*24+val.H)*60+val.M)*60+Math.round(val.S+val.u);break;default:throw"bad abstime format: "+fmt}outl=fmt.length===3?1:2;break;case 101:out=y;outl=1}if(outl>0)return pad0(out,outl);else return""}function commaify(s){if(s.length<=3)return s;var j=s.length%3,o=s.substr(0,j);for(;j!=s.length;j+=3)o+=(o.length>0?",":"")+s.substr(j,3);return o}var write_num=function make_write_num(){var pct1=/%/g;function write_num_pct(type,fmt,val){var sfmt=fmt.replace(pct1,""),mul=fmt.length-sfmt.length;return write_num(type,sfmt,val*Math.pow(10,2*mul))+fill("%",mul)}function write_num_cm(type,fmt,val){var idx=fmt.length-1;while(fmt.charCodeAt(idx-1)===44)--idx;return write_num(type,fmt.substr(0,idx),val/Math.pow(10,3*(fmt.length-idx)))}function write_num_exp(fmt,val){var o;var idx=fmt.indexOf("E")-fmt.indexOf(".")-1;if(fmt.match(/^#+0.0E\+0$/)){var period=fmt.indexOf(".");if(period===-1)period=fmt.indexOf("E");var ee=Math.floor(Math.log(Math.abs(val))*Math.LOG10E)%period;if(ee<0)ee+=period;o=(val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);if(o.indexOf("e")===-1){var fakee=Math.floor(Math.log(Math.abs(val))*Math.LOG10E);if(o.indexOf(".")===-1)o=o[0]+"."+o.substr(1)+"E+"+(fakee-o.length+ee);else o+="E+"+(fakee-ee);while(o.substr(0,2)==="0."){o=o[0]+o.substr(2,period)+"."+o.substr(2+period);o=o.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.")}o=o.replace(/\+-/,"-")}o=o.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function($$,$1,$2,$3){return $1+$2+$3.substr(0,(period+ee)%period)+"."+$3.substr(ee)+"E"})}else o=val.toExponential(idx);if(fmt.match(/E\+00$/)&&o.match(/e[+-]\d$/))o=o.substr(0,o.length-1)+"0"+o[o.length-1];if(fmt.match(/E\-/)&&o.match(/e\+/))o=o.replace(/e\+/,"e");return o.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(r,aval,sign){var den=parseInt(r[4]),rr=Math.round(aval*den),base=Math.floor(rr/den);var myn=rr-base*den,myd=den;return sign+(base===0?"":""+base)+" "+(myn===0?fill(" ",r[1].length+1+r[4].length):pad_(myn,r[1].length)+r[2]+"/"+r[3]+pad0(myd,r[4].length))}function write_num_f2(r,aval,sign){return sign+(aval===0?"":""+aval)+fill(" ",r[1].length+2+r[4].length)}var dec1=/^#*0*\.(0+)/;var closeparen=/\).*[0#]/;var phone=/\(###\) ###\\?-####/;function hashq(str){var o="",cc;for(var i=0;i!=str.length;++i)switch(cc=str.charCodeAt(i)){case 35:break;case 63:o+=" ";break;case 48:o+="0";break;default:o+=String.fromCharCode(cc)}return o}function rnd(val,d){var dd=Math.pow(10,d);return""+Math.round(val*dd)/dd}function dec(val,d){return Math.round((val-Math.floor(val))*Math.pow(10,d))}function flr(val){if(val<2147483647&&val>-2147483648)return""+(val>=0?val|0:val-1|0);return""+Math.floor(val)}function write_num_flt(type,fmt,val){if(type.charCodeAt(0)===40&&!fmt.match(closeparen)){var ffmt=fmt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");if(val>=0)return write_num_flt("n",ffmt,val);return"("+write_num_flt("n",ffmt,-val)+")"}if(fmt.charCodeAt(fmt.length-1)===44)return write_num_cm(type,fmt,val);if(fmt.indexOf("%")!==-1)return write_num_pct(type,fmt,val);if(fmt.indexOf("E")!==-1)return write_num_exp(fmt,val);if(fmt.charCodeAt(0)===36)return"$"+write_num_flt(type,fmt.substr(fmt[1]==" "?2:1),val);var o,oo;var r,ri,ff,aval=Math.abs(val),sign=val<0?"-":"";if(fmt.match(/^00+$/))return sign+pad0r(aval,fmt.length);if(fmt.match(/^[#?]+$/)){o=pad0r(val,0);if(o==="0")o="";return o.length>fmt.length?o:hashq(fmt.substr(0,fmt.length-o.length))+o}if((r=fmt.match(frac1))!==null)return write_num_f1(r,aval,sign);if(fmt.match(/^#+0+$/)!==null)return sign+pad0r(aval,fmt.length-fmt.indexOf("0"));if((r=fmt.match(dec1))!==null){o=rnd(val,r[1].length).replace(/^([^\.]+)$/,"$1."+r[1]).replace(/\.$/,"."+r[1]).replace(/\.(\d*)$/,function($$,$1){return"."+$1+fill("0",r[1].length-$1.length)});return fmt.indexOf("0.")!==-1?o:o.replace(/^0\./,".")}fmt=fmt.replace(/^#+([0.])/,"$1");if((r=fmt.match(/^(0*)\.(#*)$/))!==null){return sign+rnd(aval,r[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".")}if((r=fmt.match(/^#,##0(\.?)$/))!==null)return sign+commaify(pad0r(aval,0));if((r=fmt.match(/^#,##0\.([#0]*0)$/))!==null){return val<0?"-"+write_num_flt(type,fmt,-val):commaify(""+Math.floor(val))+"."+pad0(dec(val,r[1].length),r[1].length)}if((r=fmt.match(/^#,#*,#0/))!==null)return write_num_flt(type,fmt.replace(/^#,#*,/,""),val);if((r=fmt.match(/^([0#]+)(\\?-([0#]+))+$/))!==null){o=_strrev(write_num_flt(type,fmt.replace(/[\\-]/g,""),val));ri=0;return _strrev(_strrev(fmt.replace(/\\/g,"")).replace(/[0#]/g,function(x){return ri<o.length?o[ri++]:x==="0"?"0":""}))}if(fmt.match(phone)!==null){o=write_num_flt(type,"##########",val);return"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6)}var oa="";if((r=fmt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))!==null){ri=Math.min(r[4].length,7);ff=frac(aval,Math.pow(10,ri)-1,false);o=""+sign;oa=write_num("n",r[1],ff[1]);if(oa[oa.length-1]==" ")oa=oa.substr(0,oa.length-1)+"0";o+=oa+r[2]+"/"+r[3];oa=rpad_(ff[2],ri);if(oa.length<r[4].length)oa=hashq(r[4].substr(r[4].length-oa.length))+oa;o+=oa;return o}if((r=fmt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))!==null){ri=Math.min(Math.max(r[1].length,r[4].length),7);ff=frac(aval,Math.pow(10,ri)-1,true);return sign+(ff[0]||(ff[1]?"":"0"))+" "+(ff[1]?pad_(ff[1],ri)+r[2]+"/"+r[3]+rpad_(ff[2],ri):fill(" ",2*ri+1+r[2].length+r[3].length))}if((r=fmt.match(/^[#0?]+$/))!==null){o=pad0r(val,0);if(fmt.length<=o.length)return o;return hashq(fmt.substr(0,fmt.length-o.length))+o}if((r=fmt.match(/^([#0?]+)\.([#0]+)$/))!==null){o=""+val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1");ri=o.indexOf(".");var lres=fmt.indexOf(".")-ri,rres=fmt.length-o.length-lres;return hashq(fmt.substr(0,lres)+o+fmt.substr(fmt.length-rres))}if((r=fmt.match(/^00,000\.([#0]*0)$/))!==null){ri=dec(val,r[1].length);return val<0?"-"+write_num_flt(type,fmt,-val):commaify(flr(val)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function($$){return"00,"+($$.length<3?pad0(0,3-$$.length):"")+$$})+"."+pad0(ri,r[1].length)}switch(fmt){case"#,###":var x=commaify(pad0r(aval,0));return x!=="0"?sign+x:"";default:}throw new Error("unsupported format |"+fmt+"|")}function write_num_cm2(type,fmt,val){var idx=fmt.length-1;while(fmt.charCodeAt(idx-1)===44)--idx;return write_num(type,fmt.substr(0,idx),val/Math.pow(10,3*(fmt.length-idx)))}function write_num_pct2(type,fmt,val){var sfmt=fmt.replace(pct1,""),mul=fmt.length-sfmt.length;return write_num(type,sfmt,val*Math.pow(10,2*mul))+fill("%",mul)}function write_num_exp2(fmt,val){var o;var idx=fmt.indexOf("E")-fmt.indexOf(".")-1;if(fmt.match(/^#+0.0E\+0$/)){var period=fmt.indexOf(".");if(period===-1)period=fmt.indexOf("E");var ee=Math.floor(Math.log(Math.abs(val))*Math.LOG10E)%period;if(ee<0)ee+=period;o=(val/Math.pow(10,ee)).toPrecision(idx+1+(period+ee)%period);if(!o.match(/[Ee]/)){var fakee=Math.floor(Math.log(Math.abs(val))*Math.LOG10E);if(o.indexOf(".")===-1)o=o[0]+"."+o.substr(1)+"E+"+(fakee-o.length+ee);else o+="E+"+(fakee-ee);o=o.replace(/\+-/,"-")}o=o.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function($$,$1,$2,$3){return $1+$2+$3.substr(0,(period+ee)%period)+"."+$3.substr(ee)+"E"})}else o=val.toExponential(idx);if(fmt.match(/E\+00$/)&&o.match(/e[+-]\d$/))o=o.substr(0,o.length-1)+"0"+o[o.length-1];if(fmt.match(/E\-/)&&o.match(/e\+/))o=o.replace(/e\+/,"e");return o.replace("e","E")}function write_num_int(type,fmt,val){if(type.charCodeAt(0)===40&&!fmt.match(closeparen)){var ffmt=fmt.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");if(val>=0)return write_num_int("n",ffmt,val);return"("+write_num_int("n",ffmt,-val)+")"}if(fmt.charCodeAt(fmt.length-1)===44)return write_num_cm2(type,fmt,val);if(fmt.indexOf("%")!==-1)return write_num_pct2(type,fmt,val);if(fmt.indexOf("E")!==-1)return write_num_exp2(fmt,val);if(fmt.charCodeAt(0)===36)return"$"+write_num_int(type,fmt.substr(fmt[1]==" "?2:1),val);var o;var r,ri,ff,aval=Math.abs(val),sign=val<0?"-":"";if(fmt.match(/^00+$/))return sign+pad0(aval,fmt.length);if(fmt.match(/^[#?]+$/)){o=""+val;if(val===0)o="";return o.length>fmt.length?o:hashq(fmt.substr(0,fmt.length-o.length))+o}if((r=fmt.match(frac1))!==null)return write_num_f2(r,aval,sign);if(fmt.match(/^#+0+$/)!==null)return sign+pad0(aval,fmt.length-fmt.indexOf("0"));if((r=fmt.match(dec1))!==null){o=(""+val).replace(/^([^\.]+)$/,"$1."+r[1]).replace(/\.$/,"."+r[1]).replace(/\.(\d*)$/,function($$,$1){return"."+$1+fill("0",r[1].length-$1.length)});return fmt.indexOf("0.")!==-1?o:o.replace(/^0\./,".")
}fmt=fmt.replace(/^#+([0.])/,"$1");if((r=fmt.match(/^(0*)\.(#*)$/))!==null){return sign+(""+aval).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,r[1].length?"0.":".")}if((r=fmt.match(/^#,##0(\.?)$/))!==null)return sign+commaify(""+aval);if((r=fmt.match(/^#,##0\.([#0]*0)$/))!==null){return val<0?"-"+write_num_int(type,fmt,-val):commaify(""+val)+"."+fill("0",r[1].length)}if((r=fmt.match(/^#,#*,#0/))!==null)return write_num_int(type,fmt.replace(/^#,#*,/,""),val);if((r=fmt.match(/^([0#]+)(\\?-([0#]+))+$/))!==null){o=_strrev(write_num_int(type,fmt.replace(/[\\-]/g,""),val));ri=0;return _strrev(_strrev(fmt.replace(/\\/g,"")).replace(/[0#]/g,function(x){return ri<o.length?o[ri++]:x==="0"?"0":""}))}if(fmt.match(phone)!==null){o=write_num_int(type,"##########",val);return"("+o.substr(0,3)+") "+o.substr(3,3)+"-"+o.substr(6)}var oa="";if((r=fmt.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))!==null){ri=Math.min(r[4].length,7);ff=frac(aval,Math.pow(10,ri)-1,false);o=""+sign;oa=write_num("n",r[1],ff[1]);if(oa[oa.length-1]==" ")oa=oa.substr(0,oa.length-1)+"0";o+=oa+r[2]+"/"+r[3];oa=rpad_(ff[2],ri);if(oa.length<r[4].length)oa=hashq(r[4].substr(r[4].length-oa.length))+oa;o+=oa;return o}if((r=fmt.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))!==null){ri=Math.min(Math.max(r[1].length,r[4].length),7);ff=frac(aval,Math.pow(10,ri)-1,true);return sign+(ff[0]||(ff[1]?"":"0"))+" "+(ff[1]?pad_(ff[1],ri)+r[2]+"/"+r[3]+rpad_(ff[2],ri):fill(" ",2*ri+1+r[2].length+r[3].length))}if((r=fmt.match(/^[#0?]+$/))!==null){o=""+val;if(fmt.length<=o.length)return o;return hashq(fmt.substr(0,fmt.length-o.length))+o}if((r=fmt.match(/^([#0]+)\.([#0]+)$/))!==null){o=""+val.toFixed(Math.min(r[2].length,10)).replace(/([^0])0+$/,"$1");ri=o.indexOf(".");var lres=fmt.indexOf(".")-ri,rres=fmt.length-o.length-lres;return hashq(fmt.substr(0,lres)+o+fmt.substr(fmt.length-rres))}if((r=fmt.match(/^00,000\.([#0]*0)$/))!==null){return val<0?"-"+write_num_int(type,fmt,-val):commaify(""+val).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function($$){return"00,"+($$.length<3?pad0(0,3-$$.length):"")+$$})+"."+pad0(0,r[1].length)}switch(fmt){case"#,###":var x=commaify(""+aval);return x!=="0"?sign+x:"";default:}throw new Error("unsupported format |"+fmt+"|")}return function write_num(type,fmt,val){return(val|0)===val?write_num_int(type,fmt,val):write_num_flt(type,fmt,val)}}();function split_fmt(fmt){var out=[];var in_str=false,cc;for(var i=0,j=0;i<fmt.length;++i)switch(cc=fmt.charCodeAt(i)){case 34:in_str=!in_str;break;case 95:case 42:case 92:++i;break;case 59:out[out.length]=fmt.substr(j,i-j);j=i+1}out[out.length]=fmt.substr(j);if(in_str===true)throw new Error("Format |"+fmt+"| unterminated string ");return out}SSF._split=split_fmt;var abstime=/\[[HhMmSs]*\]/;function eval_fmt(fmt,v,opts,flen){var out=[],o="",i=0,c="",lst="t",q,dt,j,cc;var hr="H";while(i<fmt.length){switch(c=fmt[i]){case"G":if(!isgeneral(fmt,i))throw new Error("unrecognized character "+c+" in "+fmt);out[out.length]={t:"G",v:"General"};i+=7;break;case'"':for(o="";(cc=fmt.charCodeAt(++i))!==34&&i<fmt.length;)o+=String.fromCharCode(cc);out[out.length]={t:"t",v:o};++i;break;case"\\":var w=fmt[++i],t=w==="("||w===")"?w:"t";out[out.length]={t:t,v:w};++i;break;case"_":out[out.length]={t:"t",v:" "};i+=2;break;case"@":out[out.length]={t:"T",v:v};++i;break;case"B":case"b":if(fmt[i+1]==="1"||fmt[i+1]==="2"){if(dt==null){dt=parse_date_code(v,opts,fmt[i+1]==="2");if(dt==null)return""}out[out.length]={t:"X",v:fmt.substr(i,2)};lst=c;i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(v<0)return"";if(dt==null){dt=parse_date_code(v,opts);if(dt==null)return""}o=c;while(++i<fmt.length&&fmt[i].toLowerCase()===c)o+=c;if(c==="m"&&lst.toLowerCase()==="h")c="M";if(c==="h")c=hr;out[out.length]={t:c,v:o};lst=c;break;case"A":q={t:c,v:"A"};if(dt==null)dt=parse_date_code(v,opts);if(fmt.substr(i,3)==="A/P"){if(dt!=null)q.v=dt.H>=12?"P":"A";q.t="T";hr="h";i+=3}else if(fmt.substr(i,5)==="AM/PM"){if(dt!=null)q.v=dt.H>=12?"PM":"AM";q.t="T";i+=5;hr="h"}else{q.t="t";++i}if(dt==null&&q.t==="T")return"";out[out.length]=q;lst=c;break;case"[":o=c;while(fmt[i++]!=="]"&&i<fmt.length)o+=fmt[i];if(o.substr(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(abstime)){if(dt==null){dt=parse_date_code(v,opts);if(dt==null)return""}out[out.length]={t:"Z",v:o.toLowerCase()}}else{o=""}break;case".":if(dt!=null){o=c;while((c=fmt[++i])==="0")o+=c;out[out.length]={t:"s",v:o};break}case"0":case"#":o=c;while("0#?.,E+-%".indexOf(c=fmt[++i])>-1||c=="\\"&&fmt[i+1]=="-"&&"0#".indexOf(fmt[i+2])>-1)o+=c;out[out.length]={t:"n",v:o};break;case"?":o=c;while(fmt[++i]===c)o+=c;q={t:c,v:o};out[out.length]=q;lst=c;break;case"*":++i;if(fmt[i]==" "||fmt[i]=="*")++i;break;case"(":case")":out[out.length]={t:flen===1?"t":c,v:c};++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":o=c;while("0123456789".indexOf(fmt[++i])>-1)o+=fmt[i];out[out.length]={t:"D",v:o};break;case" ":out[out.length]={t:c,v:c};++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxz".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+fmt);out[out.length]={t:"t",v:c};++i;break}}var bt=0,ss0=0,ssm;for(i=out.length-1,lst="t";i>=0;--i){switch(out[i].t){case"h":case"H":out[i].t=hr;lst="h";if(bt<1)bt=1;break;case"s":if(ssm=out[i].v.match(/\.0+$/))ss0=Math.max(ss0,ssm[0].length-1);if(bt<3)bt=3;case"d":case"y":case"M":case"e":lst=out[i].t;break;case"m":if(lst==="s"){out[i].t="M";if(bt<2)bt=2}break;case"X":if(out[i].v==="B2");break;case"Z":if(bt<1&&out[i].v.match(/[Hh]/))bt=1;if(bt<2&&out[i].v.match(/[Mm]/))bt=2;if(bt<3&&out[i].v.match(/[Ss]/))bt=3}}switch(bt){case 0:break;case 1:if(dt.u>=.5){dt.u=0;++dt.S}if(dt.S>=60){dt.S=0;++dt.M}if(dt.M>=60){dt.M=0;++dt.H}break;case 2:if(dt.u>=.5){dt.u=0;++dt.S}if(dt.S>=60){dt.S=0;++dt.M}break}var nstr="",jj;for(i=0;i<out.length;++i){switch(out[i].t){case"t":case"T":case" ":case"D":break;case"X":out[i]=undefined;break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":out[i].v=write_date(out[i].t.charCodeAt(0),out[i].v,dt,ss0);out[i].t="t";break;case"n":case"(":case"?":jj=i+1;while(out[jj]!=null&&((c=out[jj].t)==="?"||c==="D"||(c===" "||c==="t")&&out[jj+1]!=null&&(out[jj+1].t==="?"||out[jj+1].t==="t"&&out[jj+1].v==="/")||out[i].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(out[jj].v==="/"||"$".indexOf(out[jj].v)>-1||out[jj].v===" "&&out[jj+1]!=null&&out[jj+1].t=="?"))){out[i].v+=out[jj].v;out[jj]=undefined;++jj}nstr+=out[i].v;i=jj-1;break;case"G":out[i].t="t";out[i].v=general_fmt(v,opts);break}}var vv="",myv,ostr;if(nstr.length>0){myv=v<0&&nstr.charCodeAt(0)===45?-v:v;ostr=write_num(nstr.charCodeAt(0)===40?"(":"n",nstr,myv);jj=ostr.length-1;var decpt=out.length;for(i=0;i<out.length;++i)if(out[i]!=null&&out[i].v.indexOf(".")>-1){decpt=i;break}var lasti=out.length;if(decpt===out.length&&ostr.indexOf("E")===-1){for(i=out.length-1;i>=0;--i){if(out[i]==null||"n?(".indexOf(out[i].t)===-1)continue;if(jj>=out[i].v.length-1){jj-=out[i].v.length;out[i].v=ostr.substr(jj+1,out[i].v.length)}else if(jj<0)out[i].v="";else{out[i].v=ostr.substr(0,jj+1);jj=-1}out[i].t="t";lasti=i}if(jj>=0&&lasti<out.length)out[lasti].v=ostr.substr(0,jj+1)+out[lasti].v}else if(decpt!==out.length&&ostr.indexOf("E")===-1){jj=ostr.indexOf(".")-1;for(i=decpt;i>=0;--i){if(out[i]==null||"n?(".indexOf(out[i].t)===-1)continue;j=out[i].v.indexOf(".")>-1&&i===decpt?out[i].v.indexOf(".")-1:out[i].v.length-1;vv=out[i].v.substr(j+1);for(;j>=0;--j){if(jj>=0&&(out[i].v[j]==="0"||out[i].v[j]==="#"))vv=ostr[jj--]+vv}out[i].v=vv;out[i].t="t";lasti=i}if(jj>=0&&lasti<out.length)out[lasti].v=ostr.substr(0,jj+1)+out[lasti].v;jj=ostr.indexOf(".")+1;for(i=decpt;i<out.length;++i){if(out[i]==null||"n?(".indexOf(out[i].t)===-1&&i!==decpt)continue;j=out[i].v.indexOf(".")>-1&&i===decpt?out[i].v.indexOf(".")+1:0;vv=out[i].v.substr(0,j);for(;j<out[i].v.length;++j){if(jj<ostr.length)vv+=ostr[jj++]}out[i].v=vv;out[i].t="t";lasti=i}}}for(i=0;i<out.length;++i)if(out[i]!=null&&"n(?".indexOf(out[i].t)>-1){myv=flen>1&&v<0&&i>0&&out[i-1].v==="-"?-v:v;out[i].v=write_num(out[i].t,out[i].v,myv);out[i].t="t"}var retval="";for(i=0;i!==out.length;++i)if(out[i]!=null)retval+=out[i].v;return retval}SSF._eval=eval_fmt;var cfregex=/\[[=<>]/;var cfregex2=/\[([=<>]*)(-?\d+\.?\d*)\]/;function chkcond(v,rr){if(rr==null)return false;var thresh=parseFloat(rr[2]);switch(rr[1]){case"=":if(v==thresh)return true;break;case">":if(v>thresh)return true;break;case"<":if(v<thresh)return true;break;case"<>":if(v!=thresh)return true;break;case">=":if(v>=thresh)return true;break;case"<=":if(v<=thresh)return true;break}return false}function choose_fmt(f,v){var fmt=split_fmt(f);var l=fmt.length,lat=fmt[l-1].indexOf("@");if(l<4&&lat>-1)--l;if(fmt.length>4)throw"cannot find right format for |"+fmt+"|";if(typeof v!=="number")return[4,fmt.length===4||lat>-1?fmt[fmt.length-1]:"@"];switch(fmt.length){case 1:fmt=lat>-1?["General","General","General",fmt[0]]:[fmt[0],fmt[0],fmt[0],"@"];break;case 2:fmt=lat>-1?[fmt[0],fmt[0],fmt[0],fmt[1]]:[fmt[0],fmt[1],fmt[0],"@"];break;case 3:fmt=lat>-1?[fmt[0],fmt[1],fmt[0],fmt[2]]:[fmt[0],fmt[1],fmt[2],"@"];break;case 4:break}var ff=v>0?fmt[0]:v<0?fmt[1]:fmt[2];if(fmt[0].indexOf("[")===-1&&fmt[1].indexOf("[")===-1)return[l,ff];if(fmt[0].match(cfregex)!=null||fmt[1].match(cfregex)!=null){var m1=fmt[0].match(cfregex2);var m2=fmt[1].match(cfregex2);return chkcond(v,m1)?[l,fmt[0]]:chkcond(v,m2)?[l,fmt[1]]:[l,fmt[m1!=null&&m2!=null?2:1]]}return[l,ff]}function format(fmt,v,o){fixopts(o!=null?o:o=[]);var sfmt="";switch(typeof fmt){case"string":sfmt=fmt;break;case"number":sfmt=(o.table!=null?o.table:table_fmt)[fmt];break}if(isgeneral(sfmt,0))return general_fmt(v,o);var f=choose_fmt(sfmt,v);if(isgeneral(f[1]))return general_fmt(v,o);if(v===true)v="TRUE";else if(v===false)v="FALSE";else if(v===""||v==null)return"";return eval_fmt(f[1],v,o,f[0])}SSF._table=table_fmt;SSF.load=function load_entry(fmt,idx){table_fmt[idx]=fmt};SSF.format=format;SSF.get_table=function get_table(){return table_fmt};SSF.load_table=function load_table(tbl){for(var i=0;i!=392;++i)if(tbl[i]!==undefined)SSF.load(tbl[i],i)}};make_ssf(SSF);var XLMLFormatMap={"General Number":"General","General Date":SSF._table[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":SSF._table[15],"Short Date":SSF._table[14],"Long Time":SSF._table[19],"Medium Time":SSF._table[18],"Short Time":SSF._table[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:SSF._table[2],Standard:SSF._table[4],Percent:SSF._table[10],Scientific:SSF._table[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var DO_NOT_EXPORT_CFB=true;var CFB=function _CFB(){var exports={};exports.version="0.10.2";function parse(file){var mver=3;var ssz=512;var nmfs=0;var ndfs=0;var dir_start=0;var minifat_start=0;var difat_start=0;var fat_addrs=[];var blob=file.slice(0,512);prep_blob(blob,0);var mv=check_get_mver(blob);mver=mv[0];switch(mver){case 3:ssz=512;break;case 4:ssz=4096;break;default:throw"Major Version: Expected 3 or 4 saw "+mver}if(ssz!==512){blob=file.slice(0,ssz);prep_blob(blob,28)}var header=file.slice(0,ssz);check_shifts(blob,mver);var nds=blob.read_shift(4,"i");if(mver===3&&nds!==0)throw"# Directory Sectors: Expected 0 saw "+nds;blob.l+=4;dir_start=blob.read_shift(4,"i");blob.l+=4;blob.chk("00100000","Mini Stream Cutoff Size: ");minifat_start=blob.read_shift(4,"i");nmfs=blob.read_shift(4,"i");difat_start=blob.read_shift(4,"i");ndfs=blob.read_shift(4,"i");for(var q,j=0;j<109;++j){q=blob.read_shift(4,"i");if(q<0)break;fat_addrs[j]=q}var sectors=sectorify(file,ssz);sleuth_fat(difat_start,ndfs,sectors,ssz,fat_addrs);var sector_list=make_sector_list(sectors,dir_start,fat_addrs,ssz);sector_list[dir_start].name="!Directory";if(nmfs>0&&minifat_start!==ENDOFCHAIN)sector_list[minifat_start].name="!MiniFAT";sector_list[fat_addrs[0]].name="!FAT";sector_list.fat_addrs=fat_addrs;sector_list.ssz=ssz;var files={},Paths=[],FileIndex=[],FullPaths=[],FullPathDir={};read_directory(dir_start,sector_list,sectors,Paths,nmfs,files,FileIndex);build_full_paths(FileIndex,FullPathDir,FullPaths,Paths);var root_name=Paths.shift();Paths.root=root_name;var find_path=make_find_path(FullPaths,Paths,FileIndex,files,root_name);return{raw:{header:header,sectors:sectors},FileIndex:FileIndex,FullPaths:FullPaths,FullPathDir:FullPathDir,find:find_path}}function check_get_mver(blob){blob.chk(HEADER_SIGNATURE,"Header Signature: ");blob.chk(HEADER_CLSID,"CLSID: ");var mver=blob.read_shift(2,"u");return[blob.read_shift(2,"u"),mver]}function check_shifts(blob,mver){var shift=9;blob.chk("feff","Byte Order: ");switch(shift=blob.read_shift(2)){case 9:if(mver!==3)throw"MajorVersion/SectorShift Mismatch";break;case 12:if(mver!==4)throw"MajorVersion/SectorShift Mismatch";break;default:throw"Sector Shift: Expected 9 or 12 saw "+shift}blob.chk("0600","Mini Sector Shift: ");blob.chk("000000000000","Reserved: ")}function sectorify(file,ssz){var nsectors=Math.ceil(file.length/ssz)-1;var sectors=new Array(nsectors);for(var i=1;i<nsectors;++i)sectors[i-1]=file.slice(i*ssz,(i+1)*ssz);sectors[nsectors-1]=file.slice(nsectors*ssz);return sectors}function build_full_paths(FI,FPD,FP,Paths){var i=0,L=0,R=0,C=0,j=0,pl=Paths.length;var dad=new Array(pl),q=new Array(pl);for(;i<pl;++i){dad[i]=q[i]=i;FP[i]=Paths[i]}for(;j<q.length;++j){i=q[j];L=FI[i].L;R=FI[i].R;C=FI[i].C;if(dad[i]===i){if(L!==-1&&dad[L]!==L)dad[i]=dad[L];if(R!==-1&&dad[R]!==R)dad[i]=dad[R]}if(C!==-1)dad[C]=i;if(L!==-1){dad[L]=dad[i];q.push(L)}if(R!==-1){dad[R]=dad[i];q.push(R)}}for(i=1;i!==pl;++i)if(dad[i]===i){if(R!==-1&&dad[R]!==R)dad[i]=dad[R];else if(L!==-1&&dad[L]!==L)dad[i]=dad[L]}for(i=1;i<pl;++i){if(FI[i].type===0)continue;j=dad[i];if(j===0)FP[i]=FP[0]+"/"+FP[i];else while(j!==0){FP[i]=FP[j]+"/"+FP[i];j=dad[j]}dad[i]=0}FP[0]+="/";for(i=1;i<pl;++i){if(FI[i].type!==2)FP[i]+="/";FPD[FP[i]]=FI[i]}}function make_find_path(FullPaths,Paths,FileIndex,files,root_name){var UCFullPaths=new Array(FullPaths.length);var UCPaths=new Array(Paths.length),i;for(i=0;i<FullPaths.length;++i)UCFullPaths[i]=FullPaths[i].toUpperCase().replace(chr0,"").replace(chr1,"!");for(i=0;i<Paths.length;++i)UCPaths[i]=Paths[i].toUpperCase().replace(chr0,"").replace(chr1,"!");return function find_path(path){var k;if(path.charCodeAt(0)===47){k=true;path=root_name+path}else k=path.indexOf("/")!==-1;var UCPath=path.toUpperCase().replace(chr0,"").replace(chr1,"!");var w=k===true?UCFullPaths.indexOf(UCPath):UCPaths.indexOf(UCPath);if(w===-1)return null;return k===true?FileIndex[w]:files[Paths[w]]}}function sleuth_fat(idx,cnt,sectors,ssz,fat_addrs){var q;if(idx===ENDOFCHAIN){if(cnt!==0)throw"DIFAT chain shorter than expected"}else if(idx!==-1){var sector=sectors[idx],m=(ssz>>>2)-1;for(var i=0;i<m;++i){if((q=__readInt32LE(sector,i*4))===ENDOFCHAIN)break;fat_addrs.push(q)}sleuth_fat(__readInt32LE(sector,ssz-4),cnt-1,sectors,ssz,fat_addrs)}}function get_sector_list(sectors,start,fat_addrs,ssz,chkd){var sl=sectors.length;var buf,buf_chain;if(!chkd)chkd=new Array(sl);var modulus=ssz-1,j,jj;buf=[];buf_chain=[];for(j=start;j>=0;){chkd[j]=true;buf[buf.length]=j;buf_chain.push(sectors[j]);var addr=fat_addrs[Math.floor(j*4/ssz)];jj=j*4&modulus;if(ssz<4+jj)throw"FAT boundary crossed: "+j+" 4 "+ssz;j=__readInt32LE(sectors[addr],jj)}return{nodes:buf,data:__toBuffer([buf_chain])}}function make_sector_list(sectors,dir_start,fat_addrs,ssz){var sl=sectors.length,sector_list=new Array(sl);var chkd=new Array(sl),buf,buf_chain;var modulus=ssz-1,i,j,k,jj;for(i=0;i<sl;++i){buf=[];k=i+dir_start;if(k>=sl)k-=sl;if(chkd[k]===true)continue;buf_chain=[];for(j=k;j>=0;){chkd[j]=true;buf[buf.length]=j;buf_chain.push(sectors[j]);var addr=fat_addrs[Math.floor(j*4/ssz)];jj=j*4&modulus;if(ssz<4+jj)throw"FAT boundary crossed: "+j+" 4 "+ssz;j=__readInt32LE(sectors[addr],jj)}sector_list[k]={nodes:buf,data:__toBuffer([buf_chain])}}return sector_list}function read_directory(dir_start,sector_list,sectors,Paths,nmfs,files,FileIndex){var blob;var minifat_store=0,pl=Paths.length?2:0;var sector=sector_list[dir_start].data;var i=0,namelen=0,name,o,ctime,mtime;for(;i<sector.length;i+=128){blob=sector.slice(i,i+128);prep_blob(blob,64);namelen=blob.read_shift(2);if(namelen===0)continue;name=__utf16le(blob,0,namelen-pl);Paths.push(name);o={name:name,type:blob.read_shift(1),color:blob.read_shift(1),L:blob.read_shift(4,"i"),R:blob.read_shift(4,"i"),C:blob.read_shift(4,"i"),clsid:blob.read_shift(16),state:blob.read_shift(4,"i")};ctime=blob.read_shift(2)+blob.read_shift(2)+blob.read_shift(2)+blob.read_shift(2);if(ctime!==0){o.ctime=ctime;o.ct=read_date(blob,blob.l-8)}mtime=blob.read_shift(2)+blob.read_shift(2)+blob.read_shift(2)+blob.read_shift(2);if(mtime!==0){o.mtime=mtime;o.mt=read_date(blob,blob.l-8)}o.start=blob.read_shift(4,"i");o.size=blob.read_shift(4,"i");if(o.type===5){minifat_store=o.start;if(nmfs>0&&minifat_store!==ENDOFCHAIN)sector_list[minifat_store].name="!StreamData"}else if(o.size>=4096){o.storage="fat";if(sector_list[o.start]===undefined)sector_list[o.start]=get_sector_list(sectors,o.start,sector_list.fat_addrs,sector_list.ssz);sector_list[o.start].name=o.name;o.content=sector_list[o.start].data.slice(0,o.size);prep_blob(o.content,0)}else{o.storage="minifat";if(minifat_store!==ENDOFCHAIN&&o.start!==ENDOFCHAIN){o.content=sector_list[minifat_store].data.slice(o.start*MSSZ,o.start*MSSZ+o.size);prep_blob(o.content,0)}}files[name]=o;FileIndex.push(o)}}function read_date(blob,offset){return new Date((__readUInt32LE(blob,offset+4)/1e7*Math.pow(2,32)+__readUInt32LE(blob,offset)/1e7-11644473600)*1e3)}var fs;function readFileSync(filename,options){if(fs===undefined)fs=require("fs");return parse(fs.readFileSync(filename),options)}function readSync(blob,options){switch(options!==undefined&&options.type!==undefined?options.type:"base64"){case"file":return readFileSync(blob,options);case"base64":return parse(s2a(Base64.decode(blob)),options);case"binary":return parse(s2a(blob),options)}return parse(blob)}var MSSZ=64;var ENDOFCHAIN=-2;var HEADER_SIGNATURE="d0cf11e0a1b11ae1";var HEADER_CLSID="00000000000000000000000000000000";var consts={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ENDOFCHAIN,FREESECT:-1,HEADER_SIGNATURE:HEADER_SIGNATURE,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:HEADER_CLSID,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};exports.read=readSync;exports.parse=parse;exports.utils={ReadShift:ReadShift,CheckField:CheckField,prep_blob:prep_blob,bconcat:bconcat,consts:consts};return exports}();if(typeof require!=="undefined"&&typeof module!=="undefined"&&typeof DO_NOT_EXPORT_CFB==="undefined"){module.exports=CFB}function isval(x){return x!==undefined&&x!==null}function keys(o){return Object.keys(o)}function evert_key(obj,key){var o=[],K=keys(obj);for(var i=0;i!==K.length;++i)o[obj[K[i]][key]]=K[i];return o}function evert(obj){var o=[],K=keys(obj);for(var i=0;i!==K.length;++i)o[obj[K[i]]]=K[i];return o}function evert_num(obj){var o=[],K=keys(obj);for(var i=0;i!==K.length;++i)o[obj[K[i]]]=parseInt(K[i],10);return o}function evert_arr(obj){var o=[],K=keys(obj);for(var i=0;i!==K.length;++i){if(o[obj[K[i]]]==null)o[obj[K[i]]]=[];o[obj[K[i]]].push(K[i])}return o}function datenum(v,date1904){if(date1904)v+=1462;var epoch=Date.parse(v);return(epoch+22091616e5)/(24*60*60*1e3)}function cc2str(arr){var o="";for(var i=0;i!=arr.length;++i)o+=String.fromCharCode(arr[i]);return o}function getdata(data){if(!data)return null;if(data.name.substr(-4)===".bin"){if(data.data)return char_codes(data.data);if(data.asNodeBuffer&&has_buf)return data.asNodeBuffer();if(data._data&&data._data.getContent)return Array.prototype.slice.call(data._data.getContent())}else{if(data.data)return data.name.substr(-4)!==".bin"?debom_xml(data.data):char_codes(data.data);if(data.asNodeBuffer&&has_buf)return debom_xml(data.asNodeBuffer().toString("binary"));if(data.asBinary)return debom_xml(data.asBinary());if(data._data&&data._data.getContent)return debom_xml(cc2str(Array.prototype.slice.call(data._data.getContent(),0)))}return null}function safegetzipfile(zip,file){var f=file;if(zip.files[f])return zip.files[f];f=file.toLowerCase();if(zip.files[f])return zip.files[f];f=f.replace(/\//g,"\\");if(zip.files[f])return zip.files[f];return null}function getzipfile(zip,file){var o=safegetzipfile(zip,file);if(o==null)throw new Error("Cannot find file "+file+" in zip");return o}function getzipdata(zip,file,safe){if(!safe)return getdata(getzipfile(zip,file));if(!file)return null;try{return getzipdata(zip,file)}catch(e){return null}}var _fs,jszip;if(typeof JSZip!=="undefined")jszip=JSZip;if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){if(has_buf&&typeof jszip==="undefined")jszip=require("js"+"zip");if(typeof jszip==="undefined")jszip=require("./js"+"zip").JSZip;_fs=require("f"+"s")}}var attregexg=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g;var tagregex=/<[^>]*>/g;var nsregex=/<\w*:/,nsregex2=/<(\/?)\w+:/;function parsexmltag(tag,skip_root){var z=[];var eq=0,c=0;for(;eq!==tag.length;++eq)if((c=tag.charCodeAt(eq))===32||c===10||c===13)break;if(!skip_root)z[0]=tag.substr(0,eq);if(eq===tag.length)return z;var m=tag.match(attregexg),j=0,w="",v="",i=0,q="",cc="";if(m)for(i=0;i!=m.length;++i){cc=m[i];for(c=0;c!=cc.length;++c)if(cc.charCodeAt(c)===61)break;q=cc.substr(0,c);v=cc.substring(c+2,cc.length-1);for(j=0;j!=q.length;++j)if(q.charCodeAt(j)===58)break;if(j===q.length)z[q]=v;else z[(j===5&&q.substr(0,5)==="xmlns"?"xmlns":"")+q.substr(j+1)]=v}return z}function strip_ns(x){return x.replace(nsregex2,"<$1")}var encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"};var rencoding=evert(encodings);var rencstr="&<>'\"".split("");var unescapexml=function(){var encregex=/&[a-z]*;/g,coderegex=/_x([\da-fA-F]+)_/g;return function unescapexml(text){var s=text+"";return s.replace(encregex,function($$){return encodings[$$]}).replace(coderegex,function(m,c){return String.fromCharCode(parseInt(c,16))})}}();var decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(text){var s=text+"";return s.replace(decregex,function(y){return rencoding[y]}).replace(charegex,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).substr(-4)+"_"})}var xlml_fixstr=function(){var entregex=/&#(\d+);/g;function entrepl($$,$1){return String.fromCharCode(parseInt($1,10))}return function xlml_fixstr(str){return str.replace(entregex,entrepl)}}();function parsexmlbool(value,tag){switch(value){case"1":case"true":case"TRUE":return true;default:return false}}var utf8read=function utf8reada(orig){var out="",i=0,c=0,d=0,e=0,f=0,w=0;while(i<orig.length){c=orig.charCodeAt(i++);if(c<128){out+=String.fromCharCode(c);continue}d=orig.charCodeAt(i++);if(c>191&&c<224){out+=String.fromCharCode((c&31)<<6|d&63);continue}e=orig.charCodeAt(i++);if(c<240){out+=String.fromCharCode((c&15)<<12|(d&63)<<6|e&63);continue}f=orig.charCodeAt(i++);w=((c&7)<<18|(d&63)<<12|(e&63)<<6|f&63)-65536;out+=String.fromCharCode(55296+(w>>>10&1023));out+=String.fromCharCode(56320+(w&1023))}return out};if(has_buf){var utf8readb=function utf8readb(data){var out=new Buffer(2*data.length),w,i,j=1,k=0,ww=0,c;for(i=0;i<data.length;i+=j){j=1;if((c=data.charCodeAt(i))<128)w=c;else if(c<224){w=(c&31)*64+(data.charCodeAt(i+1)&63);j=2}else if(c<240){w=(c&15)*4096+(data.charCodeAt(i+1)&63)*64+(data.charCodeAt(i+2)&63);j=3}else{j=4;w=(c&7)*262144+(data.charCodeAt(i+1)&63)*4096+(data.charCodeAt(i+2)&63)*64+(data.charCodeAt(i+3)&63);w-=65536;ww=55296+(w>>>10&1023);w=56320+(w&1023)}if(ww!==0){out[k++]=ww&255;out[k++]=ww>>>8;ww=0}out[k++]=w%256;out[k++]=w>>>8}out.length=k;return out.toString("ucs2")};var corpus="foo bar baz";if(utf8read(corpus)==utf8readb(corpus))utf8read=utf8readb;var utf8readc=function utf8readc(data){return Buffer(data,"binary").toString("utf8")};if(utf8read(corpus)==utf8readc(corpus))utf8read=utf8readc}var matchtag=function(){var mtcache={};return function matchtag(f,g){var t=f+"|"+g;if(mtcache[t]!==undefined)return mtcache[t];return mtcache[t]=new RegExp("<(?:\\w+:)?"+f+'(?: xml:space="preserve")?(?:[^>]*)>([^]*)</(?:\\w+:)?'+f+">",g||"")}}();var vtregex=function(){var vt_cache={};return function vt_regex(bt){if(vt_cache[bt]!==undefined)return vt_cache[bt];return vt_cache[bt]=new RegExp("<vt:"+bt+">(.*?)</vt:"+bt+">","g")}}();var vtvregex=/<\/?vt:variant>/g,vtmregex=/<vt:([^>]*)>(.*)</;function parseVector(data){var h=parsexmltag(data);var matches=data.match(vtregex(h.baseType))||[];if(matches.length!=h.size)throw"unexpected vector length "+matches.length+" != "+h.size;var res=[];matches.forEach(function(x){var v=x.replace(vtvregex,"").match(vtmregex);res.push({v:v[2],t:v[1]})});return res}var wtregex=/(^\s|\s$|\n)/;function writetag(f,g){return"<"+f+(g.match(wtregex)?' xml:space="preserve"':"")+">"+g+"</"+f+">"}function wxt_helper(h){return keys(h).map(function(k){return" "+k+'="'+h[k]+'"'}).join("")}function writextag(f,g,h){return"<"+f+(isval(h)?wxt_helper(h):"")+(isval(g)?(g.match(wtregex)?' xml:space="preserve"':"")+">"+g+"</"+f:"/")+">"}function write_w3cdtf(d,t){try{return d.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}}function write_vt(s){switch(typeof s){case"string":return writextag("vt:lpwstr",s);case"number":return writextag((s|0)==s?"vt:i4":"vt:r8",String(s));case"boolean":return writextag("vt:bool",s?"true":"false")}if(s instanceof Date)return writextag("vt:filetime",write_w3cdtf(s));throw new Error("Unable to serialize "+s)}var XML_HEADER='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var XMLNS={dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"};XMLNS.main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function readIEEE754(buf,idx,isLE,nl,ml){if(isLE===undefined)isLE=true;if(!nl)nl=8;if(!ml&&nl===8)ml=52;var e,m,el=nl*8-ml-1,eMax=(1<<el)-1,eBias=eMax>>1;var bits=-7,d=isLE?-1:1,i=isLE?nl-1:0,s=buf[idx+i];i+=d;e=s&(1<<-bits)-1;s>>>=-bits;bits+=el;for(;bits>0;e=e*256+buf[idx+i],i+=d,bits-=8);m=e&(1<<-bits)-1;e>>>=-bits;bits+=ml;for(;bits>0;m=m*256+buf[idx+i],i+=d,bits-=8);if(e===eMax)return m?NaN:(s?-1:1)*Infinity;else if(e===0)e=1-eBias;else{m=m+Math.pow(2,ml);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-ml)}var __toBuffer,___toBuffer;__toBuffer=___toBuffer=function toBuffer_(bufs){var x=[];for(var i=0;i<bufs[0].length;++i){x.push.apply(x,bufs[0][i])}return x};var __utf16le,___utf16le;__utf16le=___utf16le=function utf16le_(b,s,e){var ss=[];for(var i=s;i<e;i+=2)ss.push(String.fromCharCode(__readUInt16LE(b,i)));return ss.join("")};var __hexlify,___hexlify;__hexlify=___hexlify=function hexlify_(b,s,l){return b.slice(s,s+l).map(function(x){return(x<16?"0":"")+x.toString(16)}).join("")};var __utf8,___utf8;__utf8=___utf8=function(b,s,e){var ss=[];for(var i=s;i<e;i++)ss.push(String.fromCharCode(__readUInt8(b,i)));return ss.join("")};var __lpstr,___lpstr;__lpstr=___lpstr=function lpstr_(b,i){var len=__readUInt32LE(b,i);return len>0?__utf8(b,i+4,i+4+len-1):""};var __lpwstr,___lpwstr;__lpwstr=___lpwstr=function lpwstr_(b,i){var len=2*__readUInt32LE(b,i);return len>0?__utf8(b,i+4,i+4+len-1):""};var __double,___double;__double=___double=function(b,idx){return readIEEE754(b,idx)};var is_buf=function is_buf_a(a){return Array.isArray(a)};if(has_buf){__utf16le=function utf16le_b(b,s,e){if(!Buffer.isBuffer(b))return ___utf16le(b,s,e);return b.toString("utf16le",s,e)};__hexlify=function(b,s,l){return Buffer.isBuffer(b)?b.toString("hex",s,s+l):___hexlify(b,s,l)};__lpstr=function lpstr_b(b,i){if(!Buffer.isBuffer(b))return ___lpstr(b,i);var len=b.readUInt32LE(i);return len>0?b.toString("utf8",i+4,i+4+len-1):""};__lpwstr=function lpwstr_b(b,i){if(!Buffer.isBuffer(b))return ___lpwstr(b,i);var len=2*b.readUInt32LE(i);return b.toString("utf16le",i+4,i+4+len-1)};__utf8=function utf8_b(s,e){return this.toString("utf8",s,e)};__toBuffer=function(bufs){return bufs[0].length>0&&Buffer.isBuffer(bufs[0][0])?Buffer.concat(bufs[0]):___toBuffer(bufs)};bconcat=function(bufs){return Buffer.isBuffer(bufs[0])?Buffer.concat(bufs):[].concat.apply([],bufs)};__double=function double_(b,i){if(Buffer.isBuffer(b))return b.readDoubleLE(i);return ___double(b,i)};is_buf=function is_buf_b(a){return Buffer.isBuffer(a)||Array.isArray(a)}}if(typeof cptable!=="undefined"){__utf16le=function(b,s,e){return cptable.utils.decode(1200,b.slice(s,e))};__utf8=function(b,s,e){return cptable.utils.decode(65001,b.slice(s,e))};__lpstr=function(b,i){var len=__readUInt32LE(b,i);return len>0?cptable.utils.decode(current_codepage,b.slice(i+4,i+4+len-1)):""};__lpwstr=function(b,i){var len=2*__readUInt32LE(b,i);return len>0?cptable.utils.decode(1200,b.slice(i+4,i+4+len-1)):""}}var __readUInt8=function(b,idx){return b[idx]};var __readUInt16LE=function(b,idx){return b[idx+1]*(1<<8)+b[idx]};var __readInt16LE=function(b,idx){var u=b[idx+1]*(1<<8)+b[idx];return u<32768?u:(65535-u+1)*-1};var __readUInt32LE=function(b,idx){return b[idx+3]*(1<<24)+(b[idx+2]<<16)+(b[idx+1]<<8)+b[idx]};var __readInt32LE=function(b,idx){return b[idx+3]<<24|b[idx+2]<<16|b[idx+1]<<8|b[idx]};var ___unhexlify=function(s){return s.match(/../g).map(function(x){return parseInt(x,16)})};var __unhexlify=typeof Buffer!=="undefined"?function(s){return Buffer.isBuffer(s)?new Buffer(s,"hex"):___unhexlify(s)}:___unhexlify;function ReadShift(size,t){var o="",oI,oR,oo=[],w,vv,i,loc;switch(t){case"dbcs":loc=this.l;if(has_buf&&Buffer.isBuffer(this))o=this.slice(this.l,this.l+2*size).toString("utf16le");else for(i=0;i!=size;++i){o+=String.fromCharCode(__readUInt16LE(this,loc));loc+=2}size*=2;break;case"utf8":o=__utf8(this,this.l,this.l+size);break;case"utf16le":size*=2;o=__utf16le(this,this.l,this.l+size);break;case"lpstr":o=__lpstr(this,this.l);size=5+o.length;break;case"lpwstr":o=__lpwstr(this,this.l);size=5+o.length;if(o[o.length-1]=="\x00")size+=2;break;case"cstr":size=0;o="";while((w=__readUInt8(this,this.l+size++))!==0)oo.push(_getchar(w));o=oo.join("");break;case"wstr":size=0;o="";while((w=__readUInt16LE(this,this.l+size))!==0){oo.push(_getchar(w));size+=2}size+=2;o=oo.join("");break;case"dbcs-cont":o="";loc=this.l;for(i=0;i!=size;++i){if(this.lens&&this.lens.indexOf(loc)!==-1){w=__readUInt8(this,loc);this.l=loc+1;vv=ReadShift.call(this,size-i,w?"dbcs-cont":"sbcs-cont");return oo.join("")+vv}oo.push(_getchar(__readUInt16LE(this,loc)));loc+=2}o=oo.join("");size*=2;break;case"sbcs-cont":o="";loc=this.l;for(i=0;i!=size;++i){if(this.lens&&this.lens.indexOf(loc)!==-1){w=__readUInt8(this,loc);this.l=loc+1;vv=ReadShift.call(this,size-i,w?"dbcs-cont":"sbcs-cont");return oo.join("")+vv}oo.push(_getchar(__readUInt8(this,loc)));loc+=1}o=oo.join("");break;default:switch(size){case 1:oI=__readUInt8(this,this.l);this.l++;return oI;case 2:oI=(t==="i"?__readInt16LE:__readUInt16LE)(this,this.l);this.l+=2;return oI;case 4:if(t==="i"||(this[this.l+3]&128)===0){oI=__readInt32LE(this,this.l);this.l+=4;return oI}else{oR=__readUInt32LE(this,this.l);this.l+=4;return oR}break;case 8:if(t==="f"){oR=__double(this,this.l);this.l+=8;return oR}case 16:o=__hexlify(this,this.l,size);break}}this.l+=size;return o}function WriteShift(t,val,f){var size,i;if(f==="dbcs"){for(i=0;i!=val.length;++i)this.writeUInt16LE(val.charCodeAt(i),this.l+2*i);size=2*val.length}else switch(t){case 1:size=1;this[this.l]=val&255;break;case 3:size=3;this[this.l+2]=val&255;val>>>=8;
this[this.l+1]=val&255;val>>>=8;this[this.l]=val&255;break;case 4:size=4;this.writeUInt32LE(val,this.l);break;case 8:size=8;if(f==="f"){this.writeDoubleLE(val,this.l);break}case 16:break;case-4:size=4;this.writeInt32LE(val,this.l);break}this.l+=size;return this}function CheckField(hexstr,fld){var m=__hexlify(this,this.l,hexstr.length>>1);if(m!==hexstr)throw fld+"Expected "+hexstr+" saw "+m;this.l+=hexstr.length>>1}function prep_blob(blob,pos){blob.l=pos;blob.read_shift=ReadShift;blob.chk=CheckField;blob.write_shift=WriteShift}function parsenoop(blob,length){blob.l+=length}function writenoop(blob,length){blob.l+=length}function new_buf(sz){var o=new_raw_buf(sz);prep_blob(o,0);return o}function recordhopper(data,cb,opts){var tmpbyte,cntbyte,length;prep_blob(data,data.l||0);while(data.l<data.length){var RT=data.read_shift(1);if(RT&128)RT=(RT&127)+((data.read_shift(1)&127)<<7);var R=XLSBRecordEnum[RT]||XLSBRecordEnum[65535];tmpbyte=data.read_shift(1);length=tmpbyte&127;for(cntbyte=1;cntbyte<4&&tmpbyte&128;++cntbyte)length+=((tmpbyte=data.read_shift(1))&127)<<7*cntbyte;var d=R.f(data,length,opts);if(cb(d,R,RT))return}}function buf_array(){var bufs=[],blksz=2048;var newblk=function ba_newblk(sz){var o=new_buf(sz);prep_blob(o,0);return o};var curbuf=newblk(blksz);var endbuf=function ba_endbuf(){curbuf.length=curbuf.l;if(curbuf.length>0)bufs.push(curbuf);curbuf=null};var next=function ba_next(sz){if(sz<curbuf.length-curbuf.l)return curbuf;endbuf();return curbuf=newblk(Math.max(sz+1,blksz))};var end=function ba_end(){endbuf();return __toBuffer([bufs])};var push=function ba_push(buf){endbuf();curbuf=buf;next(blksz)};return{next:next,push:push,end:end,_bufs:bufs}}function write_record(ba,type,payload,length){var t=evert_RE[type],l;if(!length)length=XLSBRecordEnum[t].p||(payload||[]).length||0;l=1+(t>=128?1:0)+1+length;if(length>=128)++l;if(length>=16384)++l;if(length>=2097152)++l;var o=ba.next(l);if(t<=127)o.write_shift(1,t);else{o.write_shift(1,(t&127)+128);o.write_shift(1,t>>7)}for(var i=0;i!=4;++i){if(length>=128){o.write_shift(1,(length&127)+128);length>>=7}else{o.write_shift(1,length);break}}if(length>0&&is_buf(payload))ba.push(payload)}function shift_cell_xls(cell,tgt){if(tgt.s){if(cell.cRel)cell.c+=tgt.s.c;if(cell.rRel)cell.r+=tgt.s.r}else{cell.c+=tgt.c;cell.r+=tgt.r}cell.cRel=cell.rRel=0;while(cell.c>=256)cell.c-=256;while(cell.r>=65536)cell.r-=65536;return cell}function shift_range_xls(cell,range){cell.s=shift_cell_xls(cell.s,range.s);cell.e=shift_cell_xls(cell.e,range.s);return cell}var OFFCRYPTO={};var make_offcrypto=function(O,_crypto){var crypto;if(typeof _crypto!=="undefined")crypto=_crypto;else if(typeof require!=="undefined"){try{crypto=require("cry"+"pto")}catch(e){crypto=null}}O.rc4=function(key,data){var S=new Array(256);var c=0,i=0,j=0,t=0;for(i=0;i!=256;++i)S[i]=i;for(i=0;i!=256;++i){j=j+S[i]+key[i%key.length].charCodeAt(0)&255;t=S[i];S[i]=S[j];S[j]=t}i=j=0;out=Buffer(data.length);for(c=0;c!=data.length;++c){i=i+1&255;j=(j+S[i])%256;t=S[i];S[i]=S[j];S[j]=t;out[c]=data[c]^S[S[i]+S[j]&255]}return out};if(crypto){O.md5=function(hex){return crypto.createHash("md5").update(hex).digest("hex")}}else{O.md5=function(hex){throw"unimplemented"}}};make_offcrypto(OFFCRYPTO,typeof crypto!=="undefined"?crypto:undefined);function parse_StrRun(data,length){return{ich:data.read_shift(2),ifnt:data.read_shift(2)}}function parse_RichStr(data,length){var start=data.l;var flags=data.read_shift(1);var str=parse_XLWideString(data);var rgsStrRun=[];var z={t:str,h:str};if((flags&1)!==0){var dwSizeStrRun=data.read_shift(4);for(var i=0;i!=dwSizeStrRun;++i)rgsStrRun.push(parse_StrRun(data));z.r=rgsStrRun}else z.r="<t>"+escapexml(str)+"</t>";if((flags&2)!==0){}data.l=start+length;return z}function write_RichStr(str,o){if(o==null)o=new_buf(5+2*str.t.length);o.write_shift(1,0);write_XLWideString(str.t,o);return o}function parse_XLSBCell(data){var col=data.read_shift(4);var iStyleRef=data.read_shift(2);iStyleRef+=data.read_shift(1)<<16;var fPhShow=data.read_shift(1);return{c:col,iStyleRef:iStyleRef}}function write_XLSBCell(cell,o){if(o==null)o=new_buf(8);o.write_shift(-4,cell.c);o.write_shift(3,cell.iStyleRef===undefined?cell.iStyleRef:cell.s);o.write_shift(1,0);return o}function parse_XLSBCodeName(data,length){return parse_XLWideString(data,length)}function parse_XLNullableWideString(data){var cchCharacters=data.read_shift(4);return cchCharacters===0||cchCharacters===4294967295?"":data.read_shift(cchCharacters,"dbcs")}function write_XLNullableWideString(data,o){if(!o)o=new_buf(127);o.write_shift(4,data.length>0?data.length:4294967295);if(data.length>0)o.write_shift(0,data,"dbcs");return o}function parse_XLWideString(data){var cchCharacters=data.read_shift(4);return cchCharacters===0?"":data.read_shift(cchCharacters,"dbcs")}function write_XLWideString(data,o){if(o==null)o=new_buf(4+2*data.length);o.write_shift(4,data.length);if(data.length>0)o.write_shift(0,data,"dbcs");return o}var parse_RelID=parse_XLNullableWideString;var write_RelID=write_XLNullableWideString;function parse_RkNumber(data){var b=data.slice(data.l,data.l+4);var fX100=b[0]&1,fInt=b[0]&2;data.l+=4;b[0]&=252;var RK=fInt===0?__double([0,0,0,0,b[0],b[1],b[2],b[3]],0):__readInt32LE(b,0)>>2;return fX100?RK/100:RK}function parse_UncheckedRfX(data){var cell={s:{},e:{}};cell.s.r=data.read_shift(4);cell.e.r=data.read_shift(4);cell.s.c=data.read_shift(4);cell.e.c=data.read_shift(4);return cell}function write_UncheckedRfX(r,o){if(!o)o=new_buf(16);o.write_shift(4,r.s.r);o.write_shift(4,r.e.r);o.write_shift(4,r.s.c);o.write_shift(4,r.e.c);return o}function parse_Xnum(data,length){return data.read_shift(8,"f")}function write_Xnum(data,o){return(o||new_buf(8)).write_shift(8,"f",data)}var BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"};var RBErr=evert_num(BErr);function parse_BrtColor(data,length){var out={};var d=data.read_shift(1);out.fValidRGB=d&1;out.xColorType=d>>>1;out.index=data.read_shift(1);out.nTintAndShade=data.read_shift(2,"i");out.bRed=data.read_shift(1);out.bGreen=data.read_shift(1);out.bBlue=data.read_shift(1);out.bAlpha=data.read_shift(1)}function parse_FontFlags(data,length){var d=data.read_shift(1);data.l++;var out={fItalic:d&2,fStrikeout:d&8,fOutline:d&16,fShadow:d&32,fCondense:d&64,fExtend:d&128};return out}{var VT_EMPTY=0;var VT_NULL=1;var VT_I2=2;var VT_I4=3;var VT_R4=4;var VT_R8=5;var VT_CY=6;var VT_DATE=7;var VT_BSTR=8;var VT_ERROR=10;var VT_BOOL=11;var VT_VARIANT=12;var VT_DECIMAL=14;var VT_I1=16;var VT_UI1=17;var VT_UI2=18;var VT_UI4=19;var VT_I8=20;var VT_UI8=21;var VT_INT=22;var VT_UINT=23;var VT_LPSTR=30;var VT_LPWSTR=31;var VT_FILETIME=64;var VT_BLOB=65;var VT_STREAM=66;var VT_STORAGE=67;var VT_STREAMED_Object=68;var VT_STORED_Object=69;var VT_BLOB_Object=70;var VT_CF=71;var VT_CLSID=72;var VT_VERSIONED_STREAM=73;var VT_VECTOR=4096;var VT_ARRAY=8192;var VT_STRING=80;var VT_USTR=81;var VT_CUSTOM=[VT_STRING,VT_USTR]}var DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"Scale",t:VT_BOOL},12:{n:"HeadingPair",t:VT_VECTOR|VT_VARIANT},13:{n:"DocParts",t:VT_VECTOR|VT_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksDirty",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HLinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{}};var SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"ApplicationName",t:VT_LPSTR},19:{n:"DocumentSecurity",t:VT_I4},255:{}};var SpecialProperties={2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}};(function(){for(var y in SpecialProperties)if(SpecialProperties.hasOwnProperty(y))DocSummaryPIDDSI[y]=SummaryPIDSI[y]=SpecialProperties[y]})();var CountryEnum={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"};var XLSFillPattern=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function rgbify(arr){return arr.map(function(x){return[x>>16&255,x>>8&255,x&255]})}var XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0]);var ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.ms-excel.chartsheet":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"TODO","application/vnd.ms-excel.dialogsheet":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"TODO","application/vnd.ms-excel.macrosheet":"TODO","application/vnd.ms-excel.macrosheet+xml":"TODO","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.ms-excel.comments":"comments","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"TODO","application/vnd.ms-excel.sheetMetadata":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"TODO","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"vba","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO",sheet:"js"};var CT_LIST=function(){var o={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};keys(o).forEach(function(k){if(!o[k].xlsm)o[k].xlsm=o[k].xlsx});keys(o).forEach(function(k){keys(o[k]).forEach(function(v){ct2type[o[k][v]]=k})});return o}();var type2ct=evert_arr(ct2type);XMLNS.CT="http://schemas.openxmlformats.org/package/2006/content-types";function parse_ct(data,opts){var ctext={};if(!data||!data.match)return data;var ct={workbooks:[],sheets:[],calcchains:[],themes:[],styles:[],coreprops:[],extprops:[],custprops:[],strs:[],comments:[],vba:[],TODO:[],rels:[],xmlns:""};(data.match(tagregex)||[]).forEach(function(x){var y=parsexmltag(x);switch(y[0].replace(nsregex,"<")){case"<?xml":break;case"<Types":ct.xmlns=y["xmlns"+(y[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":ctext[y.Extension]=y.ContentType;break;case"<Override":if(ct[ct2type[y.ContentType]]!==undefined)ct[ct2type[y.ContentType]].push(y.PartName);else if(opts.WTF)console.error(y);break}});if(ct.xmlns!==XMLNS.CT)throw new Error("Unknown Namespace: "+ct.xmlns);ct.calcchain=ct.calcchains.length>0?ct.calcchains[0]:"";ct.sst=ct.strs.length>0?ct.strs[0]:"";ct.style=ct.styles.length>0?ct.styles[0]:"";ct.defaults=ctext;delete ct.calcchains;return ct}var CTYPE_XML_ROOT=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi});var CTYPE_DEFAULTS=[["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["rels",type2ct.rels[0]]].map(function(x){return writextag("Default",null,{Extension:x[0],ContentType:x[1]})});function write_ct(ct,opts){var o=[],v;o[o.length]=XML_HEADER;o[o.length]=CTYPE_XML_ROOT;o=o.concat(CTYPE_DEFAULTS);var f1=function(w){if(ct[w]&&ct[w].length>0){v=ct[w][0];o[o.length]=writextag("Override",null,{PartName:(v[0]=="/"?"":"/")+v,ContentType:CT_LIST[w][opts.bookType||"xlsx"]})}};var f2=function(w){ct[w].forEach(function(v){o[o.length]=writextag("Override",null,{PartName:(v[0]=="/"?"":"/")+v,ContentType:CT_LIST[w][opts.bookType||"xlsx"]})})};var f3=function(t){(ct[t]||[]).forEach(function(v){o[o.length]=writextag("Override",null,{PartName:(v[0]=="/"?"":"/")+v,ContentType:type2ct[t][0]})})};f1("workbooks");f2("sheets");f3("themes");["strs","styles"].forEach(f1);["coreprops","extprops","custprops"].forEach(f3);if(o.length>2){o[o.length]="</Types>";o[1]=o[1].replace("/>",">")}return o.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument"};function parse_rels(data,currentFilePath){if(!data)return data;if(currentFilePath.charAt(0)!=="/"){currentFilePath="/"+currentFilePath}var rels={};var hash={};var resolveRelativePathIntoAbsolute=function(to){var toksFrom=currentFilePath.split("/");toksFrom.pop();var toksTo=to.split("/");var reversed=[];while(toksTo.length!==0){var tokTo=toksTo.shift();if(tokTo===".."){toksFrom.pop()}else if(tokTo!=="."){toksFrom.push(tokTo)}}return toksFrom.join("/")};data.match(tagregex).forEach(function(x){var y=parsexmltag(x);if(y[0]==="<Relationship"){var rel={};rel.Type=y.Type;rel.Target=y.Target;rel.Id=y.Id;rel.TargetMode=y.TargetMode;var canonictarget=y.TargetMode==="External"?y.Target:resolveRelativePathIntoAbsolute(y.Target);rels[canonictarget]=rel;hash[y.Id]=rel}});rels["!id"]=hash;return rels}XMLNS.RELS="http://schemas.openxmlformats.org/package/2006/relationships";var RELS_ROOT=writextag("Relationships",null,{xmlns:XMLNS.RELS});function write_rels(rels){var o=[];o[o.length]=XML_HEADER;o[o.length]=RELS_ROOT;keys(rels["!id"]).forEach(function(rid){var rel=rels["!id"][rid];o[o.length]=writextag("Relationship",null,rel)});if(o.length>2){o[o.length]="</Relationships>";o[1]=o[1].replace("/>",">")}return o.join("")}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];XMLNS.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/metadata/core-properties";RELS.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties";var CORE_PROPS_REGEX=function(){var r=new Array(CORE_PROPS.length);for(var i=0;i<CORE_PROPS.length;++i){var f=CORE_PROPS[i];var g="(?:"+f[0].substr(0,f[0].indexOf(":"))+":)"+f[0].substr(f[0].indexOf(":")+1);r[i]=new RegExp("<"+g+"[^>]*>(.*)</"+g+">")}return r}();function parse_core_props(data){var p={};for(var i=0;i<CORE_PROPS.length;++i){var f=CORE_PROPS[i],cur=data.match(CORE_PROPS_REGEX[i]);if(cur!=null&&cur.length>0)p[f[1]]=cur[1];if(f[2]==="date"&&p[f[1]])p[f[1]]=new Date(p[f[1]])}return p}var CORE_PROPS_XML_ROOT=writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi});function cp_doit(f,g,h,o,p){if(p[f]!=null||g==null||g==="")return;p[f]=g;o[o.length]=h?writextag(f,g,h):writetag(f,g)}function write_core_props(cp,opts){var o=[XML_HEADER,CORE_PROPS_XML_ROOT],p={};if(!cp)return o.join("");if(cp.CreatedDate!=null)cp_doit("dcterms:created",typeof cp.CreatedDate==="string"?cp.CreatedDate:write_w3cdtf(cp.CreatedDate,opts.WTF),{"xsi:type":"dcterms:W3CDTF"},o,p);if(cp.ModifiedDate!=null)cp_doit("dcterms:modified",typeof cp.ModifiedDate==="string"?cp.ModifiedDate:write_w3cdtf(cp.ModifiedDate,opts.WTF),{"xsi:type":"dcterms:W3CDTF"},o,p);for(var i=0;i!=CORE_PROPS.length;++i){var f=CORE_PROPS[i];cp_doit(f[0],cp[f[1]],null,o,p)}if(o.length>2){o[o.length]="</cp:coreProperties>";o[1]=o[1].replace("/>",">")}return o.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];XMLNS.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties";RELS.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties";function parse_ext_props(data,p){var q={};if(!p)p={};EXT_PROPS.forEach(function(f){switch(f[2]){case"string":p[f[1]]=(data.match(matchtag(f[0]))||[])[1];break;case"bool":p[f[1]]=(data.match(matchtag(f[0]))||[])[1]==="true";break;case"raw":var cur=data.match(new RegExp("<"+f[0]+"[^>]*>(.*)</"+f[0]+">"));if(cur&&cur.length>0)q[f[1]]=cur[1];break}});if(q.HeadingPairs&&q.TitlesOfParts){var v=parseVector(q.HeadingPairs);var j=0,widx=0;for(var i=0;i!==v.length;++i){switch(v[i].v){case"Worksheets":widx=j;p.Worksheets=+v[++i].v;break;case"Named Ranges":++i;break}}var parts=parseVector(q.TitlesOfParts).map(function(x){return utf8read(x.v)});p.SheetNames=parts.slice(widx,widx+p.Worksheets)}return p}var EXT_PROPS_XML_ROOT=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt});function write_ext_props(cp,opts){var o=[],p={},W=writextag;if(!cp)cp={};cp.Application="SheetJS";o[o.length]=XML_HEADER;o[o.length]=EXT_PROPS_XML_ROOT;EXT_PROPS.forEach(function(f){if(cp[f[1]]===undefined)return;var v;switch(f[2]){case"string":v=cp[f[1]];break;case"bool":v=cp[f[1]]?"true":"false";break}if(v!==undefined)o[o.length]=W(f[0],v)});o[o.length]=W("HeadingPairs",W("vt:vector",W("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+W("vt:variant",W("vt:i4",String(cp.Worksheets))),{size:2,baseType:"variant"}));o[o.length]=W("TitlesOfParts",W("vt:vector",cp.SheetNames.map(function(s){return"<vt:lpstr>"+s+"</vt:lpstr>"}).join(""),{size:cp.Worksheets,baseType:"lpstr"}));if(o.length>2){o[o.length]="</Properties>";o[1]=o[1].replace("/>",">")}return o.join("")}XMLNS.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties";RELS.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties";var custregex=/<[^>]+>[^<]*/g;function parse_cust_props(data,opts){var p={},name;var m=data.match(custregex);if(m)for(var i=0;i!=m.length;++i){var x=m[i],y=parsexmltag(x);switch(y[0]){case"<?xml":break;case"<Properties":if(y.xmlns!==XMLNS.CUST_PROPS)throw"unrecognized xmlns "+y.xmlns;if(y.xmlnsvt&&y.xmlnsvt!==XMLNS.vt)throw"unrecognized vt "+y.xmlnsvt;break;case"<property":name=y.name;break;case"</property>":name=null;break;default:if(x.indexOf("<vt:")===0){var toks=x.split(">");var type=toks[0].substring(4),text=toks[1];switch(type){case"lpstr":case"lpwstr":case"bstr":case"lpwstr":p[name]=unescapexml(text);break;case"bool":p[name]=parsexmlbool(text,"<vt:bool>");break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":p[name]=parseInt(text,10);break;case"r4":case"r8":case"decimal":p[name]=parseFloat(text);break;case"filetime":case"date":p[name]=new Date(text);break;case"cy":case"error":p[name]=unescapexml(text);break;default:if(typeof console!=="undefined")console.warn("Unexpected",x,type,toks)}}else if(x.substr(0,2)==="</"){}else if(opts.WTF)throw new Error(x)}}return p}var CUST_PROPS_XML_ROOT=writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt});function write_cust_props(cp,opts){var o=[XML_HEADER,CUST_PROPS_XML_ROOT];if(!cp)return o.join("");var pid=1;keys(cp).forEach(function custprop(k){++pid;o[o.length]=writextag("property",write_vt(cp[k]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:pid,name:k})});if(o.length>2){o[o.length]="</Properties>";o[1]=o[1].replace("/>",">")}return o.join("")}function xlml_set_prop(Props,tag,val){switch(tag){case"Description":tag="Comments";break}Props[tag]=val}function parse_FILETIME(blob){var dwLowDateTime=blob.read_shift(4),dwHighDateTime=blob.read_shift(4);return new Date((dwHighDateTime/1e7*Math.pow(2,32)+dwLowDateTime/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function parse_lpstr(blob,type,pad){var str=blob.read_shift(0,"lpstr");if(pad)blob.l+=4-(str.length+1&3)&3;return str}function parse_lpwstr(blob,type,pad){var str=blob.read_shift(0,"lpwstr");if(pad)blob.l+=4-(str.length+1&3)&3;return str}function parse_VtStringBase(blob,stringType,pad){if(stringType===31)return parse_lpwstr(blob);return parse_lpstr(blob,stringType,pad)}function parse_VtString(blob,t,pad){return parse_VtStringBase(blob,t,pad===false?0:4)}function parse_VtUnalignedString(blob,t){if(!t)throw new Error("dafuq?");return parse_VtStringBase(blob,t,0)}function parse_VtVecUnalignedLpstrValue(blob){var length=blob.read_shift(4);var ret=[];for(var i=0;i!=length;++i)ret[i]=blob.read_shift(0,"lpstr");return ret}function parse_VtVecUnalignedLpstr(blob){return parse_VtVecUnalignedLpstrValue(blob)}function parse_VtHeadingPair(blob){var headingString=parse_TypedPropertyValue(blob,VT_USTR);var headerParts=parse_TypedPropertyValue(blob,VT_I4);return[headingString,headerParts]}function parse_VtVecHeadingPairValue(blob){var cElements=blob.read_shift(4);var out=[];for(var i=0;i!=cElements/2;++i)out.push(parse_VtHeadingPair(blob));return out}function parse_VtVecHeadingPair(blob){return parse_VtVecHeadingPairValue(blob)}function parse_dictionary(blob,CodePage){var cnt=blob.read_shift(4);var dict={};for(var j=0;j!=cnt;++j){var pid=blob.read_shift(4);var len=blob.read_shift(4);dict[pid]=blob.read_shift(len,CodePage===1200?"utf16le":"utf8").replace(chr0,"").replace(chr1,"!")}if(blob.l&3)blob.l=blob.l>>2+1<<2;return dict}function parse_BLOB(blob){var size=blob.read_shift(4);var bytes=blob.slice(blob.l,blob.l+size);if(size&3>0)blob.l+=4-(size&3)&3;return bytes}function parse_ClipboardData(blob){var o={};o.Size=blob.read_shift(4);blob.l+=o.Size;return o}function parse_VtVector(blob,cb){}function parse_TypedPropertyValue(blob,type,_opts){var t=blob.read_shift(2),ret,opts=_opts||{};blob.l+=2;if(type!==VT_VARIANT)if(t!==type&&VT_CUSTOM.indexOf(type)===-1)throw new Error("Expected type "+type+" saw "+t);switch(type===VT_VARIANT?t:type){case 2:ret=blob.read_shift(2,"i");if(!opts.raw)blob.l+=2;return ret;case 3:ret=blob.read_shift(4,"i");return ret;case 11:return blob.read_shift(4)!==0;case 19:ret=blob.read_shift(4);return ret;case 30:return parse_lpstr(blob,t,4).replace(chr0,"");case 31:return parse_lpwstr(blob);case 64:return parse_FILETIME(blob);case 65:return parse_BLOB(blob);case 71:return parse_ClipboardData(blob);case 80:return parse_VtString(blob,t,!opts.raw&&4).replace(chr0,"");case 81:return parse_VtUnalignedString(blob,t,4).replace(chr0,"");case 4108:return parse_VtVecHeadingPair(blob);case 4126:return parse_VtVecUnalignedLpstr(blob);default:throw new Error("TypedPropertyValue unrecognized type "+type+" "+t)}}function parse_PropertySet(blob,PIDSI){var start_addr=blob.l;var size=blob.read_shift(4);var NumProps=blob.read_shift(4);var Props=[],i=0;var CodePage=0;var Dictionary=-1,DictObj;for(i=0;i!=NumProps;++i){var PropID=blob.read_shift(4);var Offset=blob.read_shift(4);Props[i]=[PropID,Offset+start_addr]}var PropH={};for(i=0;i!=NumProps;++i){if(blob.l!==Props[i][1]){var fail=true;if(i>0&&PIDSI)switch(PIDSI[Props[i-1][0]].t){case 2:if(blob.l+2===Props[i][1]){blob.l+=2;fail=false}break;case 80:if(blob.l<=Props[i][1]){blob.l=Props[i][1];fail=false}break;case 4108:if(blob.l<=Props[i][1]){blob.l=Props[i][1];fail=false}break}if(!PIDSI&&blob.l<=Props[i][1]){fail=false;blob.l=Props[i][1]}if(fail)throw new Error("Read Error: Expected address "+Props[i][1]+" at "+blob.l+" :"+i)}if(PIDSI){var piddsi=PIDSI[Props[i][0]];PropH[piddsi.n]=parse_TypedPropertyValue(blob,piddsi.t,{raw:true});if(piddsi.p==="version")PropH[piddsi.n]=String(PropH[piddsi.n]>>16)+"."+String(PropH[piddsi.n]&65535);if(piddsi.n=="CodePage")switch(PropH[piddsi.n]){case 0:PropH[piddsi.n]=1252;case 1e4:case 1252:case 874:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 932:case 936:case 949:case 950:case 1200:case 1201:case 65e3:case-536:case 65001:case-535:set_cp(CodePage=PropH[piddsi.n]);break;default:throw new Error("Unsupported CodePage: "+PropH[piddsi.n])}}else{if(Props[i][0]===1){CodePage=PropH.CodePage=parse_TypedPropertyValue(blob,VT_I2);set_cp(CodePage);if(Dictionary!==-1){var oldpos=blob.l;blob.l=Props[Dictionary][1];DictObj=parse_dictionary(blob,CodePage);blob.l=oldpos}}else if(Props[i][0]===0){if(CodePage===0){Dictionary=i;blob.l=Props[i+1][1];continue}DictObj=parse_dictionary(blob,CodePage)}else{var name=DictObj[Props[i][0]];var val;switch(blob[blob.l]){case 65:blob.l+=4;val=parse_BLOB(blob);break;case 30:blob.l+=4;val=parse_VtString(blob,blob[blob.l-4]);break;case 31:blob.l+=4;val=parse_VtString(blob,blob[blob.l-4]);break;case 3:blob.l+=4;val=blob.read_shift(4,"i");break;case 19:blob.l+=4;val=blob.read_shift(4);break;case 5:blob.l+=4;val=blob.read_shift(8,"f");break;case 11:blob.l+=4;val=parsebool(blob,4);break;case 64:blob.l+=4;val=new Date(parse_FILETIME(blob));break;default:throw new Error("unparsed value: "+blob[blob.l])}PropH[name]=val}}}blob.l=start_addr+size;return PropH}function parse_PropertySetStream(file,PIDSI){var blob=file.content;prep_blob(blob,0);var NumSets,FMTID0,FMTID1,Offset0,Offset1;blob.chk("feff","Byte Order: ");var vers=blob.read_shift(2);var SystemIdentifier=blob.read_shift(4);blob.chk(CFB.utils.consts.HEADER_CLSID,"CLSID: ");NumSets=blob.read_shift(4);if(NumSets!==1&&NumSets!==2)throw"Unrecognized #Sets: "+NumSets;FMTID0=blob.read_shift(16);Offset0=blob.read_shift(4);if(NumSets===1&&Offset0!==blob.l)throw"Length mismatch";else if(NumSets===2){FMTID1=blob.read_shift(16);Offset1=blob.read_shift(4)}var PSet0=parse_PropertySet(blob,PIDSI);var rval={SystemIdentifier:SystemIdentifier};for(var y in PSet0)rval[y]=PSet0[y];rval.FMTID=FMTID0;if(NumSets===1)return rval;if(blob.l!==Offset1)throw"Length mismatch 2: "+blob.l+" !== "+Offset1;var PSet1;try{PSet1=parse_PropertySet(blob,null)}catch(e){}for(y in PSet1)rval[y]=PSet1[y];rval.FMTID=[FMTID0,FMTID1];return rval}function parsenoop2(blob,length){blob.read_shift(length);return null}function parslurp(blob,length,cb){var arr=[],target=blob.l+length;while(blob.l<target)arr.push(cb(blob,target-blob.l));if(target!==blob.l)throw new Error("Slurp error");return arr}function parslurp2(blob,length,cb){var arr=[],target=blob.l+length,len=blob.read_shift(2);while(len--!==0)arr.push(cb(blob,target-blob.l));if(target!==blob.l)throw new Error("Slurp error");return arr}function parsebool(blob,length){return blob.read_shift(length)===1}function parseuint16(blob){return blob.read_shift(2,"u")}function parseuint16a(blob,length){return parslurp(blob,length,parseuint16)}var parse_Boolean=parsebool;function parse_Bes(blob){var v=blob.read_shift(1),t=blob.read_shift(1);return t===1?v:v===1
}function parse_ShortXLUnicodeString(blob,length,opts){var cch=blob.read_shift(1);var width=1,encoding="sbcs-cont";var cp=current_codepage;if(opts&&opts.biff>=8)current_codepage=1200;if(opts===undefined||opts.biff!==5){var fHighByte=blob.read_shift(1);if(fHighByte){width=2;encoding="dbcs-cont"}}var o=cch?blob.read_shift(cch,encoding):"";current_codepage=cp;return o}function parse_XLUnicodeRichExtendedString(blob){var cp=current_codepage;current_codepage=1200;var cch=blob.read_shift(2),flags=blob.read_shift(1);var fHighByte=flags&1,fExtSt=flags&4,fRichSt=flags&8;var width=1+(flags&1);var cRun,cbExtRst;var z={};if(fRichSt)cRun=blob.read_shift(2);if(fExtSt)cbExtRst=blob.read_shift(4);var encoding=flags&1?"dbcs-cont":"sbcs-cont";var msg=cch===0?"":blob.read_shift(cch,encoding);if(fRichSt)blob.l+=4*cRun;if(fExtSt)blob.l+=cbExtRst;z.t=msg;if(!fRichSt){z.raw="<t>"+z.t+"</t>";z.r=z.t}current_codepage=cp;return z}function parse_XLUnicodeStringNoCch(blob,cch,opts){var retval;var fHighByte=blob.read_shift(1);if(fHighByte===0){retval=blob.read_shift(cch,"sbcs-cont")}else{retval=blob.read_shift(cch,"dbcs-cont")}return retval}function parse_XLUnicodeString(blob,length,opts){var cch=blob.read_shift(opts!==undefined&&opts.biff>0&&opts.biff<8?1:2);if(cch===0){blob.l++;return""}return parse_XLUnicodeStringNoCch(blob,cch,opts)}function parse_XLUnicodeString2(blob,length,opts){if(opts.biff!==5&&opts.biff!==2)return parse_XLUnicodeString(blob,length,opts);var cch=blob.read_shift(1);if(cch===0){blob.l++;return""}return blob.read_shift(cch,"sbcs-cont")}var parse_ControlInfo=parsenoop;var parse_URLMoniker=function(blob,length){var len=blob.read_shift(4),start=blob.l;var extra=false;if(len>24){blob.l+=len-24;if(blob.read_shift(16)==="795881f43b1d7f48af2c825dc4852763")extra=true;blob.l=start}var url=blob.read_shift((extra?len-24:len)>>1,"utf16le").replace(chr0,"");if(extra)blob.l+=24;return url};var parse_FileMoniker=function(blob,length){var cAnti=blob.read_shift(2);var ansiLength=blob.read_shift(4);var ansiPath=blob.read_shift(ansiLength,"cstr");var endServer=blob.read_shift(2);var versionNumber=blob.read_shift(2);var cbUnicodePathSize=blob.read_shift(4);if(cbUnicodePathSize===0)return ansiPath.replace(/\\/g,"/");var cbUnicodePathBytes=blob.read_shift(4);var usKeyValue=blob.read_shift(2);var unicodePath=blob.read_shift(cbUnicodePathBytes>>1,"utf16le").replace(chr0,"");return unicodePath};var parse_HyperlinkMoniker=function(blob,length){var clsid=blob.read_shift(16);length-=16;switch(clsid){case"e0c9ea79f9bace118c8200aa004ba90b":return parse_URLMoniker(blob,length);case"0303000000000000c000000000000046":return parse_FileMoniker(blob,length);default:throw"unsupported moniker "+clsid}};var parse_HyperlinkString=function(blob,length){var len=blob.read_shift(4);var o=blob.read_shift(len,"utf16le").replace(chr0,"");return o};var parse_Hyperlink=function(blob,length){var end=blob.l+length;var sVer=blob.read_shift(4);if(sVer!==2)throw new Error("Unrecognized streamVersion: "+sVer);var flags=blob.read_shift(2);blob.l+=2;var displayName,targetFrameName,moniker,oleMoniker,location,guid,fileTime;if(flags&16)displayName=parse_HyperlinkString(blob,end-blob.l);if(flags&128)targetFrameName=parse_HyperlinkString(blob,end-blob.l);if((flags&257)===257)moniker=parse_HyperlinkString(blob,end-blob.l);if((flags&257)===1)oleMoniker=parse_HyperlinkMoniker(blob,end-blob.l);if(flags&8)location=parse_HyperlinkString(blob,end-blob.l);if(flags&32)guid=blob.read_shift(16);if(flags&64)fileTime=parse_FILETIME(blob,8);blob.l=end;var target=targetFrameName||moniker||oleMoniker;if(location)target+="#"+location;return{Target:target}};function parse_LongRGBA(blob,length){var r=blob.read_shift(1),g=blob.read_shift(1),b=blob.read_shift(1),a=blob.read_shift(1);return[r,g,b,a]}function parse_LongRGB(blob,length){var x=parse_LongRGBA(blob,length);x[3]=0;return x}function parse_XLSCell(blob,length){var rw=blob.read_shift(2);var col=blob.read_shift(2);var ixfe=blob.read_shift(2);return{r:rw,c:col,ixfe:ixfe}}function parse_frtHeader(blob){var rt=blob.read_shift(2);var flags=blob.read_shift(2);blob.l+=8;return{type:rt,flags:flags}}function parse_OptXLUnicodeString(blob,length,opts){return length===0?"":parse_XLUnicodeString2(blob,length,opts)}var HIDEOBJENUM=["SHOWALL","SHOWPLACEHOLDER","HIDEALL"];var parse_HideObjEnum=parseuint16;function parse_XTI(blob,length){var iSupBook=blob.read_shift(2),itabFirst=blob.read_shift(2,"i"),itabLast=blob.read_shift(2,"i");return[iSupBook,itabFirst,itabLast]}function parse_RkRec(blob,length){var ixfe=blob.read_shift(2);var RK=parse_RkNumber(blob);return[ixfe,RK]}function parse_AddinUdf(blob,length){blob.l+=4;length-=4;var l=blob.l+length;var udfName=parse_ShortXLUnicodeString(blob,length);var cb=blob.read_shift(2);l-=blob.l;if(cb!==l)throw"Malformed AddinUdf: padding = "+l+" != "+cb;blob.l+=cb;return udfName}function parse_Ref8U(blob,length){var rwFirst=blob.read_shift(2);var rwLast=blob.read_shift(2);var colFirst=blob.read_shift(2);var colLast=blob.read_shift(2);return{s:{c:colFirst,r:rwFirst},e:{c:colLast,r:rwLast}}}function parse_RefU(blob,length){var rwFirst=blob.read_shift(2);var rwLast=blob.read_shift(2);var colFirst=blob.read_shift(1);var colLast=blob.read_shift(1);return{s:{c:colFirst,r:rwFirst},e:{c:colLast,r:rwLast}}}var parse_Ref=parse_RefU;function parse_FtCmo(blob,length){blob.l+=4;var ot=blob.read_shift(2);var id=blob.read_shift(2);var flags=blob.read_shift(2);blob.l+=12;return[id,ot,flags]}function parse_FtNts(blob,length){var out={};blob.l+=4;blob.l+=16;out.fSharedNote=blob.read_shift(2);blob.l+=4;return out}function parse_FtCf(blob,length){var out={};blob.l+=4;blob.cf=blob.read_shift(2);return out}var FtTab={21:parse_FtCmo,19:parsenoop,18:function(blob,length){blob.l+=12},17:function(blob,length){blob.l+=8},16:parsenoop,15:parsenoop,13:parse_FtNts,12:function(blob,length){blob.l+=24},11:function(blob,length){blob.l+=10},10:function(blob,length){blob.l+=16},9:parsenoop,8:function(blob,length){blob.l+=6},7:parse_FtCf,6:function(blob,length){blob.l+=6},4:parsenoop,0:function(blob,length){blob.l+=4}};function parse_FtArray(blob,length,ot){var s=blob.l;var fts=[];while(blob.l<s+length){var ft=blob.read_shift(2);blob.l-=2;try{fts.push(FtTab[ft](blob,s+length-blob.l))}catch(e){blob.l=s+length;return fts}}if(blob.l!=s+length)blob.l=s+length;return fts}var parse_FontIndex=parseuint16;function parse_BOF(blob,length){var o={};o.BIFFVer=blob.read_shift(2);length-=2;switch(o.BIFFVer){case 1536:case 1280:case 2:case 7:break;default:throw"Unexpected BIFF Ver "+o.BIFFVer}blob.read_shift(length);return o}function parse_InterfaceHdr(blob,length){if(length===0)return 1200;var q;if((q=blob.read_shift(2))!==1200)throw"InterfaceHdr codePage "+q;return 1200}function parse_WriteAccess(blob,length,opts){if(opts.enc){blob.l+=length;return""}var l=blob.l;var UserName=parse_XLUnicodeString(blob,0,opts);blob.read_shift(length+l-blob.l);return UserName}function parse_BoundSheet8(blob,length,opts){var pos=blob.read_shift(4);var hidden=blob.read_shift(1)>>6;var dt=blob.read_shift(1);switch(dt){case 0:dt="Worksheet";break;case 1:dt="Macrosheet";break;case 2:dt="Chartsheet";break;case 6:dt="VBAModule";break}var name=parse_ShortXLUnicodeString(blob,0,opts);if(name.length===0)name="Sheet1";return{pos:pos,hs:hidden,dt:dt,name:name}}function parse_SST(blob,length){var cnt=blob.read_shift(4);var ucnt=blob.read_shift(4);var strs=[];for(var i=0;i!=ucnt;++i){strs.push(parse_XLUnicodeRichExtendedString(blob))}strs.Count=cnt;strs.Unique=ucnt;return strs}function parse_ExtSST(blob,length){var extsst={};extsst.dsst=blob.read_shift(2);blob.l+=length-2;return extsst}function parse_Row(blob,length){var rw=blob.read_shift(2),col=blob.read_shift(2),Col=blob.read_shift(2),rht=blob.read_shift(2);blob.read_shift(4);var flags=blob.read_shift(1);blob.read_shift(1);blob.read_shift(2);return{r:rw,c:col,cnt:Col-col}}function parse_ForceFullCalculation(blob,length){var header=parse_frtHeader(blob);if(header.type!=2211)throw"Invalid Future Record "+header.type;var fullcalc=blob.read_shift(4);return fullcalc!==0}var parse_CompressPictures=parsenoop2;function parse_RecalcId(blob,length){blob.read_shift(2);return blob.read_shift(4)}function parse_DefaultRowHeight(blob,length){var f=blob.read_shift(2),miyRw;miyRw=blob.read_shift(2);var fl={Unsynced:f&1,DyZero:(f&2)>>1,ExAsc:(f&4)>>2,ExDsc:(f&8)>>3};return[fl,miyRw]}function parse_Window1(blob,length){var xWn=blob.read_shift(2),yWn=blob.read_shift(2),dxWn=blob.read_shift(2),dyWn=blob.read_shift(2);var flags=blob.read_shift(2),iTabCur=blob.read_shift(2),iTabFirst=blob.read_shift(2);var ctabSel=blob.read_shift(2),wTabRatio=blob.read_shift(2);return{Pos:[xWn,yWn],Dim:[dxWn,dyWn],Flags:flags,CurTab:iTabCur,FirstTab:iTabFirst,Selected:ctabSel,TabRatio:wTabRatio}}function parse_Font(blob,length,opts){blob.l+=14;var name=parse_ShortXLUnicodeString(blob,0,opts);return name}function parse_LabelSst(blob,length){var cell=parse_XLSCell(blob);cell.isst=blob.read_shift(4);return cell}function parse_Label(blob,length,opts){var cell=parse_XLSCell(blob,6);var str=parse_XLUnicodeString(blob,length-6,opts);cell.val=str;return cell}function parse_Format(blob,length,opts){var ifmt=blob.read_shift(2);var fmtstr=parse_XLUnicodeString2(blob,0,opts);return[ifmt,fmtstr]}function parse_Dimensions(blob,length){var w=length===10?2:4;var r=blob.read_shift(w),R=blob.read_shift(w),c=blob.read_shift(2),C=blob.read_shift(2);blob.l+=2;return{s:{r:r,c:c},e:{r:R,c:C}}}function parse_RK(blob,length){var rw=blob.read_shift(2),col=blob.read_shift(2);var rkrec=parse_RkRec(blob);return{r:rw,c:col,ixfe:rkrec[0],rknum:rkrec[1]}}function parse_MulRk(blob,length){var target=blob.l+length-2;var rw=blob.read_shift(2),col=blob.read_shift(2);var rkrecs=[];while(blob.l<target)rkrecs.push(parse_RkRec(blob));if(blob.l!==target)throw"MulRK read error";var lastcol=blob.read_shift(2);if(rkrecs.length!=lastcol-col+1)throw"MulRK length mismatch";return{r:rw,c:col,C:lastcol,rkrec:rkrecs}}function parse_CellStyleXF(blob,length,style){var o={};var a=blob.read_shift(4),b=blob.read_shift(4);var c=blob.read_shift(4),d=blob.read_shift(2);o.patternType=XLSFillPattern[c>>26];o.icvFore=d&127;o.icvBack=d>>7&127;return o}function parse_CellXF(blob,length){return parse_CellStyleXF(blob,length,0)}function parse_StyleXF(blob,length){return parse_CellStyleXF(blob,length,1)}function parse_XF(blob,length){var o={};o.ifnt=blob.read_shift(2);o.ifmt=blob.read_shift(2);o.flags=blob.read_shift(2);o.fStyle=o.flags>>2&1;length-=6;o.data=parse_CellStyleXF(blob,length,o.fStyle);return o}function parse_Guts(blob,length){blob.l+=4;var out=[blob.read_shift(2),blob.read_shift(2)];if(out[0]!==0)out[0]--;if(out[1]!==0)out[1]--;if(out[0]>7||out[1]>7)throw"Bad Gutters: "+out;return out}function parse_BoolErr(blob,length){var cell=parse_XLSCell(blob,6);var val=parse_Bes(blob,2);cell.val=val;cell.t=val===true||val===false?"b":"e";return cell}function parse_Number(blob,length){var cell=parse_XLSCell(blob,6);var xnum=parse_Xnum(blob,8);cell.val=xnum;return cell}var parse_XLHeaderFooter=parse_OptXLUnicodeString;function parse_SupBook(blob,length,opts){var end=blob.l+length;var ctab=blob.read_shift(2);var cch=blob.read_shift(2);var virtPath;if(cch>=1&&cch<=255)virtPath=parse_XLUnicodeStringNoCch(blob,cch);var rgst=blob.read_shift(end-blob.l);opts.sbcch=cch;return[cch,ctab,virtPath,rgst]}function parse_ExternName(blob,length,opts){var flags=blob.read_shift(2);var body;var o={fBuiltIn:flags&1,fWantAdvise:flags>>>1&1,fWantPict:flags>>>2&1,fOle:flags>>>3&1,fOleLink:flags>>>4&1,cf:flags>>>5&1023,fIcon:flags>>>15&1};if(opts.sbcch===14849)body=parse_AddinUdf(blob,length-2);o.body=body||blob.read_shift(length-2);return o}function parse_Lbl(blob,length,opts){if(opts.biff<8)return parse_Label(blob,length,opts);var target=blob.l+length;var flags=blob.read_shift(2);var chKey=blob.read_shift(1);var cch=blob.read_shift(1);var cce=blob.read_shift(2);blob.l+=2;var itab=blob.read_shift(2);blob.l+=4;var name=parse_XLUnicodeStringNoCch(blob,cch,opts);var rgce=parse_NameParsedFormula(blob,target-blob.l,opts,cce);return{chKey:chKey,Name:name,rgce:rgce}}function parse_ExternSheet(blob,length,opts){if(opts.biff<8)return parse_ShortXLUnicodeString(blob,length,opts);var o=parslurp2(blob,length,parse_XTI);var oo=[];if(opts.sbcch===1025){for(var i=0;i!=o.length;++i)oo.push(opts.snames[o[i][1]]);return oo}else return o}function parse_ShrFmla(blob,length,opts){var ref=parse_RefU(blob,6);blob.l++;var cUse=blob.read_shift(1);length-=8;return[parse_SharedParsedFormula(blob,length,opts),cUse]}function parse_Array(blob,length,opts){var ref=parse_Ref(blob,6);blob.l+=6;length-=12;return[ref,parse_ArrayParsedFormula(blob,length,opts,ref)]}function parse_MTRSettings(blob,length){var fMTREnabled=blob.read_shift(4)!==0;var fUserSetThreadCount=blob.read_shift(4)!==0;var cUserThreadCount=blob.read_shift(4);return[fMTREnabled,fUserSetThreadCount,cUserThreadCount]}function parse_NoteSh(blob,length,opts){if(opts.biff<8)return;var row=blob.read_shift(2),col=blob.read_shift(2);var flags=blob.read_shift(2),idObj=blob.read_shift(2);var stAuthor=parse_XLUnicodeString2(blob,0,opts);if(opts.biff<8)blob.read_shift(1);return[{r:row,c:col},stAuthor,idObj,flags]}function parse_Note(blob,length,opts){return parse_NoteSh(blob,length,opts)}function parse_MergeCells(blob,length){var merges=[];var cmcs=blob.read_shift(2);while(cmcs--)merges.push(parse_Ref8U(blob,length));return merges}function parse_Obj(blob,length){var cmo=parse_FtCmo(blob,22);var fts=parse_FtArray(blob,length-22,cmo[1]);return{cmo:cmo,ft:fts}}function parse_TxO(blob,length,opts){var s=blob.l;try{blob.l+=4;var ot=(opts.lastobj||{cmo:[0,0]}).cmo[1];var controlInfo;if([0,5,7,11,12,14].indexOf(ot)==-1)blob.l+=6;else controlInfo=parse_ControlInfo(blob,6,opts);var cchText=blob.read_shift(2);var cbRuns=blob.read_shift(2);var ifntEmpty=parse_FontIndex(blob,2);var len=blob.read_shift(2);blob.l+=len;var texts="";for(var i=1;i<blob.lens.length-1;++i){if(blob.l-s!=blob.lens[i])throw"TxO: bad continue record";var hdr=blob[blob.l];var t=parse_XLUnicodeStringNoCch(blob,blob.lens[i+1]-blob.lens[i]-1);texts+=t;if(texts.length>=(hdr?cchText:2*cchText))break}if(texts.length!==cchText&&texts.length!==cchText*2){throw"cchText: "+cchText+" != "+texts.length}blob.l=s+length;return{t:texts}}catch(e){blob.l=s+length;return{t:texts||""}}}var parse_HLink=function(blob,length){var ref=parse_Ref8U(blob,8);blob.l+=16;var hlink=parse_Hyperlink(blob,length-24);return[ref,hlink]};var parse_HLinkTooltip=function(blob,length){var end=blob.l+length;blob.read_shift(2);var ref=parse_Ref8U(blob,8);var wzTooltip=blob.read_shift((length-10)/2,"dbcs-cont");wzTooltip=wzTooltip.replace(chr0,"");return[ref,wzTooltip]};function parse_Country(blob,length){var o=[],d;d=blob.read_shift(2);o[0]=CountryEnum[d]||d;d=blob.read_shift(2);o[1]=CountryEnum[d]||d;return o}function parse_ClrtClient(blob,length){var ccv=blob.read_shift(2);var o=[];while(ccv-->0)o.push(parse_LongRGB(blob,8));return o}function parse_Palette(blob,length){var ccv=blob.read_shift(2);var o=[];while(ccv-->0)o.push(parse_LongRGB(blob,8));return o}function parse_XFCRC(blob,length){blob.l+=2;var o={cxfs:0,crc:0};o.cxfs=blob.read_shift(2);o.crc=blob.read_shift(4);return o}var parse_Style=parsenoop;var parse_StyleExt=parsenoop;var parse_ColInfo=parsenoop;var parse_Window2=parsenoop;var parse_Backup=parsebool;var parse_Blank=parse_XLSCell;var parse_BottomMargin=parse_Xnum;var parse_BuiltInFnGroupCount=parseuint16;var parse_CalcCount=parseuint16;var parse_CalcDelta=parse_Xnum;var parse_CalcIter=parsebool;var parse_CalcMode=parseuint16;var parse_CalcPrecision=parsebool;var parse_CalcRefMode=parsenoop2;var parse_CalcSaveRecalc=parsebool;var parse_CodePage=parseuint16;var parse_Compat12=parsebool;var parse_Date1904=parsebool;var parse_DefColWidth=parseuint16;var parse_DSF=parsenoop2;var parse_EntExU2=parsenoop2;var parse_EOF=parsenoop2;var parse_Excel9File=parsenoop2;var parse_FeatHdr=parsenoop2;var parse_FontX=parseuint16;var parse_Footer=parse_XLHeaderFooter;var parse_GridSet=parseuint16;var parse_HCenter=parsebool;var parse_Header=parse_XLHeaderFooter;var parse_HideObj=parse_HideObjEnum;var parse_InterfaceEnd=parsenoop2;var parse_LeftMargin=parse_Xnum;var parse_Mms=parsenoop2;var parse_ObjProtect=parsebool;var parse_Password=parseuint16;var parse_PrintGrid=parsebool;var parse_PrintRowCol=parsebool;var parse_PrintSize=parseuint16;var parse_Prot4Rev=parsebool;var parse_Prot4RevPass=parseuint16;var parse_Protect=parsebool;var parse_RefreshAll=parsebool;var parse_RightMargin=parse_Xnum;var parse_RRTabId=parseuint16a;var parse_ScenarioProtect=parsebool;var parse_Scl=parseuint16a;var parse_String=parse_XLUnicodeString;var parse_SxBool=parsebool;var parse_TopMargin=parse_Xnum;var parse_UsesELFs=parsebool;var parse_VCenter=parsebool;var parse_WinProtect=parsebool;var parse_WriteProtect=parsenoop;var parse_VerticalPageBreaks=parsenoop;var parse_HorizontalPageBreaks=parsenoop;var parse_Selection=parsenoop;var parse_Continue=parsenoop;var parse_Pane=parsenoop;var parse_Pls=parsenoop;var parse_DCon=parsenoop;var parse_DConRef=parsenoop;var parse_DConName=parsenoop;var parse_XCT=parsenoop;var parse_CRN=parsenoop;var parse_FileSharing=parsenoop;var parse_Uncalced=parsenoop;var parse_Template=parsenoop;var parse_Intl=parsenoop;var parse_WsBool=parsenoop;var parse_Sort=parsenoop;var parse_Sync=parsenoop;var parse_LPr=parsenoop;var parse_DxGCol=parsenoop;var parse_FnGroupName=parsenoop;var parse_FilterMode=parsenoop;var parse_AutoFilterInfo=parsenoop;var parse_AutoFilter=parsenoop;var parse_Setup=parsenoop;var parse_ScenMan=parsenoop;var parse_SCENARIO=parsenoop;var parse_SxView=parsenoop;var parse_Sxvd=parsenoop;var parse_SXVI=parsenoop;var parse_SxIvd=parsenoop;var parse_SXLI=parsenoop;var parse_SXPI=parsenoop;var parse_DocRoute=parsenoop;var parse_RecipName=parsenoop;var parse_MulBlank=parsenoop;var parse_SXDI=parsenoop;var parse_SXDB=parsenoop;var parse_SXFDB=parsenoop;var parse_SXDBB=parsenoop;var parse_SXNum=parsenoop;var parse_SxErr=parsenoop;var parse_SXInt=parsenoop;var parse_SXString=parsenoop;var parse_SXDtr=parsenoop;var parse_SxNil=parsenoop;var parse_SXTbl=parsenoop;var parse_SXTBRGIITM=parsenoop;var parse_SxTbpg=parsenoop;var parse_ObProj=parsenoop;var parse_SXStreamID=parsenoop;var parse_DBCell=parsenoop;var parse_SXRng=parsenoop;var parse_SxIsxoper=parsenoop;var parse_BookBool=parsenoop;var parse_DbOrParamQry=parsenoop;var parse_OleObjectSize=parsenoop;var parse_SXVS=parsenoop;var parse_BkHim=parsenoop;var parse_MsoDrawingGroup=parsenoop;var parse_MsoDrawing=parsenoop;var parse_MsoDrawingSelection=parsenoop;var parse_PhoneticInfo=parsenoop;var parse_SxRule=parsenoop;var parse_SXEx=parsenoop;var parse_SxFilt=parsenoop;var parse_SxDXF=parsenoop;var parse_SxItm=parsenoop;var parse_SxName=parsenoop;var parse_SxSelect=parsenoop;var parse_SXPair=parsenoop;var parse_SxFmla=parsenoop;var parse_SxFormat=parsenoop;var parse_SXVDEx=parsenoop;var parse_SXFormula=parsenoop;var parse_SXDBEx=parsenoop;var parse_RRDInsDel=parsenoop;var parse_RRDHead=parsenoop;var parse_RRDChgCell=parsenoop;var parse_RRDRenSheet=parsenoop;var parse_RRSort=parsenoop;var parse_RRDMove=parsenoop;var parse_RRFormat=parsenoop;var parse_RRAutoFmt=parsenoop;var parse_RRInsertSh=parsenoop;var parse_RRDMoveBegin=parsenoop;var parse_RRDMoveEnd=parsenoop;var parse_RRDInsDelBegin=parsenoop;var parse_RRDInsDelEnd=parsenoop;var parse_RRDConflict=parsenoop;var parse_RRDDefName=parsenoop;var parse_RRDRstEtxp=parsenoop;var parse_LRng=parsenoop;var parse_CUsr=parsenoop;var parse_CbUsr=parsenoop;var parse_UsrInfo=parsenoop;var parse_UsrExcl=parsenoop;var parse_FileLock=parsenoop;var parse_RRDInfo=parsenoop;var parse_BCUsrs=parsenoop;var parse_UsrChk=parsenoop;var parse_UserBView=parsenoop;var parse_UserSViewBegin=parsenoop;var parse_UserSViewEnd=parsenoop;var parse_RRDUserView=parsenoop;var parse_Qsi=parsenoop;var parse_CondFmt=parsenoop;var parse_CF=parsenoop;var parse_DVal=parsenoop;var parse_DConBin=parsenoop;var parse_Lel=parsenoop;var parse_XLSCodeName=parse_XLUnicodeString;var parse_SXFDBType=parsenoop;var parse_ObNoMacros=parsenoop;var parse_Dv=parsenoop;var parse_Index=parsenoop;var parse_Table=parsenoop;var parse_BigName=parsenoop;var parse_ContinueBigName=parsenoop;var parse_WebPub=parsenoop;var parse_QsiSXTag=parsenoop;var parse_DBQueryExt=parsenoop;var parse_ExtString=parsenoop;var parse_TxtQry=parsenoop;var parse_Qsir=parsenoop;var parse_Qsif=parsenoop;var parse_RRDTQSIF=parsenoop;var parse_OleDbConn=parsenoop;var parse_WOpt=parsenoop;var parse_SXViewEx=parsenoop;var parse_SXTH=parsenoop;var parse_SXPIEx=parsenoop;var parse_SXVDTEx=parsenoop;var parse_SXViewEx9=parsenoop;var parse_ContinueFrt=parsenoop;var parse_RealTimeData=parsenoop;var parse_ChartFrtInfo=parsenoop;var parse_FrtWrapper=parsenoop;var parse_StartBlock=parsenoop;var parse_EndBlock=parsenoop;var parse_StartObject=parsenoop;var parse_EndObject=parsenoop;var parse_CatLab=parsenoop;var parse_YMult=parsenoop;var parse_SXViewLink=parsenoop;var parse_PivotChartBits=parsenoop;var parse_FrtFontList=parsenoop;var parse_SheetExt=parsenoop;var parse_BookExt=parsenoop;var parse_SXAddl=parsenoop;var parse_CrErr=parsenoop;var parse_HFPicture=parsenoop;var parse_Feat=parsenoop;var parse_DataLabExt=parsenoop;var parse_DataLabExtContents=parsenoop;var parse_CellWatch=parsenoop;var parse_FeatHdr11=parsenoop;var parse_Feature11=parsenoop;var parse_DropDownObjIds=parsenoop;var parse_ContinueFrt11=parsenoop;var parse_DConn=parsenoop;var parse_List12=parsenoop;var parse_Feature12=parsenoop;var parse_CondFmt12=parsenoop;var parse_CF12=parsenoop;var parse_CFEx=parsenoop;var parse_AutoFilter12=parsenoop;var parse_ContinueFrt12=parsenoop;var parse_MDTInfo=parsenoop;var parse_MDXStr=parsenoop;var parse_MDXTuple=parsenoop;var parse_MDXSet=parsenoop;var parse_MDXProp=parsenoop;var parse_MDXKPI=parsenoop;var parse_MDB=parsenoop;var parse_PLV=parsenoop;var parse_DXF=parsenoop;var parse_TableStyles=parsenoop;var parse_TableStyle=parsenoop;var parse_TableStyleElement=parsenoop;var parse_NamePublish=parsenoop;var parse_NameCmt=parsenoop;var parse_SortData=parsenoop;var parse_GUIDTypeLib=parsenoop;var parse_FnGrp12=parsenoop;var parse_NameFnGrp12=parsenoop;var parse_HeaderFooter=parsenoop;var parse_CrtLayout12=parsenoop;var parse_CrtMlFrt=parsenoop;var parse_CrtMlFrtContinue=parsenoop;var parse_ShapePropsStream=parsenoop;var parse_TextPropsStream=parsenoop;var parse_RichTextStream=parsenoop;var parse_CrtLayout12A=parsenoop;var parse_Units=parsenoop;var parse_Chart=parsenoop;var parse_Series=parsenoop;var parse_DataFormat=parsenoop;var parse_LineFormat=parsenoop;var parse_MarkerFormat=parsenoop;var parse_AreaFormat=parsenoop;var parse_PieFormat=parsenoop;var parse_AttachedLabel=parsenoop;var parse_SeriesText=parsenoop;var parse_ChartFormat=parsenoop;var parse_Legend=parsenoop;var parse_SeriesList=parsenoop;var parse_Bar=parsenoop;var parse_Line=parsenoop;var parse_Pie=parsenoop;var parse_Area=parsenoop;var parse_Scatter=parsenoop;var parse_CrtLine=parsenoop;var parse_Axis=parsenoop;var parse_Tick=parsenoop;var parse_ValueRange=parsenoop;var parse_CatSerRange=parsenoop;var parse_AxisLine=parsenoop;var parse_CrtLink=parsenoop;var parse_DefaultText=parsenoop;var parse_Text=parsenoop;var parse_ObjectLink=parsenoop;var parse_Frame=parsenoop;var parse_Begin=parsenoop;var parse_End=parsenoop;var parse_PlotArea=parsenoop;var parse_Chart3d=parsenoop;var parse_PicF=parsenoop;var parse_DropBar=parsenoop;var parse_Radar=parsenoop;var parse_Surf=parsenoop;var parse_RadarArea=parsenoop;var parse_AxisParent=parsenoop;var parse_LegendException=parsenoop;var parse_ShtProps=parsenoop;var parse_SerToCrt=parsenoop;var parse_AxesUsed=parsenoop;var parse_SBaseRef=parsenoop;var parse_SerParent=parsenoop;var parse_SerAuxTrend=parsenoop;var parse_IFmtRecord=parsenoop;var parse_Pos=parsenoop;var parse_AlRuns=parsenoop;var parse_BRAI=parsenoop;var parse_SerAuxErrBar=parsenoop;var parse_SerFmt=parsenoop;var parse_Chart3DBarShape=parsenoop;var parse_Fbi=parsenoop;var parse_BopPop=parsenoop;var parse_AxcExt=parsenoop;var parse_Dat=parsenoop;var parse_PlotGrowth=parsenoop;var parse_SIIndex=parsenoop;var parse_GelFrame=parsenoop;var parse_BopPopCustom=parsenoop;var parse_Fbi2=parsenoop;function parse_BIFF5String(blob){var len=blob.read_shift(1);return blob.read_shift(len,"sbcs-cont")}function parse_BIFF2STR(blob,length,opts){var cell=parse_XLSCell(blob,6);++blob.l;var str=parse_XLUnicodeString2(blob,length-7,opts);cell.val=str;return cell}function parse_BIFF2NUM(blob,length,opts){var cell=parse_XLSCell(blob,6);++blob.l;var num=parse_Xnum(blob,8);cell.val=num;return cell}var CS2CP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969};var parse_rs=function parse_rs_factory(){var tregex=matchtag("t"),rpregex=matchtag("rPr"),rregex=/<r>/g,rend=/<\/r>/,nlregex=/\r\n/g;var parse_rpr=function parse_rpr(rpr,intro,outro){var font={},cp=65001;var m=rpr.match(tagregex),i=0;if(m)for(;i!=m.length;++i){var y=parsexmltag(m[i]);switch(y[0]){case"<condense":break;case"<extend":break;case"<shadow":case"<shadow/>":break;case"<charset":if(y.val=="1")break;cp=CS2CP[parseInt(y.val,10)];break;case"<outline":case"<outline/>":break;case"<rFont":font.name=y.val;break;case"<sz":font.sz=y.val;break;case"<strike":if(!y.val)break;case"<strike/>":font.strike=1;break;case"</strike>":break;case"<u":if(!y.val)break;case"<u/>":font.u=1;break;case"</u>":break;case"<b":if(!y.val)break;case"<b/>":font.b=1;break;case"</b>":break;case"<i":if(!y.val)break;case"<i/>":font.i=1;break;case"</i>":break;case"<color":if(y.rgb)font.color=y.rgb.substr(2,6);break;case"<family":font.family=y.val;break;case"<vertAlign":break;case"<scheme":break;default:if(y[0].charCodeAt(1)!==47)throw"Unrecognized rich format "+y[0]}}var style=[];if(font.b)style.push("font-weight: bold;");if(font.i)style.push("font-style: italic;");intro.push('<span style="'+style.join("")+'">');outro.push("</span>");return cp};function parse_r(r){var terms=[[],"",[]];var t=r.match(tregex),cp=65001;if(!isval(t))return"";terms[1]=t[1];var rpr=r.match(rpregex);if(isval(rpr))cp=parse_rpr(rpr[1],terms[0],terms[2]);return terms[0].join("")+terms[1].replace(nlregex,"<br/>")+terms[2].join("")}return function parse_rs(rs){return rs.replace(rregex,"").split(rend).map(parse_r).join("")}}();var sitregex=/<t[^>]*>([^<]*)<\/t>/g,sirregex=/<r>/;function parse_si(x,opts){var html=opts?opts.cellHTML:true;var z={};if(!x)return null;var y;if(x.charCodeAt(1)===116){z.t=utf8read(unescapexml(x.substr(x.indexOf(">")+1).split(/<\/t>/)[0]));z.r=x;if(html)z.h=z.t}else if(y=x.match(sirregex)){z.r=x;z.t=utf8read(unescapexml(x.match(sitregex).join("").replace(tagregex,"")));if(html)z.h=parse_rs(x)}return z}var sstr0=/<sst([^>]*)>([\s\S]*)<\/sst>/;var sstr1=/<(?:si|sstItem)>/g;var sstr2=/<\/(?:si|sstItem)>/;function parse_sst_xml(data,opts){var s=[],ss;var sst=data.match(sstr0);if(isval(sst)){ss=sst[2].replace(sstr1,"").split(sstr2);for(var i=0;i!=ss.length;++i){var o=parse_si(ss[i],opts);if(o!=null)s[s.length]=o}sst=parsexmltag(sst[1]);s.Count=sst.count;s.Unique=sst.uniqueCount}return s}RELS.SST="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings";var straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(sst,opts){if(!opts.bookSST)return"";var o=[XML_HEADER];o[o.length]=writextag("sst",null,{xmlns:XMLNS.main[0],count:sst.Count,uniqueCount:sst.Unique});for(var i=0;i!=sst.length;++i){if(sst[i]==null)continue;var s=sst[i];var sitag="<si>";if(s.r)sitag+=s.r;else{sitag+="<t";if(s.t.match(straywsregex))sitag+=' xml:space="preserve"';sitag+=">"+escapexml(s.t)+"</t>"}sitag+="</si>";o[o.length]=sitag}if(o.length>2){o[o.length]="</sst>";o[1]=o[1].replace("/>",">")}return o.join("")}function parse_BrtBeginSst(data,length){return[data.read_shift(4),data.read_shift(4)]}function parse_sst_bin(data,opts){var s=[];var pass=false;recordhopper(data,function hopper_sst(val,R,RT){switch(R.n){case"BrtBeginSst":s.Count=val[0];s.Unique=val[1];break;case"BrtSSTItem":s.push(val);break;case"BrtEndSst":return true;case"BrtFRTBegin":pass=true;break;case"BrtFRTEnd":pass=false;break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+RT+" "+R.n)}});return s}function write_BrtBeginSst(sst,o){if(!o)o=new_buf(8);o.write_shift(4,sst.Count);o.write_shift(4,sst.Unique);return o}var write_BrtSSTItem=write_RichStr;function write_sst_bin(sst,opts){var ba=buf_array();write_record(ba,"BrtBeginSst",write_BrtBeginSst(sst));for(var i=0;i<sst.length;++i)write_record(ba,"BrtSSTItem",write_BrtSSTItem(sst[i]));write_record(ba,"BrtEndSst");return ba.end()}function _JS2ANSI(str){if(typeof cptable!=="undefined")return cptable.utils.encode(1252,str);return str.split("").map(function(x){return x.charCodeAt(0)})}function parse_Version(blob,length){var o={};o.Major=blob.read_shift(2);o.Minor=blob.read_shift(2);return o}function parse_EncryptionHeader(blob,length){var o={};o.Flags=blob.read_shift(4);var tmp=blob.read_shift(4);if(tmp!==0)throw"Unrecognized SizeExtra: "+tmp;o.AlgID=blob.read_shift(4);switch(o.AlgID){case 0:case 26625:case 26126:case 26127:case 26128:break;default:throw"Unrecognized encryption algorithm: "+o.AlgID}parsenoop(blob,length-12);return o}function parse_EncryptionVerifier(blob,length){return parsenoop(blob,length)}function parse_RC4CryptoHeader(blob,length){var o={};var vers=o.EncryptionVersionInfo=parse_Version(blob,4);length-=4;if(vers.Minor!=2)throw"unrecognized minor version code: "+vers.Minor;if(vers.Major>4||vers.Major<2)throw"unrecognized major version code: "+vers.Major;o.Flags=blob.read_shift(4);length-=4;var sz=blob.read_shift(4);length-=4;o.EncryptionHeader=parse_EncryptionHeader(blob,sz);length-=sz;o.EncryptionVerifier=parse_EncryptionVerifier(blob,length);return o}function parse_RC4Header(blob,length){var o={};var vers=o.EncryptionVersionInfo=parse_Version(blob,4);length-=4;if(vers.Major!=1||vers.Minor!=1)throw"unrecognized version code "+vers.Major+" : "+vers.Minor;o.Salt=blob.read_shift(16);o.EncryptedVerifier=blob.read_shift(16);o.EncryptedVerifierHash=blob.read_shift(16);return o}function crypto_CreatePasswordVerifier_Method1(Password){var Verifier=0,PasswordArray;var PasswordDecoded=_JS2ANSI(Password);var len=PasswordDecoded.length+1,i,PasswordByte;var Intermediate1,Intermediate2,Intermediate3;PasswordArray=new_raw_buf(len);PasswordArray[0]=PasswordDecoded.length;for(i=1;i!=len;++i)PasswordArray[i]=PasswordDecoded[i-1];for(i=len-1;i>=0;--i){PasswordByte=PasswordArray[i];Intermediate1=(Verifier&16384)===0?0:1;Intermediate2=Verifier<<1&32767;Intermediate3=Intermediate1|Intermediate2;Verifier=Intermediate3^PasswordByte}return Verifier^52811}var crypto_CreateXorArray_Method1=function(){var PadArray=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0];var InitialCode=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163];var XorMatrix=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628];var Ror=function(Byte){return(Byte/2|Byte*128)&255};var XorRor=function(byte1,byte2){return Ror(byte1^byte2)};var CreateXorKey_Method1=function(Password){var XorKey=InitialCode[Password.length-1];var CurrentElement=104;for(var i=Password.length-1;i>=0;--i){var Char=Password[i];for(var j=0;j!=7;++j){if(Char&64)XorKey^=XorMatrix[CurrentElement];Char*=2;
--CurrentElement}}return XorKey};return function(password){var Password=_JS2ANSI(password);var XorKey=CreateXorKey_Method1(Password);var Index=Password.length;var ObfuscationArray=new_raw_buf(16);for(var i=0;i!=16;++i)ObfuscationArray[i]=0;var Temp,PasswordLastChar,PadIndex;if((Index&1)===1){Temp=XorKey>>8;ObfuscationArray[Index]=XorRor(PadArray[0],Temp);--Index;Temp=XorKey&255;PasswordLastChar=Password[Password.length-1];ObfuscationArray[Index]=XorRor(PasswordLastChar,Temp)}while(Index>0){--Index;Temp=XorKey>>8;ObfuscationArray[Index]=XorRor(Password[Index],Temp);--Index;Temp=XorKey&255;ObfuscationArray[Index]=XorRor(Password[Index],Temp)}Index=15;PadIndex=15-Password.length;while(PadIndex>0){Temp=XorKey>>8;ObfuscationArray[Index]=XorRor(PadArray[PadIndex],Temp);--Index;--PadIndex;Temp=XorKey&255;ObfuscationArray[Index]=XorRor(Password[Index],Temp);--Index;--PadIndex}return ObfuscationArray}}();var crypto_DecryptData_Method1=function(password,Data,XorArrayIndex,XorArray,O){if(!O)O=Data;if(!XorArray)XorArray=crypto_CreateXorArray_Method1(password);var Index,Value;for(Index=0;Index!=Data.length;++Index){Value=Data[Index];Value^=XorArray[XorArrayIndex];Value=(Value>>5|Value<<3)&255;O[Index]=Value;++XorArrayIndex}return[O,XorArrayIndex,XorArray]};var crypto_MakeXorDecryptor=function(password){var XorArrayIndex=0,XorArray=crypto_CreateXorArray_Method1(password);return function(Data){var O=crypto_DecryptData_Method1(null,Data,XorArrayIndex,XorArray);XorArrayIndex=O[1];return O[0]}};function parse_XORObfuscation(blob,length,opts,out){var o={key:parseuint16(blob),verificationBytes:parseuint16(blob)};if(opts.password)o.verifier=crypto_CreatePasswordVerifier_Method1(opts.password);out.valid=o.verificationBytes===o.verifier;if(out.valid)out.insitu_decrypt=crypto_MakeXorDecryptor(opts.password);return o}function parse_FilePassHeader(blob,length,oo){var o=oo||{};o.Info=blob.read_shift(2);blob.l-=2;if(o.Info===1)o.Data=parse_RC4Header(blob,length);else o.Data=parse_RC4CryptoHeader(blob,length);return o}function parse_FilePass(blob,length,opts){var o={Type:blob.read_shift(2)};if(o.Type)parse_FilePassHeader(blob,length-2,o);else parse_XORObfuscation(blob,length-2,opts,o);return o}function hex2RGB(h){var o=h.substr(h[0]==="#"?1:0,6);return[parseInt(o.substr(0,2),16),parseInt(o.substr(0,2),16),parseInt(o.substr(0,2),16)]}function rgb2Hex(rgb){for(var i=0,o=1;i!=3;++i)o=o*256+(rgb[i]>255?255:rgb[i]<0?0:rgb[i]);return o.toString(16).toUpperCase().substr(1)}function rgb2HSL(rgb){var R=rgb[0]/255,G=rgb[1]/255,B=rgb[2]/255;var M=Math.max(R,G,B),m=Math.min(R,G,B),C=M-m;if(C===0)return[0,0,R];var H6=0,S=0,L2=M+m;S=C/(L2>1?2-L2:L2);switch(M){case R:H6=((G-B)/C+6)%6;break;case G:H6=(B-R)/C+2;break;case B:H6=(R-G)/C+4;break}return[H6/6,S,L2/2]}function hsl2RGB(hsl){var H=hsl[0],S=hsl[1],L=hsl[2];var C=S*2*(L<.5?L:1-L),m=L-C/2;var rgb=[m,m,m],h6=6*H;var X;if(S!==0)switch(h6|0){case 0:case 6:X=C*h6;rgb[0]+=C;rgb[1]+=X;break;case 1:X=C*(2-h6);rgb[0]+=X;rgb[1]+=C;break;case 2:X=C*(h6-2);rgb[1]+=C;rgb[2]+=X;break;case 3:X=C*(4-h6);rgb[1]+=X;rgb[2]+=C;break;case 4:X=C*(h6-4);rgb[2]+=C;rgb[0]+=X;break;case 5:X=C*(6-h6);rgb[2]+=X;rgb[0]+=C;break}for(var i=0;i!=3;++i)rgb[i]=Math.round(rgb[i]*255);return rgb}function rgb_tint(hex,tint){if(tint===0)return hex;var hsl=rgb2HSL(hex2RGB(hex));if(tint<0)hsl[2]=hsl[2]*(1+tint);else hsl[2]=1-(1-hsl[2])*(1-tint);return rgb2Hex(hsl2RGB(hsl))}var DEF_MDW=7,MAX_MDW=15,MIN_MDW=1,MDW=DEF_MDW;function width2px(width){return(width+(128/MDW|0)/256)*MDW|0}function px2char(px){return((px-5)/MDW*100+.5|0)/100}function char2width(chr){return((chr*MDW+5)/MDW*256|0)/256}function cycle_width(collw){return char2width(px2char(width2px(collw)))}function find_mdw(collw,coll){if(cycle_width(collw)!=collw){for(MDW=DEF_MDW;MDW>MIN_MDW;--MDW)if(cycle_width(collw)===collw)break;if(MDW===MIN_MDW)for(MDW=DEF_MDW+1;MDW<MAX_MDW;++MDW)if(cycle_width(collw)===collw)break;if(MDW===MAX_MDW)MDW=DEF_MDW}}var XLMLPatternTypeMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var styles={};var themes={};function parse_fills(t,opts){styles.Fills=[];var fill={};t[0].match(tagregex).forEach(function(x){var y=parsexmltag(x);switch(y[0]){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":break;case"</fill>":styles.Fills.push(fill);fill={};break;case"<patternFill":if(y.patternType)fill.patternType=y.patternType;break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":if(!fill.bgColor)fill.bgColor={};if(y.indexed)fill.bgColor.indexed=parseInt(y.indexed,10);if(y.theme)fill.bgColor.theme=parseInt(y.theme,10);if(y.tint)fill.bgColor.tint=parseFloat(y.tint);if(y.rgb)fill.bgColor.rgb=y.rgb.substring(y.rgb.length-6);break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":if(!fill.fgColor)fill.fgColor={};if(y.theme)fill.fgColor.theme=parseInt(y.theme,10);if(y.tint)fill.fgColor.tint=parseFloat(y.tint);if(y.rgb)fill.fgColor.rgb=y.rgb.substring(y.rgb.length-6);break;case"<fgColor/>":case"</fgColor>":break;default:if(opts.WTF)throw"unrecognized "+y[0]+" in fills"}})}function parse_numFmts(t,opts){styles.NumberFmt=[];var k=keys(SSF._table);for(var i=0;i<k.length;++i)styles.NumberFmt[k[i]]=SSF._table[k[i]];var m=t[0].match(tagregex);for(i=0;i<m.length;++i){var y=parsexmltag(m[i]);switch(y[0]){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var f=unescapexml(utf8read(y.formatCode)),j=parseInt(y.numFmtId,10);styles.NumberFmt[j]=f;if(j>0)SSF.load(f,j)}break;default:if(opts.WTF)throw"unrecognized "+y[0]+" in numFmts"}}}function write_numFmts(NF,opts){var o=["<numFmts>"];[[5,8],[23,26],[41,44],[63,66],[164,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)if(NF[i]!==undefined)o[o.length]=writextag("numFmt",null,{numFmtId:i,formatCode:escapexml(NF[i])})});if(o.length===1)return"";o[o.length]="</numFmts>";o[0]=writextag("numFmts",null,{count:o.length-2}).replace("/>",">");return o.join("")}function parse_cellXfs(t,opts){styles.CellXf=[];t[0].match(tagregex).forEach(function(x){var y=parsexmltag(x);switch(y[0]){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":delete y[0];if(y.numFmtId)y.numFmtId=parseInt(y.numFmtId,10);if(y.fillId)y.fillId=parseInt(y.fillId,10);styles.CellXf.push(y);break;case"</xf>":break;case"<alignment":case"<alignment/>":break;case"<protection":case"</protection>":case"<protection/>":break;case"<extLst":case"</extLst>":break;case"<ext":break;default:if(opts.WTF)throw"unrecognized "+y[0]+" in cellXfs"}})}function write_cellXfs(cellXfs){var o=[];o[o.length]=writextag("cellXfs",null);cellXfs.forEach(function(c){o[o.length]=writextag("xf",null,c)});o[o.length]="</cellXfs>";if(o.length===2)return"";o[0]=writextag("cellXfs",null,{count:o.length-2}).replace("/>",">");return o.join("")}var parse_sty_xml=function make_pstyx(){var numFmtRegex=/<numFmts([^>]*)>.*<\/numFmts>/;var cellXfRegex=/<cellXfs([^>]*)>.*<\/cellXfs>/;var fillsRegex=/<fills([^>]*)>.*<\/fills>/;return function parse_sty_xml(data,opts){var t;if(t=data.match(numFmtRegex))parse_numFmts(t,opts);if(t=data.match(fillsRegex))parse_fills(t,opts);if(t=data.match(cellXfRegex))parse_cellXfs(t,opts);return styles}}();var STYLES_XML_ROOT=writextag("styleSheet",null,{xmlns:XMLNS.main[0],"xmlns:vt":XMLNS.vt});RELS.STY="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles";function write_sty_xml(wb,opts){var o=[XML_HEADER,STYLES_XML_ROOT],w;if((w=write_numFmts(wb.SSF))!=null)o[o.length]=w;o[o.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>';o[o.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>';o[o.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>';o[o.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>';if(w=write_cellXfs(opts.cellXfs))o[o.length]=w;o[o.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>';o[o.length]='<dxfs count="0"/>';o[o.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>';if(o.length>2){o[o.length]="</styleSheet>";o[1]=o[1].replace("/>",">")}return o.join("")}function parse_BrtFmt(data,length){var ifmt=data.read_shift(2);var stFmtCode=parse_XLWideString(data,length-2);return[ifmt,stFmtCode]}function parse_BrtFont(data,length){var out={flags:{}};out.dyHeight=data.read_shift(2);out.grbit=parse_FontFlags(data,2);out.bls=data.read_shift(2);out.sss=data.read_shift(2);out.uls=data.read_shift(1);out.bFamily=data.read_shift(1);out.bCharSet=data.read_shift(1);data.l++;out.brtColor=parse_BrtColor(data,8);out.bFontScheme=data.read_shift(1);out.name=parse_XLWideString(data,length-21);out.flags.Bold=out.bls===700;out.flags.Italic=out.grbit.fItalic;out.flags.Strikeout=out.grbit.fStrikeout;out.flags.Outline=out.grbit.fOutline;out.flags.Shadow=out.grbit.fShadow;out.flags.Condense=out.grbit.fCondense;out.flags.Extend=out.grbit.fExtend;out.flags.Sub=out.sss&2;out.flags.Sup=out.sss&1;return out}function parse_BrtXF(data,length){var ixfeParent=data.read_shift(2);var ifmt=data.read_shift(2);parsenoop(data,length-4);return{ixfe:ixfeParent,ifmt:ifmt}}function parse_sty_bin(data,opts){styles.NumberFmt=[];for(var y in SSF._table)styles.NumberFmt[y]=SSF._table[y];styles.CellXf=[];var state="";var pass=false;recordhopper(data,function hopper_sty(val,R,RT){switch(R.n){case"BrtFmt":styles.NumberFmt[val[0]]=val[1];SSF.load(val[1],val[0]);break;case"BrtFont":break;case"BrtKnownFonts":break;case"BrtFill":break;case"BrtBorder":break;case"BrtXF":if(state==="CELLXFS"){styles.CellXf.push(val)}break;case"BrtStyle":break;case"BrtDXF":break;case"BrtMRUColor":break;case"BrtIndexedColor":break;case"BrtBeginStyleSheet":break;case"BrtEndStyleSheet":break;case"BrtBeginTableStyle":break;case"BrtTableStyleElement":break;case"BrtEndTableStyle":break;case"BrtBeginFmts":state="FMTS";break;case"BrtEndFmts":state="";break;case"BrtBeginFonts":state="FONTS";break;case"BrtEndFonts":state="";break;case"BrtACBegin":state="ACFONTS";break;case"BrtACEnd":state="";break;case"BrtBeginFills":state="FILLS";break;case"BrtEndFills":state="";break;case"BrtBeginBorders":state="BORDERS";break;case"BrtEndBorders":state="";break;case"BrtBeginCellStyleXFs":state="CELLSTYLEXFS";break;case"BrtEndCellStyleXFs":state="";break;case"BrtBeginCellXFs":state="CELLXFS";break;case"BrtEndCellXFs":state="";break;case"BrtBeginStyles":state="STYLES";break;case"BrtEndStyles":state="";break;case"BrtBeginDXFs":state="DXFS";break;case"BrtEndDXFs":state="";break;case"BrtBeginTableStyles":state="TABLESTYLES";break;case"BrtEndTableStyles":state="";break;case"BrtBeginColorPalette":state="COLORPALETTE";break;case"BrtEndColorPalette":state="";break;case"BrtBeginIndexedColors":state="INDEXEDCOLORS";break;case"BrtEndIndexedColors":state="";break;case"BrtBeginMRUColors":state="MRUCOLORS";break;case"BrtEndMRUColors":state="";break;case"BrtFRTBegin":pass=true;break;case"BrtFRTEnd":pass=false;break;case"BrtBeginStyleSheetExt14":break;case"BrtBeginSlicerStyles":break;case"BrtEndSlicerStyles":break;case"BrtBeginTimelineStylesheetExt15":break;case"BrtEndTimelineStylesheetExt15":break;case"BrtBeginTimelineStyles":break;case"BrtEndTimelineStyles":break;case"BrtEndStyleSheetExt14":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+RT+" "+R.n)}});return styles}function write_sty_bin(data,opts){var ba=buf_array();write_record(ba,"BrtBeginStyleSheet");write_record(ba,"BrtEndStyleSheet");return ba.end()}RELS.THEME="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme";function parse_clrScheme(t,opts){themes.themeElements.clrScheme=[];var color={};t[0].match(tagregex).forEach(function(x){var y=parsexmltag(x);switch(y[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":color.rgb=y.val;break;case"<a:sysClr":color.rgb=y.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt1>":case"</a:lt1>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":if(y[0][1]==="/"){themes.themeElements.clrScheme.push(color);color={}}else{color.name=y[0].substring(3,y[0].length-1)}break;default:if(opts.WTF)throw"unrecognized "+y[0]+" in clrScheme"}})}function parse_fontScheme(t,opts){}function parse_fmtScheme(t,opts){}var clrsregex=/<a:clrScheme([^>]*)>[^\u2603]*<\/a:clrScheme>/;var fntsregex=/<a:fontScheme([^>]*)>[^\u2603]*<\/a:fontScheme>/;var fmtsregex=/<a:fmtScheme([^>]*)>[^\u2603]*<\/a:fmtScheme>/;function parse_themeElements(data,opts){themes.themeElements={};var t;[["clrScheme",clrsregex,parse_clrScheme],["fontScheme",fntsregex,parse_fontScheme],["fmtScheme",fmtsregex,parse_fmtScheme]].forEach(function(m){if(!(t=data.match(m[1])))throw m[0]+" not found in themeElements";m[2](t,opts)})}var themeltregex=/<a:themeElements([^>]*)>[^\u2603]*<\/a:themeElements>/;function parse_theme_xml(data,opts){if(!data||data.length===0)return themes;var t;if(!(t=data.match(themeltregex)))throw"themeElements not found in theme";parse_themeElements(t[0],opts);return themes}function write_theme(){return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" "/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults><a:spDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style></a:spDef><a:lnDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style></a:lnDef></a:objectDefaults><a:extraClrSchemeLst/></a:theme>'}function parse_Theme(blob,length){var dwThemeVersion=blob.read_shift(4);if(dwThemeVersion===124226)return;blob.l+=length-4}function parse_ColorTheme(blob,length){return blob.read_shift(4)}function parse_FullColorExt(blob,length){var o={};o.xclrType=blob.read_shift(2);o.nTintShade=blob.read_shift(2);switch(o.xclrType){case 0:blob.l+=4;break;case 1:o.xclrValue=parse_IcvXF(blob,4);break;case 2:o.xclrValue=parse_LongRGBA(blob,4);break;case 3:o.xclrValue=parse_ColorTheme(blob,4);break;case 4:blob.l+=4;break}blob.l+=8;return o}function parse_IcvXF(blob,length){return parsenoop(blob,length)}function parse_XFExtGradient(blob,length){return parsenoop(blob,length)}function parse_ExtProp(blob,length){var extType=blob.read_shift(2);var cb=blob.read_shift(2);var o=[extType];switch(extType){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:o[1]=parse_FullColorExt(blob,cb);break;case 6:o[1]=parse_XFExtGradient(blob,cb);break;case 14:case 15:o[1]=blob.read_shift(cb===5?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+extType+" "+cb)}return o}function parse_XFExt(blob,length){var end=blob.l+length;blob.l+=2;var ixfe=blob.read_shift(2);blob.l+=2;var cexts=blob.read_shift(2);var ext=[];while(cexts-->0)ext.push(parse_ExtProp(blob,end-blob.l));return{ixfe:ixfe,ext:ext}}function update_xfext(xf,xfext){xfext.forEach(function(xfe){switch(xfe[0]){case 4:break;case 5:break;case 7:case 8:case 9:case 10:break;case 13:break;case 14:break;default:throw"bafuq"+xfe[0].toString(16)}})}function parse_cc_xml(data,opts){var d=[];var l=0,i=1;(data.match(tagregex)||[]).forEach(function(x){var y=parsexmltag(x);switch(y[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete y[0];if(y.i)i=y.i;else y.i=i;d.push(y);break}});return d}function write_cc_xml(data,opts){}function parse_BrtCalcChainItem$(data,length){var out={};out.i=data.read_shift(4);var cell={};cell.r=data.read_shift(4);cell.c=data.read_shift(4);out.r=encode_cell(cell);var flags=data.read_shift(1);if(flags&2)out.l="1";if(flags&8)out.a="1";return out}function parse_cc_bin(data,opts){var out=[];var pass=false;recordhopper(data,function hopper_cc(val,R,RT){switch(R.n){case"BrtCalcChainItem$":out.push(val);break;case"BrtBeginCalcChain$":break;case"BrtEndCalcChain$":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+RT+" "+R.n)}});return out}function write_cc_bin(data,opts){}function parse_comments(zip,dirComments,sheets,sheetRels,opts){for(var i=0;i!=dirComments.length;++i){var canonicalpath=dirComments[i];var comments=parse_cmnt(getzipdata(zip,canonicalpath.replace(/^\//,""),true),canonicalpath,opts);if(!comments||!comments.length)continue;var sheetNames=keys(sheets);for(var j=0;j!=sheetNames.length;++j){var sheetName=sheetNames[j];var rels=sheetRels[sheetName];if(rels){var rel=rels[canonicalpath];if(rel)insertCommentsIntoSheet(sheetName,sheets[sheetName],comments)}}}}function insertCommentsIntoSheet(sheetName,sheet,comments){comments.forEach(function(comment){var cell=sheet[comment.ref];if(!cell){cell={};sheet[comment.ref]=cell;var range=safe_decode_range(sheet["!ref"]||"BDWGO1000001:A1");var thisCell=decode_cell(comment.ref);if(range.s.r>thisCell.r)range.s.r=thisCell.r;if(range.e.r<thisCell.r)range.e.r=thisCell.r;if(range.s.c>thisCell.c)range.s.c=thisCell.c;if(range.e.c<thisCell.c)range.e.c=thisCell.c;var encoded=encode_range(range);if(encoded!==sheet["!ref"])sheet["!ref"]=encoded}if(!cell.c)cell.c=[];var o={a:comment.author,t:comment.t,r:comment.r};if(comment.h)o.h=comment.h;cell.c.push(o)})}function parse_comments_xml(data,opts){if(data.match(/<(?:\w+:)?comments *\/>/))return[];var authors=[];var commentList=[];data.match(/<(?:\w+:)?authors>([^\u2603]*)<\/(?:\w+:)?authors>/)[1].split(/<\/\w*:?author>/).forEach(function(x){if(x===""||x.trim()==="")return;authors.push(x.match(/<(?:\w+:)?author[^>]*>(.*)/)[1])});(data.match(/<(?:\w+:)?commentList>([^\u2603]*)<\/(?:\w+:)?commentList>/)||["",""])[1].split(/<\/\w*:?comment>/).forEach(function(x,index){if(x===""||x.trim()==="")return;var y=parsexmltag(x.match(/<(?:\w+:)?comment[^>]*>/)[0]);var comment={author:y.authorId&&authors[y.authorId]?authors[y.authorId]:undefined,ref:y.ref,guid:y.guid};var cell=decode_cell(y.ref);if(opts.sheetRows&&opts.sheetRows<=cell.r)return;var textMatch=x.match(/<text>([^\u2603]*)<\/text>/);if(!textMatch||!textMatch[1])return;var rt=parse_si(textMatch[1]);comment.r=rt.r;comment.t=rt.t;if(opts.cellHTML)comment.h=rt.h;commentList.push(comment)});return commentList}function write_comments_xml(data,opts){}function parse_BrtBeginComment(data,length){var out={};out.iauthor=data.read_shift(4);var rfx=parse_UncheckedRfX(data,16);out.rfx=rfx.s;out.ref=encode_cell(rfx.s);data.l+=16;return out}var parse_BrtCommentAuthor=parse_XLWideString;var parse_BrtCommentText=parse_RichStr;function parse_comments_bin(data,opts){var out=[];var authors=[];var c={};var pass=false;recordhopper(data,function hopper_cmnt(val,R,RT){switch(R.n){case"BrtCommentAuthor":authors.push(val);break;case"BrtBeginComment":c=val;break;case"BrtCommentText":c.t=val.t;c.h=val.h;c.r=val.r;break;case"BrtEndComment":c.author=authors[c.iauthor];delete c.iauthor;if(opts.sheetRows&&opts.sheetRows<=c.rfx.r)break;delete c.rfx;out.push(c);break;case"BrtBeginComments":break;case"BrtEndComments":break;case"BrtBeginCommentAuthors":break;case"BrtEndCommentAuthors":break;case"BrtBeginCommentList":break;case"BrtEndCommentList":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+RT+" "+R.n)}});return out}function write_comments_bin(data,opts){}var rc_to_a1=function(){var rcregex=/(^|[^A-Za-z])R(\[?)(-?\d+|)\]?C(\[?)(-?\d+|)\]?/g;var rcbase;function rcfunc($$,$1,$2,$3,$4,$5){var R=$3.length>0?parseInt($3,10)|0:0,C=$5.length>0?parseInt($5,10)|0:0;if(C<0&&$4.length===0)C=0;if($4.length>0)C+=rcbase.c;if($2.length>0)R+=rcbase.r;return $1+encode_col(C)+encode_row(R)}return function rc_to_a1(fstr,base){rcbase=base;return fstr.replace(rcregex,rcfunc)}}();function parseread(l){return function(blob,length){blob.l+=l;return}}function parseread1(blob,length){blob.l+=1;return}function parse_ColRelU(blob,length){var c=blob.read_shift(2);return[c&16383,c>>14&1,c>>15&1]}function parse_RgceArea(blob,length){var r=blob.read_shift(2),R=blob.read_shift(2);var c=parse_ColRelU(blob,2);var C=parse_ColRelU(blob,2);return{s:{r:r,c:c[0],cRel:c[1],rRel:c[2]},e:{r:R,c:C[0],cRel:C[1],rRel:C[2]}}}function parse_RgceAreaRel(blob,length){var r=blob.read_shift(2),R=blob.read_shift(2);var c=parse_ColRelU(blob,2);var C=parse_ColRelU(blob,2);return{s:{r:r,c:c[0],cRel:c[1],rRel:c[2]},e:{r:R,c:C[0],cRel:C[1],rRel:C[2]}}}function parse_RgceLoc(blob,length){var r=blob.read_shift(2);var c=parse_ColRelU(blob,2);return{r:r,c:c[0],cRel:c[1],rRel:c[2]}}function parse_RgceLocRel(blob,length){var r=blob.read_shift(2);var cl=blob.read_shift(2);var cRel=(cl&32768)>>15,rRel=(cl&16384)>>14;cl&=16383;if(cRel!==0)while(cl>=256)cl-=256;return{r:r,c:cl,cRel:cRel,rRel:rRel}}function parse_PtgArea(blob,length){var type=(blob[blob.l++]&96)>>5;var area=parse_RgceArea(blob,8);return[type,area]}function parse_PtgArea3d(blob,length){var type=(blob[blob.l++]&96)>>5;var ixti=blob.read_shift(2);var area=parse_RgceArea(blob,8);return[type,ixti,area]}function parse_PtgAreaErr(blob,length){var type=(blob[blob.l++]&96)>>5;blob.l+=8;return[type]}function parse_PtgAreaErr3d(blob,length){var type=(blob[blob.l++]&96)>>5;var ixti=blob.read_shift(2);blob.l+=8;return[type,ixti]}function parse_PtgAreaN(blob,length){var type=(blob[blob.l++]&96)>>5;var area=parse_RgceAreaRel(blob,8);return[type,area]}function parse_PtgArray(blob,length){var type=(blob[blob.l++]&96)>>5;blob.l+=7;return[type]}function parse_PtgAttrBaxcel(blob,length){var bitSemi=blob[blob.l+1]&1;var bitBaxcel=1;blob.l+=4;return[bitSemi,bitBaxcel]}function parse_PtgAttrChoose(blob,length){blob.l+=2;var offset=blob.read_shift(2);var o=[];for(var i=0;i<=offset;++i)o.push(blob.read_shift(2));return o}function parse_PtgAttrGoto(blob,length){var bitGoto=blob[blob.l+1]&255?1:0;blob.l+=2;return[bitGoto,blob.read_shift(2)]}function parse_PtgAttrIf(blob,length){var bitIf=blob[blob.l+1]&255?1:0;blob.l+=2;return[bitIf,blob.read_shift(2)]}function parse_PtgAttrSemi(blob,length){var bitSemi=blob[blob.l+1]&255?1:0;blob.l+=4;return[bitSemi]}function parse_PtgAttrSpaceType(blob,length){var type=blob.read_shift(1),cch=blob.read_shift(1);return[type,cch]}function parse_PtgAttrSpace(blob,length){blob.read_shift(2);return parse_PtgAttrSpaceType(blob,2)}function parse_PtgAttrSpaceSemi(blob,length){blob.read_shift(2);return parse_PtgAttrSpaceType(blob,2)}function parse_PtgRef(blob,length){var ptg=blob[blob.l]&31;var type=(blob[blob.l]&96)>>5;blob.l+=1;var loc=parse_RgceLoc(blob,4);return[type,loc]}function parse_PtgRefN(blob,length){var ptg=blob[blob.l]&31;var type=(blob[blob.l]&96)>>5;blob.l+=1;var loc=parse_RgceLocRel(blob,4);return[type,loc]}function parse_PtgRef3d(blob,length){var ptg=blob[blob.l]&31;var type=(blob[blob.l]&96)>>5;blob.l+=1;var ixti=blob.read_shift(2);var loc=parse_RgceLoc(blob,4);return[type,ixti,loc]}function parse_PtgFunc(blob,length){var ptg=blob[blob.l]&31;var type=(blob[blob.l]&96)>>5;blob.l+=1;var iftab=blob.read_shift(2);return[FtabArgc[iftab],Ftab[iftab]]}function parse_PtgFuncVar(blob,length){blob.l++;var cparams=blob.read_shift(1),tab=parsetab(blob);return[cparams,(tab[0]===0?Ftab:Cetab)[tab[1]]]}function parsetab(blob,length){return[blob[blob.l+1]>>7,blob.read_shift(2)&32767]}var parse_PtgAttrSum=parseread(4);var parse_PtgConcat=parseread1;function parse_PtgExp(blob,length){blob.l++;var row=blob.read_shift(2);var col=blob.read_shift(2);return[row,col]}function parse_PtgErr(blob,length){blob.l++;return BErr[blob.read_shift(1)]}function parse_PtgInt(blob,length){blob.l++;return blob.read_shift(2)}function parse_PtgBool(blob,length){blob.l++;return blob.read_shift(1)!==0}function parse_PtgNum(blob,length){blob.l++;return parse_Xnum(blob,8)}function parse_PtgStr(blob,length){blob.l++;return parse_ShortXLUnicodeString(blob)}function parse_SerAr(blob){var val=[];switch(val[0]=blob.read_shift(1)){case 4:val[1]=parsebool(blob,1)?"TRUE":"FALSE";blob.l+=7;break;case 16:val[1]=BErr[blob[blob.l]];blob.l+=8;break;case 0:blob.l+=8;break;case 1:val[1]=parse_Xnum(blob,8);break;case 2:val[1]=parse_XLUnicodeString(blob);break}return val}function parse_PtgExtraMem(blob,cce){var count=blob.read_shift(2);var out=[];for(var i=0;i!=count;++i)out.push(parse_Ref8U(blob,8));return out}function parse_PtgExtraArray(blob){var cols=1+blob.read_shift(1);var rows=1+blob.read_shift(2);for(var i=0,o=[];i!=rows&&(o[i]=[]);++i)for(var j=0;j!=cols;++j)o[i][j]=parse_SerAr(blob);
return o}function parse_PtgName(blob,length){var type=blob.read_shift(1)>>>5&3;var nameindex=blob.read_shift(4);return[type,0,nameindex]}function parse_PtgNameX(blob,length){var type=blob.read_shift(1)>>>5&3;var ixti=blob.read_shift(2);var nameindex=blob.read_shift(4);return[type,ixti,nameindex]}function parse_PtgMemArea(blob,length){var type=blob.read_shift(1)>>>5&3;blob.l+=4;var cce=blob.read_shift(2);return[type,cce]}function parse_PtgMemFunc(blob,length){var type=blob.read_shift(1)>>>5&3;var cce=blob.read_shift(2);return[type,cce]}function parse_PtgRefErr(blob,length){var type=blob.read_shift(1)>>>5&3;blob.l+=4;return[type]}var parse_PtgAdd=parseread1;var parse_PtgDiv=parseread1;var parse_PtgEq=parseread1;var parse_PtgGe=parseread1;var parse_PtgGt=parseread1;var parse_PtgIsect=parseread1;var parse_PtgLe=parseread1;var parse_PtgLt=parseread1;var parse_PtgMissArg=parseread1;var parse_PtgMul=parseread1;var parse_PtgNe=parseread1;var parse_PtgParen=parseread1;var parse_PtgPercent=parseread1;var parse_PtgPower=parseread1;var parse_PtgRange=parseread1;var parse_PtgSub=parseread1;var parse_PtgUminus=parseread1;var parse_PtgUnion=parseread1;var parse_PtgUplus=parseread1;var parse_PtgMemErr=parsenoop;var parse_PtgMemNoMem=parsenoop;var parse_PtgRefErr3d=parsenoop;var parse_PtgTbl=parsenoop;var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parse_PtgAdd},4:{n:"PtgSub",f:parse_PtgSub},5:{n:"PtgMul",f:parse_PtgMul},6:{n:"PtgDiv",f:parse_PtgDiv},7:{n:"PtgPower",f:parse_PtgPower},8:{n:"PtgConcat",f:parse_PtgConcat},9:{n:"PtgLt",f:parse_PtgLt},10:{n:"PtgLe",f:parse_PtgLe},11:{n:"PtgEq",f:parse_PtgEq},12:{n:"PtgGe",f:parse_PtgGe},13:{n:"PtgGt",f:parse_PtgGt},14:{n:"PtgNe",f:parse_PtgNe},15:{n:"PtgIsect",f:parse_PtgIsect},16:{n:"PtgUnion",f:parse_PtgUnion},17:{n:"PtgRange",f:parse_PtgRange},18:{n:"PtgUplus",f:parse_PtgUplus},19:{n:"PtgUminus",f:parse_PtgUminus},20:{n:"PtgPercent",f:parse_PtgPercent},21:{n:"PtgParen",f:parse_PtgParen},22:{n:"PtgMissArg",f:parse_PtgMissArg},23:{n:"PtgStr",f:parse_PtgStr},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}};var PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61};(function(){for(var y in PtgDupes)PtgTypes[y]=PtgTypes[PtgDupes[y]]})();var Ptg18={};var Ptg19={1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},255:{}};function parse_Formula(blob,length,opts){var cell=parse_XLSCell(blob,6);var val=parse_FormulaValue(blob,8);var flags=blob.read_shift(1);blob.read_shift(1);var chn=blob.read_shift(4);var cbf="";if(opts.biff===5)blob.l+=length-20;else cbf=parse_XLSCellParsedFormula(blob,length-20,opts);return{cell:cell,val:val[0],formula:cbf,shared:flags>>3&1,tt:val[1]}}function parse_FormulaValue(blob){var b;if(__readUInt16LE(blob,blob.l+6)!==65535)return[parse_Xnum(blob),"n"];switch(blob[blob.l]){case 0:blob.l+=8;return["String","s"];case 1:b=blob[blob.l+2]===1;blob.l+=8;return[b,"b"];case 2:b=blob[blob.l+2];blob.l+=8;return[b,"e"];case 3:blob.l+=8;return["","s"]}}function parse_RgbExtra(blob,length,rgce,opts){if(opts.biff<8)return parsenoop(blob,length);var target=blob.l+length;var o=[];for(var i=0;i!==rgce.length;++i){switch(rgce[i][0]){case"PtgArray":rgce[i][1]=parse_PtgExtraArray(blob);o.push(rgce[i][1]);break;case"PtgMemArea":rgce[i][2]=parse_PtgExtraMem(blob,rgce[i][1]);o.push(rgce[i][2]);break;default:break}}length=target-blob.l;if(length!==0)o.push(parsenoop(blob,length));return o}function parse_NameParsedFormula(blob,length,opts,cce){var target=blob.l+length;var rgce=parse_Rgce(blob,cce);var rgcb;if(target!==blob.l)rgcb=parse_RgbExtra(blob,target-blob.l,rgce,opts);return[rgce,rgcb]}function parse_XLSCellParsedFormula(blob,length,opts){var target=blob.l+length;var rgcb,cce=blob.read_shift(2);if(cce==65535)return[[],parsenoop(blob,length-2)];var rgce=parse_Rgce(blob,cce);if(length!==cce+2)rgcb=parse_RgbExtra(blob,length-cce-2,rgce,opts);return[rgce,rgcb]}function parse_SharedParsedFormula(blob,length,opts){var target=blob.l+length;var rgcb,cce=blob.read_shift(2);var rgce=parse_Rgce(blob,cce);if(cce==65535)return[[],parsenoop(blob,length-2)];if(length!==cce+2)rgcb=parse_RgbExtra(blob,target-cce-2,rgce,opts);return[rgce,rgcb]}function parse_ArrayParsedFormula(blob,length,opts,ref){var target=blob.l+length;var rgcb,cce=blob.read_shift(2);if(cce==65535)return[[],parsenoop(blob,length-2)];var rgce=parse_Rgce(blob,cce);if(length!==cce+2)rgcb=parse_RgbExtra(blob,target-cce-2,rgce,opts);return[rgce,rgcb]}function parse_Rgce(blob,length){var target=blob.l+length;var R,id,ptgs=[];while(target!=blob.l){length=target-blob.l;id=blob[blob.l];R=PtgTypes[id];if(id===24||id===25){id=blob[blob.l+1];R=(id===24?Ptg18:Ptg19)[id]}if(!R||!R.f){ptgs.push(parsenoop(blob,length))}else{ptgs.push([R.n,R.f(blob,length)])}}return ptgs}function mapper(x){return x.map(function f2(y){return y[1]}).join(",")}function stringify_formula(formula,range,cell,supbooks,opts){if(opts!==undefined&&opts.biff===5)return"BIFF5??";var _range=range!==undefined?range:{s:{c:0,r:0}};var stack=[],e1,e2,type,c,ixti,nameidx,r;if(!formula[0]||!formula[0][0])return"";for(var ff=0,fflen=formula[0].length;ff<fflen;++ff){var f=formula[0][ff];switch(f[0]){case"PtgUminus":stack.push("-"+stack.pop());break;case"PtgUplus":stack.push("+"+stack.pop());break;case"PtgPercent":stack.push(stack.pop()+"%");break;case"PtgAdd":e1=stack.pop();e2=stack.pop();stack.push(e2+"+"+e1);break;case"PtgSub":e1=stack.pop();e2=stack.pop();stack.push(e2+"-"+e1);break;case"PtgMul":e1=stack.pop();e2=stack.pop();stack.push(e2+"*"+e1);break;case"PtgDiv":e1=stack.pop();e2=stack.pop();stack.push(e2+"/"+e1);break;case"PtgPower":e1=stack.pop();e2=stack.pop();stack.push(e2+"^"+e1);break;case"PtgConcat":e1=stack.pop();e2=stack.pop();stack.push(e2+"&"+e1);break;case"PtgLt":e1=stack.pop();e2=stack.pop();stack.push(e2+"<"+e1);break;case"PtgLe":e1=stack.pop();e2=stack.pop();stack.push(e2+"<="+e1);break;case"PtgEq":e1=stack.pop();e2=stack.pop();stack.push(e2+"="+e1);break;case"PtgGe":e1=stack.pop();e2=stack.pop();stack.push(e2+">="+e1);break;case"PtgGt":e1=stack.pop();e2=stack.pop();stack.push(e2+">"+e1);break;case"PtgNe":e1=stack.pop();e2=stack.pop();stack.push(e2+"<>"+e1);break;case"PtgIsect":e1=stack.pop();e2=stack.pop();stack.push(e2+" "+e1);break;case"PtgUnion":e1=stack.pop();e2=stack.pop();stack.push(e2+","+e1);break;case"PtgRange":break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgRef":type=f[1][0];c=shift_cell_xls(decode_cell(encode_cell(f[1][1])),_range);stack.push(encode_cell(c));break;case"PtgRefN":type=f[1][0];c=shift_cell_xls(decode_cell(encode_cell(f[1][1])),cell);stack.push(encode_cell(c));break;case"PtgRef3d":type=f[1][0];ixti=f[1][1];c=shift_cell_xls(f[1][2],_range);stack.push(supbooks[1][ixti+1]+"!"+encode_cell(c));break;case"PtgFunc":case"PtgFuncVar":var argc=f[1][0],func=f[1][1];if(!argc)argc=0;var args=stack.slice(-argc);stack.length-=argc;if(func==="User")func=args.shift();stack.push(func+"("+args.join(",")+")");break;case"PtgBool":stack.push(f[1]?"TRUE":"FALSE");break;case"PtgInt":stack.push(f[1]);break;case"PtgNum":stack.push(String(f[1]));break;case"PtgStr":stack.push('"'+f[1]+'"');break;case"PtgErr":stack.push(f[1]);break;case"PtgArea":type=f[1][0];r=shift_range_xls(f[1][1],_range);stack.push(encode_range(r));break;case"PtgArea3d":type=f[1][0];ixti=f[1][1];r=f[1][2];stack.push(supbooks[1][ixti+1]+"!"+encode_range(r));break;case"PtgAttrSum":stack.push("SUM("+stack.pop()+")");break;case"PtgAttrSemi":break;case"PtgName":nameidx=f[1][2];var lbl=supbooks[0][nameidx];var name=lbl.Name;if(name in XLSXFutureFunctions)name=XLSXFutureFunctions[name];stack.push(name);break;case"PtgNameX":var bookidx=f[1][1];nameidx=f[1][2];var externbook;if(supbooks[bookidx+1])externbook=supbooks[bookidx+1][nameidx];else if(supbooks[bookidx-1])externbook=supbooks[bookidx-1][nameidx];if(!externbook)externbook={body:"??NAMEX??"};stack.push(externbook.body);break;case"PtgParen":stack.push("("+stack.pop()+")");break;case"PtgRefErr":stack.push("#REF!");break;case"PtgExp":c={c:f[1][1],r:f[1][0]};var q={c:cell.c,r:cell.r};if(supbooks.sharedf[encode_cell(c)]){var parsedf=supbooks.sharedf[encode_cell(c)];stack.push(stringify_formula(parsedf,_range,q,supbooks,opts))}else{var fnd=false;for(e1=0;e1!=supbooks.arrayf.length;++e1){e2=supbooks.arrayf[e1];if(c.c<e2[0].s.c||c.c>e2[0].e.c)continue;if(c.r<e2[0].s.r||c.r>e2[0].e.r)continue;stack.push(stringify_formula(e2[1],_range,q,supbooks,opts))}if(!fnd)stack.push(f[1])}break;case"PtgArray":stack.push("{"+f[1].map(mapper).join(";")+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":stack.push("");break;case"PtgAreaErr":break;case"PtgAreaN":stack.push("");break;case"PtgRefErr3d":break;case"PtgMemFunc":break;default:throw"Unrecognized Formula Token: "+f}}return stack[0]}function parse_XLSBCellParsedFormula(data,length){var cce=data.read_shift(4);return parsenoop(data,length-4)}var PtgDataType={1:"REFERENCE",2:"VALUE",3:"ARRAY"};var Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"};var Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD"};var FtabArgc={2:1,3:1,15:1,16:1,17:1,18:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,65:3,66:3,67:1,68:1,69:1,71:1,72:1,73:1,75:1,76:1,77:1,79:2,80:2,83:1,86:1,90:1,97:2,98:1,99:1,105:1,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,189:3,190:1,195:3,196:3,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,65535:0};var XLSXFutureFunctions={"_xlfn.ACOT":"ACOT","_xlfn.ACOTH":"ACOTH","_xlfn.AGGREGATE":"AGGREGATE","_xlfn.ARABIC":"ARABIC","_xlfn.AVERAGEIF":"AVERAGEIF","_xlfn.AVERAGEIFS":"AVERAGEIFS","_xlfn.BASE":"BASE","_xlfn.BETA.DIST":"BETA.DIST","_xlfn.BETA.INV":"BETA.INV","_xlfn.BINOM.DIST":"BINOM.DIST","_xlfn.BINOM.DIST.RANGE":"BINOM.DIST.RANGE","_xlfn.BINOM.INV":"BINOM.INV","_xlfn.BITAND":"BITAND","_xlfn.BITLSHIFT":"BITLSHIFT","_xlfn.BITOR":"BITOR","_xlfn.BITRSHIFT":"BITRSHIFT","_xlfn.BITXOR":"BITXOR","_xlfn.CEILING.MATH":"CEILING.MATH","_xlfn.CEILING.PRECISE":"CEILING.PRECISE","_xlfn.CHISQ.DIST":"CHISQ.DIST","_xlfn.CHISQ.DIST.RT":"CHISQ.DIST.RT","_xlfn.CHISQ.INV":"CHISQ.INV","_xlfn.CHISQ.INV.RT":"CHISQ.INV.RT","_xlfn.CHISQ.TEST":"CHISQ.TEST","_xlfn.COMBINA":"COMBINA","_xlfn.CONFIDENCE.NORM":"CONFIDENCE.NORM","_xlfn.CONFIDENCE.T":"CONFIDENCE.T","_xlfn.COT":"COT","_xlfn.COTH":"COTH","_xlfn.COUNTIFS":"COUNTIFS","_xlfn.COVARIANCE.P":"COVARIANCE.P","_xlfn.COVARIANCE.S":"COVARIANCE.S","_xlfn.CSC":"CSC","_xlfn.CSCH":"CSCH","_xlfn.DAYS":"DAYS","_xlfn.DECIMAL":"DECIMAL","_xlfn.ECMA.CEILING":"ECMA.CEILING","_xlfn.ERF.PRECISE":"ERF.PRECISE","_xlfn.ERFC.PRECISE":"ERFC.PRECISE","_xlfn.EXPON.DIST":"EXPON.DIST","_xlfn.F.DIST":"F.DIST","_xlfn.F.DIST.RT":"F.DIST.RT","_xlfn.F.INV":"F.INV","_xlfn.F.INV.RT":"F.INV.RT","_xlfn.F.TEST":"F.TEST","_xlfn.FILTERXML":"FILTERXML","_xlfn.FLOOR.MATH":"FLOOR.MATH","_xlfn.FLOOR.PRECISE":"FLOOR.PRECISE","_xlfn.FORMULATEXT":"FORMULATEXT","_xlfn.GAMMA":"GAMMA","_xlfn.GAMMA.DIST":"GAMMA.DIST","_xlfn.GAMMA.INV":"GAMMA.INV","_xlfn.GAMMALN.PRECISE":"GAMMALN.PRECISE","_xlfn.GAUSS":"GAUSS","_xlfn.HYPGEOM.DIST":"HYPGEOM.DIST","_xlfn.IFNA":"IFNA","_xlfn.IFERROR":"IFERROR","_xlfn.IMCOSH":"IMCOSH","_xlfn.IMCOT":"IMCOT","_xlfn.IMCSC":"IMCSC","_xlfn.IMCSCH":"IMCSCH","_xlfn.IMSEC":"IMSEC","_xlfn.IMSECH":"IMSECH","_xlfn.IMSINH":"IMSINH","_xlfn.IMTAN":"IMTAN","_xlfn.ISFORMULA":"ISFORMULA","_xlfn.ISO.CEILING":"ISO.CEILING","_xlfn.ISOWEEKNUM":"ISOWEEKNUM","_xlfn.LOGNORM.DIST":"LOGNORM.DIST","_xlfn.LOGNORM.INV":"LOGNORM.INV","_xlfn.MODE.MULT":"MODE.MULT","_xlfn.MODE.SNGL":"MODE.SNGL","_xlfn.MUNIT":"MUNIT","_xlfn.NEGBINOM.DIST":"NEGBINOM.DIST","_xlfn.NETWORKDAYS.INTL":"NETWORKDAYS.INTL","_xlfn.NIGBINOM":"NIGBINOM","_xlfn.NORM.DIST":"NORM.DIST","_xlfn.NORM.INV":"NORM.INV","_xlfn.NORM.S.DIST":"NORM.S.DIST","_xlfn.NORM.S.INV":"NORM.S.INV","_xlfn.NUMBERVALUE":"NUMBERVALUE","_xlfn.PDURATION":"PDURATION","_xlfn.PERCENTILE.EXC":"PERCENTILE.EXC","_xlfn.PERCENTILE.INC":"PERCENTILE.INC","_xlfn.PERCENTRANK.EXC":"PERCENTRANK.EXC","_xlfn.PERCENTRANK.INC":"PERCENTRANK.INC","_xlfn.PERMUTATIONA":"PERMUTATIONA","_xlfn.PHI":"PHI","_xlfn.POISSON.DIST":"POISSON.DIST","_xlfn.QUARTILE.EXC":"QUARTILE.EXC","_xlfn.QUARTILE.INC":"QUARTILE.INC","_xlfn.QUERYSTRING":"QUERYSTRING","_xlfn.RANK.AVG":"RANK.AVG","_xlfn.RANK.EQ":"RANK.EQ","_xlfn.RRI":"RRI","_xlfn.SEC":"SEC","_xlfn.SECH":"SECH","_xlfn.SHEET":"SHEET","_xlfn.SHEETS":"SHEETS","_xlfn.SKEW.P":"SKEW.P","_xlfn.STDEV.P":"STDEV.P","_xlfn.STDEV.S":"STDEV.S","_xlfn.SUMIFS":"SUMIFS","_xlfn.T.DIST":"T.DIST","_xlfn.T.DIST.2T":"T.DIST.2T","_xlfn.T.DIST.RT":"T.DIST.RT","_xlfn.T.INV":"T.INV","_xlfn.T.INV.2T":"T.INV.2T","_xlfn.T.TEST":"T.TEST","_xlfn.UNICHAR":"UNICHAR","_xlfn.UNICODE":"UNICODE","_xlfn.VAR.P":"VAR.P","_xlfn.VAR.S":"VAR.S","_xlfn.WEBSERVICE":"WEBSERVICE","_xlfn.WEIBULL.DIST":"WEIBULL.DIST","_xlfn.WORKDAY.INTL":"WORKDAY.INTL","_xlfn.XOR":"XOR","_xlfn.Z.TEST":"Z.TEST"};var strs={};var _ssfopts={};RELS.WS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet";function get_sst_id(sst,str){for(var i=0,len=sst.length;i<len;++i)if(sst[i].t===str){sst.Count++;return i}sst[len]={t:str};sst.Count++;sst.Unique++;return len}function get_cell_style(styles,cell,opts){var z=opts.revssf[cell.z!=null?cell.z:"General"];for(var i=0,len=styles.length;i!=len;++i)if(styles[i].numFmtId===z)return i;styles[len]={numFmtId:z,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1};return len}function safe_format(p,fmtid,fillid,opts){try{if(p.t==="e")p.w=p.w||BErr[p.v];else if(fmtid===0){if(p.t==="n"){if((p.v|0)===p.v)p.w=SSF._general_int(p.v,_ssfopts);else p.w=SSF._general_num(p.v,_ssfopts)}else if(p.t==="d"){var dd=datenum(p.v);if((dd|0)===dd)p.w=SSF._general_int(dd,_ssfopts);else p.w=SSF._general_num(dd,_ssfopts)}else if(p.v===undefined)return"";else p.w=SSF._general(p.v,_ssfopts)}else if(p.t==="d")p.w=SSF.format(fmtid,datenum(p.v),_ssfopts);else p.w=SSF.format(fmtid,p.v,_ssfopts);if(opts.cellNF)p.z=SSF._table[fmtid]}catch(e){if(opts.WTF)throw e}if(fillid)try{p.s=styles.Fills[fillid];if(p.s.fgColor&&p.s.fgColor.theme){p.s.fgColor.rgb=rgb_tint(themes.themeElements.clrScheme[p.s.fgColor.theme].rgb,p.s.fgColor.tint||0);if(opts.WTF)p.s.fgColor.raw_rgb=themes.themeElements.clrScheme[p.s.fgColor.theme].rgb}if(p.s.bgColor&&p.s.bgColor.theme){p.s.bgColor.rgb=rgb_tint(themes.themeElements.clrScheme[p.s.bgColor.theme].rgb,p.s.bgColor.tint||0);if(opts.WTF)p.s.bgColor.raw_rgb=themes.themeElements.clrScheme[p.s.bgColor.theme].rgb}}catch(e){if(opts.WTF)throw e}}function parse_ws_xml_dim(ws,s){var d=safe_decode_range(s);if(d.s.r<=d.e.r&&d.s.c<=d.e.c&&d.s.r>=0&&d.s.c>=0)ws["!ref"]=encode_range(d)}var mergecregex=/<mergeCell ref="[A-Z0-9:]+"\s*\/>/g;var sheetdataregex=/<(?:\w+:)?sheetData>([^\u2603]*)<\/(?:\w+:)?sheetData>/;var hlinkregex=/<hyperlink[^>]*\/>/g;var dimregex=/"(\w*:\w*)"/;var colregex=/<col[^>]*\/>/g;function parse_ws_xml(data,opts,rels){if(!data)return data;var s={};var ridx=data.indexOf("<dimension");if(ridx>0){var ref=data.substr(ridx,50).match(dimregex);if(ref!=null)parse_ws_xml_dim(s,ref[1])}var mergecells=[];if(data.indexOf("</mergeCells>")!==-1){var merges=data.match(mergecregex);for(ridx=0;ridx!=merges.length;++ridx)mergecells[ridx]=safe_decode_range(merges[ridx].substr(merges[ridx].indexOf('"')+1))}var columns=[];if(opts.cellStyles&&data.indexOf("</cols>")!==-1){var cols=data.match(colregex);parse_ws_xml_cols(columns,cols)}var refguess={s:{r:1e6,c:1e6},e:{r:0,c:0}};var mtch=data.match(sheetdataregex);if(mtch)parse_ws_xml_data(mtch[1],s,opts,refguess);if(data.indexOf("</hyperlinks>")!==-1)parse_ws_xml_hlinks(s,data.match(hlinkregex),rels);if(!s["!ref"]&&refguess.e.c>=refguess.s.c&&refguess.e.r>=refguess.s.r)s["!ref"]=encode_range(refguess);if(opts.sheetRows>0&&s["!ref"]){var tmpref=safe_decode_range(s["!ref"]);if(opts.sheetRows<+tmpref.e.r){tmpref.e.r=opts.sheetRows-1;if(tmpref.e.r>refguess.e.r)tmpref.e.r=refguess.e.r;if(tmpref.e.r<tmpref.s.r)tmpref.s.r=tmpref.e.r;if(tmpref.e.c>refguess.e.c)tmpref.e.c=refguess.e.c;if(tmpref.e.c<tmpref.s.c)tmpref.s.c=tmpref.e.c;s["!fullref"]=s["!ref"];s["!ref"]=encode_range(tmpref)}}if(mergecells.length>0)s["!merges"]=mergecells;if(columns.length>0)s["!cols"]=columns;return s}function write_ws_xml_merges(merges){if(merges.length==0)return"";var o='<mergeCells count="'+merges.length+'">';for(var i=0;i!=merges.length;++i)o+='<mergeCell ref="'+encode_range(merges[i])+'"/>';return o+"</mergeCells>"}function parse_ws_xml_hlinks(s,data,rels){for(var i=0;i!=data.length;++i){var val=parsexmltag(data[i],true);if(!val.ref)return;var rel=rels?rels["!id"][val.id]:null;if(rel){val.Target=rel.Target;if(val.location)val.Target+="#"+val.location;val.Rel=rel}else{val.Target=val.location;rel={Target:val.location,TargetMode:"Internal"};val.Rel=rel}var rng=safe_decode_range(val.ref);for(var R=rng.s.r;R<=rng.e.r;++R)for(var C=rng.s.c;C<=rng.e.c;++C){var addr=encode_cell({c:C,r:R});if(!s[addr])s[addr]={t:"stub",v:undefined};s[addr].l=val}}}function parse_ws_xml_cols(columns,cols){var seencol=false;for(var coli=0;coli!=cols.length;++coli){var coll=parsexmltag(cols[coli],true);var colm=parseInt(coll.min,10)-1,colM=parseInt(coll.max,10)-1;delete coll.min;delete coll.max;if(!seencol&&coll.width){seencol=true;find_mdw(+coll.width,coll)}if(coll.width){coll.wpx=width2px(+coll.width);coll.wch=px2char(coll.wpx);coll.MDW=MDW}while(colm<=colM)columns[colm++]=coll}}function write_ws_xml_cols(ws,cols){var o=["<cols>"],col,width;for(var i=0;i!=cols.length;++i){if(!(col=cols[i]))continue;var p={min:i+1,max:i+1};width=-1;if(col.wpx)width=px2char(col.wpx);else if(col.wch)width=col.wch;if(width>-1){p.width=char2width(width);p.customWidth=1}o[o.length]=writextag("col",null,p)}o[o.length]="</cols>";return o.join("")
}function write_ws_xml_cell(cell,ref,ws,opts,idx,wb){if(cell.v===undefined)return"";var vv="";var oldt=cell.t,oldv=cell.v;switch(cell.t){case"b":vv=cell.v?"1":"0";break;case"n":vv=""+cell.v;break;case"e":vv=BErr[cell.v];break;case"d":if(opts.cellDates)vv=new Date(cell.v).toISOString();else{cell.t="n";vv=""+(cell.v=datenum(cell.v));if(typeof cell.z==="undefined")cell.z=SSF._table[14]}break;default:vv=cell.v;break}var v=writetag("v",escapexml(vv)),o={r:ref};var os=get_cell_style(opts.cellXfs,cell,opts);if(os!==0)o.s=os;switch(cell.t){case"n":break;case"d":o.t="d";break;case"b":o.t="b";break;case"e":o.t="e";break;default:if(opts.bookSST){v=writetag("v",""+get_sst_id(opts.Strings,cell.v));o.t="s";break}o.t="str";break}if(cell.t!=oldt){cell.t=oldt;cell.v=oldv}return writextag("c",v,o)}var parse_ws_xml_data=function parse_ws_xml_data_factory(){var cellregex=/<(?:\w+:)?c[ >]/,rowregex=/<\/(?:\w+:)?row>/;var rregex=/r=["']([^"']*)["']/,isregex=/<is>([\S\s]*?)<\/is>/;var match_v=matchtag("v"),match_f=matchtag("f");return function parse_ws_xml_data(sdata,s,opts,guess){var ri=0,x="",cells=[],cref=[],idx=0,i=0,cc=0,d="",p;var tag,tagr=0,tagc=0;var sstr;var fmtid=0,fillid=0,do_format=Array.isArray(styles.CellXf),cf;for(var marr=sdata.split(rowregex),mt=0,marrlen=marr.length;mt!=marrlen;++mt){x=marr[mt].trim();var xlen=x.length;if(xlen===0)continue;for(ri=0;ri<xlen;++ri)if(x.charCodeAt(ri)===62)break;++ri;tag=parsexmltag(x.substr(0,ri),true);tagr=typeof tag.r!=="undefined"?parseInt(tag.r,10):tagr+1;tagc=-1;if(opts.sheetRows&&opts.sheetRows<tagr)continue;if(guess.s.r>tagr-1)guess.s.r=tagr-1;if(guess.e.r<tagr-1)guess.e.r=tagr-1;cells=x.substr(ri).split(cellregex);for(ri=typeof tag.r==="undefined"?0:1;ri!=cells.length;++ri){x=cells[ri].trim();if(x.length===0)continue;cref=x.match(rregex);idx=ri;i=0;cc=0;x="<c "+(x.substr(0,1)=="<"?">":"")+x;if(cref!==null&&cref.length===2){idx=0;d=cref[1];for(i=0;i!=d.length;++i){if((cc=d.charCodeAt(i)-64)<1||cc>26)break;idx=26*idx+cc}--idx;tagc=idx}else++tagc;for(i=0;i!=x.length;++i)if(x.charCodeAt(i)===62)break;++i;tag=parsexmltag(x.substr(0,i),true);if(!tag.r)tag.r=utils.encode_cell({r:tagr-1,c:tagc});d=x.substr(i);p={t:""};if((cref=d.match(match_v))!==null&&cref[1]!=="")p.v=unescapexml(cref[1]);if(opts.cellFormula&&(cref=d.match(match_f))!==null)p.f=unescapexml(cref[1]);if(tag.t===undefined&&p.v===undefined){if(!opts.sheetStubs)continue;p.t="stub"}else p.t=tag.t||"n";if(guess.s.c>idx)guess.s.c=idx;if(guess.e.c<idx)guess.e.c=idx;switch(p.t){case"n":p.v=parseFloat(p.v);break;case"s":sstr=strs[parseInt(p.v,10)];p.v=sstr.t;p.r=sstr.r;if(opts.cellHTML)p.h=sstr.h;break;case"str":p.t="s";p.v=p.v!=null?utf8read(p.v):"";if(opts.cellHTML)p.h=p.v;break;case"inlineStr":cref=d.match(isregex);p.t="s";if(cref!==null){sstr=parse_si(cref[1]);p.v=sstr.t}else p.v="";break;case"b":p.v=parsexmlbool(p.v);break;case"d":if(!opts.cellDates){p.v=datenum(p.v);p.t="n"}break;case"e":p.w=p.v;p.v=RBErr[p.v];break}fmtid=fillid=0;if(do_format&&tag.s!==undefined){cf=styles.CellXf[tag.s];if(cf!=null){if(cf.numFmtId!=null)fmtid=cf.numFmtId;if(opts.cellStyles&&cf.fillId!=null)fillid=cf.fillId}}safe_format(p,fmtid,fillid,opts);s[tag.r]=p}}}}();function write_ws_xml_data(ws,opts,idx,wb){var o=[],r=[],range=safe_decode_range(ws["!ref"]),cell,ref,rr="",cols=[],R,C;for(C=range.s.c;C<=range.e.c;++C)cols[C]=encode_col(C);for(R=range.s.r;R<=range.e.r;++R){r=[];rr=encode_row(R);for(C=range.s.c;C<=range.e.c;++C){ref=cols[C]+rr;if(ws[ref]===undefined)continue;if((cell=write_ws_xml_cell(ws[ref],ref,ws,opts,idx,wb))!=null)r.push(cell)}if(r.length>0)o[o.length]=writextag("row",r.join(""),{r:rr})}return o.join("")}var WS_XML_ROOT=writextag("worksheet",null,{xmlns:XMLNS.main[0],"xmlns:r":XMLNS.r});function write_ws_xml(idx,opts,wb){var o=[XML_HEADER,WS_XML_ROOT];var s=wb.SheetNames[idx],sidx=0,rdata="";var ws=wb.Sheets[s];if(ws===undefined)ws={};var ref=ws["!ref"];if(ref===undefined)ref="A1";o[o.length]=writextag("dimension",null,{ref:ref});if(ws["!cols"]!==undefined&&ws["!cols"].length>0)o[o.length]=write_ws_xml_cols(ws,ws["!cols"]);o[sidx=o.length]="<sheetData/>";if(ws["!ref"]!==undefined){rdata=write_ws_xml_data(ws,opts,idx,wb);if(rdata.length>0)o[o.length]=rdata}if(o.length>sidx+1){o[o.length]="</sheetData>";o[sidx]=o[sidx].replace("/>",">")}if(ws["!merges"]!==undefined&&ws["!merges"].length>0)o[o.length]=write_ws_xml_merges(ws["!merges"]);if(o.length>2){o[o.length]="</worksheet>";o[1]=o[1].replace("/>",">")}return o.join("")}function parse_BrtRowHdr(data,length){var z=[];z.r=data.read_shift(4);data.l+=length-4;return z}var parse_BrtWsDim=parse_UncheckedRfX;var write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsProp(data,length){var z={};data.l+=19;z.name=parse_XLSBCodeName(data,length-19);return z}function parse_BrtCellBlank(data,length){var cell=parse_XLSBCell(data);return[cell]}function write_BrtCellBlank(cell,val,o){if(o==null)o=new_buf(8);return write_XLSBCell(val,o)}function parse_BrtCellBool(data,length){var cell=parse_XLSBCell(data);var fBool=data.read_shift(1);return[cell,fBool,"b"]}function parse_BrtCellError(data,length){var cell=parse_XLSBCell(data);var fBool=data.read_shift(1);return[cell,fBool,"e"]}function parse_BrtCellIsst(data,length){var cell=parse_XLSBCell(data);var isst=data.read_shift(4);return[cell,isst,"s"]}function parse_BrtCellReal(data,length){var cell=parse_XLSBCell(data);var value=parse_Xnum(data);return[cell,value,"n"]}function parse_BrtCellRk(data,length){var cell=parse_XLSBCell(data);var value=parse_RkNumber(data);return[cell,value,"n"]}function parse_BrtCellSt(data,length){var cell=parse_XLSBCell(data);var value=parse_XLWideString(data);return[cell,value,"str"]}function parse_BrtFmlaBool(data,length,opts){var cell=parse_XLSBCell(data);var value=data.read_shift(1);var o=[cell,value,"b"];if(opts.cellFormula){var formula=parse_XLSBCellParsedFormula(data,length-9);o[3]=""}else data.l+=length-9;return o}function parse_BrtFmlaError(data,length,opts){var cell=parse_XLSBCell(data);var value=data.read_shift(1);var o=[cell,value,"e"];if(opts.cellFormula){var formula=parse_XLSBCellParsedFormula(data,length-9);o[3]=""}else data.l+=length-9;return o}function parse_BrtFmlaNum(data,length,opts){var cell=parse_XLSBCell(data);var value=parse_Xnum(data);var o=[cell,value,"n"];if(opts.cellFormula){var formula=parse_XLSBCellParsedFormula(data,length-16);o[3]=""}else data.l+=length-16;return o}function parse_BrtFmlaString(data,length,opts){var start=data.l;var cell=parse_XLSBCell(data);var value=parse_XLWideString(data);var o=[cell,value,"str"];if(opts.cellFormula){var formula=parse_XLSBCellParsedFormula(data,start+length-data.l)}else data.l=start+length;return o}var parse_BrtMergeCell=parse_UncheckedRfX;function parse_BrtHLink(data,length,opts){var end=data.l+length;var rfx=parse_UncheckedRfX(data,16);var relId=parse_XLNullableWideString(data);var loc=parse_XLWideString(data);var tooltip=parse_XLWideString(data);var display=parse_XLWideString(data);data.l=end;return{rfx:rfx,relId:relId,loc:loc,tooltip:tooltip,display:display}}function parse_ws_bin(data,opts,rels){if(!data)return data;if(!rels)rels={"!id":{}};var s={};var ref;var refguess={s:{r:1e6,c:1e6},e:{r:0,c:0}};var pass=false,end=false;var row,p,cf,R,C,addr,sstr,rr;var mergecells=[];recordhopper(data,function ws_parse(val,R){if(end)return;switch(R.n){case"BrtWsDim":ref=val;break;case"BrtRowHdr":row=val;if(opts.sheetRows&&opts.sheetRows<=row.r)end=true;rr=encode_row(row.r);break;case"BrtFmlaBool":case"BrtFmlaError":case"BrtFmlaNum":case"BrtFmlaString":case"BrtCellBool":case"BrtCellError":case"BrtCellIsst":case"BrtCellReal":case"BrtCellRk":case"BrtCellSt":p={t:val[2]};switch(val[2]){case"n":p.v=val[1];break;case"s":sstr=strs[val[1]];p.v=sstr.t;p.r=sstr.r;break;case"b":p.v=val[1]?true:false;break;case"e":p.v=val[1];p.w=BErr[p.v];break;case"str":p.t="s";p.v=utf8read(val[1]);break}if(opts.cellFormula&&val.length>3)p.f=val[3];if(cf=styles.CellXf[val[0].iStyleRef])safe_format(p,cf.ifmt,null,opts);s[encode_col(C=val[0].c)+rr]=p;if(refguess.s.r>row.r)refguess.s.r=row.r;if(refguess.s.c>C)refguess.s.c=C;if(refguess.e.r<row.r)refguess.e.r=row.r;if(refguess.e.c<C)refguess.e.c=C;break;case"BrtCellBlank":if(!opts.sheetStubs)break;p={t:"s",v:undefined};s[encode_col(C=val[0].c)+rr]=p;if(refguess.s.r>row.r)refguess.s.r=row.r;if(refguess.s.c>C)refguess.s.c=C;if(refguess.e.r<row.r)refguess.e.r=row.r;if(refguess.e.c<C)refguess.e.c=C;break;case"BrtBeginMergeCells":break;case"BrtEndMergeCells":break;case"BrtMergeCell":mergecells.push(val);break;case"BrtHLink":var rel=rels["!id"][val.relId];if(rel){val.Target=rel.Target;if(val.loc)val.Target+="#"+val.loc;val.Rel=rel}for(R=val.rfx.s.r;R<=val.rfx.e.r;++R)for(C=val.rfx.s.c;C<=val.rfx.e.c;++C){addr=encode_cell({c:C,r:R});if(!s[addr])s[addr]={t:"s",v:undefined};s[addr].l=val}break;case"BrtArrFmla":break;case"BrtShrFmla":break;case"BrtBeginSheet":break;case"BrtWsProp":break;case"BrtSheetCalcProp":break;case"BrtBeginWsViews":break;case"BrtBeginWsView":break;case"BrtPane":break;case"BrtSel":break;case"BrtEndWsView":break;case"BrtEndWsViews":break;case"BrtACBegin":break;case"BrtRwDescent":break;case"BrtACEnd":break;case"BrtWsFmtInfoEx14":break;case"BrtWsFmtInfo":break;case"BrtBeginColInfos":break;case"BrtColInfo":break;case"BrtEndColInfos":break;case"BrtBeginSheetData":break;case"BrtEndSheetData":break;case"BrtSheetProtection":break;case"BrtPrintOptions":break;case"BrtMargins":break;case"BrtPageSetup":break;case"BrtFRTBegin":pass=true;break;case"BrtFRTEnd":pass=false;break;case"BrtEndSheet":break;case"BrtDrawing":break;case"BrtLegacyDrawing":break;case"BrtLegacyDrawingHF":break;case"BrtPhoneticInfo":break;case"BrtBeginHeaderFooter":break;case"BrtEndHeaderFooter":break;case"BrtBrk":break;case"BrtBeginRwBrk":break;case"BrtEndRwBrk":break;case"BrtBeginColBrk":break;case"BrtEndColBrk":break;case"BrtBeginUserShViews":break;case"BrtBeginUserShView":break;case"BrtEndUserShView":break;case"BrtEndUserShViews":break;case"BrtBkHim":break;case"BrtBeginOleObjects":break;case"BrtOleObject":break;case"BrtEndOleObjects":break;case"BrtBeginListParts":break;case"BrtListPart":break;case"BrtEndListParts":break;case"BrtBeginSortState":break;case"BrtBeginSortCond":break;case"BrtEndSortCond":break;case"BrtEndSortState":break;case"BrtBeginConditionalFormatting":break;case"BrtEndConditionalFormatting":break;case"BrtBeginCFRule":break;case"BrtEndCFRule":break;case"BrtBeginDVals":break;case"BrtDVal":break;case"BrtEndDVals":break;case"BrtRangeProtection":break;case"BrtBeginDCon":break;case"BrtEndDCon":break;case"BrtBeginDRefs":break;case"BrtDRef":break;case"BrtEndDRefs":break;case"BrtBeginActiveXControls":break;case"BrtActiveX":break;case"BrtEndActiveXControls":break;case"BrtBeginAFilter":break;case"BrtEndAFilter":break;case"BrtBeginFilterColumn":break;case"BrtBeginFilters":break;case"BrtFilter":break;case"BrtEndFilters":break;case"BrtEndFilterColumn":break;case"BrtDynamicFilter":break;case"BrtTop10Filter":break;case"BrtBeginCustomFilters":break;case"BrtCustomFilter":break;case"BrtEndCustomFilters":break;case"BrtBeginSmartTags":break;case"BrtBeginCellSmartTags":break;case"BrtBeginCellSmartTag":break;case"BrtCellSmartTagProperty":break;case"BrtEndCellSmartTag":break;case"BrtEndCellSmartTags":break;case"BrtEndSmartTags":break;case"BrtBeginCellWatches":break;case"BrtCellWatch":break;case"BrtEndCellWatches":break;case"BrtTable":break;case"BrtBeginCellIgnoreECs":break;case"BrtCellIgnoreEC":break;case"BrtEndCellIgnoreECs":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+R.n)}},opts);if(!s["!ref"]&&(refguess.s.r<1e6||ref.e.r>0||ref.e.c>0||ref.s.r>0||ref.s.c>0))s["!ref"]=encode_range(ref);if(opts.sheetRows&&s["!ref"]){var tmpref=safe_decode_range(s["!ref"]);if(opts.sheetRows<+tmpref.e.r){tmpref.e.r=opts.sheetRows-1;if(tmpref.e.r>refguess.e.r)tmpref.e.r=refguess.e.r;if(tmpref.e.r<tmpref.s.r)tmpref.s.r=tmpref.e.r;if(tmpref.e.c>refguess.e.c)tmpref.e.c=refguess.e.c;if(tmpref.e.c<tmpref.s.c)tmpref.s.c=tmpref.e.c;s["!fullref"]=s["!ref"];s["!ref"]=encode_range(tmpref)}}if(mergecells.length>0)s["!merges"]=mergecells;return s}function write_ws_bin_cell(ba,cell,R,C,opts){if(cell.v===undefined)return"";var vv="";switch(cell.t){case"b":vv=cell.v?"1":"0";break;case"n":case"e":vv=""+cell.v;break;default:vv=cell.v;break}var o={r:R,c:C};o.s=get_cell_style(opts.cellXfs,cell,opts);switch(cell.t){case"s":case"str":if(opts.bookSST){vv=get_sst_id(opts.Strings,cell.v);o.t="s";break}o.t="str";break;case"n":break;case"b":o.t="b";break;case"e":o.t="e";break}write_record(ba,"BrtCellBlank",write_BrtCellBlank(cell,o))}function write_CELLTABLE(ba,ws,idx,opts,wb){var range=safe_decode_range(ws["!ref"]||"A1"),ref,rr="",cols=[];write_record(ba,"BrtBeginSheetData");for(var R=range.s.r;R<=range.e.r;++R){rr=encode_row(R);for(var C=range.s.c;C<=range.e.c;++C){if(R===range.s.r)cols[C]=encode_col(C);ref=cols[C]+rr;if(!ws[ref])continue;write_ws_bin_cell(ba,ws[ref],R,C,opts)}}write_record(ba,"BrtEndSheetData")}function write_ws_bin(idx,opts,wb){var ba=buf_array();var s=wb.SheetNames[idx],ws=wb.Sheets[s]||{};var r=safe_decode_range(ws["!ref"]||"A1");write_record(ba,"BrtBeginSheet");write_record(ba,"BrtWsDim",write_BrtWsDim(r));write_CELLTABLE(ba,ws,idx,opts,wb);write_record(ba,"BrtEndSheet");return ba.end()}var WBPropsDef=[["allowRefreshQuery","0"],["autoCompressPictures","1"],["backupFile","0"],["checkCompatibility","0"],["codeName",""],["date1904","0"],["dateCompatibility","1"],["filterPrivacy","0"],["hidePivotFieldList","0"],["promptedSolutions","0"],["publishItems","0"],["refreshAllConnections",false],["saveExternalLinkValues","1"],["showBorderUnselectedTables","1"],["showInkAnnotation","1"],["showObjects","all"],["showPivotChartFilter","0"]];var WBViewDef=[["activeTab","0"],["autoFilterDateGrouping","1"],["firstSheet","0"],["minimized","0"],["showHorizontalScroll","1"],["showSheetTabs","1"],["showVerticalScroll","1"],["tabRatio","600"],["visibility","visible"]];var SheetDef=[["state","visible"]];var CalcPrDef=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];var CustomWBViewDef=[["autoUpdate","false"],["changesSavedWin","false"],["includeHiddenRowCol","true"],["includePrintSettings","true"],["maximized","false"],["minimized","false"],["onlySync","false"],["personalView","false"],["showComments","commIndicator"],["showFormulaBar","true"],["showHorizontalScroll","true"],["showObjects","all"],["showSheetTabs","true"],["showStatusbar","true"],["showVerticalScroll","true"],["tabRatio","600"],["xWindow","0"],["yWindow","0"]];function push_defaults_array(target,defaults){for(var j=0;j!=target.length;++j){var w=target[j];for(var i=0;i!=defaults.length;++i){var z=defaults[i];if(w[z[0]]==null)w[z[0]]=z[1]}}}function push_defaults(target,defaults){for(var i=0;i!=defaults.length;++i){var z=defaults[i];if(target[z[0]]==null)target[z[0]]=z[1]}}function parse_wb_defaults(wb){push_defaults(wb.WBProps,WBPropsDef);push_defaults(wb.CalcPr,CalcPrDef);push_defaults_array(wb.WBView,WBViewDef);push_defaults_array(wb.Sheets,SheetDef);_ssfopts.date1904=parsexmlbool(wb.WBProps.date1904,"date1904")}var wbnsregex=/<\w+:workbook/;function parse_wb_xml(data,opts){var wb={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""};var pass=false,xmlns="xmlns";data.match(tagregex).forEach(function xml_wb(x){var y=parsexmltag(x);switch(strip_ns(y[0])){case"<?xml":break;case"<workbook":if(x.match(wbnsregex))xmlns="xmlns"+x.match(/<(\w+):/)[1];wb.xmlns=y[xmlns];break;case"</workbook>":break;case"<fileVersion":delete y[0];wb.AppVersion=y;break;case"<fileVersion/>":break;case"<fileSharing":case"<fileSharing/>":break;case"<workbookPr":delete y[0];wb.WBProps=y;break;case"<workbookPr/>":delete y[0];wb.WBProps=y;break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews>":case"</bookViews>":break;case"<workbookView":delete y[0];wb.WBView.push(y);break;case"<sheets>":case"</sheets>":break;case"<sheet":delete y[0];y.name=utf8read(y.name);wb.Sheets.push(y);break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":pass=true;break;case"</definedNames>":pass=false;break;case"<definedName":case"<definedName/>":case"</definedName>":break;case"<calcPr":delete y[0];wb.CalcPr=y;break;case"<calcPr/>":delete y[0];wb.CalcPr=y;break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":pass=true;break;case"</ext>":pass=false;break;case"<ArchID":break;case"<AlternateContent":pass=true;break;case"</AlternateContent>":pass=false;break;default:if(!pass&&opts.WTF)throw"unrecognized "+y[0]+" in workbook"}});if(XMLNS.main.indexOf(wb.xmlns)===-1)throw new Error("Unknown Namespace: "+wb.xmlns);parse_wb_defaults(wb);return wb}var WB_XML_ROOT=writextag("workbook",null,{xmlns:XMLNS.main[0],"xmlns:r":XMLNS.r});function safe1904(wb){try{return parsexmlbool(wb.Workbook.WBProps.date1904)?"true":"false"}catch(e){return"false"}}function write_wb_xml(wb,opts){var o=[XML_HEADER];o[o.length]=WB_XML_ROOT;o[o.length]=writextag("workbookPr",null,{date1904:safe1904(wb)});o[o.length]="<sheets>";for(var i=0;i!=wb.SheetNames.length;++i)o[o.length]=writextag("sheet",null,{name:wb.SheetNames[i].substr(0,31),sheetId:""+(i+1),"r:id":"rId"+(i+1)});o[o.length]="</sheets>";if(o.length>2){o[o.length]="</workbook>";o[1]=o[1].replace("/>",">")}return o.join("")}function parse_BrtBundleSh(data,length){var z={};z.hsState=data.read_shift(4);z.iTabID=data.read_shift(4);z.strRelID=parse_RelID(data,length-8);z.name=parse_XLWideString(data);return z}function write_BrtBundleSh(data,o){if(!o)o=new_buf(127);o.write_shift(4,data.hsState);o.write_shift(4,data.iTabID);write_RelID(data.strRelID,o);write_XLWideString(data.name.substr(0,31),o);return o}function parse_BrtWbProp(data,length){data.read_shift(4);var dwThemeVersion=data.read_shift(4);var strName=length>8?parse_XLWideString(data):"";return[dwThemeVersion,strName]}function write_BrtWbProp(data,o){if(!o)o=new_buf(8);o.write_shift(4,0);o.write_shift(4,0);return o}function parse_BrtFRTArchID$(data,length){var o={};data.read_shift(4);o.ArchID=data.read_shift(4);data.l+=length-8;return o}function parse_wb_bin(data,opts){var wb={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""};var pass=false,z;recordhopper(data,function hopper_wb(val,R){switch(R.n){case"BrtBundleSh":wb.Sheets.push(val);break;case"BrtBeginBook":break;case"BrtFileVersion":break;case"BrtWbProp":break;case"BrtACBegin":break;case"BrtAbsPath15":break;case"BrtACEnd":break;case"BrtWbFactoid":break;case"BrtBookProtection":break;case"BrtBeginBookViews":break;case"BrtBookView":break;case"BrtEndBookViews":break;case"BrtBeginBundleShs":break;case"BrtEndBundleShs":break;case"BrtBeginFnGroup":break;case"BrtEndFnGroup":break;case"BrtBeginExternals":break;case"BrtSupSelf":break;case"BrtSupBookSrc":break;case"BrtExternSheet":break;case"BrtEndExternals":break;case"BrtName":break;case"BrtCalcProp":break;case"BrtUserBookView":break;case"BrtBeginPivotCacheIDs":break;case"BrtBeginPivotCacheID":break;case"BrtEndPivotCacheID":break;case"BrtEndPivotCacheIDs":break;case"BrtWebOpt":break;case"BrtFileRecover":break;case"BrtFileSharing":break;case"BrtBeginSmartTagTypes":break;case"BrtSmartTagType":break;case"BrtEndSmartTagTypes":break;case"BrtFRTBegin":pass=true;break;case"BrtFRTArchID$":break;case"BrtWorkBookPr15":break;case"BrtFRTEnd":pass=false;break;case"BrtEndBook":break;default:if(!pass||opts.WTF)throw new Error("Unexpected record "+R.n)}});parse_wb_defaults(wb);return wb}function write_BUNDLESHS(ba,wb,opts){write_record(ba,"BrtBeginBundleShs");for(var idx=0;idx!=wb.SheetNames.length;++idx){var d={hsState:0,iTabID:idx+1,strRelID:"rId"+(idx+1),name:wb.SheetNames[idx]};write_record(ba,"BrtBundleSh",write_BrtBundleSh(d))}write_record(ba,"BrtEndBundleShs")}function write_BrtFileVersion(data,o){if(!o)o=new_buf(127);for(var i=0;i!=4;++i)o.write_shift(4,0);write_XLWideString("SheetJS",o);write_XLWideString(XLSX.version,o);write_XLWideString(XLSX.version,o);write_XLWideString("7262",o);o.length=o.l;return o}function write_BOOKVIEWS(ba,wb,opts){write_record(ba,"BrtBeginBookViews");write_record(ba,"BrtEndBookViews")}function write_BrtCalcProp(data,o){if(!o)o=new_buf(26);o.write_shift(4,0);o.write_shift(4,1);o.write_shift(4,0);write_Xnum(0,o);o.write_shift(-4,1023);o.write_shift(1,51);o.write_shift(1,0);return o}function write_BrtFileRecover(data,o){if(!o)o=new_buf(1);o.write_shift(1,0);return o}function write_wb_bin(wb,opts){var ba=buf_array();write_record(ba,"BrtBeginBook");write_record(ba,"BrtFileVersion",write_BrtFileVersion());write_record(ba,"BrtWbProp",write_BrtWbProp());write_BOOKVIEWS(ba,wb,opts);write_BUNDLESHS(ba,wb,opts);write_record(ba,"BrtCalcProp",write_BrtCalcProp());write_record(ba,"BrtFileRecover",write_BrtFileRecover());write_record(ba,"BrtEndBook");return ba.end()}function parse_wb(data,name,opts){return(name.substr(-4)===".bin"?parse_wb_bin:parse_wb_xml)(data,opts)}function parse_ws(data,name,opts,rels){return(name.substr(-4)===".bin"?parse_ws_bin:parse_ws_xml)(data,opts,rels)}function parse_sty(data,name,opts){return(name.substr(-4)===".bin"?parse_sty_bin:parse_sty_xml)(data,opts)}function parse_theme(data,name,opts){return parse_theme_xml(data,opts)}function parse_sst(data,name,opts){return(name.substr(-4)===".bin"?parse_sst_bin:parse_sst_xml)(data,opts)}function parse_cmnt(data,name,opts){return(name.substr(-4)===".bin"?parse_comments_bin:parse_comments_xml)(data,opts)}function parse_cc(data,name,opts){return(name.substr(-4)===".bin"?parse_cc_bin:parse_cc_xml)(data,opts)}function write_wb(wb,name,opts){return(name.substr(-4)===".bin"?write_wb_bin:write_wb_xml)(wb,opts)}function write_ws(data,name,opts,wb){return(name.substr(-4)===".bin"?write_ws_bin:write_ws_xml)(data,opts,wb)}function write_sty(data,name,opts){return(name.substr(-4)===".bin"?write_sty_bin:write_sty_xml)(data,opts)}function write_sst(data,name,opts){return(name.substr(-4)===".bin"?write_sst_bin:write_sst_xml)(data,opts)}var attregexg2=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g;var attregex2=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;var _chr=function(c){return String.fromCharCode(c)};function xlml_parsexmltag(tag,skip_root){var words=tag.split(/\s+/);var z=[];if(!skip_root)z[0]=words[0];if(words.length===1)return z;var m=tag.match(attregexg2),y,j,w,i;if(m)for(i=0;i!=m.length;++i){y=m[i].match(attregex2);if((j=y[1].indexOf(":"))===-1)z[y[1]]=y[2].substr(1,y[2].length-2);else{if(y[1].substr(0,6)==="xmlns:")w="xmlns"+y[1].substr(6);else w=y[1].substr(j+1);z[w]=y[2].substr(1,y[2].length-2)}}return z}function xlml_parsexmltagobj(tag){var words=tag.split(/\s+/);var z={};if(words.length===1)return z;var m=tag.match(attregexg2),y,j,w,i;if(m)for(i=0;i!=m.length;++i){y=m[i].match(attregex2);if((j=y[1].indexOf(":"))===-1)z[y[1]]=y[2].substr(1,y[2].length-2);else{if(y[1].substr(0,6)==="xmlns:")w="xmlns"+y[1].substr(6);else w=y[1].substr(j+1);z[w]=y[2].substr(1,y[2].length-2)}}return z}function xlml_format(format,value){var fmt=XLMLFormatMap[format]||unescapexml(format);if(fmt==="General")return SSF._general(value);return SSF.format(fmt,value)}function xlml_set_custprop(Custprops,Rn,cp,val){switch((cp[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":val=parsexmlbool(val);break;case"i2":case"int":val=parseInt(val,10);break;case"r4":case"float":val=parseFloat(val);break;case"date":case"dateTime.tz":val=new Date(val);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw"bad custprop:"+cp[0]}Custprops[unescapexml(Rn[3])]=val}function safe_format_xlml(cell,nf,o){try{if(cell.t==="e"){cell.w=cell.w||BErr[cell.v]}else if(nf==="General"){if(cell.t==="n"){if((cell.v|0)===cell.v)cell.w=SSF._general_int(cell.v);else cell.w=SSF._general_num(cell.v)}else cell.w=SSF._general(cell.v)}else cell.w=xlml_format(nf||"General",cell.v);if(o.cellNF)cell.z=XLMLFormatMap[nf]||nf||"General"}catch(e){if(o.WTF)throw e}}function process_style_xlml(styles,stag,opts){if(opts.cellStyles){if(stag.Interior){var I=stag.Interior;if(I.Pattern)I.patternType=XLMLPatternTypeMap[I.Pattern]||I.Pattern}}styles[stag.ID]=stag}function parse_xlml_data(xml,ss,data,cell,base,styles,csty,row,o){var nf="General",sid=cell.StyleID,S={};o=o||{};var interiors=[];if(sid===undefined&&row)sid=row.StyleID;if(sid===undefined&&csty)sid=csty.StyleID;while(styles[sid]!==undefined){if(styles[sid].nf)nf=styles[sid].nf;if(styles[sid].Interior)interiors.push(styles[sid].Interior);if(!styles[sid].Parent)break;sid=styles[sid].Parent}switch(data.Type){case"Boolean":cell.t="b";cell.v=parsexmlbool(xml);break;case"String":cell.t="s";cell.r=xlml_fixstr(unescapexml(xml));cell.v=xml.indexOf("<")>-1?ss:cell.r;break;case"DateTime":cell.v=(Date.parse(xml)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3);if(cell.v!==cell.v)cell.v=unescapexml(xml);else if(cell.v>=1&&cell.v<60)cell.v=cell.v-1;if(!nf||nf=="General")nf="yyyy-mm-dd";case"Number":if(cell.v===undefined)cell.v=+xml;if(!cell.t)cell.t="n";break;case"Error":cell.t="e";cell.v=RBErr[xml];cell.w=xml;break;default:cell.t="s";cell.v=xlml_fixstr(ss);break}safe_format_xlml(cell,nf,o);if(o.cellFormula!=null&&cell.Formula){cell.f=rc_to_a1(unescapexml(cell.Formula),base);cell.Formula=undefined}if(o.cellStyles){interiors.forEach(function(x){if(!S.patternType&&x.patternType)S.patternType=x.patternType});cell.s=S}cell.ixfe=cell.StyleID!==undefined?cell.StyleID:"Default"}function xlml_clean_comment(comment){comment.t=comment.v;comment.v=comment.w=comment.ixfe=undefined}function xlml_normalize(d){if(has_buf&&Buffer.isBuffer(d))return d.toString("utf8");if(typeof d==="string")return d;throw"badf"}var xlmlregex=/<(\/?)([a-z0-9]*:|)(\w+)[^>]*>/gm;function parse_xlml_xml(d,opts){var str=xlml_normalize(d);var Rn;var state=[],tmp;var sheets={},sheetnames=[],cursheet={},sheetname="";var table={},cell={},row={},dtag,didx;var c=0,r=0;var refguess={s:{r:1e6,c:1e6},e:{r:0,c:0}};var styles={},stag={};var ss="",fidx=0;var mergecells=[];var Props={},Custprops={},pidx=0,cp={};var comments=[],comment={};var cstys=[],csty;xlmlregex.lastIndex=0;while(Rn=xlmlregex.exec(str))switch(Rn[3]){case"Data":if(state[state.length-1][1])break;if(Rn[1]==="/")parse_xlml_data(str.slice(didx,Rn.index),ss,dtag,state[state.length-1][0]=="Comment"?comment:cell,{c:c,r:r},styles,cstys[c],row,opts);else{ss="";dtag=xlml_parsexmltag(Rn[0]);didx=Rn.index+Rn[0].length}break;case"Cell":if(Rn[1]==="/"){if(comments.length>0)cell.c=comments;if((!opts.sheetRows||opts.sheetRows>r)&&cell.v!==undefined)cursheet[encode_col(c)+encode_row(r)]=cell;if(cell.HRef){cell.l={Target:cell.HRef,tooltip:cell.HRefScreenTip};cell.HRef=cell.HRefScreenTip=undefined}if(cell.MergeAcross||cell.MergeDown){var cc=c+(parseInt(cell.MergeAcross,10)|0);var rr=r+(parseInt(cell.MergeDown,10)|0);mergecells.push({s:{c:c,r:r},e:{c:cc,r:rr}})}++c;if(cell.MergeAcross)c+=+cell.MergeAcross}else{cell=xlml_parsexmltagobj(Rn[0]);if(cell.Index)c=+cell.Index-1;if(c<refguess.s.c)refguess.s.c=c;if(c>refguess.e.c)refguess.e.c=c;if(Rn[0].substr(-2)==="/>")++c;comments=[]}break;case"Row":if(Rn[1]==="/"||Rn[0].substr(-2)==="/>"){if(r<refguess.s.r)refguess.s.r=r;if(r>refguess.e.r)refguess.e.r=r;if(Rn[0].substr(-2)==="/>"){row=xlml_parsexmltag(Rn[0]);if(row.Index)r=+row.Index-1}c=0;++r}else{row=xlml_parsexmltag(Rn[0]);if(row.Index)r=+row.Index-1}break;case"Worksheet":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp;sheetnames.push(sheetname);if(refguess.s.r<=refguess.e.r&&refguess.s.c<=refguess.e.c)cursheet["!ref"]=encode_range(refguess);if(mergecells.length)cursheet["!merges"]=mergecells;sheets[sheetname]=cursheet}else{refguess={s:{r:1e6,c:1e6},e:{r:0,c:0}};r=c=0;state.push([Rn[3],false]);tmp=xlml_parsexmltag(Rn[0]);sheetname=tmp.Name;cursheet={};mergecells=[]}break;case"Table":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp}else if(Rn[0].slice(-2)=="/>")break;else{table=xlml_parsexmltag(Rn[0]);state.push([Rn[3],false]);cstys=[]}break;case"Style":if(Rn[1]==="/")process_style_xlml(styles,stag,opts);else stag=xlml_parsexmltag(Rn[0]);break;case"NumberFormat":stag.nf=xlml_parsexmltag(Rn[0]).Format||"General";break;case"Column":if(state[state.length-1][0]!=="Table")break;csty=xlml_parsexmltag(Rn[0]);cstys[csty.Index-1||cstys.length]=csty;for(var i=0;i<+csty.Span;++i)cstys[cstys.length]=csty;break;case"NamedRange":break;case"NamedCell":break;case"B":break;case"I":break;case"U":break;case"S":break;case"Sub":break;case"Sup":break;case"Span":break;case"Border":break;case"Alignment":break;case"Borders":break;case"Font":if(Rn[0].substr(-2)==="/>")break;else if(Rn[1]==="/")ss+=str.slice(fidx,Rn.index);else fidx=Rn.index+Rn[0].length;break;case"Interior":if(!opts.cellStyles)break;stag.Interior=xlml_parsexmltag(Rn[0]);break;case"Protection":break;case"Author":case"Title":case"Description":case"Created":case"Keywords":case"Subject":case"Category":case"Company":case"LastAuthor":case"LastSaved":case"LastPrinted":case"Version":case"Revision":case"TotalTime":case"HyperlinkBase":case"Manager":if(Rn[0].substr(-2)==="/>")break;else if(Rn[1]==="/")xlml_set_prop(Props,Rn[3],str.slice(pidx,Rn.index));else pidx=Rn.index+Rn[0].length;break;case"Paragraphs":break;case"Styles":case"Workbook":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp}else state.push([Rn[3],false]);break;case"Comment":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp;xlml_clean_comment(comment);comments.push(comment)}else{state.push([Rn[3],false]);tmp=xlml_parsexmltag(Rn[0]);comment={a:tmp.Author}}break;case"Name":break;case"ComponentOptions":case"DocumentProperties":case"CustomDocumentProperties":case"OfficeDocumentSettings":case"PivotTable":case"PivotCache":case"Names":case"MapInfo":case"PageBreaks":case"QueryTable":case"DataValidation":case"AutoFilter":case"Sorting":case"Schema":case"data":case"ConditionalFormatting":case"SmartTagType":case"SmartTags":case"ExcelWorkbook":case"WorkbookOptions":case"WorksheetOptions":if(Rn[1]==="/"){if((tmp=state.pop())[0]!==Rn[3])throw"Bad state: "+tmp}else if(Rn[0].charAt(Rn[0].length-2)!=="/")state.push([Rn[3],true]);break;default:var seen=true;switch(state[state.length-1][0]){case"OfficeDocumentSettings":switch(Rn[3]){case"AllowPNG":break;case"RemovePersonalInformation":break;case"DownloadComponents":break;case"LocationOfComponents":break;case"Colors":break;case"Color":break;case"Index":break;case"RGB":break;case"PixelsPerInch":break;case"TargetScreenSize":break;case"ReadOnlyRecommended":break;default:seen=false}break;case"ComponentOptions":switch(Rn[3]){case"Toolbar":break;case"HideOfficeLogo":break;case"SpreadsheetAutoFit":break;case"Label":break;case"Caption":break;case"MaxHeight":break;case"MaxWidth":break;case"NextSheetNumber":break;default:seen=false}break;case"ExcelWorkbook":switch(Rn[3]){case"WindowHeight":break;case"WindowWidth":break;case"WindowTopX":break;case"WindowTopY":break;case"TabRatio":break;case"ProtectStructure":break;case"ProtectWindows":break;case"ActiveSheet":break;case"DisplayInkNotes":break;case"FirstVisibleSheet":break;case"SupBook":break;case"SheetName":break;
case"SheetIndex":break;case"SheetIndexFirst":break;case"SheetIndexLast":break;case"Dll":break;case"AcceptLabelsInFormulas":break;case"DoNotSaveLinkValues":break;case"Date1904":break;case"Iteration":break;case"MaxIterations":break;case"MaxChange":break;case"Path":break;case"Xct":break;case"Count":break;case"SelectedSheets":break;case"Calculation":break;case"Uncalced":break;case"StartupPrompt":break;case"Crn":break;case"ExternName":break;case"Formula":break;case"ColFirst":break;case"ColLast":break;case"WantAdvise":break;case"Boolean":break;case"Error":break;case"Text":break;case"OLE":break;case"NoAutoRecover":break;case"PublishObjects":break;case"DoNotCalculateBeforeSave":break;case"Number":break;case"RefModeR1C1":break;case"EmbedSaveSmartTags":break;default:seen=false}break;case"WorkbookOptions":switch(Rn[3]){case"OWCVersion":break;case"Height":break;case"Width":break;default:seen=false}break;case"WorksheetOptions":switch(Rn[3]){case"Unsynced":break;case"Visible":break;case"Print":break;case"Panes":break;case"Scale":break;case"Pane":break;case"Number":break;case"Layout":break;case"Header":break;case"Footer":break;case"PageSetup":break;case"PageMargins":break;case"Selected":break;case"ProtectObjects":break;case"EnableSelection":break;case"ProtectScenarios":break;case"ValidPrinterInfo":break;case"HorizontalResolution":break;case"VerticalResolution":break;case"NumberofCopies":break;case"ActiveRow":break;case"ActiveCol":break;case"ActivePane":break;case"TopRowVisible":break;case"TopRowBottomPane":break;case"LeftColumnVisible":break;case"LeftColumnRightPane":break;case"FitToPage":break;case"RangeSelection":break;case"PaperSizeIndex":break;case"PageLayoutZoom":break;case"PageBreakZoom":break;case"FilterOn":break;case"DoNotDisplayGridlines":break;case"SplitHorizontal":break;case"SplitVertical":break;case"FreezePanes":break;case"FrozenNoSplit":break;case"FitWidth":break;case"FitHeight":break;case"CommentsLayout":break;case"Zoom":break;case"LeftToRight":break;case"Gridlines":break;case"AllowSort":break;case"AllowFilter":break;case"AllowInsertRows":break;case"AllowDeleteRows":break;case"AllowInsertCols":break;case"AllowDeleteCols":break;case"AllowInsertHyperlinks":break;case"AllowFormatCells":break;case"AllowSizeCols":break;case"AllowSizeRows":break;case"NoSummaryRowsBelowDetail":break;case"TabColorIndex":break;case"DoNotDisplayHeadings":break;case"ShowPageLayoutZoom":break;case"NoSummaryColumnsRightDetail":break;case"BlackAndWhite":break;case"DoNotDisplayZeros":break;case"DisplayPageBreak":break;case"RowColHeadings":break;case"DoNotDisplayOutline":break;case"NoOrientation":break;case"AllowUsePivotTables":break;case"ZeroHeight":break;case"ViewableRange":break;case"Selection":break;case"ProtectContents":break;default:seen=false}break;case"PivotTable":case"PivotCache":switch(Rn[3]){case"ImmediateItemsOnDrop":break;case"ShowPageMultipleItemLabel":break;case"CompactRowIndent":break;case"Location":break;case"PivotField":break;case"Orientation":break;case"LayoutForm":break;case"LayoutSubtotalLocation":break;case"LayoutCompactRow":break;case"Position":break;case"PivotItem":break;case"DataType":break;case"DataField":break;case"SourceName":break;case"ParentField":break;case"PTLineItems":break;case"PTLineItem":break;case"CountOfSameItems":break;case"Item":break;case"ItemType":break;case"PTSource":break;case"CacheIndex":break;case"ConsolidationReference":break;case"FileName":break;case"Reference":break;case"NoColumnGrand":break;case"NoRowGrand":break;case"BlankLineAfterItems":break;case"Hidden":break;case"Subtotal":break;case"BaseField":break;case"MapChildItems":break;case"Function":break;case"RefreshOnFileOpen":break;case"PrintSetTitles":break;case"MergeLabels":break;case"DefaultVersion":break;case"RefreshName":break;case"RefreshDate":break;case"RefreshDateCopy":break;case"VersionLastRefresh":break;case"VersionLastUpdate":break;case"VersionUpdateableMin":break;case"VersionRefreshableMin":break;case"Calculation":break;default:seen=false}break;case"PageBreaks":switch(Rn[3]){case"ColBreaks":break;case"ColBreak":break;case"RowBreaks":break;case"RowBreak":break;case"ColStart":break;case"ColEnd":break;case"RowEnd":break;default:seen=false}break;case"AutoFilter":switch(Rn[3]){case"AutoFilterColumn":break;case"AutoFilterCondition":break;case"AutoFilterAnd":break;case"AutoFilterOr":break;default:seen=false}break;case"QueryTable":switch(Rn[3]){case"Id":break;case"AutoFormatFont":break;case"AutoFormatPattern":break;case"QuerySource":break;case"QueryType":break;case"EnableRedirections":break;case"RefreshedInXl9":break;case"URLString":break;case"HTMLTables":break;case"Connection":break;case"CommandText":break;case"RefreshInfo":break;case"NoTitles":break;case"NextId":break;case"ColumnInfo":break;case"OverwriteCells":break;case"DoNotPromptForFile":break;case"TextWizardSettings":break;case"Source":break;case"Number":break;case"Decimal":break;case"ThousandSeparator":break;case"TrailingMinusNumbers":break;case"FormatSettings":break;case"FieldType":break;case"Delimiters":break;case"Tab":break;case"Comma":break;case"AutoFormatName":break;case"VersionLastEdit":break;case"VersionLastRefresh":break;default:seen=false}break;case"Sorting":case"ConditionalFormatting":case"DataValidation":switch(Rn[3]){case"Range":break;case"Type":break;case"Min":break;case"Max":break;case"Sort":break;case"Descending":break;case"Order":break;case"CaseSensitive":break;case"Value":break;case"ErrorStyle":break;case"ErrorMessage":break;case"ErrorTitle":break;case"CellRangeList":break;case"InputMessage":break;case"InputTitle":break;case"ComboHide":break;case"InputHide":break;case"Condition":break;case"Qualifier":break;case"UseBlank":break;case"Value1":break;case"Value2":break;case"Format":break;default:seen=false}break;case"MapInfo":case"Schema":case"data":switch(Rn[3]){case"Map":break;case"Entry":break;case"Range":break;case"XPath":break;case"Field":break;case"XSDType":break;case"FilterOn":break;case"Aggregate":break;case"ElementType":break;case"AttributeType":break;case"schema":case"element":case"complexType":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:seen=false}break;case"SmartTags":break;default:seen=false;break}if(seen)break;if(!state[state.length-1][1])throw"Unrecognized tag: "+Rn[3]+"|"+state.join("|");if(state[state.length-1][0]==="CustomDocumentProperties"){if(Rn[0].substr(-2)==="/>")break;else if(Rn[1]==="/")xlml_set_custprop(Custprops,Rn,cp,str.slice(pidx,Rn.index));else{cp=Rn;pidx=Rn.index+Rn[0].length}break}if(opts.WTF)throw"Unrecognized tag: "+Rn[3]+"|"+state.join("|")}var out={};if(!opts.bookSheets&&!opts.bookProps)out.Sheets=sheets;out.SheetNames=sheetnames;out.SSF=SSF.get_table();out.Props=Props;out.Custprops=Custprops;return out}function parse_xlml(data,opts){fix_read_opts(opts=opts||{});switch(opts.type||"base64"){case"base64":return parse_xlml_xml(Base64.decode(data),opts);case"binary":case"buffer":case"file":return parse_xlml_xml(data,opts);case"array":return parse_xlml_xml(data.map(_chr).join(""),opts)}}function write_xlml(wb,opts){}function parse_compobj(obj){var v={};var o=obj.content;var l=28,m;m=__lpstr(o,l);l+=4+__readUInt32LE(o,l);v.UserType=m;m=__readUInt32LE(o,l);l+=4;switch(m){case 0:break;case 4294967295:case 4294967294:l+=4;break;default:if(m>400)throw new Error("Unsupported Clipboard: "+m.toString(16));l+=m}m=__lpstr(o,l);l+=m.length===0?0:5+m.length;v.Reserved1=m;if((m=__readUInt32LE(o,l))!==1907550708)return v;throw"Unsupported Unicode Extension"}function slurp(R,blob,length,opts){var l=length;var bufs=[];var d=blob.slice(blob.l,blob.l+l);if(opts&&opts.enc&&opts.enc.insitu_decrypt)switch(R.n){case"BOF":case"FilePass":case"FileLock":case"InterfaceHdr":case"RRDInfo":case"RRDHead":case"UsrExcl":break;default:if(d.length===0)break;opts.enc.insitu_decrypt(d)}bufs.push(d);blob.l+=l;var next=XLSRecordEnum[__readUInt16LE(blob,blob.l)];while(next!=null&&next.n==="Continue"){l=__readUInt16LE(blob,blob.l+2);bufs.push(blob.slice(blob.l+4,blob.l+4+l));blob.l+=4+l;next=XLSRecordEnum[__readUInt16LE(blob,blob.l)]}var b=bconcat(bufs);prep_blob(b,0);var ll=0;b.lens=[];for(var j=0;j<bufs.length;++j){b.lens.push(ll);ll+=bufs[j].length}return R.f(b,b.length,opts)}function safe_format_xf(p,opts,date1904){if(!p.XF)return;try{var fmtid=p.XF.ifmt||0;if(p.t==="e"){p.w=p.w||BErr[p.v]}else if(fmtid===0){if(p.t==="n"){if((p.v|0)===p.v)p.w=SSF._general_int(p.v);else p.w=SSF._general_num(p.v)}else p.w=SSF._general(p.v)}else p.w=SSF.format(fmtid,p.v,{date1904:date1904||false});if(opts.cellNF)p.z=SSF._table[fmtid]}catch(e){if(opts.WTF)throw e}}function make_cell(val,ixfe,t){return{v:val,ixfe:ixfe,t:t}}function parse_workbook(blob,options){var wb={opts:{}};var Sheets={};var out={};var Directory={};var found_sheet=false;var range={};var last_formula=null;var sst=[];var cur_sheet="";var Preamble={};var lastcell,last_cell,cc,cmnt,rng,rngC,rngR;var shared_formulae={};var array_formulae=[];var temp_val;var country;var cell_valid=true;var XFs=[];var palette=[];var get_rgb=function getrgb(icv){if(icv<8)return XLSIcv[icv];if(icv<64)return palette[icv-8]||XLSIcv[icv];return XLSIcv[icv]};var process_cell_style=function pcs(cell,line){var xfd=line.XF.data;if(!xfd||!xfd.patternType)return;line.s={};line.s.patternType=xfd.patternType;var t;if(t=rgb2Hex(get_rgb(xfd.icvFore))){line.s.fgColor={rgb:t}}if(t=rgb2Hex(get_rgb(xfd.icvBack))){line.s.bgColor={rgb:t}}};var addcell=function addcell(cell,line,options){if(!cell_valid)return;if(options.cellStyles&&line.XF&&line.XF.data)process_cell_style(cell,line);lastcell=cell;last_cell=encode_cell(cell);if(range.s){if(cell.r<range.s.r)range.s.r=cell.r;if(cell.c<range.s.c)range.s.c=cell.c}if(range.e){if(cell.r+1>range.e.r)range.e.r=cell.r+1;if(cell.c+1>range.e.c)range.e.c=cell.c+1}if(options.sheetRows&&lastcell.r>=options.sheetRows)cell_valid=false;else out[last_cell]=line};var opts={enc:false,sbcch:0,snames:[],sharedf:shared_formulae,arrayf:array_formulae,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,wtf:false};if(options.password)opts.password=options.password;var mergecells=[];var objects=[];var supbooks=[[]];var sbc=0,sbci=0,sbcli=0;supbooks.SheetNames=opts.snames;supbooks.sharedf=opts.sharedf;supbooks.arrayf=opts.arrayf;var last_Rn="";var file_depth=0;opts.codepage=1200;set_cp(1200);while(blob.l<blob.length-1){var s=blob.l;var RecordType=blob.read_shift(2);if(RecordType===0&&last_Rn==="EOF")break;var length=blob.l===blob.length?0:blob.read_shift(2),y;var R=XLSRecordEnum[RecordType];if(R&&R.f){if(options.bookSheets){if(last_Rn==="BoundSheet8"&&R.n!=="BoundSheet8")break}last_Rn=R.n;if(R.r===2||R.r==12){var rt=blob.read_shift(2);length-=2;if(!opts.enc&&rt!==RecordType)throw"rt mismatch";if(R.r==12){blob.l+=10;length-=10}}var val;if(R.n==="EOF")val=R.f(blob,length,opts);else val=slurp(R,blob,length,opts);var Rn=R.n;if(opts.biff===5||opts.biff===2)switch(Rn){case"Lbl":Rn="Label";break}switch(Rn){case"Date1904":wb.opts.Date1904=val;break;case"WriteProtect":wb.opts.WriteProtect=true;break;case"FilePass":if(!opts.enc)blob.l=0;opts.enc=val;if(opts.WTF)console.error(val);if(!options.password)throw new Error("File is password-protected");if(val.Type!==0)throw new Error("Encryption scheme unsupported");if(!val.valid)throw new Error("Password is incorrect");break;case"WriteAccess":opts.lastuser=val;break;case"FileSharing":break;case"CodePage":if(val===21010)val=1200;else if(val===32769)val=1252;opts.codepage=val;set_cp(val);break;case"RRTabId":opts.rrtabid=val;break;case"WinProtect":opts.winlocked=val;break;case"Template":break;case"RefreshAll":wb.opts.RefreshAll=val;break;case"BookBool":break;case"UsesELFs":break;case"MTRSettings":{if(val[0]&&val[1])throw"Unsupported threads: "+val}break;case"CalcCount":wb.opts.CalcCount=val;break;case"CalcDelta":wb.opts.CalcDelta=val;break;case"CalcIter":wb.opts.CalcIter=val;break;case"CalcMode":wb.opts.CalcMode=val;break;case"CalcPrecision":wb.opts.CalcPrecision=val;break;case"CalcSaveRecalc":wb.opts.CalcSaveRecalc=val;break;case"CalcRefMode":opts.CalcRefMode=val;break;case"Uncalced":break;case"ForceFullCalculation":wb.opts.FullCalc=val;break;case"WsBool":break;case"XF":XFs.push(val);break;case"ExtSST":break;case"BookExt":break;case"RichTextStream":break;case"BkHim":break;case"SupBook":supbooks[++sbc]=[val];sbci=0;break;case"ExternName":supbooks[sbc][++sbci]=val;break;case"Index":break;case"Lbl":supbooks[0][++sbcli]=val;break;case"ExternSheet":supbooks[sbc]=supbooks[sbc].concat(val);sbci+=val.length;break;case"Protect":out["!protect"]=val;break;case"Password":if(val!==0&&opts.WTF)console.error("Password verifier: "+val);break;case"Prot4Rev":case"Prot4RevPass":break;case"BoundSheet8":{Directory[val.pos]=val;opts.snames.push(val.name)}break;case"EOF":{if(--file_depth)break;if(range.e){out["!range"]=range;if(range.e.r>0&&range.e.c>0){range.e.r--;range.e.c--;out["!ref"]=encode_range(range);range.e.r++;range.e.c++}if(mergecells.length>0)out["!merges"]=mergecells;if(objects.length>0)out["!objects"]=objects}if(cur_sheet==="")Preamble=out;else Sheets[cur_sheet]=out;out={}}break;case"BOF":{if(opts.biff!==8);else if(val.BIFFVer===1280)opts.biff=5;else if(val.BIFFVer===2)opts.biff=2;else if(val.BIFFVer===7)opts.biff=2;if(file_depth++)break;cell_valid=true;out={};if(opts.biff===2){if(cur_sheet==="")cur_sheet="Sheet1";range={s:{r:0,c:0},e:{r:0,c:0}}}else cur_sheet=(Directory[s]||{name:""}).name;mergecells=[];objects=[]}break;case"Number":case"BIFF2NUM":{temp_val={ixfe:val.ixfe,XF:XFs[val.ixfe],v:val.val,t:"n"};if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options)}break;case"BoolErr":{temp_val={ixfe:val.ixfe,XF:XFs[val.ixfe],v:val.val,t:val.t};if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options)}break;case"RK":{temp_val={ixfe:val.ixfe,XF:XFs[val.ixfe],v:val.rknum,t:"n"};if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options)}break;case"MulRk":{for(var j=val.c;j<=val.C;++j){var ixfe=val.rkrec[j-val.c][0];temp_val={ixfe:ixfe,XF:XFs[ixfe],v:val.rkrec[j-val.c][1],t:"n"};if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:j,r:val.r},temp_val,options)}}break;case"Formula":{switch(val.val){case"String":last_formula=val;break;case"Array Formula":throw"Array Formula unsupported";default:temp_val={v:val.val,ixfe:val.cell.ixfe,t:val.tt};temp_val.XF=XFs[temp_val.ixfe];if(options.cellFormula)temp_val.f="="+stringify_formula(val.formula,range,val.cell,supbooks,opts);if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell(val.cell,temp_val,options);last_formula=val}}break;case"String":{if(last_formula){last_formula.val=val;temp_val={v:last_formula.val,ixfe:last_formula.cell.ixfe,t:"s"};temp_val.XF=XFs[temp_val.ixfe];if(options.cellFormula)temp_val.f="="+stringify_formula(last_formula.formula,range,last_formula.cell,supbooks,opts);if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell(last_formula.cell,temp_val,options);last_formula=null}}break;case"Array":{array_formulae.push(val)}break;case"ShrFmla":{if(!cell_valid)break;shared_formulae[encode_cell(last_formula.cell)]=val[0]}break;case"LabelSst":temp_val=make_cell(sst[val.isst].t,val.ixfe,"s");temp_val.XF=XFs[temp_val.ixfe];if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options);break;case"Label":case"BIFF2STR":temp_val=make_cell(val.val,val.ixfe,"s");temp_val.XF=XFs[temp_val.ixfe];if(temp_val.XF)safe_format_xf(temp_val,options,wb.opts.Date1904);addcell({c:val.c,r:val.r},temp_val,options);break;case"Dimensions":{if(file_depth===1)range=val}break;case"SST":{sst=val}break;case"Format":{SSF.load(val[1],val[0])}break;case"MergeCells":mergecells=mergecells.concat(val);break;case"Obj":objects[val.cmo[0]]=opts.lastobj=val;break;case"TxO":opts.lastobj.TxO=val;break;case"HLink":{for(rngR=val[0].s.r;rngR<=val[0].e.r;++rngR)for(rngC=val[0].s.c;rngC<=val[0].e.c;++rngC)if(out[encode_cell({c:rngC,r:rngR})])out[encode_cell({c:rngC,r:rngR})].l=val[1]}break;case"HLinkTooltip":{for(rngR=val[0].s.r;rngR<=val[0].e.r;++rngR)for(rngC=val[0].s.c;rngC<=val[0].e.c;++rngC)if(out[encode_cell({c:rngC,r:rngR})])out[encode_cell({c:rngC,r:rngR})].l.tooltip=val[1]}break;case"Note":{if(opts.biff<=5&&opts.biff>=2)break;cc=out[encode_cell(val[0])];var noteobj=objects[val[2]];if(!cc)break;if(!cc.c)cc.c=[];cmnt={a:val[1],t:noteobj.TxO.t};cc.c.push(cmnt)}break;default:switch(R.n){case"ClrtClient":break;case"XFExt":update_xfext(XFs[val.ixfe],val.ext);break;case"NameCmt":break;case"Header":break;case"Footer":break;case"HCenter":break;case"VCenter":break;case"Pls":break;case"Setup":break;case"DefColWidth":break;case"GCW":break;case"LHRecord":break;case"ColInfo":break;case"Row":break;case"DBCell":break;case"MulBlank":break;case"EntExU2":break;case"SxView":break;case"Sxvd":break;case"SXVI":break;case"SXVDEx":break;case"SxIvd":break;case"SXDI":break;case"SXLI":break;case"SXEx":break;case"QsiSXTag":break;case"Selection":break;case"Feat":break;case"FeatHdr":case"FeatHdr11":break;case"Feature11":case"Feature12":case"List12":break;case"Blank":break;case"Country":country=val;break;case"RecalcId":break;case"DefaultRowHeight":case"DxGCol":break;case"Fbi":case"Fbi2":case"GelFrame":break;case"Font":break;case"XFCRC":break;case"Style":break;case"StyleExt":break;case"Palette":palette=val;break;case"Theme":break;case"ScenarioProtect":break;case"ObjProtect":break;case"CondFmt12":break;case"Table":break;case"TableStyles":break;case"TableStyle":break;case"TableStyleElement":break;case"SXStreamID":break;case"SXVS":break;case"DConRef":break;case"SXAddl":break;case"DConBin":break;case"DConName":break;case"SXPI":break;case"SxFormat":break;case"SxSelect":break;case"SxRule":break;case"SxFilt":break;case"SxItm":break;case"SxDXF":break;case"ScenMan":break;case"DCon":break;case"CellWatch":break;case"PrintRowCol":break;case"PrintGrid":break;case"PrintSize":break;case"XCT":break;case"CRN":break;case"Scl":{}break;case"SheetExt":{}break;case"SheetExtOptional":{}break;case"ObNoMacros":{}break;case"ObProj":{}break;case"CodeName":{}break;case"GUIDTypeLib":{}break;case"WOpt":break;case"PhoneticInfo":break;case"OleObjectSize":break;case"DXF":case"DXFN":case"DXFN12":case"DXFN12List":case"DXFN12NoCB":break;case"Dv":case"DVal":break;case"BRAI":case"Series":case"SeriesText":break;case"DConn":break;case"DbOrParamQry":break;case"DBQueryExt":break;case"IFmtRecord":break;case"CondFmt":case"CF":case"CF12":case"CFEx":break;case"Excel9File":break;case"Units":break;case"InterfaceHdr":case"Mms":case"InterfaceEnd":case"DSF":case"BuiltInFnGroupCount":case"Window1":case"Window2":case"HideObj":case"GridSet":case"Guts":case"UserBView":case"UserSViewBegin":case"UserSViewEnd":case"Pane":break;default:switch(R.n){case"Dat":case"Begin":case"End":case"StartBlock":case"EndBlock":case"Frame":case"Area":case"Axis":case"AxisLine":case"Tick":break;case"AxesUsed":case"CrtLayout12":case"CrtLayout12A":case"CrtLink":case"CrtLine":case"CrtMlFrt":case"CrtMlFrtContinue":break;case"LineFormat":case"AreaFormat":case"Chart":case"Chart3d":case"Chart3DBarShape":case"ChartFormat":case"ChartFrtInfo":break;case"PlotArea":case"PlotGrowth":break;case"SeriesList":case"SerParent":case"SerAuxTrend":break;case"DataFormat":case"SerToCrt":case"FontX":break;case"CatSerRange":case"AxcExt":case"SerFmt":break;case"ShtProps":break;case"DefaultText":case"Text":case"CatLab":break;case"DataLabExtContents":break;case"Legend":case"LegendException":break;case"Pie":case"Scatter":break;case"PieFormat":case"MarkerFormat":break;case"StartObject":case"EndObject":break;case"AlRuns":case"ObjectLink":break;case"SIIndex":break;case"AttachedLabel":case"YMult":break;case"Line":case"Bar":break;case"Surf":break;case"AxisParent":break;case"Pos":break;case"ValueRange":break;case"SXViewEx9":break;case"SXViewLink":break;case"PivotChartBits":break;case"SBaseRef":break;case"TextPropsStream":break;case"LnExt":break;case"MkrExt":break;case"CrtCoopt":break;case"Qsi":case"Qsif":case"Qsir":case"QsiSXTag":break;case"TxtQry":break;case"FilterMode":break;case"AutoFilter":case"AutoFilterInfo":break;case"AutoFilter12":break;case"DropDownObjIds":break;case"Sort":break;case"SortData":break;case"ShapePropsStream":break;case"MsoDrawing":case"MsoDrawingGroup":case"MsoDrawingSelection":break;case"ImData":break;case"WebPub":case"AutoWebPub":case"RightMargin":case"LeftMargin":case"TopMargin":case"BottomMargin":case"HeaderFooter":case"HFPicture":case"PLV":case"HorizontalPageBreaks":case"VerticalPageBreaks":case"Backup":case"CompressPictures":case"Compat12":break;case"Continue":case"ContinueFrt12":break;case"FrtFontList":case"FrtWrapper":break;case"ExternCount":break;case"RString":break;case"TabIdConf":case"Radar":case"RadarArea":case"DropBar":case"Intl":case"CoordList":case"SerAuxErrBar":break;default:switch(R.n){case"SCENARIO":case"DConBin":case"PicF":case"DataLabExt":case"Lel":case"BopPop":case"BopPopCustom":case"RealTimeData":case"Name":break;default:if(options.WTF)throw"Unrecognized Record "+R.n}}}}}else blob.l+=length}var sheetnamesraw=opts.biff===2?["Sheet1"]:Object.keys(Directory).sort(function(a,b){return Number(a)-Number(b)}).map(function(x){return Directory[x].name});var sheetnames=sheetnamesraw.slice();wb.Directory=sheetnamesraw;wb.SheetNames=sheetnamesraw;if(!options.bookSheets)wb.Sheets=Sheets;wb.Preamble=Preamble;wb.Strings=sst;wb.SSF=SSF.get_table();if(opts.enc)wb.Encryption=opts.enc;wb.Metadata={};if(country!==undefined)wb.Metadata.Country=country;return wb}function parse_xlscfb(cfb,options){if(!options)options={};fix_read_opts(options);reset_cp();var CompObj,Summary,Workbook;if(cfb.find){CompObj=cfb.find("!CompObj");Summary=cfb.find("!SummaryInformation");Workbook=cfb.find("/Workbook")}else{prep_blob(cfb,0);Workbook={content:cfb}}if(!Workbook)Workbook=cfb.find("/Book");var CompObjP,SummaryP,WorkbookP;if(CompObj)CompObjP=parse_compobj(CompObj);if(options.bookProps&&!options.bookSheets)WorkbookP={};else{if(Workbook)WorkbookP=parse_workbook(Workbook.content,options,!!Workbook.find);else throw new Error("Cannot find Workbook stream")}if(cfb.find)parse_props(cfb);var props={};for(var y in cfb.Summary)props[y]=cfb.Summary[y];for(y in cfb.DocSummary)props[y]=cfb.DocSummary[y];WorkbookP.Props=WorkbookP.Custprops=props;if(options.bookFiles)WorkbookP.cfb=cfb;WorkbookP.CompObjP=CompObjP;return WorkbookP}function parse_props(cfb){var DSI=cfb.find("!DocumentSummaryInformation");if(DSI)try{cfb.DocSummary=parse_PropertySetStream(DSI,DocSummaryPIDDSI)}catch(e){}var SI=cfb.find("!SummaryInformation");if(SI)try{cfb.Summary=parse_PropertySetStream(SI,SummaryPIDSI)}catch(e){}}var XLSBRecordEnum={0:{n:"BrtRowHdr",f:parse_BrtRowHdr},1:{n:"BrtCellBlank",f:parse_BrtCellBlank},2:{n:"BrtCellRk",f:parse_BrtCellRk},3:{n:"BrtCellError",f:parse_BrtCellError},4:{n:"BrtCellBool",f:parse_BrtCellBool},5:{n:"BrtCellReal",f:parse_BrtCellReal},6:{n:"BrtCellSt",f:parse_BrtCellSt},7:{n:"BrtCellIsst",f:parse_BrtCellIsst},8:{n:"BrtFmlaString",f:parse_BrtFmlaString},9:{n:"BrtFmlaNum",f:parse_BrtFmlaNum},10:{n:"BrtFmlaBool",f:parse_BrtFmlaBool},11:{n:"BrtFmlaError",f:parse_BrtFmlaError},16:{n:"BrtFRTArchID$",f:parse_BrtFRTArchID$},19:{n:"BrtSSTItem",f:parse_RichStr},20:{n:"BrtPCDIMissing",f:parsenoop},21:{n:"BrtPCDINumber",f:parsenoop},22:{n:"BrtPCDIBoolean",f:parsenoop},23:{n:"BrtPCDIError",f:parsenoop},24:{n:"BrtPCDIString",f:parsenoop},25:{n:"BrtPCDIDatetime",f:parsenoop},26:{n:"BrtPCDIIndex",f:parsenoop},27:{n:"BrtPCDIAMissing",f:parsenoop},28:{n:"BrtPCDIANumber",f:parsenoop},29:{n:"BrtPCDIABoolean",f:parsenoop},30:{n:"BrtPCDIAError",f:parsenoop},31:{n:"BrtPCDIAString",f:parsenoop},32:{n:"BrtPCDIADatetime",f:parsenoop},33:{n:"BrtPCRRecord",f:parsenoop},34:{n:"BrtPCRRecordDt",f:parsenoop},35:{n:"BrtFRTBegin",f:parsenoop},36:{n:"BrtFRTEnd",f:parsenoop},37:{n:"BrtACBegin",f:parsenoop},38:{n:"BrtACEnd",f:parsenoop},39:{n:"BrtName",f:parsenoop},40:{n:"BrtIndexRowBlock",f:parsenoop},42:{n:"BrtIndexBlock",f:parsenoop},43:{n:"BrtFont",f:parse_BrtFont},44:{n:"BrtFmt",f:parse_BrtFmt},45:{n:"BrtFill",f:parsenoop},46:{n:"BrtBorder",f:parsenoop},47:{n:"BrtXF",f:parse_BrtXF},48:{n:"BrtStyle",f:parsenoop},49:{n:"BrtCellMeta",f:parsenoop},50:{n:"BrtValueMeta",f:parsenoop},51:{n:"BrtMdb",f:parsenoop},52:{n:"BrtBeginFmd",f:parsenoop},53:{n:"BrtEndFmd",f:parsenoop},54:{n:"BrtBeginMdx",f:parsenoop},55:{n:"BrtEndMdx",f:parsenoop},56:{n:"BrtBeginMdxTuple",f:parsenoop},57:{n:"BrtEndMdxTuple",f:parsenoop},58:{n:"BrtMdxMbrIstr",f:parsenoop},59:{n:"BrtStr",f:parsenoop},60:{n:"BrtColInfo",f:parsenoop},62:{n:"BrtCellRString",f:parsenoop},63:{n:"BrtCalcChainItem$",f:parse_BrtCalcChainItem$},64:{n:"BrtDVal",f:parsenoop},65:{n:"BrtSxvcellNum",f:parsenoop},66:{n:"BrtSxvcellStr",f:parsenoop},67:{n:"BrtSxvcellBool",f:parsenoop},68:{n:"BrtSxvcellErr",f:parsenoop},69:{n:"BrtSxvcellDate",f:parsenoop},70:{n:"BrtSxvcellNil",f:parsenoop},128:{n:"BrtFileVersion",f:parsenoop},129:{n:"BrtBeginSheet",f:parsenoop},130:{n:"BrtEndSheet",f:parsenoop},131:{n:"BrtBeginBook",f:parsenoop,p:0},132:{n:"BrtEndBook",f:parsenoop},133:{n:"BrtBeginWsViews",f:parsenoop},134:{n:"BrtEndWsViews",f:parsenoop},135:{n:"BrtBeginBookViews",f:parsenoop},136:{n:"BrtEndBookViews",f:parsenoop},137:{n:"BrtBeginWsView",f:parsenoop},138:{n:"BrtEndWsView",f:parsenoop},139:{n:"BrtBeginCsViews",f:parsenoop},140:{n:"BrtEndCsViews",f:parsenoop},141:{n:"BrtBeginCsView",f:parsenoop},142:{n:"BrtEndCsView",f:parsenoop},143:{n:"BrtBeginBundleShs",f:parsenoop},144:{n:"BrtEndBundleShs",f:parsenoop},145:{n:"BrtBeginSheetData",f:parsenoop},146:{n:"BrtEndSheetData",f:parsenoop},147:{n:"BrtWsProp",f:parse_BrtWsProp},148:{n:"BrtWsDim",f:parse_BrtWsDim,p:16},151:{n:"BrtPane",f:parsenoop},152:{n:"BrtSel",f:parsenoop},153:{n:"BrtWbProp",f:parse_BrtWbProp},154:{n:"BrtWbFactoid",f:parsenoop},155:{n:"BrtFileRecover",f:parsenoop},156:{n:"BrtBundleSh",f:parse_BrtBundleSh},157:{n:"BrtCalcProp",f:parsenoop},158:{n:"BrtBookView",f:parsenoop},159:{n:"BrtBeginSst",f:parse_BrtBeginSst},160:{n:"BrtEndSst",f:parsenoop},161:{n:"BrtBeginAFilter",f:parsenoop},162:{n:"BrtEndAFilter",f:parsenoop},163:{n:"BrtBeginFilterColumn",f:parsenoop},164:{n:"BrtEndFilterColumn",f:parsenoop},165:{n:"BrtBeginFilters",f:parsenoop},166:{n:"BrtEndFilters",f:parsenoop},167:{n:"BrtFilter",f:parsenoop},168:{n:"BrtColorFilter",f:parsenoop},169:{n:"BrtIconFilter",f:parsenoop},170:{n:"BrtTop10Filter",f:parsenoop},171:{n:"BrtDynamicFilter",f:parsenoop},172:{n:"BrtBeginCustomFilters",f:parsenoop},173:{n:"BrtEndCustomFilters",f:parsenoop},174:{n:"BrtCustomFilter",f:parsenoop},175:{n:"BrtAFilterDateGroupItem",f:parsenoop},176:{n:"BrtMergeCell",f:parse_BrtMergeCell},177:{n:"BrtBeginMergeCells",f:parsenoop},178:{n:"BrtEndMergeCells",f:parsenoop},179:{n:"BrtBeginPivotCacheDef",f:parsenoop},180:{n:"BrtEndPivotCacheDef",f:parsenoop},181:{n:"BrtBeginPCDFields",f:parsenoop},182:{n:"BrtEndPCDFields",f:parsenoop},183:{n:"BrtBeginPCDField",f:parsenoop},184:{n:"BrtEndPCDField",f:parsenoop},185:{n:"BrtBeginPCDSource",f:parsenoop},186:{n:"BrtEndPCDSource",f:parsenoop},187:{n:"BrtBeginPCDSRange",f:parsenoop},188:{n:"BrtEndPCDSRange",f:parsenoop},189:{n:"BrtBeginPCDFAtbl",f:parsenoop},190:{n:"BrtEndPCDFAtbl",f:parsenoop},191:{n:"BrtBeginPCDIRun",f:parsenoop},192:{n:"BrtEndPCDIRun",f:parsenoop},193:{n:"BrtBeginPivotCacheRecords",f:parsenoop},194:{n:"BrtEndPivotCacheRecords",f:parsenoop},195:{n:"BrtBeginPCDHierarchies",f:parsenoop},196:{n:"BrtEndPCDHierarchies",f:parsenoop},197:{n:"BrtBeginPCDHierarchy",f:parsenoop},198:{n:"BrtEndPCDHierarchy",f:parsenoop},199:{n:"BrtBeginPCDHFieldsUsage",f:parsenoop},200:{n:"BrtEndPCDHFieldsUsage",f:parsenoop},201:{n:"BrtBeginExtConnection",f:parsenoop},202:{n:"BrtEndExtConnection",f:parsenoop},203:{n:"BrtBeginECDbProps",f:parsenoop},204:{n:"BrtEndECDbProps",f:parsenoop},205:{n:"BrtBeginECOlapProps",f:parsenoop},206:{n:"BrtEndECOlapProps",f:parsenoop},207:{n:"BrtBeginPCDSConsol",f:parsenoop},208:{n:"BrtEndPCDSConsol",f:parsenoop},209:{n:"BrtBeginPCDSCPages",f:parsenoop},210:{n:"BrtEndPCDSCPages",f:parsenoop},211:{n:"BrtBeginPCDSCPage",f:parsenoop},212:{n:"BrtEndPCDSCPage",f:parsenoop},213:{n:"BrtBeginPCDSCPItem",f:parsenoop},214:{n:"BrtEndPCDSCPItem",f:parsenoop},215:{n:"BrtBeginPCDSCSets",f:parsenoop},216:{n:"BrtEndPCDSCSets",f:parsenoop},217:{n:"BrtBeginPCDSCSet",f:parsenoop},218:{n:"BrtEndPCDSCSet",f:parsenoop},219:{n:"BrtBeginPCDFGroup",f:parsenoop},220:{n:"BrtEndPCDFGroup",f:parsenoop},221:{n:"BrtBeginPCDFGItems",f:parsenoop},222:{n:"BrtEndPCDFGItems",f:parsenoop},223:{n:"BrtBeginPCDFGRange",f:parsenoop},224:{n:"BrtEndPCDFGRange",f:parsenoop},225:{n:"BrtBeginPCDFGDiscrete",f:parsenoop},226:{n:"BrtEndPCDFGDiscrete",f:parsenoop},227:{n:"BrtBeginPCDSDTupleCache",f:parsenoop},228:{n:"BrtEndPCDSDTupleCache",f:parsenoop},229:{n:"BrtBeginPCDSDTCEntries",f:parsenoop},230:{n:"BrtEndPCDSDTCEntries",f:parsenoop},231:{n:"BrtBeginPCDSDTCEMembers",f:parsenoop},232:{n:"BrtEndPCDSDTCEMembers",f:parsenoop},233:{n:"BrtBeginPCDSDTCEMember",f:parsenoop},234:{n:"BrtEndPCDSDTCEMember",f:parsenoop},235:{n:"BrtBeginPCDSDTCQueries",f:parsenoop},236:{n:"BrtEndPCDSDTCQueries",f:parsenoop},237:{n:"BrtBeginPCDSDTCQuery",f:parsenoop},238:{n:"BrtEndPCDSDTCQuery",f:parsenoop},239:{n:"BrtBeginPCDSDTCSets",f:parsenoop},240:{n:"BrtEndPCDSDTCSets",f:parsenoop},241:{n:"BrtBeginPCDSDTCSet",f:parsenoop},242:{n:"BrtEndPCDSDTCSet",f:parsenoop},243:{n:"BrtBeginPCDCalcItems",f:parsenoop},244:{n:"BrtEndPCDCalcItems",f:parsenoop},245:{n:"BrtBeginPCDCalcItem",f:parsenoop},246:{n:"BrtEndPCDCalcItem",f:parsenoop},247:{n:"BrtBeginPRule",f:parsenoop},248:{n:"BrtEndPRule",f:parsenoop},249:{n:"BrtBeginPRFilters",f:parsenoop},250:{n:"BrtEndPRFilters",f:parsenoop},251:{n:"BrtBeginPRFilter",f:parsenoop},252:{n:"BrtEndPRFilter",f:parsenoop},253:{n:"BrtBeginPNames",f:parsenoop},254:{n:"BrtEndPNames",f:parsenoop},255:{n:"BrtBeginPName",f:parsenoop},256:{n:"BrtEndPName",f:parsenoop},257:{n:"BrtBeginPNPairs",f:parsenoop},258:{n:"BrtEndPNPairs",f:parsenoop},259:{n:"BrtBeginPNPair",f:parsenoop},260:{n:"BrtEndPNPair",f:parsenoop},261:{n:"BrtBeginECWebProps",f:parsenoop},262:{n:"BrtEndECWebProps",f:parsenoop},263:{n:"BrtBeginEcWpTables",f:parsenoop},264:{n:"BrtEndECWPTables",f:parsenoop},265:{n:"BrtBeginECParams",f:parsenoop},266:{n:"BrtEndECParams",f:parsenoop},267:{n:"BrtBeginECParam",f:parsenoop},268:{n:"BrtEndECParam",f:parsenoop},269:{n:"BrtBeginPCDKPIs",f:parsenoop},270:{n:"BrtEndPCDKPIs",f:parsenoop},271:{n:"BrtBeginPCDKPI",f:parsenoop},272:{n:"BrtEndPCDKPI",f:parsenoop},273:{n:"BrtBeginDims",f:parsenoop},274:{n:"BrtEndDims",f:parsenoop},275:{n:"BrtBeginDim",f:parsenoop},276:{n:"BrtEndDim",f:parsenoop},277:{n:"BrtIndexPartEnd",f:parsenoop},278:{n:"BrtBeginStyleSheet",f:parsenoop},279:{n:"BrtEndStyleSheet",f:parsenoop},280:{n:"BrtBeginSXView",f:parsenoop},281:{n:"BrtEndSXVI",f:parsenoop},282:{n:"BrtBeginSXVI",f:parsenoop},283:{n:"BrtBeginSXVIs",f:parsenoop},284:{n:"BrtEndSXVIs",f:parsenoop},285:{n:"BrtBeginSXVD",f:parsenoop},286:{n:"BrtEndSXVD",f:parsenoop},287:{n:"BrtBeginSXVDs",f:parsenoop},288:{n:"BrtEndSXVDs",f:parsenoop},289:{n:"BrtBeginSXPI",f:parsenoop},290:{n:"BrtEndSXPI",f:parsenoop},291:{n:"BrtBeginSXPIs",f:parsenoop},292:{n:"BrtEndSXPIs",f:parsenoop},293:{n:"BrtBeginSXDI",f:parsenoop},294:{n:"BrtEndSXDI",f:parsenoop},295:{n:"BrtBeginSXDIs",f:parsenoop},296:{n:"BrtEndSXDIs",f:parsenoop},297:{n:"BrtBeginSXLI",f:parsenoop},298:{n:"BrtEndSXLI",f:parsenoop},299:{n:"BrtBeginSXLIRws",f:parsenoop},300:{n:"BrtEndSXLIRws",f:parsenoop},301:{n:"BrtBeginSXLICols",f:parsenoop},302:{n:"BrtEndSXLICols",f:parsenoop},303:{n:"BrtBeginSXFormat",f:parsenoop},304:{n:"BrtEndSXFormat",f:parsenoop},305:{n:"BrtBeginSXFormats",f:parsenoop},306:{n:"BrtEndSxFormats",f:parsenoop},307:{n:"BrtBeginSxSelect",f:parsenoop},308:{n:"BrtEndSxSelect",f:parsenoop},309:{n:"BrtBeginISXVDRws",f:parsenoop},310:{n:"BrtEndISXVDRws",f:parsenoop},311:{n:"BrtBeginISXVDCols",f:parsenoop},312:{n:"BrtEndISXVDCols",f:parsenoop},313:{n:"BrtEndSXLocation",f:parsenoop},314:{n:"BrtBeginSXLocation",f:parsenoop},315:{n:"BrtEndSXView",f:parsenoop},316:{n:"BrtBeginSXTHs",f:parsenoop},317:{n:"BrtEndSXTHs",f:parsenoop},318:{n:"BrtBeginSXTH",f:parsenoop},319:{n:"BrtEndSXTH",f:parsenoop},320:{n:"BrtBeginISXTHRws",f:parsenoop},321:{n:"BrtEndISXTHRws",f:parsenoop},322:{n:"BrtBeginISXTHCols",f:parsenoop},323:{n:"BrtEndISXTHCols",f:parsenoop},324:{n:"BrtBeginSXTDMPS",f:parsenoop},325:{n:"BrtEndSXTDMPs",f:parsenoop},326:{n:"BrtBeginSXTDMP",f:parsenoop},327:{n:"BrtEndSXTDMP",f:parsenoop},328:{n:"BrtBeginSXTHItems",f:parsenoop},329:{n:"BrtEndSXTHItems",f:parsenoop},330:{n:"BrtBeginSXTHItem",f:parsenoop},331:{n:"BrtEndSXTHItem",f:parsenoop},332:{n:"BrtBeginMetadata",f:parsenoop},333:{n:"BrtEndMetadata",f:parsenoop},334:{n:"BrtBeginEsmdtinfo",f:parsenoop},335:{n:"BrtMdtinfo",f:parsenoop},336:{n:"BrtEndEsmdtinfo",f:parsenoop},337:{n:"BrtBeginEsmdb",f:parsenoop},338:{n:"BrtEndEsmdb",f:parsenoop},339:{n:"BrtBeginEsfmd",f:parsenoop},340:{n:"BrtEndEsfmd",f:parsenoop},341:{n:"BrtBeginSingleCells",f:parsenoop},342:{n:"BrtEndSingleCells",f:parsenoop},343:{n:"BrtBeginList",f:parsenoop},344:{n:"BrtEndList",f:parsenoop},345:{n:"BrtBeginListCols",f:parsenoop},346:{n:"BrtEndListCols",f:parsenoop},347:{n:"BrtBeginListCol",f:parsenoop},348:{n:"BrtEndListCol",f:parsenoop},349:{n:"BrtBeginListXmlCPr",f:parsenoop},350:{n:"BrtEndListXmlCPr",f:parsenoop},351:{n:"BrtListCCFmla",f:parsenoop},352:{n:"BrtListTrFmla",f:parsenoop},353:{n:"BrtBeginExternals",f:parsenoop},354:{n:"BrtEndExternals",f:parsenoop},355:{n:"BrtSupBookSrc",f:parsenoop},357:{n:"BrtSupSelf",f:parsenoop},358:{n:"BrtSupSame",f:parsenoop},359:{n:"BrtSupTabs",f:parsenoop},360:{n:"BrtBeginSupBook",f:parsenoop},361:{n:"BrtPlaceholderName",f:parsenoop},362:{n:"BrtExternSheet",f:parsenoop},363:{n:"BrtExternTableStart",f:parsenoop},364:{n:"BrtExternTableEnd",f:parsenoop},366:{n:"BrtExternRowHdr",f:parsenoop},367:{n:"BrtExternCellBlank",f:parsenoop},368:{n:"BrtExternCellReal",f:parsenoop},369:{n:"BrtExternCellBool",f:parsenoop},370:{n:"BrtExternCellError",f:parsenoop},371:{n:"BrtExternCellString",f:parsenoop},372:{n:"BrtBeginEsmdx",f:parsenoop},373:{n:"BrtEndEsmdx",f:parsenoop},374:{n:"BrtBeginMdxSet",f:parsenoop},375:{n:"BrtEndMdxSet",f:parsenoop},376:{n:"BrtBeginMdxMbrProp",f:parsenoop},377:{n:"BrtEndMdxMbrProp",f:parsenoop},378:{n:"BrtBeginMdxKPI",f:parsenoop},379:{n:"BrtEndMdxKPI",f:parsenoop},380:{n:"BrtBeginEsstr",f:parsenoop},381:{n:"BrtEndEsstr",f:parsenoop},382:{n:"BrtBeginPRFItem",f:parsenoop},383:{n:"BrtEndPRFItem",f:parsenoop},384:{n:"BrtBeginPivotCacheIDs",f:parsenoop},385:{n:"BrtEndPivotCacheIDs",f:parsenoop},386:{n:"BrtBeginPivotCacheID",f:parsenoop},387:{n:"BrtEndPivotCacheID",f:parsenoop},388:{n:"BrtBeginISXVIs",f:parsenoop},389:{n:"BrtEndISXVIs",f:parsenoop},390:{n:"BrtBeginColInfos",f:parsenoop},391:{n:"BrtEndColInfos",f:parsenoop},392:{n:"BrtBeginRwBrk",f:parsenoop},393:{n:"BrtEndRwBrk",f:parsenoop},394:{n:"BrtBeginColBrk",f:parsenoop},395:{n:"BrtEndColBrk",f:parsenoop},396:{n:"BrtBrk",f:parsenoop},397:{n:"BrtUserBookView",f:parsenoop},398:{n:"BrtInfo",f:parsenoop},399:{n:"BrtCUsr",f:parsenoop},400:{n:"BrtUsr",f:parsenoop},401:{n:"BrtBeginUsers",f:parsenoop},403:{n:"BrtEOF",f:parsenoop},404:{n:"BrtUCR",f:parsenoop},405:{n:"BrtRRInsDel",f:parsenoop},406:{n:"BrtRREndInsDel",f:parsenoop},407:{n:"BrtRRMove",f:parsenoop},408:{n:"BrtRREndMove",f:parsenoop},409:{n:"BrtRRChgCell",f:parsenoop},410:{n:"BrtRREndChgCell",f:parsenoop},411:{n:"BrtRRHeader",f:parsenoop},412:{n:"BrtRRUserView",f:parsenoop},413:{n:"BrtRRRenSheet",f:parsenoop},414:{n:"BrtRRInsertSh",f:parsenoop},415:{n:"BrtRRDefName",f:parsenoop},416:{n:"BrtRRNote",f:parsenoop},417:{n:"BrtRRConflict",f:parsenoop},418:{n:"BrtRRTQSIF",f:parsenoop},419:{n:"BrtRRFormat",f:parsenoop},420:{n:"BrtRREndFormat",f:parsenoop},421:{n:"BrtRRAutoFmt",f:parsenoop},422:{n:"BrtBeginUserShViews",f:parsenoop},423:{n:"BrtBeginUserShView",f:parsenoop},424:{n:"BrtEndUserShView",f:parsenoop},425:{n:"BrtEndUserShViews",f:parsenoop},426:{n:"BrtArrFmla",f:parsenoop},427:{n:"BrtShrFmla",f:parsenoop},428:{n:"BrtTable",f:parsenoop},429:{n:"BrtBeginExtConnections",f:parsenoop},430:{n:"BrtEndExtConnections",f:parsenoop},431:{n:"BrtBeginPCDCalcMems",f:parsenoop},432:{n:"BrtEndPCDCalcMems",f:parsenoop},433:{n:"BrtBeginPCDCalcMem",f:parsenoop},434:{n:"BrtEndPCDCalcMem",f:parsenoop},435:{n:"BrtBeginPCDHGLevels",f:parsenoop},436:{n:"BrtEndPCDHGLevels",f:parsenoop},437:{n:"BrtBeginPCDHGLevel",f:parsenoop},438:{n:"BrtEndPCDHGLevel",f:parsenoop},439:{n:"BrtBeginPCDHGLGroups",f:parsenoop},440:{n:"BrtEndPCDHGLGroups",f:parsenoop},441:{n:"BrtBeginPCDHGLGroup",f:parsenoop},442:{n:"BrtEndPCDHGLGroup",f:parsenoop},443:{n:"BrtBeginPCDHGLGMembers",f:parsenoop},444:{n:"BrtEndPCDHGLGMembers",f:parsenoop},445:{n:"BrtBeginPCDHGLGMember",f:parsenoop},446:{n:"BrtEndPCDHGLGMember",f:parsenoop},447:{n:"BrtBeginQSI",f:parsenoop},448:{n:"BrtEndQSI",f:parsenoop},449:{n:"BrtBeginQSIR",f:parsenoop},450:{n:"BrtEndQSIR",f:parsenoop},451:{n:"BrtBeginDeletedNames",f:parsenoop},452:{n:"BrtEndDeletedNames",f:parsenoop},453:{n:"BrtBeginDeletedName",f:parsenoop},454:{n:"BrtEndDeletedName",f:parsenoop},455:{n:"BrtBeginQSIFs",f:parsenoop},456:{n:"BrtEndQSIFs",f:parsenoop},457:{n:"BrtBeginQSIF",f:parsenoop},458:{n:"BrtEndQSIF",f:parsenoop},459:{n:"BrtBeginAutoSortScope",f:parsenoop},460:{n:"BrtEndAutoSortScope",f:parsenoop},461:{n:"BrtBeginConditionalFormatting",f:parsenoop},462:{n:"BrtEndConditionalFormatting",f:parsenoop},463:{n:"BrtBeginCFRule",f:parsenoop},464:{n:"BrtEndCFRule",f:parsenoop},465:{n:"BrtBeginIconSet",f:parsenoop},466:{n:"BrtEndIconSet",f:parsenoop},467:{n:"BrtBeginDatabar",f:parsenoop},468:{n:"BrtEndDatabar",f:parsenoop},469:{n:"BrtBeginColorScale",f:parsenoop},470:{n:"BrtEndColorScale",f:parsenoop},471:{n:"BrtCFVO",f:parsenoop},472:{n:"BrtExternValueMeta",f:parsenoop},473:{n:"BrtBeginColorPalette",f:parsenoop},474:{n:"BrtEndColorPalette",f:parsenoop},475:{n:"BrtIndexedColor",f:parsenoop},476:{n:"BrtMargins",f:parsenoop},477:{n:"BrtPrintOptions",f:parsenoop},478:{n:"BrtPageSetup",f:parsenoop},479:{n:"BrtBeginHeaderFooter",f:parsenoop},480:{n:"BrtEndHeaderFooter",f:parsenoop},481:{n:"BrtBeginSXCrtFormat",f:parsenoop},482:{n:"BrtEndSXCrtFormat",f:parsenoop},483:{n:"BrtBeginSXCrtFormats",f:parsenoop},484:{n:"BrtEndSXCrtFormats",f:parsenoop},485:{n:"BrtWsFmtInfo",f:parsenoop},486:{n:"BrtBeginMgs",f:parsenoop},487:{n:"BrtEndMGs",f:parsenoop},488:{n:"BrtBeginMGMaps",f:parsenoop},489:{n:"BrtEndMGMaps",f:parsenoop},490:{n:"BrtBeginMG",f:parsenoop},491:{n:"BrtEndMG",f:parsenoop},492:{n:"BrtBeginMap",f:parsenoop},493:{n:"BrtEndMap",f:parsenoop},494:{n:"BrtHLink",f:parse_BrtHLink},495:{n:"BrtBeginDCon",f:parsenoop},496:{n:"BrtEndDCon",f:parsenoop},497:{n:"BrtBeginDRefs",f:parsenoop},498:{n:"BrtEndDRefs",f:parsenoop},499:{n:"BrtDRef",f:parsenoop},500:{n:"BrtBeginScenMan",f:parsenoop},501:{n:"BrtEndScenMan",f:parsenoop},502:{n:"BrtBeginSct",f:parsenoop},503:{n:"BrtEndSct",f:parsenoop},504:{n:"BrtSlc",f:parsenoop},505:{n:"BrtBeginDXFs",f:parsenoop},506:{n:"BrtEndDXFs",f:parsenoop},507:{n:"BrtDXF",f:parsenoop},508:{n:"BrtBeginTableStyles",f:parsenoop},509:{n:"BrtEndTableStyles",f:parsenoop},510:{n:"BrtBeginTableStyle",f:parsenoop},511:{n:"BrtEndTableStyle",f:parsenoop},512:{n:"BrtTableStyleElement",f:parsenoop},513:{n:"BrtTableStyleClient",f:parsenoop},514:{n:"BrtBeginVolDeps",f:parsenoop},515:{n:"BrtEndVolDeps",f:parsenoop},516:{n:"BrtBeginVolType",f:parsenoop},517:{n:"BrtEndVolType",f:parsenoop},518:{n:"BrtBeginVolMain",f:parsenoop},519:{n:"BrtEndVolMain",f:parsenoop},520:{n:"BrtBeginVolTopic",f:parsenoop},521:{n:"BrtEndVolTopic",f:parsenoop},522:{n:"BrtVolSubtopic",f:parsenoop},523:{n:"BrtVolRef",f:parsenoop},524:{n:"BrtVolNum",f:parsenoop},525:{n:"BrtVolErr",f:parsenoop},526:{n:"BrtVolStr",f:parsenoop},527:{n:"BrtVolBool",f:parsenoop},528:{n:"BrtBeginCalcChain$",f:parsenoop},529:{n:"BrtEndCalcChain$",f:parsenoop},530:{n:"BrtBeginSortState",f:parsenoop},531:{n:"BrtEndSortState",f:parsenoop},532:{n:"BrtBeginSortCond",f:parsenoop},533:{n:"BrtEndSortCond",f:parsenoop},534:{n:"BrtBookProtection",f:parsenoop},535:{n:"BrtSheetProtection",f:parsenoop},536:{n:"BrtRangeProtection",f:parsenoop},537:{n:"BrtPhoneticInfo",f:parsenoop},538:{n:"BrtBeginECTxtWiz",f:parsenoop},539:{n:"BrtEndECTxtWiz",f:parsenoop},540:{n:"BrtBeginECTWFldInfoLst",f:parsenoop},541:{n:"BrtEndECTWFldInfoLst",f:parsenoop},542:{n:"BrtBeginECTwFldInfo",f:parsenoop},548:{n:"BrtFileSharing",f:parsenoop},549:{n:"BrtOleSize",f:parsenoop},550:{n:"BrtDrawing",f:parsenoop},551:{n:"BrtLegacyDrawing",f:parsenoop},552:{n:"BrtLegacyDrawingHF",f:parsenoop},553:{n:"BrtWebOpt",f:parsenoop},554:{n:"BrtBeginWebPubItems",f:parsenoop},555:{n:"BrtEndWebPubItems",f:parsenoop},556:{n:"BrtBeginWebPubItem",f:parsenoop},557:{n:"BrtEndWebPubItem",f:parsenoop},558:{n:"BrtBeginSXCondFmt",f:parsenoop},559:{n:"BrtEndSXCondFmt",f:parsenoop},560:{n:"BrtBeginSXCondFmts",f:parsenoop},561:{n:"BrtEndSXCondFmts",f:parsenoop},562:{n:"BrtBkHim",f:parsenoop},564:{n:"BrtColor",f:parsenoop},565:{n:"BrtBeginIndexedColors",f:parsenoop},566:{n:"BrtEndIndexedColors",f:parsenoop},569:{n:"BrtBeginMRUColors",f:parsenoop},570:{n:"BrtEndMRUColors",f:parsenoop},572:{n:"BrtMRUColor",f:parsenoop},573:{n:"BrtBeginDVals",f:parsenoop},574:{n:"BrtEndDVals",f:parsenoop},577:{n:"BrtSupNameStart",f:parsenoop},578:{n:"BrtSupNameValueStart",f:parsenoop},579:{n:"BrtSupNameValueEnd",f:parsenoop},580:{n:"BrtSupNameNum",f:parsenoop},581:{n:"BrtSupNameErr",f:parsenoop},582:{n:"BrtSupNameSt",f:parsenoop},583:{n:"BrtSupNameNil",f:parsenoop},584:{n:"BrtSupNameBool",f:parsenoop},585:{n:"BrtSupNameFmla",f:parsenoop},586:{n:"BrtSupNameBits",f:parsenoop},587:{n:"BrtSupNameEnd",f:parsenoop},588:{n:"BrtEndSupBook",f:parsenoop},589:{n:"BrtCellSmartTagProperty",f:parsenoop},590:{n:"BrtBeginCellSmartTag",f:parsenoop},591:{n:"BrtEndCellSmartTag",f:parsenoop},592:{n:"BrtBeginCellSmartTags",f:parsenoop},593:{n:"BrtEndCellSmartTags",f:parsenoop},594:{n:"BrtBeginSmartTags",f:parsenoop},595:{n:"BrtEndSmartTags",f:parsenoop},596:{n:"BrtSmartTagType",f:parsenoop},597:{n:"BrtBeginSmartTagTypes",f:parsenoop},598:{n:"BrtEndSmartTagTypes",f:parsenoop},599:{n:"BrtBeginSXFilters",f:parsenoop},600:{n:"BrtEndSXFilters",f:parsenoop},601:{n:"BrtBeginSXFILTER",f:parsenoop},602:{n:"BrtEndSXFilter",f:parsenoop},603:{n:"BrtBeginFills",f:parsenoop},604:{n:"BrtEndFills",f:parsenoop},605:{n:"BrtBeginCellWatches",f:parsenoop},606:{n:"BrtEndCellWatches",f:parsenoop},607:{n:"BrtCellWatch",f:parsenoop},608:{n:"BrtBeginCRErrs",f:parsenoop},609:{n:"BrtEndCRErrs",f:parsenoop},610:{n:"BrtCrashRecErr",f:parsenoop},611:{n:"BrtBeginFonts",f:parsenoop},612:{n:"BrtEndFonts",f:parsenoop},613:{n:"BrtBeginBorders",f:parsenoop},614:{n:"BrtEndBorders",f:parsenoop},615:{n:"BrtBeginFmts",f:parsenoop},616:{n:"BrtEndFmts",f:parsenoop},617:{n:"BrtBeginCellXFs",f:parsenoop},618:{n:"BrtEndCellXFs",f:parsenoop},619:{n:"BrtBeginStyles",f:parsenoop},620:{n:"BrtEndStyles",f:parsenoop},625:{n:"BrtBigName",f:parsenoop},626:{n:"BrtBeginCellStyleXFs",f:parsenoop},627:{n:"BrtEndCellStyleXFs",f:parsenoop},628:{n:"BrtBeginComments",f:parsenoop},629:{n:"BrtEndComments",f:parsenoop},630:{n:"BrtBeginCommentAuthors",f:parsenoop},631:{n:"BrtEndCommentAuthors",f:parsenoop},632:{n:"BrtCommentAuthor",f:parse_BrtCommentAuthor},633:{n:"BrtBeginCommentList",f:parsenoop},634:{n:"BrtEndCommentList",f:parsenoop},635:{n:"BrtBeginComment",f:parse_BrtBeginComment},636:{n:"BrtEndComment",f:parsenoop},637:{n:"BrtCommentText",f:parse_BrtCommentText},638:{n:"BrtBeginOleObjects",f:parsenoop},639:{n:"BrtOleObject",f:parsenoop},640:{n:"BrtEndOleObjects",f:parsenoop},641:{n:"BrtBeginSxrules",f:parsenoop},642:{n:"BrtEndSxRules",f:parsenoop},643:{n:"BrtBeginActiveXControls",f:parsenoop},644:{n:"BrtActiveX",f:parsenoop},645:{n:"BrtEndActiveXControls",f:parsenoop},646:{n:"BrtBeginPCDSDTCEMembersSortBy",f:parsenoop},648:{n:"BrtBeginCellIgnoreECs",f:parsenoop},649:{n:"BrtCellIgnoreEC",f:parsenoop},650:{n:"BrtEndCellIgnoreECs",f:parsenoop},651:{n:"BrtCsProp",f:parsenoop},652:{n:"BrtCsPageSetup",f:parsenoop},653:{n:"BrtBeginUserCsViews",f:parsenoop},654:{n:"BrtEndUserCsViews",f:parsenoop},655:{n:"BrtBeginUserCsView",f:parsenoop},656:{n:"BrtEndUserCsView",f:parsenoop},657:{n:"BrtBeginPcdSFCIEntries",f:parsenoop},658:{n:"BrtEndPCDSFCIEntries",f:parsenoop},659:{n:"BrtPCDSFCIEntry",f:parsenoop},660:{n:"BrtBeginListParts",f:parsenoop},661:{n:"BrtListPart",f:parsenoop},662:{n:"BrtEndListParts",f:parsenoop},663:{n:"BrtSheetCalcProp",f:parsenoop},664:{n:"BrtBeginFnGroup",f:parsenoop},665:{n:"BrtFnGroup",f:parsenoop},666:{n:"BrtEndFnGroup",f:parsenoop},667:{n:"BrtSupAddin",f:parsenoop},668:{n:"BrtSXTDMPOrder",f:parsenoop},669:{n:"BrtCsProtection",f:parsenoop},671:{n:"BrtBeginWsSortMap",f:parsenoop},672:{n:"BrtEndWsSortMap",f:parsenoop},673:{n:"BrtBeginRRSort",f:parsenoop},674:{n:"BrtEndRRSort",f:parsenoop},675:{n:"BrtRRSortItem",f:parsenoop},676:{n:"BrtFileSharingIso",f:parsenoop},677:{n:"BrtBookProtectionIso",f:parsenoop},678:{n:"BrtSheetProtectionIso",f:parsenoop},679:{n:"BrtCsProtectionIso",f:parsenoop},680:{n:"BrtRangeProtectionIso",f:parsenoop},1024:{n:"BrtRwDescent",f:parsenoop},1025:{n:"BrtKnownFonts",f:parsenoop},1026:{n:"BrtBeginSXTupleSet",f:parsenoop},1027:{n:"BrtEndSXTupleSet",f:parsenoop},1028:{n:"BrtBeginSXTupleSetHeader",f:parsenoop},1029:{n:"BrtEndSXTupleSetHeader",f:parsenoop},1030:{n:"BrtSXTupleSetHeaderItem",f:parsenoop},1031:{n:"BrtBeginSXTupleSetData",f:parsenoop},1032:{n:"BrtEndSXTupleSetData",f:parsenoop},1033:{n:"BrtBeginSXTupleSetRow",f:parsenoop},1034:{n:"BrtEndSXTupleSetRow",f:parsenoop},1035:{n:"BrtSXTupleSetRowItem",f:parsenoop},1036:{n:"BrtNameExt",f:parsenoop},1037:{n:"BrtPCDH14",f:parsenoop},1038:{n:"BrtBeginPCDCalcMem14",f:parsenoop},1039:{n:"BrtEndPCDCalcMem14",f:parsenoop},1040:{n:"BrtSXTH14",f:parsenoop},1041:{n:"BrtBeginSparklineGroup",f:parsenoop},1042:{n:"BrtEndSparklineGroup",f:parsenoop},1043:{n:"BrtSparkline",f:parsenoop},1044:{n:"BrtSXDI14",f:parsenoop},1045:{n:"BrtWsFmtInfoEx14",f:parsenoop},1046:{n:"BrtBeginConditionalFormatting14",f:parsenoop},1047:{n:"BrtEndConditionalFormatting14",f:parsenoop},1048:{n:"BrtBeginCFRule14",f:parsenoop},1049:{n:"BrtEndCFRule14",f:parsenoop},1050:{n:"BrtCFVO14",f:parsenoop},1051:{n:"BrtBeginDatabar14",f:parsenoop},1052:{n:"BrtBeginIconSet14",f:parsenoop},1053:{n:"BrtDVal14",f:parsenoop},1054:{n:"BrtBeginDVals14",f:parsenoop},1055:{n:"BrtColor14",f:parsenoop},1056:{n:"BrtBeginSparklines",f:parsenoop},1057:{n:"BrtEndSparklines",f:parsenoop},1058:{n:"BrtBeginSparklineGroups",f:parsenoop},1059:{n:"BrtEndSparklineGroups",f:parsenoop},1061:{n:"BrtSXVD14",f:parsenoop},1062:{n:"BrtBeginSxview14",f:parsenoop},1063:{n:"BrtEndSxview14",f:parsenoop},1066:{n:"BrtBeginPCD14",f:parsenoop},1067:{n:"BrtEndPCD14",f:parsenoop},1068:{n:"BrtBeginExtConn14",f:parsenoop},1069:{n:"BrtEndExtConn14",f:parsenoop},1070:{n:"BrtBeginSlicerCacheIDs",f:parsenoop},1071:{n:"BrtEndSlicerCacheIDs",f:parsenoop},1072:{n:"BrtBeginSlicerCacheID",f:parsenoop},1073:{n:"BrtEndSlicerCacheID",f:parsenoop},1075:{n:"BrtBeginSlicerCache",f:parsenoop},1076:{n:"BrtEndSlicerCache",f:parsenoop},1077:{n:"BrtBeginSlicerCacheDef",f:parsenoop},1078:{n:"BrtEndSlicerCacheDef",f:parsenoop},1079:{n:"BrtBeginSlicersEx",f:parsenoop},1080:{n:"BrtEndSlicersEx",f:parsenoop},1081:{n:"BrtBeginSlicerEx",f:parsenoop},1082:{n:"BrtEndSlicerEx",f:parsenoop},1083:{n:"BrtBeginSlicer",f:parsenoop},1084:{n:"BrtEndSlicer",f:parsenoop},1085:{n:"BrtSlicerCachePivotTables",f:parsenoop},1086:{n:"BrtBeginSlicerCacheOlapImpl",f:parsenoop},1087:{n:"BrtEndSlicerCacheOlapImpl",f:parsenoop},1088:{n:"BrtBeginSlicerCacheLevelsData",f:parsenoop},1089:{n:"BrtEndSlicerCacheLevelsData",f:parsenoop},1090:{n:"BrtBeginSlicerCacheLevelData",f:parsenoop},1091:{n:"BrtEndSlicerCacheLevelData",f:parsenoop},1092:{n:"BrtBeginSlicerCacheSiRanges",f:parsenoop},1093:{n:"BrtEndSlicerCacheSiRanges",f:parsenoop},1094:{n:"BrtBeginSlicerCacheSiRange",f:parsenoop},1095:{n:"BrtEndSlicerCacheSiRange",f:parsenoop},1096:{n:"BrtSlicerCacheOlapItem",f:parsenoop},1097:{n:"BrtBeginSlicerCacheSelections",f:parsenoop},1098:{n:"BrtSlicerCacheSelection",f:parsenoop},1099:{n:"BrtEndSlicerCacheSelections",f:parsenoop},1100:{n:"BrtBeginSlicerCacheNative",f:parsenoop},1101:{n:"BrtEndSlicerCacheNative",f:parsenoop},1102:{n:"BrtSlicerCacheNativeItem",f:parsenoop},1103:{n:"BrtRangeProtection14",f:parsenoop},1104:{n:"BrtRangeProtectionIso14",f:parsenoop},1105:{n:"BrtCellIgnoreEC14",f:parsenoop},1111:{n:"BrtList14",f:parsenoop},1112:{n:"BrtCFIcon",f:parsenoop},1113:{n:"BrtBeginSlicerCachesPivotCacheIDs",f:parsenoop},1114:{n:"BrtEndSlicerCachesPivotCacheIDs",f:parsenoop},1115:{n:"BrtBeginSlicers",f:parsenoop},1116:{n:"BrtEndSlicers",f:parsenoop},1117:{n:"BrtWbProp14",f:parsenoop},1118:{n:"BrtBeginSXEdit",f:parsenoop},1119:{n:"BrtEndSXEdit",f:parsenoop},1120:{n:"BrtBeginSXEdits",f:parsenoop},1121:{n:"BrtEndSXEdits",f:parsenoop},1122:{n:"BrtBeginSXChange",f:parsenoop},1123:{n:"BrtEndSXChange",f:parsenoop},1124:{n:"BrtBeginSXChanges",f:parsenoop},1125:{n:"BrtEndSXChanges",f:parsenoop},1126:{n:"BrtSXTupleItems",f:parsenoop},1128:{n:"BrtBeginSlicerStyle",f:parsenoop},1129:{n:"BrtEndSlicerStyle",f:parsenoop},1130:{n:"BrtSlicerStyleElement",f:parsenoop},1131:{n:"BrtBeginStyleSheetExt14",f:parsenoop},1132:{n:"BrtEndStyleSheetExt14",f:parsenoop},1133:{n:"BrtBeginSlicerCachesPivotCacheID",f:parsenoop},1134:{n:"BrtEndSlicerCachesPivotCacheID",f:parsenoop},1135:{n:"BrtBeginConditionalFormattings",f:parsenoop},1136:{n:"BrtEndConditionalFormattings",f:parsenoop},1137:{n:"BrtBeginPCDCalcMemExt",f:parsenoop},1138:{n:"BrtEndPCDCalcMemExt",f:parsenoop},1139:{n:"BrtBeginPCDCalcMemsExt",f:parsenoop},1140:{n:"BrtEndPCDCalcMemsExt",f:parsenoop},1141:{n:"BrtPCDField14",f:parsenoop},1142:{n:"BrtBeginSlicerStyles",f:parsenoop},1143:{n:"BrtEndSlicerStyles",f:parsenoop},1144:{n:"BrtBeginSlicerStyleElements",f:parsenoop},1145:{n:"BrtEndSlicerStyleElements",f:parsenoop},1146:{n:"BrtCFRuleExt",f:parsenoop},1147:{n:"BrtBeginSXCondFmt14",f:parsenoop},1148:{n:"BrtEndSXCondFmt14",f:parsenoop},1149:{n:"BrtBeginSXCondFmts14",f:parsenoop},1150:{n:"BrtEndSXCondFmts14",f:parsenoop},1152:{n:"BrtBeginSortCond14",f:parsenoop},1153:{n:"BrtEndSortCond14",f:parsenoop},1154:{n:"BrtEndDVals14",f:parsenoop},1155:{n:"BrtEndIconSet14",f:parsenoop},1156:{n:"BrtEndDatabar14",f:parsenoop},1157:{n:"BrtBeginColorScale14",f:parsenoop},1158:{n:"BrtEndColorScale14",f:parsenoop},1159:{n:"BrtBeginSxrules14",f:parsenoop},1160:{n:"BrtEndSxrules14",f:parsenoop},1161:{n:"BrtBeginPRule14",f:parsenoop},1162:{n:"BrtEndPRule14",f:parsenoop},1163:{n:"BrtBeginPRFilters14",f:parsenoop},1164:{n:"BrtEndPRFilters14",f:parsenoop},1165:{n:"BrtBeginPRFilter14",f:parsenoop},1166:{n:"BrtEndPRFilter14",f:parsenoop},1167:{n:"BrtBeginPRFItem14",f:parsenoop},1168:{n:"BrtEndPRFItem14",f:parsenoop},1169:{n:"BrtBeginCellIgnoreECs14",f:parsenoop},1170:{n:"BrtEndCellIgnoreECs14",f:parsenoop},1171:{n:"BrtDxf14",f:parsenoop},1172:{n:"BrtBeginDxF14s",f:parsenoop},1173:{n:"BrtEndDxf14s",f:parsenoop},1177:{n:"BrtFilter14",f:parsenoop},1178:{n:"BrtBeginCustomFilters14",f:parsenoop},1180:{n:"BrtCustomFilter14",f:parsenoop},1181:{n:"BrtIconFilter14",f:parsenoop},1182:{n:"BrtPivotCacheConnectionName",f:parsenoop},2048:{n:"BrtBeginDecoupledPivotCacheIDs",f:parsenoop},2049:{n:"BrtEndDecoupledPivotCacheIDs",f:parsenoop},2050:{n:"BrtDecoupledPivotCacheID",f:parsenoop},2051:{n:"BrtBeginPivotTableRefs",f:parsenoop},2052:{n:"BrtEndPivotTableRefs",f:parsenoop},2053:{n:"BrtPivotTableRef",f:parsenoop},2054:{n:"BrtSlicerCacheBookPivotTables",f:parsenoop},2055:{n:"BrtBeginSxvcells",f:parsenoop},2056:{n:"BrtEndSxvcells",f:parsenoop},2057:{n:"BrtBeginSxRow",f:parsenoop},2058:{n:"BrtEndSxRow",f:parsenoop},2060:{n:"BrtPcdCalcMem15",f:parsenoop},2067:{n:"BrtQsi15",f:parsenoop},2068:{n:"BrtBeginWebExtensions",f:parsenoop},2069:{n:"BrtEndWebExtensions",f:parsenoop},2070:{n:"BrtWebExtension",f:parsenoop},2071:{n:"BrtAbsPath15",f:parsenoop},2072:{n:"BrtBeginPivotTableUISettings",f:parsenoop},2073:{n:"BrtEndPivotTableUISettings",f:parsenoop},2075:{n:"BrtTableSlicerCacheIDs",f:parsenoop},2076:{n:"BrtTableSlicerCacheID",f:parsenoop},2077:{n:"BrtBeginTableSlicerCache",f:parsenoop},2078:{n:"BrtEndTableSlicerCache",f:parsenoop},2079:{n:"BrtSxFilter15",f:parsenoop},2080:{n:"BrtBeginTimelineCachePivotCacheIDs",f:parsenoop},2081:{n:"BrtEndTimelineCachePivotCacheIDs",f:parsenoop},2082:{n:"BrtTimelineCachePivotCacheID",f:parsenoop},2083:{n:"BrtBeginTimelineCacheIDs",f:parsenoop},2084:{n:"BrtEndTimelineCacheIDs",f:parsenoop},2085:{n:"BrtBeginTimelineCacheID",f:parsenoop},2086:{n:"BrtEndTimelineCacheID",f:parsenoop},2087:{n:"BrtBeginTimelinesEx",f:parsenoop},2088:{n:"BrtEndTimelinesEx",f:parsenoop},2089:{n:"BrtBeginTimelineEx",f:parsenoop},2090:{n:"BrtEndTimelineEx",f:parsenoop},2091:{n:"BrtWorkBookPr15",f:parsenoop},2092:{n:"BrtPCDH15",f:parsenoop},2093:{n:"BrtBeginTimelineStyle",f:parsenoop},2094:{n:"BrtEndTimelineStyle",f:parsenoop},2095:{n:"BrtTimelineStyleElement",f:parsenoop},2096:{n:"BrtBeginTimelineStylesheetExt15",f:parsenoop},2097:{n:"BrtEndTimelineStylesheetExt15",f:parsenoop},2098:{n:"BrtBeginTimelineStyles",f:parsenoop},2099:{n:"BrtEndTimelineStyles",f:parsenoop},2100:{n:"BrtBeginTimelineStyleElements",f:parsenoop},2101:{n:"BrtEndTimelineStyleElements",f:parsenoop},2102:{n:"BrtDxf15",f:parsenoop},2103:{n:"BrtBeginDxfs15",f:parsenoop},2104:{n:"brtEndDxfs15",f:parsenoop},2105:{n:"BrtSlicerCacheHideItemsWithNoData",f:parsenoop},2106:{n:"BrtBeginItemUniqueNames",f:parsenoop},2107:{n:"BrtEndItemUniqueNames",f:parsenoop},2108:{n:"BrtItemUniqueName",f:parsenoop},2109:{n:"BrtBeginExtConn15",f:parsenoop},2110:{n:"BrtEndExtConn15",f:parsenoop},2111:{n:"BrtBeginOledbPr15",f:parsenoop},2112:{n:"BrtEndOledbPr15",f:parsenoop},2113:{n:"BrtBeginDataFeedPr15",f:parsenoop},2114:{n:"BrtEndDataFeedPr15",f:parsenoop},2115:{n:"BrtTextPr15",f:parsenoop},2116:{n:"BrtRangePr15",f:parsenoop},2117:{n:"BrtDbCommand15",f:parsenoop},2118:{n:"BrtBeginDbTables15",f:parsenoop},2119:{n:"BrtEndDbTables15",f:parsenoop},2120:{n:"BrtDbTable15",f:parsenoop},2121:{n:"BrtBeginDataModel",f:parsenoop},2122:{n:"BrtEndDataModel",f:parsenoop},2123:{n:"BrtBeginModelTables",f:parsenoop},2124:{n:"BrtEndModelTables",f:parsenoop},2125:{n:"BrtModelTable",f:parsenoop},2126:{n:"BrtBeginModelRelationships",f:parsenoop},2127:{n:"BrtEndModelRelationships",f:parsenoop},2128:{n:"BrtModelRelationship",f:parsenoop},2129:{n:"BrtBeginECTxtWiz15",f:parsenoop},2130:{n:"BrtEndECTxtWiz15",f:parsenoop},2131:{n:"BrtBeginECTWFldInfoLst15",f:parsenoop},2132:{n:"BrtEndECTWFldInfoLst15",f:parsenoop},2133:{n:"BrtBeginECTWFldInfo15",f:parsenoop},2134:{n:"BrtFieldListActiveItem",f:parsenoop},2135:{n:"BrtPivotCacheIdVersion",f:parsenoop},2136:{n:"BrtSXDI15",f:parsenoop},65535:{n:"",f:parsenoop}};
var evert_RE=evert_key(XLSBRecordEnum,"n");var XLSRecordEnum={3:{n:"BIFF2NUM",f:parse_BIFF2NUM},4:{n:"BIFF2STR",f:parse_BIFF2STR},6:{n:"Formula",f:parse_Formula},9:{n:"BOF",f:parse_BOF},10:{n:"EOF",f:parse_EOF},12:{n:"CalcCount",f:parse_CalcCount},13:{n:"CalcMode",f:parse_CalcMode},14:{n:"CalcPrecision",f:parse_CalcPrecision},15:{n:"CalcRefMode",f:parse_CalcRefMode},16:{n:"CalcDelta",f:parse_CalcDelta},17:{n:"CalcIter",f:parse_CalcIter},18:{n:"Protect",f:parse_Protect},19:{n:"Password",f:parse_Password},20:{n:"Header",f:parse_Header},21:{n:"Footer",f:parse_Footer},23:{n:"ExternSheet",f:parse_ExternSheet},24:{n:"Lbl",f:parse_Lbl},25:{n:"WinProtect",f:parse_WinProtect},26:{n:"VerticalPageBreaks",f:parse_VerticalPageBreaks},27:{n:"HorizontalPageBreaks",f:parse_HorizontalPageBreaks},28:{n:"Note",f:parse_Note},29:{n:"Selection",f:parse_Selection},34:{n:"Date1904",f:parse_Date1904},35:{n:"ExternName",f:parse_ExternName},38:{n:"LeftMargin",f:parse_LeftMargin},39:{n:"RightMargin",f:parse_RightMargin},40:{n:"TopMargin",f:parse_TopMargin},41:{n:"BottomMargin",f:parse_BottomMargin},42:{n:"PrintRowCol",f:parse_PrintRowCol},43:{n:"PrintGrid",f:parse_PrintGrid},47:{n:"FilePass",f:parse_FilePass},49:{n:"Font",f:parse_Font},51:{n:"PrintSize",f:parse_PrintSize},60:{n:"Continue",f:parse_Continue},61:{n:"Window1",f:parse_Window1},64:{n:"Backup",f:parse_Backup},65:{n:"Pane",f:parse_Pane},66:{n:"CodePage",f:parse_CodePage},77:{n:"Pls",f:parse_Pls},80:{n:"DCon",f:parse_DCon},81:{n:"DConRef",f:parse_DConRef},82:{n:"DConName",f:parse_DConName},85:{n:"DefColWidth",f:parse_DefColWidth},89:{n:"XCT",f:parse_XCT},90:{n:"CRN",f:parse_CRN},91:{n:"FileSharing",f:parse_FileSharing},92:{n:"WriteAccess",f:parse_WriteAccess},93:{n:"Obj",f:parse_Obj},94:{n:"Uncalced",f:parse_Uncalced},95:{n:"CalcSaveRecalc",f:parse_CalcSaveRecalc},96:{n:"Template",f:parse_Template},97:{n:"Intl",f:parse_Intl},99:{n:"ObjProtect",f:parse_ObjProtect},125:{n:"ColInfo",f:parse_ColInfo},128:{n:"Guts",f:parse_Guts},129:{n:"WsBool",f:parse_WsBool},130:{n:"GridSet",f:parse_GridSet},131:{n:"HCenter",f:parse_HCenter},132:{n:"VCenter",f:parse_VCenter},133:{n:"BoundSheet8",f:parse_BoundSheet8},134:{n:"WriteProtect",f:parse_WriteProtect},140:{n:"Country",f:parse_Country},141:{n:"HideObj",f:parse_HideObj},144:{n:"Sort",f:parse_Sort},146:{n:"Palette",f:parse_Palette},151:{n:"Sync",f:parse_Sync},152:{n:"LPr",f:parse_LPr},153:{n:"DxGCol",f:parse_DxGCol},154:{n:"FnGroupName",f:parse_FnGroupName},155:{n:"FilterMode",f:parse_FilterMode},156:{n:"BuiltInFnGroupCount",f:parse_BuiltInFnGroupCount},157:{n:"AutoFilterInfo",f:parse_AutoFilterInfo},158:{n:"AutoFilter",f:parse_AutoFilter},160:{n:"Scl",f:parse_Scl},161:{n:"Setup",f:parse_Setup},174:{n:"ScenMan",f:parse_ScenMan},175:{n:"SCENARIO",f:parse_SCENARIO},176:{n:"SxView",f:parse_SxView},177:{n:"Sxvd",f:parse_Sxvd},178:{n:"SXVI",f:parse_SXVI},180:{n:"SxIvd",f:parse_SxIvd},181:{n:"SXLI",f:parse_SXLI},182:{n:"SXPI",f:parse_SXPI},184:{n:"DocRoute",f:parse_DocRoute},185:{n:"RecipName",f:parse_RecipName},189:{n:"MulRk",f:parse_MulRk},190:{n:"MulBlank",f:parse_MulBlank},193:{n:"Mms",f:parse_Mms},197:{n:"SXDI",f:parse_SXDI},198:{n:"SXDB",f:parse_SXDB},199:{n:"SXFDB",f:parse_SXFDB},200:{n:"SXDBB",f:parse_SXDBB},201:{n:"SXNum",f:parse_SXNum},202:{n:"SxBool",f:parse_SxBool},203:{n:"SxErr",f:parse_SxErr},204:{n:"SXInt",f:parse_SXInt},205:{n:"SXString",f:parse_SXString},206:{n:"SXDtr",f:parse_SXDtr},207:{n:"SxNil",f:parse_SxNil},208:{n:"SXTbl",f:parse_SXTbl},209:{n:"SXTBRGIITM",f:parse_SXTBRGIITM},210:{n:"SxTbpg",f:parse_SxTbpg},211:{n:"ObProj",f:parse_ObProj},213:{n:"SXStreamID",f:parse_SXStreamID},215:{n:"DBCell",f:parse_DBCell},216:{n:"SXRng",f:parse_SXRng},217:{n:"SxIsxoper",f:parse_SxIsxoper},218:{n:"BookBool",f:parse_BookBool},220:{n:"DbOrParamQry",f:parse_DbOrParamQry},221:{n:"ScenarioProtect",f:parse_ScenarioProtect},222:{n:"OleObjectSize",f:parse_OleObjectSize},224:{n:"XF",f:parse_XF},225:{n:"InterfaceHdr",f:parse_InterfaceHdr},226:{n:"InterfaceEnd",f:parse_InterfaceEnd},227:{n:"SXVS",f:parse_SXVS},229:{n:"MergeCells",f:parse_MergeCells},233:{n:"BkHim",f:parse_BkHim},235:{n:"MsoDrawingGroup",f:parse_MsoDrawingGroup},236:{n:"MsoDrawing",f:parse_MsoDrawing},237:{n:"MsoDrawingSelection",f:parse_MsoDrawingSelection},239:{n:"PhoneticInfo",f:parse_PhoneticInfo},240:{n:"SxRule",f:parse_SxRule},241:{n:"SXEx",f:parse_SXEx},242:{n:"SxFilt",f:parse_SxFilt},244:{n:"SxDXF",f:parse_SxDXF},245:{n:"SxItm",f:parse_SxItm},246:{n:"SxName",f:parse_SxName},247:{n:"SxSelect",f:parse_SxSelect},248:{n:"SXPair",f:parse_SXPair},249:{n:"SxFmla",f:parse_SxFmla},251:{n:"SxFormat",f:parse_SxFormat},252:{n:"SST",f:parse_SST},253:{n:"LabelSst",f:parse_LabelSst},255:{n:"ExtSST",f:parse_ExtSST},256:{n:"SXVDEx",f:parse_SXVDEx},259:{n:"SXFormula",f:parse_SXFormula},290:{n:"SXDBEx",f:parse_SXDBEx},311:{n:"RRDInsDel",f:parse_RRDInsDel},312:{n:"RRDHead",f:parse_RRDHead},315:{n:"RRDChgCell",f:parse_RRDChgCell},317:{n:"RRTabId",f:parse_RRTabId},318:{n:"RRDRenSheet",f:parse_RRDRenSheet},319:{n:"RRSort",f:parse_RRSort},320:{n:"RRDMove",f:parse_RRDMove},330:{n:"RRFormat",f:parse_RRFormat},331:{n:"RRAutoFmt",f:parse_RRAutoFmt},333:{n:"RRInsertSh",f:parse_RRInsertSh},334:{n:"RRDMoveBegin",f:parse_RRDMoveBegin},335:{n:"RRDMoveEnd",f:parse_RRDMoveEnd},336:{n:"RRDInsDelBegin",f:parse_RRDInsDelBegin},337:{n:"RRDInsDelEnd",f:parse_RRDInsDelEnd},338:{n:"RRDConflict",f:parse_RRDConflict},339:{n:"RRDDefName",f:parse_RRDDefName},340:{n:"RRDRstEtxp",f:parse_RRDRstEtxp},351:{n:"LRng",f:parse_LRng},352:{n:"UsesELFs",f:parse_UsesELFs},353:{n:"DSF",f:parse_DSF},401:{n:"CUsr",f:parse_CUsr},402:{n:"CbUsr",f:parse_CbUsr},403:{n:"UsrInfo",f:parse_UsrInfo},404:{n:"UsrExcl",f:parse_UsrExcl},405:{n:"FileLock",f:parse_FileLock},406:{n:"RRDInfo",f:parse_RRDInfo},407:{n:"BCUsrs",f:parse_BCUsrs},408:{n:"UsrChk",f:parse_UsrChk},425:{n:"UserBView",f:parse_UserBView},426:{n:"UserSViewBegin",f:parse_UserSViewBegin},427:{n:"UserSViewEnd",f:parse_UserSViewEnd},428:{n:"RRDUserView",f:parse_RRDUserView},429:{n:"Qsi",f:parse_Qsi},430:{n:"SupBook",f:parse_SupBook},431:{n:"Prot4Rev",f:parse_Prot4Rev},432:{n:"CondFmt",f:parse_CondFmt},433:{n:"CF",f:parse_CF},434:{n:"DVal",f:parse_DVal},437:{n:"DConBin",f:parse_DConBin},438:{n:"TxO",f:parse_TxO},439:{n:"RefreshAll",f:parse_RefreshAll},440:{n:"HLink",f:parse_HLink},441:{n:"Lel",f:parse_Lel},442:{n:"CodeName",f:parse_XLSCodeName},443:{n:"SXFDBType",f:parse_SXFDBType},444:{n:"Prot4RevPass",f:parse_Prot4RevPass},445:{n:"ObNoMacros",f:parse_ObNoMacros},446:{n:"Dv",f:parse_Dv},448:{n:"Excel9File",f:parse_Excel9File},449:{n:"RecalcId",f:parse_RecalcId,r:2},450:{n:"EntExU2",f:parse_EntExU2},512:{n:"Dimensions",f:parse_Dimensions},513:{n:"Blank",f:parse_Blank},515:{n:"Number",f:parse_Number},516:{n:"Label",f:parse_Label},517:{n:"BoolErr",f:parse_BoolErr},519:{n:"String",f:parse_String},520:{n:"Row",f:parse_Row},523:{n:"Index",f:parse_Index},545:{n:"Array",f:parse_Array},549:{n:"DefaultRowHeight",f:parse_DefaultRowHeight},566:{n:"Table",f:parse_Table},574:{n:"Window2",f:parse_Window2},638:{n:"RK",f:parse_RK},659:{n:"Style",f:parse_Style},1048:{n:"BigName",f:parse_BigName},1054:{n:"Format",f:parse_Format},1084:{n:"ContinueBigName",f:parse_ContinueBigName},1212:{n:"ShrFmla",f:parse_ShrFmla},2048:{n:"HLinkTooltip",f:parse_HLinkTooltip},2049:{n:"WebPub",f:parse_WebPub},2050:{n:"QsiSXTag",f:parse_QsiSXTag},2051:{n:"DBQueryExt",f:parse_DBQueryExt},2052:{n:"ExtString",f:parse_ExtString},2053:{n:"TxtQry",f:parse_TxtQry},2054:{n:"Qsir",f:parse_Qsir},2055:{n:"Qsif",f:parse_Qsif},2056:{n:"RRDTQSIF",f:parse_RRDTQSIF},2057:{n:"BOF",f:parse_BOF},2058:{n:"OleDbConn",f:parse_OleDbConn},2059:{n:"WOpt",f:parse_WOpt},2060:{n:"SXViewEx",f:parse_SXViewEx},2061:{n:"SXTH",f:parse_SXTH},2062:{n:"SXPIEx",f:parse_SXPIEx},2063:{n:"SXVDTEx",f:parse_SXVDTEx},2064:{n:"SXViewEx9",f:parse_SXViewEx9},2066:{n:"ContinueFrt",f:parse_ContinueFrt},2067:{n:"RealTimeData",f:parse_RealTimeData},2128:{n:"ChartFrtInfo",f:parse_ChartFrtInfo},2129:{n:"FrtWrapper",f:parse_FrtWrapper},2130:{n:"StartBlock",f:parse_StartBlock},2131:{n:"EndBlock",f:parse_EndBlock},2132:{n:"StartObject",f:parse_StartObject},2133:{n:"EndObject",f:parse_EndObject},2134:{n:"CatLab",f:parse_CatLab},2135:{n:"YMult",f:parse_YMult},2136:{n:"SXViewLink",f:parse_SXViewLink},2137:{n:"PivotChartBits",f:parse_PivotChartBits},2138:{n:"FrtFontList",f:parse_FrtFontList},2146:{n:"SheetExt",f:parse_SheetExt},2147:{n:"BookExt",f:parse_BookExt,r:12},2148:{n:"SXAddl",f:parse_SXAddl},2149:{n:"CrErr",f:parse_CrErr},2150:{n:"HFPicture",f:parse_HFPicture},2151:{n:"FeatHdr",f:parse_FeatHdr},2152:{n:"Feat",f:parse_Feat},2154:{n:"DataLabExt",f:parse_DataLabExt},2155:{n:"DataLabExtContents",f:parse_DataLabExtContents},2156:{n:"CellWatch",f:parse_CellWatch},2161:{n:"FeatHdr11",f:parse_FeatHdr11},2162:{n:"Feature11",f:parse_Feature11},2164:{n:"DropDownObjIds",f:parse_DropDownObjIds},2165:{n:"ContinueFrt11",f:parse_ContinueFrt11},2166:{n:"DConn",f:parse_DConn},2167:{n:"List12",f:parse_List12},2168:{n:"Feature12",f:parse_Feature12},2169:{n:"CondFmt12",f:parse_CondFmt12},2170:{n:"CF12",f:parse_CF12},2171:{n:"CFEx",f:parse_CFEx},2172:{n:"XFCRC",f:parse_XFCRC,r:12},2173:{n:"XFExt",f:parse_XFExt,r:12},2174:{n:"AutoFilter12",f:parse_AutoFilter12},2175:{n:"ContinueFrt12",f:parse_ContinueFrt12},2180:{n:"MDTInfo",f:parse_MDTInfo},2181:{n:"MDXStr",f:parse_MDXStr},2182:{n:"MDXTuple",f:parse_MDXTuple},2183:{n:"MDXSet",f:parse_MDXSet},2184:{n:"MDXProp",f:parse_MDXProp},2185:{n:"MDXKPI",f:parse_MDXKPI},2186:{n:"MDB",f:parse_MDB},2187:{n:"PLV",f:parse_PLV},2188:{n:"Compat12",f:parse_Compat12,r:12},2189:{n:"DXF",f:parse_DXF},2190:{n:"TableStyles",f:parse_TableStyles,r:12},2191:{n:"TableStyle",f:parse_TableStyle},2192:{n:"TableStyleElement",f:parse_TableStyleElement},2194:{n:"StyleExt",f:parse_StyleExt},2195:{n:"NamePublish",f:parse_NamePublish},2196:{n:"NameCmt",f:parse_NameCmt},2197:{n:"SortData",f:parse_SortData},2198:{n:"Theme",f:parse_Theme,r:12},2199:{n:"GUIDTypeLib",f:parse_GUIDTypeLib},2200:{n:"FnGrp12",f:parse_FnGrp12},2201:{n:"NameFnGrp12",f:parse_NameFnGrp12},2202:{n:"MTRSettings",f:parse_MTRSettings,r:12},2203:{n:"CompressPictures",f:parse_CompressPictures},2204:{n:"HeaderFooter",f:parse_HeaderFooter},2205:{n:"CrtLayout12",f:parse_CrtLayout12},2206:{n:"CrtMlFrt",f:parse_CrtMlFrt},2207:{n:"CrtMlFrtContinue",f:parse_CrtMlFrtContinue},2211:{n:"ForceFullCalculation",f:parse_ForceFullCalculation},2212:{n:"ShapePropsStream",f:parse_ShapePropsStream},2213:{n:"TextPropsStream",f:parse_TextPropsStream},2214:{n:"RichTextStream",f:parse_RichTextStream},2215:{n:"CrtLayout12A",f:parse_CrtLayout12A},4097:{n:"Units",f:parse_Units},4098:{n:"Chart",f:parse_Chart},4099:{n:"Series",f:parse_Series},4102:{n:"DataFormat",f:parse_DataFormat},4103:{n:"LineFormat",f:parse_LineFormat},4105:{n:"MarkerFormat",f:parse_MarkerFormat},4106:{n:"AreaFormat",f:parse_AreaFormat},4107:{n:"PieFormat",f:parse_PieFormat},4108:{n:"AttachedLabel",f:parse_AttachedLabel},4109:{n:"SeriesText",f:parse_SeriesText},4116:{n:"ChartFormat",f:parse_ChartFormat},4117:{n:"Legend",f:parse_Legend},4118:{n:"SeriesList",f:parse_SeriesList},4119:{n:"Bar",f:parse_Bar},4120:{n:"Line",f:parse_Line},4121:{n:"Pie",f:parse_Pie},4122:{n:"Area",f:parse_Area},4123:{n:"Scatter",f:parse_Scatter},4124:{n:"CrtLine",f:parse_CrtLine},4125:{n:"Axis",f:parse_Axis},4126:{n:"Tick",f:parse_Tick},4127:{n:"ValueRange",f:parse_ValueRange},4128:{n:"CatSerRange",f:parse_CatSerRange},4129:{n:"AxisLine",f:parse_AxisLine},4130:{n:"CrtLink",f:parse_CrtLink},4132:{n:"DefaultText",f:parse_DefaultText},4133:{n:"Text",f:parse_Text},4134:{n:"FontX",f:parse_FontX},4135:{n:"ObjectLink",f:parse_ObjectLink},4146:{n:"Frame",f:parse_Frame},4147:{n:"Begin",f:parse_Begin},4148:{n:"End",f:parse_End},4149:{n:"PlotArea",f:parse_PlotArea},4154:{n:"Chart3d",f:parse_Chart3d},4156:{n:"PicF",f:parse_PicF},4157:{n:"DropBar",f:parse_DropBar},4158:{n:"Radar",f:parse_Radar},4159:{n:"Surf",f:parse_Surf},4160:{n:"RadarArea",f:parse_RadarArea},4161:{n:"AxisParent",f:parse_AxisParent},4163:{n:"LegendException",f:parse_LegendException},4164:{n:"ShtProps",f:parse_ShtProps},4165:{n:"SerToCrt",f:parse_SerToCrt},4166:{n:"AxesUsed",f:parse_AxesUsed},4168:{n:"SBaseRef",f:parse_SBaseRef},4170:{n:"SerParent",f:parse_SerParent},4171:{n:"SerAuxTrend",f:parse_SerAuxTrend},4174:{n:"IFmtRecord",f:parse_IFmtRecord},4175:{n:"Pos",f:parse_Pos},4176:{n:"AlRuns",f:parse_AlRuns},4177:{n:"BRAI",f:parse_BRAI},4187:{n:"SerAuxErrBar",f:parse_SerAuxErrBar},4188:{n:"ClrtClient",f:parse_ClrtClient},4189:{n:"SerFmt",f:parse_SerFmt},4191:{n:"Chart3DBarShape",f:parse_Chart3DBarShape},4192:{n:"Fbi",f:parse_Fbi},4193:{n:"BopPop",f:parse_BopPop},4194:{n:"AxcExt",f:parse_AxcExt},4195:{n:"Dat",f:parse_Dat},4196:{n:"PlotGrowth",f:parse_PlotGrowth},4197:{n:"SIIndex",f:parse_SIIndex},4198:{n:"GelFrame",f:parse_GelFrame},4199:{n:"BopPopCustom",f:parse_BopPopCustom},4200:{n:"Fbi2",f:parse_Fbi2},22:{n:"ExternCount",f:parsenoop},126:{n:"RK",f:parsenoop},127:{n:"ImData",f:parsenoop},135:{n:"Addin",f:parsenoop},136:{n:"Edg",f:parsenoop},137:{n:"Pub",f:parsenoop},145:{n:"Sub",f:parsenoop},148:{n:"LHRecord",f:parsenoop},149:{n:"LHNGraph",f:parsenoop},150:{n:"Sound",f:parsenoop},169:{n:"CoordList",f:parsenoop},171:{n:"GCW",f:parsenoop},188:{n:"ShrFmla",f:parsenoop},194:{n:"AddMenu",f:parsenoop},195:{n:"DelMenu",f:parsenoop},214:{n:"RString",f:parsenoop},223:{n:"UDDesc",f:parsenoop},234:{n:"TabIdConf",f:parsenoop},354:{n:"XL5Modify",f:parsenoop},421:{n:"FileSharing2",f:parsenoop},536:{n:"Name",f:parsenoop},547:{n:"ExternName",f:parse_ExternName},561:{n:"Font",f:parsenoop},1030:{n:"Formula",f:parse_Formula},2157:{n:"FeatInfo",f:parsenoop},2163:{n:"FeatInfo11",f:parsenoop},2177:{n:"SXAddl12",f:parsenoop},2240:{n:"AutoWebPub",f:parsenoop},2241:{n:"ListObj",f:parsenoop},2242:{n:"ListField",f:parsenoop},2243:{n:"ListDV",f:parsenoop},2244:{n:"ListCondFmt",f:parsenoop},2245:{n:"ListCF",f:parsenoop},2246:{n:"FMQry",f:parsenoop},2247:{n:"FMSQry",f:parsenoop},2248:{n:"PLV",f:parsenoop},2249:{n:"LnExt",f:parsenoop},2250:{n:"MkrExt",f:parsenoop},2251:{n:"CrtCoopt",f:parsenoop},0:{}};function parse_ods(zip,opts){if(typeof module!=="undefined"&&typeof require!=="undefined"&&typeof ODS==="undefined")ODS=require("./od"+"s");if(typeof ODS==="undefined"||!ODS.parse_ods)throw new Error("Unsupported ODS");return ODS.parse_ods(zip,opts)}function fix_opts_func(defaults){return function fix_opts(opts){for(var i=0;i!=defaults.length;++i){var d=defaults[i];if(opts[d[0]]===undefined)opts[d[0]]=d[1];if(d[2]==="n")opts[d[0]]=Number(opts[d[0]])}}}var fix_read_opts=fix_opts_func([["cellNF",false],["cellHTML",true],["cellFormula",true],["cellStyles",false],["cellDates",false],["sheetStubs",false],["sheetRows",0,"n"],["bookDeps",false],["bookSheets",false],["bookProps",false],["bookFiles",false],["bookVBA",false],["password",""],["WTF",false]]);var fix_write_opts=fix_opts_func([["cellDates",false],["bookSST",false],["bookType","xlsx"],["WTF",false]]);function safe_parse_wbrels(wbrels,sheets){if(!wbrels)return 0;try{wbrels=sheets.map(function pwbr(w){return[w.name,wbrels["!id"][w.id].Target]})}catch(e){return null}return!wbrels||wbrels.length===0?null:wbrels}function safe_parse_ws(zip,path,relsPath,sheet,sheetRels,sheets,opts){try{sheetRels[sheet]=parse_rels(getzipdata(zip,relsPath,true),path);sheets[sheet]=parse_ws(getzipdata(zip,path),path,opts,sheetRels[sheet])}catch(e){if(opts.WTF)throw e}}var nodirs=function nodirs(x){return x.substr(-1)!="/"};function parse_zip(zip,opts){make_ssf(SSF);opts=opts||{};fix_read_opts(opts);reset_cp();if(safegetzipfile(zip,"META-INF/manifest.xml"))return parse_ods(zip,opts);var entries=keys(zip.files).filter(nodirs).sort();var dir=parse_ct(getzipdata(zip,"[Content_Types].xml"),opts);var xlsb=false;var sheets,binname;if(dir.workbooks.length===0){binname="xl/workbook.xml";if(getzipdata(zip,binname,true))dir.workbooks.push(binname)}if(dir.workbooks.length===0){binname="xl/workbook.bin";if(!getzipfile(zip,binname,true))throw new Error("Could not find workbook");dir.workbooks.push(binname);xlsb=true}if(dir.workbooks[0].substr(-3)=="bin")xlsb=true;if(xlsb)set_cp(1200);if(!opts.bookSheets&&!opts.bookProps){strs=[];if(dir.sst)strs=parse_sst(getzipdata(zip,dir.sst.replace(/^\//,"")),dir.sst,opts);styles={};if(dir.style)styles=parse_sty(getzipdata(zip,dir.style.replace(/^\//,"")),dir.style,opts);themes={};if(opts.cellStyles&&dir.themes.length)themes=parse_theme(getzipdata(zip,dir.themes[0].replace(/^\//,""),true),dir.themes[0],opts)}var wb=parse_wb(getzipdata(zip,dir.workbooks[0].replace(/^\//,"")),dir.workbooks[0],opts);var props={},propdata="";if(dir.coreprops.length!==0){propdata=getzipdata(zip,dir.coreprops[0].replace(/^\//,""),true);if(propdata)props=parse_core_props(propdata);if(dir.extprops.length!==0){propdata=getzipdata(zip,dir.extprops[0].replace(/^\//,""),true);if(propdata)parse_ext_props(propdata,props)}}var custprops={};if(!opts.bookSheets||opts.bookProps){if(dir.custprops.length!==0){propdata=getzipdata(zip,dir.custprops[0].replace(/^\//,""),true);if(propdata)custprops=parse_cust_props(propdata,opts)}}var out={};if(opts.bookSheets||opts.bookProps){if(props.Worksheets&&props.SheetNames.length>0)sheets=props.SheetNames;else if(wb.Sheets)sheets=wb.Sheets.map(function pluck(x){return x.name});if(opts.bookProps){out.Props=props;out.Custprops=custprops}if(typeof sheets!=="undefined")out.SheetNames=sheets;if(opts.bookSheets?out.SheetNames:opts.bookProps)return out}sheets={};var deps={};if(opts.bookDeps&&dir.calcchain)deps=parse_cc(getzipdata(zip,dir.calcchain.replace(/^\//,"")),dir.calcchain,opts);var i=0;var sheetRels={};var path,relsPath;if(!props.Worksheets){var wbsheets=wb.Sheets;props.Worksheets=wbsheets.length;props.SheetNames=[];for(var j=0;j!=wbsheets.length;++j){props.SheetNames[j]=wbsheets[j].name}}var wbext=xlsb?"bin":"xml";var wbrelsfile="xl/_rels/workbook."+wbext+".rels";var wbrels=parse_rels(getzipdata(zip,wbrelsfile,true),wbrelsfile);if(wbrels)wbrels=safe_parse_wbrels(wbrels,wb.Sheets);var nmode=getzipdata(zip,"xl/worksheets/sheet.xml",true)?1:0;for(i=0;i!=props.Worksheets;++i){if(wbrels)path="xl/"+wbrels[i][1].replace(/[\/]?xl\//,"");else{path="xl/worksheets/sheet"+(i+1-nmode)+"."+wbext;path=path.replace(/sheet0\./,"sheet.")}relsPath=path.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels");safe_parse_ws(zip,path,relsPath,props.SheetNames[i],sheetRels,sheets,opts)}if(dir.comments)parse_comments(zip,dir.comments,sheets,sheetRels,opts);out={Directory:dir,Workbook:wb,Props:props,Custprops:custprops,Deps:deps,Sheets:sheets,SheetNames:props.SheetNames,Strings:strs,Styles:styles,Themes:themes,SSF:SSF.get_table()};if(opts.bookFiles){out.keys=entries;out.files=zip.files}if(opts.bookVBA){if(dir.vba.length>0)out.vbaraw=getzipdata(zip,dir.vba[0],true);else if(dir.defaults.bin==="application/vnd.ms-office.vbaProject")out.vbaraw=getzipdata(zip,"xl/vbaProject.bin",true)}return out}function add_rels(rels,rId,f,type,relobj){if(!relobj)relobj={};if(!rels["!id"])rels["!id"]={};relobj.Id="rId"+rId;relobj.Type=type;relobj.Target=f;if(rels["!id"][relobj.Id])throw new Error("Cannot rewrite rId "+rId);rels["!id"][relobj.Id]=relobj;rels[("/"+relobj.Target).replace("//","/")]=relobj}function write_zip(wb,opts){if(wb&&!wb.SSF){wb.SSF=SSF.get_table()}if(wb&&wb.SSF){make_ssf(SSF);SSF.load_table(wb.SSF);opts.revssf=evert_num(wb.SSF);opts.revssf[wb.SSF[65535]]=0}opts.rels={};opts.wbrels={};opts.Strings=[];opts.Strings.Count=0;opts.Strings.Unique=0;var wbext=opts.bookType=="xlsb"?"bin":"xml";var ct={workbooks:[],sheets:[],calcchains:[],themes:[],styles:[],coreprops:[],extprops:[],custprops:[],strs:[],comments:[],vba:[],TODO:[],rels:[],xmlns:""};fix_write_opts(opts=opts||{});var zip=new jszip;var f="",rId=0;opts.cellXfs=[];get_cell_style(opts.cellXfs,{},{revssf:{General:0}});f="docProps/core.xml";zip.file(f,write_core_props(wb.Props,opts));ct.coreprops.push(f);add_rels(opts.rels,2,f,RELS.CORE_PROPS);f="docProps/app.xml";if(!wb.Props)wb.Props={};wb.Props.SheetNames=wb.SheetNames;wb.Props.Worksheets=wb.SheetNames.length;zip.file(f,write_ext_props(wb.Props,opts));ct.extprops.push(f);add_rels(opts.rels,3,f,RELS.EXT_PROPS);if(wb.Custprops!==wb.Props&&keys(wb.Custprops||{}).length>0){f="docProps/custom.xml";zip.file(f,write_cust_props(wb.Custprops,opts));ct.custprops.push(f);add_rels(opts.rels,4,f,RELS.CUST_PROPS)}f="xl/workbook."+wbext;zip.file(f,write_wb(wb,f,opts));ct.workbooks.push(f);add_rels(opts.rels,1,f,RELS.WB);for(rId=1;rId<=wb.SheetNames.length;++rId){f="xl/worksheets/sheet"+rId+"."+wbext;zip.file(f,write_ws(rId-1,f,opts,wb));ct.sheets.push(f);add_rels(opts.wbrels,rId,"worksheets/sheet"+rId+"."+wbext,RELS.WS)}if(opts.Strings!=null&&opts.Strings.length>0){f="xl/sharedStrings."+wbext;zip.file(f,write_sst(opts.Strings,f,opts));ct.strs.push(f);add_rels(opts.wbrels,++rId,"sharedStrings."+wbext,RELS.SST)}f="xl/theme/theme1.xml";zip.file(f,write_theme());ct.themes.push(f);add_rels(opts.wbrels,++rId,"theme/theme1.xml",RELS.THEME);f="xl/styles."+wbext;zip.file(f,write_sty(wb,f,opts));ct.styles.push(f);add_rels(opts.wbrels,++rId,"styles."+wbext,RELS.STY);zip.file("[Content_Types].xml",write_ct(ct,opts));zip.file("_rels/.rels",write_rels(opts.rels));zip.file("xl/_rels/workbook."+wbext+".rels",write_rels(opts.wbrels));return zip}function firstbyte(f,o){switch((o||{}).type||"base64"){case"buffer":return f[0];case"base64":return Base64.decode(f.substr(0,12)).charCodeAt(0);case"binary":return f.charCodeAt(0);case"array":return f[0];default:throw new Error("Unrecognized type "+o.type)}}function read_zip(data,opts){var zip,d=data;var o=opts||{};if(!o.type)o.type=has_buf&&Buffer.isBuffer(data)?"buffer":"base64";switch(o.type){case"base64":zip=new jszip(d,{base64:true});break;case"binary":case"array":zip=new jszip(d,{base64:false});break;case"buffer":zip=new jszip(d);break;case"file":zip=new jszip(d=_fs.readFileSync(data));break;default:throw new Error("Unrecognized type "+o.type)}return parse_zip(zip,o)}function readSync(data,opts){var zip,d=data,isfile=false,n;var o=opts||{};if(!o.type)o.type=has_buf&&Buffer.isBuffer(data)?"buffer":"base64";if(o.type=="file"){isfile=true;o.type="buffer";d=_fs.readFileSync(data)}switch(n=firstbyte(d,o)){case 208:if(isfile)o.type="file";return parse_xlscfb(CFB.read(data,o),o);case 9:return parse_xlscfb(s2a(o.type==="base64"?Base64.decode(data):data),o);case 60:return parse_xlml(d,o);case 80:if(isfile)o.type="file";return read_zip(data,opts);default:throw new Error("Unsupported file "+n)}}function readFileSync(data,opts){var o=opts||{};o.type="file";return readSync(data,o)}function write_zip_type(wb,opts){var o=opts||{};var z=write_zip(wb,o);switch(o.type){case"base64":return z.generate({type:"base64"});case"binary":return z.generate({type:"string"});case"buffer":return z.generate({type:"nodebuffer"});case"file":return _fs.writeFileSync(o.file,z.generate({type:"nodebuffer"}));default:throw new Error("Unrecognized type "+o.type)}}function writeSync(wb,opts){var o=opts||{};switch(o.bookType){case"xml":return write_xlml(wb,o);default:return write_zip_type(wb,o)}}function writeFileSync(wb,filename,opts){var o=opts||{};o.type="file";o.file=filename;switch(o.file.substr(-5).toLowerCase()){case".xlsx":o.bookType="xlsx";break;case".xlsm":o.bookType="xlsm";break;case".xlsb":o.bookType="xlsb";break;default:switch(o.file.substr(-4).toLowerCase()){case".xls":o.bookType="xls";break;case".xml":o.bookType="xml";break}}return writeSync(wb,o)}function decode_row(rowstr){return parseInt(unfix_row(rowstr),10)-1}function encode_row(row){return""+(row+1)}function fix_row(cstr){return cstr.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(cstr){return cstr.replace(/\$(\d+)$/,"$1")}function decode_col(colstr){var c=unfix_col(colstr),d=0,i=0;for(;i!==c.length;++i)d=26*d+c.charCodeAt(i)-64;return d-1}function encode_col(col){var s="";for(++col;col;col=Math.floor((col-1)/26))s=String.fromCharCode((col-1)%26+65)+s;return s}function fix_col(cstr){return cstr.replace(/^([A-Z])/,"$$$1")}function unfix_col(cstr){return cstr.replace(/^\$([A-Z])/,"$1")}function split_cell(cstr){return cstr.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(cstr){var splt=split_cell(cstr);return{c:decode_col(splt[0]),r:decode_row(splt[1])}}function encode_cell(cell){return encode_col(cell.c)+encode_row(cell.r)}function fix_cell(cstr){return fix_col(fix_row(cstr))}function unfix_cell(cstr){return unfix_col(unfix_row(cstr))}function decode_range(range){var x=range.split(":").map(decode_cell);return{s:x[0],e:x[x.length-1]}}function encode_range(cs,ce){if(ce===undefined||typeof ce==="number")return encode_range(cs.s,cs.e);if(typeof cs!=="string")cs=encode_cell(cs);if(typeof ce!=="string")ce=encode_cell(ce);return cs==ce?cs:cs+":"+ce}function safe_decode_range(range){var o={s:{c:0,r:0},e:{c:0,r:0}};var idx=0,i=0,cc=0;var len=range.length;for(idx=0;i<len;++i){if((cc=range.charCodeAt(i)-64)<1||cc>26)break;idx=26*idx+cc}o.s.c=--idx;for(idx=0;i<len;++i){if((cc=range.charCodeAt(i)-48)<0||cc>9)break;idx=10*idx+cc}o.s.r=--idx;if(i===len||range.charCodeAt(++i)===58){o.e.c=o.s.c;o.e.r=o.s.r;return o}for(idx=0;i!=len;++i){if((cc=range.charCodeAt(i)-64)<1||cc>26)break;idx=26*idx+cc}o.e.c=--idx;for(idx=0;i!=len;++i){if((cc=range.charCodeAt(i)-48)<0||cc>9)break;idx=10*idx+cc}o.e.r=--idx;return o}function safe_format_cell(cell,v){if(cell.z!==undefined)try{return cell.w=SSF.format(cell.z,v)}catch(e){}if(!cell.XF)return v;try{return cell.w=SSF.format(cell.XF.ifmt||0,v)}catch(e){return""+v}}function format_cell(cell,v){if(cell==null||cell.t==null)return"";if(cell.w!==undefined)return cell.w;if(v===undefined)return safe_format_cell(cell,cell.v);return safe_format_cell(cell,v)}function sheet_to_json(sheet,opts){var val,row,range,header=0,offset=1,r,hdr=[],isempty,R,C,v;var o=opts!=null?opts:{};var raw=o.raw;if(sheet==null||sheet["!ref"]==null)return[];range=o.range!==undefined?o.range:sheet["!ref"];if(o.header===1)header=1;else if(o.header==="A")header=2;else if(Array.isArray(o.header))header=3;switch(typeof range){case"string":r=safe_decode_range(range);break;case"number":r=safe_decode_range(sheet["!ref"]);r.s.r=range;break;default:r=range}if(header>0)offset=0;var rr=encode_row(r.s.r);var cols=new Array(r.e.c-r.s.c+1);var out=new Array(r.e.r-r.s.r-offset+1);var outi=0;for(C=r.s.c;C<=r.e.c;++C){cols[C]=encode_col(C);val=sheet[cols[C]+rr];switch(header){case 1:hdr[C]=C;break;case 2:hdr[C]=cols[C];break;case 3:hdr[C]=o.header[C-r.s.c];break;default:if(val===undefined)continue;hdr[C]=format_cell(val)}}for(R=r.s.r+offset;R<=r.e.r;++R){rr=encode_row(R);isempty=true;if(header===1)row=[];else{row={};if(Object.defineProperty)Object.defineProperty(row,"__rowNum__",{value:R,enumerable:false});else row.__rowNum__=R}for(C=r.s.c;C<=r.e.c;++C){val=sheet[cols[C]+rr];if(val===undefined||val.t===undefined)continue;v=val.v;switch(val.t){case"e":continue;case"s":break;case"b":case"n":break;default:throw"unrecognized type "+val.t}if(v!==undefined){row[hdr[C]]=raw?v:format_cell(val,v);isempty=false}}if(isempty===false||header===1)out[outi++]=row}out.length=outi;return out}function sheet_to_row_object_array(sheet,opts){return sheet_to_json(sheet,opts!=null?opts:{})}function sheet_to_csv(sheet,opts){var out="",txt="",qreg=/"/g;var o=opts==null?{}:opts;if(sheet==null||sheet["!ref"]==null)return"";var r=safe_decode_range(sheet["!ref"]);var FS=o.FS!==undefined?o.FS:",",fs=FS.charCodeAt(0);var RS=o.RS!==undefined?o.RS:"\n",rs=RS.charCodeAt(0);var row="",rr="",cols=[];var i=0,cc=0,val;var R=0,C=0;for(C=r.s.c;C<=r.e.c;++C)cols[C]=encode_col(C);for(R=r.s.r;R<=r.e.r;++R){row="";rr=encode_row(R);for(C=r.s.c;C<=r.e.c;++C){val=sheet[cols[C]+rr];txt=val!==undefined?""+format_cell(val):"";for(i=0,cc=0;i!==txt.length;++i)if((cc=txt.charCodeAt(i))===fs||cc===rs||cc===34){txt='"'+txt.replace(qreg,'""')+'"';break}row+=(C===r.s.c?"":FS)+txt}out+=row+RS}return out}var make_csv=sheet_to_csv;function sheet_to_formulae(sheet){var cmds,y="",x,val="";if(sheet==null||sheet["!ref"]==null)return"";var r=safe_decode_range(sheet["!ref"]),rr="",cols=[],C;cmds=new Array((r.e.r-r.s.r+1)*(r.e.c-r.s.c+1));var i=0;for(C=r.s.c;C<=r.e.c;++C)cols[C]=encode_col(C);for(var R=r.s.r;R<=r.e.r;++R){rr=encode_row(R);for(C=r.s.c;C<=r.e.c;++C){y=cols[C]+rr;x=sheet[y];val="";if(x===undefined)continue;if(x.f!=null)val=x.f;else if(x.w!==undefined)val="'"+x.w;else if(x.v===undefined)continue;else val=""+x.v;cmds[i++]=y+"="+val}}cmds.length=i;return cmds}var utils={encode_col:encode_col,encode_row:encode_row,encode_cell:encode_cell,encode_range:encode_range,decode_col:decode_col,decode_row:decode_row,split_cell:split_cell,decode_cell:decode_cell,decode_range:decode_range,format_cell:format_cell,get_formulae:sheet_to_formulae,make_csv:sheet_to_csv,make_json:sheet_to_json,make_formulae:sheet_to_formulae,sheet_to_csv:sheet_to_csv,sheet_to_json:sheet_to_json,sheet_to_formulae:sheet_to_formulae,sheet_to_row_object_array:sheet_to_row_object_array};XLSX.parse_xlscfb=parse_xlscfb;XLSX.parse_zip=parse_zip;XLSX.read=readSync;XLSX.readFile=readFileSync;XLSX.readFileSync=readFileSync;XLSX.write=writeSync;XLSX.writeFile=writeFileSync;XLSX.writeFileSync=writeFileSync;XLSX.utils=utils;XLSX.CFB=CFB;XLSX.SSF=SSF})(typeof exports!=="undefined"?exports:XLSX);var XLS=XLSX;

/*
ngprogress 1.1.2 - slim, site-wide progressbar for AngularJS 
(C) 2013 - Victor Bjelkholm 
License: MIT 
Source: https://github.com/VictorBjelkholm/ngProgress 
Date Compiled: 2015-07-27 
*/
angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){"use strict";return["$document","$window","$compile","$rootScope","$timeout",function(a,b,c,d,e){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=d.$new(),this.color="firebrick",this.parent=a.find("body")[0],this.count=0,this.progressbarEl=c("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var a=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(a.count)?(clearInterval(a.intervalCounterId),a.count=0,a.hide()):(a.remaining=100-a.count,a.count=a.count+.15*Math.pow(1-Math.sqrt(a.remaining),2),a.updateCount(a.count))},200)},this.updateCount=function(a){this.$scope.count=a,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(a){return void 0!==a&&(this.height=a,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(a){return void 0!==a&&(this.color=a,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var a=this;a.animate(function(){a.progressbarEl.children().css("width","0%"),a.animate(function(){a.show()},500)},500)},this.show=function(){var a=this;a.animate(function(){a.progressbarEl.children().css("opacity","1")},100)},this.animate=function(a,b){void 0!==this.animation&&e.cancel(this.animation),this.animation=e(a,b)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(a){return this.show(),this.updateCount(a),this.count=a,clearInterval(this.intervalCounterId),this.count},this.css=function(a){return this.progressbarEl.children().css(a)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var a=this;return clearInterval(this.intervalCounterId),e(function(){a.hide(),e(function(){a.count=0,a.updateCount(a.count)},500)},1e3),this.count},this.setParent=function(a){if(null===a||void 0===a)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=a,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function(a,b){var c={createInstance:function(){return a.instantiate(b)}};return c}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function(a,b){var c={replace:!0,restrict:"E",link:function(a,b,c,d){a.$watch("count",function(c){(void 0!==c||null!==c)&&(a.counter=c,b.eq(0).children().css("width",c+"%"))}),a.$watch("color",function(c){(void 0!==c||null!==c)&&(a.color=c,b.eq(0).children().css("background-color",c),b.eq(0).children().css("color",c))}),a.$watch("height",function(c){(void 0!==c||null!==c)&&(a.height=c,b.eq(0).children().css("height",c))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return c}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"]);
/*
	@license Angular Treeview version 0.1.6
	 2013 AHN JAE-HA http://github.com/eu81273/angular.treeview
	License: MIT
*/

(function(f){f.module("angularTreeview",[]).directive("treeModel",function($compile){return{restrict:"A",link:function(b,h,c){var a=c.treeId,g=c.treeModel,e=c.nodeLabel||"label",d=c.nodeChildren||"children",e='<ul><li data-ng-repeat="node in '+g+'"><i class="collapsed" data-ng-show="node.'+d+'.length && node.collapsed" data-ng-click="'+a+'.selectNodeHead(node)"></i><i class="expanded" data-ng-show="node.'+d+'.length && !node.collapsed" data-ng-click="'+a+'.selectNodeHead(node)"></i><i class="normal" data-ng-hide="node.'+
d+'.length"></i> <span data-ng-class="node.selected" data-ng-click="'+a+'.selectNodeLabel(node)">{{node.'+e+'}}</span><div data-ng-hide="node.collapsed" data-tree-id="'+a+'" data-tree-model="node.'+d+'" data-node-id='+(c.nodeId||"id")+" data-node-label="+e+" data-node-children="+d+"></div></li></ul>";a&&g&&(c.angularTreeview&&(b[a]=b[a]||{},b[a].selectNodeHead=b[a].selectNodeHead||function(a){a.collapsed=!a.collapsed},b[a].selectNodeLabel=b[a].selectNodeLabel||function(c){b[a].currentNode&&b[a].currentNode.selected&&
(b[a].currentNode.selected=void 0);c.selected="selected";b[a].currentNode=c}),h.html('').append($compile(e)(b)))}}})})(angular);
/*! 12.2.12 */
!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(a){return function(b,c){if("__setXHR_"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.12",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(a,b,c){function d(d){function e(a){j.notify&&j.notify(a),k.progressFunc&&c(function(){k.progressFunc(a)})}function h(a){return null!=d._start&&g?{loaded:a.loaded+d._start,total:d._file&&d._file.size||a.total,type:a.type,config:d,lengthComputable:!0,target:a.target}:a}function i(){a(d).then(function(a){if(g&&d._chunkSize&&!d._finished&&d._file){var b=d._file&&d._file.size||0;e({loaded:Math.min(d._end,b),total:b,config:d,type:"progress"}),f.upload(d,!0)}else d._finished&&delete d._finished,j.resolve(a)},function(a){j.reject(a)},function(a){j.notify(a)})}d.method=d.method||"POST",d.headers=d.headers||{};var j=d._deferred=d._deferred||b.defer(),k=j.promise;return d.disableProgress||(d.headers.__setXHR_=function(){return function(a){a&&a.upload&&a.upload.addEventListener&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener("progress",function(a){a.config=d,e(h(a))},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&(a.config=d,e(h(a)))},!1))}}),g?d._chunkSize&&d._end&&!d._finished?(d._start=d._end,d._end+=d._chunkSize,i()):d.resumeSizeUrl?a.get(d.resumeSizeUrl).then(function(a){d._start=d.resumeSizeResponseReader?d.resumeSizeResponseReader(a.data):parseInt((null==a.data.size?a.data:a.data.size).toString()),d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):d.resumeSize?d.resumeSize().then(function(a){d._start=a,d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):(d._chunkSize&&(d._start=0,d._end=d._start+d._chunkSize),i()):i(),k.success=function(a){return k.then(function(b){a(b.data,b.status,b.headers,d)}),k},k.error=function(a){return k.then(null,function(b){a(b.data,b.status,b.headers,d)}),k},k.progress=function(a){return k.progressFunc=a,k.then(null,null,function(b){a(b)}),k},k.abort=k.pause=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),k},k.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(k,arguments),a.apply(k,arguments)}}(d.xhrFn),k},f.promisesCount++,k["finally"]&&k["finally"]instanceof Function&&k["finally"](function(){f.promisesCount--}),k}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=this;f.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var g=this.isResumeSupported();this.isUploadInProgress=function(){return f.promisesCount>0},this.rename=function(a,b){return a.ngfName=b,a},this.jsonBlob=function(a){null==a||angular.isString(a)||(a=JSON.stringify(a));var b=new window.Blob([a],{type:"application/json"});return b._ngfBlob=!0,b},this.json=function(a){return angular.toJson(a)},this.isFile=function(a){return null!=a&&(a instanceof window.Blob||a.flashId&&a.name&&a.size)},this.upload=function(a,b){function c(b,c){if(b._ngfBlob)return b;if(a._file=a._file||b,null!=a._start&&g){a._end&&a._end>=b.size&&(a._finished=!0,a._end=b.size);var d=b.slice(a._start,a._end||b.size);return d.name=b.name,d.ngfName=b.ngfName,a._chunkSize&&(c.append("_chunkSize",a._chunkSize),c.append("_currentChunkSize",a._end-a._start),c.append("_chunkNumber",Math.floor(a._start/a._chunkSize)),c.append("_totalSize",a._file.size)),d}return b}function h(b,d,e){if(void 0!==d)if(angular.isDate(d)&&(d=d.toISOString()),angular.isString(d))b.append(e,d);else if(f.isFile(d)){var g=c(d,b),i=e.split(",");i[1]&&(g.ngfName=i[1].replace(/^\s+|\s+$/g,""),e=i[0]),a._fileKey=a._fileKey||e,b.append(e,g,g.ngfName||g.name)}else if(angular.isObject(d)){if(d.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+e;d.$$ngfCircularDetection=!0;try{for(var j in d)if(d.hasOwnProperty(j)&&"$$ngfCircularDetection"!==j){var k=null==a.objectKey?"[i]":a.objectKey;d.length&&parseInt(j)>-1&&(k=null==a.arrayKey?k:a.arrayKey),h(b,d[j],e+k.replace(/[ik]/g,j))}}finally{delete d.$$ngfCircularDetection}}else b.append(e,d)}function i(){a._chunkSize=f.translateScalars(a.resumeChunkSize),a._chunkSize=a._chunkSize?parseInt(a._chunkSize.toString()):null,a.headers=a.headers||{},a.headers["Content-Type"]=void 0,a.transformRequest=a.transformRequest?angular.isArray(a.transformRequest)?a.transformRequest:[a.transformRequest]:[],a.transformRequest.push(function(b){var c,d=new window.FormData;b=b||a.fields||{},a.file&&(b.file=a.file);for(c in b)if(b.hasOwnProperty(c)){var e=b[c];a.formDataAppender?a.formDataAppender(d,c,e):h(d,e,c)}return d})}return b||(a=e(a)),a._isDigested||(a._isDigested=!0,i()),d(a)},this.http=function(b){return b=e(b),b.transformRequest=b.transformRequest||function(b){return window.ArrayBuffer&&b instanceof window.ArrayBuffer||b instanceof window.Blob?b:a.defaults.transformRequest[0].apply(this,arguments)},b._chunkSize=f.translateScalars(b.resumeChunkSize),b._chunkSize=b._chunkSize?parseInt(b._chunkSize.toString()):null,d(b)},this.translateScalars=function(a){if(angular.isString(a)){if(a.search(/kb/i)===a.length-2)return parseFloat(1024*a.substring(0,a.length-2));if(a.search(/mb/i)===a.length-2)return parseFloat(1048576*a.substring(0,a.length-2));if(a.search(/gb/i)===a.length-2)return parseFloat(1073741824*a.substring(0,a.length-2));if(a.search(/b/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/s/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/m/i)===a.length-1)return parseFloat(60*a.substring(0,a.length-1));if(a.search(/h/i)===a.length-1)return parseFloat(3600*a.substring(0,a.length-1))}return a},this.urlToBlob=function(c){var d=b.defer();return a({url:c,method:"get",responseType:"arraybuffer"}).then(function(a){var b=new Uint8Array(a.data),e=a.headers("content-type")||"image/WebP",f=new window.Blob([b],{type:e}),g=c.match(/.*\/(.+?)(\?.*)?$/);g.length>1&&(f.name=g[1]),d.resolve(f)},function(a){d.reject(a)}),d.promise},this.setDefaults=function(a){this.defaults=a||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(a,b,c,d,e){function f(a,b,c){var e=[i.emptyPromise()];return angular.forEach(a,function(d,f){0===d.type.indexOf("image/jpeg")&&i.attrGetter("ngfFixOrientation",b,c,{$file:d})&&e.push(i.happyPromise(i.applyExifRotation(d),d).then(function(b){a.splice(f,1,b)}))}),d.all(e)}function g(a,b,c,e){var f=i.attrGetter("ngfResize",b,c);if(!f||!i.isResizeSupported()||!a.length)return i.emptyPromise();if(f instanceof Function){var g=d.defer();return f(a).then(function(d){h(d,a,b,c,e).then(function(a){g.resolve(a)},function(a){g.reject(a)})},function(a){g.reject(a)})}return h(f,a,b,c,e)}function h(a,b,c,e,f){function g(d,g){if(0===d.type.indexOf("image")){if(a.pattern&&!i.validatePattern(d,a.pattern))return;a.resizeIf=function(a,b){return i.attrGetter("ngfResizeIf",c,e,{$width:a,$height:b,$file:d})};var j=i.resize(d,a);h.push(j),j.then(function(a){b.splice(g,1,a)},function(a){d.$error="resize",(d.$errorMessages=d.$errorMessages||{}).resize=!0,d.$errorParam=(a?(a.message?a.message:a)+": ":"")+(d&&d.name),f.$ngfValidations.push({name:"resize",valid:!1}),i.applyModelValidation(f,b)})}}for(var h=[i.emptyPromise()],j=0;j<b.length;j++)g(b[j],j);return d.all(h)}var i=e;return i.getAttrWithDefaults=function(a,b){if(null!=a[b])return a[b];var c=i.defaults[b];return null==c?c:angular.isString(c)?c:JSON.stringify(c)},i.attrGetter=function(b,c,d,e){var f=this.getAttrWithDefaults(c,b);if(!d)return f;try{return e?a(f)(d,e):a(f)(d)}catch(g){if(b.search(/min|max|pattern/i))return f;throw g}},i.shouldUpdateOn=function(a,b,c){var d=i.attrGetter("ngfModelOptions",b,c);return d&&d.updateOn?d.updateOn.split(" ").indexOf(a)>-1:!0},i.emptyPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.resolve.apply(a,c)}),a.promise},i.rejectPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.reject.apply(a,c)}),a.promise},i.happyPromise=function(a,c){var e=d.defer();return a.then(function(a){e.resolve(a)},function(a){b(function(){throw a}),e.resolve(c)}),e.promise},i.updateModel=function(c,d,e,h,j,k,l){function m(f,g,j,l,m){d.$$ngfPrevValidFiles=f,d.$$ngfPrevInvalidFiles=g;var n=f&&f.length?f[0]:null,o=g&&g.length?g[0]:null;c&&(i.applyModelValidation(c,f),c.$setViewValue(m?n:f)),h&&a(h)(e,{$files:f,$file:n,$newFiles:j,$duplicateFiles:l,$invalidFiles:g,$invalidFile:o,$event:k});var p=i.attrGetter("ngfModelInvalid",d);p&&b(function(){a(p).assign(e,m?o:g)}),b(function(){})}function n(){function a(a,b){return a.name===b.name&&(a.$ngfOrigSize||a.size)===(b.$ngfOrigSize||b.size)&&a.type===b.type}function b(b){var c;for(c=0;c<r.length;c++)if(a(b,r[c]))return!0;for(c=0;c<s.length;c++)if(a(b,s[c]))return!0;return!1}if(j){q=[],t=[];for(var c=0;c<j.length;c++)b(j[c])?t.push(j[c]):q.push(j[c])}}function o(a){return angular.isArray(a)?a:[a]}function p(){function a(){b(function(){m(w?r.concat(v):v,w?s.concat(u):u,j,t,x)},z&&z.debounce?z.debounce.change||z.debounce:0)}var f=y?q:v;g(f,d,e,c).then(function(){y?i.validate(q,w?r.length:0,c,d,e).then(function(b){v=b.validsFiles,u=b.invalidsFiles,a()}):a()},function(){for(var b=0;b<f.length;b++){var c=f[b];if("resize"===c.$error){var d=v.indexOf(c);d>-1&&(v.splice(d,1),u.push(c)),a()}}})}var q,r,s,t=[],u=[],v=[];r=d.$$ngfPrevValidFiles||[],s=d.$$ngfPrevInvalidFiles||[],c&&c.$modelValue&&(r=o(c.$modelValue));var w=i.attrGetter("ngfKeep",d,e);q=(j||[]).slice(0),("distinct"===w||i.attrGetter("ngfKeepDistinct",d,e)===!0)&&n(d,e);var x=!w&&!i.attrGetter("ngfMultiple",d,e)&&!i.attrGetter("multiple",d);if(!w||q.length){i.attrGetter("ngfBeforeModelChange",d,e,{$files:j,$file:j&&j.length?j[0]:null,$newFiles:q,$duplicateFiles:t,$event:k});var y=i.attrGetter("ngfValidateAfterResize",d,e),z=i.attrGetter("ngfModelOptions",d,e);i.validate(q,w?r.length:0,c,d,e).then(function(a){l?m(q,[],j,t,x):(z&&z.allowInvalid||y?v=q:(v=a.validFiles,u=a.invalidFiles),i.attrGetter("ngfFixOrientation",d,e)&&i.isExifSupported()?f(v,d,e).then(function(){p()}):p())})}},i}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(a,b,c,d){function e(a){var b=a.match(/Android[^\d]*(\d+)\.(\d+)/);if(b&&b.length>2){var c=d.defaults.androidFixMinorVersion||4;return parseInt(b[1])<4||parseInt(b[1])===c&&parseInt(b[2])<c}return-1===a.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(a)}function f(a,b,c,d,f,h,i,j){function k(){return"input"===b[0].tagName.toLowerCase()&&c.type&&"file"===c.type.toLowerCase()}function l(){return t("ngfChange")||t("ngfSelect")}function m(b){if(j.shouldUpdateOn("change",c,a)){var e=b.__files_||b.target&&b.target.files,f=[];if(!e)return;for(var g=0;g<e.length;g++)f.push(e[g]);j.updateModel(d,c,a,l(),f.length?f:null,b)}}function n(a,d){function e(b){a.attr("id","ngf-"+b),d.attr("id","ngf-label-"+b)}for(var f=0;f<b[0].attributes.length;f++){var g=b[0].attributes[f];"type"!==g.name&&"class"!==g.name&&"style"!==g.name&&("id"===g.name?(e(g.value),u.push(c.$observe("id",e))):a.attr(g.name,g.value||"required"!==g.name&&"multiple"!==g.name?g.value:g.name))}}function o(){if(k())return b;var a=angular.element('<input type="file">'),c=angular.element("<label>upload</label>");return c.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),n(a,c),g.push({el:b,ref:c}),document.body.appendChild(c.append(a)[0]),a}function p(c){if(b.attr("disabled"))return!1;if(!t("ngfSelectDisabled",a)){var d=q(c);if(null!=d)return d;r(c);try{k()||document.body.contains(x[0])||(g.push({el:b,ref:x.parent()}),document.body.appendChild(x.parent()[0]),x.bind("change",m))}catch(f){}return e(navigator.userAgent)?setTimeout(function(){x[0].click()},0):x[0].click(),!1}}function q(a){var b=a.changedTouches||a.originalEvent&&a.originalEvent.changedTouches;if(b){if("touchstart"===a.type)return w=b[0].clientX,v=b[0].clientY,!0;if("touchend"===a.type){var c=b[0].clientX,d=b[0].clientY;if(Math.abs(c-w)>20||Math.abs(d-v)>20)return a.stopPropagation(),a.preventDefault(),!1}return!0}}function r(b){j.shouldUpdateOn("click",c,a)&&x.val()&&(x.val(null),j.updateModel(d,c,a,l(),null,b,!0))}function s(a){if(x&&!x.attr("__ngf_ie10_Fix_")){if(!x[0].parentNode)return void(x=null);a.preventDefault(),a.stopPropagation(),x.unbind("click");var b=x.clone();return x.replaceWith(b),x=b,x.attr("__ngf_ie10_Fix_","true"),x.bind("change",m),x.bind("click",s),x[0].click(),!1}x.removeAttr("__ngf_ie10_Fix_")}var t=function(a,b){return j.attrGetter(a,c,b)};j.registerModelChangeValidator(d,c,a);var u=[];t("ngfMultiple")&&u.push(a.$watch(t("ngfMultiple"),function(){x.attr("multiple",t("ngfMultiple",a))})),t("ngfCapture")&&u.push(a.$watch(t("ngfCapture"),function(){x.attr("capture",t("ngfCapture",a))})),t("ngfAccept")&&u.push(a.$watch(t("ngfAccept"),function(){x.attr("accept",t("ngfAccept",a))})),u.push(c.$observe("accept",function(){x.attr("accept",t("accept"))}));var v=0,w=0,x=b;k()||(x=o()),x.bind("change",m),k()?b.bind("click",r):b.bind("click touchstart touchend",p),-1!==navigator.appVersion.indexOf("MSIE 10")&&x.bind("click",s),d&&d.$formatters.push(function(a){return(null==a||0===a.length)&&x.val()&&x.val(null),a}),a.$on("$destroy",function(){k()||x.parent().remove(),angular.forEach(u,function(a){a()})}),h(function(){for(var a=0;a<g.length;a++){var b=g[a];document.body.contains(b.el[0])||(g.splice(a,1),b.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(b,x,m)}var g=[];return{restrict:"AEC",require:"?ngModel",link:function(e,g,h,i){f(e,g,h,i,a,b,c,d)}}}]),function(){function a(a){return"img"===a.tagName.toLowerCase()?"image":"audio"===a.tagName.toLowerCase()?"audio":"video"===a.tagName.toLowerCase()?"video":/./}function b(b,c,d,e,f,g,h,i){function j(a){var g=b.attrGetter("ngfNoObjectUrl",f,d);b.dataUrl(a,g)["finally"](function(){c(function(){var b=(g?a.$ngfDataUrl:a.$ngfBlobUrl)||a.$ngfDataUrl;i?e.css("background-image","url('"+(b||"")+"')"):e.attr("src",b),b?e.removeClass("ng-hide"):e.addClass("ng-hide")})})}c(function(){var c=d.$watch(f[g],function(c){var k=h;if("ngfThumbnail"===g&&(k||(k={width:e[0].naturalWidth||e[0].clientWidth,height:e[0].naturalHeight||e[0].clientHeight}),0===k.width&&window.getComputedStyle)){var l=getComputedStyle(e[0]);k={width:parseInt(l.width.slice(0,-2)),height:parseInt(l.height.slice(0,-2))}}return angular.isString(c)?(e.removeClass("ng-hide"),i?e.css("background-image","url('"+c+"')"):e.attr("src",c)):void(!c||!c.type||0!==c.type.search(a(e[0]))||i&&0!==c.type.indexOf("image")?e.addClass("ng-hide"):k&&b.isResizeSupported()?(k.resizeIf=function(a,e){return b.attrGetter("ngfResizeIf",f,d,{$width:a,$height:e,$file:c})},b.resize(c,k).then(function(a){j(a)},function(a){throw a})):j(c))});d.$on("$destroy",function(){c()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(a,b,c){var d=a;return d.base64DataUrl=function(a){if(angular.isArray(a)){var b=c.defer(),e=0;return angular.forEach(a,function(c){d.dataUrl(c,!0)["finally"](function(){if(e++,e===a.length){var c=[];angular.forEach(a,function(a){c.push(a.$ngfDataUrl)}),b.resolve(c,a)}})}),b.promise}return d.dataUrl(a,!0)},d.dataUrl=function(a,e){if(!a)return d.emptyPromise(a,a);if(e&&null!=a.$ngfDataUrl||!e&&null!=a.$ngfBlobUrl)return d.emptyPromise(e?a.$ngfDataUrl:a.$ngfBlobUrl,a);var f=e?a.$$ngfDataUrlPromise:a.$$ngfBlobUrlPromise;if(f)return f;var g=c.defer();return b(function(){if(window.FileReader&&a&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||a.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||a.size<4e6)){var c=window.URL||window.webkitURL;if(c&&c.createObjectURL&&!e){var f;try{f=c.createObjectURL(a)}catch(h){return void b(function(){a.$ngfBlobUrl="",g.reject()})}b(function(){if(a.$ngfBlobUrl=f,f){g.resolve(f,a),d.blobUrls=d.blobUrls||[],d.blobUrlsTotalSize=d.blobUrlsTotalSize||0,d.blobUrls.push({url:f,size:a.size}),d.blobUrlsTotalSize+=a.size||0;for(var b=d.defaults.blobUrlsMaxMemory||268435456,e=d.defaults.blobUrlsMaxQueueSize||200;(d.blobUrlsTotalSize>b||d.blobUrls.length>e)&&d.blobUrls.length>1;){var h=d.blobUrls.splice(0,1)[0];c.revokeObjectURL(h.url),d.blobUrlsTotalSize-=h.size}}})}else{var i=new FileReader;i.onload=function(c){b(function(){a.$ngfDataUrl=c.target.result,g.resolve(c.target.result,a),b(function(){delete a.$ngfDataUrl},1e3)})},i.onerror=function(){b(function(){a.$ngfDataUrl="",g.reject()})},i.readAsDataURL(a)}}else b(function(){a[e?"$ngfDataUrl":"$ngfBlobUrl"]="",g.reject()})}),f=e?a.$$ngfDataUrlPromise=g.promise:a.$$ngfBlobUrlPromise=g.promise,f["finally"](function(){delete a[e?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),f},d}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfSrc",a.attrGetter("ngfResize",f,d),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfBackground",a.attrGetter("ngfResize",f,d),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){var g=a.attrGetter("ngfSize",f,d);b(a,c,d,e,f,"ngfThumbnail",g,a.attrGetter("ngfAsBackground",f,d))}}}]),ngFileUpload.config(["$compileProvider",function(a){a.imgSrcSanitizationWhitelist&&a.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),a.aHrefSanitizationWhitelist&&a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(a,b){return function(c,d,e){if(angular.isString(c))return b.trustAsResourceUrl(c);var f=c&&((d?c.$ngfDataUrl:c.$ngfBlobUrl)||c.$ngfDataUrl);return c&&!f?(!c.$ngfDataUrlFilterInProgress&&angular.isObject(c)&&(c.$ngfDataUrlFilterInProgress=!0,a.dataUrl(c,d)),""):(c&&delete c.$ngfDataUrlFilterInProgress,(c&&f?e?b.trustAsResourceUrl(f):f:c)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(a,b,c){function d(a){var b="",c=[];if(a.length>2&&"/"===a[0]&&"/"===a[a.length-1])b=a.substring(1,a.length-1);else{var e=a.split(",");if(e.length>1)for(var f=0;f<e.length;f++){var g=d(e[f]);g.regexp?(b+="("+g.regexp+")",f<e.length-1&&(b+="|")):c=c.concat(g.excludes)}else 0===a.indexOf("!")?c.push("^((?!"+d(a.substring(1)).regexp+").)*$"):(0===a.indexOf(".")&&(a="*"+a),b="^"+a.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",b=b.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:b,excludes:c}}function e(a,b){null==b||a.$dirty||(a.$setDirty?a.$setDirty():a.$dirty=!0)}var f=a;return f.validatePattern=function(a,b){if(!b)return!0;var c=d(b),e=!0;if(c.regexp&&c.regexp.length){var f=new RegExp(c.regexp,"i");e=null!=a.type&&f.test(a.type)||null!=a.name&&f.test(a.name)}for(var g=c.excludes.length;g--;){var h=new RegExp(c.excludes[g],"i");e=e&&(null==a.type||h.test(a.type))&&(null==a.name||h.test(a.name))}return e},f.ratioToFloat=function(a){var b=a.toString(),c=b.search(/[x:]/i);return b=c>-1?parseFloat(b.substring(0,c))/parseFloat(b.substring(c+1)):parseFloat(b)},f.registerModelChangeValidator=function(a,b,c){a&&a.$formatters.push(function(d){if(a.$dirty){var e=d;d&&!angular.isArray(d)&&(e=[d]),f.validate(e,0,a,b,c).then(function(){f.applyModelValidation(a,e)})}return d})},f.applyModelValidation=function(a,b){e(a,b),angular.forEach(a.$ngfValidations,function(b){a.$setValidity(b.name,b.valid)})},f.getValidationAttr=function(a,b,c,d,e){var g="ngf"+c[0].toUpperCase()+c.substr(1),h=f.attrGetter(g,a,b,{$file:e});if(null==h&&(h=f.attrGetter("ngfValidate",a,b,{$file:e}))){var i=(d||c).split(".");h=h[i[0]],i.length>1&&(h=h&&h[i[1]])}return h},f.validate=function(a,c,d,e,g){function h(b,c,h){if(a){for(var i=a.length,j=null;i--;){var n=a[i];if(n){var o=f.getValidationAttr(e,g,b,c,n);null!=o&&(h(n,o,i)||(-1===k.indexOf(b)?(n.$error=b,(n.$errorMessages=n.$errorMessages||{})[b]=!0,n.$errorParam=o,-1===m.indexOf(n)&&m.push(n),l||a.splice(i,1),j=!1):a.splice(i,1)))}}null!==j&&d.$ngfValidations.push({name:b,valid:j})}}function i(c,h,i,n,o){function p(b,d,e){function f(f){if(f())if(-1===k.indexOf(c)){if(d.$error=c,(d.$errorMessages=d.$errorMessages||{})[c]=!0,d.$errorParam=e,-1===m.indexOf(d)&&m.push(d),!l){var g=a.indexOf(d);g>-1&&a.splice(g,1)}b.resolve(!1)}else{var h=a.indexOf(d);h>-1&&a.splice(h,1),b.resolve(!0)}else b.resolve(!0)}null!=e?n(d,e).then(function(a){f(function(){return!o(a,e)})},function(){f(function(){return j("ngfValidateForce",{$file:d})})}):b.resolve(!0)}var q=[f.emptyPromise(!0)];a&&(a=void 0===a.length?[a]:a,angular.forEach(a,function(a){var d=b.defer();return q.push(d.promise),!i||null!=a.type&&0===a.type.search(i)?void("dimensions"===c&&null!=f.attrGetter("ngfDimensions",e)?f.imageDimensions(a).then(function(b){p(d,a,j("ngfDimensions",{$file:a,$width:b.width,$height:b.height}))},function(){d.resolve(!1)}):"duration"===c&&null!=f.attrGetter("ngfDuration",e)?f.mediaDuration(a).then(function(b){p(d,a,j("ngfDuration",{$file:a,$duration:b}))},function(){d.resolve(!1)}):p(d,a,f.getValidationAttr(e,g,c,h,a))):void d.resolve(!0)}));var r=b.defer();return b.all(q).then(function(a){for(var b=!0,e=0;e<a.length;e++)if(!a[e]){b=!1;break}d.$ngfValidations.push({name:c,valid:b}),r.resolve(b)}),r.promise}d=d||{},d.$ngfValidations=d.$ngfValidations||[],angular.forEach(d.$ngfValidations,function(a){a.valid=!0});var j=function(a,b){return f.attrGetter(a,e,g,b)},k=(f.attrGetter("ngfIgnoreInvalid",e,g)||"").split(" "),l=f.attrGetter("ngfRunAllValidations",e,g);if(null==a||0===a.length)return f.emptyPromise({validFiles:a,invalidFiles:[]});a=void 0===a.length?[a]:a.slice(0);var m=[];h("pattern",null,f.validatePattern),h("minSize","size.min",function(a,b){return a.size+.1>=f.translateScalars(b)}),h("maxSize","size.max",function(a,b){return a.size-.1<=f.translateScalars(b)});var n=0;if(h("maxTotalSize",null,function(b,c){return n+=b.size,n>f.translateScalars(c)?(a.splice(0,a.length),!1):!0}),h("validateFn",null,function(a,b){return b===!0||null===b||""===b}),!a.length)return f.emptyPromise({validFiles:[],invalidFiles:m});var o=b.defer(),p=[];return p.push(i("maxHeight","height.max",/image/,this.imageDimensions,function(a,b){return a.height<=b})),p.push(i("minHeight","height.min",/image/,this.imageDimensions,function(a,b){return a.height>=b})),p.push(i("maxWidth","width.max",/image/,this.imageDimensions,function(a,b){return a.width<=b})),p.push(i("minWidth","width.min",/image/,this.imageDimensions,function(a,b){return a.width>=b})),p.push(i("dimensions",null,/image/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i("ratio",null,/image/,this.imageDimensions,function(a,b){for(var c=b.toString().split(","),d=!1,e=0;e<c.length;e++)Math.abs(a.width/a.height-f.ratioToFloat(c[e]))<.01&&(d=!0);return d})),p.push(i("maxRatio","ratio.max",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)<1e-4})),p.push(i("minRatio","ratio.min",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)>-1e-4})),p.push(i("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(a,b){return a<=f.translateScalars(b)})),p.push(i("minDuration","duration.min",/audio|video/,this.mediaDuration,function(a,b){return a>=f.translateScalars(b)})),p.push(i("duration",null,/audio|video/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i("validateAsyncFn",null,null,function(a,b){return b},function(a){return a===!0||null===a||""===a})),b.all(p).then(function(){if(l)for(var b=0;b<a.length;b++){var d=a[b];d.$error&&a.splice(b--,1)}l=!1,h("maxFiles",null,function(a,b,d){return b>c+d}),o.resolve({validFiles:a,invalidFiles:m})}),o.promise},f.imageDimensions=function(a){if(a.$ngfWidth&&a.$ngfHeight){var d=b.defer();return c(function(){d.resolve({width:a.$ngfWidth,height:a.$ngfHeight})}),d.promise}if(a.$ngfDimensionPromise)return a.$ngfDimensionPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("image")?void e.reject("not image"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].naturalWidth||h[0].clientWidth,c=h[0].naturalHeight||h[0].clientHeight;h.remove(),a.$ngfWidth=b,a.$ngfHeight=c,e.resolve({width:b,height:c})}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].clientWidth?d():i++>10?f():g())},1e3)}var h=angular.element("<img>").attr("src",b).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");h.on("load",d),h.on("error",f);var i=0;g(),angular.element(document.getElementsByTagName("body")[0]).append(h)},function(){e.reject("load error")})}),a.$ngfDimensionPromise=e.promise,a.$ngfDimensionPromise["finally"](function(){delete a.$ngfDimensionPromise}),a.$ngfDimensionPromise},f.mediaDuration=function(a){if(a.$ngfDuration){var d=b.defer();return c(function(){d.resolve(a.$ngfDuration)}),d.promise}if(a.$ngfDurationPromise)return a.$ngfDurationPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("audio")&&0!==a.type.indexOf("video")?void e.reject("not media"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].duration;a.$ngfDuration=b,h.remove(),e.resolve(b)}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].duration?d():i>10?f():g())},1e3)}var h=angular.element(0===a.type.indexOf("audio")?"<audio>":"<video>").attr("src",b).css("visibility","none").css("position","fixed");h.on("loadedmetadata",d),h.on("error",f);var i=0;g(),angular.element(document.body).append(h)},function(){e.reject("load error")})}),a.$ngfDurationPromise=e.promise,a.$ngfDurationPromise["finally"](function(){delete a.$ngfDurationPromise}),a.$ngfDurationPromise},f}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(a,b){var c=a,d=function(a,b,c,d,e){var f=e?Math.max(c/a,d/b):Math.min(c/a,d/b);return{width:a*f,height:b*f,marginX:a*f-c,marginY:b*f-d}},e=function(a,e,f,g,h,i,j,k){var l=b.defer(),m=document.createElement("canvas"),n=document.createElement("img");return n.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(n),n.onload=function(){var a=n.width,b=n.height;if(n.parentNode.removeChild(n),null!=k&&k(a,b)===!1)return void l.reject("resizeIf");try{if(i){var o=c.ratioToFloat(i),p=a/b;o>p?(e=a,f=e/o):(f=b,e=f*o)}e||(e=a),f||(f=b);var q=d(a,b,e,f,j);m.width=Math.min(q.width,e),m.height=Math.min(q.height,f);var r=m.getContext("2d");r.drawImage(n,Math.min(0,-q.marginX/2),Math.min(0,-q.marginY/2),q.width,q.height),l.resolve(m.toDataURL(h||"image/WebP",g||.934))}catch(s){l.reject(s)}},n.onerror=function(){n.parentNode.removeChild(n),l.reject()},n.src=a,l.promise};return c.dataUrltoBlob=function(a,b,c){for(var d=a.split(","),e=d[0].match(/:(.*?);/)[1],f=atob(d[1]),g=f.length,h=new Uint8Array(g);g--;)h[g]=f.charCodeAt(g);var i=new window.Blob([h],{type:e});return i.name=b,i.$ngfOrigSize=c,i},c.isResizeSupported=function(){var a=document.createElement("canvas");return window.atob&&a.getContext&&a.getContext("2d")&&window.Blob},c.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(a){this.$ngfName=a},configurable:!0}),c.resize=function(a,d){if(0!==a.type.indexOf("image"))return c.emptyPromise(a);var f=b.defer();return c.dataUrl(a,!0).then(function(b){e(b,d.width,d.height,d.quality,d.type||a.type,d.ratio,d.centerCrop,d.resizeIf).then(function(e){if("image/jpeg"===a.type&&d.restoreExif!==!1)try{e=c.restoreExif(b,e)}catch(g){setTimeout(function(){throw g},1)}try{var h=c.dataUrltoBlob(e,a.name,a.size);f.resolve(h)}catch(g){f.reject(g)}},function(b){"resizeIf"===b&&f.resolve(a),f.reject(b)})},function(a){f.reject(a)}),f.promise},c}]),function(){function a(a,c,d,e,f,g,h,i,j,k){function l(){return c.attr("disabled")||r("ngfDropDisabled",a)}function m(b,c){i.updateModel(e,d,a,r("ngfChange")||r("ngfDrop"),b,c)}function n(b,c){if(!i.shouldUpdateOn(b,d,a)||"string"!=typeof c)return i.rejectPromise([]);var e=[];c.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(a,b,c){e.push(c)});var f=[],g=[];if(e.length){angular.forEach(e,function(a){f.push(i.urlToBlob(a).then(function(a){g.push(a)}))});var h=k.defer();return k.all(f).then(function(){h.resolve(g)},function(a){h.reject(a)}),h.promise}return i.emptyPromise()}function o(a,b,c,d){var e=r("ngfDragOverClass",a,{$event:c}),f="dragover";if(angular.isString(e))f=e;else if(e&&(e.delay&&(v=e.delay),e.accept||e.reject)){var g=c.dataTransfer.items;if(null!=g&&g.length)for(var h=e.pattern||r("ngfPattern",a,{$event:c}),j=g.length;j--;){if(!i.validatePattern(g[j],h)){f=e.reject;break}f=e.accept}else f=e.accept}d(f)}function p(b,c,e,f){function g(a,b){var c=k.defer();if(null!=a)if(a.isDirectory){var d=[i.emptyPromise()];if(m){var e={type:"directory"};e.name=e.path=(b||"")+a.name,n.push(e)}var f=a.createReader(),h=[],p=function(){f.readEntries(function(e){try{e.length?(h=h.concat(Array.prototype.slice.call(e||[],0)),p()):(angular.forEach(h.slice(0),function(c){n.length<=j&&l>=o&&d.push(g(c,(b?b:"")+a.name+"/"))}),k.all(d).then(function(){c.resolve()},function(a){c.reject(a)}))}catch(f){c.reject(f)}},function(a){c.reject(a)})};p()}else a.file(function(a){try{a.path=(b?b:"")+a.name,m&&(a=i.rename(a,a.path)),n.push(a),o+=a.size,c.resolve()}catch(d){c.reject(d)}},function(a){c.reject(a)});return c.promise}var j=i.getValidationAttr(d,a,"maxFiles");null==j&&(j=Number.MAX_VALUE);var l=i.getValidationAttr(d,a,"maxTotalSize");null==l&&(l=Number.MAX_VALUE);var m=r("ngfIncludeDir",a),n=[],o=0,p=[i.emptyPromise()];if(b&&b.length>0&&"file:"!==h.location.protocol)for(var q=0;q<b.length;q++){if(b[q].webkitGetAsEntry&&b[q].webkitGetAsEntry()&&b[q].webkitGetAsEntry().isDirectory){var s=b[q].webkitGetAsEntry();if(s.isDirectory&&!e)continue;null!=s&&p.push(g(s))}else{var t=b[q].getAsFile();null!=t&&(n.push(t),o+=t.size)}if(n.length>j||o>l||!f&&n.length>0)break}else if(null!=c)for(var u=0;u<c.length;u++){var v=c.item(u);if((v.type||v.size>0)&&(n.push(v),o+=v.size),n.length>j||o>l||!f&&n.length>0)break}var w=k.defer();return k.all(p).then(function(){if(f||m||!n.length)w.resolve(n);else{for(var a=0;n[a]&&"directory"===n[a].type;)a++;w.resolve([n[a]])}},function(a){w.reject(a)}),w.promise}var q=b(),r=function(a,b,c){return i.attrGetter(a,d,b,c)};if(r("dropAvailable")&&g(function(){a[r("dropAvailable")]?a[r("dropAvailable")].value=q:a[r("dropAvailable")]=q}),!q)return void(r("ngfHideOnDropNotAvailable",a)===!0&&c.css("display","none"));null==r("ngfSelect")&&i.registerModelChangeValidator(e,d,a);var s,t=null,u=f(r("ngfStopPropagation")),v=1;c[0].addEventListener("dragover",function(b){if(!l()&&i.shouldUpdateOn("drop",d,a)){if(b.preventDefault(),u(a)&&b.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var e=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy"}g.cancel(t),s||(s="C",o(a,d,b,function(d){s=d,c.addClass(s),r("ngfDrag",a,{$isDragging:!0,$class:s,$event:b})}))}},!1),c[0].addEventListener("dragenter",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),u(a)&&b.stopPropagation())},!1),c[0].addEventListener("dragleave",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),u(a)&&b.stopPropagation(),t=g(function(){s&&c.removeClass(s),s=null,r("ngfDrag",a,{$isDragging:!1,$event:b})},v||100))},!1),c[0].addEventListener("drop",function(b){if(!l()&&i.shouldUpdateOn("drop",d,a)){b.preventDefault(),u(a)&&b.stopPropagation(),s&&c.removeClass(s),
s=null;var e,f=b.dataTransfer.items;try{e=b.dataTransfer&&b.dataTransfer.getData&&b.dataTransfer.getData("text/html")}catch(g){}p(f,b.dataTransfer.files,r("ngfAllowDir",a)!==!1,r("multiple")||r("ngfMultiple",a)).then(function(a){a.length?m(a,b):n("dropUrl",e).then(function(a){m(a,b)})})}},!1),c[0].addEventListener("paste",function(b){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&r("ngfEnableFirefoxPaste",a)&&b.preventDefault(),!l()&&i.shouldUpdateOn("paste",d,a)){var c=[],e=b.clipboardData||b.originalEvent.clipboardData;if(e&&e.items)for(var f=0;f<e.items.length;f++)-1!==e.items[f].type.indexOf("image")&&c.push(e.items[f].getAsFile());c.length?m(c,b):n("pasteUrl",e).then(function(a){m(a,b)})}},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&r("ngfEnableFirefoxPaste",a)&&(c.attr("contenteditable",!0),c.on("keypress",function(a){a.metaKey||a.ctrlKey||a.preventDefault()}))}function b(){var a=document.createElement("div");return"draggable"in a&&"ondrop"in a&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(b,c,d,e,f,g){return{restrict:"AEC",require:"?ngModel",link:function(h,i,j,k){a(h,i,j,k,b,c,d,e,f,g)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(a,c){b()&&c.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(a,c,d){return function(e,f,g){if(b()){var h=a(d.attrGetter("ngfDropAvailable",g));c(function(){h(e),h.assign&&h.assign(e,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(a,b){function c(a,b,c,d){switch(b){case 2:return a.transform(-1,0,0,1,c,0);case 3:return a.transform(-1,0,0,-1,c,d);case 4:return a.transform(1,0,0,-1,0,d);case 5:return a.transform(0,1,1,0,0,0);case 6:return a.transform(0,1,-1,0,d,0);case 7:return a.transform(0,-1,-1,0,d,c);case 8:return a.transform(0,-1,1,0,0,c)}}function d(a){for(var b="",c=new Uint8Array(a),d=c.byteLength,e=0;d>e;e++)b+=String.fromCharCode(c[e]);return window.btoa(b)}var e=a;return e.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&e.isResizeSupported()},e.readOrientation=function(a){var c=b.defer(),d=new FileReader,e=a.slice?a.slice(0,65536):a;return d.readAsArrayBuffer(e),d.onerror=function(a){return c.reject(a)},d.onload=function(a){var b={orientation:1},d=new DataView(this.result);if(65496!==d.getUint16(0,!1))return c.resolve(b);for(var e=d.byteLength,f=2;e>f;){var g=d.getUint16(f,!1);if(f+=2,65505===g){if(1165519206!==d.getUint32(f+=2,!1))return c.resolve(b);var h=18761===d.getUint16(f+=6,!1);f+=d.getUint32(f+4,h);var i=d.getUint16(f,h);f+=2;for(var j=0;i>j;j++)if(274===d.getUint16(f+12*j,h)){var k=d.getUint16(f+12*j+8,h);return k>=2&&8>=k&&(d.setUint16(f+12*j+8,1,h),b.fixedArrayBuffer=a.target.result),b.orientation=k,c.resolve(b)}}else{if(65280!==(65280&g))break;f+=d.getUint16(f,!1)}}return c.resolve(b)},c.promise},e.applyExifRotation=function(a){if(0!==a.type.indexOf("image/jpeg"))return e.emptyPromise(a);var f=b.defer();return e.readOrientation(a).then(function(b){return b.orientation<2||b.orientation>8?f.resolve(a):void e.dataUrl(a,!0).then(function(g){var h=document.createElement("canvas"),i=document.createElement("img");i.onload=function(){try{h.width=b.orientation>4?i.height:i.width,h.height=b.orientation>4?i.width:i.height;var g=h.getContext("2d");c(g,b.orientation,i.width,i.height),g.drawImage(i,0,0);var j=h.toDataURL(a.type||"image/WebP",.934);j=e.restoreExif(d(b.fixedArrayBuffer),j);var k=e.dataUrltoBlob(j,a.name);f.resolve(k)}catch(l){return f.reject(l)}},i.onerror=function(){f.reject()},i.src=g},function(a){f.reject(a)})},function(a){f.reject(a)}),f.promise},e.restoreExif=function(a,b){var c={};return c.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c.encode64=function(a){var b,c,d,e,f,g="",h="",i="",j=0;do b=a[j++],c=a[j++],h=a[j++],d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.KEY_STR.charAt(d)+this.KEY_STR.charAt(e)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(i),b=c=h="",d=e=f=i="";while(j<a.length);return g},c.restore=function(a,b){a.match("data:image/jpeg;base64,")&&(a=a.replace("data:image/jpeg;base64,",""));var c=this.decode64(a),d=this.slice2Segments(c),e=this.exifManipulation(b,d);return"data:image/jpeg;base64,"+this.encode64(e)},c.exifManipulation=function(a,b){var c=this.getExifArray(b),d=this.insertExif(a,c);return new Uint8Array(d)},c.getExifArray=function(a){for(var b,c=0;c<a.length;c++)if(b=a[c],255===b[0]&225===b[1])return b;return[]},c.insertExif=function(a,b){var c=a.replace("data:image/jpeg;base64,",""),d=this.decode64(c),e=d.indexOf(255,3),f=d.slice(0,e),g=d.slice(e),h=f;return h=h.concat(b),h=h.concat(g)},c.slice2Segments=function(a){for(var b=0,c=[];;){if(255===a[b]&218===a[b+1])break;if(255===a[b]&216===a[b+1])b+=2;else{var d=256*a[b+2]+a[b+3],e=b+d+2,f=a.slice(b,e);c.push(f),b=e}if(b>a.length)break}return c},c.decode64=function(a){var b,c,d,e,f,g="",h="",i=0,j=[],k=/[^A-Za-z0-9\+\/\=]/g;k.exec(a)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d=this.KEY_STR.indexOf(a.charAt(i++)),e=this.KEY_STR.indexOf(a.charAt(i++)),f=this.KEY_STR.indexOf(a.charAt(i++)),h=this.KEY_STR.indexOf(a.charAt(i++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,g=(3&f)<<6|h,j.push(b),64!==f&&j.push(c),64!==h&&j.push(g),b=c=g="",d=e=f=h="";while(i<a.length);return j},c.restore(a,b)},e}]);
/*! ngImgCrop v0.3.2 License: MIT */!function(){"use strict";var e=angular.module("ngImgCrop",[]);e.factory("cropAreaCircle",["cropArea",function(e){var t=function(){e.apply(this,arguments),this._boxResizeBaseSize=20,this._boxResizeNormalRatio=.9,this._boxResizeHoverRatio=1.2,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._boxResizeNormalSize=this._boxResizeBaseSize*this._boxResizeNormalRatio,this._boxResizeHoverSize=this._boxResizeBaseSize*this._boxResizeHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._boxResizeIsHover=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!1,this._areaIsDragging=!1};return t.prototype=new e,t.prototype._calcCirclePerimeterCoords=function(e){var t=this._size/2,i=e*(Math.PI/180),r=this._x+t*Math.cos(i),s=this._y+t*Math.sin(i);return[r,s]},t.prototype._calcResizeIconCenterCoords=function(){return this._calcCirclePerimeterCoords(-45)},t.prototype._isCoordWithinArea=function(e){return Math.sqrt((e[0]-this._x)*(e[0]-this._x)+(e[1]-this._y)*(e[1]-this._y))<this._size/2},t.prototype._isCoordWithinBoxResize=function(e){var t=this._calcResizeIconCenterCoords(),i=this._boxResizeHoverSize/2;return e[0]>t[0]-i&&e[0]<t[0]+i&&e[1]>t[1]-i&&e[1]<t[1]+i},t.prototype._drawArea=function(e,t,i){e.arc(t[0],t[1],i/2,0,2*Math.PI)},t.prototype.draw=function(){e.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio),this._cropCanvas.drawIconResizeBoxNESW(this._calcResizeIconCenterCoords(),this._boxResizeBaseSize,this._boxResizeIsHover?this._boxResizeHoverRatio:this._boxResizeNormalRatio)},t.prototype.processMouseMove=function(e,t){var i="default",r=!1;if(this._boxResizeIsHover=!1,this._areaIsHover=!1,this._areaIsDragging)this._x=e-this._posDragStartX,this._y=t-this._posDragStartY,this._areaIsHover=!0,i="move",r=!0,this._events.trigger("area-move");else if(this._boxResizeIsDragging){i="nesw-resize";var s,o,a;o=e-this._posResizeStartX,a=this._posResizeStartY-t,s=o>a?this._posResizeStartSize+2*a:this._posResizeStartSize+2*o,this._size=Math.max(this._minSize,s),this._boxResizeIsHover=!0,r=!0,this._events.trigger("area-resize")}else this._isCoordWithinBoxResize([e,t])?(i="nesw-resize",this._areaIsHover=!1,this._boxResizeIsHover=!0,r=!0):this._isCoordWithinArea([e,t])&&(i="move",this._areaIsHover=!0,r=!0);return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:i}),r},t.prototype.processMouseDown=function(e,t){this._isCoordWithinBoxResize([e,t])?(this._areaIsDragging=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!0,this._boxResizeIsHover=!0,this._posResizeStartX=e,this._posResizeStartY=t,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start")):this._isCoordWithinArea([e,t])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._boxResizeIsDragging=!1,this._boxResizeIsHover=!1,this._posDragStartX=e-this._x,this._posDragStartY=t-this._y,this._events.trigger("area-move-start"))},t.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._boxResizeIsDragging&&(this._boxResizeIsDragging=!1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._boxResizeIsHover=!1,this._posDragStartX=0,this._posDragStartY=0},t}]),e.factory("cropAreaSquare",["cropArea",function(e){var t=function(){e.apply(this,arguments),this._resizeCtrlBaseRadius=10,this._resizeCtrlNormalRatio=.75,this._resizeCtrlHoverRatio=1,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._resizeCtrlNormalRadius=this._resizeCtrlBaseRadius*this._resizeCtrlNormalRatio,this._resizeCtrlHoverRadius=this._resizeCtrlBaseRadius*this._resizeCtrlHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._resizeCtrlIsDragging=-1,this._areaIsDragging=!1};return t.prototype=new e,t.prototype._calcSquareCorners=function(){var e=this._size/2;return[[this._x-e,this._y-e],[this._x+e,this._y-e],[this._x-e,this._y+e],[this._x+e,this._y+e]]},t.prototype._calcSquareDimensions=function(){var e=this._size/2;return{left:this._x-e,top:this._y-e,right:this._x+e,bottom:this._y+e}},t.prototype._isCoordWithinArea=function(e){var t=this._calcSquareDimensions();return e[0]>=t.left&&e[0]<=t.right&&e[1]>=t.top&&e[1]<=t.bottom},t.prototype._isCoordWithinResizeCtrl=function(e){for(var t=this._calcSquareCorners(),i=-1,r=0,s=t.length;s>r;r++){var o=t[r];if(e[0]>o[0]-this._resizeCtrlHoverRadius&&e[0]<o[0]+this._resizeCtrlHoverRadius&&e[1]>o[1]-this._resizeCtrlHoverRadius&&e[1]<o[1]+this._resizeCtrlHoverRadius){i=r;break}}return i},t.prototype._drawArea=function(e,t,i){var r=i/2;e.rect(t[0]-r,t[1]-r,i,i)},t.prototype.draw=function(){e.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio);for(var t=this._calcSquareCorners(),i=0,r=t.length;r>i;i++){var s=t[i];this._cropCanvas.drawIconResizeCircle(s,this._resizeCtrlBaseRadius,this._resizeCtrlIsHover===i?this._resizeCtrlHoverRatio:this._resizeCtrlNormalRatio)}},t.prototype.processMouseMove=function(e,t){var i="default",r=!1;if(this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._areaIsDragging)this._x=e-this._posDragStartX,this._y=t-this._posDragStartY,this._areaIsHover=!0,i="move",r=!0,this._events.trigger("area-move");else if(this._resizeCtrlIsDragging>-1){var s,o;switch(this._resizeCtrlIsDragging){case 0:s=-1,o=-1,i="nwse-resize";break;case 1:s=1,o=-1,i="nesw-resize";break;case 2:s=-1,o=1,i="nesw-resize";break;case 3:s=1,o=1,i="nwse-resize"}var a,n=(e-this._posResizeStartX)*s,h=(t-this._posResizeStartY)*o;a=n>h?this._posResizeStartSize+h:this._posResizeStartSize+n;var c=this._size;this._size=Math.max(this._minSize,a);var l=(this._size-c)/2;this._x+=l*s,this._y+=l*o,this._resizeCtrlIsHover=this._resizeCtrlIsDragging,r=!0,this._events.trigger("area-resize")}else{var u=this._isCoordWithinResizeCtrl([e,t]);if(u>-1){switch(u){case 0:i="nwse-resize";break;case 1:i="nesw-resize";break;case 2:i="nesw-resize";break;case 3:i="nwse-resize"}this._areaIsHover=!1,this._resizeCtrlIsHover=u,r=!0}else this._isCoordWithinArea([e,t])&&(i="move",this._areaIsHover=!0,r=!0)}return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:i}),r},t.prototype.processMouseDown=function(e,t){var i=this._isCoordWithinResizeCtrl([e,t]);i>-1?(this._areaIsDragging=!1,this._areaIsHover=!1,this._resizeCtrlIsDragging=i,this._resizeCtrlIsHover=i,this._posResizeStartX=e,this._posResizeStartY=t,this._posResizeStartSize=this._size,this._events.trigger("area-resize-start")):this._isCoordWithinArea([e,t])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._resizeCtrlIsDragging=-1,this._resizeCtrlIsHover=-1,this._posDragStartX=e-this._x,this._posDragStartY=t-this._y,this._events.trigger("area-move-start"))},t.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger("area-move-end")),this._resizeCtrlIsDragging>-1&&(this._resizeCtrlIsDragging=-1,this._events.trigger("area-resize-end")),this._areaIsHover=!1,this._resizeCtrlIsHover=-1,this._posDragStartX=0,this._posDragStartY=0},t}]),e.factory("cropArea",["cropCanvas",function(e){var t=function(t,i){this._ctx=t,this._events=i,this._minSize=80,this._cropCanvas=new e(t),this._image=new Image,this._x=0,this._y=0,this._size=200};return t.prototype.getImage=function(){return this._image},t.prototype.setImage=function(e){this._image=e},t.prototype.getX=function(){return this._x},t.prototype.setX=function(e){this._x=e,this._dontDragOutside()},t.prototype.getY=function(){return this._y},t.prototype.setY=function(e){this._y=e,this._dontDragOutside()},t.prototype.getSize=function(){return this._size},t.prototype.setSize=function(e){this._size=Math.max(this._minSize,e),this._dontDragOutside()},t.prototype.getMinSize=function(){return this._minSize},t.prototype.setMinSize=function(e){this._minSize=e,this._size=Math.max(this._minSize,this._size),this._dontDragOutside()},t.prototype._dontDragOutside=function(){var e=this._ctx.canvas.height,t=this._ctx.canvas.width;this._size>t&&(this._size=t),this._size>e&&(this._size=e),this._x<this._size/2&&(this._x=this._size/2),this._x>t-this._size/2&&(this._x=t-this._size/2),this._y<this._size/2&&(this._y=this._size/2),this._y>e-this._size/2&&(this._y=e-this._size/2)},t.prototype._drawArea=function(){},t.prototype.draw=function(){this._cropCanvas.drawCropArea(this._image,[this._x,this._y],this._size,this._drawArea)},t.prototype.processMouseMove=function(){},t.prototype.processMouseDown=function(){},t.prototype.processMouseUp=function(){},t}]),e.factory("cropCanvas",[function(){var e=[[-.5,-2],[-3,-4.5],[-.5,-7],[-7,-7],[-7,-.5],[-4.5,-3],[-2,-.5]],t=[[.5,-2],[3,-4.5],[.5,-7],[7,-7],[7,-.5],[4.5,-3],[2,-.5]],i=[[-.5,2],[-3,4.5],[-.5,7],[-7,7],[-7,.5],[-4.5,3],[-2,.5]],r=[[.5,2],[3,4.5],[.5,7],[7,7],[7,.5],[4.5,3],[2,.5]],s=[[-1.5,-2.5],[-1.5,-6],[-5,-6],[0,-11],[5,-6],[1.5,-6],[1.5,-2.5]],o=[[-2.5,-1.5],[-6,-1.5],[-6,-5],[-11,0],[-6,5],[-6,1.5],[-2.5,1.5]],a=[[-1.5,2.5],[-1.5,6],[-5,6],[0,11],[5,6],[1.5,6],[1.5,2.5]],n=[[2.5,-1.5],[6,-1.5],[6,-5],[11,0],[6,5],[6,1.5],[2.5,1.5]],h={areaOutline:"#fff",resizeBoxStroke:"#fff",resizeBoxFill:"#444",resizeBoxArrowFill:"#fff",resizeCircleStroke:"#fff",resizeCircleFill:"#444",moveIconFill:"#fff"};return function(c){var l=function(e,t,i){return[i*e[0]+t[0],i*e[1]+t[1]]},u=function(e,t,i,r){c.save(),c.fillStyle=t,c.beginPath();var s,o=l(e[0],i,r);c.moveTo(o[0],o[1]);for(var a in e)a>0&&(s=l(e[a],i,r),c.lineTo(s[0],s[1]));c.lineTo(o[0],o[1]),c.fill(),c.closePath(),c.restore()};this.drawIconMove=function(e,t){u(s,h.moveIconFill,e,t),u(o,h.moveIconFill,e,t),u(a,h.moveIconFill,e,t),u(n,h.moveIconFill,e,t)},this.drawIconResizeCircle=function(e,t,i){var r=t*i;c.save(),c.strokeStyle=h.resizeCircleStroke,c.lineWidth=2,c.fillStyle=h.resizeCircleFill,c.beginPath(),c.arc(e[0],e[1],r,0,2*Math.PI),c.fill(),c.stroke(),c.closePath(),c.restore()},this.drawIconResizeBoxBase=function(e,t,i){var r=t*i;c.save(),c.strokeStyle=h.resizeBoxStroke,c.lineWidth=2,c.fillStyle=h.resizeBoxFill,c.fillRect(e[0]-r/2,e[1]-r/2,r,r),c.strokeRect(e[0]-r/2,e[1]-r/2,r,r),c.restore()},this.drawIconResizeBoxNESW=function(e,r,s){this.drawIconResizeBoxBase(e,r,s),u(t,h.resizeBoxArrowFill,e,s),u(i,h.resizeBoxArrowFill,e,s)},this.drawIconResizeBoxNWSE=function(t,i,s){this.drawIconResizeBoxBase(t,i,s),u(e,h.resizeBoxArrowFill,t,s),u(r,h.resizeBoxArrowFill,t,s)},this.drawCropArea=function(e,t,i,r){var s=e.width/c.canvas.width,o=e.height/c.canvas.height,a=t[0]-i/2,n=t[1]-i/2;c.save(),c.strokeStyle=h.areaOutline,c.lineWidth=2,c.beginPath(),r(c,t,i),c.stroke(),c.clip(),i>0&&c.drawImage(e,a*s,n*o,i*s,i*o,a,n,i,i),c.beginPath(),r(c,t,i),c.stroke(),c.clip(),c.restore()}}}]),e.service("cropEXIF",[function(){function e(e){return!!e.exifdata}function t(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(e),r=i.length,s=new ArrayBuffer(r),o=new Uint8Array(s),a=0;r>a;a++)o[a]=i.charCodeAt(a);return s}function i(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){(200==this.status||0===this.status)&&t(this.response)},i.send()}function r(e,r){function a(t){var i=s(t),a=o(t);e.exifdata=i||{},e.iptcdata=a||{},r&&r.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var n=t(e.src);a(n)}else if(/^blob\:/i.test(e.src)){var h=new FileReader;h.onload=function(e){a(e.target.result)},i(e.src,function(e){h.readAsArrayBuffer(e)})}else{var c=new XMLHttpRequest;c.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";a(c.response),c=null},c.open("GET",e.src,!0),c.responseType="arraybuffer",c.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var h=new FileReader;h.onload=function(e){u&&console.log("Got file of length "+e.target.result.byteLength),a(e.target.result)},h.readAsArrayBuffer(e)}}function s(e){var t=new DataView(e);if(u&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return u&&console.log("Not a valid JPEG"),!1;for(var i,r=2,s=e.byteLength;s>r;){if(255!=t.getUint8(r))return u&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(i=t.getUint8(r+1),u&&console.log(i),225==i)return u&&console.log("Found 0xFFE1 marker"),l(t,r+4,t.getUint16(r+2)-2);r+=2+t.getUint16(r+2)}}function o(e){var t=new DataView(e);if(u&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return u&&console.log("Not a valid JPEG"),!1;for(var i=2,r=e.byteLength,s=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};r>i;){if(s(t,i)){var o=t.getUint8(i+7);o%2!==0&&(o+=1),0===o&&(o=4);var n=i+8+o,h=t.getUint16(i+6+o);return a(e,n,h)}i++}}function a(e,t,i){for(var r,s,o,a,n,h=new DataView(e),l={},u=t;t+i>u;)28===h.getUint8(u)&&2===h.getUint8(u+1)&&(a=h.getUint8(u+2),a in _&&(o=h.getInt16(u+3),n=o+5,s=_[a],r=c(h,u+5,o),l.hasOwnProperty(s)?l[s]instanceof Array?l[s].push(r):l[s]=[l[s],r]:l[s]=r)),u++;return l}function n(e,t,i,r,s){var o,a,n,c=e.getUint16(i,!s),l={};for(n=0;c>n;n++)o=i+12*n+2,a=r[e.getUint16(o,!s)],!a&&u&&console.log("Unknown tag: "+e.getUint16(o,!s)),l[a]=h(e,o,t,i,s);return l}function h(e,t,i,r,s){var o,a,n,h,l,u,g=e.getUint16(t+2,!s),d=e.getUint32(t+4,!s),f=e.getUint32(t+8,!s)+i;switch(g){case 1:case 7:if(1==d)return e.getUint8(t+8,!s);for(o=d>4?f:t+8,a=[],h=0;d>h;h++)a[h]=e.getUint8(o+h);return a;case 2:return o=d>4?f:t+8,c(e,o,d-1);case 3:if(1==d)return e.getUint16(t+8,!s);for(o=d>2?f:t+8,a=[],h=0;d>h;h++)a[h]=e.getUint16(o+2*h,!s);return a;case 4:if(1==d)return e.getUint32(t+8,!s);for(a=[],h=0;d>h;h++)a[h]=e.getUint32(f+4*h,!s);return a;case 5:if(1==d)return l=e.getUint32(f,!s),u=e.getUint32(f+4,!s),n=new Number(l/u),n.numerator=l,n.denominator=u,n;for(a=[],h=0;d>h;h++)l=e.getUint32(f+8*h,!s),u=e.getUint32(f+4+8*h,!s),a[h]=new Number(l/u),a[h].numerator=l,a[h].denominator=u;return a;case 9:if(1==d)return e.getInt32(t+8,!s);for(a=[],h=0;d>h;h++)a[h]=e.getInt32(f+4*h,!s);return a;case 10:if(1==d)return e.getInt32(f,!s)/e.getInt32(f+4,!s);for(a=[],h=0;d>h;h++)a[h]=e.getInt32(f+8*h,!s)/e.getInt32(f+4+8*h,!s);return a}}function c(e,t,i){for(var r="",s=t;t+i>s;s++)r+=String.fromCharCode(e.getUint8(s));return r}function l(e,t){if("Exif"!=c(e,t,4))return u&&console.log("Not valid EXIF data! "+c(e,t,4)),!1;var i,r,s,o,a,h=t+6;if(18761==e.getUint16(h))i=!1;else{if(19789!=e.getUint16(h))return u&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;i=!0}if(42!=e.getUint16(h+2,!i))return u&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var l=e.getUint32(h+4,!i);if(8>l)return u&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(h+4,!i)),!1;if(r=n(e,h,h+l,d,i),r.ExifIFDPointer){o=n(e,h,h+r.ExifIFDPointer,g,i);for(s in o){switch(s){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[s]=p[s][o[s]];break;case"ExifVersion":case"FlashpixVersion":o[s]=String.fromCharCode(o[s][0],o[s][1],o[s][2],o[s][3]);break;case"ComponentsConfiguration":o[s]=p.Components[o[s][0]]+p.Components[o[s][1]]+p.Components[o[s][2]]+p.Components[o[s][3]]}r[s]=o[s]}}if(r.GPSInfoIFDPointer){a=n(e,h,h+r.GPSInfoIFDPointer,f,i);for(s in a){switch(s){case"GPSVersionID":a[s]=a[s][0]+"."+a[s][1]+"."+a[s][2]+"."+a[s][3]}r[s]=a[s]}}return r}var u=!1,g=this.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},d=this.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=this.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},p=this.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},_={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};this.getData=function(t,i){return(t instanceof Image||t instanceof HTMLImageElement)&&!t.complete?!1:(e(t)?i&&i.call(t):r(t,i),!0)},this.getTag=function(t,i){return e(t)?t.exifdata[i]:void 0},this.getAllTags=function(t){if(!e(t))return{};var i,r=t.exifdata,s={};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s},this.pretty=function(t){if(!e(t))return"";var i,r=t.exifdata,s="";for(i in r)r.hasOwnProperty(i)&&(s+="object"==typeof r[i]?r[i]instanceof Number?i+" : "+r[i]+" ["+r[i].numerator+"/"+r[i].denominator+"]\r\n":i+" : ["+r[i].length+" values]\r\n":i+" : "+r[i]+"\r\n");return s},this.readFromBinaryFile=function(e){return s(e)}}]),e.factory("cropHost",["$document","cropAreaCircle","cropAreaSquare","cropEXIF",function(e,t,i,r){var s=function(e){var t=e.getBoundingClientRect(),i=document.body,r=document.documentElement,s=window.pageYOffset||r.scrollTop||i.scrollTop,o=window.pageXOffset||r.scrollLeft||i.scrollLeft,a=r.clientTop||i.clientTop||0,n=r.clientLeft||i.clientLeft||0,h=t.top+s-a,c=t.left+o-n;return{top:Math.round(h),left:Math.round(c)}};return function(o,a,n){function h(){c.clearRect(0,0,c.canvas.width,c.canvas.height),null!==l&&(c.drawImage(l,0,0,c.canvas.width,c.canvas.height),c.save(),c.fillStyle="rgba(0, 0, 0, 0.65)",c.fillRect(0,0,c.canvas.width,c.canvas.height),c.restore(),u.draw())}var c=null,l=null,u=null,g=[100,100],d=[300,300],f=200,p="image/png",_=null,m=function(){if(null!==l){u.setImage(l);var e=[l.width,l.height],t=l.width/l.height,i=e;i[0]>d[0]?(i[0]=d[0],i[1]=i[0]/t):i[0]<g[0]&&(i[0]=g[0],i[1]=i[0]/t),i[1]>d[1]?(i[1]=d[1],i[0]=i[1]*t):i[1]<g[1]&&(i[1]=g[1],i[0]=i[1]*t),o.prop("width",i[0]).prop("height",i[1]).css({"margin-left":-i[0]/2+"px","margin-top":-i[1]/2+"px"}),u.setX(c.canvas.width/2),u.setY(c.canvas.height/2),u.setSize(Math.min(200,c.canvas.width/2,c.canvas.height/2))}else o.prop("width",0).prop("height",0).css({"margin-top":0});h()},v=function(e){return angular.isDefined(e.changedTouches)?e.changedTouches:e.originalEvent.changedTouches},S=function(e){if(null!==l){var t,i,r=s(c.canvas);"touchmove"===e.type?(t=v(e)[0].pageX,i=v(e)[0].pageY):(t=e.pageX,i=e.pageY),u.processMouseMove(t-r.left,i-r.top),h()}},z=function(e){if(e.preventDefault(),e.stopPropagation(),null!==l){var t,i,r=s(c.canvas);"touchstart"===e.type?(t=v(e)[0].pageX,i=v(e)[0].pageY):(t=e.pageX,i=e.pageY),u.processMouseDown(t-r.left,i-r.top),h()}},I=function(e){if(null!==l){var t,i,r=s(c.canvas);"touchend"===e.type?(t=v(e)[0].pageX,i=v(e)[0].pageY):(t=e.pageX,i=e.pageY),u.processMouseUp(t-r.left,i-r.top),h()}};this.getResultImageDataURI=function(){var e,t;return t=angular.element("<canvas></canvas>")[0],e=t.getContext("2d"),t.width=f,t.height=f,null!==l&&e.drawImage(l,(u.getX()-u.getSize()/2)*(l.width/c.canvas.width),(u.getY()-u.getSize()/2)*(l.height/c.canvas.height),u.getSize()*(l.width/c.canvas.width),u.getSize()*(l.height/c.canvas.height),0,0,f,f),null!==_?t.toDataURL(p,_):t.toDataURL(p)},this.setNewImageSource=function(e){if(l=null,m(),n.trigger("image-updated"),e){var t=new Image;"http"===e.substring(0,4).toLowerCase()&&(t.crossOrigin="anonymous"),t.onload=function(){n.trigger("load-done"),r.getData(t,function(){var e=r.getTag(t,"Orientation");if([3,6,8].indexOf(e)>-1){var i=document.createElement("canvas"),s=i.getContext("2d"),o=t.width,a=t.height,h=0,c=0,u=0;switch(e){case 3:h=-t.width,c=-t.height,u=180;break;case 6:o=t.height,a=t.width,c=-t.height,u=90;break;case 8:o=t.height,a=t.width,h=-t.width,u=270}i.width=o,i.height=a,s.rotate(u*Math.PI/180),s.drawImage(t,h,c),l=new Image,l.src=i.toDataURL("image/png")}else l=t;m(),n.trigger("image-updated")})},t.onerror=function(){n.trigger("load-error")},n.trigger("load-start"),t.src=e}},this.setMaxDimensions=function(e,t){if(d=[e,t],null!==l){var i=c.canvas.width,r=c.canvas.height,s=[l.width,l.height],a=l.width/l.height,n=s;n[0]>d[0]?(n[0]=d[0],n[1]=n[0]/a):n[0]<g[0]&&(n[0]=g[0],n[1]=n[0]/a),n[1]>d[1]?(n[1]=d[1],n[0]=n[1]*a):n[1]<g[1]&&(n[1]=g[1],n[0]=n[1]*a),o.prop("width",n[0]).prop("height",n[1]).css({"margin-left":-n[0]/2+"px","margin-top":-n[1]/2+"px"});var f=c.canvas.width/i,p=c.canvas.height/r,_=Math.min(f,p);u.setX(u.getX()*f),u.setY(u.getY()*p),u.setSize(u.getSize()*_)}else o.prop("width",0).prop("height",0).css({"margin-top":0});h()},this.setAreaMinSize=function(e){e=parseInt(e,10),isNaN(e)||(u.setMinSize(e),h())},this.setResultImageSize=function(e){e=parseInt(e,10),isNaN(e)||(f=e)},this.setResultImageFormat=function(e){p=e},this.setResultImageQuality=function(e){e=parseFloat(e),!isNaN(e)&&e>=0&&1>=e&&(_=e)},this.setAreaType=function(e){var r=u.getSize(),s=u.getMinSize(),o=u.getX(),a=u.getY(),g=t;"square"===e&&(g=i),u=new g(c,n),u.setMinSize(s),u.setSize(r),u.setX(o),u.setY(a),null!==l&&u.setImage(l),h()},c=o[0].getContext("2d"),u=new t(c,n),e.on("mousemove",S),o.on("mousedown",z),e.on("mouseup",I),e.on("touchmove",S),o.on("touchstart",z),e.on("touchend",I),this.destroy=function(){e.off("mousemove",S),o.off("mousedown",z),e.off("mouseup",S),e.off("touchmove",S),o.off("touchstart",z),e.off("touchend",S),o.remove()}}}]),e.factory("cropPubSub",[function(){return function(){var e={};this.on=function(t,i){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),e[t].push(i)}),this},this.trigger=function(t,i){return angular.forEach(e[t],function(e){e.call(null,i)}),this}}}]),e.directive("imgCrop",["$timeout","cropHost","cropPubSub",function(e,t,i){return{restrict:"E",scope:{image:"=",resultImage:"=",changeOnFly:"=",areaType:"@",areaMinSize:"=",resultImageSize:"=",resultImageFormat:"@",resultImageQuality:"=",onChange:"&",onLoadBegin:"&",onLoadDone:"&",onLoadError:"&"},template:"<canvas></canvas>",controller:["$scope",function(e){e.events=new i}],link:function(i,r){var s,o=i.events,a=new t(r.find("canvas"),{},o),n=function(e){var t=a.getResultImageDataURI();s!==t&&(s=t,angular.isDefined(e.resultImage)&&(e.resultImage=t),e.onChange({$dataURI:e.resultImage}))},h=function(t){return function(){e(function(){i.$apply(function(e){t(e)})})}};o.on("load-start",h(function(e){e.onLoadBegin({})})).on("load-done",h(function(e){e.onLoadDone({})})).on("load-error",h(function(e){e.onLoadError({})})).on("area-move area-resize",h(function(e){e.changeOnFly&&n(e)})).on("area-move-end area-resize-end image-updated",h(function(e){n(e)})),i.$watch("image",function(){a.setNewImageSource(i.image)}),i.$watch("areaType",function(){a.setAreaType(i.areaType),n(i)}),i.$watch("areaMinSize",function(){a.setAreaMinSize(i.areaMinSize),n(i)}),i.$watch("resultImageSize",function(){a.setResultImageSize(i.resultImageSize),n(i)}),i.$watch("resultImageFormat",function(){a.setResultImageFormat(i.resultImageFormat),n(i)}),i.$watch("resultImageQuality",function(){a.setResultImageQuality(i.resultImageQuality),n(i)}),i.$watch(function(){return[r[0].clientWidth,r[0].clientHeight]},function(e){a.setMaxDimensions(e[0],e[1]),n(i)},!0),i.$on("$destroy",function(){a.destroy()})}}}])}();
!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("bootstrap")):"function"==typeof define&&define.amd?define("bootstrap-dialog",["jquery","bootstrap"],function(t){return e(t)}):t.BootstrapDialog=e(t.jQuery)}(this,function(t){"use strict";var e=t.fn.modal.Constructor,n=function(t,n){e.call(this,t,n)};n.getModalVersion=function(){var e=null;return e="undefined"==typeof t.fn.modal.Constructor.VERSION?"v3.1":/3\.2\.\d+/.test(t.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(t.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"},n.ORIGINAL_BODY_PADDING=parseInt(t("body").css("padding-right")||0,10),n.METHODS_TO_OVERRIDE={},n.METHODS_TO_OVERRIDE["v3.1"]={},n.METHODS_TO_OVERRIDE["v3.2"]={hide:function(e){if(e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()){this.isShown=!1;var n=this.getGlobalOpenedDialogs();0===n.length&&this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}}},n.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var t=n.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},resetScrollbar:function(){var t=this.getGlobalOpenedDialogs();0===t.length&&this.$body.css("padding-right",n.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide(),this.backdrop(t.proxy(function(){var t=this.getGlobalOpenedDialogs();0===t.length&&this.$body.removeClass("modal-open"),this.resetAdjustments(),this.resetScrollbar(),this.$element.trigger("hidden.bs.modal")},this))}},n.METHODS_TO_OVERRIDE["v3.3.4"]=t.extend({},n.METHODS_TO_OVERRIDE["v3.3"]),n.prototype={constructor:n,getGlobalOpenedDialogs:function(){var e=[];return t.each(o.dialogs,function(t,n){n.isRealized()&&n.isOpened()&&e.push(n)}),e}},n.prototype=t.extend(n.prototype,e.prototype,n.METHODS_TO_OVERRIDE[n.getModalVersion()]);var o=function(e){this.defaultOptions=t.extend(!0,{id:o.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},o.defaultOptions),this.indexedButtons={},this.registeredButtonHotkeys={},this.draggableData={isMouseDown:!1,mouseOffset:{}},this.realized=!1,this.opened=!1,this.initOptions(e),this.holdThisInstance()};return o.BootstrapDialogModal=n,o.NAMESPACE="bootstrap-dialog",o.TYPE_DEFAULT="type-default",o.TYPE_INFO="type-info",o.TYPE_PRIMARY="type-primary",o.TYPE_SUCCESS="type-success",o.TYPE_WARNING="type-warning",o.TYPE_DANGER="type-danger",o.DEFAULT_TEXTS={},o.DEFAULT_TEXTS[o.TYPE_DEFAULT]="Information",o.DEFAULT_TEXTS[o.TYPE_INFO]="Information",o.DEFAULT_TEXTS[o.TYPE_PRIMARY]="Information",o.DEFAULT_TEXTS[o.TYPE_SUCCESS]="Success",o.DEFAULT_TEXTS[o.TYPE_WARNING]="Warning",o.DEFAULT_TEXTS[o.TYPE_DANGER]="Danger",o.DEFAULT_TEXTS.OK="OK",o.DEFAULT_TEXTS.CANCEL="Cancel",o.DEFAULT_TEXTS.CONFIRM="Confirmation",o.SIZE_NORMAL="size-normal",o.SIZE_SMALL="size-small",o.SIZE_WIDE="size-wide",o.SIZE_LARGE="size-large",o.BUTTON_SIZES={},o.BUTTON_SIZES[o.SIZE_NORMAL]="",o.BUTTON_SIZES[o.SIZE_SMALL]="",o.BUTTON_SIZES[o.SIZE_WIDE]="",o.BUTTON_SIZES[o.SIZE_LARGE]="btn-lg",o.ICON_SPINNER="glyphicon glyphicon-asterisk",o.BUTTONS_ORDER_CANCEL_OK="btns-order-cancel-ok",o.BUTTONS_ORDER_OK_CANCEL="btns-order-ok-cancel",o.defaultOptions={type:o.TYPE_PRIMARY,size:o.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,closeByKeyboard:!0,closeIcon:"&#215;",spinicon:o.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:"",tabindex:-1,btnsOrder:o.BUTTONS_ORDER_CANCEL_OK},o.configDefaultOptions=function(e){o.defaultOptions=t.extend(!0,o.defaultOptions,e)},o.dialogs={},o.openAll=function(){t.each(o.dialogs,function(t,e){e.open()})},o.closeAll=function(){t.each(o.dialogs,function(t,e){e.close()})},o.getDialog=function(t){var e=null;return"undefined"!=typeof o.dialogs[t]&&(e=o.dialogs[t]),e},o.setDialog=function(t){return o.dialogs[t.getId()]=t,t},o.addDialog=function(t){return o.setDialog(t)},o.moveFocus=function(){var e=null;t.each(o.dialogs,function(t,n){n.isRealized()&&n.isOpened()&&(e=n)}),null!==e&&e.getModal().focus()},o.METHODS_TO_OVERRIDE={},o.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(t){t.target===this&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByBackdrop()&&t.data.dialog.close()}),this},updateZIndex:function(){if(this.isOpened()){var e=1040,n=1050,i=0;t.each(o.dialogs,function(t,e){e.isRealized()&&e.isOpened()&&i++});var s=this.getModal(),a=s.data("bs.modal").$backdrop;s.css("z-index",n+20*(i-1)),a.css("z-index",e+20*(i-1))}return this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this.updateZIndex(),this}},o.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:o.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:o.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:o.METHODS_TO_OVERRIDE["v3.1"].open},o.METHODS_TO_OVERRIDE["v3.3"]={},o.METHODS_TO_OVERRIDE["v3.3.4"]=t.extend({},o.METHODS_TO_OVERRIDE["v3.1"]),o.prototype={constructor:o,initOptions:function(e){return this.options=t.extend(!0,this.defaultOptions,e),this},holdThisInstance:function(){return o.addDialog(this),this},initModalStuff:function(){return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()),this.getModal().append(this.getModalDialog()),this.getModalDialog().append(this.getModalContent()),this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()),this},createModal:function(){var e=t('<div class="modal" role="dialog" aria-hidden="true"></div>');return e.prop("id",this.getId()),e.attr("aria-labelledby",this.getId()+"_title"),e},getModal:function(){return this.$modal},setModal:function(t){return this.$modal=t,this},createModalDialog:function(){return t('<div class="modal-dialog"></div>')},getModalDialog:function(){return this.$modalDialog},setModalDialog:function(t){return this.$modalDialog=t,this},createModalContent:function(){return t('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(t){return this.$modalContent=t,this},createModalHeader:function(){return t('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(t){return this.$modalHeader=t,this},createModalBody:function(){return t('<div class="modal-body"></div>')},getModalBody:function(){return this.$modalBody},setModalBody:function(t){return this.$modalBody=t,this},createModalFooter:function(){return t('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(t){return this.$modalFooter=t,this},createDynamicContent:function(t){var e=null;return e="function"==typeof t?t.call(t,this):t,"string"==typeof e&&(e=this.formatStringContent(e)),e},formatStringContent:function(t){return this.options.nl2br?t.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />"):t},setData:function(t,e){return this.options.data[t]=e,this},getData:function(t){return this.options.data[t]},setId:function(t){return this.options.id=t,this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(t){return this.options.type=t,this.updateType(),this},updateType:function(){if(this.isRealized()){var t=[o.TYPE_DEFAULT,o.TYPE_INFO,o.TYPE_PRIMARY,o.TYPE_SUCCESS,o.TYPE_WARNING,o.TYPE_DANGER];this.getModal().removeClass(t.join(" ")).addClass(this.getType())}return this},getSize:function(){return this.options.size},setSize:function(t){return this.options.size=t,this.updateSize(),this},updateSize:function(){if(this.isRealized()){var e=this;this.getModal().removeClass(o.SIZE_NORMAL).removeClass(o.SIZE_SMALL).removeClass(o.SIZE_WIDE).removeClass(o.SIZE_LARGE),this.getModal().addClass(this.getSize()),this.getModalDialog().removeClass("modal-sm"),this.getSize()===o.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm"),this.getModalDialog().removeClass("modal-lg"),this.getSize()===o.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg"),t.each(this.options.buttons,function(n,o){var i=e.getButton(o.id),s=["btn-lg","btn-sm","btn-xs"],a=!1;if("string"==typeof o.cssClass){var d=o.cssClass.split(" ");t.each(d,function(e,n){-1!==t.inArray(n,s)&&(a=!0)})}a||(i.removeClass(s.join(" ")),i.addClass(e.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(t){return this.options.cssClass=t,this},getTitle:function(){return this.options.title},setTitle:function(t){return this.options.title=t,this.updateTitle(),this},updateTitle:function(){if(this.isRealized()){var t=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(t).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(t){return this.options.message=t,this.updateMessage(),this},updateMessage:function(){if(this.isRealized()){var t=this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(t)}return this},isClosable:function(){return this.options.closable},setClosable:function(t){return this.options.closable=t,this.updateClosable(),this},setCloseByBackdrop:function(t){return this.options.closeByBackdrop=t,this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(t){return this.options.closeByKeyboard=t,this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},isAnimate:function(){return this.options.animate},setAnimate:function(t){return this.options.animate=t,this},updateAnimate:function(){return this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate()),this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(t){return this.options.spinicon=t,this},addButton:function(t){return this.options.buttons.push(t),this},addButtons:function(e){var n=this;return t.each(e,function(t,e){n.addButton(e)}),this},getButtons:function(){return this.options.buttons},setButtons:function(t){return this.options.buttons=t,this.updateButtons(),this},getButton:function(t){return"undefined"!=typeof this.indexedButtons[t]?this.indexedButtons[t]:null},getButtonSize:function(){return"undefined"!=typeof o.BUTTON_SIZES[this.getSize()]?o.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){return this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons())),this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(t){this.options.autodestroy=t},getDescription:function(){return this.options.description},setDescription:function(t){return this.options.description=t,this},setTabindex:function(t){return this.options.tabindex=t,this},getTabindex:function(){return this.options.tabindex},updateTabindex:function(){return this.isRealized()&&this.getModal().attr("tabindex",this.getTabindex()),this},getDefaultText:function(){return o.DEFAULT_TEXTS[this.getType()]},getNamespace:function(t){return o.NAMESPACE+"-"+t},createHeaderContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("header")),e.append(this.createTitleContent()),e.prepend(this.createCloseButton()),e},createTitleContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("title")),e},createCloseButton:function(){var e=t("<div></div>");e.addClass(this.getNamespace("close-button"));var n=t('<button class="close"></button>');return n.append(this.options.closeIcon),e.append(n),e.on("click",{dialog:this},function(t){t.data.dialog.close()}),e},createBodyContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("body")),e.append(this.createMessageContent()),e},createMessageContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("message")),e},createFooterContent:function(){var e=t("<div></div>");return e.addClass(this.getNamespace("footer")),e},createFooterButtons:function(){var e=this,n=t("<div></div>");return n.addClass(this.getNamespace("footer-buttons")),this.indexedButtons={},t.each(this.options.buttons,function(t,i){i.id||(i.id=o.newGuid());var s=e.createButton(i);e.indexedButtons[i.id]=s,n.append(s)}),n},createButton:function(e){var n=t('<button class="btn"></button>');return n.prop("id",e.id),n.data("button",e),"undefined"!=typeof e.icon&&""!==t.trim(e.icon)&&n.append(this.createButtonIcon(e.icon)),"undefined"!=typeof e.label&&n.append(e.label),n.addClass("undefined"!=typeof e.cssClass&&""!==t.trim(e.cssClass)?e.cssClass:"btn-default"),"undefined"!=typeof e.hotkey&&(this.registeredButtonHotkeys[e.hotkey]=n),n.on("click",{dialog:this,$button:n,button:e},function(t){var e=t.data.dialog,n=t.data.$button,o=n.data("button");return o.autospin&&n.toggleSpin(!0),"function"==typeof o.action?o.action.call(n,e,t):void 0}),this.enhanceButton(n),"undefined"!=typeof e.enabled&&n.toggleEnable(e.enabled),n},enhanceButton:function(t){return t.dialog=this,t.toggleEnable=function(t){var e=this;return"undefined"!=typeof t?e.prop("disabled",!t).toggleClass("disabled",!t):e.prop("disabled",!e.prop("disabled")),e},t.enable=function(){var t=this;return t.toggleEnable(!0),t},t.disable=function(){var t=this;return t.toggleEnable(!1),t},t.toggleSpin=function(e){var n=this,o=n.dialog,i=n.find("."+o.getNamespace("button-icon"));return"undefined"==typeof e&&(e=!(t.find(".icon-spin").length>0)),e?(i.hide(),t.prepend(o.createButtonIcon(o.getSpinicon()).addClass("icon-spin"))):(i.show(),t.find(".icon-spin").remove()),n},t.spin=function(){var t=this;return t.toggleSpin(!0),t},t.stopSpin=function(){var t=this;return t.toggleSpin(!1),t},this},createButtonIcon:function(e){var n=t("<span></span>");return n.addClass(this.getNamespace("button-icon")).addClass(e),n},enableButtons:function(e){return t.each(this.indexedButtons,function(t,n){n.toggleEnable(e)}),this},updateClosable:function(){return this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable()),this},onShow:function(t){return this.options.onshow=t,this},onShown:function(t){return this.options.onshown=t,this},onHide:function(t){return this.options.onhide=t,this},onHidden:function(t){return this.options.onhidden=t,this},isRealized:function(){return this.realized},setRealized:function(t){return this.realized=t,this},isOpened:function(){return this.opened},setOpened:function(t){return this.opened=t,this},handleModalEvents:function(){return this.getModal().on("show.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!0),e.isModalEvent(t)&&"function"==typeof e.options.onshow){var n=e.options.onshow(e);return n===!1&&e.setOpened(!1),n}}),this.getModal().on("shown.bs.modal",{dialog:this},function(t){var e=t.data.dialog;e.isModalEvent(t)&&"function"==typeof e.options.onshown&&e.options.onshown(e)}),this.getModal().on("hide.bs.modal",{dialog:this},function(t){var e=t.data.dialog;if(e.setOpened(!1),e.isModalEvent(t)&&"function"==typeof e.options.onhide){var n=e.options.onhide(e);return n===!1&&e.setOpened(!0),n}}),this.getModal().on("hidden.bs.modal",{dialog:this},function(e){var n=e.data.dialog;n.isModalEvent(e)&&"function"==typeof n.options.onhidden&&n.options.onhidden(n),n.isAutodestroy()&&(n.setRealized(!1),delete o.dialogs[n.getId()],t(this).remove()),o.moveFocus()}),this.handleModalBackdropEvent(),this.getModal().on("keyup",{dialog:this},function(t){27===t.which&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByKeyboard()&&t.data.dialog.close()}),this.getModal().on("keyup",{dialog:this},function(e){var n=e.data.dialog;if("undefined"!=typeof n.registeredButtonHotkeys[e.which]){var o=t(n.registeredButtonHotkeys[e.which]);!o.prop("disabled")&&o.focus().trigger("click")}}),this},handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(e){t(e.target).hasClass("modal-backdrop")&&e.data.dialog.isClosable()&&e.data.dialog.canCloseByBackdrop()&&e.data.dialog.close()}),this},isModalEvent:function(t){return"undefined"!=typeof t.namespace&&"bs.modal"===t.namespace},makeModalDraggable:function(){return this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown=!0;var n=e.getModalDialog().offset();e.draggableData.mouseOffset={top:t.clientY-n.top,left:t.clientX-n.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(t){t.data.dialog.draggableData.isMouseDown=!1}),t("body").on("mousemove",{dialog:this},function(t){var e=t.data.dialog;e.draggableData.isMouseDown&&e.getModalDialog().offset({top:t.clientY-e.draggableData.mouseOffset.top,left:t.clientX-e.draggableData.mouseOffset.left})})),this},realize:function(){return this.initModalStuff(),this.getModal().addClass(o.NAMESPACE).addClass(this.getCssClass()),this.updateSize(),this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription()),this.getModalFooter().append(this.createFooterContent()),this.getModalHeader().append(this.createHeaderContent()),this.getModalBody().append(this.createBodyContent()),this.getModal().data("bs.modal",new n(this.getModal(),{backdrop:"static",keyboard:!1,show:!1})),this.makeModalDraggable(),this.handleModalEvents(),this.setRealized(!0),this.updateButtons(),this.updateType(),this.updateTitle(),this.updateMessage(),this.updateClosable(),this.updateAnimate(),this.updateSize(),this.updateTabindex(),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this},close:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("hide"),this}},o.prototype=t.extend(o.prototype,o.METHODS_TO_OVERRIDE[n.getModalVersion()]),o.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})},o.show=function(t){return new o(t).open()},o.alert=function(){var e={},n={type:o.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:o.DEFAULT_TEXTS.OK,buttonHotkey:null,callback:null};e="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?t.extend(!0,n,arguments[0]):t.extend(!0,n,{message:arguments[0],callback:"undefined"!=typeof arguments[1]?arguments[1]:null});var i=new o(e);return i.setData("callback",e.callback),i.addButton({label:e.buttonLabel,hotkey:e.buttonHotkey,action:function(t){return"function"==typeof t.getData("callback")&&t.getData("callback").call(this,!0)===!1?!1:(t.setData("btnClicked",!0),t.close())}}),i.onHide("function"==typeof i.options.onhide?function(t){var e=!0;return!t.getData("btnClicked")&&t.isClosable()&&"function"==typeof t.getData("callback")&&(e=t.getData("callback")(!1)),e===!1?!1:e=this.onhide(t)}.bind({onhide:i.options.onhide}):function(t){var e=!0;return!t.getData("btnClicked")&&t.isClosable()&&"function"==typeof t.getData("callback")&&(e=t.getData("callback")(!1)),e}),i.open()},o.confirm=function(){var e={},n={type:o.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:o.DEFAULT_TEXTS.CANCEL,btnCancelClass:null,btnCancelHotkey:null,btnOKLabel:o.DEFAULT_TEXTS.OK,btnOKClass:null,btnOKHotkey:null,btnsOrder:o.defaultOptions.btnsOrder,callback:null};e="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?t.extend(!0,n,arguments[0]):t.extend(!0,n,{message:arguments[0],callback:"undefined"!=typeof arguments[1]?arguments[1]:null}),null===e.btnOKClass&&(e.btnOKClass=["btn",e.type.split("-")[1]].join("-"));var i=new o(e);i.setData("callback",e.callback);var s=[{label:e.btnCancelLabel,cssClass:e.btnCancelClass,hotkey:e.btnCancelHotkey,action:function(t){return"function"==typeof t.getData("callback")&&t.getData("callback").call(this,!1)===!1?!1:t.close()}},{label:e.btnOKLabel,cssClass:e.btnOKClass,hotkey:e.btnOKHotkey,action:function(t){return"function"==typeof t.getData("callback")&&t.getData("callback").call(this,!0)===!1?!1:t.close()}}];return e.btnsOrder===o.BUTTONS_ORDER_OK_CANCEL&&s.reverse(),i.addButtons(s),i.open()},o.warning=function(t,e){return new o({type:o.TYPE_WARNING,message:t}).open()},o.danger=function(t,e){return new o({type:o.TYPE_DANGER,message:t}).open()},o.success=function(t,e){return new o({type:o.TYPE_SUCCESS,message:t}).open()},o});