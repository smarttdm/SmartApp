<div id="content">
    <div class="row">
        <big-breadcrumbs items="[getWord('Home'), getWord('Issue Tracking')]" class="col-xs-12 col-sm-12"></big-breadcrumbs>
    </div>
    <!--
        The ID "widget-grid" will start to initialize all widgets below
        You do not need to use widgets if you dont want to. Simply remove
        the <section></section> and you can use wells or panels instead
        -->
    <!-- widget grid -->
    <section id="widget-grid" data-widget-grid>
        <!-- row -->
        <div class="row">
            <!-- NEW WIDGET START -->
            <article class="col-xs-12 col-sm-12">
                <!-- Widget ID (each widget will need unique ID)-->
                <div class="well" id="widget-title-widget" data-jarvis-widget>
                    <!-- widget options:
                        usage: <div data-jarvis-widget id="wid-id-0" data-widget-editbutton="false">
                        data-widget-colorbutton="false"
                        data-widget-editbutton="false"
                        data-widget-togglebutton="false"
                        data-widget-deletebutton="false"
                        data-widget-fullscreenbutton="false"
                        data-widget-custombutton="false"
                        data-widget-collapsed="true"
                        data-widget-sortable="false"
                    -->
                    <header></header>
                    <!-- widget div-->
                    <div>
                        <!-- widget content -->
                        <div class="widget-body no-padding" data-sparkline-container>

                            <table st-delay="1000" st-pipe="callServer" st-table="displayed" class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th st-sort="Name">名称</th>
                                        <th st-sort="Category">类型</th>
                                        <th st-sort="Progress"><i class="fa fa-fw fa-clock-o text-muted hidden-md hidden-sm hidden-xs"></i> 进度</th>
                                        <th st-sort="Status">状态</th>
                                        <th st-sort="Owner"><i class="fa fa-fw fa-user text-muted hidden-md hidden-sm hidden-xs"></i>负责人</th>
                                        <th st-sort="StartTime">
                                            <i class="fa fa-fw fa-calendar text-muted hidden-md hidden-sm hidden-xs"></i>
                                            开始时间
                                        </th>
                                        <th st-sort="EndTime">
                                            <i class="fa fa-fw fa-calendar text-muted hidden-md hidden-sm hidden-xs"></i>
                                            结束时间
                                        </th>
                                        <th>关注</th>
                                    </tr>
                                    <tr>
                                        <th><input st-search="Name" /></th>
					<th><input st-search="Category" /></th>
                                        <th><input st-search="Progress" /></th>
                                        <th><input st-search="Status" /></th>
                                        <th><input st-search="Owner" /></th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody ng-show="!isLoading">
                                    <tr ng-repeat="row in displayed">
                                        <td><a ui-sref='.modalform({schema: dbschema, class: taskclass, oid: row.obj_id, template: template})'><strong>{{row.Name}}</strong></a></td>
					<td>{{row.Category}}</td>
                                        <td><div class='progress progress-xs' data-progressbar-value='{{row.Progress}}'><div class='progress-bar'></div></div></td>
                                        <td><span ng-class="row.Progress != 100 ? 'label label-success': 'label label-default'">{{row.Status}}</span></td>
                                        <td><a ui-sref='app.tasktrack.taskmessages'><strong>{{row.Owner}}</strong></a></td>
                                        <td>{{row.StartTime | date : 'shortDate'}}</td>
                                        <td>{{row.EndTime | date : 'shortDate'}}</td>
                                        <td><span class='onoffswitch'><input type='checkbox' name='trackswitch' ng-change="switchTrackStatus(row)" class='onoffswitch-checkbox' id='{{row.ID}}' ng-model="row.TrackStatus"><label class='onoffswitch-label' for='{{row.ID}}'><span class='onoffswitch-inner' data-swchon-text='ON' data-swchoff-text='OFF'></span><span class='onoffswitch-switch'></span></label></span></td>
                                    </tr>
                                </tbody>
                                <tbody ng-show="isLoading">
                                    <tr>
                                        <td colspan="8" class="text-center">Loading ... </td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td class="text-center" st-pagination="" st-items-by-page="10" colspan="8"></td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                        <!-- end widget content -->
                    </div>
                    <!-- end widget div -->
                </div>
                <!-- end widget -->
                <a class="btn btn-info"  ui-sref=".modalform({schema: dbschema, class: taskclass, oid: null, template: template})"><i class="fa fa-pencil"></i> {{getWord("Add Issue")}}</a>
            </article>
            <!-- WIDGET END -->
        </div>
        <!-- end row -->
    </section>
    <!-- end widget grid -->
</div>
